!function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=22)}([function(n,t,e){"use strict";function r(n,t,e){return n.fields=t||[],n.fname=e,n}function i(n){return null==n?null:n.fname}function l(n){return null==n?null:n.fields}function u(n){return 1===n.length?a(n[0]):o(n)}e.d(t,"a",(function(){return k})),e.d(t,"b",(function(){return b})),e.d(t,"c",(function(){return _})),e.d(t,"d",(function(){return y})),e.d(t,"e",(function(){return x})),e.d(t,"f",(function(){return r})),e.d(t,"g",(function(){return l})),e.d(t,"h",(function(){return i})),e.d(t,"i",(function(){return X})),e.d(t,"j",(function(){return nn})),e.d(t,"k",(function(){return K})),e.d(t,"l",(function(){return Q})),e.d(t,"m",(function(){return ln})),e.d(t,"n",(function(){return un})),e.d(t,"o",(function(){return s})),e.d(t,"p",(function(){return an})),e.d(t,"q",(function(){return on})),e.d(t,"r",(function(){return sn})),e.d(t,"s",(function(){return v})),e.d(t,"t",(function(){return dn})),e.d(t,"u",(function(){return f})),e.d(t,"v",(function(){return pn})),e.d(t,"w",(function(){return fn})),e.d(t,"x",(function(){return h})),e.d(t,"y",(function(){return d})),e.d(t,"z",(function(){return gn})),e.d(t,"A",(function(){return mn})),e.d(t,"B",(function(){return O})),e.d(t,"C",(function(){return vn})),e.d(t,"D",(function(){return wn})),e.d(t,"E",(function(){return Z})),e.d(t,"F",(function(){return yn})),e.d(t,"G",(function(){return bn})),e.d(t,"H",(function(){return A})),e.d(t,"I",(function(){return xn})),e.d(t,"J",(function(){return _n})),e.d(t,"K",(function(){return kn})),e.d(t,"L",(function(){return jn})),e.d(t,"M",(function(){return j})),e.d(t,"N",(function(){return On})),e.d(t,"O",(function(){return An})),e.d(t,"P",(function(){return S})),e.d(t,"Q",(function(){return g})),e.d(t,"R",(function(){return Sn})),e.d(t,"S",(function(){return R})),e.d(t,"T",(function(){return I})),e.d(t,"U",(function(){return L})),e.d(t,"V",(function(){return U})),e.d(t,"W",(function(){return M})),e.d(t,"X",(function(){return V})),e.d(t,"Y",(function(){return En})),e.d(t,"Z",(function(){return Cn})),e.d(t,"ab",(function(){return c})),e.d(t,"bb",(function(){return Dn})),e.d(t,"cb",(function(){return Mn})),e.d(t,"db",(function(){return Tn})),e.d(t,"eb",(function(){return F})),e.d(t,"fb",(function(){return Bn})),e.d(t,"gb",(function(){return Nn})),e.d(t,"hb",(function(){return zn})),e.d(t,"ib",(function(){return m})),e.d(t,"jb",(function(){return J})),e.d(t,"kb",(function(){return Pn})),e.d(t,"lb",(function(){return C})),e.d(t,"mb",(function(){return p})),e.d(t,"nb",(function(){return H})),e.d(t,"ob",(function(){return W})),e.d(t,"pb",(function(){return G})),e.d(t,"qb",(function(){return Y}));const a=n=>function(t){return t[n]},o=n=>{const t=n.length;return function(e){for(let r=0;r<t;++r)e=e[n[r]];return e}};function s(n){throw Error(n)}function c(n){const t=[],e=n.length;let r,i,l,u=null,a=0,o="";function c(){t.push(o+n.substring(r,i)),o="",r=i+1}for(n+="",r=i=0;i<e;++i)if(l=n[i],"\\"===l)o+=n.substring(r,i),o+=n.substring(++i,++i),r=i;else if(l===u)c(),u=null,a=-1;else{if(u)continue;r===a&&'"'===l||r===a&&"'"===l?(r=i+1,u=l):"."!==l||a?"["===l?(i>r&&c(),a=r=i+1):"]"===l&&(a||s("Access path missing open bracket: "+n),a>0&&c(),a=0,r=i+1):i>r?c():r=i+1}return a&&s("Access path missing closing bracket: "+n),u&&s("Access path missing closing quote: "+n),i>r&&(i++,c()),t}function f(n,t,e){const i=c(n);return n=1===i.length?i[0]:n,r((e&&e.get||u)(i),[n],t||n)}const h=f("id"),d=r(n=>n,[],"identity"),p=r(()=>0,[],"zero"),g=r(()=>1,[],"one"),m=r(()=>!0,[],"true"),v=r(()=>!1,[],"false");function w(n,t,e){const r=[t].concat([].slice.call(e));console[n].apply(console,r)}const y=0,b=1,x=2,_=3,k=4;function j(n,t){let e=n||y;return{level(n){return arguments.length?(e=+n,this):e},error(){return e>=b&&w(t||"error","ERROR",arguments),this},warn(){return e>=x&&w(t||"warn","WARN",arguments),this},info(){return e>=_&&w(t||"log","INFO",arguments),this},debug(){return e>=k&&w(t||"log","DEBUG",arguments),this}}}var O=Array.isArray;function A(n){return n===Object(n)}const E=n=>"__proto__"!==n;function S(...n){return n.reduce((n,t)=>{for(const e in t)if("signals"===e)n.signals=D(n.signals,t.signals);else{const r="legend"===e?{layout:1}:"style"===e||null;C(n,e,t[e],r)}return n},{})}function C(n,t,e,r){if(!E(t))return;let i,l;if(A(e)&&!O(e))for(i in l=A(n[t])?n[t]:n[t]={},e)r&&(!0===r||r[i])?C(l,i,e[i]):E(i)&&(l[i]=e[i]);else n[t]=e}function D(n,t){if(null==n)return t;const e={},r=[];function i(n){e[n.name]||(e[n.name]=1,r.push(n))}return t.forEach(i),n.forEach(i),r}function M(n){return n[n.length-1]}function F(n){return null==n||""===n?null:+n}const T=n=>t=>n*Math.exp(t),N=n=>t=>Math.log(n*t),B=n=>t=>Math.sign(t)*Math.log1p(Math.abs(t/n)),z=n=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*n,P=n=>t=>t<0?-Math.pow(-t,n):Math.pow(t,n);function $(n,t,e,r){const i=e(n[0]),l=e(M(n)),u=(l-i)*t;return[r(i-u),r(l-u)]}function R(n,t){return $(n,t,F,d)}function I(n,t){var e=Math.sign(n[0]);return $(n,t,N(e),T(e))}function L(n,t,e){return $(n,t,P(e),P(1/e))}function U(n,t,e){return $(n,t,B(e),z(e))}function q(n,t,e,r,i){const l=r(n[0]),u=r(M(n)),a=null!=t?r(t):(l+u)/2;return[i(a+(l-a)*e),i(a+(u-a)*e)]}function H(n,t,e){return q(n,t,e,F,d)}function W(n,t,e){const r=Math.sign(n[0]);return q(n,t,e,N(r),T(r))}function G(n,t,e,r){return q(n,t,e,P(r),P(1/r))}function Y(n,t,e,r){return q(n,t,e,B(r),z(r))}function V(n){return 1+~~(new Date(n).getMonth()/3)}function J(n){return 1+~~(new Date(n).getUTCMonth()/3)}function X(n){return null!=n?O(n)?n:[n]:[]}function K(n,t,e){let r,i=n[0],l=n[1];return l<i&&(r=l,l=i,i=r),r=l-i,r>=e-t?[t,e]:[i=Math.min(Math.max(i,t),e-r),i+r]}function Z(n){return"function"==typeof n}function Q(n,t,e){e=e||{},t=X(t)||[];const i=[],u=[],a={},o=e.comparator||tn;return X(n).forEach((n,r)=>{null!=n&&(i.push("descending"===t[r]?-1:1),u.push(n=Z(n)?n:f(n,null,e)),(l(n)||[]).forEach(n=>a[n]=1))}),0===u.length?null:r(o(u,i),Object.keys(a))}const nn=(n,t)=>(n<t||null==n)&&null!=t?-1:(n>t||null==t)&&null!=n?1:(t=t instanceof Date?+t:t,(n=n instanceof Date?+n:n)!==n&&t==t?-1:t!=t&&n==n?1:0),tn=(n,t)=>1===n.length?en(n[0],t[0]):rn(n,t,n.length),en=(n,t)=>function(e,r){return nn(n(e),n(r))*t},rn=(n,t,e)=>(t.push(0),function(r,i){let l,u=0,a=-1;for(;0===u&&++a<e;)l=n[a],u=nn(l(r),l(i));return u*t[a]});function ln(n){return Z(n)?n:()=>n}function un(n,t){let e;return r=>{e&&clearTimeout(e),e=setTimeout(()=>(t(r),e=null),n)}}function an(n){for(let t,e,r=1,i=arguments.length;r<i;++r)for(e in t=arguments[r],t)n[e]=t[e];return n}function on(n,t){let e,r,i,l,u=0;if(n&&(e=n.length))if(null==t){for(r=n[u];u<e&&(null==r||r!=r);r=n[++u]);for(i=l=r;u<e;++u)r=n[u],null!=r&&(r<i&&(i=r),r>l&&(l=r))}else{for(r=t(n[u]);u<e&&(null==r||r!=r);r=t(n[++u]));for(i=l=r;u<e;++u)r=t(n[u]),null!=r&&(r<i&&(i=r),r>l&&(l=r))}return[i,l]}function sn(n,t){const e=n.length;let r,i,l,u,a,o=-1;if(null==t){for(;++o<e;)if(i=n[o],null!=i&&i>=i){r=l=i;break}if(o===e)return[-1,-1];for(u=a=o;++o<e;)i=n[o],null!=i&&(r>i&&(r=i,u=o),l<i&&(l=i,a=o))}else{for(;++o<e;)if(i=t(n[o],o,n),null!=i&&i>=i){r=l=i;break}if(o===e)return[-1,-1];for(u=a=o;++o<e;)i=t(n[o],o,n),null!=i&&(r>i&&(r=i,u=o),l<i&&(l=i,a=o))}return[u,a]}const cn=Object.prototype.hasOwnProperty;function fn(n,t){return cn.call(n,t)}const hn={};function dn(n){let t,e={};function r(n){return fn(e,n)&&e[n]!==hn}const i={size:0,empty:0,object:e,has:r,get:n=>r(n)?e[n]:void 0,set(n,t){return r(n)||(++i.size,e[n]===hn&&--i.empty),e[n]=t,this},delete(n){return r(n)&&(--i.size,++i.empty,e[n]=hn),this},clear(){i.size=i.empty=0,i.object=e={}},test(n){return arguments.length?(t=n,i):t},clean(){const n={};let r=0;for(const i in e){const l=e[i];l===hn||t&&t(l)||(n[i]=l,++r)}i.size=r,i.empty=0,i.object=e=n}};return n&&Object.keys(n).forEach(t=>{i.set(t,n[t])}),i}function pn(n,t,e,r,i,l){if(!e&&0!==e)return l;const u=+e;let a,o=n[0],s=M(n);s<o&&(a=o,o=s,s=a),a=Math.abs(t-o);const c=Math.abs(s-t);return a<c&&a<=u?r:c<=u?i:l}function gn(n,t,e){const r=n.prototype=Object.create(t.prototype);return r.constructor=n,an(r,e)}function mn(n,t,e,r){let i,l=t[0],u=t[t.length-1];return l>u&&(i=l,l=u,u=i),r=void 0===r||r,((e=void 0===e||e)?l<=n:l<n)&&(r?n<=u:n<u)}function vn(n){return"boolean"==typeof n}function wn(n){return"[object Date]"===Object.prototype.toString.call(n)}function yn(n){return n&&Z(n[Symbol.iterator])}function bn(n){return"number"==typeof n}function xn(n){return"[object RegExp]"===Object.prototype.toString.call(n)}function _n(n){return"string"==typeof n}function kn(n,t,e){n&&(n=t?X(n).map(n=>n.replace(/\\(.)/g,"$1")):X(n));const i=n&&n.length,l=e&&e.get||u,a=n=>l(t?[n]:c(n));let o;if(i)if(1===i){const t=a(n[0]);o=function(n){return""+t(n)}}else{const t=n.map(a);o=function(n){let e=""+t[0](n),r=0;for(;++r<i;)e+="|"+t[r](n);return e}}else o=function(){return""};return r(o,n,"key")}function jn(n,t){const e=n[0],r=M(n),i=+t;return i?1===i?r:e+i*(r-e):e}function On(n){let t,e,r;n=+n||1e4;const i=()=>{t={},e={},r=0},l=(i,l)=>(++r>n&&(e=t,t={},r=1),t[i]=l);return i(),{clear:i,has:n=>fn(t,n)||fn(e,n),get:n=>fn(t,n)?t[n]:fn(e,n)?l(n,e[n]):void 0,set:(n,e)=>fn(t,n)?t[n]=e:l(n,e)}}function An(n,t,e,r){const i=t.length,l=e.length;if(!l)return t;if(!i)return e;const u=r||new t.constructor(i+l);let a=0,o=0,s=0;for(;a<i&&o<l;++s)u[s]=n(t[a],e[o])>0?e[o++]:t[a++];for(;a<i;++a,++s)u[s]=t[a];for(;o<l;++o,++s)u[s]=e[o];return u}function En(n,t){let e="";for(;--t>=0;)e+=n;return e}function Sn(n,t,e,r){const i=e||" ",l=n+"",u=t-l.length;return u<=0?l:"left"===r?En(i,u)+l:"center"===r?En(i,~~(u/2))+l+En(i,Math.ceil(u/2)):l+En(i,u)}function Cn(n){return n&&M(n)-n[0]||0}function Dn(n){return O(n)?"["+n.map(Dn)+"]":A(n)||_n(n)?JSON.stringify(n).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):n}function Mn(n){return null==n||""===n?null:!(!n||"false"===n||"0"===n)&&!!n}const Fn=n=>bn(n)||wn(n)?n:Date.parse(n);function Tn(n,t){return t=t||Fn,null==n||""===n?null:t(n)}function Nn(n){return null==n||""===n?null:n+""}function Bn(n){const t={},e=n.length;for(let r=0;r<e;++r)t[n[r]]=!0;return t}function zn(n,t,e,r){const i=null!=r?r:"…",l=n+"",u=l.length,a=Math.max(0,t-i.length);return u<=t?l:"left"===e?i+l.slice(u-a):"center"===e?l.slice(0,Math.ceil(a/2))+i+l.slice(u-~~(a/2)):l.slice(0,a)+i}function Pn(n,t,e){if(n)if(t){const r=n.length;for(let i=0;i<r;++i){const r=t(n[i]);r&&e(r,i,n)}}else n.forEach(e)}},,function(n,t,e){"use strict";e.d(t,"a",(function(){return l})),e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return cn})),e.d(t,"d",(function(){return on})),e.d(t,"e",(function(){return sn})),e.d(t,"f",(function(){return an}));var r=e(0);const i="Literal",l="CallExpression";function u(n){this.type=n}var a,o,s,c,f;u.prototype.visit=function(n){let t,e,r;if(n(this))return 1;for(t=function(n){switch(n.type){case"ArrayExpression":return n.elements;case"BinaryExpression":case"LogicalExpression":return[n.left,n.right];case l:return[n.callee].concat(n.arguments);case"ConditionalExpression":return[n.test,n.consequent,n.alternate];case"MemberExpression":return[n.object,n.property];case"ObjectExpression":return n.properties;case"Property":return[n.key,n.value];case"UnaryExpression":return[n.argument];case"Identifier":case i:case"RawCode":default:return[]}}(this),e=0,r=t.length;e<r;++e)if(t[e].visit(n))return 1};(a={})[1]="Boolean",a[2]="<end>",a[3]="Identifier",a[4]="Keyword",a[5]="Null",a[6]="Numeric",a[7]="Punctuator",a[8]="String",a[9]="RegularExpression";var h="ILLEGAL",d=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),p=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function g(n,t){if(!n)throw new Error("ASSERT: "+t)}function m(n){return n>=48&&n<=57}function v(n){return"0123456789abcdefABCDEF".indexOf(n)>=0}function w(n){return"01234567".indexOf(n)>=0}function y(n){return 32===n||9===n||11===n||12===n||160===n||n>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)>=0}function b(n){return 10===n||13===n||8232===n||8233===n}function x(n){return 36===n||95===n||n>=65&&n<=90||n>=97&&n<=122||92===n||n>=128&&d.test(String.fromCharCode(n))}function _(n){return 36===n||95===n||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||92===n||n>=128&&p.test(String.fromCharCode(n))}const k={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function j(){for(;s<c;){const n=o.charCodeAt(s);if(!y(n)&&!b(n))break;++s}}function O(n){var t,e,r,i=0;for(e="u"===n?4:2,t=0;t<e;++t)s<c&&v(o[s])?(r=o[s++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):L({},"Unexpected token %0",h);return String.fromCharCode(i)}function A(){var n,t,e,r;for(t=0,"}"===(n=o[s])&&L({},"Unexpected token %0",h);s<c&&v(n=o[s++]);)t=16*t+"0123456789abcdef".indexOf(n.toLowerCase());return(t>1114111||"}"!==n)&&L({},"Unexpected token %0",h),t<=65535?String.fromCharCode(t):(e=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(e,r))}function E(){var n,t;for(n=o.charCodeAt(s++),t=String.fromCharCode(n),92===n&&(117!==o.charCodeAt(s)&&L({},"Unexpected token %0",h),++s,(n=O("u"))&&"\\"!==n&&x(n.charCodeAt(0))||L({},"Unexpected token %0",h),t=n);s<c&&_(n=o.charCodeAt(s));)++s,t+=String.fromCharCode(n),92===n&&(t=t.substr(0,t.length-1),117!==o.charCodeAt(s)&&L({},"Unexpected token %0",h),++s,(n=O("u"))&&"\\"!==n&&_(n.charCodeAt(0))||L({},"Unexpected token %0",h),t+=n);return t}function S(){var n,t;return n=s,{type:1===(t=92===o.charCodeAt(s)?E():function(){var n,t;for(n=s++;s<c;){if(92===(t=o.charCodeAt(s)))return s=n,E();if(!_(t))break;++s}return o.slice(n,s)}()).length?3:k.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:n,end:s}}function C(){var n,t,e,r,i=s,l=o.charCodeAt(s),u=o[s];switch(l){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++s,{type:7,value:String.fromCharCode(l),start:i,end:s};default:if(61===(n=o.charCodeAt(s+1)))switch(l){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return s+=2,{type:7,value:String.fromCharCode(l)+String.fromCharCode(n),start:i,end:s};case 33:case 61:return s+=2,61===o.charCodeAt(s)&&++s,{type:7,value:o.slice(i,s),start:i,end:s}}}return">>>="===(r=o.substr(s,4))?{type:7,value:r,start:i,end:s+=4}:">>>"===(e=r.substr(0,3))||"<<="===e||">>="===e?{type:7,value:e,start:i,end:s+=3}:u===(t=e.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===t?{type:7,value:t,start:i,end:s+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:i,end:++s}:void L({},"Unexpected token %0",h)}function D(){var n,t,e;if(g(m((e=o[s]).charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),t=s,n="","."!==e){if(n=o[s++],e=o[s],"0"===n){if("x"===e||"X"===e)return++s,function(n){let t="";for(;s<c&&v(o[s]);)t+=o[s++];return 0===t.length&&L({},"Unexpected token %0",h),x(o.charCodeAt(s))&&L({},"Unexpected token %0",h),{type:6,value:parseInt("0x"+t,16),start:n,end:s}}(t);if(w(e))return function(n){let t="0"+o[s++];for(;s<c&&w(o[s]);)t+=o[s++];return(x(o.charCodeAt(s))||m(o.charCodeAt(s)))&&L({},"Unexpected token %0",h),{type:6,value:parseInt(t,8),octal:!0,start:n,end:s}}(t);e&&m(e.charCodeAt(0))&&L({},"Unexpected token %0",h)}for(;m(o.charCodeAt(s));)n+=o[s++];e=o[s]}if("."===e){for(n+=o[s++];m(o.charCodeAt(s));)n+=o[s++];e=o[s]}if("e"===e||"E"===e)if(n+=o[s++],"+"!==(e=o[s])&&"-"!==e||(n+=o[s++]),m(o.charCodeAt(s)))for(;m(o.charCodeAt(s));)n+=o[s++];else L({},"Unexpected token %0",h);return x(o.charCodeAt(s))&&L({},"Unexpected token %0",h),{type:6,value:parseFloat(n),start:t,end:s}}function M(){var n,t,e,r;return f=null,j(),n=s,t=function(){var n,t,e,r;for(g("/"===(n=o[s]),"Regular expression literal must start with a slash"),t=o[s++],e=!1,r=!1;s<c;)if(t+=n=o[s++],"\\"===n)b((n=o[s++]).charCodeAt(0))&&L({},"Invalid regular expression: missing /"),t+=n;else if(b(n.charCodeAt(0)))L({},"Invalid regular expression: missing /");else if(e)"]"===n&&(e=!1);else{if("/"===n){r=!0;break}"["===n&&(e=!0)}return r||L({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),e=function(){var n,t,e;for(t="",e="";s<c&&_((n=o[s]).charCodeAt(0));)++s,"\\"===n&&s<c?L({},"Unexpected token %0",h):(e+=n,t+=n);return e.search(/[^gimuy]/g)>=0&&L({},"Invalid regular expression",e),{value:e,literal:t}}(),r=function(n,t){let e=n;t.indexOf("u")>=0&&(e=e.replace(/\\u\{([0-9a-fA-F]+)\}/g,(n,t)=>{if(parseInt(t,16)<=1114111)return"x";L({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(e)}catch(n){L({},"Invalid regular expression")}try{return new RegExp(n,t)}catch(n){return null}}(t.value,e.value),{literal:t.literal+e.literal,value:r,regex:{pattern:t.value,flags:e.value},start:n,end:s}}function F(){if(j(),s>=c)return{type:2,start:s,end:s};const n=o.charCodeAt(s);return x(n)?S():40===n||41===n||59===n?C():39===n||34===n?function(){var n,t,e,r,i="",l=!1;for(g("'"===(n=o[s])||'"'===n,"String literal must starts with a quote"),t=s,++s;s<c;){if((e=o[s++])===n){n="";break}if("\\"===e)if((e=o[s++])&&b(e.charCodeAt(0)))"\r"===e&&"\n"===o[s]&&++s;else switch(e){case"u":case"x":"{"===o[s]?(++s,i+=A()):i+=O(e);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:w(e)?(0!==(r="01234567".indexOf(e))&&(l=!0),s<c&&w(o[s])&&(l=!0,r=8*r+"01234567".indexOf(o[s++]),"0123".indexOf(e)>=0&&s<c&&w(o[s])&&(r=8*r+"01234567".indexOf(o[s++]))),i+=String.fromCharCode(r)):i+=e}else{if(b(e.charCodeAt(0)))break;i+=e}}return""!==n&&L({},"Unexpected token %0",h),{type:8,value:i,octal:l,start:t,end:s}}():46===n?m(o.charCodeAt(s+1))?D():C():m(n)?D():C()}function T(){const n=f;return s=n.end,f=F(),s=n.end,n}function N(){const n=s;f=F(),s=n}function B(n,t,e){const r=new u("||"===n||"&&"===n?"LogicalExpression":"BinaryExpression");return r.operator=n,r.left=t,r.right=e,r}function z(n,t){const e=new u("CallExpression");return e.callee=n,e.arguments=t,e}function P(n){const t=new u("Identifier");return t.name=n,t}function $(n){const t=new u("Literal");return t.value=n.value,t.raw=o.slice(n.start,n.end),n.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=n.regex),t}function R(n,t,e){const r=new u("MemberExpression");return r.computed="["===n,r.object=t,r.property=e,r.computed||(e.member=!0),r}function I(n,t,e){const r=new u("Property");return r.key=t,r.value=e,r.kind=n,r}function L(n,t){var e,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(n,t)=>(g(t<r.length,"Message reference must be in range"),r[t]));throw(e=new Error(i)).index=s,e.description=i,e}function U(n){2===n.type&&L(n,"Unexpected end of input"),6===n.type&&L(n,"Unexpected number"),8===n.type&&L(n,"Unexpected string"),3===n.type&&L(n,"Unexpected identifier"),4===n.type&&L(n,"Unexpected reserved word"),L(n,"Unexpected token %0",n.value)}function q(n){const t=T();7===t.type&&t.value===n||U(t)}function H(n){return 7===f.type&&f.value===n}function W(n){return 4===f.type&&f.value===n}function G(){const n=[];for(s=f.start,q("[");!H("]");)H(",")?(T(),n.push(null)):(n.push(ln()),H("]")||q(","));return T(),function(n){const t=new u("ArrayExpression");return t.elements=n,t}(n)}function Y(){s=f.start;const n=T();return 8===n.type||6===n.type?(n.octal&&L(n,"Octal literals are not allowed in strict mode."),$(n)):P(n.value)}function V(){var n,t,e;return s=f.start,3===(n=f).type?(e=Y(),q(":"),I("init",e,ln())):2!==n.type&&7!==n.type?(t=Y(),q(":"),I("init",t,ln())):void U(n)}function J(){var n,t,e=[],r={},i=String;for(s=f.start,q("{");!H("}");)t="$"+("Identifier"===(n=V()).key.type?n.key.name:i(n.key.value)),Object.prototype.hasOwnProperty.call(r,t)?L({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,e.push(n),H("}")||q(",");return q("}"),function(n){const t=new u("ObjectExpression");return t.properties=n,t}(e)}const X={if:1};function K(){var n,t,e;if(H("("))return function(){q("(");const n=un();return q(")"),n}();if(H("["))return G();if(H("{"))return J();if(n=f.type,s=f.start,3===n||X[f.value])e=P(T().value);else if(8===n||6===n)f.octal&&L(f,"Octal literals are not allowed in strict mode."),e=$(T());else{if(4===n)throw new Error("Disabled.");1===n?((t=T()).value="true"===t.value,e=$(t)):5===n?((t=T()).value=null,e=$(t)):H("/")||H("/=")?(e=$(M()),N()):U(T())}return e}function Z(){const n=[];if(q("("),!H(")"))for(;s<c&&(n.push(ln()),!H(")"));)q(",");return q(")"),n}function Q(){return q("."),function(){s=f.start;const n=T();return function(n){return 3===n.type||4===n.type||1===n.type||5===n.type}(n)||U(n),P(n.value)}()}function nn(){q("[");const n=un();return q("]"),n}function tn(){const n=function(){var n;for(n=K();;)if(H("."))n=R(".",n,Q());else if(H("("))n=z(n,Z());else{if(!H("["))break;n=R("[",n,nn())}return n}();if(7===f.type&&(H("++")||H("--")))throw new Error("Disabled.");return n}function en(){var n,t;if(7!==f.type&&4!==f.type)t=tn();else{if(H("++")||H("--"))throw new Error("Disabled.");if(H("+")||H("-")||H("~")||H("!"))n=T(),t=en(),t=function(n,t){const e=new u("UnaryExpression");return e.operator=n,e.argument=t,e.prefix=!0,e}(n.value,t);else{if(W("delete")||W("void")||W("typeof"))throw new Error("Disabled.");t=tn()}}return t}function rn(n){let t=0;if(7!==n.type&&4!==n.type)return 0;switch(n.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function ln(){var n,t;return n=function(){var n,t,e,r,i,l,u,a,o,s;if(n=f,o=en(),0===(i=rn(r=f)))return o;for(r.prec=i,T(),t=[n,f],l=[o,r,u=en()];(i=rn(f))>0;){for(;l.length>2&&i<=l[l.length-2].prec;)u=l.pop(),a=l.pop().value,o=l.pop(),t.pop(),e=B(a,o,u),l.push(e);(r=T()).prec=i,l.push(r),t.push(f),e=en(),l.push(e)}for(e=l[s=l.length-1],t.pop();s>1;)t.pop(),e=B(l[s-1].value,l[s-2],e),s-=2;return e}(),H("?")&&(T(),t=ln(),q(":"),n=function(n,t,e){const r=new u("ConditionalExpression");return r.test=n,r.consequent=t,r.alternate=e,r}(n,t,ln())),n}function un(){const n=ln();if(H(","))throw new Error("Disabled.");return n}function an(n){s=0,c=(o=n).length,f=null,N();const t=un();if(2!==f.type)throw new Error("Unexpect token after expression.");return t}var on={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function sn(n){function t(t,e,r){return i=>function(t,e,r,i){let l=n(e[0]);return r&&(l=r+"("+l+")",0===r.lastIndexOf("new ",0)&&(l="("+l+")")),l+"."+t+(i<0?"":0===i?"()":"("+e.slice(1).map(n).join(",")+")")}(t,i,e,r)}const e="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(r.o)("Missing arguments to clamp function."),t.length>3&&Object(r.o)("Too many arguments to clamp function.");const e=t.map(n);return"Math.max("+e[1]+", Math.min("+e[2]+","+e[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:e,date:t("getDate",e,0),day:t("getDay",e,0),year:t("getFullYear",e,0),month:t("getMonth",e,0),hours:t("getHours",e,0),minutes:t("getMinutes",e,0),seconds:t("getSeconds",e,0),milliseconds:t("getMilliseconds",e,0),time:t("getTime",e,0),timezoneoffset:t("getTimezoneOffset",e,0),utcdate:t("getUTCDate",e,0),utcday:t("getUTCDay",e,0),utcyear:t("getUTCFullYear",e,0),utcmonth:t("getUTCMonth",e,0),utchours:t("getUTCHours",e,0),utcminutes:t("getUTCMinutes",e,0),utcseconds:t("getUTCSeconds",e,0),utcmilliseconds:t("getUTCMilliseconds",e,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+n(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(r.o)("Missing arguments to if function."),t.length>3&&Object(r.o)("Too many arguments to if function.");const e=t.map(n);return"("+e[0]+"?"+e[1]+":"+e[2]+")"}}}function cn(n){const t=(n=n||{}).allowed?Object(r.fb)(n.allowed):{},e=n.forbidden?Object(r.fb)(n.forbidden):{},i=n.constants||on,l=(n.functions||sn)(h),u=n.globalvar,a=n.fieldvar,o=Object(r.E)(u)?u:n=>"".concat(u,'["').concat(n,'"]');let s={},c={},f=0;function h(n){if(Object(r.J)(n))return n;const t=d[n.type];return null==t&&Object(r.o)("Unsupported type: "+n.type),t(n)}const d={Literal:n=>n.raw,Identifier:n=>{const l=n.name;return f>0?l:Object(r.w)(e,l)?Object(r.o)("Illegal identifier: "+l):Object(r.w)(i,l)?i[l]:Object(r.w)(t,l)?l:(s[l]=1,o(l))},MemberExpression:n=>{const t=!n.computed,e=h(n.object);t&&(f+=1);const r=h(n.property);return e===a&&(c[function(n){const t=n&&n.length-1;return t&&('"'===n[0]&&'"'===n[t]||"'"===n[0]&&"'"===n[t])?n.slice(1,-1):n}(r)]=1),t&&(f-=1),e+(t?"."+r:"["+r+"]")},CallExpression:n=>{"Identifier"!==n.callee.type&&Object(r.o)("Illegal callee type: "+n.callee.type);const t=n.callee.name,e=n.arguments,i=Object(r.w)(l,t)&&l[t];return i||Object(r.o)("Unrecognized function: "+t),Object(r.E)(i)?i(e):i+"("+e.map(h).join(",")+")"},ArrayExpression:n=>"["+n.elements.map(h).join(",")+"]",BinaryExpression:n=>"("+h(n.left)+n.operator+h(n.right)+")",UnaryExpression:n=>"("+n.operator+h(n.argument)+")",ConditionalExpression:n=>"("+h(n.test)+"?"+h(n.consequent)+":"+h(n.alternate)+")",LogicalExpression:n=>"("+h(n.left)+n.operator+h(n.right)+")",ObjectExpression:n=>"{"+n.properties.map(h).join(",")+"}",Property:n=>{f+=1;const t=h(n.key);return f-=1,t+":"+h(n.value)}};function p(n){const t={code:h(n),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return p.functions=l,p.constants=i,p}},function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));const r=/[[\]{}]/,i={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let l,u;function a(n,t,e){return l=t||"view",u=e||i,s(n.trim()).map(c)}function o(n,t,e,r,i){const l=n.length;let u,a=0;for(;t<l;++t){if(u=n[t],!a&&u===e)return t;i&&i.indexOf(u)>=0?--a:r&&r.indexOf(u)>=0&&++a}return t}function s(n){const t=[],e=n.length;let r=0,i=0;for(;i<e;)i=o(n,i,",","[{","]}"),t.push(n.substring(r,i).trim()),r=++i;if(0===t.length)throw"Empty event selector: "+n;return t}function c(n){return"["===n[0]?function(n){const t=n.length;let e,r=1;if(r=o(n,r,"]","[","]"),r===t)throw"Empty between selector: "+n;if(e=s(n.substring(1,r)),2!==e.length)throw"Between selector must have two elements: "+n;if(">"!==(n=n.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+n;e=e.map(c);const i=c(n.slice(1).trim());if(i.between)return{between:e,stream:i};i.between=e;return i}(n):function(n){const t={source:l},e=[];let i,a,s=[0,0],c=0,f=0,h=n.length,d=0;if("}"===n[h-1]){if(d=n.lastIndexOf("{"),!(d>=0))throw"Unmatched right brace: "+n;try{s=function(n){const t=n.split(",");if(!n.length||t.length>2)throw n;return t.map(t=>{const e=+t;if(e!=e)throw n;return e})}(n.substring(d+1,h-1))}catch(t){throw"Invalid throttle specification: "+n}n=n.slice(0,d).trim(),h=n.length,d=0}if(!h)throw n;"@"===n[0]&&(c=++d);i=o(n,d,":"),i<h&&(e.push(n.substring(f,i).trim()),f=d=++i);if(d=o(n,d,"["),d===h)e.push(n.substring(f,h).trim());else if(e.push(n.substring(f,d).trim()),a=[],f=++d,f===h)throw"Unmatched left bracket: "+n;for(;d<h;){if(d=o(n,d,"]"),d===h)throw"Unmatched left bracket: "+n;if(a.push(n.substring(f,d).trim()),d<h-1&&"["!==n[++d])throw"Expected left bracket: "+n;f=++d}if(!(h=e.length)||r.test(e[h-1]))throw"Invalid event selector: "+n;h>1?(t.type=e[1],c?t.markname=e[0].slice(1):(p=e[0],u[p]?t.marktype=e[0]:t.source=e[0])):t.type=e[0];var p;"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1));null!=a&&(t.filter=a);s[0]&&(t.throttle=s[0]);s[1]&&(t.debounce=s[1]);return t}(n)}},,function(n,t,e){"use strict";n.exports=function(n,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var e,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(e=t.cmp,function(n){return function(t,r){var i={key:t,value:n[t]},l={key:r,value:n[r]};return e(i,l)}}),l=[];return function n(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var e,u;if(Array.isArray(t)){for(u="[",e=0;e<t.length;e++)e&&(u+=","),u+=n(t[e])||"null";return u+"]"}if(null===t)return"null";if(-1!==l.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=l.push(t)-1,o=Object.keys(t).sort(i&&i(t));for(u="",e=0;e<o.length;e++){var s=o[e],c=n(t[s]);c&&(u&&(u+=","),u+=JSON.stringify(s)+":"+c)}return l.splice(a,1),"{"+u+"}"}}(n)}},,function(n,t,e){"use strict";n.exports=e(27)},function(n,t,e){"use strict";(function(n){e.d(t,"a",(function(){return i}));var r=e(0);function i(t,e){const i=e&&e.property?Object(r.u)(e.property):r.y;return!Object(r.H)(t)||(l=t,"function"==typeof n&&Object(r.E)(n.isBuffer)&&n.isBuffer(l))?i(JSON.parse(t)):function(n,t){!Object(r.B)(n)&&Object(r.F)(n)&&(n=[...n]);return t&&t.copy?JSON.parse(JSON.stringify(n)):n}(i(t),e);var l}i.responseType="json"}).call(this,e(11).Buffer)},,,function(n,t,e){"use strict";(function(n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=e(24),i=e(25),l=e(26);function u(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(n,t){if(u()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=o.prototype:(null===n&&(n=new o(t)),n.length=t),n}function o(n,t,e){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(n,t,e);if("number"==typeof n){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,n)}return s(this,n,t,e)}function s(n,t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(n,t,e,r){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);o.TYPED_ARRAY_SUPPORT?(n=t).__proto__=o.prototype:n=h(n,t);return n}(n,t,e,r):"string"==typeof t?function(n,t,e){"string"==typeof e&&""!==e||(e="utf8");if(!o.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,e),i=(n=a(n,r)).write(t,e);i!==r&&(n=n.slice(0,i));return n}(n,t,e):function(n,t){if(o.isBuffer(t)){var e=0|d(t.length);return 0===(n=a(n,e)).length||t.copy(n,0,0,e),n}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(n,0):h(n,t);if("Buffer"===t.type&&l(t.data))return h(n,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(n,t)}function c(n){if("number"!=typeof n)throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function f(n,t){if(c(t),n=a(n,t<0?0:0|d(t)),!o.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)n[e]=0;return n}function h(n,t){var e=t.length<0?0:0|d(t.length);n=a(n,e);for(var r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(n){if(n>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|n}function p(n,t){if(o.isBuffer(n))return n.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;"string"!=typeof n&&(n=""+n);var e=n.length;if(0===e)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return I(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return L(n).length;default:if(r)return I(n).length;t=(""+t).toLowerCase(),r=!0}}function g(n,t,e){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(t>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return C(this,t,e);case"utf8":case"utf-8":return A(this,t,e);case"ascii":return E(this,t,e);case"latin1":case"binary":return S(this,t,e);case"base64":return O(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,e);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}function m(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}function v(n,t,e,r,i){if(0===n.length)return-1;if("string"==typeof e?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:n.length-1),e<0&&(e=n.length+e),e>=n.length){if(i)return-1;e=n.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:w(n,t,e,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(n,t,e):Uint8Array.prototype.lastIndexOf.call(n,t,e):w(n,[t],e,r,i);throw new TypeError("val must be string, number or Buffer")}function w(n,t,e,r,i){var l,u=1,a=n.length,o=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(n.length<2||t.length<2)return-1;u=2,a/=2,o/=2,e/=2}function s(n,t){return 1===u?n[t]:n.readUInt16BE(t*u)}if(i){var c=-1;for(l=e;l<a;l++)if(s(n,l)===s(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===o)return c*u}else-1!==c&&(l-=l-c),c=-1}else for(e+o>a&&(e=a-o),l=e;l>=0;l--){for(var f=!0,h=0;h<o;h++)if(s(n,l+h)!==s(t,h)){f=!1;break}if(f)return l}return-1}function y(n,t,e,r){e=Number(e)||0;var i=n.length-e;r?(r=Number(r))>i&&(r=i):r=i;var l=t.length;if(l%2!=0)throw new TypeError("Invalid hex string");r>l/2&&(r=l/2);for(var u=0;u<r;++u){var a=parseInt(t.substr(2*u,2),16);if(isNaN(a))return u;n[e+u]=a}return u}function b(n,t,e,r){return U(I(t,n.length-e),n,e,r)}function x(n,t,e,r){return U(function(n){for(var t=[],e=0;e<n.length;++e)t.push(255&n.charCodeAt(e));return t}(t),n,e,r)}function _(n,t,e,r){return x(n,t,e,r)}function k(n,t,e,r){return U(L(t),n,e,r)}function j(n,t,e,r){return U(function(n,t){for(var e,r,i,l=[],u=0;u<n.length&&!((t-=2)<0);++u)e=n.charCodeAt(u),r=e>>8,i=e%256,l.push(i),l.push(r);return l}(t,n.length-e),n,e,r)}function O(n,t,e){return 0===t&&e===n.length?r.fromByteArray(n):r.fromByteArray(n.slice(t,e))}function A(n,t,e){e=Math.min(n.length,e);for(var r=[],i=t;i<e;){var l,u,a,o,s=n[i],c=null,f=s>239?4:s>223?3:s>191?2:1;if(i+f<=e)switch(f){case 1:s<128&&(c=s);break;case 2:128==(192&(l=n[i+1]))&&(o=(31&s)<<6|63&l)>127&&(c=o);break;case 3:l=n[i+1],u=n[i+2],128==(192&l)&&128==(192&u)&&(o=(15&s)<<12|(63&l)<<6|63&u)>2047&&(o<55296||o>57343)&&(c=o);break;case 4:l=n[i+1],u=n[i+2],a=n[i+3],128==(192&l)&&128==(192&u)&&128==(192&a)&&(o=(15&s)<<18|(63&l)<<12|(63&u)<<6|63&a)>65535&&o<1114112&&(c=o)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(n){var t=n.length;if(t<=4096)return String.fromCharCode.apply(String,n);var e="",r=0;for(;r<t;)e+=String.fromCharCode.apply(String,n.slice(r,r+=4096));return e}(r)}t.Buffer=o,t.SlowBuffer=function(n){+n!=n&&(n=0);return o.alloc(+n)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:function(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===n.foo()&&"function"==typeof n.subarray&&0===n.subarray(1,1).byteLength}catch(n){return!1}}(),t.kMaxLength=u(),o.poolSize=8192,o._augment=function(n){return n.__proto__=o.prototype,n},o.from=function(n,t,e){return s(null,n,t,e)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(n,t,e){return function(n,t,e,r){return c(t),t<=0?a(n,t):void 0!==e?"string"==typeof r?a(n,t).fill(e,r):a(n,t).fill(e):a(n,t)}(null,n,t,e)},o.allocUnsafe=function(n){return f(null,n)},o.allocUnsafeSlow=function(n){return f(null,n)},o.isBuffer=function(n){return!(null==n||!n._isBuffer)},o.compare=function(n,t){if(!o.isBuffer(n)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(n===t)return 0;for(var e=n.length,r=t.length,i=0,l=Math.min(e,r);i<l;++i)if(n[i]!==t[i]){e=n[i],r=t[i];break}return e<r?-1:r<e?1:0},o.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(n,t){if(!l(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return o.alloc(0);var e;if(void 0===t)for(t=0,e=0;e<n.length;++e)t+=n[e].length;var r=o.allocUnsafe(t),i=0;for(e=0;e<n.length;++e){var u=n[e];if(!o.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,i),i+=u.length}return r},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<n;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<n;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<n;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var n=0|this.length;return 0===n?"":0===arguments.length?A(this,0,n):g.apply(this,arguments)},o.prototype.equals=function(n){if(!o.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===o.compare(this,n)},o.prototype.inspect=function(){var n="",e=t.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(n+=" ... ")),"<Buffer "+n+">"},o.prototype.compare=function(n,t,e,r,i){if(!o.isBuffer(n))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===e&&(e=n?n.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||e>n.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=e)return 0;if(r>=i)return-1;if(t>=e)return 1;if(this===n)return 0;for(var l=(i>>>=0)-(r>>>=0),u=(e>>>=0)-(t>>>=0),a=Math.min(l,u),s=this.slice(r,i),c=n.slice(t,e),f=0;f<a;++f)if(s[f]!==c[f]){l=s[f],u=c[f];break}return l<u?-1:u<l?1:0},o.prototype.includes=function(n,t,e){return-1!==this.indexOf(n,t,e)},o.prototype.indexOf=function(n,t,e){return v(this,n,t,e,!0)},o.prototype.lastIndexOf=function(n,t,e){return v(this,n,t,e,!1)},o.prototype.write=function(n,t,e,r){if(void 0===t)r="utf8",e=this.length,t=0;else if(void 0===e&&"string"==typeof t)r=t,e=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(e)?(e|=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var i=this.length-t;if((void 0===e||e>i)&&(e=i),n.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var l=!1;;)switch(r){case"hex":return y(this,n,t,e);case"utf8":case"utf-8":return b(this,n,t,e);case"ascii":return x(this,n,t,e);case"latin1":case"binary":return _(this,n,t,e);case"base64":return k(this,n,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,n,t,e);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(n,t,e){var r="";e=Math.min(n.length,e);for(var i=t;i<e;++i)r+=String.fromCharCode(127&n[i]);return r}function S(n,t,e){var r="";e=Math.min(n.length,e);for(var i=t;i<e;++i)r+=String.fromCharCode(n[i]);return r}function C(n,t,e){var r=n.length;(!t||t<0)&&(t=0),(!e||e<0||e>r)&&(e=r);for(var i="",l=t;l<e;++l)i+=R(n[l]);return i}function D(n,t,e){for(var r=n.slice(t,e),i="",l=0;l<r.length;l+=2)i+=String.fromCharCode(r[l]+256*r[l+1]);return i}function M(n,t,e){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>e)throw new RangeError("Trying to access beyond buffer length")}function F(n,t,e,r,i,l){if(!o.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<l)throw new RangeError('"value" argument is out of bounds');if(e+r>n.length)throw new RangeError("Index out of range")}function T(n,t,e,r){t<0&&(t=65535+t+1);for(var i=0,l=Math.min(n.length-e,2);i<l;++i)n[e+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(n,t,e,r){t<0&&(t=4294967295+t+1);for(var i=0,l=Math.min(n.length-e,4);i<l;++i)n[e+i]=t>>>8*(r?i:3-i)&255}function B(n,t,e,r,i,l){if(e+r>n.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function z(n,t,e,r,l){return l||B(n,0,e,4),i.write(n,t,e,r,23,4),e+4}function P(n,t,e,r,l){return l||B(n,0,e,8),i.write(n,t,e,r,52,8),e+8}o.prototype.slice=function(n,t){var e,r=this.length;if((n=~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<n&&(t=n),o.TYPED_ARRAY_SUPPORT)(e=this.subarray(n,t)).__proto__=o.prototype;else{var i=t-n;e=new o(i,void 0);for(var l=0;l<i;++l)e[l]=this[l+n]}return e},o.prototype.readUIntLE=function(n,t,e){n|=0,t|=0,e||M(n,t,this.length);for(var r=this[n],i=1,l=0;++l<t&&(i*=256);)r+=this[n+l]*i;return r},o.prototype.readUIntBE=function(n,t,e){n|=0,t|=0,e||M(n,t,this.length);for(var r=this[n+--t],i=1;t>0&&(i*=256);)r+=this[n+--t]*i;return r},o.prototype.readUInt8=function(n,t){return t||M(n,1,this.length),this[n]},o.prototype.readUInt16LE=function(n,t){return t||M(n,2,this.length),this[n]|this[n+1]<<8},o.prototype.readUInt16BE=function(n,t){return t||M(n,2,this.length),this[n]<<8|this[n+1]},o.prototype.readUInt32LE=function(n,t){return t||M(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},o.prototype.readUInt32BE=function(n,t){return t||M(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},o.prototype.readIntLE=function(n,t,e){n|=0,t|=0,e||M(n,t,this.length);for(var r=this[n],i=1,l=0;++l<t&&(i*=256);)r+=this[n+l]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(n,t,e){n|=0,t|=0,e||M(n,t,this.length);for(var r=t,i=1,l=this[n+--r];r>0&&(i*=256);)l+=this[n+--r]*i;return l>=(i*=128)&&(l-=Math.pow(2,8*t)),l},o.prototype.readInt8=function(n,t){return t||M(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},o.prototype.readInt16LE=function(n,t){t||M(n,2,this.length);var e=this[n]|this[n+1]<<8;return 32768&e?4294901760|e:e},o.prototype.readInt16BE=function(n,t){t||M(n,2,this.length);var e=this[n+1]|this[n]<<8;return 32768&e?4294901760|e:e},o.prototype.readInt32LE=function(n,t){return t||M(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},o.prototype.readInt32BE=function(n,t){return t||M(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},o.prototype.readFloatLE=function(n,t){return t||M(n,4,this.length),i.read(this,n,!0,23,4)},o.prototype.readFloatBE=function(n,t){return t||M(n,4,this.length),i.read(this,n,!1,23,4)},o.prototype.readDoubleLE=function(n,t){return t||M(n,8,this.length),i.read(this,n,!0,52,8)},o.prototype.readDoubleBE=function(n,t){return t||M(n,8,this.length),i.read(this,n,!1,52,8)},o.prototype.writeUIntLE=function(n,t,e,r){(n=+n,t|=0,e|=0,r)||F(this,n,t,e,Math.pow(2,8*e)-1,0);var i=1,l=0;for(this[t]=255&n;++l<e&&(i*=256);)this[t+l]=n/i&255;return t+e},o.prototype.writeUIntBE=function(n,t,e,r){(n=+n,t|=0,e|=0,r)||F(this,n,t,e,Math.pow(2,8*e)-1,0);var i=e-1,l=1;for(this[t+i]=255&n;--i>=0&&(l*=256);)this[t+i]=n/l&255;return t+e},o.prototype.writeUInt8=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[t]=255&n,t+1},o.prototype.writeUInt16LE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&n,this[t+1]=n>>>8):T(this,n,t,!0),t+2},o.prototype.writeUInt16BE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=255&n):T(this,n,t,!1),t+2},o.prototype.writeUInt32LE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=255&n):N(this,n,t,!0),t+4},o.prototype.writeUInt32BE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=255&n):N(this,n,t,!1),t+4},o.prototype.writeIntLE=function(n,t,e,r){if(n=+n,t|=0,!r){var i=Math.pow(2,8*e-1);F(this,n,t,e,i-1,-i)}var l=0,u=1,a=0;for(this[t]=255&n;++l<e&&(u*=256);)n<0&&0===a&&0!==this[t+l-1]&&(a=1),this[t+l]=(n/u>>0)-a&255;return t+e},o.prototype.writeIntBE=function(n,t,e,r){if(n=+n,t|=0,!r){var i=Math.pow(2,8*e-1);F(this,n,t,e,i-1,-i)}var l=e-1,u=1,a=0;for(this[t+l]=255&n;--l>=0&&(u*=256);)n<0&&0===a&&0!==this[t+l+1]&&(a=1),this[t+l]=(n/u>>0)-a&255;return t+e},o.prototype.writeInt8=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[t]=255&n,t+1},o.prototype.writeInt16LE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&n,this[t+1]=n>>>8):T(this,n,t,!0),t+2},o.prototype.writeInt16BE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=255&n):T(this,n,t,!1),t+2},o.prototype.writeInt32LE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&n,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24):N(this,n,t,!0),t+4},o.prototype.writeInt32BE=function(n,t,e){return n=+n,t|=0,e||F(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),o.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=255&n):N(this,n,t,!1),t+4},o.prototype.writeFloatLE=function(n,t,e){return z(this,n,t,!0,e)},o.prototype.writeFloatBE=function(n,t,e){return z(this,n,t,!1,e)},o.prototype.writeDoubleLE=function(n,t,e){return P(this,n,t,!0,e)},o.prototype.writeDoubleBE=function(n,t,e){return P(this,n,t,!1,e)},o.prototype.copy=function(n,t,e,r){if(e||(e=0),r||0===r||(r=this.length),t>=n.length&&(t=n.length),t||(t=0),r>0&&r<e&&(r=e),r===e)return 0;if(0===n.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),n.length-t<r-e&&(r=n.length-t+e);var i,l=r-e;if(this===n&&e<t&&t<r)for(i=l-1;i>=0;--i)n[i+t]=this[i+e];else if(l<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<l;++i)n[i+t]=this[i+e];else Uint8Array.prototype.set.call(n,this.subarray(e,e+l),t);return l},o.prototype.fill=function(n,t,e,r){if("string"==typeof n){if("string"==typeof t?(r=t,t=0,e=this.length):"string"==typeof e&&(r=e,e=this.length),1===n.length){var i=n.charCodeAt(0);i<256&&(n=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof n&&(n&=255);if(t<0||this.length<t||this.length<e)throw new RangeError("Out of range index");if(e<=t)return this;var l;if(t>>>=0,e=void 0===e?this.length:e>>>0,n||(n=0),"number"==typeof n)for(l=t;l<e;++l)this[l]=n;else{var u=o.isBuffer(n)?n:I(new o(n,r).toString()),a=u.length;for(l=0;l<e-t;++l)this[l+t]=u[l%a]}return this};var $=/[^+\/0-9A-Za-z-_]/g;function R(n){return n<16?"0"+n.toString(16):n.toString(16)}function I(n,t){var e;t=t||1/0;for(var r=n.length,i=null,l=[],u=0;u<r;++u){if((e=n.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&l.push(239,191,189);continue}if(u+1===r){(t-=3)>-1&&l.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&l.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(t-=3)>-1&&l.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;l.push(e)}else if(e<2048){if((t-=2)<0)break;l.push(e>>6|192,63&e|128)}else if(e<65536){if((t-=3)<0)break;l.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;l.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return l}function L(n){return r.toByteArray(function(n){if((n=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(n).replace($,"")).length<2)return"";for(;n.length%4!=0;)n+="=";return n}(n))}function U(n,t,e,r){for(var i=0;i<r&&!(i+e>=t.length||i>=n.length);++i)t[i+e]=n[i];return i}}).call(this,e(23))},function(n,t){function e(n){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=12},,,function(n){n.exports=JSON.parse('{"a":"4.17.0"}')},function(n,t,e){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function u(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}n.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(n){return t[n]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(n){r[n]=n})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}()?Object.assign:function(n,t){for(var e,a,o=u(n),s=1;s<arguments.length;s++){for(var c in e=Object(arguments[s]))i.call(e,c)&&(o[c]=e[c]);if(r){a=r(e);for(var f=0;f<a.length;f++)l.call(e,a[f])&&(o[a[f]]=e[a[f]])}}return o}},function(n,t,e){(function(t){var e=function(){"use strict";function n(n,t){return null!=t&&n instanceof t}var e,r,i;try{e=Map}catch(n){e=function(){}}try{r=Set}catch(n){r=function(){}}try{i=Promise}catch(n){i=function(){}}function l(u,o,s,c,f){"object"==typeof o&&(s=o.depth,c=o.prototype,f=o.includeNonEnumerable,o=o.circular);var h=[],d=[],p=void 0!==t;return void 0===o&&(o=!0),void 0===s&&(s=1/0),function u(s,g){if(null===s)return null;if(0===g)return s;var m,v;if("object"!=typeof s)return s;if(n(s,e))m=new e;else if(n(s,r))m=new r;else if(n(s,i))m=new i((function(n,t){s.then((function(t){n(u(t,g-1))}),(function(n){t(u(n,g-1))}))}));else if(l.__isArray(s))m=[];else if(l.__isRegExp(s))m=new RegExp(s.source,a(s)),s.lastIndex&&(m.lastIndex=s.lastIndex);else if(l.__isDate(s))m=new Date(s.getTime());else{if(p&&t.isBuffer(s))return m=t.allocUnsafe?t.allocUnsafe(s.length):new t(s.length),s.copy(m),m;n(s,Error)?m=Object.create(s):void 0===c?(v=Object.getPrototypeOf(s),m=Object.create(v)):(m=Object.create(c),v=c)}if(o){var w=h.indexOf(s);if(-1!=w)return d[w];h.push(s),d.push(m)}for(var y in n(s,e)&&s.forEach((function(n,t){var e=u(t,g-1),r=u(n,g-1);m.set(e,r)})),n(s,r)&&s.forEach((function(n){var t=u(n,g-1);m.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(m[y]=u(s[y],g-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(s);for(y=0;y<x.length;y++){var _=x[y];(!(j=Object.getOwnPropertyDescriptor(s,_))||j.enumerable||f)&&(m[_]=u(s[_],g-1),j.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(s);for(y=0;y<k.length;y++){var j,O=k[y];(j=Object.getOwnPropertyDescriptor(s,O))&&j.enumerable||(m[O]=u(s[O],g-1),Object.defineProperty(m,O,{enumerable:!1}))}}return m}(u,s)}function u(n){return Object.prototype.toString.call(n)}function a(n){var t="";return n.global&&(t+="g"),n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),t}return l.clonePrototype=function(n){if(null===n)return null;var t=function(){};return t.prototype=n,new t},l.__objToStr=u,l.__isDate=function(n){return"object"==typeof n&&"[object Date]"===u(n)},l.__isArray=function(n){return"object"==typeof n&&"[object Array]"===u(n)},l.__isRegExp=function(n){return"object"==typeof n&&"[object RegExp]"===u(n)},l.__getRegExpFlags=a,l}();n.exports&&(n.exports=e)}).call(this,e(11).Buffer)},function(n,t,e){"use strict";n.exports=function n(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var r,i,l;if(Array.isArray(t)){if((r=t.length)!=e.length)return!1;for(i=r;0!=i--;)if(!n(t[i],e[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((r=(l=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(e,l[i]))return!1;for(i=r;0!=i--;){var u=l[i];if(!n(t[u],e[u]))return!1}return!0}return t!=t&&e!=e}},,,,function(n,t,e){(function(r){void 0!==Math.imul&&0!=Math.imul(4294967295,5)||(Math.imul=function(n,t){var e=65535&n,r=65535&t;return e*r+((n>>>16&65535)*r+e*(t>>>16&65535)<<16>>>0)|0}),function(n){"use strict";function t(n,t,e){return n.fields=t||[],n.fname=e,n}function e(n){return null==n?null:n.fname}function i(n){return null==n?null:n.fields}function l(n){throw Error(n)}function u(n){var t,e,r,i=[],u=null,a=0,o=n.length,s="";function c(){i.push(s+n.substring(t,e)),s="",t=e+1}for(n+="",t=e=0;e<o;++e)if("\\"===(r=n[e]))s+=n.substring(t,e),t=++e;else if(r===u)c(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r||t===a&&"'"===r?(t=e+1,u=r):"."!==r||a?"["===r?(e>t&&c(),a=t=e+1):"]"===r&&(a||l("Access path missing open bracket: "+n),a>0&&c(),a=0,t=e+1):e>t?c():t=e+1}return a&&l("Access path missing closing bracket: "+n),u&&l("Access path missing closing quote: "+n),e>t&&(e++,c()),i}var a=Array.isArray;function o(n){return n===Object(n)}function s(n){return"string"==typeof n}function c(n){return a(n)?"["+n.map(c)+"]":o(n)||s(n)?JSON.stringify(n).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):n}function f(n,e){var r=u(n),i="return _["+r.map(c).join("][")+"];";return t(Function("_",i),[n=1===r.length?r[0]:n],e||n)}var h=[],d=f("id"),p=t((function(n){return n}),h,"identity"),g=t((function(){return 0}),h,"zero"),m=t((function(){return 1}),h,"one"),v=t((function(){return!0}),h,"true"),w=t((function(){return!1}),h,"false");function y(n,t,e){var r=[t].concat([].slice.call(e));console[n](...r)}function b(n,t){var e=n||0;return{level:function(n){return arguments.length?(e=+n,this):e},error:function(){return e>=1&&y(t||"error","ERROR",arguments),this},warn:function(){return e>=2&&y(t||"warn","WARN",arguments),this},info:function(){return e>=3&&y(t||"log","INFO",arguments),this},debug:function(){return e>=4&&y(t||"log","DEBUG",arguments),this}}}function x(n){return n[n.length-1]}function _(n){return null==n||""===n?null:+n}function k(n){return function(t){return n*Math.exp(t)}}function j(n){return function(t){return Math.log(n*t)}}function O(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function A(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function E(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function S(n,t,e,r){var i=e(n[0]),l=e(x(n)),u=(l-i)*t;return[r(i-u),r(l-u)]}function C(n,t){return S(n,t,_,p)}function D(n,t){var e=Math.sign(n[0]);return S(n,t,j(e),k(e))}function M(n,t,e){return S(n,t,E(e),E(1/e))}function F(n,t,e){return S(n,t,O(e),A(e))}function T(n,t,e,r,i){var l=r(n[0]),u=r(x(n)),a=null!=t?r(t):(l+u)/2;return[i(a+(l-a)*e),i(a+(u-a)*e)]}function N(n,t,e){return T(n,t,e,_,p)}function B(n,t,e){var r=Math.sign(n[0]);return T(n,t,e,j(r),k(r))}function z(n,t,e,r){return T(n,t,e,E(r),E(1/r))}function P(n,t,e,r){return T(n,t,e,O(r),A(r))}function $(n){return 1+~~(new Date(n).getMonth()/3)}function R(n){return 1+~~(new Date(n).getUTCMonth()/3)}function I(n){return null!=n?a(n)?n:[n]:[]}function L(n,t,e){var r,i=n[0],l=n[1];return l<i&&(r=l,l=i,i=r),(r=l-i)>=e-t?[t,e]:[i=Math.min(Math.max(i,t),e-r),i+r]}function U(n){return"function"==typeof n}function q(n,e){var r,l,a,o,s,f,h,d,p,g=[],m=(n=I(n)).map((function(n,t){return null==n?null:(g.push(t),U(n)?n:u(n).map(c).join("]["))})),v=g.length-1,w=I(e),y="var u,v;return ";if(v<0)return null;for(l=0;l<=v;++l)U(a=m[r=g[l]])?(o="(u=this."+(f="f"+r)+"(a))",s="(v=this."+f+"(b))",(h=h||{})[f]=a):(o="(u=a["+a+"])",s="(v=b["+a+"])"),f="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==w[r]?(p=1,d=-1):(p=-1,d=1),y+="("+o+"<"+s+"||u==null)&&v!=null?"+d+":(u>v||v==null)&&u!=null?"+p+":"+f+"!==u&&v===v?"+d+":v!==v&&u===u?"+p+(r<v?":":":0");return a=Function("a","b",y+";"),h&&(a=a.bind(h)),n=n.reduce((function(n,t){return U(t)?(i(t)||[]).forEach((function(t){n[t]=1})):null!=t&&(n[t+""]=1),n}),{}),t(a,Object.keys(n))}function H(n){return U(n)?n:function(){return n}}function W(n,t){var e,r;function i(){t(r),e=r=null}return function(t){r=t,e&&clearTimeout(e),e=setTimeout(i,n)}}function G(n){for(var t,e,r=1,i=arguments.length;r<i;++r)for(e in t=arguments[r])n[e]=t[e];return n}function Y(n,t){var e,r,i,l,u=0;if(n&&(e=n.length))if(null==t){for(r=n[u];null==r||r!=r;r=n[++u]);for(i=l=r;u<e;++u)null!=(r=n[u])&&(r<i&&(i=r),r>l&&(l=r))}else{for(r=t(n[u]);null==r||r!=r;r=t(n[++u]));for(i=l=r;u<e;++u)null!=(r=t(n[u]))&&(r<i&&(i=r),r>l&&(l=r))}return[i,l]}function V(n,t){var e,r,i,l,u,a=-1,o=n.length;if(null==t){for(;++a<o;)if(null!=(r=n[a])&&r>=r){e=i=r;break}for(l=u=a;++a<o;)null!=(r=n[a])&&(e>r&&(e=r,l=a),i<r&&(i=r,u=a))}else{for(;++a<o;)if(null!=(r=t(n[a],a,n))&&r>=r){e=i=r;break}for(l=u=a;++a<o;)null!=(r=t(n[a],a,n))&&(e>r&&(e=r,l=a),i<r&&(i=r,u=a))}return[l,u]}var J={};function X(n){var t,e,r={};function i(n){return r.hasOwnProperty(n)&&r[n]!==J}return t={size:0,empty:0,object:r,has:i,get:function(n){return i(n)?r[n]:void 0},set:function(n,e){return i(n)||(++t.size,r[n]===J&&--t.empty),r[n]=e,this},delete:function(n){return i(n)&&(--t.size,++t.empty,r[n]=J),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(n){return arguments.length?(e=n,t):e},clean:function(){var n,i,l={},u=0;for(n in r)(i=r[n])===J||e&&e(i)||(l[n]=i,++u);t.size=u,t.empty=0,t.object=r=l}},n&&Object.keys(n).forEach((function(e){t.set(e,n[e])})),t}function K(n,t,e,r,i,l){if(!e&&0!==e)return l;var u,a,o=n[0],s=x(n),c=+e;return s<o&&(u=o,o=s,s=u),(u=Math.abs(t-o))<(a=Math.abs(s-t))&&u<=c?r:a<=c?i:l}function Z(n,t){var e=n.prototype=Object.create(t.prototype);return e.constructor=n,e}function Q(n,t,e,r){var i,l=t[0],u=t[t.length-1];return l>u&&(i=l,l=u,u=i),r=void 0===r||r,((e=void 0===e||e)?l<=n:l<n)&&(r?n<=u:n<u)}function nn(n){return"boolean"==typeof n}function tn(n){return"[object Date]"===Object.prototype.toString.call(n)}function en(n){return"number"==typeof n}function rn(n){return"[object RegExp]"===Object.prototype.toString.call(n)}function ln(n,e){return n&&(n=e?I(n).map((function(n){return n.replace(/\\(.)/g,"$1")})):I(n)),t(n&&n.length?Function("_","return ''+"+n.map((function(n){return"_["+(e?c(n):u(n).map(c).join("]["))+"]"})).join("+'|'+")+";"):function(){return""},n,"key")}function un(n,t){const e=n[0],r=x(n),i=+t;return i?1===i?r:e+i*(r-e):e}function an(n,t,e,r){var i=t.length,l=e.length;if(!l)return t;if(!i)return e;for(var u=r||new t.constructor(i+l),a=0,o=0,s=0;a<i&&o<l;++s)u[s]=n(t[a],e[o])>0?e[o++]:t[a++];for(;a<i;++a,++s)u[s]=t[a];for(;o<l;++o,++s)u[s]=e[o];return u}function on(n,t){for(var e="";--t>=0;)e+=n;return e}function sn(n,t,e,r){var i=e||" ",l=n+"",u=t-l.length;return u<=0?l:"left"===r?on(i,u)+l:"center"===r?on(i,~~(u/2))+l+on(i,Math.ceil(u/2)):l+on(i,u)}function cn(n){return x(n)-n[0]||0}function fn(n){return null==n||""===n?null:!(!n||"false"===n||"0"===n||!n)}function hn(n){return en(n)||tn(n)?n:Date.parse(n)}function dn(n,t){return t=t||hn,null==n||""===n?null:t(n)}function pn(n){return null==n||""===n?null:n+""}function gn(n){for(var t={},e=0,r=n.length;e<r;++e)t[n[e]]=!0;return t}function mn(n,t,e,r){var i=null!=r?r:"…",l=n+"",u=l.length,a=Math.max(0,t-i.length);return u<=t?l:"left"===e?i+l.slice(u-a):"center"===e?l.slice(0,Math.ceil(a/2))+i+l.slice(u-~~(a/2)):l.slice(0,a)+i}function vn(n,t,e){if(n){var r,i=0,l=n.length;if(t)for(;i<l;++i)(r=t(n[i]))&&e(r,i,n);else n.forEach(e)}}function wn(n){var t=n||p,e=[],r={};return e.add=function(n){var i=t(n);return r[i]||(r[i]=1,e.push(n)),e},e.remove=function(n){var i,l=t(n);return r[l]&&(r[l]=0,(i=e.indexOf(n))>=0&&e.splice(i,1)),e},e}async function yn(n,t){try{await t(n)}catch(t){n.error(t)}}var bn=Symbol("vega_id"),xn=1;function _n(n){return!(!n||!kn(n))}function kn(n){return n[bn]}function jn(n,t){return n[bn]=t,n}function On(n){var t=n===Object(n)?n:{data:n};return kn(t)?t:jn(t,xn++)}function An(n){return En(n,On({}))}function En(n,t){for(var e in n)t[e]=n[e];return t}function Sn(n,t){return jn(t,kn(n))}function Cn(n){return n&&n.constructor===Dn}function Dn(){var n=[],t=[],e=[],r=[],i=[],l=!1;return{constructor:Dn,insert:function(t){for(var e=I(t),r=0,i=e.length;r<i;++r)n.push(e[r]);return this},remove:function(n){for(var e=U(n)?r:t,i=I(n),l=0,u=i.length;l<u;++l)e.push(i[l]);return this},modify:function(n,t,r){var l={field:t,value:H(r)};return U(n)?(l.filter=n,i.push(l)):(l.tuple=n,e.push(l)),this},encode:function(n,t){return U(n)?i.push({filter:n,field:t}):e.push({tuple:n,field:t}),this},reflow:function(){return l=!0,this},pulse:function(u,a){var o,s,c,f,h,d,p={},g={};for(o=0,s=a.length;o<s;++o)p[kn(a[o])]=1;for(o=0,s=t.length;o<s;++o)p[kn(h=t[o])]=-1;for(o=0,s=r.length;o<s;++o)f=r[o],a.forEach((function(n){f(n)&&(p[kn(n)]=-1)}));for(o=0,s=n.length;o<s;++o)d=kn(h=n[o]),p[d]?p[d]=1:u.add.push(On(n[o]));for(o=0,s=a.length;o<s;++o)h=a[o],p[kn(h)]<0&&u.rem.push(h);function m(n,t,e){e?n[t]=e(n):u.encode=t,l||(g[kn(n)]=n)}for(o=0,s=e.length;o<s;++o)h=(c=e[o]).tuple,f=c.field,(d=p[kn(h)])>0&&(m(h,f,c.value),u.modifies(f));for(o=0,s=i.length;o<s;++o)c=i[o],f=c.filter,a.forEach((function(n){f(n)&&p[kn(n)]>0&&m(n,c.field,c.value)})),u.modifies(c.field);if(l)u.mod=t.length||r.length?a.filter((function(n){return p[kn(n)]>0})):a.slice();else for(d in g)u.mod.push(g[d]);return u}}}var Mn="_:mod:_";function Fn(){Object.defineProperty(this,Mn,{writable:!0,value:{}})}var Tn=Fn.prototype;Tn.set=function(n,t,e,r){var i=this,l=i[n],u=i[Mn];return null!=t&&t>=0?(l[t]!==e||r)&&(l[t]=e,u[t+":"+n]=-1,u[n]=-1):(l!==e||r)&&(i[n]=e,u[n]=a(e)?1+e.length:-1),i},Tn.modified=function(n,t){var e,r=this[Mn];if(!arguments.length){for(e in r)if(r[e])return!0;return!1}if(a(n)){for(e=0;e<n.length;++e)if(r[n[e]])return!0;return!1}return null!=t&&t>=0?t+1<r[n]||!!r[t+":"+n]:!!r[n]},Tn.clear=function(){return this[Mn]={},this};var Nn=0,Bn=new Fn;function zn(n,t,e,r){this.id=++Nn,this.value=n,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),e&&this.parameters(e,r)}var Pn=zn.prototype;function $n(n){return function(t){var e=this.flags;return 0===arguments.length?!!(e&n):(this.flags=t?e|n:e&~n,this)}}Pn.targets=function(){return this._targets||(this._targets=wn(d))},Pn.set=function(n){return this.value!==n?(this.value=n,1):0},Pn.skip=$n(1),Pn.modified=$n(2),Pn.parameters=function(n,t,e){t=!1!==t;var r,i,u,o,s=this,c=s._argval=s._argval||new Fn,f=s._argops=s._argops||[],h=[];function d(n,e,r){r instanceof zn?(r!==s&&(t&&r.targets().add(s),h.push(r)),f.push({op:r,name:n,index:e})):c.set(n,e,r)}for(r in n)if(i=n[r],"pulse"===r)I(i).forEach((function(n){n instanceof zn?n!==s&&(n.targets().add(s),h.push(n)):l("Pulse parameters must be operator instances.")})),s.source=i;else if(a(i))for(c.set(r,-1,Array(u=i.length)),o=0;o<u;++o)d(r,o,i[o]);else d(r,-1,i);return this.marshall().clear(),e&&(f.initonly=!0),h},Pn.marshall=function(n){var t,e,r,i,l,u=this._argval||Bn,a=this._argops;if(a){for(e=0,r=a.length;e<r;++e)l=(i=(t=a[e]).op).modified()&&i.stamp===n,u.set(t.name,t.index,i.value,l);if(a.initonly){for(e=0;e<r;++e)(t=a[e]).op.targets().remove(this);this._argops=null,this._update=null}}return u},Pn.evaluate=function(n){var t=this._update;if(t){var e=this.marshall(n.stamp),r=t.call(this,e,n);if(e.clear(),r!==this.value)this.value=r;else if(!this.modified())return n.StopPropagation}},Pn.run=function(n){return n.stamp<=this.stamp?n.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(n),this.stamp=n.stamp,this.pulse=t||n);var t};var Rn=0;function In(n,t,e){this.id=++Rn,this.value=null,e&&(this.receive=e),n&&(this._filter=n),t&&(this._apply=t)}function Ln(n,t,e){return new In(n,t,e)}var Un=In.prototype;Un._filter=v,Un._apply=p,Un.targets=function(){return this._targets||(this._targets=wn(d))},Un.consume=function(n){return arguments.length?(this._consume=!!n,this):!!this._consume},Un.receive=function(n){if(this._filter(n)){for(var t=this.value=this._apply(n),e=this._targets,r=e?e.length:0,i=0;i<r;++i)e[i].receive(t);this._consume&&(n.preventDefault(),n.stopPropagation())}},Un.filter=function(n){var t=Ln(n);return this.targets().add(t),t},Un.apply=function(n){var t=Ln(null,n);return this.targets().add(t),t},Un.merge=function(){var n=Ln();this.targets().add(n);for(var t=0,e=arguments.length;t<e;++t)arguments[t].targets().add(n);return n},Un.throttle=function(n){var t=-1;return this.filter((function(){var e=Date.now();return e-t>n?(t=e,1):0}))},Un.debounce=function(n){var t=Ln();return this.targets().add(Ln(null,null,W(n,(function(n){var e=n.dataflow;t.receive(n),e&&e.run&&e.run()})))),t},Un.between=function(n,t){var e=!1;return n.targets().add(Ln(null,null,(function(){e=!0}))),t.targets().add(Ln(null,null,(function(){e=!1}))),this.filter((function(){return e}))};var qn=/^([A-Za-z]+:)?\/\//,Hn="file://";async function Wn(n,t){const e=await this.sanitize(n,t),r=e.href;return e.localFile?this.file(r):this.http(r,t)}async function Gn(n,t){t=G({},this.options,t);const e=this.fileAccess,r={href:null};let i,u,a,o;return null!=n&&"string"==typeof n||l("Sanitize failure, invalid URI: "+c(n)),u=qn.test(n),(o=t.baseURL)&&!u&&(n.startsWith("/")||"/"===o[o.length-1]||(n="/"+n),n=o+n),a=(i=n.startsWith(Hn))||"file"===t.mode||"http"!==t.mode&&!u&&e,i?n=n.slice(Hn.length):n.startsWith("//")&&("file"===t.defaultProtocol?(n=n.slice(2),a=!0):n=(t.defaultProtocol||"http")+":"+n),Object.defineProperty(r,"localFile",{value:!!a}),r.href=n,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),r}function Yn(n){return n?function(t){return new Promise((function(e,r){n.readFile(t,(function(n,t){n?r(n):e(t)}))}))}:Vn}async function Vn(){l("No file system access.")}function Jn(n){return n?async function(t,e){const r=G({},this.options.http,e),i=e&&e.response,u=await n(t,r);return u.ok?U(u[i])?u[i]():u.text():l(u.status+""+u.statusText)}:Xn}async function Xn(){l("No HTTP fetch method available.")}var Kn={boolean:fn,integer:_,number:_,date:dn,string:pn,unknown:p},Zn=[function(n){return"true"===n||"false"===n||!0===n||!1===n},function(n){return et(n)&&(n=+n)==~~n},et,function(n){return!isNaN(Date.parse(n))}],Qn=["boolean","integer","number","date"];function nt(n,t){if(!n||!n.length)return"unknown";var e,r,i,l,u=0,a=n.length,o=Zn.length,s=Zn.map((function(n,t){return t+1}));for(r=0,a=n.length;r<a;++r)for(e=t?n[r][t]:n[r],i=0;i<o;++i)if(s[i]&&null!=(l=e)&&l==l&&!Zn[i](e)&&(s[i]=0,++u===Zn.length))return"string";return u=s.reduce((function(n,t){return 0===n?t:n}),0)-1,Qn[u]}function tt(n,t){return t.reduce((function(t,e){return t[e]=nt(n,e),t}),{})}function et(n){return!(isNaN(+n)||n instanceof Date)}var rt={},it={};function lt(n){return new Function("d","return {"+n.map((function(n,t){return JSON.stringify(n)+": d["+t+"]"})).join(",")+"}")}function ut(n){var t=Object.create(null),e=[];return n.forEach((function(n){for(var r in n)r in t||e.push(t[r]=r)})),e}function at(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function ot(n){var t=new RegExp('["'+n+"\n\r]"),e=n.charCodeAt(0);function r(n,t){var r,i=[],l=n.length,u=0,a=0,o=l<=0,s=!1;function c(){if(o)return it;if(s)return s=!1,rt;var t,r,i=u;if(34===n.charCodeAt(i)){for(;u++<l&&34!==n.charCodeAt(u)||34===n.charCodeAt(++u););return(t=u)>=l?o=!0:10===(r=n.charCodeAt(u++))?s=!0:13===r&&(s=!0,10===n.charCodeAt(u)&&++u),n.slice(i+1,t-1).replace(/""/g,'"')}for(;u<l;){if(10===(r=n.charCodeAt(t=u++)))s=!0;else if(13===r)s=!0,10===n.charCodeAt(u)&&++u;else if(r!==e)continue;return n.slice(i,t)}return o=!0,n.slice(i,l)}for(10===n.charCodeAt(l-1)&&--l,13===n.charCodeAt(l-1)&&--l;(r=c())!==it;){for(var f=[];r!==rt&&r!==it;)f.push(r),r=c();t&&null==(f=t(f,a++))||i.push(f)}return i}function i(t,e){return t.map((function(t){return e.map((function(n){return u(t[n])})).join(n)}))}function l(t){return t.map(u).join(n)}function u(n){return null==n?"":n instanceof Date?function(n){var t,e=n.getUTCHours(),r=n.getUTCMinutes(),i=n.getUTCSeconds(),l=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":((t=n.getUTCFullYear())<0?"-"+at(-t,6):t>9999?"+"+at(t,6):at(t,4))+"-"+at(n.getUTCMonth()+1,2)+"-"+at(n.getUTCDate(),2)+(l?"T"+at(e,2)+":"+at(r,2)+":"+at(i,2)+"."+at(l,3)+"Z":i?"T"+at(e,2)+":"+at(r,2)+":"+at(i,2)+"Z":r||e?"T"+at(e,2)+":"+at(r,2)+"Z":"")}(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,t){var e,i,l=r(n,(function(n,r){if(e)return e(n,r-1);i=n,e=t?function(n,t){var e=lt(n);return function(r,i){return t(e(r),i,n)}}(n,t):lt(n)}));return l.columns=i||[],l},parseRows:r,format:function(t,e){return null==e&&(e=ut(t)),[e.map(u).join(n)].concat(i(t,e)).join("\n")},formatBody:function(n,t){return null==t&&(t=ut(n)),i(n,t).join("\n")},formatRows:function(n){return n.map(l).join("\n")}}}function st(n){const t=function(t,e){const r={delimiter:n};return ct(t,e?G(e,r):r)};return t.responseType="text",t}function ct(n,t){return t.header&&(n=t.header.map(c).join(t.delimiter)+"\n"+n),ot(t.delimiter).parse(n+"")}function ft(n,t){const e=t&&t.property?f(t.property):p;return!o(n)||(i=n,"function"==typeof r&&U(r.isBuffer)&&r.isBuffer(i))?e(JSON.parse(n)):function(n,t){return n}(e(n));var i}function ht(n){return n}function dt(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return pt(n,t)}))}:pt(n,t)}function pt(n,t){var e=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,l=gt(n,t);return null==e&&null==r?{type:"Feature",properties:i,geometry:l}:null==r?{type:"Feature",id:e,properties:i,geometry:l}:{type:"Feature",id:e,bbox:r,properties:i,geometry:l}}function gt(n,t){var e=function(n){if(null==n)return ht;var t,e,r=n.scale[0],i=n.scale[1],l=n.translate[0],u=n.translate[1];return function(n,a){a||(t=e=0);var o=2,s=n.length,c=new Array(s);for(c[0]=(t+=n[0])*r+l,c[1]=(e+=n[1])*i+u;o<s;)c[o]=n[o],++o;return c}}(n.transform),r=n.arcs;function i(n,t){t.length&&t.pop();for(var i=r[n<0?~n:n],l=0,u=i.length;l<u;++l)t.push(e(i[l],l));n<0&&function(n,t){for(var e,r=n.length,i=r-t;i<--r;)e=n[i],n[i++]=n[r],n[r]=e}(t,u)}function l(n){return e(n)}function u(n){for(var t=[],e=0,r=n.length;e<r;++e)i(n[e],t);return t.length<2&&t.push(t[0]),t}function a(n){for(var t=u(n);t.length<4;)t.push(t[0]);return t}function o(n){return n.map(a)}return function n(t){var e,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(n)};case"Point":e=l(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(l);break;case"LineString":e=u(t.arcs);break;case"MultiLineString":e=t.arcs.map(u);break;case"Polygon":e=o(t.arcs);break;case"MultiPolygon":e=t.arcs.map(o);break;default:return null}return{type:r,coordinates:e}}(t)}function mt(n,t){var e={},r={},i={},l=[],u=-1;function a(n,t){for(var r in n){var i=n[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(n){e[n<0?~n:n]=1})),l.push(i)}}return t.forEach((function(e,r){var i,l=n.arcs[e<0?~e:e];l.length<3&&!l[1][0]&&!l[1][1]&&(i=t[++u],t[u]=e,t[r]=i)})),t.forEach((function(t){var e,l,u=function(t){var e,r=n.arcs[t<0?~t:t],i=r[0];return n.transform?(e=[0,0],r.forEach((function(n){e[0]+=n[0],e[1]+=n[1]}))):e=r[r.length-1],t<0?[e,i]:[i,e]}(t),a=u[0],o=u[1];if(e=i[a])if(delete i[e.end],e.push(t),e.end=o,l=r[o]){delete r[l.start];var s=l===e?e:e.concat(l);r[s.start=e.start]=i[s.end=l.end]=s}else r[e.start]=i[e.end]=e;else if(e=r[o])if(delete r[e.start],e.unshift(t),e.start=a,l=i[a]){delete i[l.end];var c=l===e?e:l.concat(e);r[c.start=l.start]=i[c.end=e.end]=c}else r[e.start]=i[e.end]=e;else r[(e=[t]).start=a]=i[e.end=o]=e})),a(i,r),a(r,i),t.forEach((function(n){e[n<0?~n:n]||l.push([n])})),l}function vt(n){return gt(n,function(n,t,e){var r,i,l;if(arguments.length>1)r=function(n,t,e){var r,i=[],l=[];function u(n){var t=n<0?~n:n;(l[t]||(l[t]=[])).push({i:n,g:r})}function a(n){n.forEach(u)}function o(n){n.forEach(a)}return function n(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"LineString":a(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}}(t),l.forEach(null==e?function(n){i.push(n[0].i)}:function(n){e(n[0].g,n[n.length-1].g)&&i.push(n[0].i)}),i}(0,t,e);else for(i=0,r=new Array(l=n.arcs.length);i<l;++i)r[i]=i;return{type:"MultiLineString",arcs:mt(n,r)}}.apply(this,arguments))}ot(","),ot("\t"),ct.responseType="text",ft.responseType="json";const wt={interior:(n,t)=>n!==t,exterior:(n,t)=>n===t};function yt(n,t){let e,r,i,u;return n=ft(n,t),t&&t.feature?(e=dt,i=t.feature):t&&t.mesh?(e=vt,i=t.mesh,u=wt[t.filter]):l("Missing TopoJSON feature or mesh parameter."),(r=(r=n.objects[i])?e(n,r,u):l("Invalid TopoJSON object: "+i))&&r.features||[r]}yt.responseType="json";const bt={dsv:ct,csv:st(","),tsv:st("\t"),json:ft,topojson:yt};function xt(n,t){return arguments.length>1?(bt[n]=t,this):bt.hasOwnProperty(n)?bt[n]:null}function _t(n){const t=xt(n);return t&&t.responseType||"text"}var kt=new Date,jt=new Date;function Ot(n,t,e,r){function i(t){return n(t=new Date(+t)),t}return i.floor=i,i.ceil=function(e){return n(e=new Date(e-1)),t(e,1),n(e),e},i.round=function(n){var t=i(n),e=i.ceil(n);return n-t<e-n?t:e},i.offset=function(n,e){return t(n=new Date(+n),null==e?1:Math.floor(e)),n},i.range=function(e,r,l){var u,a=[];if(e=i.ceil(e),l=null==l?1:Math.floor(l),!(e<r&&l>0))return a;do{a.push(u=new Date(+e)),t(e,l),n(e)}while(u<e&&e<r);return a},i.filter=function(e){return Ot((function(t){if(t>=t)for(;n(t),!e(t);)t.setTime(t-1)}),(function(n,r){if(n>=n)if(r<0)for(;++r<=0;)for(;t(n,-1),!e(n););else for(;--r>=0;)for(;t(n,1),!e(n););}))},e&&(i.count=function(t,r){return kt.setTime(+t),jt.setTime(+r),n(kt),n(jt),Math.floor(e(kt,jt))},i.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?i.filter(r?function(t){return r(t)%n==0}:function(t){return i.count(0,t)%n==0}):i:null}),i}var At=Ot((function(){}),(function(n,t){n.setTime(+n+t)}),(function(n,t){return t-n}));At.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Ot((function(t){t.setTime(Math.floor(t/n)*n)}),(function(t,e){t.setTime(+t+e*n)}),(function(t,e){return(e-t)/n})):At:null};var Et=6e4,St=6048e5,Ct=Ot((function(n){n.setTime(n-n.getMilliseconds())}),(function(n,t){n.setTime(+n+1e3*t)}),(function(n,t){return(t-n)/1e3}),(function(n){return n.getUTCSeconds()})),Dt=Ot((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds())}),(function(n,t){n.setTime(+n+t*Et)}),(function(n,t){return(t-n)/Et}),(function(n){return n.getMinutes()})),Mt=Ot((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds()-n.getMinutes()*Et)}),(function(n,t){n.setTime(+n+36e5*t)}),(function(n,t){return(t-n)/36e5}),(function(n){return n.getHours()})),Ft=Ot((function(n){n.setHours(0,0,0,0)}),(function(n,t){n.setDate(n.getDate()+t)}),(function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Et)/864e5}),(function(n){return n.getDate()-1}));function Tt(n){return Ot((function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)}),(function(n,t){n.setDate(n.getDate()+7*t)}),(function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Et)/St}))}var Nt=Tt(0),Bt=Tt(1),zt=(Tt(2),Tt(3),Tt(4)),Pt=(Tt(5),Tt(6),Ot((function(n){n.setDate(1),n.setHours(0,0,0,0)}),(function(n,t){n.setMonth(n.getMonth()+t)}),(function(n,t){return t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear())}),(function(n){return n.getMonth()}))),$t=Ot((function(n){n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,t){n.setFullYear(n.getFullYear()+t)}),(function(n,t){return t.getFullYear()-n.getFullYear()}),(function(n){return n.getFullYear()}));$t.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ot((function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e*n)})):null};var Rt=Ot((function(n){n.setUTCSeconds(0,0)}),(function(n,t){n.setTime(+n+t*Et)}),(function(n,t){return(t-n)/Et}),(function(n){return n.getUTCMinutes()})),It=Ot((function(n){n.setUTCMinutes(0,0,0)}),(function(n,t){n.setTime(+n+36e5*t)}),(function(n,t){return(t-n)/36e5}),(function(n){return n.getUTCHours()})),Lt=Ot((function(n){n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCDate(n.getUTCDate()+t)}),(function(n,t){return(t-n)/864e5}),(function(n){return n.getUTCDate()-1}));function Ut(n){return Ot((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCDate(n.getUTCDate()+7*t)}),(function(n,t){return(t-n)/St}))}var qt=Ut(0),Ht=Ut(1),Wt=(Ut(2),Ut(3),Ut(4)),Gt=(Ut(5),Ut(6),Ot((function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCMonth(n.getUTCMonth()+t)}),(function(n,t){return t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear())}),(function(n){return n.getUTCMonth()}))),Yt=Ot((function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)}),(function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()}),(function(n){return n.getUTCFullYear()}));function Vt(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Jt(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Xt(n){return{y:n,m:0,d:1,H:0,M:0,S:0,L:0}}Yt.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ot((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)})):null};var Kt,Zt,Qt,ne,te,ee={"-":"",_:" ",0:"0"},re=/^\s*\d+/,ie=/^%/,le=/[\\^$*+?|[\]().{}]/g;function ue(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",l=i.length;return r+(l<e?new Array(e-l+1).join(t)+i:i)}function ae(n){return n.replace(le,"\\$&")}function oe(n){return new RegExp("^(?:"+n.map(ae).join("|")+")","i")}function se(n){for(var t={},e=-1,r=n.length;++e<r;)t[n[e].toLowerCase()]=e;return t}function ce(n,t,e){var r=re.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function fe(n,t,e){var r=re.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function he(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function de(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function pe(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function ge(n,t,e){var r=re.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function me(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ve(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function we(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function ye(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function be(n,t,e){var r=re.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function xe(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function _e(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ke(n,t,e){var r=re.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function je(n,t,e){var r=re.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Oe(n,t,e){var r=re.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Ae(n,t,e){var r=ie.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Ee(n,t,e){var r=re.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function Se(n,t,e){var r=re.exec(t.slice(e));return r?(n.Q=1e3*+r[0],e+r[0].length):-1}function Ce(n,t){return ue(n.getDate(),t,2)}function De(n,t){return ue(n.getHours(),t,2)}function Me(n,t){return ue(n.getHours()%12||12,t,2)}function Fe(n,t){return ue(1+Ft.count($t(n),n),t,3)}function Te(n,t){return ue(n.getMilliseconds(),t,3)}function Ne(n,t){return Te(n,t)+"000"}function Be(n,t){return ue(n.getMonth()+1,t,2)}function ze(n,t){return ue(n.getMinutes(),t,2)}function Pe(n,t){return ue(n.getSeconds(),t,2)}function $e(n){var t=n.getDay();return 0===t?7:t}function Re(n,t){return ue(Nt.count($t(n),n),t,2)}function Ie(n,t){var e=n.getDay();return n=e>=4||0===e?zt(n):zt.ceil(n),ue(zt.count($t(n),n)+(4===$t(n).getDay()),t,2)}function Le(n){return n.getDay()}function Ue(n,t){return ue(Bt.count($t(n),n),t,2)}function qe(n,t){return ue(n.getFullYear()%100,t,2)}function He(n,t){return ue(n.getFullYear()%1e4,t,4)}function We(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ue(t/60|0,"0",2)+ue(t%60,"0",2)}function Ge(n,t){return ue(n.getUTCDate(),t,2)}function Ye(n,t){return ue(n.getUTCHours(),t,2)}function Ve(n,t){return ue(n.getUTCHours()%12||12,t,2)}function Je(n,t){return ue(1+Lt.count(Yt(n),n),t,3)}function Xe(n,t){return ue(n.getUTCMilliseconds(),t,3)}function Ke(n,t){return Xe(n,t)+"000"}function Ze(n,t){return ue(n.getUTCMonth()+1,t,2)}function Qe(n,t){return ue(n.getUTCMinutes(),t,2)}function nr(n,t){return ue(n.getUTCSeconds(),t,2)}function tr(n){var t=n.getUTCDay();return 0===t?7:t}function er(n,t){return ue(qt.count(Yt(n),n),t,2)}function rr(n,t){var e=n.getUTCDay();return n=e>=4||0===e?Wt(n):Wt.ceil(n),ue(Wt.count(Yt(n),n)+(4===Yt(n).getUTCDay()),t,2)}function ir(n){return n.getUTCDay()}function lr(n,t){return ue(Ht.count(Yt(n),n),t,2)}function ur(n,t){return ue(n.getUTCFullYear()%100,t,2)}function ar(n,t){return ue(n.getUTCFullYear()%1e4,t,4)}function or(){return"+0000"}function sr(){return"%"}function cr(n){return+n}function fr(n){return Math.floor(+n/1e3)}function hr(n){return Kt=function(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,l=n.days,u=n.shortDays,a=n.months,o=n.shortMonths,s=oe(i),c=se(i),f=oe(l),h=se(l),d=oe(u),p=se(u),g=oe(a),m=se(a),v=oe(o),w=se(o),y={a:function(n){return u[n.getDay()]},A:function(n){return l[n.getDay()]},b:function(n){return o[n.getMonth()]},B:function(n){return a[n.getMonth()]},c:null,d:Ce,e:Ce,f:Ne,H:De,I:Me,j:Fe,L:Te,m:Be,M:ze,p:function(n){return i[+(n.getHours()>=12)]},Q:cr,s:fr,S:Pe,u:$e,U:Re,V:Ie,w:Le,W:Ue,x:null,X:null,y:qe,Y:He,Z:We,"%":sr},b={a:function(n){return u[n.getUTCDay()]},A:function(n){return l[n.getUTCDay()]},b:function(n){return o[n.getUTCMonth()]},B:function(n){return a[n.getUTCMonth()]},c:null,d:Ge,e:Ge,f:Ke,H:Ye,I:Ve,j:Je,L:Xe,m:Ze,M:Qe,p:function(n){return i[+(n.getUTCHours()>=12)]},Q:cr,s:fr,S:nr,u:tr,U:er,V:rr,w:ir,W:lr,x:null,X:null,y:ur,Y:ar,Z:or,"%":sr},x={a:function(n,t,e){var r=d.exec(t.slice(e));return r?(n.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(n,t,e){var r=f.exec(t.slice(e));return r?(n.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(n,t,e){var r=v.exec(t.slice(e));return r?(n.m=w[r[0].toLowerCase()],e+r[0].length):-1},B:function(n,t,e){var r=g.exec(t.slice(e));return r?(n.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(n,e,r){return j(n,t,e,r)},d:ye,e:ye,f:Oe,H:xe,I:xe,j:be,L:je,m:we,M:_e,p:function(n,t,e){var r=s.exec(t.slice(e));return r?(n.p=c[r[0].toLowerCase()],e+r[0].length):-1},Q:Ee,s:Se,S:ke,u:fe,U:he,V:de,w:ce,W:pe,x:function(n,t,r){return j(n,e,t,r)},X:function(n,t,e){return j(n,r,t,e)},y:me,Y:ge,Z:ve,"%":Ae};function _(n,t){return function(e){var r,i,l,u=[],a=-1,o=0,s=n.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===n.charCodeAt(a)&&(u.push(n.slice(o,a)),null!=(i=ee[r=n.charAt(++a)])?r=n.charAt(++a):i="e"===r?" ":"0",(l=t[r])&&(r=l(e,i)),u.push(r),o=a+1);return u.push(n.slice(o,a)),u.join("")}}function k(n,t){return function(e){var r,i,l=Xt(1900);if(j(l,n,e+="",0)!=e.length)return null;if("Q"in l)return new Date(l.Q);if("p"in l&&(l.H=l.H%12+12*l.p),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(i=(r=Jt(Xt(l.y))).getUTCDay(),r=i>4||0===i?Ht.ceil(r):Ht(r),r=Lt.offset(r,7*(l.V-1)),l.y=r.getUTCFullYear(),l.m=r.getUTCMonth(),l.d=r.getUTCDate()+(l.w+6)%7):(i=(r=t(Xt(l.y))).getDay(),r=i>4||0===i?Bt.ceil(r):Bt(r),r=Ft.offset(r,7*(l.V-1)),l.y=r.getFullYear(),l.m=r.getMonth(),l.d=r.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),i="Z"in l?Jt(Xt(l.y)).getUTCDay():t(Xt(l.y)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(i+5)%7:l.w+7*l.U-(i+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,Jt(l)):t(l)}}function j(n,t,e,r){for(var i,l,u=0,a=t.length,o=e.length;u<a;){if(r>=o)return-1;if(37===(i=t.charCodeAt(u++))){if(i=t.charAt(u++),!(l=x[i in ee?t.charAt(u++):i])||(r=l(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return y.x=_(e,y),y.X=_(r,y),y.c=_(t,y),b.x=_(e,b),b.X=_(r,b),b.c=_(t,b),{format:function(n){var t=_(n+="",y);return t.toString=function(){return n},t},parse:function(n){var t=k(n+="",Vt);return t.toString=function(){return n},t},utcFormat:function(n){var t=_(n+="",b);return t.toString=function(){return n},t},utcParse:function(n){var t=k(n,Jt);return t.toString=function(){return n},t}}}(n),Zt=Kt.format,Qt=Kt.parse,ne=Kt.utcFormat,te=Kt.utcParse,Kt}function dr(n,t,e){const r=xt((t=t||{}).type||"json");return r||l("Unknown data format type: "+t.type),n=r(n,t),t.parse&&function(n,t,e){if(n.length){e=e||Qt;var r,i,l,u,a,o,s,c=n.columns||Object.keys(n[0]);for("auto"===t&&(t=tt(n,c)),r=(c=Object.keys(t)).map((function(n){var r,i,l=t[n];if(l&&(0===l.indexOf("date:")||0===l.indexOf("utc:")))return("'"===(i=(r=l.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?te(i):e(i);if(!Kn[l])throw Error("Illegal format pattern: "+n+":"+l);return Kn[l]})),u=0,o=n.length,s=c.length;u<o;++u)for(i=n[u],a=0;a<s;++a)i[l=c[a]]=r[a](i[l])}}(n,t.parse,e),n.hasOwnProperty("columns")&&delete n.columns,n}hr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Date.prototype.toISOString||ne("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||te("%Y-%m-%dT%H:%M:%S.%LZ");var pr=function(n,t){return function(t){return{options:t||{},sanitize:Gn,load:Wn,fileAccess:!1,file:Yn(null),http:Jn(n)}}}("undefined"!=typeof fetch&&fetch);const gr=dr;var mr={skip:!0};function vr(n,t,e,r,i,l){var u,a,o=G({},l,mr);U(e)||(e=H(e)),void 0===r?u=t=>n.touch(e(t)):U(r)?(a=new zn(null,r,i,!1),u=t=>{a.evaluate(t);const r=e(t),i=a.value;Cn(i)?n.pulse(r,i,l):n.update(r,i,o)}):u=t=>n.update(e(t),r,o),t.apply(u)}function wr(n,t,e,r,i,l){if(void 0===r)t.targets().add(e);else{const u=l||{},a=new zn(null,function(n,t){return t=U(t)?t:H(t),n?function(e,r){const i=t(e,r);return n.skip()||(n.skip(i!==this.value).value=i),i}:t}(e,r),i,!1);a.modified(u.force),a.rank=t.rank,t.targets().add(a),e&&(a.skip(!0),a.value=e.value,a.targets().add(e),n.connect(e,[a]))}}var yr={};function br(n,t,e){this.dataflow=n,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=e||null}var xr=br.prototype;function _r(n,t){return n?function(e,r){return n(e,r)&&t(e,r)}:t}function kr(n,t){var e=[];return vn(n,t,(function(n){e.push(n)})),e}function jr(n,t){var e={};return n.visit(t,(function(n){e[kn(n)]=1})),function(n){return e[kn(n)]?null:n}}function Or(n,t,e,r){var i,l,u,a,o,s=this,c=0;for(this.dataflow=n,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=e,u=0,a=e.length;u<a;++u)if((i=e[u]).stamp===t){if(i.fields)for(o in l=s.fields||(s.fields={}),i.fields)l[o]=1;i.changed(s.ADD)&&(c|=s.ADD),i.changed(s.REM)&&(c|=s.REM),i.changed(s.MOD)&&(c|=s.MOD)}this.changes=c}xr.StopPropagation=yr,xr.ADD=1,xr.REM=2,xr.MOD=4,xr.ADD_REM=3,xr.ADD_MOD=5,xr.ALL=7,xr.REFLOW=8,xr.SOURCE=16,xr.NO_SOURCE=32,xr.NO_FIELDS=64,xr.fork=function(n){return new br(this.dataflow).init(this,n)},xr.clone=function(){var n=this.fork(7);return n.add=n.add.slice(),n.rem=n.rem.slice(),n.mod=n.mod.slice(),n.source&&(n.source=n.source.slice()),n.materialize(23)},xr.addAll=function(){var n=this;return this.source&&this.source.length!==this.add.length?((n=new br(this.dataflow).init(this)).add=n.source,n):n},xr.init=function(n,t){var e=this;return e.stamp=n.stamp,e.encode=n.encode,!n.fields||64&t||(e.fields=n.fields),1&t?(e.addF=n.addF,e.add=n.add):(e.addF=null,e.add=[]),2&t?(e.remF=n.remF,e.rem=n.rem):(e.remF=null,e.rem=[]),4&t?(e.modF=n.modF,e.mod=n.mod):(e.modF=null,e.mod=[]),32&t?(e.srcF=null,e.source=null):(e.srcF=n.srcF,e.source=n.source),e},xr.runAfter=function(n){this.dataflow.runAfter(n)},xr.changed=function(n){var t=n||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},xr.reflow=function(n){if(n)return this.fork(7).reflow();var t=this.add.length,e=this.source&&this.source.length;return e&&e!==t&&(this.mod=this.source,t&&this.filter(4,jr(this,1))),this},xr.modifies=function(n){var t=I(n),e=this.fields||(this.fields={});return t.forEach((function(n){e[n]=!0})),this},xr.modified=function(n){var t=this.fields;return!(!this.mod.length||!t)&&(arguments.length?a(n)?n.some((function(n){return t[n]})):t[n]:!!t)},xr.filter=function(n,t){var e=this;return 1&n&&(e.addF=_r(e.addF,t)),2&n&&(e.remF=_r(e.remF,t)),4&n&&(e.modF=_r(e.modF,t)),16&n&&(e.srcF=_r(e.srcF,t)),e},xr.materialize=function(n){var t=this;return 1&(n=n||7)&&t.addF&&(t.add=kr(t.add,t.addF),t.addF=null),2&n&&t.remF&&(t.rem=kr(t.rem,t.remF),t.remF=null),4&n&&t.modF&&(t.mod=kr(t.mod,t.modF),t.modF=null),16&n&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},xr.visit=function(n,t){var e,r,i=this,l=t;return 16&n?(vn(i.source,i.srcF,l),i):(1&n&&vn(i.add,i.addF,l),2&n&&vn(i.rem,i.remF,l),4&n&&vn(i.mod,i.modF,l),8&n&&(e=i.source)&&((r=i.add.length+i.mod.length)===e.length||vn(e,r?jr(i,5):i.srcF,l)),i)};var Ar=Z(Or,br);function Er(n){return n.error("Dataflow already running. Use runAsync() to chain invocations."),n}Ar.fork=function(n){var t=new br(this.dataflow).init(this,n&this.NO_FIELDS);return void 0!==n&&(n&t.ADD&&this.visit(t.ADD,(function(n){return t.add.push(n)})),n&t.REM&&this.visit(t.REM,(function(n){return t.rem.push(n)})),n&t.MOD&&this.visit(t.MOD,(function(n){return t.mod.push(n)}))),t},Ar.changed=function(n){return this.changes&n},Ar.modified=function(n){var t=this,e=t.fields;return e&&t.changes&t.MOD?a(n)?n.some((function(n){return e[n]})):e[n]:0},Ar.filter=function(){l("MultiPulse does not support filtering.")},Ar.materialize=function(){l("MultiPulse does not support materialization.")},Ar.visit=function(n,t){var e=this,r=e.pulses,i=r.length,l=0;if(n&e.SOURCE)for(;l<i;++l)r[l].visit(n,t);else for(;l<i;++l)r[l].stamp===e.stamp&&r[l].visit(n,t);return e};var Sr={skip:!1,force:!1};function Cr(n,t,e,r){var i,l,u;for(i=n[e];e>t&&r(i,l=n[u=e-1>>1])<0;)n[e]=l,e=u;return n[e]=i}function Dr(){this.logger(b()),this.logLevel(1),this._clock=0,this._rank=0;try{this._loader=pr()}catch(n){}this._touched=wn(d),this._pulses={},this._pulse=null,this._heap=function(n){var t=[];return{size:()=>t.length,peek:()=>t[0],push:e=>(t.push(e),Cr(t,0,t.length-1,n)),pop:()=>{var e,r=t.pop();return t.length?(e=t[0],t[0]=r,function(n,t,e){for(var r,i=t,l=n.length,u=n[t],a=1+(t<<1);a<l;)(r=a+1)<l&&e(n[a],n[r])>=0&&(a=r),n[t]=n[a],a=1+((t=a)<<1);n[t]=u,Cr(n,i,t,e)}(t,0,n)):e=r,e}}}((n,t)=>n.qrank-t.qrank),this._postrun=[]}var Mr=Dr.prototype;function Fr(n){return function(){return this._log[n].apply(this,arguments)}}function Tr(n,t){zn.call(this,n,null,t)}Mr.stamp=function(){return this._clock},Mr.loader=function(n){return arguments.length?(this._loader=n,this):this._loader},Mr.cleanThreshold=1e4,Mr.add=function(n,t,e,r){var i,l=1;return n instanceof zn?i=n:n&&n.prototype instanceof zn?i=new n:U(n)?i=new zn(null,n):(l=0,i=new zn(n,t)),this.rank(i),l&&(r=e,e=t),e&&this.connect(i,i.parameters(e,r)),this.touch(i),i},Mr.connect=function(n,t){var e,r,i=n.rank;for(e=0,r=t.length;e<r;++e)if(i<t[e].rank)return void this.rerank(n)},Mr.rank=function(n){n.rank=++this._rank},Mr.rerank=function(n){for(var t,e,r,i=[n];i.length;)if(this.rank(t=i.pop()),e=t._targets)for(r=e.length;--r>=0;)i.push(t=e[r]),t===n&&l("Cycle detected in dataflow graph.")},Mr.pulse=function(n,t,e){this.touch(n,e||Sr);var r=new br(this,this._clock+(this._pulse?0:1)),i=n.pulse&&n.pulse.source||[];return r.target=n,this._pulses[n.id]=t.pulse(r,i),this},Mr.touch=function(n,t){var e=t||Sr;return this._pulse?this._enqueue(n):this._touched.add(n),e.skip&&n.skip(!0),this},Mr.update=function(n,t,e){var r=e||Sr;return(n.set(t)||r.force)&&this.touch(n,r),this},Mr.changeset=Dn,Mr.ingest=function(n,t,e){return this.pulse(n,this.changeset().insert(gr(t,e)))},Mr.parse=gr,Mr.preload=async function(n,t,e){const r=this,i=r._pending||function(n){var t,e=new Promise((function(n){t=n}));return e.requests=0,e.done=function(){0==--e.requests&&(n._pending=null,t(n))},n._pending=e}(r);i.requests+=1;const l=await r.request(t,e);return r.pulse(n,r.changeset().remove(v).insert(l.data||[])),i.done(),l},Mr.request=async function(n,t){const e=this;let r,i=0;try{r=await e.loader().load(n,{context:"dataflow",response:_t(t&&t.type)});try{r=gr(r,t)}catch(t){i=-2,e.warn("Data ingestion failed",n,t)}}catch(t){i=-1,e.warn("Loading failed",n,t)}return{data:r,status:i}},Mr.events=function(n,t,e,r){for(var i,l=this,u=Ln(e,r),a=function(n){n.dataflow=l;try{u.receive(n)}catch(n){l.error(n)}finally{l.run()}},o=0,s=(i="string"==typeof n&&"undefined"!=typeof document?document.querySelectorAll(n):I(n)).length;o<s;++o)i[o].addEventListener(t,a);return u},Mr.on=function(n,t,e,r,i){return(n instanceof zn?wr:vr)(this,n,t,e,r,i),this},Mr.evaluate=async function(n,t,e){const r=this,i=r.logLevel();if(r._pulse)return Er(r);if(r._pending&&await r._pending,t&&await yn(r,t),!r._touched.length)return r.info("Dataflow invoked, but nothing to do."),r;let l,u,a,o,s=++r._clock,c=0;r._pulse=new br(r,s,n),i>=3&&(a=Date.now(),r.debug("-- START PROPAGATION ("+s+") -----")),r._touched.forEach((function(n){r._enqueue(n,!0)})),r._touched=wn(d);try{for(;r._heap.size()>0;)(l=r._heap.pop()).rank===l.qrank?((u=l.run(r._getPulse(l,n))).then&&(u=await u),i>=4&&r.debug(l.id,u===yr?"STOP":u,l),u!==yr&&(r._pulse=u,l._targets&&l._targets.forEach(n=>r._enqueue(n))),++c):r._enqueue(l,!0)}catch(n){o=n}if(r._pulses={},r._pulse=null,i>=3&&(a=Date.now()-a,r.info("> Pulse "+s+": "+c+" operators; "+a+"ms")),o&&(r._postrun=[],r.error(o)),r._postrun.length){const n=r._postrun.sort((n,t)=>t.priority-n.priority);r._postrun=[];for(let t=0;t<n.length;++t)await yn(r,n[t].callback)}return e&&await yn(r,e),r},Mr.run=function(n,t,e){return this._pulse?Er(this):(this.evaluate(n,t,e),this)},Mr.runAsync=async function(n,t,e){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(n,t,e)).then(r,r),this._running},Mr.runAfter=function(n,t,e){if(this._pulse||t)this._postrun.push({priority:e||0,callback:n});else try{n(this)}catch(n){this.error(n)}},Mr._enqueue=function(n,t){var e=!this._pulses[n.id];e&&(this._pulses[n.id]=this._pulse),(e||t)&&(n.qrank=n.rank,this._heap.push(n))},Mr._getPulse=function(n,t){var e,r=n.source,i=this._clock;return r&&a(r)?new Or(this,i,e=r.map((function(n){return n.pulse})),t):(e=this._pulses[n.id],r&&((r=r.pulse)&&r!==yr?r.stamp===i&&e.target!==n?e=r:e.source=r.source:e.source=[]),e)},Mr.logger=function(n){return arguments.length?(this._log=n,this):this._log},Mr.error=Fr("error"),Mr.warn=Fr("warn"),Mr.info=Fr("info"),Mr.debug=Fr("debug"),Mr.logLevel=Fr("level");var Nr=Z(Tr,zn);Nr.run=function(n){return n.stamp<=this.stamp?n.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(n),t=t||n,this.stamp=n.stamp,t.then?t=t.then(n=>this.pulse=n):t!==n.StopPropagation&&(this.pulse=t),t);var t},Nr.evaluate=function(n){var t=this.marshall(n.stamp),e=this.transform(t,n);return t.clear(),e},Nr.transform=function(){};var Br={};function zr(n){var t=Pr(n);return t&&t.Definition||null}function Pr(n){return n=n&&n.toLowerCase(),Br.hasOwnProperty(n)?Br[n]:null}function $r(n){return n&&n.length?1===n.length?n[0]:(t=n,function(n){for(var e=t.length,r=1,i=String(t[0](n));r<e;++r)i+="|"+t[r](n);return i}):function(){return""};var t}function Rr(n,t,e){return e||n+(t?"_"+t:"")}var Ir={values:qr({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:qr({name:"count",set:"cell.num"}),__count__:qr({name:"count",set:"this.missing + this.valid"}),missing:qr({name:"missing",set:"this.missing"}),valid:qr({name:"valid",set:"this.valid"}),sum:qr({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:qr({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:qr({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:qr({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:qr({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:qr({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:qr({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:qr({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:qr({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:qr({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:qr({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:qr({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:qr({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:qr({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:qr({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:qr({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:qr({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:qr({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Lr=Object.keys(Ir);function Ur(n,t){return Ir[n](t)}function qr(n){return function(t){var e=G({init:"",add:"",rem:"",idx:0},n);return e.out=t||n.name,e}}function Hr(n,t){return n.idx-t.idx}function Wr(n,t){var e=t||p,r=function(n,t){var e,r=n.reduce((function n(t,e){function r(e){t[e]||n(t,t[e]=Ir[e]())}return e.req&&e.req.forEach(r),e.str&&e.str.forEach(r),t}),n.reduce((function(n,t){return n[t.name]=t,n}),{})),i=[];for(e in r)i.push(r[e]);return i.sort(Hr)}(n),i="var cell = this.cell; this.valid = 0; this.missing = 0;",l="this.cell = cell; this.init();",u="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",a="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",o="var cell = this.cell;";return r.forEach((function(n){i+=n.init,u+=n.add,a+=n.rem})),n.slice().sort(Hr).forEach((function(n){o+="t['"+n.out+"']="+n.set+";"})),o+="return t;",(l=Function("cell",l)).prototype.init=Function(i),l.prototype.add=Function("v","t",u),l.prototype.rem=Function("v","t",a),l.prototype.set=Function("t",o),l.prototype.get=e,l.fields=n.map((function(n){return n.out})),l}function Gr(n){var t,e,r,i,l,u,a,o,s=n.maxbins||20,c=n.base||10,f=Math.log(c),h=n.divide||[5,2],d=n.extent[0],p=n.extent[1],g=p-d||Math.abs(d)||1;if(n.step)t=n.step;else if(n.steps){for(l=g/s,u=0,a=n.steps.length;u<a&&n.steps[u]<l;++u);t=n.steps[Math.max(0,u-1)]}else{for(e=Math.ceil(Math.log(s)/f),r=n.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(g)/f)-e));Math.ceil(g/t)>s;)t*=c;for(u=0,a=h.length;u<a;++u)(l=t/h[u])>=r&&g/l<=s&&(t=l)}return i=(l=Math.log(t))>=0?0:1+~~(-l/f),o=Math.pow(c,-i-1),(n.nice||void 0===n.nice)&&(d=d<(l=Math.floor(d/t+o)*t)?l-t:l,p=Math.ceil(p/t)*t),{start:d,stop:p===d?d+t:p,step:t}}function*Yr(n,t){if(void 0===t)for(let t of n)null!=t&&(t=+t)>=t&&(yield t);else{let e=-1;for(let r of n)null!=(r=t(r,++e,n))&&(r=+r)>=r&&(yield r)}}function Vr(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Jr(n){var t;return 1===n.length&&(t=n,n=function(n,e){return Vr(t(n),e)}),{left:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var l=r+i>>>1;n(t[l],e)<0?r=l+1:i=l}return r},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var l=r+i>>>1;n(t[l],e)>0?i=l:r=l+1}return r}}}n.random=Math.random;var Xr=Jr(Vr),Kr=Xr.right,Zr=Xr.left;function Qr(n,t){let e,r;if(void 0===t)for(let t of n)null!=t&&t>=t&&(void 0===e?e=r=t:(e>t&&(e=t),r<t&&(r=t)));else{let i=-1;for(let l of n)null!=(l=t(l,++i,n))&&l>=l&&(void 0===e?e=r=l:(e>l&&(e=l),r<l&&(r=l)))}return[e,r]}function ni(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((t-n)/e)),l=new Array(i);++r<i;)l[r]=n+r*e;return l}var ti=Math.sqrt(50),ei=Math.sqrt(10),ri=Math.sqrt(2);function ii(n,t,e){var r,i,l,u,a=-1;if(e=+e,(n=+n)==(t=+t)&&e>0)return[n];if((r=t<n)&&(i=n,n=t,t=i),0===(u=li(n,t,e))||!isFinite(u))return[];if(u>0)for(n=Math.ceil(n/u),t=Math.floor(t/u),l=new Array(i=Math.ceil(t-n+1));++a<i;)l[a]=(n+a)*u;else for(n=Math.floor(n*u),t=Math.ceil(t*u),l=new Array(i=Math.ceil(n-t+1));++a<i;)l[a]=(n-a)/u;return r&&l.reverse(),l}function li(n,t,e){var r=(t-n)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,i);return i>=0?(l>=ti?10:l>=ei?5:l>=ri?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=ti?10:l>=ei?5:l>=ri?2:1)}function ui(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/i;return l>=ti?i*=10:l>=ei?i*=5:l>=ri&&(i*=2),t<n?-i:i}function ai(n,t,e=function(n){return null===n?NaN:+n}){if(r=n.length){if((t=+t)<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,l=Math.floor(i),u=+e(n[l],l,n);return u+(+e(n[l+1],l+1,n)-u)*(i-l)}}function oi(n,t,e=0,r=n.length-1,i=Vr){for(;r>e;){if(r-e>600){const l=r-e+1,u=t-e+1,a=Math.log(l),o=.5*Math.exp(2*a/3),s=.5*Math.sqrt(a*o*(l-o)/l)*(u-l/2<0?-1:1);oi(n,t,Math.max(e,Math.floor(t-u*o/l+s)),Math.min(r,Math.floor(t+(l-u)*o/l+s)),i)}const l=n[t];let u=e,a=r;for(si(n,e,t),i(n[r],l)>0&&si(n,e,r);u<a;){for(si(n,u,a),++u,--a;i(n[u],l)<0;)++u;for(;i(n[a],l)>0;)--a}0===i(n[e],l)?si(n,e,a):si(n,++a,r),a<=t&&(e=a+1),t<=a&&(r=a-1)}return n}function si(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function ci(n,t){if(!(n=Float64Array.from(function*(n,t){if(void 0===t)for(let t of n)null!=t&&(t=+t)>=t&&(yield t);else{let e=-1;for(let r of n)null!=(r=t(r,++e,n))&&(r=+r)>=r&&(yield r)}}(n,t))).length)return;const e=n.length,r=e>>1;return oi(n,r-1,0),0==(1&e)&&oi(n,r,r),ai(n,.5)}function fi(t,e,r,i){if(!t.length)return[void 0,void 0];var l,u,a,o,s=Float64Array.from(Yr(t,i)),c=s.length,f=e;for(a=0,o=Array(f);a<f;++a){for(l=0,u=0;u<c;++u)l+=s[~~(n.random()*c)];o[a]=l/c}return[ai(o.sort(Vr),r/2),ai(o,1-r/2)]}function hi(n,t){var e=Float64Array.from(Yr(n,t));return[ai(e.sort(Vr),.25),ai(e,.5),ai(e,.75)]}function di(t,e){var r,i,l=NaN,u={mean:function(n){return arguments.length?(r=n||0,l=NaN,u):r},stdev:function(n){return arguments.length?(i=null==n?1:n,l=NaN,u):i},sample:function(){var t,e,u=0,a=0;if(l==l)return u=l,l=NaN,u;do{t=(u=2*n.random()-1)*u+(a=2*n.random()-1)*a}while(0===t||t>1);return e=Math.sqrt(-2*Math.log(t)/t),l=r+a*e*i,r+u*e*i},pdf:function(n){var t=Math.exp(Math.pow(n-r,2)/(-2*Math.pow(i,2)));return 1/(i*Math.sqrt(2*Math.PI))*t},cdf:function(n){var t,e=(n-r)/i,l=Math.abs(e);if(l>37)t=0;else{var u=Math.exp(-l*l/2);l<7.07106781186547?(t=u*((((((.0352624965998911*l+.700383064443688)*l+6.37396220353165)*l+33.912866078383)*l+112.079291497871)*l+221.213596169931)*l+220.206867912376),t/=((((((.0883883476483184*l+1.75566716318264)*l+16.064177579207)*l+86.7807322029461)*l+296.564248779674)*l+637.333633378831)*l+793.826512519948)*l+440.413735824752):t=u/(l+1/(l+2/(l+3/(l+4/(l+.65)))))/2.506628274631}return e>0?1-t:t},icdf:function(n){if(n<=0||n>=1)return NaN;var t=2*n-1,e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),l=2/(Math.PI*e)+Math.log(1-Math.pow(t,2))/2,u=Math.log(1-t*t)/e,a=(t>0?1:-1)*Math.sqrt(Math.sqrt(l*l-u)-l);return r+i*Math.SQRT2*a}};return u.mean(t).stdev(e)}function pi(t,e){var r=di(),i={},l=0;return i.data=function(n){return arguments.length?(t=n,l=n?n.length:0,i.bandwidth(e)):t},i.bandwidth=function(n){return arguments.length?(!(e=n)&&t&&(l=(r=t).length,a=((u=hi(r))[2]-u[0])/1.34,e=1.06*Math.min(Math.sqrt(function(n,t){let e,r=0,i=0,l=0;for(let t of n)null!=t&&(t=+t)>=t&&(l+=(e=t-i)*(t-(i+=e/++r)));if(r>1)return l/(r-1)}(r)),a)*Math.pow(l,-.2)),i):e;var r,l,u,a},i.sample=function(){return t[~~(n.random()*l)]+e*r.sample()},i.pdf=function(n){for(var i=0,u=0;u<l;++u)i+=r.pdf((n-t[u])/e);return i/e/l},i.cdf=function(n){for(var i=0,u=0;u<l;++u)i+=r.cdf((n-t[u])/e);return i/l},i.icdf=function(){throw Error("KDE icdf not supported.")},i.data(t)}function gi(t,e){var r,i={},l=0;return i.weights=function(n){return arguments.length?(r=function(n){var t,e=[],r=0;for(t=0;t<l;++t)r+=e[t]=null==n[t]?1:+n[t];for(t=0;t<l;++t)e[t]/=r;return e}(e=n||[]),i):e},i.distributions=function(n){return arguments.length?(n?(l=n.length,t=n):(l=0,t=[]),i.weights(e)):t},i.sample=function(){for(var e=n.random(),i=t[l-1],u=r[0],a=0;a<l-1;u+=r[++a])if(e<u){i=t[a];break}return i.sample()},i.pdf=function(n){for(var e=0,i=0;i<l;++i)e+=r[i]*t[i].pdf(n);return e},i.cdf=function(n){for(var e=0,i=0;i<l;++i)e+=r[i]*t[i].cdf(n);return e},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(t).weights(e)}function mi(t,e){null==e&&(e=null==t?1:t,t=0);var r,i,l,u={min:function(n){return arguments.length?(l=i-(r=n||0),u):r},max:function(n){return arguments.length?(l=(i=n||0)-r,u):i},sample:function(){return r+l*n.random()},pdf:function(n){return n>=r&&n<=i?1/l:0},cdf:function(n){return n<r?0:n>i?1:(n-r)/l},icdf:function(n){return n>=0&&n<=1?r+n*l:NaN}};return u.min(t).max(e)}function vi(n,t,e,r){const i=r-n*n,l=Math.abs(i)<1e-24?0:(e-n*t)/i;return[t-l*n,l]}function wi(n,t,e,r){n=n.filter(n=>{let r=t(n),i=e(n);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i}),r&&n.sort((n,e)=>t(n)-t(e));const i=new Float64Array(n.length),l=new Float64Array(n.length);let u=0;for(let r of n)i[u]=t(r),l[u]=e(r),++u;return[i,l]}function yi(n,t,e,r){let i,l,u=-1,a=-1;for(let o of n)i=t(o,++u,n),l=e(o,u,n),null!=i&&(i=+i)>=i&&null!=l&&(l=+l)>=l&&r(i,l,++a)}function bi(n,t,e,r,i){let l=0,u=0;return yi(n,t,e,(n,t)=>{const e=t-i(n),a=t-r;l+=e*e,u+=a*a}),1-l/u}function xi(n,t,e){let r=0,i=0,l=0,u=0,a=0;yi(n,t,e,(n,t)=>{r+=n,i+=t,l+=n*t,u+=n*n,++a});const o=vi(r/a,i/a,l/a,u/a),s=n=>o[0]+o[1]*n;return{coef:o,predict:s,rSquared:bi(n,t,e,i/a,s)}}function _i(n,t,e){let r=0,i=0,l=0,u=0,a=0;yi(n,t,e,(n,t)=>{n=Math.log(n),r+=n,i+=t,l+=n*t,u+=n*n,++a});const o=vi(r/a,i/a,l/a,u/a),s=n=>o[0]+o[1]*Math.log(n);return{coef:o,predict:s,rSquared:bi(n,t,e,i/a,s)}}function ki(n,t,e){let r=0,i=0,l=0,u=0,a=0,o=0;yi(n,t,e,(n,t)=>{const e=Math.log(t),s=n*t;r+=t,l+=s,a+=n*s,i+=t*e,u+=s*e,++o});const s=vi(l/r,i/r,u/r,a/r),c=n=>s[0]*Math.exp(s[1]*n);return s[0]=Math.exp(s[0]),{coef:s,predict:c,rSquared:bi(n,t,e,r/o,c)}}function ji(n,t,e){let r=0,i=0,l=0,u=0,a=0,o=0;yi(n,t,e,(n,t)=>{const e=Math.log(n),s=Math.log(t);r+=e,i+=s,l+=e*s,u+=e*e,a+=t,++o});const s=vi(r/o,i/o,l/o,u/o),c=n=>s[0]*Math.pow(n,s[1]);return s[0]=Math.exp(s[0]),{coef:s,predict:c,rSquared:bi(n,t,e,a/o,c)}}function Oi(n,t,e){let r=0,i=0,l=0,u=0,a=0,o=0,s=0,c=0;yi(n,t,e,(n,t)=>{const e=n*n;r+=n,i+=t,l+=e,u+=e*n,a+=e*e,o+=n*t,s+=e*t,++c});const f=l-r*r/c,h=u-l*r/c,d=a-l*l/c,p=f*d-h*h,g=((s-=l*(i/=c))*f-(o-=r*i)*h)/p,m=(o*d-s*h)/p,v=i-m*(r/c)-g*(l/c),w=n=>g*n*n+m*n+v;return{coef:[v,m,g],predict:w,rSquared:bi(n,t,e,i,w)}}function Ai(n,t,e,r){if(1===r)return xi(n,t,e);if(2===r)return Oi(n,t,e);const[i,l]=wi(n,t,e),u=i.length,a=[],o=[],s=r+1;let c,f,h,d,p,g=0;for(c=0;c<u;++c)g+=l[c];for(c=0;c<s;++c){for(h=0,d=0;h<u;++h)d+=Math.pow(i[h],c)*l[h];for(a.push(d),p=new Float64Array(s),f=0;f<s;++f){for(h=0,d=0;h<u;++h)d+=Math.pow(i[h],c+f);p[f]=d}o.push(p)}o.push(a);const m=function(n){const t=n.length-1,e=[];let r,i,l,u,a;for(r=0;r<t;++r){for(u=r,i=r+1;i<t;++i)Math.abs(n[r][i])>Math.abs(n[r][u])&&(u=i);for(l=r;l<t+1;++l)a=n[l][r],n[l][r]=n[l][u],n[l][u]=a;for(i=r+1;i<t;++i)for(l=t;l>=r;l--)n[l][i]-=n[l][r]*n[r][i]/n[r][r]}for(i=t-1;i>=0;--i){for(a=0,l=i+1;l<t;++l)a+=n[l][i]*e[l];e[i]=(n[t][i]-a)/n[i][i]}return e}(o),v=n=>{let t=0,e=0,r=m.length;for(;e<r;++e)t+=m[e]*Math.pow(n,e);return t};return{coef:m,predict:v,rSquared:bi(n,t,e,g/u,v)}}function Ei(n,t,e,r){const[i,l]=wi(n,t,e,!0),u=i.length,a=Math.max(2,~~(r*u)),o=new Float64Array(u),s=new Float64Array(u),c=new Float64Array(u).fill(1);for(let n=-1;++n<=2;){const t=[0,a-1];for(let n=0;n<u;++n){const e=i[n],r=t[0],u=t[1],a=e-i[r]>i[u]-e?r:u;let f=0,h=0,d=0,p=0,g=0,m=1/Math.abs(i[a]-e||1);for(let n=r;n<=u;++n){const t=i[n],r=l[n],u=Si(Math.abs(e-t)*m)*c[n],a=t*u;f+=u,h+=a,d+=r*u,p+=r*a,g+=t*a}const[v,w]=vi(h/f,d/f,p/f,g/f);o[n]=v+w*e,s[n]=Math.abs(l[n]-o[n]),Ci(i,n+1,t)}if(2===n)break;const e=ci(s);if(Math.abs(e)<1e-12)break;for(let n,t,r=0;r<u;++r)n=s[r]/(6*e),c[r]=n>=1?1e-12:(t=1-n*n)*t}return function(n,t){const e=n.length,r=[];for(let i,l=0,u=0,a=[];l<e;++l)i=n[l],a[0]===i?a[1]+=(t[l]-a[1])/++u:(u=0,a=[i,t[l]],r.push(a));return r}(i,o)}function Si(n){return(n=1-n*n*n)*n*n}function Ci(n,t,e){let r=n[t],i=e[0],l=e[1]+1;if(!(l>=n.length))for(;t>i&&n[l]-r<=r-n[i];)e[0]=++i,e[1]=l,++l}const Di=.1*Math.PI/180;function Mi(n,t,e,r){e=e||25,r=Math.max(e,r||200);const i=t=>[t,n(t)],l=t[0],u=t[1],a=u-l,o=a/r,s=[i(l)],c=[];if(e===r){for(let n=1;n<r;++n)s.push(i(l+n/e*a));return s.push(i(u)),s}c.push(i(u));for(let n=e;--n>0;)c.push(i(l+n/e*a));let f=s[0],h=c[c.length-1];for(;h;){const n=i((f[0]+h[0])/2);n[0]-f[0]>=o&&Fi(f,n,h)>Di?c.push(n):(f=h,s.push(h),c.pop()),h=c[c.length-1]}return s}function Fi(n,t,e){const r=Math.atan2(e[1]-n[1],e[0]-n[0]),i=Math.atan2(t[1]-n[1],t[0]-n[0]);return Math.abs(r-i)}function Ti(n){this._key=n?f(n):kn,this.reset()}var Ni=Ti.prototype;function Bi(n){Tr.call(this,null,n),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Ni.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Ni.add=function(n){this._add.push(n)},Ni.rem=function(n){this._rem.push(n)},Ni.values=function(){if(this._get=null,0===this._rem.length)return this._add;var n,t,e,r=this._add,i=this._rem,l=this._key,u=r.length,a=i.length,o=Array(u-a),s={};for(n=0;n<a;++n)s[l(i[n])]=1;for(n=0,t=0;n<u;++n)s[l(e=r[n])]?s[l(e)]=0:o[t++]=e;return this._rem=[],this._add=o},Ni.distinct=function(n){for(var t,e=this.values(),r=e.length,i={},l=0;--r>=0;)t=n(e[r])+"",i.hasOwnProperty(t)||(i[t]=1,++l);return l},Ni.extent=function(n){if(this._get!==n||!this._ext){var t=this.values(),e=V(t,n);this._ext=[t[e[0]],t[e[1]]],this._get=n}return this._ext},Ni.argmin=function(n){return this.extent(n)[0]||{}},Ni.argmax=function(n){return this.extent(n)[1]||{}},Ni.min=function(n){var t=this.extent(n)[0];return null!=t?n(t):void 0},Ni.max=function(n){var t=this.extent(n)[1];return null!=t?n(t):void 0},Ni.quartile=function(n){return this._get===n&&this._q||(this._q=hi(this.values(),n),this._get=n),this._q},Ni.q1=function(n){return this.quartile(n)[0]},Ni.q2=function(n){return this.quartile(n)[1]},Ni.q3=function(n){return this.quartile(n)[2]},Ni.ci=function(n){return this._get===n&&this._ci||(this._ci=fi(this.values(),1e3,.05,n),this._get=n),this._ci},Ni.ci0=function(n){return this.ci(n)[0]},Ni.ci1=function(n){return this.ci(n)[1]},Bi.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Lr},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var zi=Z(Bi,Tr);function Pi(n){Tr.call(this,null,n)}zi.transform=function(n,t){var e,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS);return this.stamp=i.stamp,this.value&&((e=n.modified())||t.modified(this._inputs))?(this._prev=this.value,this.value=e?this.init(n):{},t.visit(t.SOURCE,(function(n){r.add(n)}))):(this.value=this.value||this.init(n),t.visit(t.REM,(function(n){r.rem(n)})),t.visit(t.ADD,(function(n){r.add(n)}))),i.modifies(this._outputs),r._drop=!1!==n.drop,n.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},zi.cross=function(){var n=this,t=n.value,e=n._dnames,r=e.map((function(){return{}})),i=e.length;function l(n){var t,l,u,a;for(t in n)for(u=n[t].tuple,l=0;l<i;++l)r[l][a=u[e[l]]]=a}l(n._prev),l(t),function l(u,a,o){var s,c,f=e[o],h=r[o++];for(s in h)a[f]=h[s],c=u?u+"|"+s:s,o<i?l(c,a,o):t[c]||n.cell(c,a)}("",{},0)},zi.init=function(n){var t=this._inputs=[],r=this._outputs=[],u={};function a(n){for(var e,r=I(i(n)),l=0,a=r.length;l<a;++l)u[e=r[l]]||(u[e]=1,t.push(e))}this._dims=I(n.groupby),this._dnames=this._dims.map((function(n){var t=e(n);return a(n),r.push(t),t})),this.cellkey=n.key?n.key:$r(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,s,c,f,h,d,p=n.fields||[null],g=n.ops||["count"],m=n.as||[],v=p.length,w={};for(v!==g.length&&l("Unmatched number of fields and aggregate ops."),d=0;d<v;++d)o=p[d],s=g[d],null==o&&"count"!==s&&l("Null aggregate field specified."),h=Rr(s,f=e(o),m[d]),r.push(h),"count"!==s?((c=w[f])||(a(o),(c=w[f]=[]).field=o,this._measures.push(c)),"count"!==s&&(this._countOnly=!1),c.push(Ur(s,h))):this._counts.push(h);return this._measures=this._measures.map((function(n){return Wr(n,n.field)})),{}},zi.cellkey=$r(),zi.cell=function(n,t){var e=this.value[n];return e?0===e.num&&this._drop&&e.stamp<this.stamp?(e.stamp=this.stamp,this._adds[this._alen++]=e):e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e):(e=this.value[n]=this.newcell(n,t),this._adds[this._alen++]=e),e},zi.newcell=function(n,t){var e={key:n,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[n]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,l=i.length;for(e.agg=Array(l),r=0;r<l;++r)e.agg[r]=new i[r](e)}return e.store&&(e.data=new Ti),e},zi.newtuple=function(n,t){var e,r,i=this._dnames,l=this._dims,u={};for(e=0,r=l.length;e<r;++e)u[i[e]]=l[e](n);return t?Sn(t.tuple,u):On(u)},zi.add=function(n){var t,e,r,i=this.cellkey(n),l=this.cell(i,n);if(l.num+=1,!this._countOnly)for(l.store&&l.data.add(n),e=0,r=(t=l.agg).length;e<r;++e)t[e].add(t[e].get(n),n)},zi.rem=function(n){var t,e,r,i=this.cellkey(n),l=this.cell(i,n);if(l.num-=1,!this._countOnly)for(l.store&&l.data.rem(n),e=0,r=(t=l.agg).length;e<r;++e)t[e].rem(t[e].get(n),n)},zi.celltuple=function(n){var t,e,r,i=n.tuple,l=this._counts;for(n.store&&n.data.values(),e=0,r=l.length;e<r;++e)i[l[e]]=n.num;if(!this._countOnly)for(e=0,r=(t=n.agg).length;e<r;++e)t[e].set(i);return i},zi.changes=function(n){var t,e,r,i,l=this._adds,u=this._mods,a=this._prev,o=this._drop,s=n.add,c=n.rem,f=n.mod;if(a)for(e in a)t=a[e],o&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)s.push(this.celltuple(l[r])),l[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=u[r]).num&&o?c:f).push(this.celltuple(t)),u[r]=null;return this._alen=this._mlen=0,this._prev=null,n},Pi.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var $i=Z(Pi,Tr);function Ri(n,t,e){var r=n,i=t||[],l=e||[],u={},a=0;return{add:function(n){l.push(n)},remove:function(n){u[r(n)]=++a},size:function(){return i.length},data:function(n,t){return a&&(i=i.filter((function(n){return!u[r(n)]})),u={},a=0),t&&n&&i.sort(n),l.length&&(i=n?an(n,i,l.sort(n)):i.concat(l),l=[]),i}}}function Ii(n){Tr.call(this,[],n)}function Li(n){zn.call(this,null,Ui,n)}function Ui(n){return this.value&&!n.modified()?this.value:q(n.fields,n.orders)}function qi(n){Tr.call(this,null,n)}$i.transform=function(n,t){var e,r=this._bins(n),l=r.start,u=r.step,a=n.as||["bin0","bin1"],o=a[0],s=a[1];return e=n.modified()?(t=t.reflow(!0)).SOURCE:t.modified(i(n.field))?t.ADD_MOD:t.ADD,t.visit(e,(function(n){var t=r(n);n[o]=t,n[s]=null==t?null:l+u*(1+(t-l)/u)})),t.modifies(a)},$i._bins=function(n){if(this.value&&!n.modified())return this.value;var r,l,u=n.field,a=Gr(n),o=a.start,s=a.stop,c=a.step;null!=(r=n.anchor)&&(l=r-(o+c*Math.floor((r-o)/c)),o+=l,s+=l);var f=function(n){var t=u(n);return null==t?null:(t=Math.max(o,Math.min(+t,s-c)),o+c*Math.floor(1e-14+(t-o)/c))};return f.start=o,f.stop=s,f.step=c,this.value=t(f,i(u),n.name||"bin_"+e(u))},Ii.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Z(Ii,Tr).transform=function(n,t){var e=t.fork(t.ALL),r=Ri(kn,this.value,e.materialize(e.ADD).add),i=n.sort,l=t.changed()||i&&(n.modified("sort")||t.modified(i.fields));return e.visit(e.REM,r.remove),this.modified(l),this.value=e.source=r.data(i,l),t.source&&t.source.root&&(this.value.root=t.source.root),e},Z(Li,zn),qi.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var Hi=Z(qi,Tr);function Wi(n){Tr.call(this,null,n)}Hi.transform=function(n,t){function e(t){return function(e){for(var r,i=function(n,t,e){switch(t){case"upper":n=n.toUpperCase();break;case"lower":n=n.toLowerCase()}return n.match(e)}(a(e),n.case,l)||[],o=0,s=i.length;o<s;++o)u.test(r=i[o])||t(r)}}var r=this._parameterCheck(n,t),i=this._counts,l=this._match,u=this._stop,a=n.field,o=n.as||["text","count"],s=e((function(n){i[n]=1+(i[n]||0)})),c=e((function(n){i[n]-=1}));return r?t.visit(t.SOURCE,s):(t.visit(t.ADD,s),t.visit(t.REM,c)),this._finish(t,o)},Hi._parameterCheck=function(n,t){var e=!1;return!n.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(n.stopwords||"")+"$","i"),e=!0),!n.modified("pattern")&&this._match||(this._match=new RegExp(n.pattern||"[\\w']+","g"),e=!0),(n.modified("field")||t.modified(n.field.fields))&&(e=!0),e&&(this._counts={}),e},Hi._finish=function(n,t){var e,r,i,l=this._counts,u=this._tuples||(this._tuples={}),a=t[0],o=t[1],s=n.fork(n.NO_SOURCE|n.NO_FIELDS);for(e in l)r=u[e],i=l[e]||0,!r&&i?(u[e]=r=On({}),r[a]=e,r[o]=i,s.add.push(r)):0===i?(r&&s.rem.push(r),l[e]=null,u[e]=null):r[o]!==i&&(r[o]=i,s.mod.push(r));return s.modifies(t)},Wi.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Z(Wi,Tr).transform=function(n,t){var e=t.fork(t.NO_SOURCE),r=this.value,i=n.as||["a","b"],l=i[0],u=i[1];return!r||t.changed(t.ADD_REM)||n.modified("as")||n.modified("filter")?(r&&(e.rem=r),r=t.materialize(t.SOURCE).source,e.add=this.value=function(n,t,e,r){for(var i,l,u=[],a={},o=n.length,s=0;s<o;++s)for(a[t]=l=n[s],i=0;i<o;++i)a[e]=n[i],r(a)&&(u.push(On(a)),(a={})[t]=l);return u}(r,l,u,n.filter||v)):e.mod=r,e.source=this.value,e.modifies(i)};var Gi={kde:pi,mixture:gi,normal:di,uniform:mi},Yi="function";function Vi(n){Tr.call(this,null,n)}var Ji=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Xi={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Ji},{name:"weights",type:"number",array:!0}]};function Ki(n){zn.call(this,null,Zi,n),this.modified(!0)}function Zi(n){var r=n.expr;return this.value&&!n.modified("expr")?this.value:t(t=>r(t,n),i(r),e(r))}function Qi(n){Tr.call(this,[void 0,void 0],n)}function nl(n,t){zn.call(this,n),this.parent=t}Vi.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Ji.concat(Xi)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Z(Vi,Tr).transform=function(n,t){var e=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){var r=function n(t,e){var r=t[Yi];Gi.hasOwnProperty(r)||l("Unknown distribution function: "+r);var i=Gi[r]();for(var u in t)"field"===u?i.data((t.from||e()).map(t[u])):"distributions"===u?i[u](t[u].map((function(t){return n(t,e)}))):typeof i[u]===Yi&&i[u](t[u]);return i}(n.distribution,function(n){return function(){return n.materialize(n.SOURCE).source}}(t)),i=n.steps||n.minsteps||25,u=n.steps||n.maxsteps||200,a=n.method||"pdf";"pdf"!==a&&"cdf"!==a&&l("Invalid density method: "+a),n.extent||r.data||l("Missing density extent parameter."),a=r[a];var o=n.as||["value","density"],s=Mi(a,n.extent||Y(r.data()),i,u).map(n=>{var t={};return t[o[0]]=n[0],t[o[1]]=n[1],On(t)});this.value&&(e.rem=this.value),this.value=e.add=e.source=s}return e},Z(Ki,zn),Qi.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Z(Qi,Tr).transform=function(n,t){var e,r=this.value,i=n.field,l=r[0],u=r[1];((e=t.changed()||t.modified(i.fields)||n.modified("field"))||null==l)&&(l=1/0,u=-1/0),t.visit(e?t.SOURCE:t.ADD,(function(n){var t=i(n);null!=t&&((t=+t)<l&&(l=t),t>u&&(u=t))})),isFinite(l)&&isFinite(u)||(l=u=void 0),this.value=[l,u]};var tl=Z(nl,zn);function el(n){Tr.call(this,{},n),this._keys=X();var t=this._targets=[];t.active=0,t.forEach=function(n){for(var e=0,r=t.active;e<r;++e)n(t[e],e,t)}}tl.connect=function(n){return this.targets().add(n),n.source=this},tl.add=function(n){this.value.add.push(n)},tl.rem=function(n){this.value.rem.push(n)},tl.mod=function(n){this.value.mod.push(n)},tl.init=function(n){this.value.init(n,n.NO_SOURCE)},tl.evaluate=function(){return this.value};var rl=Z(el,Tr);function il(n){zn.call(this,null,ll,n)}function ll(n){return this.value&&!n.modified()?this.value:a(n.name)?I(n.name).map((function(n){return f(n)})):f(n.name,n.as)}function ul(n){Tr.call(this,X(),n)}function al(n,t){return n?n.map((function(n,r){return t[r]||e(n)})):null}function ol(n){Tr.call(this,[],n)}function sl(n){Tr.call(this,[],n)}function cl(n){Tr.call(this,null,n)}function fl(n){Tr.call(this,[],n)}rl.activate=function(n){this._targets[this._targets.active++]=n},rl.subflow=function(n,t,e,r){var i,l,u=this.value,a=u.hasOwnProperty(n)&&u[n];return a?a.value.stamp<e.stamp&&(a.init(e),this.activate(a)):(l=r||(l=this._group[n])&&l.tuple,a=(i=e.dataflow).add(new nl(e.fork(e.NO_SOURCE),this)).connect(t(i,n,l)),u[n]=a,this.activate(a)),a},rl.transform=function(n,t){var e=t.dataflow,r=this,i=n.key,l=n.subflow,u=this._keys,a=n.modified("key");function o(n){return r.subflow(n,l,t)}return this._group=n.group||{},this._targets.active=0,t.visit(t.REM,(function(n){var t=kn(n),e=u.get(t);void 0!==e&&(u.delete(t),o(e).rem(n))})),t.visit(t.ADD,(function(n){var t=i(n);u.set(kn(n),t),o(t).add(n)})),a||t.modified(i.fields)?t.visit(t.MOD,(function(n){var t=kn(n),e=u.get(t),r=i(n);e===r?o(r).mod(n):(u.set(t,r),o(e).rem(n),o(r).add(n))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(n){o(u.get(kn(n))).mod(n)})),a&&t.visit(t.REFLOW,(function(n){var t=kn(n),e=u.get(t),r=i(n);e!==r&&(u.set(t,r),o(e).rem(n),o(r).add(n))})),u.empty>e.cleanThreshold&&e.runAfter(u.clean),t},Z(il,zn),ul.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Z(ul,Tr).transform=function(n,t){var e=t.dataflow,r=this.value,i=t.fork(),l=i.add,u=i.rem,a=i.mod,o=n.expr,s=!0;function c(t){var e=kn(t),i=o(t,n),c=r.get(e);i&&c?(r.delete(e),l.push(t)):i||c?s&&i&&!c&&a.push(t):(r.set(e,1),u.push(t))}return t.visit(t.REM,(function(n){var t=kn(n);r.has(t)?r.delete(t):u.push(n)})),t.visit(t.ADD,(function(t){o(t,n)?l.push(t):r.set(kn(t),1)})),t.visit(t.MOD,c),n.modified()&&(s=!1,t.visit(t.REFLOW,c)),r.empty>e.cleanThreshold&&e.runAfter(r.clean),i},ol.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]},Z(ol,Tr).transform=function(n,t){var e=t.fork(t.NO_SOURCE),r=n.fields,i=al(r,n.as||[]),l=i.length;return e.rem=this.value,t.visit(t.SOURCE,(function(n){for(var t,u,a,o=r.map((function(t){return t(n)})),s=o.reduce((function(n,t){return Math.max(n,t.length)}),0),c=0;c<s;++c){for(u=An(n),t=0;t<l;++t)u[i[t]]=null==(a=o[t][c])?null:a;e.add.push(u)}})),this.value=e.source=e.add,e.modifies(i)},sl.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Z(sl,Tr).transform=function(n,t){var r=t.fork(t.NO_SOURCE),i=n.fields,l=i.map(e),u=n.as||["key","value"],a=u[0],o=u[1],s=i.length;return r.rem=this.value,t.visit(t.SOURCE,(function(n){for(var t,e=0;e<s;++e)(t=An(n))[a]=l[e],t[o]=i[e](n),r.add.push(t)})),this.value=r.source=r.add,r.modifies(u)},cl.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Z(cl,Tr).transform=function(n,t){var e=n.expr,r=n.as,i=n.modified(),l=n.initonly?t.ADD:i?t.SOURCE:t.modified(e.fields)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),n.initonly||t.modifies(r),t.visit(l,(function(t){t[r]=e(t,n)}))},Z(fl,Tr).transform=function(n,t){var e,r,i,l=this.value,u=t.fork(t.ALL),a=n.size-l.length,o=n.generator;if(a>0){for(e=[];--a>=0;)e.push(i=On(o(n))),l.push(i);u.add=u.add.length?u.materialize(u.ADD).add.concat(e):e}else r=l.slice(0,-a),u.rem=u.rem.length?u.materialize(u.REM).rem.concat(r):r,l=l.slice(-a);return u.source=this.value=l,u};var hl={value:"value",median:ci,mean:function(n,t){let e=0,r=0;if(void 0===t)for(let t of n)null!=t&&(t=+t)>=t&&(++e,r+=t);else{let i=-1;for(let l of n)null!=(l=t(l,++i,n))&&(l=+l)>=l&&(++e,r+=l)}if(e)return r/e},min:function(n,t){let e;if(void 0===t)for(let t of n)null!=t&&t>=t&&(void 0===e||e>t)&&(e=t);else{let r=-1;for(let i of n)null!=(i=t(i,++r,n))&&i>=i&&(void 0===e||e>i)&&(e=i)}return e},max:function(n,t){let e;if(void 0===t)for(let t of n)null!=t&&t>=t&&(void 0===e||e<t)&&(e=t);else{let r=-1;for(let i of n)null!=(i=t(i,++r,n))&&i>=i&&(void 0===e||e<i)&&(e=i)}return e}},dl=[];function pl(n){Tr.call(this,[],n)}function gl(n){Bi.call(this,n)}pl.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Z(pl,Tr).transform=function(n,t){var r,i,u,a,o,s,c,f,h,d,p=t.fork(t.ALL),g=function(n){var t,e=n.method||hl.value;if(null!=hl[e])return e===hl.value?(t=void 0!==n.value?n.value:0,function(){return t}):hl[e];l("Unrecognized imputation method: "+e)}(n),m=function(n){var t=n.field;return function(n){return n?t(n):NaN}}(n),v=e(n.field),w=e(n.key),y=(n.groupby||[]).map(e),b=function(n,t,e,r){var i,l,u,a,o,s,c,f,h=function(n){return n(f)},d=[],p=r?r.slice():[],g={},m={};for(p.forEach((function(n,t){g[n]=t+1})),a=0,c=n.length;a<c;++a)s=e(f=n[a]),o=g[s]||(g[s]=p.push(s)),(u=m[l=(i=t?t.map(h):dl)+""])||(u=m[l]=[],d.push(u),u.values=i),u[o-1]=f;return d.domain=p,d}(t.source,n.groupby,n.key,n.keyvals),x=[],_=this.value,k=b.domain.length;for(o=0,f=b.length;o<f;++o)for(u=(r=b[o]).values,i=NaN,c=0;c<k;++c)if(null==r[c]){for(a=b.domain[c],d={_impute:!0},s=0,h=u.length;s<h;++s)d[y[s]]=u[s];d[w]=a,d[v]=isNaN(i)?i=g(r,m):i,x.push(On(d))}return x.length&&(p.add=p.materialize(p.ADD).add.concat(x)),_.length&&(p.rem=p.materialize(p.REM).rem.concat(_)),this.value=x,p},gl.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Lr},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var ml=Z(gl,Bi);function vl(n){Tr.call(this,null,n)}function wl(n){zn.call(this,null,yl,n)}function yl(n){return this.value&&!n.modified()?this.value:ln(n.fields,n.flat)}function bl(n){Tr.call(this,[],n)}function xl(n,t,e){e.forEach(On);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=n.value,n.value=r.add=r.source=e,r}function _l(n){Tr.call(this,{},n)}function kl(n){zn.call(this,null,jl,n)}function jl(n){if(this.value&&!n.modified())return this.value;var t,e,r,i=1/0,l=-1/0,u=n.extents;for(t=0,e=u.length;t<e;++t)(r=u[t])[0]<i&&(i=r[0]),r[1]>l&&(l=r[1]);return[i,l]}function Ol(n){zn.call(this,null,Al,n)}function Al(n){return this.value&&!n.modified()?this.value:n.values.reduce((function(n,t){return n.concat(t)}),[])}function El(n){Tr.call(this,null,n)}function Sl(n){Bi.call(this,n)}ml.transform=function(n,t){var e,r=this,i=n.modified();return r.value&&(i||t.modified(r._inputs))?(e=r.value=i?r.init(n):{},t.visit(t.SOURCE,(function(n){r.add(n)}))):(e=r.value=r.value||this.init(n),t.visit(t.REM,(function(n){r.rem(n)})),t.visit(t.ADD,(function(n){r.add(n)}))),r.changes(),t.visit(t.SOURCE,(function(n){G(n,e[r.cellkey(n)].tuple)})),t.reflow(i).modifies(this._outputs)},ml.changes=function(){var n,t,e=this._adds,r=this._mods;for(n=0,t=this._alen;n<t;++n)this.celltuple(e[n]),e[n]=null;for(n=0,t=this._mlen;n<t;++n)this.celltuple(r[n]),r[n]=null;this._alen=this._mlen=0},vl.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Z(vl,Tr).transform=function(n,t){var r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){const i=function(n,t,e){var r,i,l,u,a,o,s=[],c=function(n){return n(u)};if(null==t)s.push(n.map(e));else for(r={},i=0,l=n.length;i<l;++i)u=n[i],(o=r[a=t.map(c)])||(r[a]=o=[],o.dims=a,s.push(o)),o.push(e(u));return s}(t.materialize(t.SOURCE).source,n.groupby,n.field),u=(n.groupby||[]).map(e),a=n.bandwidth,o=n.cumulative?"cdf":"pdf",s=n.steps||n.minsteps||25,c=n.steps||n.maxsteps||200,f=n.as||["value","density"],h=[];"pdf"!==o&&"cdf"!==o&&l("Invalid density method: "+o),i.forEach(t=>{const e=pi(t,a)[o],r=n.counts?t.length:1;Mi(e,n.extent||Qr(t),s,c).forEach(n=>{const e={};for(let n=0;n<u.length;++n)e[u[n]]=t.dims[n];e[f[0]]=n[0],e[f[1]]=n[1]*r,h.push(On(e))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=h}return r},Z(wl,zn),Z(bl,Tr).transform=function(n,t){const e=t.dataflow;return n.values?xl(this,t,e.parse(n.values,n.format)):e.request(n.url,n.format).then(n=>xl(this,t,n.data||[]))},_l.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Z(_l,Tr).transform=function(n,t){var r,i,u=t,a=n.as,o=n.fields,s=n.index,c=n.values,f=null==n.default?null:n.default,h=n.modified(),d=h?t.SOURCE:t.ADD,p=o.length;return c?(i=c.length,p>1&&!a&&l('Multi-field lookup requires explicit "as" parameter.'),a&&a.length!==p*i&&l('The "as" parameter has too few output field names.'),a=a||c.map(e),r=function(n){for(var t,e,r=0,l=0;r<p;++r)if(null==(e=s.get(o[r](n))))for(t=0;t<i;++t,++l)n[a[l]]=f;else for(t=0;t<i;++t,++l)n[a[l]]=c[t](e)}):(a||l("Missing output field names."),r=function(n){for(var t,e=0;e<p;++e)t=s.get(o[e](n)),n[a[e]]=null==t?f:t}),h?u=t.reflow(!0):d|=o.some((function(n){return t.modified(n.fields)}))?t.MOD:0,t.visit(d,r),u.modifies(a)},Z(kl,zn),Z(Ol,zn),Z(El,Tr),El.prototype.transform=function(n,t){return this.modified(n.modified()),this.value=n,t.fork(t.NO_SOURCE|t.NO_FIELDS)},Sl.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Lr,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var Cl=Z(Sl,Bi);function Dl(n){el.call(this,n)}function Ml(n){Tr.call(this,null,n)}function Fl(n){Tr.call(this,null,n)}function Tl(n){Tr.call(this,null,n)}function Nl(n){Tr.call(this,[],n),this.count=0}function Bl(n){Tr.call(this,null,n)}function zl(n){Tr.call(this,null,n),this.modified(!0)}function Pl(n){Tr.call(this,X(),n)}function $l(n){Tr.call(this,null,n)}Cl._transform=Cl.transform,Cl.transform=function(n,e){return this._transform(function(n,e){var r=n.field,l=n.value,u=("count"===n.op?"__count__":n.op)||"sum",a=i(r).concat(i(l)),o=function(n,t,e){var r={},i=[];return e.visit(e.SOURCE,(function(t){var e=n(t);r[e]||(r[e]=1,i.push(e))})),i.sort((function(n,t){return(n<t||null==n)&&null!=t?-1:(n>t||null==t)&&null!=n?1:(t=t instanceof Date?+t:t,(n=n instanceof Date?+n:n)!==n&&t==t?-1:t!=t&&n==n?1:0)})),t?i.slice(0,t):i}(r,n.limit||0,e);return{key:n.key,groupby:n.groupby,ops:o.map((function(){return u})),fields:o.map((function(n){return function(n,e,r,i){return t((function(t){return e(t)===n?r(t):NaN}),i,n+"")}(n,r,l,a)})),as:o.map((function(n){return n+""})),modified:n.modified.bind(n)}}(n,e),e)},Z(Dl,el).transform=function(n,t){var e=this,r=n.subflow,u=n.field;return(n.modified("field")||u&&t.modified(i(u)))&&l("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,(function(n){var i=e.subflow(kn(n),r,t,n);u?u(n).forEach((function(n){i.mod(n)})):i.mod(n)})),t.visit(t.ADD,(function(n){var i=e.subflow(kn(n),r,t,n);u?u(n).forEach((function(n){i.add(On(n))})):i.add(n)})),t.visit(t.REM,(function(n){var i=e.subflow(kn(n),r,t,n);u?u(n).forEach((function(n){i.rem(n)})):i.rem(n)})),t},Ml.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Z(Ml,Tr).transform=function(n,t){var e,r,i=n.fields,l=al(n.fields,n.as||[]),u=i?function(n,t){return function(n,t,e,r){for(var i=0,l=e.length;i<l;++i)t[r[i]]=e[i](n);return t}(n,t,i,l)}:En;return this.value?r=this.value:(t=t.addAll(),r=this.value={}),e=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(n){var t=kn(n);e.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(n){var t=u(n,On({}));r[kn(n)]=t,e.add.push(t)})),t.visit(t.MOD,(function(n){e.mod.push(u(n,r[kn(n)]))})),e},Z(Fl,Tr).transform=function(n,t){return this.value=n.value,n.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation},Z(Tl,Tr).transform=function(n,t){var e,r;return this.value?r=this.value:(e=t=t.addAll(),r=this.value={}),n.derive&&(e=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(n){var t=kn(n);e.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(n){var t=An(n);r[kn(n)]=t,e.add.push(t)})),t.visit(t.MOD,(function(n){e.mod.push(En(n,r[kn(n)]))}))),e},Nl.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Z(Nl,Tr).transform=function(t,e){var r=e.fork(e.NO_SOURCE),i=t.modified("size"),l=t.size,u=this.value,a=this.count,o=0,s=u.reduce((function(n,t){return n[kn(t)]=1,n}),{});function c(t){var e,i;u.length<l?u.push(t):(i=~~((a+1)*n.random()))<u.length&&i>=o&&(e=u[i],s[kn(e)]&&r.rem.push(e),u[i]=t),++a}if(e.rem.length&&(e.visit(e.REM,(function(n){var t=kn(n);s[t]&&(s[t]=-1,r.rem.push(n)),--a})),u=u.filter((function(n){return-1!==s[kn(n)]}))),(e.rem.length||i)&&u.length<l&&e.source&&(o=a=u.length,e.visit(e.SOURCE,(function(n){s[kn(n)]||c(n)})),o=-1),i&&u.length>l){for(var f=0,h=u.length-l;f<h;++f)s[kn(u[f])]=-1,r.rem.push(u[f]);u=u.slice(h)}return e.mod.length&&e.visit(e.MOD,(function(n){s[kn(n)]&&r.mod.push(n)})),e.add.length&&e.visit(e.ADD,c),(e.add.length||o<0)&&(r.add=u.filter((function(n){return!s[kn(n)]}))),this.count=a,this.value=r.source=u,r},Bl.Definition={type:"Sequence",metadata:{changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Z(Bl,Tr).transform=function(n,t){if(!this.value||n.modified()){var e=t.materialize().fork(t.MOD),r=n.as||"data";return e.rem=this.value?t.rem.concat(this.value):t.rem,this.value=ni(n.start,n.stop,n.step||1).map((function(n){var t={};return t[r]=n,On(t)})),e.add=t.add.concat(this.value),e}},Z(zl,Tr).transform=function(n,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation},Z(Pl,Tr).transform=function(n,t){var e=t.dataflow,r=n.field,i=this.value,l=!0;function u(n){i.set(r(n),n)}return n.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,u)):t.changed()?(t.visit(t.REM,(function(n){i.delete(r(n))})),t.visit(t.ADD,u)):l=!1,this.modified(l),i.empty>e.cleanThreshold&&e.runAfter(i.clean),t.fork()},Z($l,Tr).transform=function(n,t){(!this.value||n.modified("field")||n.modified("sort")||t.changed()||n.sort&&t.modified(n.sort.fields))&&(this.value=(n.sort?t.source.slice().sort(n.sort):t.source).map(n.field))};const Rl={row_number:function(){return{next:n=>n.index+1}},rank:function(){let n;return{init:()=>n=1,next:t=>{let e=t.index,r=t.data;return e&&t.compare(r[e-1],r[e])?n=e+1:n}}},dense_rank:function(){let n;return{init:()=>n=1,next:t=>{let e=t.index,r=t.data;return e&&t.compare(r[e-1],r[e])?++n:n}}},percent_rank:function(){let n=Rl.rank(),t=n.next;return{init:n.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let n;return{init:()=>n=0,next:t=>{let e=t.index,r=t.data,i=t.compare;if(n<e){for(;e+1<r.length&&!i(r[e],r[e+1]);)++e;n=e}return(1+n)/r.length}}},ntile:function(n,t){(t=+t)>0||l("ntile num must be greater than zero.");let e=Rl.cume_dist(),r=e.next;return{init:e.init,next:n=>Math.ceil(t*r(n))}},lag:function(n,t){return t=+t||1,{next:e=>{let r=e.index-t;return r>=0?n(e.data[r]):null}}},lead:function(n,t){return t=+t||1,{next:e=>{let r=e.index+t,i=e.data;return r<i.length?n(i[r]):null}}},first_value:function(n){return{next:t=>n(t.data[t.i0])}},last_value:function(n){return{next:t=>n(t.data[t.i1-1])}},nth_value:function(n,t){return(t=+t)>0||l("nth_value nth must be greater than zero."),{next:e=>{let r=e.i0+(t-1);return r<e.i1?n(e.data[r]):null}}},prev_value:function(n){let t=null;return{next:e=>{let r=n(e.data[e.index]);return null!=r?t=r:t}}},next_value:function(n){let t=null,e=-1;return{next:r=>{let i=r.data;return r.index<=e?t:(e=function(n,t,e){for(let r=t.length;e<r;++e)if(null!=n(t[e]))return e;return-1}(n,i,r.index))<0?(e=i.length,t=null):t=n(i[e])}}}};var Il=Object.keys(Rl);function Ll(n){let t=this,r=I(n.ops),u=I(n.fields),a=I(n.params),o=I(n.as),s=t.outputs=[],c=t.windows=[],f={},h={},d=!0,p=[],m=[];function v(n){I(i(n)).forEach(n=>f[n]=1)}v(n.sort),r.forEach((function(n,t){let r=u[t],i=e(r),f=Rr(n,i,o[t]);if(v(r),s.push(f),Rl.hasOwnProperty(n))c.push(function(n,t,e,r){let i=Rl[n](t,e);return{init:i.init||g,update:function(n,t){t[r]=i.next(n)}}}(n,u[t],a[t],f));else{if(null==r&&"count"!==n&&l("Null aggregate field specified."),"count"===n)return void p.push(f);d=!1;let t=h[i];t||((t=h[i]=[]).field=r,m.push(t)),t.push(Ur(n,f))}})),(p.length||m.length)&&(t.cell=function(n,t,e){n=n.map(n=>Wr(n,n.field));let r={num:0,agg:null,store:!1,count:t};if(!e)for(var i=n.length,l=r.agg=Array(i),u=0;u<i;++u)l[u]=new n[u](r);if(r.store)var a=r.data=new Ti;return r.add=function(n){if(r.num+=1,!e){a&&a.add(n);for(let t=0;t<i;++t)l[t].add(l[t].get(n),n)}},r.rem=function(n){if(r.num-=1,!e){a&&a.rem(n);for(let t=0;t<i;++t)l[t].rem(l[t].get(n),n)}},r.set=function(n){let i,u;for(a&&a.values(),i=0,u=t.length;i<u;++i)n[t[i]]=r.num;if(!e)for(i=0,u=l.length;i<u;++i)l[i].set(n)},r.init=function(){r.num=0,a&&a.reset();for(let n=0;n<i;++n)l[n].init()},r}(m,p,d)),t.inputs=Object.keys(f)}const Ul=Ll.prototype;function ql(n){Tr.call(this,{},n),this._mlen=0,this._mods=[]}Ul.init=function(){this.windows.forEach(n=>n.init()),this.cell&&this.cell.init()},Ul.update=function(n,t){let e,r=this.cell,i=this.windows,l=n.data,u=i&&i.length;if(r){for(e=n.p0;e<n.i0;++e)r.rem(l[e]);for(e=n.p1;e<n.i1;++e)r.add(l[e]);r.set(t)}for(e=0;e<u;++e)i[e].update(n,t)},ql.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Il.concat(Lr)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Hl=Z(ql,Tr);function Wl(n,t,e){var r=e.sort,i=r&&!e.ignorePeers,l=e.frame||[null,0],u=n.data(r),a=u.length,o=0,s=i?Jr(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:r||H(-1)};for(t.init();o<a;++o)Gl(c,l,o,a),i&&Yl(c,s),t.update(c,u[o])}function Gl(n,t,e,r){n.p0=n.i0,n.p1=n.i1,n.i0=null==t[0]?0:Math.max(0,e-Math.abs(t[0])),n.i1=null==t[1]?r:Math.min(r,e+Math.abs(t[1])+1),n.index=e}function Yl(n,t){var e=n.i0,r=n.i1-1,i=n.compare,l=n.data,u=l.length-1;e>0&&!i(l[e],l[e-1])&&(n.i0=t.left(l,l[e])),r<u&&!i(l[r],l[r+1])&&(n.i1=t.right(l,l[r]))}Hl.transform=function(n,t){var e,r,i=this,l=i.state,u=n.modified();this.stamp=t.stamp,l&&!u||(l=i.state=new Ll(n));var a=$r(n.groupby);function o(n){return i.group(a(n))}for(u||t.modified(l.inputs)?(i.value={},t.visit(t.SOURCE,(function(n){o(n).add(n)}))):(t.visit(t.REM,(function(n){o(n).remove(n)})),t.visit(t.ADD,(function(n){o(n).add(n)}))),e=0,r=i._mlen;e<r;++e)Wl(i._mods[e],l,n);return i._mlen=0,i._mods=[],t.reflow(u).modifies(l.outputs)},Hl.group=function(n){var t=this.value[n];return t||((t=this.value[n]=Ri(kn)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t};var Vl=Object.freeze({aggregate:Bi,bin:Pi,collect:Ii,compare:Li,countpattern:qi,cross:Wi,density:Vi,expression:Ki,extent:Qi,facet:el,field:il,filter:ul,flatten:ol,fold:sl,formula:cl,generate:fl,impute:pl,joinaggregate:gl,kde:vl,key:wl,load:bl,lookup:_l,multiextent:kl,multivalues:Ol,params:El,pivot:Sl,prefacet:Dl,project:Ml,proxy:Fl,relay:Tl,sample:Nl,sequence:Bl,sieve:zl,subflow:nl,tupleindex:Pl,values:$l,window:ql});const Jl="top",Xl="left",Kl="right",Zl="bottom",Ql="start",nu="middle",tu="end",eu="group",ru="legend",iu="row-header",lu="row-footer",uu="row-title",au="column-header",ou="column-footer",su="column-title",cu="none",fu="all",hu="each",du="flush",pu="column",gu="row";function mu(n){this.clear(),n&&this.union(n)}var vu=mu.prototype;vu.clone=function(){return new mu(this)},vu.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},vu.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},vu.equals=function(n){return this.x1===n.x1&&this.y1===n.y1&&this.x2===n.x2&&this.y2===n.y2},vu.set=function(n,t,e,r){return e<n?(this.x2=n,this.x1=e):(this.x1=n,this.x2=e),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},vu.add=function(n,t){return n<this.x1&&(this.x1=n),t<this.y1&&(this.y1=t),n>this.x2&&(this.x2=n),t>this.y2&&(this.y2=t),this},vu.expand=function(n){return this.x1-=n,this.y1-=n,this.x2+=n,this.y2+=n,this},vu.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},vu.translate=function(n,t){return this.x1+=n,this.x2+=n,this.y1+=t,this.y2+=t,this},vu.rotate=function(n,t,e){const r=this.rotatedPoints(n,t,e);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},vu.rotatedPoints=function(n,t,e){var{x1:r,y1:i,x2:l,y2:u}=this,a=Math.cos(n),o=Math.sin(n),s=t-t*a+e*o,c=e-t*o-e*a;return[a*r-o*i+s,o*r+a*i+c,a*r-o*u+s,o*r+a*u+c,a*l-o*i+s,o*l+a*i+c,a*l-o*u+s,o*l+a*u+c]},vu.union=function(n){return n.x1<this.x1&&(this.x1=n.x1),n.y1<this.y1&&(this.y1=n.y1),n.x2>this.x2&&(this.x2=n.x2),n.y2>this.y2&&(this.y2=n.y2),this},vu.intersect=function(n){return n.x1>this.x1&&(this.x1=n.x1),n.y1>this.y1&&(this.y1=n.y1),n.x2<this.x2&&(this.x2=n.x2),n.y2<this.y2&&(this.y2=n.y2),this},vu.encloses=function(n){return n&&this.x1<=n.x1&&this.x2>=n.x2&&this.y1<=n.y1&&this.y2>=n.y2},vu.alignsWith=function(n){return n&&(this.x1==n.x1||this.x2==n.x2||this.y1==n.y1||this.y2==n.y2)},vu.intersects=function(n){return n&&!(this.x2<n.x1||this.x1>n.x2||this.y2<n.y1||this.y1>n.y2)},vu.contains=function(n,t){return!(n<this.x1||n>this.x2||t<this.y1||t>this.y2)},vu.width=function(){return this.x2-this.x1},vu.height=function(){return this.y2-this.y1};var wu=0;function yu(n){return n&&n.gradient}function bu(n,t,e){let r=n.id,i=n.gradient,l="radial"===i?"p_":"";return r||(r=n.id="gradient_"+wu++,"radial"===i?(n.x1=xu(n.x1,.5),n.y1=xu(n.y1,.5),n.r1=xu(n.r1,0),n.x2=xu(n.x2,.5),n.y2=xu(n.y2,.5),n.r2=xu(n.r2,.5),l="p_"):(n.x1=xu(n.x1,0),n.y1=xu(n.y1,0),n.x2=xu(n.x2,1),n.y2=xu(n.y2,0))),t[r]=n,"url("+(e||"")+"#"+l+r+")"}function xu(n,t){return null!=n?n:t}function _u(n,t){var e,r=[];return e={gradient:"linear",x1:n?n[0]:0,y1:n?n[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(n,t){return r.push({offset:n,color:t}),e}}}function ku(n){this.mark=n,this.bounds=this.bounds||new mu}function ju(n){ku.call(this,n),this.items=this.items||[]}function Ou(n,t){if("undefined"!=typeof document&&document.createElement){var e=document.createElement("canvas");if(e&&e.getContext)return e.width=n,e.height=t,e}return null}function Au(n){this._pending=0,this._loader=n||pr()}Z(ju,ku);var Eu=Au.prototype;function Su(n){n._pending+=1}function Cu(n){n._pending-=1}Eu.pending=function(){return this._pending},Eu.sanitizeURL=function(n){var t=this;return Su(t),t._loader.sanitize(n,{context:"href"}).then((function(n){return Cu(t),n})).catch((function(){return Cu(t),null}))},Eu.loadImage=function(n){var t=this,e="undefined"!=typeof Image?Image:null;return Su(t),t._loader.sanitize(n,{context:"image"}).then((function(n){var r=n.href;if(!r||!e)throw{url:r};var i=new e;return i.onload=function(){Cu(t),i.loaded=!0},i.onerror=function(){Cu(t),i.loaded=!1},i.src=r,i})).catch((function(n){return Cu(t),{loaded:!1,width:0,height:0,src:n&&n.url||""}}))},Eu.ready=function(){var n=this;return new Promise((function(t){!function e(r){n.pending()?setTimeout((function(){e(!0)}),10):t(r)}(!1)}))};var Du=Math.PI,Mu=2*Du,Fu=Mu-1e-6;function Tu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nu(){return new Tu}function Bu(n){return function(){return n}}Tu.prototype=Nu.prototype={constructor:Tu,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,r){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(n,t,e,r,i,l){this._+="C"+ +n+","+ +t+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+l)},arcTo:function(n,t,e,r,i){n=+n,t=+t,e=+e,r=+r,i=+i;var l=this._x1,u=this._y1,a=e-n,o=r-t,s=l-n,c=u-t,f=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*a-o*s)>1e-6&&i){var h=e-l,d=r-u,p=a*a+o*o,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(f),w=i*Math.tan((Du-Math.acos((p+f-g)/(2*m*v)))/2),y=w/v,b=w/m;Math.abs(y-1)>1e-6&&(this._+="L"+(n+y*s)+","+(t+y*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>s*d)+","+(this._x1=n+b*a)+","+(this._y1=t+b*o)}else this._+="L"+(this._x1=n)+","+(this._y1=t)},arc:function(n,t,e,r,i,l){n=+n,t=+t;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),o=n+u,s=t+a,c=1^l,f=l?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+o+","+s:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+o+","+s),e&&(f<0&&(f=f%Mu+Mu),f>Fu?this._+="A"+e+","+e+",0,1,"+c+","+(n-u)+","+(t-a)+"A"+e+","+e+",0,1,"+c+","+(this._x1=o)+","+(this._y1=s):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=Du)+","+c+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=t+e*Math.sin(i))))},rect:function(n,t,e,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var zu=Math.abs,Pu=Math.atan2,$u=Math.cos,Ru=Math.max,Iu=Math.min,Lu=Math.sin,Uu=Math.sqrt,qu=1e-12,Hu=Math.PI,Wu=Hu/2,Gu=2*Hu;function Yu(n){return n>=1?Wu:n<=-1?-Wu:Math.asin(n)}function Vu(n){return n.innerRadius}function Ju(n){return n.outerRadius}function Xu(n){return n.startAngle}function Ku(n){return n.endAngle}function Zu(n){return n&&n.padAngle}function Qu(n,t,e,r,i,l,u){var a=n-e,o=t-r,s=(u?l:-l)/Uu(a*a+o*o),c=s*o,f=-s*a,h=n+c,d=t+f,p=e+c,g=r+f,m=(h+p)/2,v=(d+g)/2,w=p-h,y=g-d,b=w*w+y*y,x=i-l,_=h*g-p*d,k=(y<0?-1:1)*Uu(Ru(0,x*x*b-_*_)),j=(_*y-w*k)/b,O=(-_*w-y*k)/b,A=(_*y+w*k)/b,E=(-_*w+y*k)/b,S=j-m,C=O-v,D=A-m,M=E-v;return S*S+C*C>D*D+M*M&&(j=A,O=E),{cx:j,cy:O,x01:-c,y01:-f,x11:j*(i/x-1),y11:O*(i/x-1)}}function na(n){this._context=n}function ta(n){return new na(n)}function ea(n){return n[0]}function ra(n){return n[1]}function ia(){var n=ea,t=ra,e=Bu(!0),r=null,i=ta,l=null;function u(u){var a,o,s,c=u.length,f=!1;for(null==r&&(l=i(s=Nu())),a=0;a<=c;++a)!(a<c&&e(o=u[a],a,u))===f&&((f=!f)?l.lineStart():l.lineEnd()),f&&l.point(+n(o,a,u),+t(o,a,u));if(s)return l=null,s+""||null}return u.x=function(t){return arguments.length?(n="function"==typeof t?t:Bu(+t),u):n},u.y=function(n){return arguments.length?(t="function"==typeof n?n:Bu(+n),u):t},u.defined=function(n){return arguments.length?(e="function"==typeof n?n:Bu(!!n),u):e},u.curve=function(n){return arguments.length?(i=n,null!=r&&(l=i(r)),u):i},u.context=function(n){return arguments.length?(null==n?r=l=null:l=i(r=n),u):r},u}function la(){var n=ea,t=null,e=Bu(0),r=ra,i=Bu(!0),l=null,u=ta,a=null;function o(o){var s,c,f,h,d,p=o.length,g=!1,m=new Array(p),v=new Array(p);for(null==l&&(a=u(d=Nu())),s=0;s<=p;++s){if(!(s<p&&i(h=o[s],s,o))===g)if(g=!g)c=s,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=s-1;f>=c;--f)a.point(m[f],v[f]);a.lineEnd(),a.areaEnd()}g&&(m[s]=+n(h,s,o),v[s]=+e(h,s,o),a.point(t?+t(h,s,o):m[s],r?+r(h,s,o):v[s]))}if(d)return a=null,d+""||null}function s(){return ia().defined(i).curve(u).context(l)}return o.x=function(e){return arguments.length?(n="function"==typeof e?e:Bu(+e),t=null,o):n},o.x0=function(t){return arguments.length?(n="function"==typeof t?t:Bu(+t),o):n},o.x1=function(n){return arguments.length?(t=null==n?null:"function"==typeof n?n:Bu(+n),o):t},o.y=function(n){return arguments.length?(e="function"==typeof n?n:Bu(+n),r=null,o):e},o.y0=function(n){return arguments.length?(e="function"==typeof n?n:Bu(+n),o):e},o.y1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:Bu(+n),o):r},o.lineX0=o.lineY0=function(){return s().x(n).y(e)},o.lineY1=function(){return s().x(n).y(r)},o.lineX1=function(){return s().x(t).y(e)},o.defined=function(n){return arguments.length?(i="function"==typeof n?n:Bu(!!n),o):i},o.curve=function(n){return arguments.length?(u=n,null!=l&&(a=u(l)),o):u},o.context=function(n){return arguments.length?(null==n?l=a=null:a=u(l=n),o):l},o}na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t)}}};var ua={draw:function(n,t){var e=Math.sqrt(t/Hu);n.moveTo(e,0),n.arc(0,0,e,0,Gu)}};function aa(){}function oa(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function sa(n){this._context=n}function ca(n){this._context=n}function fa(n){this._context=n}function ha(n,t){this._basis=new sa(n),this._beta=t}sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oa(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}},ca.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:oa(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}},fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:oa(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}},ha.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,t=this._y,e=n.length-1;if(e>0)for(var r,i=n[0],l=t[0],u=n[e]-i,a=t[e]-l,o=-1;++o<=e;)r=o/e,this._basis.point(this._beta*n[o]+(1-this._beta)*(i+r*u),this._beta*t[o]+(1-this._beta)*(l+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(n,t){this._x.push(+n),this._y.push(+t)}};var da=function n(t){function e(n){return 1===t?new sa(n):new ha(n,t)}return e.beta=function(t){return n(+t)},e}(.85);function pa(n,t,e){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-e),n._x2,n._y2)}function ga(n,t){this._context=n,this._k=(1-t)/6}ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:pa(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ma=function n(t){function e(n){return new ga(n,t)}return e.tension=function(t){return n(+t)},e}(0);function va(n,t){this._context=n,this._k=(1-t)/6}va.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:pa(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var wa=function n(t){function e(n){return new va(n,t)}return e.tension=function(t){return n(+t)},e}(0);function ya(n,t){this._context=n,this._k=(1-t)/6}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pa(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ba=function n(t){function e(n){return new ya(n,t)}return e.tension=function(t){return n(+t)},e}(0);function xa(n,t,e){var r=n._x1,i=n._y1,l=n._x2,u=n._y2;if(n._l01_a>qu){var a=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,o=3*n._l01_a*(n._l01_a+n._l12_a);r=(r*a-n._x0*n._l12_2a+n._x2*n._l01_2a)/o,i=(i*a-n._y0*n._l12_2a+n._y2*n._l01_2a)/o}if(n._l23_a>qu){var s=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,c=3*n._l23_a*(n._l23_a+n._l12_a);l=(l*s+n._x1*n._l23_2a-t*n._l12_2a)/c,u=(u*s+n._y1*n._l23_2a-e*n._l12_2a)/c}n._context.bezierCurveTo(r,i,l,u,n._x2,n._y2)}function _a(n,t){this._context=n,this._alpha=t}_a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:xa(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ka=function n(t){function e(n){return t?new _a(n,t):new ga(n,0)}return e.alpha=function(t){return n(+t)},e}(.5);function ja(n,t){this._context=n,this._alpha=t}ja.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:xa(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Oa=function n(t){function e(n){return t?new ja(n,t):new va(n,0)}return e.alpha=function(t){return n(+t)},e}(.5);function Aa(n,t){this._context=n,this._alpha=t}Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xa(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ea=function n(t){function e(n){return t?new Aa(n,t):new ya(n,0)}return e.alpha=function(t){return n(+t)},e}(.5);function Sa(n){this._context=n}function Ca(n){return n<0?-1:1}function Da(n,t,e){var r=n._x1-n._x0,i=t-n._x1,l=(n._y1-n._y0)/(r||i<0&&-0),u=(e-n._y1)/(i||r<0&&-0),a=(l*i+u*r)/(r+i);return(Ca(l)+Ca(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(a))||0}function Ma(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function Fa(n,t,e){var r=n._x0,i=n._y0,l=n._x1,u=n._y1,a=(l-r)/3;n._context.bezierCurveTo(r+a,i+a*t,l-a,u-a*e,l,u)}function Ta(n){this._context=n}function Na(n){this._context=new Ba(n)}function Ba(n){this._context=n}function za(n){this._context=n}function Pa(n){var t,e,r=n.length-1,i=new Array(r),l=new Array(r),u=new Array(r);for(i[0]=0,l[0]=2,u[0]=n[0]+2*n[1],t=1;t<r-1;++t)i[t]=1,l[t]=4,u[t]=4*n[t]+2*n[t+1];for(i[r-1]=2,l[r-1]=7,u[r-1]=8*n[r-1]+n[r],t=1;t<r;++t)e=i[t]/l[t-1],l[t]-=e,u[t]-=e*u[t-1];for(i[r-1]=u[r-1]/l[r-1],t=r-2;t>=0;--t)i[t]=(u[t]-i[t+1])/l[t];for(l[r-1]=(n[r]+i[r-1])/2,t=0;t<r-1;++t)l[t]=2*n[t+1]-i[t+1];return[i,l]}function $a(n,t){this._context=n,this._t=t}Sa.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}},Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fa(this,this._t0,Ma(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(t=+t,(n=+n)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Fa(this,Ma(this,e=Da(this,n,t)),e);break;default:Fa(this,this._t0,e=Da(this,n,t))}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}},(Na.prototype=Object.create(Ta.prototype)).point=function(n,t){Ta.prototype.point.call(this,t,n)},Ba.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,i,l){this._context.bezierCurveTo(t,n,r,e,l,i)}},za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),2===e)this._context.lineTo(n[1],t[1]);else for(var r=Pa(n),i=Pa(t),l=0,u=1;u<e;++l,++u)this._context.bezierCurveTo(r[0][l],i[0][l],r[1][l],i[1][l],n[u],t[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}},$a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}}this._x=n,this._y=t}};var Ra={basis:{curve:function(n){return new sa(n)}},"basis-closed":{curve:function(n){return new ca(n)}},"basis-open":{curve:function(n){return new fa(n)}},bundle:{curve:da,tension:"beta",value:.85},cardinal:{curve:ma,tension:"tension",value:0},"cardinal-open":{curve:ba,tension:"tension",value:0},"cardinal-closed":{curve:wa,tension:"tension",value:0},"catmull-rom":{curve:ka,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Oa,tension:"alpha",value:.5},"catmull-rom-open":{curve:Ea,tension:"alpha",value:.5},linear:{curve:ta},"linear-closed":{curve:function(n){return new Sa(n)}},monotone:{horizontal:function(n){return new Na(n)},vertical:function(n){return new Ta(n)}},natural:{curve:function(n){return new za(n)}},step:{curve:function(n){return new $a(n,.5)}},"step-after":{curve:function(n){return new $a(n,1)}},"step-before":{curve:function(n){return new $a(n,0)}}};function Ia(n,t,e){var r=Ra.hasOwnProperty(n)&&Ra[n],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=e&&(i=i[r.tension](e))),i}var La={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Ua=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];function qa(n){var t,e,r,i,l,u,a,o,s,c,f,h=[];for(o=0,c=(t=n.slice().replace(Ua[0],"###$1").split(Ua[1]).slice(1)).length;o<c;++o){for(r=(e=t[o]).slice(1).trim().replace(Ua[2],"$1###$2").split(Ua[3]),i=[u=e.charAt(0)],s=0,f=r.length;s<f;++s)(l=+r[s])===l&&i.push(l);if(a=La[u.toLowerCase()],i.length-1>a)for(s=1,f=i.length;s<f;s+=a)h.push([u].concat(i.slice(s,s+a)));else h.push(i)}return h}var Ha=Math.PI/180,Wa=Math.PI/2,Ga=2*Math.PI,Ya=Math.sqrt(3)/2,Va={},Ja={},Xa=[].join;function Ka(n){var t=Xa.call(n);if(Ja[t])return Ja[t];var e=n[0],r=n[1],i=n[2],l=n[3],u=n[4],a=n[5],o=n[6],s=n[7],c=s*u,f=-o*a,h=o*u,d=s*a,p=Math.cos(i),g=Math.sin(i),m=Math.cos(l),v=Math.sin(l),w=.5*(l-i),y=Math.sin(.5*w),b=8/3*y*y/Math.sin(w),x=e+p-b*g,_=r+g+b*p,k=e+m,j=r+v,O=k+b*v,A=j-b*m;return Ja[t]=[c*x+f*_,h*x+d*_,c*O+f*A,h*O+d*A,c*k+f*j,h*k+d*j]}var Za=["l",0,0,0,0,0,0,0];function Qa(n,t){var e=Za[0]=n[0];if("a"===e||"A"===e)Za[1]=t*n[1],Za[2]=t*n[2],Za[3]=n[3],Za[4]=n[4],Za[5]=n[5],Za[6]=t*n[6],Za[7]=t*n[7];else for(var r=1,i=n.length;r<i;++r)Za[r]=t*n[r];return Za}function no(n,t,e,r,i){var l,u,a,o,s,c=null,f=0,h=0,d=0,p=0;null==e&&(e=0),null==r&&(r=0),null==i&&(i=1),n.beginPath&&n.beginPath();for(var g=0,m=t.length;g<m;++g){switch(l=t[g],1!==i&&(l=Qa(l,i)),l[0]){case"l":f+=l[1],h+=l[2],n.lineTo(f+e,h+r);break;case"L":f=l[1],h=l[2],n.lineTo(f+e,h+r);break;case"h":f+=l[1],n.lineTo(f+e,h+r);break;case"H":f=l[1],n.lineTo(f+e,h+r);break;case"v":h+=l[1],n.lineTo(f+e,h+r);break;case"V":h=l[1],n.lineTo(f+e,h+r);break;case"m":f+=l[1],h+=l[2],n.moveTo(f+e,h+r);break;case"M":f=l[1],h=l[2],n.moveTo(f+e,h+r);break;case"c":u=f+l[5],a=h+l[6],d=f+l[3],p=h+l[4],n.bezierCurveTo(f+l[1]+e,h+l[2]+r,d+e,p+r,u+e,a+r),f=u,h=a;break;case"C":f=l[5],h=l[6],d=l[3],p=l[4],n.bezierCurveTo(l[1]+e,l[2]+r,d+e,p+r,f+e,h+r);break;case"s":u=f+l[3],a=h+l[4],d=2*f-d,p=2*h-p,n.bezierCurveTo(d+e,p+r,f+l[1]+e,h+l[2]+r,u+e,a+r),d=f+l[1],p=h+l[2],f=u,h=a;break;case"S":u=l[3],a=l[4],d=2*f-d,p=2*h-p,n.bezierCurveTo(d+e,p+r,l[1]+e,l[2]+r,u+e,a+r),f=u,h=a,d=l[1],p=l[2];break;case"q":u=f+l[3],a=h+l[4],d=f+l[1],p=h+l[2],n.quadraticCurveTo(d+e,p+r,u+e,a+r),f=u,h=a;break;case"Q":u=l[3],a=l[4],n.quadraticCurveTo(l[1]+e,l[2]+r,u+e,a+r),f=u,h=a,d=l[1],p=l[2];break;case"t":u=f+l[1],a=h+l[2],null===c[0].match(/[QqTt]/)?(d=f,p=h):"t"===c[0]?(d=2*f-o,p=2*h-s):"q"===c[0]&&(d=2*f-d,p=2*h-p),o=d,s=p,n.quadraticCurveTo(d+e,p+r,u+e,a+r),h=a,d=(f=u)+l[1],p=h+l[2];break;case"T":u=l[1],a=l[2],d=2*f-d,p=2*h-p,n.quadraticCurveTo(d+e,p+r,u+e,a+r),f=u,h=a;break;case"a":to(n,f+e,h+r,[l[1],l[2],l[3],l[4],l[5],l[6]+f+e,l[7]+h+r]),f+=l[6],h+=l[7];break;case"A":to(n,f+e,h+r,[l[1],l[2],l[3],l[4],l[5],l[6]+e,l[7]+r]),f=l[6],h=l[7];break;case"z":case"Z":n.closePath()}c=l}}function to(n,t,e,r){for(var i=function(n,t,e,r,i,l,u,a,o){var s=Xa.call(arguments);if(Va[s])return Va[s];var c=u*Ha,f=Math.sin(c),h=Math.cos(c),d=h*(a-n)*.5+f*(o-t)*.5,p=h*(o-t)*.5-f*(a-n)*.5,g=d*d/((e=Math.abs(e))*e)+p*p/((r=Math.abs(r))*r);g>1&&(e*=g=Math.sqrt(g),r*=g);var m=h/e,v=f/e,w=-f/r,y=h/r,b=m*a+v*o,x=w*a+y*o,_=m*n+v*t,k=w*n+y*t,j=1/((_-b)*(_-b)+(k-x)*(k-x))-.25;j<0&&(j=0);var O=Math.sqrt(j);l==i&&(O=-O);var A=.5*(b+_)-O*(k-x),E=.5*(x+k)+O*(_-b),S=Math.atan2(x-E,b-A),C=Math.atan2(k-E,_-A)-S;C<0&&1===l?C+=Ga:C>0&&0===l&&(C-=Ga);for(var D=Math.ceil(Math.abs(C/(Wa+.001))),M=[],F=0;F<D;++F){var T=S+F*C/D,N=S+(F+1)*C/D;M[F]=[A,E,T,N,e,r,f,h]}return Va[s]=M}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,e),l=0;l<i.length;++l){var u=Ka(i[l]);n.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5])}}var eo={circle:{draw:function(n,t){var e=Math.sqrt(t)/2;n.moveTo(e,0),n.arc(0,0,e,0,Ga)}},cross:{draw:function(n,t){var e=Math.sqrt(t)/2,r=e/2.5;n.moveTo(-e,-r),n.lineTo(-e,r),n.lineTo(-r,r),n.lineTo(-r,e),n.lineTo(r,e),n.lineTo(r,r),n.lineTo(e,r),n.lineTo(e,-r),n.lineTo(r,-r),n.lineTo(r,-e),n.lineTo(-r,-e),n.lineTo(-r,-r),n.closePath()}},diamond:{draw:function(n,t){var e=Math.sqrt(t)/2;n.moveTo(-e,0),n.lineTo(0,-e),n.lineTo(e,0),n.lineTo(0,e),n.closePath()}},square:{draw:function(n,t){var e=Math.sqrt(t),r=-e/2;n.rect(r,r,e,e)}},arrow:{draw:function(n,t){var e=Math.sqrt(t)/2,r=e/7,i=e/2.5,l=e/8;n.moveTo(-r,e),n.lineTo(r,e),n.lineTo(r,-l),n.lineTo(i,-l),n.lineTo(0,-e),n.lineTo(-i,-l),n.lineTo(-r,-l),n.closePath()}},wedge:{draw:function(n,t){var e=Math.sqrt(t)/2,r=Ya*e,i=r-.5773502691896257*e,l=e/4;n.moveTo(0,-r-i),n.lineTo(-l,r-i),n.lineTo(l,r-i),n.closePath()}},triangle:{draw:function(n,t){var e=Math.sqrt(t)/2,r=Ya*e,i=r-.5773502691896257*e;n.moveTo(0,-r-i),n.lineTo(-e,r-i),n.lineTo(e,r-i),n.closePath()}},"triangle-up":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Ya*e;n.moveTo(0,-r),n.lineTo(-e,r),n.lineTo(e,r),n.closePath()}},"triangle-down":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Ya*e;n.moveTo(0,r),n.lineTo(-e,-r),n.lineTo(e,-r),n.closePath()}},"triangle-right":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Ya*e;n.moveTo(r,0),n.lineTo(-r,-e),n.lineTo(-r,e),n.closePath()}},"triangle-left":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Ya*e;n.moveTo(-r,0),n.lineTo(r,-e),n.lineTo(r,e),n.closePath()}},stroke:{draw:function(n,t){var e=Math.sqrt(t)/2;n.moveTo(-e,0),n.lineTo(e,0)}}};function ro(n){return eo.hasOwnProperty(n)?eo[n]:function(n){if(!io.hasOwnProperty(n)){var t=qa(n);io[n]={draw:function(n,e){no(n,t,0,0,Math.sqrt(e)/2)}}}return io[n]}(n)}var io={};function lo(n){return n.x}function uo(n){return n.y}function ao(n){return n.width}function oo(n){return n.height}function so(n){return function(){return n}}function co(){var n=lo,t=uo,e=ao,r=oo,i=so(0),l=null;function u(u,a,o){var s,c=null!=a?a:+n.call(this,u),f=null!=o?o:+t.call(this,u),h=+e.call(this,u),d=+r.call(this,u),p=+i.call(this,u);if(l||(l=s=Nu()),p<=0)l.rect(c,f,h,d);else{var g=c+h,m=f+d;l.moveTo(c+p,f),l.lineTo(g-p,f),l.quadraticCurveTo(g,f,g,f+p),l.lineTo(g,m-p),l.quadraticCurveTo(g,m,g-p,m),l.lineTo(c+p,m),l.quadraticCurveTo(c,m,c,m-p),l.lineTo(c,f+p),l.quadraticCurveTo(c,f,c+p,f),l.closePath()}if(s)return l=null,s+""||null}return u.x=function(t){return arguments.length?(n="function"==typeof t?t:so(+t),u):n},u.y=function(n){return arguments.length?(t="function"==typeof n?n:so(+n),u):t},u.width=function(n){return arguments.length?(e="function"==typeof n?n:so(+n),u):e},u.height=function(n){return arguments.length?(r="function"==typeof n?n:so(+n),u):r},u.cornerRadius=function(n){return arguments.length?(i="function"==typeof n?n:so(+n),u):i},u.context=function(n){return arguments.length?(l=null==n?null:n,u):l},u}function fo(){var n,t,e,r,i,l,u,a,o=null;function s(n,t,e){var r=e/2;if(i){var s=u-t,c=n-l;if(s||c){var f=Math.sqrt(s*s+c*c),h=(s/=f)*a,d=(c/=f)*a,p=Math.atan2(c,s);o.moveTo(l-h,u-d),o.lineTo(n-s*r,t-c*r),o.arc(n,t,r,p-Math.PI,p),o.lineTo(l+h,u+d),o.arc(l,u,a,p,p+Math.PI)}else o.arc(n,t,r,0,Ga);o.closePath()}else i=1;l=n,u=t,a=r}function c(l){var u,a,c,f=l.length,h=!1;for(null==o&&(o=c=Nu()),u=0;u<=f;++u)!(u<f&&r(a=l[u],u,l))===h&&(h=!h)&&(i=0),h&&s(+n(a,u,l),+t(a,u,l),+e(a,u,l));if(c)return o=null,c+""||null}return c.x=function(t){return arguments.length?(n=t,c):n},c.y=function(n){return arguments.length?(t=n,c):t},c.size=function(n){return arguments.length?(e=n,c):e},c.defined=function(n){return arguments.length?(r=n,c):r},c.context=function(n){return arguments.length?(o=null==n?null:n,c):o},c}function ho(n){return n.x||0}function po(n){return n.y||0}function go(n){return n.cornerRadius||0}function mo(n){return!(!1===n.defined)}var vo=function(){var n=Vu,t=Ju,e=Bu(0),r=null,i=Xu,l=Ku,u=Zu,a=null;function o(){var o,s,c,f=+n.apply(this,arguments),h=+t.apply(this,arguments),d=i.apply(this,arguments)-Wu,p=l.apply(this,arguments)-Wu,g=zu(p-d),m=p>d;if(a||(a=o=Nu()),h<f&&(s=h,h=f,f=s),h>qu)if(g>Gu-qu)a.moveTo(h*$u(d),h*Lu(d)),a.arc(0,0,h,d,p,!m),f>qu&&(a.moveTo(f*$u(p),f*Lu(p)),a.arc(0,0,f,p,d,m));else{var v,w,y=d,b=p,x=d,_=p,k=g,j=g,O=u.apply(this,arguments)/2,A=O>qu&&(r?+r.apply(this,arguments):Uu(f*f+h*h)),E=Iu(zu(h-f)/2,+e.apply(this,arguments)),S=E,C=E;if(A>qu){var D=Yu(A/f*Lu(O)),M=Yu(A/h*Lu(O));(k-=2*D)>qu?(x+=D*=m?1:-1,_-=D):(k=0,x=_=(d+p)/2),(j-=2*M)>qu?(y+=M*=m?1:-1,b-=M):(j=0,y=b=(d+p)/2)}var F=h*$u(y),T=h*Lu(y),N=f*$u(_),B=f*Lu(_);if(E>qu){var z,P=h*$u(b),$=h*Lu(b),R=f*$u(x),I=f*Lu(x);if(g<Hu&&(z=function(n,t,e,r,i,l,u,a){var o=e-n,s=r-t,c=u-i,f=a-l,h=f*o-c*s;if(!(h*h<qu))return[n+(h=(c*(t-l)-f*(n-i))/h)*o,t+h*s]}(F,T,R,I,P,$,N,B))){var L=F-z[0],U=T-z[1],q=P-z[0],H=$-z[1],W=1/Lu(((c=(L*q+U*H)/(Uu(L*L+U*U)*Uu(q*q+H*H)))>1?0:c<-1?Hu:Math.acos(c))/2),G=Uu(z[0]*z[0]+z[1]*z[1]);S=Iu(E,(f-G)/(W-1)),C=Iu(E,(h-G)/(W+1))}}j>qu?C>qu?(v=Qu(R,I,F,T,h,C,m),w=Qu(P,$,N,B,h,C,m),a.moveTo(v.cx+v.x01,v.cy+v.y01),C<E?a.arc(v.cx,v.cy,C,Pu(v.y01,v.x01),Pu(w.y01,w.x01),!m):(a.arc(v.cx,v.cy,C,Pu(v.y01,v.x01),Pu(v.y11,v.x11),!m),a.arc(0,0,h,Pu(v.cy+v.y11,v.cx+v.x11),Pu(w.cy+w.y11,w.cx+w.x11),!m),a.arc(w.cx,w.cy,C,Pu(w.y11,w.x11),Pu(w.y01,w.x01),!m))):(a.moveTo(F,T),a.arc(0,0,h,y,b,!m)):a.moveTo(F,T),f>qu&&k>qu?S>qu?(v=Qu(N,B,P,$,f,-S,m),w=Qu(F,T,R,I,f,-S,m),a.lineTo(v.cx+v.x01,v.cy+v.y01),S<E?a.arc(v.cx,v.cy,S,Pu(v.y01,v.x01),Pu(w.y01,w.x01),!m):(a.arc(v.cx,v.cy,S,Pu(v.y01,v.x01),Pu(v.y11,v.x11),!m),a.arc(0,0,f,Pu(v.cy+v.y11,v.cx+v.x11),Pu(w.cy+w.y11,w.cx+w.x11),m),a.arc(w.cx,w.cy,S,Pu(w.y11,w.x11),Pu(w.y01,w.x01),!m))):a.arc(0,0,f,_,x,m):a.lineTo(N,B)}else a.moveTo(0,0);if(a.closePath(),o)return a=null,o+""||null}return o.centroid=function(){var e=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +l.apply(this,arguments))/2-Hu/2;return[$u(r)*e,Lu(r)*e]},o.innerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Bu(+t),o):n},o.outerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Bu(+n),o):t},o.cornerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Bu(+n),o):e},o.padRadius=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:Bu(+n),o):r},o.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Bu(+n),o):i},o.endAngle=function(n){return arguments.length?(l="function"==typeof n?n:Bu(+n),o):l},o.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:Bu(+n),o):u},o.context=function(n){return arguments.length?(a=null==n?null:n,o):a},o}().startAngle((function(n){return n.startAngle||0})).endAngle((function(n){return n.endAngle||0})).padAngle((function(n){return n.padAngle||0})).innerRadius((function(n){return n.innerRadius||0})).outerRadius((function(n){return n.outerRadius||0})).cornerRadius(go),wo=la().x(ho).y1(po).y0((function(n){return(n.y||0)+(n.height||0)})).defined(mo),yo=la().y(po).x1(ho).x0((function(n){return(n.x||0)+(n.width||0)})).defined(mo),bo=ia().x(ho).y(po).defined(mo),xo=co().x(ho).y(po).width((function(n){return n.width||0})).height((function(n){return n.height||0})).cornerRadius(go),_o=function(){var n=Bu(ua),t=Bu(64),e=null;function r(){var r;if(e||(e=r=Nu()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(t){return arguments.length?(n="function"==typeof t?t:Bu(t),r):n},r.size=function(n){return arguments.length?(t="function"==typeof n?n:Bu(+n),r):t},r.context=function(n){return arguments.length?(e=null==n?null:n,r):e},r}().type((function(n){return ro(n.shape||"circle")})).size((function(n){return null==n.size?64:n.size})),ko=fo().x(ho).y(po).defined(mo).size((function(n){return n.size||1}));function jo(n,t,e,r){return xo.context(n)(t,e,r)}function Oo(n,t){return t.stroke&&0!==t.opacity&&0!==t.strokeOpacity&&n.expand(null!=t.strokeWidth?+t.strokeWidth:1),n}var Ao,Eo=Ga-1e-8;function So(n){return Ao=n,So}function Co(){}function Do(n,t){Ao.add(n,t)}So.beginPath=Co,So.closePath=Co,So.moveTo=Do,So.lineTo=Do,So.rect=function(n,t,e,r){Do(n,t),Do(n+e,t+r)},So.quadraticCurveTo=function(n,t,e,r){Do(n,t),Do(e,r)},So.bezierCurveTo=function(n,t,e,r,i,l){Do(n,t),Do(e,r),Do(i,l)},So.arc=function(n,t,e,r,i,l){if(Math.abs(i-r)>Eo)return Do(n-e,t-e),void Do(n+e,t+e);var u,a,o,s,c=1/0,f=-1/0,h=1/0,d=-1/0;function p(n){o=e*Math.cos(n),s=e*Math.sin(n),o<c&&(c=o),o>f&&(f=o),s<h&&(h=s),s>d&&(d=s)}if(p(r),p(i),i!==r)if((r%=Ga)<0&&(r+=Ga),(i%=Ga)<0&&(i+=Ga),i<r&&(l=!l,u=r,r=i,i=u),l)for(i-=Ga,u=r-r%Wa,a=0;a<4&&u>i;++a,u-=Wa)p(u);else for(u=r-r%Wa+Wa,a=0;a<4&&u<i;++a,u+=Wa)p(u);Do(n+c,t+h),Do(n+f,t+d)};var Mo=(Mo=Ou(1,1))?Mo.getContext("2d"):null;const Fo=new mu;function To(n){return function(t,e){if(!Mo)return!0;n(Mo,t),Fo.clear().union(t.bounds).intersect(e).round();const{x1:r,y1:i,x2:l,y2:u}=Fo;for(let n=i;n<=u;++n)for(let t=r;t<=l;++t)if(Mo.isPointInPath(t,n))return!0;return!1}}function No(n,t){return t.contains(n.x||0,n.y||0)}function Bo(n,t){const e=n.x||0,r=n.y||0,i=n.width||0,l=n.height||0;return t.intersects(Fo.set(e,r,e+i,r+l))}function zo(n,t){const e=n.x||0,r=n.y||0;return Po(t,e,r,null!=n.x2?n.x2:e,null!=n.y2?n.y2:r)}function Po(n,t,e,r,i){const{x1:l,y1:u,x2:a,y2:o}=n,s=r-t,c=i-e;let f,h,d,p,g=0,m=1;for(p=0;p<4;++p){if(0===p&&(f=-s,h=-(l-t)),1===p&&(f=s,h=a-t),2===p&&(f=-c,h=-(u-e)),3===p&&(f=c,h=o-e),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>m)return!1;d>g&&(g=d)}else if(f>0){if(d<g)return!1;d<m&&(m=d)}}return!0}function $o(n,t,e){return yu(e)?function(n,t,e){const r=e.width(),i=e.height(),l=t.stops,u=l.length,a="radial"===t.gradient?n.createRadialGradient(e.x1+(t.x1||.5)*r,e.y1+(t.y1||.5)*i,Math.max(r,i)*(t.r1||0),e.x1+(t.x2||.5)*r,e.y1+(t.y2||.5)*i,Math.max(r,i)*(t.r2||.5)):n.createLinearGradient(e.x1+(t.x1||0)*r,e.y1+(t.y1||0)*i,e.x1+(t.x2||1)*r,e.y1+(t.y2||0)*i);for(let n=0;n<u;++n)a.addColorStop(l[n].offset,l[n].color);return a}(n,e,t.bounds):e}function Ro(n,t,e){return(e*=null==t.fillOpacity?1:t.fillOpacity)>0&&(n.globalAlpha=e,n.fillStyle=$o(n,t,t.fill),!0)}var Io=[];function Lo(n,t,e){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(e*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(n.globalAlpha=e,n.strokeStyle=$o(n,t,t.stroke),n.lineWidth=r,n.lineCap=t.strokeCap||"butt",n.lineJoin=t.strokeJoin||"miter",n.miterLimit=t.strokeMiterLimit||10,n.setLineDash&&(n.setLineDash(t.strokeDash||Io),n.lineDashOffset=t.strokeDashOffset||0),!0)}function Uo(n,t){return n.zindex-t.zindex||n.index-t.index}function qo(n){if(!n.zdirty)return n.zitems;var t,e,r,i=n.items,l=[];for(e=0,r=i.length;e<r;++e)(t=i[e]).index=e,t.zindex&&l.push(t);return n.zdirty=!1,n.zitems=l.sort(Uo)}function Ho(n,t){var e,r,i=n.items;if(i&&i.length){var l=qo(n);if(l&&l.length){for(e=0,r=i.length;e<r;++e)i[e].zindex||t(i[e]);i=l}for(e=0,r=i.length;e<r;++e)t(i[e])}}function Wo(n,t){var e,r,i=n.items;if(!i||!i.length)return null;var l=qo(n);for(l&&l.length&&(i=l),r=i.length;--r>=0;)if(e=t(i[r]))return e;if(i===l)for(r=(i=n.items).length;--r>=0;)if(!i[r].zindex&&(e=t(i[r])))return e;return null}function Go(n){return function(t,e,r){Ho(e,(function(e){r&&!r.intersects(e.bounds)||Yo(n,t,e,e)}))}}function Yo(n,t,e,r){var i=null==e.opacity?1:e.opacity;0!==i&&(n(t,r)||(e.fill&&Ro(t,e,i)&&t.fill(),e.stroke&&Lo(t,e,i)&&t.stroke()))}function Vo(n){return n=n||v,function(t,e,r,i,l,u){return r*=t.pixelRatio,i*=t.pixelRatio,Wo(e,(function(e){var a=e.bounds;if((!a||a.contains(l,u))&&a)return n(t,e,r,i,l,u)?e:void 0}))}}function Jo(n,t){return function(e,r,i,l){var u,a,o=Array.isArray(r)?r[0]:r,s=null==t?o.fill:t,c=o.stroke&&e.isPointInStroke;return c&&(u=o.strokeWidth,a=o.strokeCap,e.lineWidth=null!=u?u:1,e.lineCap=null!=a?a:"butt"),!n(e,r)&&(s&&e.isPointInPath(i,l)||c&&e.isPointInStroke(i,l))}}function Xo(n){return Vo(Jo(n))}function Ko(n,t){return"translate("+n+","+t+")"}function Zo(n){return"rotate("+n+")"}function Qo(n){return Ko(n.x||0,n.y||0)}function ns(n,t,e){function r(n,e){var r=e.x||0,i=e.y||0,l=e.angle||0;n.translate(r,i),l&&n.rotate(l*=Ha),n.beginPath(),t(n,e),l&&n.rotate(-l),n.translate(-r,-i)}return{type:n,tag:"path",nested:!1,attr:function(n,e){n("transform",function(n){return Ko(n.x||0,n.y||0)+(n.angle?" "+Zo(n.angle):"")}(e)),n("d",t(null,e))},bound:function(n,e){var r=e.x||0,i=e.y||0;return t(So(n),e),Oo(n,e).translate(r,i),e.angle&&n.rotate(e.angle*Ha,r,i),n},draw:Go(r),pick:Xo(r),isect:e||To(r)}}var ts=ns("arc",(function(n,t){return vo.context(n)(t)}));function es(n,t,e){function r(n,e){n.beginPath(),t(n,e)}var i,l=Jo(r);return{type:n,tag:"path",nested:!0,attr:function(n,e){var r=e.mark.items;r.length&&n("d",t(null,r))},bound:function(n,e){var r=e.items;return 0===r.length?n:(t(So(n),r),Oo(n,r[0]))},draw:(i=r,function(n,t,e){!t.items.length||e&&!e.intersects(t.bounds)||Yo(i,n,t.items[0],t.items)}),pick:function(n,t,e,r,i,u){var a=t.items,o=t.bounds;return!a||!a.length||o&&!o.contains(i,u)?null:(e*=n.pixelRatio,r*=n.pixelRatio,l(n,a,e,r)?a[0]:null)},isect:No,tip:e}}var rs=es("area",(function(n,t){var e=t[0],r=e.interpolate||"linear";return("horizontal"===e.orient?yo:wo).curve(Ia(r,e.orient,e.tension)).context(n)(t)}),(function(n,t){for(var e,r,i="horizontal"===n[0].orient?t[1]:t[0],l="horizontal"===n[0].orient?"y":"x",u=n.length,a=1/0;--u>=0;)!1!==n[u].defined&&(r=Math.abs(n[u][l]-i))<a&&(a=r,e=n[u]);return e})),is=1;function ls(n,t,e){var r=t.clip,i=n._defs,l=t.clip_id||(t.clip_id="clip"+is++),u=i.clipping[l]||(i.clipping[l]={id:l});return U(r)?u.path=r(null):(u.width=e.width||0,u.height=e.height||0),"url(#"+l+")"}function us(n,t){var e=t.stroke?.5:0;n.beginPath(),jo(n,t,e,e)}var as=Jo(us),os={type:"group",tag:"g",nested:!1,attr:function(n,t){n("transform",Qo(t))},bound:function(n,t){if(!t.clip&&t.items)for(var e=t.items,r=0,i=e.length;r<i;++r)n.union(e[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&n.add(0,0).add(t.width||0,t.height||0),Oo(n,t),n.translate(t.x||0,t.y||0)},draw:function(n,t,e){var r=this;Ho(t,(function(t){var i,l=t.x||0,u=t.y||0,a=t.width||0,o=t.height||0;n.save(),n.translate(l,u),(t.stroke||t.fill)&&(i=null==t.opacity?1:t.opacity)>0&&(us(n,t),t.fill&&Ro(n,t,i)&&n.fill(),t.stroke&&Lo(n,t,i)&&n.stroke()),t.clip&&(n.beginPath(),n.rect(0,0,a,o),n.clip()),e&&e.translate(-l,-u),Ho(t,(function(t){r.draw(n,t,e)})),e&&e.translate(l,u),n.restore()}))},pick:function(n,t,e,r,i,l){if(t.bounds&&!t.bounds.contains(i,l)||!t.items)return null;var u=this,a=e*n.pixelRatio,o=r*n.pixelRatio;return Wo(t,(function(s){var c,f,h,d;if(!(d=s.bounds)||d.contains(i,l))return f=s.x||0,h=s.y||0,n.save(),n.translate(f,h),f=i-f,h=l-h,!(c=Wo(s,(function(n){return function(n,t,e){return(!1!==n.interactive||"group"===n.marktype)&&n.bounds&&n.bounds.contains(t,e)}(n,f,h)?u.pick(n,e,r,f,h):null})))&&!1!==t.interactive&&(s.fill||s.stroke)&&as(n,s,a,o)&&(c=s),n.restore(),c||null}))},isect:Bo,background:function(n,t){var e=t.stroke?.5:0;n("class","background"),n("d",jo(null,t,e,e))},foreground:function(n,t,e){n("clip-path",t.clip?ls(e,t,t):null)}};function ss(n,t){var e=n.image;return e&&e.url===n.url||(e={loaded:!1,width:0,height:0},t.loadImage(n.url).then((function(t){n.image=t,n.image.url=n.url}))),e}function cs(n,t){return"center"===n?t/2:"right"===n?t:0}function fs(n,t){return"middle"===n?t/2:"bottom"===n?t:0}var hs={type:"image",tag:"image",nested:!1,attr:function(n,t,e){var r=ss(t,e),i=t.x||0,l=t.y||0,u=(null!=t.width?t.width:r.width)||0,a=(null!=t.height?t.height:r.height)||0,o=!1===t.aspect?"none":"xMidYMid";i-=cs(t.align,u),l-=fs(t.baseline,a),n("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),n("transform",Ko(i,l)),n("width",u),n("height",a),n("preserveAspectRatio",o)},bound:function(n,t){var e=t.image,r=t.x||0,i=t.y||0,l=(null!=t.width?t.width:e&&e.width)||0,u=(null!=t.height?t.height:e&&e.height)||0;return r-=cs(t.align,l),i-=fs(t.baseline,u),n.set(r,i,r+l,i+u)},draw:function(n,t,e){var r=this;Ho(t,(function(t){if(!e||e.intersects(t.bounds)){var i,l,u,a,o=ss(t,r),s=t.x||0,c=t.y||0,f=(null!=t.width?t.width:o.width)||0,h=(null!=t.height?t.height:o.height)||0;s-=cs(t.align,f),c-=fs(t.baseline,h),!1!==t.aspect&&(l=o.width/o.height,u=t.width/t.height,l==l&&u==u&&l!==u&&(u<l?(c+=(h-(a=f/l))/2,h=a):(s+=(f-(a=h*l))/2,f=a))),o.loaded&&(n.globalAlpha=null!=(i=t.opacity)?i:1,n.drawImage(o,s,c,f,h))}}))},pick:Vo(),isect:v,get:ss,xOffset:cs,yOffset:fs},ds=es("line",(function(n,t){var e=t[0],r=e.interpolate||"linear";return bo.curve(Ia(r,e.orient,e.tension)).context(n)(t)}),(function(n,t){for(var e,r,i=Math.pow(n[0].strokeWidth||1,2),l=n.length;--l>=0;)if(!1!==n[l].defined&&(e=n[l].x-t[0])*e+(r=n[l].y-t[1])*r<i)return n[l];return null}));function ps(n,t){var e=t.path;if(null==e)return!0;var r=t.pathCache;r&&r.path===e||((t.pathCache=r=qa(e)).path=e),no(n,r,t.x,t.y)}var gs={type:"path",tag:"path",nested:!1,attr:function(n,t){n("transform",Qo(t)),n("d",t.path)},bound:function(n,t){return ps(So(n),t)?n.set(0,0,0,0):Oo(n,t)},draw:Go(ps),pick:Xo(ps),isect:To(ps)};function ms(n,t){n.beginPath(),jo(n,t)}var vs={type:"rect",tag:"path",nested:!1,attr:function(n,t){n("d",jo(null,t))},bound:function(n,t){var e,r;return Oo(n.set(e=t.x||0,r=t.y||0,e+t.width||0,r+t.height||0),t)},draw:Go(ms),pick:Xo(ms),isect:Bo};function ws(n,t,e){var r,i,l,u;return!(!t.stroke||!Lo(n,t,e)||(r=t.x||0,i=t.y||0,l=null!=t.x2?t.x2:r,u=null!=t.y2?t.y2:i,n.beginPath(),n.moveTo(r,i),n.lineTo(l,u),0))}var ys,bs={type:"rule",tag:"line",nested:!1,attr:function(n,t){n("transform",Qo(t)),n("x2",null!=t.x2?t.x2-(t.x||0):0),n("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(n,t){var e,r;return Oo(n.set(e=t.x||0,r=t.y||0,null!=t.x2?t.x2:e,null!=t.y2?t.y2:r),t)},draw:function(n,t,e){Ho(t,(function(t){if(!e||e.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&ws(n,t,r)&&n.stroke()}}))},pick:Vo((function(n,t,e,r){return!!n.isPointInStroke&&ws(n,t,1)&&n.isPointInStroke(e,r)})),isect:zo},xs=ns("shape",(function(n,t){return(t.mark.shape||t.shape).context(n)(t)})),_s=ns("symbol",(function(n,t){return _o.context(n)(t)}),No),ks={height:Ss,measureWidth:As,estimateWidth:js,width:js,canvas:Cs};function js(n){return ys=Ss(n),Os(Ds(n))}function Os(n){return~~(.8*n.length*ys)}function As(n){return Ss(n)<=0?0:(Mo.font=Fs(n),Es(Ds(n)))}function Es(n){return Mo.measureText(n).width}function Ss(n){return null!=n.fontSize?n.fontSize:11}function Cs(n){ks.width=n&&Mo?As:js}function Ds(n){var t=n.text;return null==t?"":n.limit>0?function(n){var t,e=+n.limit,r=n.text+"";if(ks.width===As?(Mo.font=Fs(n),t=Es):(ys=Ss(n),t=Os),t(r)<e)return r;var i,l=n.ellipsis||"…",u="rtl"===n.dir,a=0,o=r.length;if(e-=t(l),u){for(;a<o;)i=a+o>>>1,t(r.slice(i))>e?a=i+1:o=i;return l+r.slice(a)}for(;a<o;)i=1+(a+o>>>1),t(r.slice(0,i))<e?a=i:o=i-1;return r.slice(0,a)+l}(n):t+""}function Ms(n,t){var e=n.font;return(t&&e?String(e).replace(/"/g,"'"):e)||"sans-serif"}function Fs(n,t){return(n.fontStyle?n.fontStyle+" ":"")+(n.fontVariant?n.fontVariant+" ":"")+(n.fontWeight?n.fontWeight+" ":"")+Ss(n)+"px "+Ms(n,t)}function Ts(n){var t=n.baseline,e=Ss(n);return Math.round("top"===t?.79*e:"middle"===t?.3*e:"bottom"===t?-.21*e:0)}Cs(!0);var Ns={left:"start",center:"middle",right:"end"},Bs=new mu;function zs(n){var t,e=n.x||0,r=n.y||0,i=n.radius||0;return i&&(t=(n.theta||0)-Wa,e+=i*Math.cos(t),r+=i*Math.sin(t)),Bs.x1=e,Bs.y1=r,Bs}function Ps(n,t,e){var r,i=ks.height(t),l=t.align,u=zs(t),a=u.x1,o=u.y1,s=t.dx||0,c=(t.dy||0)+Ts(t)-Math.round(.8*i);if(r=ks.width(t),"center"===l?s-=r/2:"right"===l&&(s-=r),n.set(s+=a,c+=o,s+r,c+i),t.angle&&!e)n.rotate(t.angle*Ha,a,o);else if(2===e)return n.rotatedPoints(t.angle*Ha,a,o);return n}var $s={arc:ts,area:rs,group:os,image:hs,line:ds,path:gs,rect:vs,rule:bs,shape:xs,symbol:_s,text:{type:"text",tag:"text",nested:!1,attr:function(n,t){var e,r=t.dx||0,i=(t.dy||0)+Ts(t),l=zs(t),u=l.x1,a=l.y1,o=t.angle||0;n("text-anchor",Ns[t.align]||"start"),o?(e=Ko(u,a)+" "+Zo(o),(r||i)&&(e+=" "+Ko(r,i))):e=Ko(u+r,a+i),n("transform",e)},bound:Ps,draw:function(n,t,e){Ho(t,(function(t){var r,i,l,u,a;e&&!e.intersects(t.bounds)||(a=Ds(t))&&(0===(r=null==t.opacity?1:t.opacity)||t.fontSize<=0||(n.font=Fs(t),n.textAlign=t.align||"left",l=(i=zs(t)).x1,u=i.y1,t.angle&&(n.save(),n.translate(l,u),n.rotate(t.angle*Ha),l=u=0),l+=t.dx||0,u+=(t.dy||0)+Ts(t),t.fill&&Ro(n,t,r)&&n.fillText(a,l,u),t.stroke&&Lo(n,t,r)&&n.strokeText(a,l,u),t.angle&&n.restore()))}))},pick:Vo((function(n,t,e,r,i,l){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var u=zs(t),a=u.x1,o=u.y1,s=Ps(Bs,t,1),c=-t.angle*Ha,f=Math.cos(c),h=Math.sin(c),d=f*i-h*l+(a-f*a+h*o),p=h*i+f*l+(o-h*a-f*o);return s.contains(d,p)})),isect:function(n,t){var e=Ps(Bs,n,2);return Po(t,e[0],e[1],e[2],e[3])||Po(t,e[0],e[1],e[4],e[5])||Po(t,e[4],e[5],e[6],e[7])||Po(t,e[2],e[3],e[6],e[7])}},trail:es("trail",(function(n,t){return ko.context(n)(t)}),(function(n,t){for(var e,r,i=n.length;--i>=0;)if(!1!==n[i].defined&&(e=n[i].x-t[0])*e+(r=n[i].y-t[1])*r<(e=n[i].size||1)*e)return n[i];return null}))};function Rs(n,t,e){var r=$s[n.mark.marktype],i=t||r.bound;return r.nested&&(n=n.mark),i(n.bounds||(n.bounds=new mu),n,e)}var Is={mark:null};function Ls(n,t,e){var r,i,l,u,a=$s[n.marktype],o=a.bound,s=n.items,c=s&&s.length;if(a.nested)return c?l=s[0]:(Is.mark=n,l=Is),u=Rs(l,o,e),t&&t.union(u)||u;if(t=t||n.bounds&&n.bounds.clear()||new mu,c)for(r=0,i=s.length;r<i;++r)t.union(Rs(s[r],o,e));return n.bounds=t}var Us=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function qs(n,t){return JSON.stringify(n,Us,t)}function Hs(n){return function n(t){var e,r,i,l=t.marktype,u=t.items;if(u)for(r=0,i=u.length;r<i;++r)e=l?"mark":"group",u[r][e]=t,u[r].zindex&&(u[r][e].zdirty=!0),"group"===(l||e)&&n(u[r]);return l&&Ls(t),t}("string"==typeof n?JSON.parse(n):n)}function Ws(n){arguments.length?this.root=Hs(n):(this.root=Ys({marktype:"group",name:"root",role:"frame"}),this.root.items=[new ju(this.root)])}var Gs=Ws.prototype;function Ys(n,t){return{bounds:new mu,clip:!!n.clip,group:t,interactive:!1!==n.interactive,items:[],marktype:n.marktype,name:n.name||void 0,role:n.role||void 0,zindex:n.zindex||0}}function Vs(n,t,e){return!n&&"undefined"!=typeof document&&document.createElement&&(n=document),n?e?n.createElementNS(e,t):n.createElement(t):null}function Js(n,t){t=t.toLowerCase();for(var e=n.childNodes,r=0,i=e.length;r<i;++r)if(e[r].tagName.toLowerCase()===t)return e[r]}function Xs(n,t,e,r){var i,l=n.childNodes[t];return l&&l.tagName.toLowerCase()===e.toLowerCase()||(i=l||null,l=Vs(n.ownerDocument,e,r),n.insertBefore(l,i)),l}function Ks(n,t){for(var e=n.childNodes,r=e.length;r>t;)n.removeChild(e[--r]);return n}function Zs(n){return"mark-"+n.marktype+(n.role?" role-"+n.role:"")+(n.name?" "+n.name:"")}function Qs(n,t){var e=t.getBoundingClientRect();return[n.clientX-e.left-(t.clientLeft||0),n.clientY-e.top-(t.clientTop||0)]}function nc(n,t){this._active=null,this._handlers={},this._loader=n||pr(),this._tooltip=t||tc}function tc(n,t,e,r){n.element().setAttribute("title",r||"")}Gs.toJSON=function(n){return qs(this.root,n||0)},Gs.mark=function(n,t,e){var r=Ys(n,t=t||this.root.items[0]);return t.items[e]=r,r.zindex&&(r.group.zdirty=!0),r};var ec=nc.prototype;function rc(n){this._el=null,this._bgcolor=null,this._loader=new Au(n)}ec.initialize=function(n,t,e){return this._el=n,this._obj=e||null,this.origin(t)},ec.element=function(){return this._el},ec.canvas=function(){return this._el&&this._el.firstChild},ec.origin=function(n){return arguments.length?(this._origin=n||[0,0],this):this._origin.slice()},ec.scene=function(n){return arguments.length?(this._scene=n,this):this._scene},ec.on=function(){},ec.off=function(){},ec._handlerIndex=function(n,t,e){for(var r=n?n.length:0;--r>=0;)if(n[r].type===t&&(!e||n[r].handler===e))return r;return-1},ec.handlers=function(n){var t,e=this._handlers,r=[];if(n)r.push.apply(r,e[this.eventName(n)]);else for(t in e)r.push.apply(r,e[t]);return r},ec.eventName=function(n){var t=n.indexOf(".");return t<0?n:n.slice(0,t)},ec.handleHref=function(n,t,e){this._loader.sanitize(e,{context:"href"}).then((function(t){var e=new MouseEvent(n.type,n),r=Vs(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(e)})).catch((function(){}))},ec.handleTooltip=function(n,t,e){if(t&&null!=t.tooltip){t=function(n,t,e,r){var i,l,u=n&&n.mark;if(u&&(i=$s[u.marktype]).tip){for((l=Qs(t,e))[0]-=r[0],l[1]-=r[1];n=n.mark.group;)l[0]-=n.x||0,l[1]-=n.y||0;n=i.tip(u.items,l)}return n}(t,n,this.canvas(),this._origin);var r=e&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,n,t,r)}},ec.getItemBoundingClientRect=function(n){if(t=this.canvas()){for(var t,e=t.getBoundingClientRect(),r=this._origin,i=n.bounds,l=i.x1+r[0]+e.left,u=i.y1+r[1]+e.top,a=i.width(),o=i.height();n.mark&&(n=n.mark.group);)l+=n.x||0,u+=n.y||0;return{x:l,y:u,width:a,height:o,left:l,top:u,right:l+a,bottom:u+o}}};var ic=rc.prototype;ic.initialize=function(n,t,e,r,i){return this._el=n,this.resize(t,e,r,i)},ic.element=function(){return this._el},ic.canvas=function(){return this._el&&this._el.firstChild},ic.background=function(n){return 0===arguments.length?this._bgcolor:(this._bgcolor=n,this)},ic.resize=function(n,t,e,r){return this._width=n,this._height=t,this._origin=e||[0,0],this._scale=r||1,this},ic.dirty=function(){},ic.render=function(n){var t=this;return t._call=function(){t._render(n)},t._call(),t._call=null,t},ic._render=function(){},ic.renderAsync=function(n){var t=this.render(n);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},ic._load=function(n,t){var e=this,r=e._loader[n](t);if(!e._ready){var i=e._call;e._ready=e._loader.ready().then((function(n){n&&i(),e._ready=null}))}return r},ic.sanitizeURL=function(n){return this._load("sanitizeURL",n)},ic.loadImage=function(n){return this._load("loadImage",n)};var lc="mouseout";function uc(n,t){nc.call(this,n,t),this._down=null,this._touch=null,this._first=!0}var ac=Z(uc,nc);function oc(n,t,e){return function(r){var i=this._active,l=this.pickEvent(r);l===i||(i&&i.exit||this.fire(e,r),this._active=l,this.fire(t,r)),this.fire(n,r)}}function sc(n){return function(t){this.fire(n,t),this._active=null}}ac.initialize=function(n,t,e){var r=this._canvas=n&&Js(n,"canvas");if(r){var i=this;this.events.forEach((function(n){r.addEventListener(n,(function(t){ac[n]?ac[n].call(i,t):i.fire(n,t)}))}))}return nc.prototype.initialize.call(this,n,t,e)},ac.canvas=function(){return this._canvas},ac.context=function(){return this._canvas.getContext("2d")},ac.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],ac.DOMMouseScroll=function(n){this.fire("mousewheel",n)},ac.mousemove=oc("mousemove","mouseover","mouseout"),ac.dragover=oc("dragover","dragenter","dragleave"),ac.mouseout=sc("mouseout"),ac.dragleave=sc("dragleave"),ac.mousedown=function(n){this._down=this._active,this.fire("mousedown",n)},ac.click=function(n){this._down===this._active&&(this.fire("click",n),this._down=null)},ac.touchstart=function(n){this._touch=this.pickEvent(n.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",n,!0)},ac.touchmove=function(n){this.fire("touchmove",n,!0)},ac.touchend=function(n){this.fire("touchend",n,!0),this._touch=null},ac.fire=function(n,t,e){var r,i,l=e?this._touch:this._active,u=this._handlers[n];if(t.vegaType=n,"click"===n&&l&&l.href?this.handleHref(t,l,l.href):"mousemove"!==n&&n!==lc||this.handleTooltip(t,l,n!==lc),u)for(r=0,i=u.length;r<i;++r)u[r].handler.call(this._obj,t,l)},ac.on=function(n,t){var e=this.eventName(n),r=this._handlers;return this._handlerIndex(r[e],n,t)<0&&(r[e]||(r[e]=[])).push({type:n,handler:t}),this},ac.off=function(n,t){var e=this.eventName(n),r=this._handlers[e],i=this._handlerIndex(r,n,t);return i>=0&&r.splice(i,1),this},ac.pickEvent=function(n){var t=Qs(n,this._canvas),e=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-e[0],t[1]-e[1])},ac.pick=function(n,t,e,r,i){var l=this.context();return $s[n.marktype].pick.call(this,l,n,t,e,r,i)};var cc="undefined"!=typeof window&&window.devicePixelRatio||1;function fc(n){rc.call(this,n),this._redraw=!1,this._dirty=new mu}var hc=Z(fc,rc),dc=rc.prototype,pc=new mu;function gc(n,t){nc.call(this,n,t);var e=this;e._hrefHandler=vc(e,(function(n,t){t&&t.href&&e.handleHref(n,t,t.href)})),e._tooltipHandler=vc(e,(function(n,t){e.handleTooltip(n,t,n.type!==lc)}))}hc.initialize=function(n,t,e,r,i,l){return this._options=l,this._canvas=Ou(1,1,l&&l.type),n&&(Ks(n,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),dc.initialize.call(this,n,t,e,r,i)},hc.resize=function(n,t,e,r){return dc.resize.call(this,n,t,e,r),function(n,t,e,r,i,l){var u,a="undefined"!=typeof HTMLElement&&n instanceof HTMLElement&&null!=n.parentNode,o=n.getContext("2d"),s=a?cc:i;for(u in n.width=t*s,n.height=e*s,l)o[u]=l[u];a&&1!==s&&(n.style.width=t+"px",n.style.height=e+"px"),o.pixelRatio=s,o.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},hc.canvas=function(){return this._canvas},hc.context=function(){return this._canvas?this._canvas.getContext("2d"):null},hc.dirty=function(n){var t=function(n,t){if(null==t)return n;for(var e=pc.clear().union(n);null!=t;t=t.mark.group)e.translate(t.x||0,t.y||0);return e}(n.bounds,n.mark.group);this._dirty.union(t)},hc._render=function(n){var t=this.context(),e=this._origin,r=this._width,i=this._height,l=this._dirty;return t.save(),this._redraw||l.empty()?(this._redraw=!1,l=null):l=function(n,t,e){return t.expand(1).round(),t.translate(-e[0]%1,-e[1]%1),n.beginPath(),n.rect(t.x1,t.y1,t.width(),t.height()),n.clip(),t}(t,l,e),this.clear(-e[0],-e[1],r,i),this.draw(t,n,l),t.restore(),this._dirty.clear(),this},hc.draw=function(n,t,e){var r=$s[t.marktype];t.clip&&function(n,t){var e=t.clip;if(n.save(),n.beginPath(),U(e))e(n);else{var r=t.group;n.rect(0,0,r.width||0,r.height||0)}n.clip()}(n,t),r.draw.call(this,n,t,e),t.clip&&n.restore()},hc.clear=function(n,t,e,r){var i=this.context();i.clearRect(n,t,e,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(n,t,e,r))};var mc=Z(gc,nc);function vc(n,t){return function(e){var r=e.target.__data__;e.vegaType=e.type,r=Array.isArray(r)?r[0]:r,t.call(n._obj,e,r)}}function wc(n,t,e){var r,i,l="<"+n;if(t)for(r in t)null!=(i=t[r])&&(l+=" "+r+'="'+i+'"');return e&&(l+=" "+e),l+">"}function yc(n){return"</"+n+">"}mc.initialize=function(n,t,e){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener(lc,this._tooltipHandler)),this._svg=r=n&&Js(n,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener(lc,this._tooltipHandler)),nc.prototype.initialize.call(this,n,t,e)},mc.canvas=function(){return this._svg},mc.on=function(n,t){var e=this.eventName(n),r=this._handlers;if(this._handlerIndex(r[e],n,t)<0){var i={type:n,handler:t,listener:vc(this,t)};(r[e]||(r[e]=[])).push(i),this._svg&&this._svg.addEventListener(e,i.listener)}return this},mc.off=function(n,t){var e=this.eventName(n),r=this._handlers[e],i=this._handlerIndex(r,n,t);return i>=0&&(this._svg&&this._svg.removeEventListener(e,r[i].listener),r.splice(i,1)),this};var bc={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},xc={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},_c=Object.keys(xc),kc=bc.xmlns;function jc(n){rc.call(this,n),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var Oc=Z(jc,rc),Ac=rc.prototype;function Ec(n,t,e){var r,i,l;if("radial"===t.gradient){var u=Xs(n,e++,"pattern",kc);u.setAttribute("id","p_"+t.id),u.setAttribute("viewBox","0,0,1,1"),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("preserveAspectRatio","xMidYMid slice"),(u=Xs(u,0,"rect",kc)).setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("fill","url("+zc()+"#"+t.id+")"),(n=Xs(n,e++,"radialGradient",kc)).setAttribute("id",t.id),n.setAttribute("fx",t.x1),n.setAttribute("fy",t.y1),n.setAttribute("fr",t.r1),n.setAttribute("cx",t.x2),n.setAttribute("cy",t.y2),n.setAttribute("r",t.r2)}else(n=Xs(n,e++,"linearGradient",kc)).setAttribute("id",t.id),n.setAttribute("x1",t.x1),n.setAttribute("x2",t.x2),n.setAttribute("y1",t.y1),n.setAttribute("y2",t.y2);for(r=0,i=t.stops.length;r<i;++r)(l=Xs(n,r,"stop",kc)).setAttribute("offset",t.stops[r].offset),l.setAttribute("stop-color",t.stops[r].color);return Ks(n,r),e}function Sc(n,t,e){var r;return(n=Xs(n,e,"clipPath",kc)).setAttribute("id",t.id),t.path?(r=Xs(n,0,"path",kc)).setAttribute("d",t.path):((r=Xs(n,0,"rect",kc)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),e+1}function Cc(n,t){for(;n&&n.dirty!==t;n=n.mark.group){if(n.dirty=t,!n.mark||n.mark.dirty===t)return;n.mark.dirty=t}}function Dc(n,t,e,r,i){var l,u=n._svg;if(!u&&(u=Vs(l=t.ownerDocument,r,kc),n._svg=u,n.mark&&(u.__data__=n,u.__values__={fill:"default"},"g"===r))){var a=Vs(l,"path",kc);a.setAttribute("class","background"),u.appendChild(a),a.__data__=n;var o=Vs(l,"g",kc);u.appendChild(o),o.__data__=n}return(u.ownerSVGElement!==i||function(n){var t=n.mark||n.group;return t&&t.items.length>1}(n)&&u.previousSibling!==e)&&t.insertBefore(u,e?e.nextSibling:t.firstChild),u}Oc.initialize=function(n,t,e,r){return n&&(this._svg=Xs(n,0,"svg",kc),this._svg.setAttribute("class","marks"),Ks(n,1),this._root=Xs(this._svg,0,"g",kc),Ks(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),Ac.initialize.call(this,n,t,e,r)},Oc.background=function(n){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",n),Ac.background.apply(this,arguments)},Oc.resize=function(n,t,e,r){return Ac.resize.call(this,n,t,e,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},Oc.canvas=function(){return this._svg},Oc.svg=function(){if(!this._svg)return null;var n={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in bc)n[t]=bc[t];var e=this._bgcolor?wc("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+yc("rect"):"";return wc("svg",n)+e+this._svg.innerHTML+yc("svg")},Oc._render=function(n){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,n),Ks(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},Oc.updateDefs=function(){var n,t=this._svg,e=this._defs,r=e.el,i=0;for(n in e.gradient)r||(e.el=r=Xs(t,0,"defs",kc)),i=Ec(r,e.gradient[n],i);for(n in e.clipping)r||(e.el=r=Xs(t,0,"defs",kc)),i=Sc(r,e.clipping[n],i);r&&(0===i?(t.removeChild(r),e.el=null):Ks(r,i))},Oc._resetDefs=function(){var n=this._defs;n.gradient={},n.clipping={}},Oc.dirty=function(n){n.dirty!==this._dirtyID&&(n.dirty=this._dirtyID,this._dirty.push(n))},Oc.isDirty=function(n){return this._dirtyAll||!n._svg||n.dirty===this._dirtyID},Oc._dirtyCheck=function(){this._dirtyAll=!0;var n=this._dirty;if(!n.length)return!0;var t,e,r,i,l,u,a,o=++this._dirtyID;for(l=0,u=n.length;l<u;++l)(e=(t=n[l]).mark).marktype!==r&&(r=e.marktype,i=$s[r]),e.zdirty&&e.dirty!==o&&(this._dirtyAll=!1,Cc(t,o),e.items.forEach((function(n){n.dirty=o}))),e.zdirty||(t.exit?(i.nested&&e.items.length?(a=e.items[0])._svg&&this._update(i,a._svg,a):t._svg&&(a=t._svg.parentNode)&&a.removeChild(t._svg),t._svg=null):(t=i.nested?e.items[0]:t)._update!==o&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,Cc(t,o)),t._update=o));return!this._dirtyAll},Oc.draw=function(n,t,e){if(!this.isDirty(t))return t._svg;var r,i=this,l=this._svg,u=$s[t.marktype],a=!1===t.interactive?"none":null,o="g"===u.tag,s=null,c=0;function f(n){var t=i.isDirty(n),e=Dc(n,r,s,u.tag,l);t&&(i._update(u,e,n),o&&function(n,t,e){t=t.lastChild;var r,i=0;Ho(e,(function(e){r=n.draw(t,e,r),++i})),Ks(t,1+i)}(i,e,n)),s=e,++c}return(r=Dc(t,n,e,"g",l)).setAttribute("class",Zs(t)),o||r.style.setProperty("pointer-events",a),t.clip?r.setAttribute("clip-path",ls(i,t,t.group)):r.removeAttribute("clip-path"),u.nested?t.items.length&&f(t.items[0]):Ho(t,f),Ks(r,c),r};var Mc=null,Fc=null,Tc={group:function(n,t,e){Fc=t.__values__,Mc=t.childNodes[1],n.foreground(Bc,e,this),Mc=t.childNodes[0],n.background(Bc,e,this);var r=!1===e.mark.interactive?"none":null;r!==Fc.events&&(Mc.style.setProperty("pointer-events",r),Fc.events=r)},text:function(n,t,e){var r;(r=Ds(e))!==Fc.text&&(t.textContent=r,Fc.text=r),Nc(t,"font-family",Ms(e)),Nc(t,"font-size",Ss(e)+"px"),Nc(t,"font-style",e.fontStyle),Nc(t,"font-variant",e.fontVariant),Nc(t,"font-weight",e.fontWeight)}};function Nc(n,t,e){e!==Fc[t]&&(null==e?n.style.removeProperty(t):n.style.setProperty(t,e+""),Fc[t]=e)}function Bc(n,t,e){t!==Fc[n]&&(null!=t?e?Mc.setAttributeNS(e,n,t):Mc.setAttribute(n,t):e?Mc.removeAttributeNS(e,n):Mc.removeAttribute(n),Fc[n]=t)}function zc(){var n;return"undefined"==typeof window?"":(n=window.location).hash?n.href.slice(0,-n.hash.length):n.href}function Pc(n){rc.call(this,n),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}Oc._update=function(n,t,e){Mc=t,Fc=t.__values__,n.attr(Bc,e,this);var r=Tc[n.type];r&&r.call(this,n,t,e),this.style(Mc,e)},Oc.style=function(n,t){var e,r,i,l,u;if(null!=t)for(e=0,r=_c.length;e<r;++e)u=t[i=_c[e]],"font"===i&&(u=Ms(t)),u!==Fc[i]&&(l=xc[i],null==u?"fill"===l?n.style.setProperty(l,"none"):n.style.removeProperty(l):(yu(u)&&(u=bu(u,this._defs.gradient,zc())),n.style.setProperty(l,u+"")),Fc[i]=u)};var $c,Rc=Z(Pc,rc),Ic=rc.prototype;function Lc(n,t,e,r){$c[r||n]=t}function Uc(n,t,e,r){if(null==n)return"";var i,l,u,a,o,s="";for("bgrect"===e&&!1===t.interactive&&(s+="pointer-events: none; "),"text"===e&&(s+="font-family: "+Ms(n)+"; ",s+="font-size: "+Ss(n)+"px; ",n.fontStyle&&(s+="font-style: "+n.fontStyle+"; "),n.fontVariant&&(s+="font-variant: "+n.fontVariant+"; "),n.fontWeight&&(s+="font-weight: "+n.fontWeight+"; ")),i=0,l=_c.length;i<l;++i)u=_c[i],a=xc[u],null==(o=n[u])?"fill"===a&&(s+="fill: none; "):"transparent"!==o||"fill"!==a&&"stroke"!==a?(yu(o)&&(o=bu(o,r.gradient,"")),s+=a+": "+o+"; "):s+=a+": none; ";return s?'style="'+s.trim()+'"':null}Rc.resize=function(n,t,e,r){Ic.resize.call(this,n,t,e,r);var i=this._origin,l=this._text,u={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var a in bc)u[a]=bc[a];l.head=wc("svg",u);var o=this._bgcolor;return"transparent"!==o&&"none"!==o||(o=null),l.bg=o?wc("rect",{width:this._width,height:this._height,style:"fill: "+o+";"})+yc("rect"):"",l.root=wc("g",{transform:"translate("+i+")"}),l.foot=yc("g")+yc("svg"),this},Rc.background=function(){var n=Ic.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),n},Rc.svg=function(){var n=this._text;return n.head+n.bg+n.defs+n.root+n.body+n.foot},Rc._render=function(n){return this._text.body=this.mark(n),this._text.defs=this.buildDefs(),this},Rc.buildDefs=function(){var n,t,e,r,i,l=this._defs,u="";for(t in l.gradient){for(i=(e=l.gradient[t]).stops,"radial"===e.gradient?(u+=wc(r="pattern",{id:"p_"+t,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),u+=wc("rect",{width:"1",height:"1",fill:"url(#"+t+")"})+yc("rect"),u+=yc(r),u+=wc(r="radialGradient",{id:t,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})):u+=wc(r="linearGradient",{id:t,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),n=0;n<i.length;++n)u+=wc("stop",{offset:i[n].offset,"stop-color":i[n].color})+yc("stop");u+=yc(r)}for(t in l.clipping)e=l.clipping[t],u+=wc("clipPath",{id:t}),e.path?u+=wc("path",{d:e.path})+yc("path"):u+=wc("rect",{x:0,y:0,width:e.width,height:e.height})+yc("rect"),u+=yc("clipPath");return u.length>0?wc("defs")+u+yc("defs"):""},Rc.attributes=function(n,t){return $c={},n(Lc,t,this),$c},Rc.href=function(n){var t,e=this,r=n.href;if(r){if(t=e._hrefs&&e._hrefs[r])return t;e.sanitizeURL(r).then((function(n){n["xlink:href"]=n.href,n.href=null,(e._hrefs||(e._hrefs={}))[r]=n}))}return null},Rc.mark=function(n){var t,e=this,r=$s[n.marktype],i=r.tag,l=this._defs,u="";function a(a){var o=e.href(a);o&&(u+=wc("a",o)),t="g"!==i?Uc(a,n,i,l):null,u+=wc(i,e.attributes(r.attr,a),t),"text"===i?u+=Ds(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):"g"===i&&(u+=wc("path",e.attributes(r.background,a),Uc(a,n,"bgrect",l))+yc("path"),u+=wc("g",e.attributes(r.foreground,a))+e.markGroup(a)+yc("g")),u+=yc(i),o&&(u+=yc("a"))}return"g"!==i&&!1===n.interactive&&(t='style="pointer-events: none;"'),u+=wc("g",{class:Zs(n),"clip-path":n.clip?ls(e,n,n.group):null},t),r.nested?n.items&&n.items.length&&a(n.items[0]):Ho(n,a),u+yc("g")},Rc.markGroup=function(n){var t=this,e="";return Ho(n,(function(n){e+=t.mark(n)})),e};var qc={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Hc={};function Wc(n,t){return n=String(n||"").toLowerCase(),arguments.length>1?(Hc[n]=t,this):Hc[n]}function Gc(n,t,e){const r=[],i=(new mu).union(t),u=n.marktype;return u?Yc(n,i,e,r):"group"===u?Vc(n,i,e,r):l("Intersect scene must be mark node or group item.")}function Yc(n,t,e,r){if(function(n,t,e){return n.bounds&&t.intersects(n.bounds)&&("group"===n.marktype||!1!==n.interactive&&(!e||e(n)))}(n,t,e)){const i=n.items,l=n.marktype,u=i.length;let a=0;if("group"===l)for(;a<u;++a)Vc(i[a],t,e,r);else for(const n=$s[l].isect;a<u;++a){let e=i[a];Jc(e,t,n)&&r.push(e)}}return r}function Vc(n,t,e,r){e&&e(n.mark)&&Jc(n,t,$s.group.isect)&&r.push(n);const i=n.items,l=i&&i.length;if(l){const u=n.x||0,a=n.y||0;t.translate(-u,-a);for(let n=0;n<l;++n)Yc(i[n],t,e,r);t.translate(u,a)}return r}function Jc(n,t,e){const r=n.bounds;return t.encloses(r)||t.intersects(r)&&e(n,t)}Hc.canvas=Hc.png={renderer:fc,headless:fc,handler:uc},Hc.svg={renderer:jc,headless:Pc,handler:gc},Hc.none={};var Xc=new mu;function Kc(n){var t=n.clip;if(U(t))t(So(Xc.clear()));else{if(!t)return;Xc.set(0,0,n.group.width,n.group.height)}n.bounds.intersect(Xc)}function Zc(n,t,e){return n===t||("path"===e?Qc(n,t):n instanceof Date&&t instanceof Date?+n==+t:en(n)&&en(t)?Math.abs(n-t)<=1e-9:n&&t&&(o(n)||o(t))?null!=n&&null!=t&&function(n,t){var e,r,i=Object.keys(n),l=Object.keys(t);if(i.length!==l.length)return!1;for(i.sort(),l.sort(),r=i.length-1;r>=0;r--)if(i[r]!=l[r])return!1;for(r=i.length-1;r>=0;r--)if(!Zc(n[e=i[r]],t[e],e))return!1;return typeof n==typeof t}(n,t):n==t)}function Qc(n,t){return Zc(qa(n),qa(t))}function nf(n){Tr.call(this,null,n)}function tf(n,t,e){return t(n.bounds.clear(),n,e)}Z(nf,Tr).transform=function(n,t){var e,r=t.dataflow,i=n.mark,l=i.marktype,u=$s[l],a=u.bound,o=i.bounds;return u.nested?(i.items.length&&r.dirty(i.items[0]),o=tf(i,a),i.items.forEach((function(n){n.bounds.clear().union(o)}))):l===eu||n.modified()?(t.visit(t.MOD,(function(n){r.dirty(n)})),o.clear(),i.items.forEach((function(n){o.union(tf(n,a))})),i.role===ru&&t.reflow()):(e=t.changed(t.REM),t.visit(t.ADD,(function(n){o.union(tf(n,a))})),t.visit(t.MOD,(function(n){e=e||o.alignsWith(n.bounds),r.dirty(n),o.union(tf(n,a))})),e&&(o.clear(),i.items.forEach((function(n){o.union(n.bounds)})))),Kc(i),t.modifies("bounds")};var ef=":vega_identifier:";function rf(n){Tr.call(this,0,n)}function lf(n){Tr.call(this,null,n)}function uf(n){Tr.call(this,null,n)}rf.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Z(rf,Tr).transform=function(n,t){var e=function(n){var t=n._signals[ef];return t||(n._signals[ef]=t=n.add(0)),t}(t.dataflow),r=e.value,i=n.as;return t.visit(t.ADD,(function(n){n[i]||(n[i]=++r)})),e.set(this.value=r),t},Z(lf,Tr).transform=function(n,t){var e=this.value;e||((e=t.dataflow.scenegraph().mark(n.markdef,function(n){var t=n.groups,e=n.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&e?t.lookup(e):null}(n),n.index)).group.context=n.context,n.context.group||(n.context.group=e.group),e.source=this,e.clip=n.clip,e.interactive=n.interactive,this.value=e);var r=e.marktype===eu?ju:ku;return t.visit(t.ADD,(function(n){r.call(n,e)})),(n.modified("clip")||n.modified("interactive"))&&(e.clip=n.clip,e.interactive=!!n.interactive,e.zdirty=!0,t.reflow()),e.items=t.source,t};var af=Z(uf,Tr),of={parity:function(n){return n.filter((n,t)=>t%2?n.opacity=0:1)},greedy:function(n,t){var e;return n.filter((n,r)=>r&&sf(e.bounds,n.bounds,t)?n.opacity=0:(e=n,1))}};function sf(n,t,e){return e>Math.max(t.x1-n.x2,n.x1-t.x2,t.y1-n.y2,n.y1-t.y2)}function cf(n,t){for(var e,r=1,i=n.length,l=n[0].bounds;r<i;l=e,++r)if(sf(l,e=n[r].bounds,t))return!0}function ff(n){var t=n.bounds;return t.width()>1&&t.height()>1}function hf(n){return n.forEach(n=>n.opacity=1),n}function df(n,t){return n.reflow(t.modified()).modifies("opacity")}function pf(n){Tr.call(this,null,n)}af.transform=function(n,t){var e,r,i,l=of[n.method]||of.parity,u=t.materialize(t.SOURCE).source,a=n.separation||0;if(u&&u.length){if(!n.method)return n.modified("method")&&(hf(u),t=df(t,n)),t;if(n.sort&&(u=u.slice().sort(n.sort)),e=hf(u=u.filter(ff)),t=df(t,n),e.length>=3&&cf(e,a)){do{e=l(e,a)}while(e.length>=3&&cf(e,a));e.length<3&&!x(u).opacity&&(e.length>1&&(x(e).opacity=0),x(u).opacity=1)}var o,s,c,f,h;return n.boundScale&&n.boundTolerance>=0&&(o=n.boundScale,s=n.boundOrient,c=+n.boundTolerance,f=o.range(),h=new mu,s===Jl||s===Zl?h.set(f[0],-1/0,f[1],1/0):h.set(-1/0,f[0],1/0,f[1]),h.expand(c||1),r=n=>h.encloses(n.bounds),u.forEach(n=>{r(n)||(n.opacity=0)})),i=e[0].mark.bounds.clear(),u.forEach(n=>{n.opacity&&i.union(n.bounds)}),t}},Z(pf,Tr).transform=function(n,t){var e=t.dataflow;if(t.visit(t.ALL,(function(n){e.dirty(n)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};const gf=new mu;function mf(n,t,e){return n[t]===e?0:(n[t]=e,1)}function vf(n){var t=n.items[0].datum.orient;return t===Xl||t===Kl}function wf(n,t,e,r){var i,l,u=t.items[0],a=u.datum,o=a.orient,s=function(n){var t=+n.grid;return[n.ticks?t++:-1,n.labels?t++:-1,t+ +n.domain]}(a),c=u.range,f=u.offset,h=u.position,d=u.minExtent,p=u.maxExtent,g=a.title&&u.items[s[2]].items[0],m=u.titlePadding,v=u.bounds,w=0,y=0;switch(gf.clear().union(v),v.clear(),(i=s[0])>-1&&v.union(u.items[i].bounds),(i=s[1])>-1&&v.union(u.items[i].bounds),o){case Jl:w=h||0,y=-f,l=Math.max(d,Math.min(p,-v.y1)),g&&(l=yf(g,l,m,0,-1,v)),v.add(0,-l).add(c,0);break;case Xl:w=-f,y=h||0,l=Math.max(d,Math.min(p,-v.x1)),g&&(l=yf(g,l,m,1,-1,v)),v.add(-l,0).add(0,c);break;case Kl:w=e+f,y=h||0,l=Math.max(d,Math.min(p,v.x2)),g&&(l=yf(g,l,m,1,1,v)),v.add(0,0).add(l,c);break;case Zl:w=h||0,y=r+f,l=Math.max(d,Math.min(p,v.y2)),g&&(l=yf(g,l,m,0,1,v)),v.add(0,0).add(c,l);break;default:w=u.x,y=u.y}return Oo(v.translate(w,y),u),mf(u,"x",w+.5)|mf(u,"y",y+.5)&&(u.bounds=gf,n.dirty(u),u.bounds=v,n.dirty(u)),u.mark.bounds.clear().union(v)}function yf(n,t,e,r,i,l){var u=n.bounds,a=0,o=0;return n.auto?(t+=e,r?a=(n.x||0)-(n.x=i*t):o=(n.y||0)-(n.y=i*t),u.translate(-a,-o),n.mark.bounds.set(u.x1,u.y1,u.x2,u.y2),r?(l.add(0,u.y1).add(0,u.y2),t+=u.width()):(l.add(u.x1,0).add(u.x2,0),t+=u.height())):l.union(u),t}function bf(n){return(new mu).set(0,0,n.width||0,n.height||0)}function xf(n){var t=n.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(n.x||0),-(n.y||0))}function _f(n,t,e){var r=o(n)?n[t]:n;return null!=r?r:void 0!==e?e:0}function kf(n){return n<0?Math.ceil(-n):0}function jf(n,t,e){var r,i,l,u,a,o,s,c,f,h,d,p=!e.nodirty,g=e.bounds===du?bf:xf,m=gf.set(0,0,0,0),v=_f(e.align,pu),w=_f(e.align,gu),y=_f(e.padding,pu),b=_f(e.padding,gu),x=e.columns||t.length,_=x<0?1:Math.ceil(t.length/x),k=t.length,j=Array(k),O=Array(x),A=0,E=Array(k),S=Array(_),C=0,D=Array(k),M=Array(k),F=Array(k);for(i=0;i<x;++i)O[i]=0;for(i=0;i<_;++i)S[i]=0;for(i=0;i<k;++i)o=t[i],a=F[i]=g(o),o.x=o.x||0,D[i]=0,o.y=o.y||0,M[i]=0,l=i%x,u=~~(i/x),A=Math.max(A,s=Math.ceil(a.x2)),C=Math.max(C,c=Math.ceil(a.y2)),O[l]=Math.max(O[l],s),S[u]=Math.max(S[u],c),j[i]=y+kf(a.x1),E[i]=b+kf(a.y1),p&&n.dirty(t[i]);for(i=0;i<k;++i)i%x==0&&(j[i]=0),i<x&&(E[i]=0);if(v===hu)for(l=1;l<x;++l){for(d=0,i=l;i<k;i+=x)d<j[i]&&(d=j[i]);for(i=l;i<k;i+=x)j[i]=d+O[l-1]}else if(v===fu){for(d=0,i=0;i<k;++i)i%x&&d<j[i]&&(d=j[i]);for(i=0;i<k;++i)i%x&&(j[i]=d+A)}else for(v=!1,l=1;l<x;++l)for(i=l;i<k;i+=x)j[i]+=O[l-1];if(w===hu)for(u=1;u<_;++u){for(d=0,r=(i=u*x)+x;i<r;++i)d<E[i]&&(d=E[i]);for(i=u*x;i<r;++i)E[i]=d+S[u-1]}else if(w===fu){for(d=0,i=x;i<k;++i)d<E[i]&&(d=E[i]);for(i=x;i<k;++i)E[i]=d+C}else for(w=!1,u=1;u<_;++u)for(r=(i=u*x)+x;i<r;++i)E[i]+=S[u-1];for(f=0,i=0;i<k;++i)f=j[i]+(i%x?f:0),D[i]+=f-t[i].x;for(l=0;l<x;++l)for(h=0,i=l;i<k;i+=x)h+=E[i],M[i]+=h-t[i].y;if(v&&_f(e.center,pu)&&_>1)for(i=0;i<k;++i)(f=(a=v===fu?A:O[i%x])-F[i].x2-t[i].x-D[i])>0&&(D[i]+=f/2);if(w&&_f(e.center,gu)&&1!==x)for(i=0;i<k;++i)(h=(a=w===fu?C:S[~~(i/x)])-F[i].y2-t[i].y-M[i])>0&&(M[i]+=h/2);for(i=0;i<k;++i)m.union(F[i].translate(D[i],M[i]));switch(f=_f(e.anchor,"x"),h=_f(e.anchor,"y"),_f(e.anchor,pu)){case tu:f-=m.width();break;case nu:f-=m.width()/2}switch(_f(e.anchor,gu)){case tu:h-=m.height();break;case nu:h-=m.height()/2}for(f=Math.round(f),h=Math.round(h),m.clear(),i=0;i<k;++i)t[i].mark.bounds.clear();for(i=0;i<k;++i)(o=t[i]).x+=D[i]+=f,o.y+=M[i]+=h,m.union(o.mark.bounds.union(o.bounds.translate(D[i],M[i]))),p&&n.dirty(o);return m}function Of(n,t){return"x1"===t?n.x||0:"y1"===t?n.y||0:"x2"===t?(n.x||0)+(n.width||0):"y2"===t?(n.y||0)+(n.height||0):void 0}function Af(n,t){return n.bounds[t]}function Ef(n,t){return Math.floor(Math.min(n,t))}function Sf(n,t){return Math.ceil(Math.max(n,t))}function Cf(n,t,e,r,i,l,u,a,o,s,c,f,h,d){var p,g,m,v,w,y,b,x,_,k=e.length,j=0,O=0;if(!k)return j;for(p=c;p<k;p+=f)e[p]&&(j=u(j,o(e[p],s)));if(!t.length)return j;for(t.length>i&&(n.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),j+=l,g=0,v=t.length;g<v;++g)n.dirty(t[g]),t[g].mark.bounds.clear();for(p=c,g=0,v=t.length;g<v;++g,p+=f){for(w=(y=t[g]).mark.bounds,m=p;m>=0&&null==(b=e[m]);m-=h);a?(x=null==d?b.x:Math.round(b.bounds.x1+d*b.bounds.width()),_=j):(x=j,_=null==d?b.y:Math.round(b.bounds.y1+d*b.bounds.height())),w.union(y.bounds.translate(x-(y.x||0),_-(y.y||0))),y.x=x,y.y=_,n.dirty(y),O=u(O,w[s])}return O}function Df(n,t,e,r,i,l){if(t){n.dirty(t);var u=e,a=e;r?u=Math.round(i.x1+l*i.width()):a=Math.round(i.y1+l*i.height()),t.bounds.translate(u-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=u,t.y=a,n.dirty(t)}}function Mf(n,t,e,r,i,l,u){const a=function(n,t){const e=n[t]||{};return(t,r)=>null!=e[t]?e[t]:null!=n[t]?n[t]:r}(e,t),o=(f=n,h=a("offset",0),d=-1/0,f.forEach(n=>{null!=n.offset&&(d=Math.max(d,n.offset))}),d>-1/0?d:h),s=a("anchor",Ql),c=s===tu?1:s===nu?.5:0;var f,h,d;const p={align:hu,bounds:a("bounds",du),columns:"vertical"===a("direction")?1:n.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Xl:p.anchor={x:Math.floor(r.x1)-o,column:tu,y:c*(u||r.height()+2*r.y1),row:s};break;case Kl:p.anchor={x:Math.ceil(r.x2)+o,y:c*(u||r.height()+2*r.y1),row:s};break;case Jl:p.anchor={y:Math.floor(i.y1)-o,row:tu,x:c*(l||i.width()+2*i.x1),column:s};break;case Zl:p.anchor={y:Math.ceil(i.y2)+o,x:c*(l||i.width()+2*i.x1),column:s};break;case"top-left":p.anchor={x:o,y:o};break;case"top-right":p.anchor={x:l-o,y:o,column:tu};break;case"bottom-left":p.anchor={x:o,y:u-o,row:tu};break;case"bottom-right":p.anchor={x:l-o,y:u-o,column:tu,row:tu}}return p}function Ff(n,t){var e,r,i,l,u=t.items[0],a=u.datum,o=u.orient,s=u.bounds,c=u.x,f=u.y;return u._bounds?u._bounds.clear().union(s):u._bounds=s.clone(),s.clear(),function(n,t,e){var r=t.padding,i=r-e.x,l=r-e.y;if(t.datum.title){var u=t.items[1].items[0],a=u.anchor,o=t.titlePadding||0,s=r-u.x,c=r-u.y;switch(u.orient){case Xl:i+=Math.ceil(u.bounds.width())+o;break;case Kl:case Zl:break;default:l+=u.fontSize+o}switch((i||l)&&Nf(n,e,i,l),u.orient){case Xl:c+=Tf(t,e,u,a,0,1);break;case Kl:s+=Tf(t,e,u,tu,1,0)+o,c+=Tf(t,e,u,a,0,1);break;case Zl:s+=Tf(t,e,u,a,1,0),c+=Tf(t,e,u,tu,0,0,1)+o;break;default:s+=Tf(t,e,u,a,1,0)}(s||c)&&Nf(n,u,s,c),(s=Math.round(u.bounds.x1-r))<0&&(Nf(n,e,-s,0),Nf(n,u,-s,0))}else(i||l)&&Nf(n,e,i,l)}(n,u,u.items[0].items[0]),s=function(n,t){return n.items.forEach(n=>t.union(n.bounds)),t.x1=n.padding,t.y1=n.padding,t}(u,s),e=2*u.padding,r=2*u.padding,s.empty()||(e=Math.ceil(s.width()+e),r=Math.ceil(s.height()+r)),"symbol"===a.type&&(i=u.items[0].items[0].items[0].items,l=i.reduce((function(n,t){return n[t.column]=Math.max(t.bounds.x2-t.x,n[t.column]||0),n}),{}),i.forEach((function(n){n.width=l[n.column],n.height=n.bounds.y2-n.y}))),o!==cu&&(u.x=c=0,u.y=f=0),u.width=e,u.height=r,Oo(s.set(c,f,c+e,f+r),u),u.mark.bounds.clear().union(s),u}function Tf(n,t,e,r,i,l,u){const a="symbol"!==n.datum.type,o=e.datum.vgrad,s=(!a||!l&&o||u?t:t.items[0]).bounds[i?"x2":"y2"]-n.padding,c=o&&l?s:0,f=o&&l?0:s;return Math.round(r===Ql?c:r===tu?f:.5*s)}function Nf(n,t,e,r){t.x+=e,t.y+=r,t.bounds.translate(e,r),t.mark.bounds.translate(e,r),n.dirty(t)}function Bf(n){Tr.call(this,null,n)}Z(Bf,Tr).transform=function(n,t){var e=t.dataflow;return n.mark.items.forEach((function(t){n.layout&&function(n,t,e){var r,i,l,u,a,o,s,c=function(n){for(var t,e,r=n.items,i=r.length,l=0,u={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<i;++l)if(e=(t=r[l]).items,t.marktype===eu)switch(t.role){case"axis":case ru:break;case iu:u.rowheaders.push(...e);break;case lu:u.rowfooters.push(...e);break;case au:u.colheaders.push(...e);break;case ou:u.colfooters.push(...e);break;case uu:u.rowtitle=e[0];break;case su:u.coltitle=e[0];break;default:u.marks.push(...e)}return u}(t),f=c.marks,h=e.bounds===du?Of:Af,d=e.offset,p=e.columns||f.length,g=p<0?1:Math.ceil(f.length/p),m=g*p;const v=jf(n,f,e);c.rowheaders&&(o=_f(e.headerBand,gu,null),r=Cf(n,c.rowheaders,f,0,g,-_f(d,"rowHeader"),Ef,0,h,"x1",0,p,1,o)),c.colheaders&&(o=_f(e.headerBand,pu,null),i=Cf(n,c.colheaders,f,0,p,-_f(d,"columnHeader"),Ef,1,h,"y1",0,1,p,o)),c.rowfooters&&(o=_f(e.footerBand,gu,null),l=Cf(n,c.rowfooters,f,0,g,_f(d,"rowFooter"),Sf,0,h,"x2",p-1,p,1,o)),c.colfooters&&(o=_f(e.footerBand,pu,null),u=Cf(n,c.colfooters,f,0,p,_f(d,"columnFooter"),Sf,1,h,"y2",m-p,1,p,o)),c.rowtitle&&(a=_f(e.titleAnchor,gu),s=_f(d,"rowTitle"),s=a===tu?l+s:r-s,o=_f(e.titleBand,gu,.5),Df(n,c.rowtitle,s,0,v,o)),c.coltitle&&(a=_f(e.titleAnchor,pu),s=_f(d,"columnTitle"),s=a===tu?u+s:i-s,o=_f(e.titleBand,pu,.5),Df(n,c.coltitle,s,1,v,o))}(e,t,n.layout),function(n,t,e){var r,i,l,u,a,o=t.items,s=Math.max(0,t.width||0),c=Math.max(0,t.height||0),f=(new mu).set(0,0,s,c),h=f.clone(),d=f.clone(),p=[];for(u=0,a=o.length;u<a;++u)switch((i=o[u]).role){case"axis":(vf(i)?h:d).union(wf(n,i,s,c));break;case"title":r=i;break;case ru:p.push(Ff(n,i));break;case"frame":case"scope":case iu:case lu:case uu:case au:case ou:case su:h.union(i.bounds),d.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){const t={};p.forEach(n=>{(l=n.orient||Kl)!==cu&&(t[l]||(t[l]=[])).push(n)});for(let r in t){const i=t[r];jf(n,i,Mf(i,r,e.legends,h,d,s,c))}p.forEach(t=>{const r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,n.dirty(t),t.bounds=r,n.dirty(t)),e.autosize&&"fit"===e.autosize.type)switch(t.orient){case Xl:case Kl:f.add(r.x1,0).add(r.x2,0);break;case Jl:case Zl:f.add(0,r.y1).add(0,r.y2)}else f.union(r)})}f.union(h).union(d),r&&f.union(function(n,t,e,r,i){var l,u=t.items[0],a=u.frame,o=u.orient,s=u.anchor,c=u.offset,f=u.bounds,h=0,d=o===Xl||o===Kl?r:e,p=0,g=0;switch(a!==eu?o===Xl?(h=i.y2,d=i.y1):o===Kl?(h=i.y1,d=i.y2):(h=i.x1,d=i.x2):o===Xl&&(h=r,d=0),l=s===Ql?h:s===tu?d:(h+d)/2,gf.clear().union(f),o){case Jl:p=l,g=i.y1-c;break;case Xl:p=i.x1-c,g=l;break;case Kl:p=i.x2+c,g=l;break;case Zl:p=l,g=i.y2+c;break;default:p=u.x,g=u.y}return f.translate(p-(u.x||0),g-(u.y||0)),mf(u,"x",p)|mf(u,"y",g)&&(u.bounds=gf,n.dirty(u),u.bounds=f,n.dirty(u)),t.bounds.clear().union(f)}(n,r,s,c,f)),function(n,t,e,r){var i=r.autosize||{},l=i.type,u=n._width,a=n._height,o=n.padding();if(!(n._autosize<1)&&l){var s=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-e.x1)),f=Math.max(0,Math.ceil(e.x2-s)),h=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-e.y1)),p=Math.max(0,Math.ceil(e.y2-h));"padding"===i.contains&&(u-=o.left+o.right,a-=o.top+o.bottom),l===cu?(c=0,d=0,s=u,h=a):"fit"===l?(s=Math.max(0,u-c-f),h=Math.max(0,a-d-p)):"fit-x"===l?(s=Math.max(0,u-c-f),a=h+d+p):"fit-y"===l?(u=s+c+f,h=Math.max(0,a-d-p)):"pad"===l&&(u=s+c+f,a=h+d+p),n._resizeView(u,a,s,h,[c,d],i.resize)}}(n,t,f,e)}(e,t,n)})),n.modified()&&t.reflow(),t};var zf=Object.freeze({bound:nf,identifier:rf,mark:lf,overlap:uf,render:pf,viewlayout:Bf});function Pf(n,t,e){var r=n-t+2*e;return n?r>0?r:1:0}const $f="identity",Rf="linear",If="log",Lf="pow",Uf="sqrt",qf="symlog",Hf="time",Wf="utc",Gf="sequential",Yf="diverging",Vf="quantile",Jf="quantize",Xf="threshold",Kf="ordinal",Zf="point",Qf="band",nh="bin-ordinal";function th(n){return n===Vf}function eh(n){return function(n){return n&&n.startsWith(Gf)}(n)||function(n){return n&&n.startsWith(Yf)}(n)}function rh(n){return n===If||n.endsWith("-log")}function ih(n){switch(n){case Rf:case If:case Lf:case Uf:case qf:case Hf:case Wf:case Gf:return!0}return!1}function lh(n){return n===nh||n===Kf||n===Qf||n===Zf}function uh(n){return n===nh||n===Vf||n===Jf||n===Xf}var ah={millisecond:At,second:Ct,minute:Dt,hour:Mt,day:Ft,week:Nt,month:Pt,year:$t},oh={millisecond:At,second:Ct,minute:Rt,hour:It,day:Lt,week:qt,month:Gt,year:Yt};function sh(n,t){const e=t===Wf?oh:ah;return e.hasOwnProperty(n)&&e[n]}function ch(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function fh(n,t){switch(arguments.length){case 0:break;case 1:this.interpolator(n);break;default:this.interpolator(t).domain(n)}return this}const hh=Symbol("implicit");function dh(){var n=new Map,t=[],e=[],r=hh;function i(i){var l=i+"",u=n.get(l);if(!u){if(r!==hh)return r;n.set(l,u=t.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new Map;for(const r of e){const e=r+"";n.has(e)||n.set(e,t.push(r))}return i},i.range=function(n){return arguments.length?(e=Array.from(n),i):e.slice()},i.unknown=function(n){return arguments.length?(r=n,i):r},i.copy=function(){return dh(t,e).unknown(r)},ch.apply(i,arguments),i}function ph(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function gh(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function mh(){}var vh="\\s*([+-]?\\d+)\\s*",wh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",yh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bh=/^#([0-9a-f]{3})$/,xh=/^#([0-9a-f]{6})$/,_h=new RegExp("^rgb\\("+[vh,vh,vh]+"\\)$"),kh=new RegExp("^rgb\\("+[yh,yh,yh]+"\\)$"),jh=new RegExp("^rgba\\("+[vh,vh,vh,wh]+"\\)$"),Oh=new RegExp("^rgba\\("+[yh,yh,yh,wh]+"\\)$"),Ah=new RegExp("^hsl\\("+[wh,yh,yh]+"\\)$"),Eh=new RegExp("^hsla\\("+[wh,yh,yh,wh]+"\\)$"),Sh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ch(n){var t;return n=(n+"").trim().toLowerCase(),(t=bh.exec(n))?new Nh((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=xh.exec(n))?Dh(parseInt(t[1],16)):(t=_h.exec(n))?new Nh(t[1],t[2],t[3],1):(t=kh.exec(n))?new Nh(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=jh.exec(n))?Mh(t[1],t[2],t[3],t[4]):(t=Oh.exec(n))?Mh(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ah.exec(n))?zh(t[1],t[2]/100,t[3]/100,1):(t=Eh.exec(n))?zh(t[1],t[2]/100,t[3]/100,t[4]):Sh.hasOwnProperty(n)?Dh(Sh[n]):"transparent"===n?new Nh(NaN,NaN,NaN,0):null}function Dh(n){return new Nh(n>>16&255,n>>8&255,255&n,1)}function Mh(n,t,e,r){return r<=0&&(n=t=e=NaN),new Nh(n,t,e,r)}function Fh(n){return n instanceof mh||(n=Ch(n)),n?new Nh((n=n.rgb()).r,n.g,n.b,n.opacity):new Nh}function Th(n,t,e,r){return 1===arguments.length?Fh(n):new Nh(n,t,e,null==r?1:r)}function Nh(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}function Bh(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function zh(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new $h(n,t,e,r)}function Ph(n,t,e,r){return 1===arguments.length?function(n){if(n instanceof $h)return new $h(n.h,n.s,n.l,n.opacity);if(n instanceof mh||(n=Ch(n)),!n)return new $h;if(n instanceof $h)return n;var t=(n=n.rgb()).r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),l=Math.max(t,e,r),u=NaN,a=l-i,o=(l+i)/2;return a?(u=t===l?(e-r)/a+6*(e<r):e===l?(r-t)/a+2:(t-e)/a+4,a/=o<.5?l+i:2-l-i,u*=60):a=o>0&&o<1?0:u,new $h(u,a,o,n.opacity)}(n):new $h(n,t,e,null==r?1:r)}function $h(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function Rh(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}ph(mh,Ch,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),ph(Nh,Th,gh(mh,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new Nh(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Nh(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Bh(this.r)+Bh(this.g)+Bh(this.b)},toString:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}})),ph($h,Ph,gh(mh,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new $h(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new $h(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new Nh(Rh(n>=240?n-240:n+120,i,r),Rh(n,i,r),Rh(n<120?n+240:n-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Ih=Math.PI/180,Lh=180/Math.PI,Uh=6/29,qh=3*Uh*Uh;function Hh(n){if(n instanceof Gh)return new Gh(n.l,n.a,n.b,n.opacity);if(n instanceof Zh){if(isNaN(n.h))return new Gh(n.l,0,0,n.opacity);var t=n.h*Ih;return new Gh(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}n instanceof Nh||(n=Fh(n));var e,r,i=Xh(n.r),l=Xh(n.g),u=Xh(n.b),a=Yh((.2225045*i+.7168786*l+.0606169*u)/1);return i===l&&l===u?e=r=a:(e=Yh((.4360747*i+.3850649*l+.1430804*u)/.96422),r=Yh((.0139322*i+.0971045*l+.7141733*u)/.82521)),new Gh(116*a-16,500*(e-a),200*(a-r),n.opacity)}function Wh(n,t,e,r){return 1===arguments.length?Hh(n):new Gh(n,t,e,null==r?1:r)}function Gh(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}function Yh(n){return n>.008856451679035631?Math.pow(n,1/3):n/qh+4/29}function Vh(n){return n>Uh?n*n*n:qh*(n-4/29)}function Jh(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Xh(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Kh(n,t,e,r){return 1===arguments.length?function(n){if(n instanceof Zh)return new Zh(n.h,n.c,n.l,n.opacity);if(n instanceof Gh||(n=Hh(n)),0===n.a&&0===n.b)return new Zh(NaN,0,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*Lh;return new Zh(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}(n):new Zh(n,t,e,null==r?1:r)}function Zh(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}ph(Gh,Wh,gh(mh,{brighter:function(n){return new Gh(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker:function(n){return new Gh(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return new Nh(Jh(3.1338561*(t=.96422*Vh(t))-1.6168667*(n=1*Vh(n))-.4906146*(e=.82521*Vh(e))),Jh(-.9787684*t+1.9161415*n+.033454*e),Jh(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}})),ph(Zh,Kh,gh(mh,{brighter:function(n){return new Zh(this.h,this.c,this.l+18*(null==n?1:n),this.opacity)},darker:function(n){return new Zh(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb:function(){return Hh(this).rgb()}}));var Qh=1.78277,nd=-.29227,td=-.90649,ed=1.97294,rd=ed*td,id=ed*Qh,ld=Qh*nd- -.14861*td;function ud(n,t,e,r){return 1===arguments.length?function(n){if(n instanceof ad)return new ad(n.h,n.s,n.l,n.opacity);n instanceof Nh||(n=Fh(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(ld*r+rd*t-id*e)/(ld+rd-id),l=r-i,u=(ed*(e-i)-nd*l)/td,a=Math.sqrt(u*u+l*l)/(ed*i*(1-i)),o=a?Math.atan2(u,l)*Lh-120:NaN;return new ad(o<0?o+360:o,a,i,n.opacity)}(n):new ad(n,t,e,null==r?1:r)}function ad(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function od(n,t,e,r,i){var l=n*n,u=l*n;return((1-3*n+3*l-u)*t+(4-6*l+3*u)*e+(1+3*n+3*l-3*u)*r+u*i)/6}function sd(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),i=n[r],l=n[r+1],u=r>0?n[r-1]:2*i-l,a=r<t-1?n[r+2]:2*l-i;return od((e-r/t)*t,u,i,l,a)}}function cd(n){var t=n.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*t),i=n[(r+t-1)%t],l=n[r%t],u=n[(r+1)%t],a=n[(r+2)%t];return od((e-r/t)*t,i,l,u,a)}}function fd(n){return function(){return n}}function hd(n,t){return function(e){return n+e*t}}function dd(n,t){var e=t-n;return e?hd(n,e>180||e<-180?e-360*Math.round(e/360):e):fd(isNaN(n)?t:n)}function pd(n,t){var e=t-n;return e?hd(n,e):fd(isNaN(n)?t:n)}ph(ad,ud,gh(mh,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new ad(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new ad(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*Ih,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new Nh(255*(t+e*(-.14861*r+Qh*i)),255*(t+e*(nd*r+td*i)),255*(t+e*(ed*r)),this.opacity)}}));var gd=function n(t){var e=function(n){return 1==(n=+n)?pd:function(t,e){return e-t?function(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}(t,e,n):fd(isNaN(t)?e:t)}}(t);function r(n,t){var r=e((n=Th(n)).r,(t=Th(t)).r),i=e(n.g,t.g),l=e(n.b,t.b),u=pd(n.opacity,t.opacity);return function(t){return n.r=r(t),n.g=i(t),n.b=l(t),n.opacity=u(t),n+""}}return r.gamma=n,r}(1);function md(n){return function(t){var e,r,i=t.length,l=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Th(t[e]),l[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return l=n(l),u=n(u),a=n(a),r.opacity=1,function(n){return r.r=l(n),r.g=u(n),r.b=a(n),r+""}}}var vd=md(sd),wd=md(cd);function yd(n,t){var e,r=t?t.length:0,i=n?Math.min(r,n.length):0,l=new Array(i),u=new Array(r);for(e=0;e<i;++e)l[e]=Ad(n[e],t[e]);for(;e<r;++e)u[e]=t[e];return function(n){for(e=0;e<i;++e)u[e]=l[e](n);return u}}function bd(n,t){var e=new Date;return t-=n=+n,function(r){return e.setTime(n+t*r),e}}function xd(n,t){return t-=n=+n,function(e){return n+t*e}}function _d(n,t){var e,r={},i={};for(e in null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={}),t)e in n?r[e]=Ad(n[e],t[e]):i[e]=t[e];return function(n){for(e in r)i[e]=r[e](n);return i}}var kd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jd=new RegExp(kd.source,"g");function Od(n,t){var e,r,i,l=kd.lastIndex=jd.lastIndex=0,u=-1,a=[],o=[];for(n+="",t+="";(e=kd.exec(n))&&(r=jd.exec(t));)(i=r.index)>l&&(i=t.slice(l,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,o.push({i:u,x:xd(e,r)})),l=jd.lastIndex;return l<t.length&&(i=t.slice(l),a[u]?a[u]+=i:a[++u]=i),a.length<2?o[0]?function(n){return function(t){return n(t)+""}}(o[0].x):function(n){return function(){return n}}(t):(t=o.length,function(n){for(var e,r=0;r<t;++r)a[(e=o[r]).i]=e.x(n);return a.join("")})}function Ad(n,t){var e,r=typeof t;return null==t||"boolean"===r?fd(t):("number"===r?xd:"string"===r?(e=Ch(t))?(t=e,gd):Od:t instanceof Ch?gd:t instanceof Date?bd:Array.isArray(t)?yd:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?_d:xd)(n,t)}function Ed(n,t){return t-=n=+n,function(e){return Math.round(n+t*e)}}var Sd,Cd,Dd,Md,Fd=180/Math.PI,Td={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nd(n,t,e,r,i,l){var u,a,o;return(u=Math.sqrt(n*n+t*t))&&(n/=u,t/=u),(o=n*e+t*r)&&(e-=n*o,r-=t*o),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,o/=a),n*r<t*e&&(n=-n,t=-t,o=-o,u=-u),{translateX:i,translateY:l,rotate:Math.atan2(t,n)*Fd,skewX:Math.atan(o)*Fd,scaleX:u,scaleY:a}}function Bd(n,t,e,r){function i(n){return n.length?n.pop()+" ":""}return function(l,u){var a=[],o=[];return l=n(l),u=n(u),function(n,r,i,l,u,a){if(n!==i||r!==l){var o=u.push("translate(",null,t,null,e);a.push({i:o-4,x:xd(n,i)},{i:o-2,x:xd(r,l)})}else(i||l)&&u.push("translate("+i+t+l+e)}(l.translateX,l.translateY,u.translateX,u.translateY,a,o),function(n,t,e,l){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),l.push({i:e.push(i(e)+"rotate(",null,r)-2,x:xd(n,t)})):t&&e.push(i(e)+"rotate("+t+r)}(l.rotate,u.rotate,a,o),function(n,t,e,l){n!==t?l.push({i:e.push(i(e)+"skewX(",null,r)-2,x:xd(n,t)}):t&&e.push(i(e)+"skewX("+t+r)}(l.skewX,u.skewX,a,o),function(n,t,e,r,l,u){if(n!==e||t!==r){var a=l.push(i(l)+"scale(",null,",",null,")");u.push({i:a-4,x:xd(n,e)},{i:a-2,x:xd(t,r)})}else 1===e&&1===r||l.push(i(l)+"scale("+e+","+r+")")}(l.scaleX,l.scaleY,u.scaleX,u.scaleY,a,o),l=u=null,function(n){for(var t,e=-1,r=o.length;++e<r;)a[(t=o[e]).i]=t.x(n);return a.join("")}}}var zd=Bd((function(n){return"none"===n?Td:(Sd||(Sd=document.createElement("DIV"),Cd=document.documentElement,Dd=document.defaultView),Sd.style.transform=n,n=Dd.getComputedStyle(Cd.appendChild(Sd),null).getPropertyValue("transform"),Cd.removeChild(Sd),Nd(+(n=n.slice(7,-1).split(","))[0],+n[1],+n[2],+n[3],+n[4],+n[5]))}),"px, ","px)","deg)"),Pd=Bd((function(n){return null==n?Td:(Md||(Md=document.createElementNS("http://www.w3.org/2000/svg","g")),Md.setAttribute("transform",n),(n=Md.transform.baseVal.consolidate())?Nd((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Td)}),", ",")",")"),$d=Math.SQRT2;function Rd(n){return((n=Math.exp(n))+1/n)/2}function Id(n){return function(t,e){var r=n((t=Ph(t)).h,(e=Ph(e)).h),i=pd(t.s,e.s),l=pd(t.l,e.l),u=pd(t.opacity,e.opacity);return function(n){return t.h=r(n),t.s=i(n),t.l=l(n),t.opacity=u(n),t+""}}}var Ld=Id(dd),Ud=Id(pd);function qd(n){return function(t,e){var r=n((t=Kh(t)).h,(e=Kh(e)).h),i=pd(t.c,e.c),l=pd(t.l,e.l),u=pd(t.opacity,e.opacity);return function(n){return t.h=r(n),t.c=i(n),t.l=l(n),t.opacity=u(n),t+""}}}var Hd=qd(dd),Wd=qd(pd);function Gd(n){return function t(e){function r(t,r){var i=n((t=ud(t)).h,(r=ud(r)).h),l=pd(t.s,r.s),u=pd(t.l,r.l),a=pd(t.opacity,r.opacity);return function(n){return t.h=i(n),t.s=l(n),t.l=u(Math.pow(n,e)),t.opacity=a(n),t+""}}return e=+e,r.gamma=t,r}(1)}var Yd=Gd(dd),Vd=Gd(pd);function Jd(n,t){for(var e=0,r=t.length-1,i=t[0],l=new Array(r<0?0:r);e<r;)l[e]=n(i,i=t[++e]);return function(n){var t=Math.max(0,Math.min(r-1,Math.floor(n*=r)));return l[t](n-t)}}var Xd=Object.freeze({interpolate:Ad,interpolateArray:yd,interpolateBasis:sd,interpolateBasisClosed:cd,interpolateDate:bd,interpolateDiscrete:function(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}},interpolateHue:function(n,t){var e=dd(+n,+t);return function(n){var t=e(n);return t-360*Math.floor(t/360)}},interpolateNumber:xd,interpolateObject:_d,interpolateRound:Ed,interpolateString:Od,interpolateTransformCss:zd,interpolateTransformSvg:Pd,interpolateZoom:function(n,t){var e,r,i=n[0],l=n[1],u=n[2],a=t[0],o=t[1],s=t[2],c=a-i,f=o-l,h=c*c+f*f;if(h<1e-12)r=Math.log(s/u)/$d,e=function(n){return[i+n*c,l+n*f,u*Math.exp($d*n*r)]};else{var d=Math.sqrt(h),p=(s*s-u*u+4*h)/(2*u*2*d),g=(s*s-u*u-4*h)/(2*s*2*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/$d,e=function(n){var t,e=n*r,a=Rd(m),o=u/(2*d)*(a*(t=$d*e+m,((t=Math.exp(2*t))-1)/(t+1))-function(n){return((n=Math.exp(n))-1/n)/2}(m));return[i+o*c,l+o*f,u*a/Rd($d*e+m)]}}return e.duration=1e3*r,e},interpolateRgb:gd,interpolateRgbBasis:vd,interpolateRgbBasisClosed:wd,interpolateHsl:Ld,interpolateHslLong:Ud,interpolateLab:function(n,t){var e=pd((n=Wh(n)).l,(t=Wh(t)).l),r=pd(n.a,t.a),i=pd(n.b,t.b),l=pd(n.opacity,t.opacity);return function(t){return n.l=e(t),n.a=r(t),n.b=i(t),n.opacity=l(t),n+""}},interpolateHcl:Hd,interpolateHclLong:Wd,interpolateCubehelix:Yd,interpolateCubehelixLong:Vd,piecewise:Jd,quantize:function(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r/(t-1));return e}});function Kd(n){return+n}var Zd=[0,1];function Qd(n){return n}function np(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:(e=isNaN(t)?NaN:.5,function(){return e});var e}function tp(n){var t,e=n[0],r=n[n.length-1];return e>r&&(t=e,e=r,r=t),function(n){return Math.max(e,Math.min(r,n))}}function ep(n,t,e){var r=n[0],i=n[1],l=t[0],u=t[1];return i<r?(r=np(i,r),l=e(u,l)):(r=np(r,i),l=e(l,u)),function(n){return l(r(n))}}function rp(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),l=new Array(r),u=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=np(n[u],n[u+1]),l[u]=e(t[u],t[u+1]);return function(t){var e=Kr(n,t,1,r)-1;return l[e](i[e](t))}}function ip(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function lp(){var n,t,e,r,i,l,u=Zd,a=Zd,o=Ad,s=Qd;function c(){return r=Math.min(u.length,a.length)>2?rp:ep,i=l=null,f}function f(t){return isNaN(t=+t)?e:(i||(i=r(u.map(n),a,o)))(n(s(t)))}return f.invert=function(e){return s(t((l||(l=r(a,u.map(n),xd)))(e)))},f.domain=function(n){return arguments.length?(u=Array.from(n,Kd),s===Qd||(s=tp(u)),c()):u.slice()},f.range=function(n){return arguments.length?(a=Array.from(n),c()):a.slice()},f.rangeRound=function(n){return a=Array.from(n),o=Ed,c()},f.clamp=function(n){return arguments.length?(s=n?tp(u):Qd,f):s!==Qd},f.interpolate=function(n){return arguments.length?(o=n,c()):o},f.unknown=function(n){return arguments.length?(e=n,f):e},function(e,r){return n=e,t=r,c()}}function up(n,t){return lp()(n,t)}function ap(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function op(n){return(n=ap(Math.abs(n)))?n[1]:NaN}var sp,cp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fp(n){return new hp(n)}function hp(n){if(!(t=cp.exec(n)))throw new Error("invalid format: "+n);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function dp(n,t){var e=ap(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}fp.prototype=hp.prototype,hp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var pp={"%":function(n,t){return(100*n).toFixed(t)},b:function(n){return Math.round(n).toString(2)},c:function(n){return n+""},d:function(n){return Math.round(n).toString(10)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},g:function(n,t){return n.toPrecision(t)},o:function(n){return Math.round(n).toString(8)},p:function(n,t){return dp(100*n,t)},r:dp,s:function(n,t){var e=ap(n,t);if(!e)return n+"";var r=e[0],i=e[1],l=i-(sp=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return l===u?r:l>u?r+new Array(l-u+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+ap(n,Math.max(0,t+l-1))[0]},X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}};function gp(n){return n}var mp,vp,wp,yp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function bp(n){return mp=function(n){var t,e,r=n.grouping&&n.thousands?(t=n.grouping,e=n.thousands,function(n,r){for(var i=n.length,l=[],u=0,a=t[0],o=0;i>0&&a>0&&(o+a+1>r&&(a=Math.max(1,r-o)),l.push(n.substring(i-=a,i+a)),!((o+=a+1)>r));)a=t[u=(u+1)%t.length];return l.reverse().join(e)}):gp,i=n.currency,l=n.decimal,u=n.numerals?function(n){return function(t){return t.replace(/[0-9]/g,(function(t){return n[+t]}))}}(n.numerals):gp,a=n.percent||"%";function o(n){var t=(n=fp(n)).fill,e=n.align,o=n.sign,s=n.symbol,c=n.zero,f=n.width,h=n.comma,d=n.precision,p=n.trim,g=n.type;"n"===g?(h=!0,g="g"):pp[g]||(null==d&&(d=12),p=!0,g="g"),(c||"0"===t&&"="===e)&&(c=!0,t="0",e="=");var m="$"===s?i[0]:"#"===s&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===s?i[1]:/[%p]/.test(g)?a:"",w=pp[g],y=/[defgprs%]/.test(g);function b(n){var i,a,s,b=m,x=v;if("c"===g)x=w(n)+x,n="";else{var _=(n=+n)<0;if(n=w(Math.abs(n),d),p&&(n=function(n){n:for(var t,e=n.length,r=1,i=-1;r<e;++r)switch(n[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+n[r])break n;i=0}}return i>0?n.slice(0,i)+n.slice(t+1):n}(n)),_&&0==+n&&(_=!1),b=(_?"("===o?o:"-":"-"===o||"("===o?"":o)+b,x=("s"===g?yp[8+sp/3]:"")+x+(_&&"("===o?")":""),y)for(i=-1,a=n.length;++i<a;)if(48>(s=n.charCodeAt(i))||s>57){x=(46===s?l+n.slice(i+1):n.slice(i))+x,n=n.slice(0,i);break}}h&&!c&&(n=r(n,1/0));var k=b.length+n.length+x.length,j=k<f?new Array(f-k+1).join(t):"";switch(h&&c&&(n=r(j+n,j.length?f-x.length:1/0),j=""),e){case"<":n=b+n+x+j;break;case"=":n=b+j+n+x;break;case"^":n=j.slice(0,k=j.length>>1)+b+n+x+j.slice(k);break;default:n=j+b+n+x}return u(n)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return n+""},b}return{format:o,formatPrefix:function(n,t){var e=o(((n=fp(n)).type="f",n)),r=3*Math.max(-8,Math.min(8,Math.floor(op(t)/3))),i=Math.pow(10,-r),l=yp[8+r/3];return function(n){return e(i*n)+l}}}}(n),vp=mp.format,wp=mp.formatPrefix,mp}function xp(n,t,e,r){var i,l=ui(n,t,e);switch((r=fp(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(n),Math.abs(t));return null!=r.precision||isNaN(i=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(op(t)/3)))-op(Math.abs(n)))}(l,u))||(r.precision=i),wp(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,op(t)-op(n))+1}(l,Math.max(Math.abs(n),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(n){return Math.max(0,-op(Math.abs(n)))}(l))||(r.precision=i-2*("%"===r.type))}return vp(r)}function _p(n){var t=n.domain;return n.ticks=function(n){var e=t();return ii(e[0],e[e.length-1],null==n?10:n)},n.tickFormat=function(n,e){var r=t();return xp(r[0],r[r.length-1],null==n?10:n,e)},n.nice=function(e){null==e&&(e=10);var r,i=t(),l=0,u=i.length-1,a=i[l],o=i[u];return o<a&&(r=a,a=o,o=r,r=l,l=u,u=r),(r=li(a,o,e))>0?r=li(a=Math.floor(a/r)*r,o=Math.ceil(o/r)*r,e):r<0&&(r=li(a=Math.ceil(a*r)/r,o=Math.floor(o*r)/r,e)),r>0?(i[l]=Math.floor(a/r)*r,i[u]=Math.ceil(o/r)*r,t(i)):r<0&&(i[l]=Math.ceil(a*r)/r,i[u]=Math.floor(o*r)/r,t(i)),n},n}function kp(n,t){var e,r=0,i=(n=n.slice()).length-1,l=n[r],u=n[i];return u<l&&(e=r,r=i,i=e,e=l,l=u,u=e),n[r]=t.floor(l),n[i]=t.ceil(u),n}function jp(n){return Math.log(n)}function Op(n){return Math.exp(n)}function Ap(n){return-Math.log(-n)}function Ep(n){return-Math.exp(-n)}function Sp(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Cp(n){return function(t){return-n(-t)}}function Dp(n){var t,e,r=n(jp,Op),i=r.domain,l=10;function u(){return t=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}(l),e=function(n){return 10===n?Sp:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}(l),i()[0]<0?(t=Cp(t),e=Cp(e),n(Ap,Ep)):n(jp,Op),r}return r.base=function(n){return arguments.length?(l=+n,u()):l},r.domain=function(n){return arguments.length?(i(n),u()):i()},r.ticks=function(n){var r,u=i(),a=u[0],o=u[u.length-1];(r=o<a)&&(h=a,a=o,o=h);var s,c,f,h=t(a),d=t(o),p=null==n?10:+n,g=[];if(!(l%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,a>0){for(;h<d;++h)for(c=1,s=e(h);c<l;++c)if(!((f=s*c)<a)){if(f>o)break;g.push(f)}}else for(;h<d;++h)for(c=l-1,s=e(h);c>=1;--c)if(!((f=s*c)<a)){if(f>o)break;g.push(f)}}else g=ii(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(n,i){if(null==i&&(i=10===l?".0e":","),"function"!=typeof i&&(i=vp(i)),n===1/0)return i;null==n&&(n=10);var u=Math.max(1,l*n/r.ticks().length);return function(n){var r=n/e(Math.round(t(n)));return r*l<l-.5&&(r*=l),r<=u?i(n):""}},r.nice=function(){return i(kp(i(),{floor:function(n){return e(Math.floor(t(n)))},ceil:function(n){return e(Math.ceil(t(n)))}}))},r}function Mp(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function Fp(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function Tp(n){var t=1,e=n(Mp(t),Fp(t));return e.constant=function(e){return arguments.length?n(Mp(t=+e),Fp(t)):t},_p(e)}function Np(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Bp(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function zp(n){return n<0?-n*n:n*n}function Pp(n){var t=n(Qd,Qd),e=1;return t.exponent=function(t){return arguments.length?1==(e=+t)?n(Qd,Qd):.5===e?n(Bp,zp):n(Np(e),Np(1/e)):e},_p(t)}function $p(){var n=Pp(lp());return n.copy=function(){return ip(n,$p()).exponent(n.exponent())},ch.apply(n,arguments),n}bp({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Rp=1e3,Ip=6e4,Lp=60*Ip,Up=24*Lp,qp=30*Up,Hp=365*Up;function Wp(n){return new Date(n)}function Gp(n){return n instanceof Date?+n:+new Date(+n)}function Yp(n,t,e,r,i,l,u,a,o){var s=up(Qd,Qd),c=s.invert,f=s.domain,h=o(".%L"),d=o(":%S"),p=o("%I:%M"),g=o("%I %p"),m=o("%a %d"),v=o("%b %d"),w=o("%B"),y=o("%Y"),b=[[u,1,Rp],[u,5,5e3],[u,15,15e3],[u,30,3e4],[l,1,Ip],[l,5,5*Ip],[l,15,15*Ip],[l,30,30*Ip],[i,1,Lp],[i,3,3*Lp],[i,6,6*Lp],[i,12,12*Lp],[r,1,Up],[r,2,2*Up],[e,1,6048e5],[t,1,qp],[t,3,3*qp],[n,1,Hp]];function x(a){return(u(a)<a?h:l(a)<a?d:i(a)<a?p:r(a)<a?g:t(a)<a?e(a)<a?m:v:n(a)<a?w:y)(a)}function _(t,e,r,i){if(null==t&&(t=10),"number"==typeof t){var l=Math.abs(r-e)/t,u=Jr((function(n){return n[2]})).right(b,l);u===b.length?(i=ui(e/Hp,r/Hp,t),t=n):u?(i=(u=b[l/b[u-1][2]<b[u][2]/l?u-1:u])[1],t=u[0]):(i=Math.max(ui(e,r,t),1),t=a)}return null==i?t:t.every(i)}return s.invert=function(n){return new Date(c(n))},s.domain=function(n){return arguments.length?f(Array.from(n,Gp)):f().map(Wp)},s.ticks=function(n,t){var e,r=f(),i=r[0],l=r[r.length-1],u=l<i;return u&&(e=i,i=l,l=e),e=(e=_(n,i,l,t))?e.range(i,l+1):[],u?e.reverse():e},s.tickFormat=function(n,t){return null==t?x:o(t)},s.nice=function(n,t){var e=f();return(n=_(n,e[0],e[e.length-1],t))?f(kp(e,n)):s},s.copy=function(){return ip(s,Yp(n,t,e,r,i,l,u,a,o))},s}function Vp(){var n,t,e,r,i,l=0,u=1,a=Qd,o=!1;function s(t){return isNaN(t=+t)?i:a(0===e?.5:(t=(r(t)-n)*e,o?Math.max(0,Math.min(1,t)):t))}return s.domain=function(i){return arguments.length?([l,u]=i,n=r(l=+l),t=r(u=+u),e=n===t?0:1/(t-n),s):[l,u]},s.clamp=function(n){return arguments.length?(o=!!n,s):o},s.interpolator=function(n){return arguments.length?(a=n,s):a},s.unknown=function(n){return arguments.length?(i=n,s):i},function(i){return r=i,n=i(l),t=i(u),e=n===t?0:1/(t-n),s}}function Jp(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Xp(){var n=_p(Vp()(Qd));return n.copy=function(){return Jp(n,Xp())},fh.apply(n,arguments)}function Kp(){var n=Pp(Vp());return n.copy=function(){return Jp(n,Kp()).exponent(n.exponent())},fh.apply(n,arguments)}function Zp(){var n,t,e,r,i,l,u,a=0,o=.5,s=1,c=Qd,f=!1;function h(n){return isNaN(n=+n)?u:(n=.5+((n=+l(n))-t)*(n<t?r:i),c(f?Math.max(0,Math.min(1,n)):n))}return h.domain=function(u){return arguments.length?([a,o,s]=u,n=l(a=+a),t=l(o=+o),e=l(s=+s),r=n===t?0:.5/(t-n),i=t===e?0:.5/(e-t),h):[a,o,s]},h.clamp=function(n){return arguments.length?(f=!!n,h):f},h.interpolator=function(n){return arguments.length?(c=n,h):c},h.unknown=function(n){return arguments.length?(u=n,h):u},function(u){return l=u,n=u(a),t=u(o),e=u(s),r=n===t?0:.5/(t-n),i=t===e?0:.5/(e-t),h}}function Qp(){var n=Pp(Zp());return n.copy=function(){return Jp(n,Qp()).exponent(n.exponent())},fh.apply(n,arguments)}function ng(){var n,t,e=dh().unknown(void 0),r=e.domain,i=e.range,l=[0,1],u=!1,a=0,o=0,s=.5;function c(){var e=r().length,c=l[1]<l[0],f=l[c-0],h=l[1-c],d=Pf(e,a,o);n=(h-f)/(d||1),u&&(n=Math.floor(n)),f+=(h-f-n*(e-a))*s,t=n*(1-a),u&&(f=Math.round(f),t=Math.round(t));var p=ni(e).map((function(t){return f+n*t}));return i(c?p.reverse():p)}return delete e.unknown,e.domain=function(n){return arguments.length?(r(n),c()):r()},e.range=function(n){return arguments.length?(l=[+n[0],+n[1]],c()):l.slice()},e.rangeRound=function(n){return l=[+n[0],+n[1]],u=!0,c()},e.bandwidth=function(){return t},e.step=function(){return n},e.round=function(n){return arguments.length?(u=!!n,c()):u},e.padding=function(n){return arguments.length?(o=Math.max(0,Math.min(1,n)),a=o,c()):a},e.paddingInner=function(n){return arguments.length?(a=Math.max(0,Math.min(1,n)),c()):a},e.paddingOuter=function(n){return arguments.length?(o=Math.max(0,Math.min(1,n)),c()):o},e.align=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),c()):s},e.invertRange=function(n){if(null!=n[0]&&null!=n[1]){var e,u,a,o=+n[0],s=+n[1],c=l[1]<l[0],f=c?i().reverse():i(),h=f.length-1;if(o==o&&s==s&&(s<o&&(a=o,o=s,s=a),!(s<f[0]||o>l[1-c])))return e=Math.max(0,Kr(f,o)-1),u=o===s?e:Kr(f,s)-1,o-f[e]>t+1e-10&&++e,c&&(a=e,e=h-u,u=h-a),e>u?void 0:r().slice(e,u+1)}},e.invert=function(n){var t=e.invertRange([n,n]);return t?t[0]:t},e.copy=function(){return ng().domain(r()).range(l).round(u).paddingInner(a).paddingOuter(o).align(s)},c()}var tg=Array.prototype.map,eg=Array.prototype.slice;function rg(n,t){return arguments.length>1?(ig[n]=function(n,t){return function(){var e=t();return e.invertRange||(e.invertRange=e.invert?function(n){return function(t){var e,r=t[0],i=t[1];return i<r&&(e=r,r=i,i=e),[n.invert(r),n.invert(i)]}}(e):e.invertExtent?function(n){return function(t){var e,r,i,l,u=n.range(),a=t[0],o=t[1],s=-1;for(o<a&&(r=a,a=o,o=r),i=0,l=u.length;i<l;++i)u[i]>=a&&u[i]<=o&&(s<0&&(s=i),e=i);if(!(s<0))return a=n.invertExtent(u[s]),o=n.invertExtent(u[e]),[void 0===a[0]?a[1]:a[0],void 0===o[1]?o[0]:o[1]]}}(e):void 0),e.type=n,e}}(n,t),this):ig.hasOwnProperty(n)?ig[n]:void 0}var ig={[$f]:function n(t){var e;function r(n){return isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Kd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return n(t).unknown(e)},t=arguments.length?Array.from(t,Kd):[0,1],_p(r)},[Rf]:function n(){var t=up(Qd,Qd);return t.copy=function(){return ip(t,n())},ch.apply(t,arguments),_p(t)},[If]:function n(){var t=Dp(lp()).domain([1,10]);return t.copy=function(){return ip(t,n()).base(t.base())},ch.apply(t,arguments),t},[Lf]:$p,[Uf]:function(){return $p.apply(null,arguments).exponent(.5)},[qf]:function n(){var t=Tp(lp());return t.copy=function(){return ip(t,n()).constant(t.constant())},ch.apply(t,arguments)},[Hf]:function(){return ch.apply(Yp($t,Pt,Nt,Ft,Mt,Dt,Ct,At,Zt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[Wf]:function(){return ch.apply(Yp(Yt,Gt,qt,Lt,It,Rt,Ct,At,ne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[Gf]:Xp,[Gf+"-"+Rf]:Xp,[Gf+"-"+If]:function n(){var t=Dp(Vp()).domain([1,10]);return t.copy=function(){return Jp(t,n()).base(t.base())},fh.apply(t,arguments)},[Gf+"-"+Lf]:Kp,[Gf+"-"+Uf]:function(){return Kp.apply(null,arguments).exponent(.5)},[Gf+"-"+qf]:function n(){var t=Tp(Vp());return t.copy=function(){return Jp(t,n()).constant(t.constant())},fh.apply(t,arguments)},[Yf+"-"+Rf]:function n(){var t=_p(Zp()(Qd));return t.copy=function(){return Jp(t,n())},fh.apply(t,arguments)},[Yf+"-"+If]:function n(){var t=Dp(Zp()).domain([.1,1,10]);return t.copy=function(){return Jp(t,n()).base(t.base())},fh.apply(t,arguments)},[Yf+"-"+Lf]:Qp,[Yf+"-"+Uf]:function(){return Qp.apply(null,arguments).exponent(.5)},[Yf+"-"+qf]:function n(){var t=Tp(Zp());return t.copy=function(){return Jp(t,n()).constant(t.constant())},fh.apply(t,arguments)},[Vf]:function n(){var t,e=[],r=[],i=[];function l(){var n=0,t=Math.max(1,r.length);for(i=new Array(t-1);++n<t;)i[n-1]=ai(e,n/t);return u}function u(n){return isNaN(n=+n)?t:r[Kr(i,n)]}return u.invertExtent=function(n){var t=r.indexOf(n);return t<0?[NaN,NaN]:[t>0?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]},u.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let t of n)null==t||isNaN(t=+t)||e.push(t);return e.sort(Vr),l()},u.range=function(n){return arguments.length?(r=Array.from(n),l()):r.slice()},u.unknown=function(n){return arguments.length?(t=n,u):t},u.quantiles=function(){return i.slice()},u.copy=function(){return n().domain(e).range(r).unknown(t)},ch.apply(u,arguments)},[Jf]:function n(){var t,e=0,r=1,i=1,l=[.5],u=[0,1];function a(n){return n<=n?u[Kr(l,n,0,i)]:t}function o(){var n=-1;for(l=new Array(i);++n<i;)l[n]=((n+1)*r-(n-i)*e)/(i+1);return a}return a.domain=function(n){return arguments.length?([e,r]=n,e=+e,r=+r,o()):[e,r]},a.range=function(n){return arguments.length?(i=(u=Array.from(n)).length-1,o()):u.slice()},a.invertExtent=function(n){var t=u.indexOf(n);return t<0?[NaN,NaN]:t<1?[e,l[0]]:t>=i?[l[i-1],r]:[l[t-1],l[t]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return l.slice()},a.copy=function(){return n().domain([e,r]).range(u).unknown(t)},ch.apply(_p(a),arguments)},[Xf]:function n(){var t,e=[.5],r=[0,1],i=1;function l(n){return n<=n?r[Kr(e,n,0,i)]:t}return l.domain=function(n){return arguments.length?(e=Array.from(n),i=Math.min(e.length,r.length-1),l):e.slice()},l.range=function(n){return arguments.length?(r=Array.from(n),i=Math.min(e.length,r.length-1),l):r.slice()},l.invertExtent=function(n){var t=r.indexOf(n);return[e[t-1],e[t]]},l.unknown=function(n){return arguments.length?(t=n,l):t},l.copy=function(){return n().domain(e).range(r).unknown(t)},ch.apply(l,arguments)},[nh]:function n(){var t=[],e=[];function r(n){return null==n||n!=n?void 0:e[(Kr(t,n)-1)%e.length]}return r.domain=function(n){return arguments.length?(t=function(n){return tg.call(n,(function(n){return+n}))}(n),r):t.slice()},r.range=function(n){return arguments.length?(e=eg.call(n),r):e.slice()},r.tickFormat=function(n,e){return xp(t[0],x(t),null==n?10:n,e)},r.copy=function(){return n().domain(r.domain()).range(r.range())},r},[Kf]:dh,[Qf]:ng,[Zf]:function(){return function n(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return n(e())},t}(ng().paddingInner(1))}};for(var lg in ig)rg(lg,ig[lg]);const ug=["clamp","base","constant","exponent"];function ag(n,t){var e=t[0],r=x(t)-e;return function(t){return n(e+t*r)}}function og(n,t,e){return Jd(fg(t||"rgb",e),n)}function sg(n,t){for(var e=new Array(t),r=t+1,i=0;i<t;)e[i]=n(++i/r);return e}function cg(n,t,e){var r,i,l,u=e-t;return u&&isFinite(u)?(r=(i=n.type).indexOf("-"),i=r<0?i:i.slice(r+1),l=rg(i)().domain([t,e]).range([0,1]),ug.forEach(t=>n[t]?l[t](n[t]()):0),l):H(.5)}function fg(n,t){var e=Xd[function(n){return"interpolate"+n.toLowerCase().split("-").map((function(n){return n[0].toUpperCase()+n.slice(1)})).join("")}(n)];return null!=t&&e&&e.gamma?e.gamma(t):e}function hg(n){for(var t=n.length/6|0,e=new Array(t),r=0;r<t;)e[r]="#"+n.slice(6*r,6*++r);return e}function dg(n,t){for(let e in n)gg(e,t(n[e]))}const pg={};function gg(n,t){return n=n&&n.toLowerCase(),arguments.length>1?(pg[n]=t,this):pg[n]}function mg(n,t,e){var r;return en(t)&&null!=e&&(t=Math.min(t,~~(cn(n.domain())/e)||1)),o(t)&&(r=t.step,t=t.interval),s(t)&&(t=sh(t,n.type)||l("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function vg(n,t,e){var r=n.range(),i=Math.floor(r[0]),l=Math.ceil(x(r));if(i>l&&(r=l,l=i,i=r),t=t.filter((function(t){return t=n(t),i<=t&&t<=l})),e>0&&t.length>1){for(var u=[t[0],x(t)];t.length>e&&t.length>=3;)t=t.filter((function(n,t){return!(t%2)}));t.length<3&&(t=u)}return t}function wg(n,t){return n.bins?vg(n,function(n,t){var e=n.length,r=~~(e/(t||e));return r<2?n.slice():n.filter((function(n,t){return!(t%r)}))}(n.bins,t)):n.ticks?n.ticks(t):n.domain()}function yg(n,t,e,r){var i,l,u=n.tickFormat?n.tickFormat(t,e):e&&r===Hf?Zt(e):e?vp(e):String;if(rh(n.type)){var a=function(n){var t,e,r=fp(n||",");if(null==r.precision){switch(r.precision=12,r.type){case"%":r.precision-=2;break;case"e":r.precision-=1}return t=vp(r),e=vp(".1f")(1)[1],function(n){var r,i,l=t(n),u=l.indexOf(e);if(u<0)return l;for(i=(r=function(n,t){var e,r=n.lastIndexOf("e");if(r>0)return r;for(r=n.length;--r>t;)if((e=n.charCodeAt(r))>=48&&e<=57)return r+1}(l,u))<l.length?l.slice(r):"";--r>u;)if("0"!==l[r]){++r;break}return l.slice(0,r)+i}}return vp(r)}(e);u=n.bins?a:(i=u,l=a,function(n){return i(n)?l(n):""})}return u}function bg(n){Tr.call(this,null,n)}function xg(n){Tr.call(this,null,n)}function _g(){return On({})}function kg(n){return n.exit}function jg(n){Tr.call(this,null,n)}dg({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},hg),dg({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},n=>og(hg(n))),Z(bg,Tr).transform=function(n,t){if(this.value&&!n.modified())return t.StopPropagation;var e=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=n.scale,l=mg(i,null==n.count?n.values?n.values.length:10:n.count,n.minstep),u=n.format||yg(i,l,n.formatSpecifier,n.formatType),a=n.values?vg(i,n.values,l):wg(i,l);return r&&(e.rem=r),r=a.map((function(n,t){return On({index:t/(a.length-1||1),value:n,label:u(n)})})),n.extra&&r.length&&r.push(On({index:-1,extra:{value:r[0].value},label:""})),e.source=r,e.add=r,this.value=r,e},Z(xg,Tr).transform=function(n,t){var e=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=n.item||_g,u=n.key||kn,o=this.value;return a(r.encode)&&(r.encode=null),o&&(n.modified("key")||t.modified(u))&&l("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=X().test(kg),o.lookup=function(n){return o.get(u(n))}),t.visit(t.ADD,(function(n){var t=u(n),e=o.get(t);e?e.exit?(o.empty--,r.add.push(e)):r.mod.push(e):(o.set(t,e=i(n)),r.add.push(e)),e.datum=n,e.exit=!1})),t.visit(t.MOD,(function(n){var t=u(n),e=o.get(t);e&&(e.datum=n,r.mod.push(e))})),t.visit(t.REM,(function(n){var t=u(n),e=o.get(t);n!==e.datum||e.exit||(r.rem.push(e),e.exit=!0,++o.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),n.clean&&o.empty>e.cleanThreshold&&e.runAfter(o.clean),r},Z(jg,Tr).transform=function(n,t){var e=t.fork(t.ADD_REM),r=n.mod||!1,i=n.encoders,l=t.encode;if(a(l)){if(!e.changed()&&!l.every((function(n){return i[n]})))return t.StopPropagation;l=l[0],e.encode=null}var u="enter"===l,o=i.update||w,s=i.enter||w,c=i.exit||w,f=(l&&!u?i[l]:o)||w;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){s(t,n),o(t,n)})),e.modifies(s.output),e.modifies(o.output),f!==w&&f!==o&&(t.visit(t.ADD,(function(t){f(t,n)})),e.modifies(f.output))),t.changed(t.REM)&&c!==w&&(t.visit(t.REM,(function(t){c(t,n)})),e.modifies(c.output)),u||f!==w){var h=t.MOD|(n.modified()?t.REFLOW:0);u?(t.visit(h,(function(t){var i=s(t,n)||r;(f(t,n)||i)&&e.mod.push(t)})),e.mod.length&&e.modifies(s.output)):t.visit(h,(function(t){(f(t,n)||r)&&e.mod.push(t)})),e.mod.length&&e.modifies(f.output)}return e.changed()?e:t.StopPropagation};var Og="symbol";const Ag={[Vf]:"quantiles",[Jf]:"thresholds",[Xf]:"domain"},Eg={[Vf]:"quantiles",[Jf]:"domain"};function Sg(n,t){return isFinite(n)?t(n):null}function Cg(n){Tr.call(this,[],n)}Z(Cg,Tr).transform=function(n,t){if(null!=this.value&&!n.modified())return t.StopPropagation;var e,r,i,l,u=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=this.value,o=n.type||Og,s=n.scale,c=mg(s,null==n.count?5:n.count,n.minstep),f=n.format||function(n,t,e,r,i){const l=Eg[n.type]&&i!==Hf?function(n,t){var e,r=n[Eg[n.type]](),i=r.length,l=i>1?r[1]-r[0]:r[0];for(e=1;e<i;++e)l=Math.min(l,r[e]-r[e-1]);return xp(0,l,30,t)}(n,r):yg(n,t,r,i);return e===Og&&function(n){return Ag[n.type]||n.bins}(n)?function(n){return function(t,e,r){var i=r[e+1]||r.max||1/0,l=Sg(t,n),u=Sg(i,n);return l&&u?l+"–"+u:u?"< "+u:"≥ "+l}}(l):"discrete"===e?function(n){return function(t,e){return e?n(t):null}}(l):function(n){return function(t){return n(t)}}(l)}(s,c,o,n.formatSpecifier,n.formatType),h=n.values||function(n,t){return n.bins?function(n){const t=n.slice(0,-1);return t.max=x(n),t}(n.bins):Ag[n.type]?function(n){const t=[-1/0].concat(n);return t.max=1/0,t}(n[Ag[n.type]]()):wg(n,t)}(s,c);return a&&(u.rem=a),o===Og?(U(i=n.size)?(n.values||0!==s(h[0])||(h=h.slice(1)),l=h.reduce((function(t,e){return Math.max(t,i(e,n))}),0)):i=H(l=i||8),a=h.map((function(t,e){return On({index:e,label:f(t,e,h),value:t,offset:l,size:i(t,n)})}))):"gradient"===o?(e=s.domain(),r=cg(s,e[0],x(e)),h.length<3&&!n.values&&e[0]!==x(e)&&(h=[e[0],x(e)]),a=h.map((function(n,t){return On({index:t,label:f(n,t,h),value:n,perc:r(n)})}))):(i=h.length-1,r=function(n){var t=n.domain(),e=t.length-1,r=+t[0],i=+x(t),l=i-r;if(n.type===Xf){var u=e?l/e:.1;l=(i+=u)-(r-=u)}return function(n){return(n-r)/l}}(s),a=h.map((function(n,t){return On({index:t,label:f(n,t,h),value:n,perc:t?r(n):0,perc2:t===i?1:r(h[t+1])})}))),u.source=a,u.add=a,this.value=a,u};var Dg=X({line:zg,"line-radial":function(n,t,e,r){return zg(t*Math.cos(n),t*Math.sin(n),r*Math.cos(e),r*Math.sin(e))},arc:Pg,"arc-radial":function(n,t,e,r){return Pg(t*Math.cos(n),t*Math.sin(n),r*Math.cos(e),r*Math.sin(e))},curve:$g,"curve-radial":function(n,t,e,r){return $g(t*Math.cos(n),t*Math.sin(n),r*Math.cos(e),r*Math.sin(e))},"orthogonal-horizontal":function(n,t,e,r){return"M"+n+","+t+"V"+r+"H"+e},"orthogonal-vertical":function(n,t,e,r){return"M"+n+","+t+"H"+e+"V"+r},"orthogonal-radial":function(n,t,e,r){var i=Math.cos(n),l=Math.sin(n),u=Math.cos(e),a=Math.sin(e);return"M"+t*i+","+t*l+"A"+t+","+t+" 0 0,"+((Math.abs(e-n)>Math.PI?e<=n:e>n)?1:0)+" "+t*u+","+t*a+"L"+r*u+","+r*a},"diagonal-horizontal":function(n,t,e,r){var i=(n+e)/2;return"M"+n+","+t+"C"+i+","+t+" "+i+","+r+" "+e+","+r},"diagonal-vertical":function(n,t,e,r){var i=(t+r)/2;return"M"+n+","+t+"C"+n+","+i+" "+e+","+i+" "+e+","+r},"diagonal-radial":function(n,t,e,r){var i=Math.cos(n),l=Math.sin(n),u=Math.cos(e),a=Math.sin(e),o=(t+r)/2;return"M"+t*i+","+t*l+"C"+o*i+","+o*l+" "+o*u+","+o*a+" "+r*u+","+r*a}});function Mg(n){return n.source.x}function Fg(n){return n.source.y}function Tg(n){return n.target.x}function Ng(n){return n.target.y}function Bg(n){Tr.call(this,{},n)}function zg(n,t,e,r){return"M"+n+","+t+"L"+e+","+r}function Pg(n,t,e,r){var i=e-n,l=r-t,u=Math.sqrt(i*i+l*l)/2;return"M"+n+","+t+"A"+u+","+u+" "+180*Math.atan2(l,i)/Math.PI+" 0 1 "+e+","+r}function $g(n,t,e,r){var i=e-n,l=r-t,u=.2*(i+l),a=.2*(l-i);return"M"+n+","+t+"C"+(n+u)+","+(t+a)+" "+(e+a)+","+(r-u)+" "+e+","+r}function Rg(n){Tr.call(this,null,n)}function Ig(n){return ih(n)&&n!==Gf}Bg.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Z(Bg,Tr).transform=function(n,t){var e=n.sourceX||Mg,r=n.sourceY||Fg,i=n.targetX||Tg,u=n.targetY||Ng,a=n.as||"path",o=n.orient||"vertical",s=n.shape||"line",c=Dg.get(s+"-"+o)||Dg.get(s);return c||l("LinkPath unsupported type: "+n.shape+(n.orient?"-"+n.orient:"")),t.visit(t.SOURCE,(function(n){n[a]=c(e(n),r(n),i(n),u(n))})),t.reflow(n.modified()).modifies(a)},Rg.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Z(Rg,Tr).transform=function(n,t){var e,r,i,l=n.as||["startAngle","endAngle"],u=l[0],a=l[1],o=n.field||m,s=n.startAngle||0,c=null!=n.endAngle?n.endAngle:2*Math.PI,f=t.source,h=f.map(o),d=h.length,p=s,g=(c-s)/function(n,t){let e=0;for(let t of n)(t=+t)&&(e+=t);return e}(h),v=ni(d);for(n.sort&&v.sort((function(n,t){return h[n]-h[t]})),e=0;e<d;++e)i=h[v[e]],(r=f[v[e]])[u]=p,r[a]=p+=i*g;return this.value=h,t.reflow(n.modified()).modifies(l)};var Lg=gn(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Ug(n){Tr.call(this,null,n),this.modified(!0)}function qg(n,t,e){return rh(n)&&Math.abs(t.reduce((function(n,t){return n+(t<0?-1:t>0?1:0)}),0))!==t.length&&e.warn("Log scale domain includes zero: "+c(t)),t}function Hg(n,t,e){return U(n)&&(t||e)?ag(n,Wg(t||[0,1],e)):n}function Wg(n,t){return t?n.slice().reverse():n}function Gg(n){Tr.call(this,null,n)}Z(Ug,Tr).transform=function(n,t){var e=t.dataflow,r=this.value,i=function(n){var t,e=n.type,r="";return e===Gf?Gf+"-"+Rf:(function(n){const t=n.type;return ih(t)&&t!==Hf&&t!==Wf&&(n.scheme||n.range&&n.range.length&&n.range.every(s))}(n)&&(r=2===(t=n.rawDomain?n.rawDomain.length:n.domain?n.domain.length+ +(null!=n.domainMid):0)?Gf+"-":3===t?Yf+"-":""),(r+e||Rf).toLowerCase())}(n);for(i in r&&i===r.type||(this.value=r=rg(i)()),n)if(!Lg[i]){if("padding"===i&&Ig(r.type))continue;U(r[i])?r[i](n[i]):e.warn("Unsupported scale property: "+i)}return function(n,t,e){var r=t.round||!1,i=t.range;if(null!=t.rangeStep)i=function(n,t,e){n!==Qf&&n!==Zf&&l("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=n===Zf?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Pf(e,i,r)]}(n.type,t,e);else if(t.scheme){if(i=function(n,t,e){var r,i=t.schemeExtent;return a(t.scheme)?r=og(t.scheme,t.interpolate,t.interpolateGamma):(r=gg(t.scheme.toLowerCase()))||l("Unrecognized scheme name: "+t.scheme),e=n===Xf?e+1:n===nh?e-1:n===Vf||n===Jf?+t.schemeCount||5:e,eh(n)?Hg(r,i,t.reverse):U(r)?sg(Hg(r,i),e):n===Kf?r:r.slice(0,e)}(n.type,t,e),U(i))return n.interpolator(i)}else if(i&&eh(n.type))return n.interpolator(og(Wg(i,t.reverse),t.interpolate,t.interpolateGamma));i&&t.interpolate&&n.interpolate?n.interpolate(fg(t.interpolate,t.interpolateGamma)):U(n.round)?n.round(r):U(n.rangeRound)&&n.interpolate(r?Ed:Ad),i&&n.range(Wg(i,t.reverse))}(r,n,function(n,t,e){let r=t.bins;if(r&&!a(r)){const t=(null==r.start||null==r.stop)&&n.domain(),e=null==r.start?t[0]:r.start,i=null==r.stop?x(t):r.stop,u=r.step;u||l("Scale bins parameter missing step property."),r=ni(e,i+u,u)}return r?n.bins=r:n.bins&&delete n.bins,n.type===nh&&(r?t.domain||t.domainRaw||(n.domain(r),e=r.length):n.bins=n.domain()),e}(r,n,function(n,t,e){var r=function(n,t,e){return t?(n.domain(qg(n.type,t,e)),t.length):-1}(n,t.domainRaw,e);if(r>-1)return r;var i,l,u=t.domain,a=n.type,o=t.zero||void 0===t.zero&&function(n){const t=n.type;return!n.bins&&(t===Rf||t===Lf||t===Uf)}(n);return u?(Ig(a)&&t.padding&&u[0]!==x(u)&&(u=function(n,t,e,r,i,l){var u=Math.abs(x(e)-e[0]),a=u/(u-2*r),o=n===If?B(t,null,a):n===Uf?z(t,null,a,.5):n===Lf?z(t,null,a,i||1):n===qf?P(t,null,a,l||1):N(t,null,a);return(t=t.slice())[0]=o[0],t[t.length-1]=o[1],t}(a,u,t.range,t.padding,t.exponent,t.constant)),(o||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(u=u.slice()).length-1||1,o&&(u[0]>0&&(u[0]=0),u[i]<0&&(u[i]=0)),null!=t.domainMin&&(u[0]=t.domainMin),null!=t.domainMax&&(u[i]=t.domainMax),null!=t.domainMid&&(((l=t.domainMid)<u[0]||l>u[i])&&e.warn("Scale domainMid exceeds domain min or max.",l),u.splice(i,0,l))),n.domain(qg(a,u,e)),a===Kf&&n.unknown(t.domainImplicit?hh:void 0),t.nice&&n.nice&&n.nice(!0!==t.nice&&mg(n,t.nice)||null),u.length):0}(r,n,e))),t.fork(t.NO_SOURCE|t.NO_FIELDS)},Z(Gg,Tr).transform=function(n,t){var e=n.modified("sort")||t.changed(t.ADD)||t.modified(n.sort.fields)||t.modified("datum");return e&&t.source.sort(n.sort),this.modified(e),t};var Yg=["y0","y1"];function Vg(n){Tr.call(this,null,n)}function Jg(n,t,e,r,i){for(var l,u=(t-n.sum)/2,a=n.length,o=0;o<a;++o)(l=n[o])[r]=u,l[i]=u+=Math.abs(e(l))}function Xg(n,t,e,r,i){for(var l,u=1/n.sum,a=0,o=n.length,s=0,c=0;s<o;++s)(l=n[s])[r]=a,l[i]=a=u*(c+=Math.abs(e(l)))}function Kg(n,t,e,r,i){for(var l,u,a=0,o=0,s=n.length,c=0;c<s;++c)(l=+e(u=n[c]))<0?(u[r]=o,u[i]=o+=l):(u[r]=a,u[i]=a+=l)}Vg.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:Yg}]},Z(Vg,Tr).transform=function(n,t){var e,r,i,l,u=n.as||Yg,a=u[0],o=u[1],s=n.field||m,c="center"===n.offset?Jg:"normalize"===n.offset?Xg:Kg;for(e=function(n,t,e,r){var i,l,u,a,o,s,c,f,h,d=[],p=function(n){return n(o)};if(null==t)d.push(n.slice());else for(i={},l=0,u=n.length;l<u;++l)o=n[l],(c=i[s=t.map(p)])||(i[s]=c=[],d.push(c)),c.push(o);for(s=0,h=0,a=d.length;s<a;++s){for(l=0,f=0,u=(c=d[s]).length;l<u;++l)f+=Math.abs(r(c[l]));c.sum=f,f>h&&(h=f),e&&c.sort(e)}return d.max=h,d}(t.source,n.groupby,n.sort,s),r=0,i=e.length,l=e.max;r<i;++r)c(e[r],l,s,a,o);return t.reflow(n.modified()).modifies(u)};var Zg=Object.freeze({axisticks:bg,datajoin:xg,encode:jg,legendentries:Cg,linkpath:Bg,pie:Rg,scale:Ug,sortitems:Gg,stack:Vg,validTicks:vg});function Qg(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function nm(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((t-n)/e)),l=new Array(i);++r<i;)l[r]=n+r*e;return l}!function(n){var t;1===n.length&&(t=n,n=function(n,e){return Qg(t(n),e)})}(Qg);var tm=Math.sqrt(50),em=Math.sqrt(10),rm=Math.sqrt(2);function im(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/i;return l>=tm?i*=10:l>=em?i*=5:l>=rm&&(i*=2),t<n?-i:i}function lm(n){return Math.ceil(Math.log(n.length)/Math.LN2)+1}var um=Array.prototype.slice;function am(n,t){return n-t}function om(n){return function(){return n}}function sm(n,t){for(var e,r=-1,i=t.length;++r<i;)if(e=cm(n,t[r]))return e;return 0}function cm(n,t){for(var e=t[0],r=t[1],i=-1,l=0,u=n.length,a=u-1;l<u;a=l++){var o=n[l],s=o[0],c=o[1],f=n[a],h=f[0],d=f[1];if(fm(o,f,t))return 0;c>r!=d>r&&e<(h-s)*(r-c)/(d-c)+s&&(i=-i)}return i}function fm(n,t,e){var r,i,l,u;return function(n,t,e){return(t[0]-n[0])*(e[1]-n[1])==(e[0]-n[0])*(t[1]-n[1])}(n,t,e)&&(i=n[r=+(n[0]===t[0])],l=e[r],u=t[r],i<=l&&l<=u||u<=l&&l<=i)}function hm(){}var dm=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function pm(){var n=1,t=1,e=lm,r=a;function i(n){var t=e(n);if(Array.isArray(t))t=t.slice().sort(am);else{var r=function(n,t){for(var e,r,i,l=n.length,u=-1;++u<l;)if(null!=(e=n[u])&&e>=e)for(r=i=e;++u<l;)null!=(e=n[u])&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}(n),i=r[0],u=r[1];t=im(i,u,t),t=nm(Math.floor(i/t)*t,Math.floor(u/t)*t,t)}return t.map((function(t){return l(n,t)}))}function l(e,i){var l=[],a=[];return function(e,r,i){var l,a,o,s,c,f,h=new Array,d=new Array;for(l=a=-1,s=e[0]>=r,dm[s<<1].forEach(p);++l<n-1;)o=s,s=e[l+1]>=r,dm[o|s<<1].forEach(p);for(dm[s<<0].forEach(p);++a<t-1;){for(l=-1,s=e[a*n+n]>=r,c=e[a*n]>=r,dm[s<<1|c<<2].forEach(p);++l<n-1;)o=s,s=e[a*n+n+l+1]>=r,f=c,c=e[a*n+l+1]>=r,dm[o|s<<1|c<<2|f<<3].forEach(p);dm[s|c<<3].forEach(p)}for(l=-1,c=e[a*n]>=r,dm[c<<2].forEach(p);++l<n-1;)f=c,c=e[a*n+l+1]>=r,dm[c<<2|f<<3].forEach(p);function p(n){var t,e,r=[n[0][0]+l,n[0][1]+a],o=[n[1][0]+l,n[1][1]+a],s=u(r),c=u(o);(t=d[s])?(e=h[c])?(delete d[t.end],delete h[e.start],t===e?(t.ring.push(o),i(t.ring)):h[t.start]=d[e.end]={start:t.start,end:e.end,ring:t.ring.concat(e.ring)}):(delete d[t.end],t.ring.push(o),d[t.end=c]=t):(t=h[c])?(e=d[s])?(delete h[t.start],delete d[e.end],t===e?(t.ring.push(o),i(t.ring)):h[e.start]=d[t.end]={start:e.start,end:t.end,ring:e.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=s]=t):h[s]=d[c]={start:s,end:c,ring:[r,o]}}dm[c<<3].forEach(p)}(e,i,(function(n){r(n,e,i),function(n){for(var t=0,e=n.length,r=n[e-1][1]*n[0][0]-n[e-1][0]*n[0][1];++t<e;)r+=n[t-1][1]*n[t][0]-n[t-1][0]*n[t][1];return r}(n)>0?l.push([n]):a.push(n)})),a.forEach((function(n){for(var t,e=0,r=l.length;e<r;++e)if(-1!==sm((t=l[e])[0],n))return void t.push(n)})),{type:"MultiPolygon",value:i,coordinates:l}}function u(t){return 2*t[0]+t[1]*(n+1)*4}function a(e,r,i){e.forEach((function(e){var l,u=e[0],a=e[1],o=0|u,s=0|a,c=r[s*n+o];u>0&&u<n&&o===u&&(l=r[s*n+o-1],e[0]=u+(i-l)/(c-l)-.5),a>0&&a<t&&s===a&&(l=r[(s-1)*n+o],e[1]=a+(i-l)/(c-l)-.5)}))}return i.contour=l,i.size=function(e){if(!arguments.length)return[n,t];var r=Math.ceil(e[0]),l=Math.ceil(e[1]);if(!(r>0&&l>0))throw new Error("invalid size");return n=r,t=l,i},i.thresholds=function(n){return arguments.length?(e="function"==typeof n?n:Array.isArray(n)?om(um.call(n)):om(n),i):e},i.smooth=function(n){return arguments.length?(r=n?a:hm,i):r===a},i}function gm(n,t,e){for(var r=n.width,i=n.height,l=1+(e<<1),u=0;u<i;++u)for(var a=0,o=0;a<r+e;++a)a<r&&(o+=n.data[a+u*r]),a>=e&&(a>=l&&(o-=n.data[a-l+u*r]),t.data[a-e+u*r]=o/Math.min(a+1,r-1+l-a,l))}function mm(n,t,e){for(var r=n.width,i=n.height,l=1+(e<<1),u=0;u<r;++u)for(var a=0,o=0;a<i+e;++a)a<i&&(o+=n.data[u+a*r]),a>=e&&(a>=l&&(o-=n.data[u+(a-l)*r]),t.data[u+(a-e)*r]=o/Math.min(a+1,i-1+l-a,l))}function vm(n){return n[0]}function wm(n){return n[1]}function ym(){return 1}var bm=["size","smooth"],xm=["x","y","weight","size","cellSize","bandwidth"];function _m(n){Tr.call(this,null,n)}_m.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]},Z(_m,Tr).transform=function(n,t){if(this.value&&!t.changed()&&!n.modified())return t.StopPropagation;var e,r,i,l,u=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=n.count||10;return n.values?(e=pm(),r=bm,i=n.values):(e=function(){var n=vm,t=wm,e=ym,r=960,i=500,l=20,u=2,a=3*l,o=r+2*a>>u,s=i+2*a>>u,c=om(20);function f(r){var i=new Float32Array(o*s),f=new Float32Array(o*s);r.forEach((function(r,l,c){var f=+n(r,l,c)+a>>u,h=+t(r,l,c)+a>>u,d=+e(r,l,c);f>=0&&f<o&&h>=0&&h<s&&(i[f+h*o]+=d)})),gm({width:o,height:s,data:i},{width:o,height:s,data:f},l>>u),mm({width:o,height:s,data:f},{width:o,height:s,data:i},l>>u),gm({width:o,height:s,data:i},{width:o,height:s,data:f},l>>u),mm({width:o,height:s,data:f},{width:o,height:s,data:i},l>>u),gm({width:o,height:s,data:i},{width:o,height:s,data:f},l>>u),mm({width:o,height:s,data:f},{width:o,height:s,data:i},l>>u);var d=c(i);if(!Array.isArray(d)){var p=function(n,t){for(var e,r,i=n.length,l=-1;++l<i;)if(null!=(e=n[l])&&e>=e)for(r=e;++l<i;)null!=(e=n[l])&&e>r&&(r=e);return r}(i);d=im(0,p,d),(d=nm(0,Math.floor(p/d)*d,d)).shift()}return pm().thresholds(d).size([o,s])(i).map(h)}function h(n){return n.value*=Math.pow(2,-2*u),n.coordinates.forEach(d),n}function d(n){n.forEach(p)}function p(n){n.forEach(g)}function g(n){n[0]=n[0]*Math.pow(2,u)-a,n[1]=n[1]*Math.pow(2,u)-a}function m(){return o=r+2*(a=3*l)>>u,s=i+2*a>>u,f}return f.x=function(t){return arguments.length?(n="function"==typeof t?t:om(+t),f):n},f.y=function(n){return arguments.length?(t="function"==typeof n?n:om(+n),f):t},f.weight=function(n){return arguments.length?(e="function"==typeof n?n:om(+n),f):e},f.size=function(n){if(!arguments.length)return[r,i];var t=Math.ceil(n[0]),e=Math.ceil(n[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return r=t,i=e,m()},f.cellSize=function(n){if(!arguments.length)return 1<<u;if(!((n=+n)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(n)/Math.LN2),m()},f.thresholds=function(n){return arguments.length?(c="function"==typeof n?n:Array.isArray(n)?om(um.call(n)):om(n),f):c},f.bandwidth=function(n){if(!arguments.length)return Math.sqrt(l*(l+1));if(!((n=+n)>=0))throw new Error("invalid bandwidth");return l=Math.round((Math.sqrt(4*n*n+1)-1)/2),m()},f}(),r=xm,i=t.materialize(t.SOURCE).source),e.thresholds(n.thresholds||(n.nice?a:(l=a,function(n){for(var t=Qr(n),e=t[0],r=t[1]-e,i=[],u=1;u<=l;++u)i.push(e+r*u/(l+1));return i}))),r.forEach((function(t){null!=n[t]&&e[t](n[t])})),this.value&&(u.rem=this.value),i=i&&i.length?e(i).map(On):[],this.value=u.source=u.add=i,u};var km="Feature",jm="FeatureCollection";function Om(n){Tr.call(this,null,n)}function Am(){return new Em}function Em(){this.reset()}Om.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Z(Om,Tr).transform=function(n,t){var e,r=this._features,l=this._points,u=n.fields,a=u&&u[0],o=u&&u[1],s=n.geojson,c=t.ADD;e=n.modified()||t.changed(t.REM)||t.modified(i(s))||a&&t.modified(i(a))||o&&t.modified(i(o)),this.value&&!e||(c=t.SOURCE,this._features=r=[],this._points=l=[]),s&&t.visit(c,(function(n){r.push(s(n))})),a&&o&&(t.visit(c,(function(n){var t=a(n),e=o(n);null!=t&&null!=e&&(t=+t)===t&&(e=+e)===e&&l.push([t,e])})),r=r.concat({type:km,geometry:{type:"MultiPoint",coordinates:l}})),this.value={type:jm,features:r}},Em.prototype={constructor:Em,reset:function(){this.s=this.t=0},add:function(n){Cm(Sm,n,this.t),Cm(this,Sm.s,this.s),this.s?this.t+=Sm.t:this.s=Sm.t},valueOf:function(){return this.s}};var Sm=new Em;function Cm(n,t,e){var r=n.s=t+e,i=r-t,l=r-i;n.t=t-l+(e-i)}var Dm=1e-6,Mm=Math.PI,Fm=Mm/2,Tm=Mm/4,Nm=2*Mm,Bm=180/Mm,zm=Mm/180,Pm=Math.abs,$m=Math.atan,Rm=Math.atan2,Im=Math.cos,Lm=Math.ceil,Um=Math.exp,qm=Math.log,Hm=Math.pow,Wm=Math.sin,Gm=Math.sign||function(n){return n>0?1:n<0?-1:0},Ym=Math.sqrt,Vm=Math.tan;function Jm(n){return n>1?0:n<-1?Mm:Math.acos(n)}function Xm(n){return n>1?Fm:n<-1?-Fm:Math.asin(n)}function Km(){}function Zm(n,t){n&&nv.hasOwnProperty(n.type)&&nv[n.type](n,t)}var Qm={Feature:function(n,t){Zm(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)Zm(e[r].geometry,t)}},nv={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){tv(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)tv(e[r],t,0)},Polygon:function(n,t){ev(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)ev(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)Zm(e[r],t)}};function tv(n,t,e){var r,i=-1,l=n.length-e;for(t.lineStart();++i<l;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ev(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)tv(n[e],t,1);t.polygonEnd()}function rv(n,t){n&&Qm.hasOwnProperty(n.type)?Qm[n.type](n,t):Zm(n,t)}var iv,lv,uv,av,ov,sv=Am(),cv=Am(),fv={point:Km,lineStart:Km,lineEnd:Km,polygonStart:function(){sv.reset(),fv.lineStart=hv,fv.lineEnd=dv},polygonEnd:function(){var n=+sv;cv.add(n<0?Nm+n:n),this.lineStart=this.lineEnd=this.point=Km},sphere:function(){cv.add(Nm)}};function hv(){fv.point=pv}function dv(){gv(iv,lv)}function pv(n,t){fv.point=gv,iv=n,lv=t,uv=n*=zm,av=Im(t=(t*=zm)/2+Tm),ov=Wm(t)}function gv(n,t){var e=(n*=zm)-uv,r=e>=0?1:-1,i=r*e,l=Im(t=(t*=zm)/2+Tm),u=Wm(t),a=ov*u,o=av*l+a*Im(i),s=a*r*Wm(i);sv.add(Rm(s,o)),uv=n,av=l,ov=u}function mv(n){return[Rm(n[1],n[0]),Xm(n[2])]}function vv(n){var t=n[0],e=n[1],r=Im(e);return[r*Im(t),r*Wm(t),Wm(e)]}function wv(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yv(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function bv(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xv(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function _v(n){var t=Ym(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var kv,jv,Ov,Av,Ev,Sv,Cv,Dv,Mv,Fv,Tv,Nv,Bv,zv,Pv,$v,Rv,Iv,Lv,Uv,qv,Hv,Wv,Gv,Yv,Vv,Jv=Am(),Xv={point:Kv,lineStart:Qv,lineEnd:nw,polygonStart:function(){Xv.point=tw,Xv.lineStart=ew,Xv.lineEnd=rw,Jv.reset(),fv.polygonStart()},polygonEnd:function(){fv.polygonEnd(),Xv.point=Kv,Xv.lineStart=Qv,Xv.lineEnd=nw,sv<0?(kv=-(Ov=180),jv=-(Av=90)):Jv>Dm?Av=90:Jv<-Dm&&(jv=-90),Fv[0]=kv,Fv[1]=Ov}};function Kv(n,t){Mv.push(Fv=[kv=n,Ov=n]),t<jv&&(jv=t),t>Av&&(Av=t)}function Zv(n,t){var e=vv([n*zm,t*zm]);if(Dv){var r=yv(Dv,e),i=yv([r[1],-r[0],0],r);_v(i),i=mv(i);var l,u=n-Ev,a=u>0?1:-1,o=i[0]*Bm*a,s=Pm(u)>180;s^(a*Ev<o&&o<a*n)?(l=i[1]*Bm)>Av&&(Av=l):s^(a*Ev<(o=(o+360)%360-180)&&o<a*n)?(l=-i[1]*Bm)<jv&&(jv=l):(t<jv&&(jv=t),t>Av&&(Av=t)),s?n<Ev?iw(kv,n)>iw(kv,Ov)&&(Ov=n):iw(n,Ov)>iw(kv,Ov)&&(kv=n):Ov>=kv?(n<kv&&(kv=n),n>Ov&&(Ov=n)):n>Ev?iw(kv,n)>iw(kv,Ov)&&(Ov=n):iw(n,Ov)>iw(kv,Ov)&&(kv=n)}else Mv.push(Fv=[kv=n,Ov=n]);t<jv&&(jv=t),t>Av&&(Av=t),Dv=e,Ev=n}function Qv(){Xv.point=Zv}function nw(){Fv[0]=kv,Fv[1]=Ov,Xv.point=Kv,Dv=null}function tw(n,t){if(Dv){var e=n-Ev;Jv.add(Pm(e)>180?e+(e>0?360:-360):e)}else Sv=n,Cv=t;fv.point(n,t),Zv(n,t)}function ew(){fv.lineStart()}function rw(){tw(Sv,Cv),fv.lineEnd(),Pm(Jv)>Dm&&(kv=-(Ov=180)),Fv[0]=kv,Fv[1]=Ov,Dv=null}function iw(n,t){return(t-=n)<0?t+360:t}function lw(n,t){return n[0]-t[0]}function uw(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var aw={sphere:Km,point:ow,lineStart:cw,lineEnd:dw,polygonStart:function(){aw.lineStart=pw,aw.lineEnd=gw},polygonEnd:function(){aw.lineStart=cw,aw.lineEnd=dw}};function ow(n,t){n*=zm;var e=Im(t*=zm);sw(e*Im(n),e*Wm(n),Wm(t))}function sw(n,t,e){Bv+=(n-Bv)/++Tv,zv+=(t-zv)/Tv,Pv+=(e-Pv)/Tv}function cw(){aw.point=fw}function fw(n,t){n*=zm;var e=Im(t*=zm);Gv=e*Im(n),Yv=e*Wm(n),Vv=Wm(t),aw.point=hw,sw(Gv,Yv,Vv)}function hw(n,t){n*=zm;var e=Im(t*=zm),r=e*Im(n),i=e*Wm(n),l=Wm(t),u=Rm(Ym((u=Yv*l-Vv*i)*u+(u=Vv*r-Gv*l)*u+(u=Gv*i-Yv*r)*u),Gv*r+Yv*i+Vv*l);Nv+=u,$v+=u*(Gv+(Gv=r)),Rv+=u*(Yv+(Yv=i)),Iv+=u*(Vv+(Vv=l)),sw(Gv,Yv,Vv)}function dw(){aw.point=ow}function pw(){aw.point=mw}function gw(){vw(Hv,Wv),aw.point=ow}function mw(n,t){Hv=n,Wv=t,n*=zm,t*=zm,aw.point=vw;var e=Im(t);Gv=e*Im(n),Yv=e*Wm(n),Vv=Wm(t),sw(Gv,Yv,Vv)}function vw(n,t){n*=zm;var e=Im(t*=zm),r=e*Im(n),i=e*Wm(n),l=Wm(t),u=Yv*l-Vv*i,a=Vv*r-Gv*l,o=Gv*i-Yv*r,s=Ym(u*u+a*a+o*o),c=Xm(s),f=s&&-c/s;Lv+=f*u,Uv+=f*a,qv+=f*o,Nv+=c,$v+=c*(Gv+(Gv=r)),Rv+=c*(Yv+(Yv=i)),Iv+=c*(Vv+(Vv=l)),sw(Gv,Yv,Vv)}function ww(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function yw(n,t){return[Pm(n)>Mm?n+Math.round(-n/Nm)*Nm:n,t]}function bw(n,t,e){return(n%=Nm)?t||e?ww(_w(n),kw(t,e)):_w(n):t||e?kw(t,e):yw}function xw(n){return function(t,e){return[(t+=n)>Mm?t-Nm:t<-Mm?t+Nm:t,e]}}function _w(n){var t=xw(n);return t.invert=xw(-n),t}function kw(n,t){var e=Im(n),r=Wm(n),i=Im(t),l=Wm(t);function u(n,t){var u=Im(t),a=Im(n)*u,o=Wm(n)*u,s=Wm(t),c=s*e+a*r;return[Rm(o*i-c*l,a*e-s*r),Xm(c*i+o*l)]}return u.invert=function(n,t){var u=Im(t),a=Im(n)*u,o=Wm(n)*u,s=Wm(t),c=s*i-o*l;return[Rm(o*i+s*l,a*e+c*r),Xm(c*e-a*r)]},u}function jw(n,t){(t=vv(t))[0]-=n,_v(t);var e=Jm(-t[1]);return((-t[2]<0?-e:e)+Nm-Dm)%Nm}function Ow(){var n,t=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){t.push(n=[])},lineEnd:Km,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Aw(n,t){return Pm(n[0]-t[0])<Dm&&Pm(n[1]-t[1])<Dm}function Ew(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Sw(n,t,e,r,i){var l,u,a=[],o=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],u=n[t];if(Aw(r,u)){for(i.lineStart(),l=0;l<t;++l)i.point((r=n[l])[0],r[1]);i.lineEnd()}else a.push(e=new Ew(r,n,null,!0)),o.push(e.o=new Ew(r,null,e,!1)),a.push(e=new Ew(u,n,null,!1)),o.push(e.o=new Ew(u,null,e,!0))}})),a.length){for(o.sort(t),Cw(a),Cw(o),l=0,u=o.length;l<u;++l)o[l].e=e=!e;for(var s,c,f=a[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(l=0,u=s.length;l<u;++l)i.point((c=s[l])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,l=s.length-1;l>=0;--l)i.point((c=s[l])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Cw(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}yw.invert=yw;var Dw=Am();function Mw(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Fw(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((t-n)/e)),l=new Array(i);++r<i;)l[r]=n+r*e;return l}function Tw(n){for(var t,e,r,i=n.length,l=-1,u=0;++l<i;)u+=n[l].length;for(e=new Array(u);--i>=0;)for(t=(r=n[i]).length;--t>=0;)e[--u]=r[t];return e}function Nw(n,t,e,r){return function(i){var l,u,a,o=t(i),s=Ow(),c=t(s),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=w,h.lineEnd=y,u=[],l=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,u=Tw(u);var n=function(n,t){var e=t[0],r=t[1],i=Wm(r),l=[Wm(e),-Im(e),0],u=0,a=0;Dw.reset(),1===i?r=Fm+Dm:-1===i&&(r=-Fm-Dm);for(var o=0,s=n.length;o<s;++o)if(f=(c=n[o]).length)for(var c,f,h=c[f-1],d=h[0],p=h[1]/2+Tm,g=Wm(p),m=Im(p),v=0;v<f;++v,d=y,g=x,m=_,h=w){var w=c[v],y=w[0],b=w[1]/2+Tm,x=Wm(b),_=Im(b),k=y-d,j=k>=0?1:-1,O=j*k,A=O>Mm,E=g*x;if(Dw.add(Rm(E*j*Wm(O),m*_+E*Im(O))),u+=A?k+j*Nm:k,A^d>=e^y>=e){var S=yv(vv(h),vv(w));_v(S);var C=yv(l,S);_v(C);var D=(A^k>=0?-1:1)*Xm(C[2]);(r>D||r===D&&(S[0]||S[1]))&&(a+=A^k>=0?1:-1)}}return(u<-Dm||u<Dm&&Dw<-Dm)^1&a}(l,r);u.length?(f||(i.polygonStart(),f=!0),Sw(u,zw,n,e,i)):n&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,e){n(t,e)&&i.point(t,e)}function p(n,t){o.point(n,t)}function g(){h.point=p,o.lineStart()}function m(){h.point=d,o.lineEnd()}function v(n,t){a.push([n,t]),c.point(n,t)}function w(){c.lineStart(),a=[]}function y(){v(a[0][0],a[0][1]),c.lineEnd();var n,t,e,r,o=c.clean(),h=s.result(),d=h.length;if(a.pop(),l.push(a),a=null,d)if(1&o){if((t=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),n=0;n<t;++n)i.point((r=e[n])[0],r[1]);i.lineEnd()}}else d>1&&2&o&&h.push(h.pop().concat(h.shift())),u.push(h.filter(Bw))}return h}}function Bw(n){return n.length>1}function zw(n,t){return((n=n.x)[0]<0?n[1]-Fm-Dm:Fm-n[1])-((t=t.x)[0]<0?t[1]-Fm-Dm:Fm-t[1])}!function(n){var t;1===n.length&&(t=n,n=function(n,e){return Mw(t(n),e)})}(Mw);var Pw=Nw((function(){return!0}),(function(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(l,u){var a=l>0?Mm:-Mm,o=Pm(l-e);Pm(o-Mm)<Dm?(n.point(e,r=(r+u)/2>0?Fm:-Fm),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(l,r),t=0):i!==a&&o>=Mm&&(Pm(e-i)<Dm&&(e-=i*Dm),Pm(l-a)<Dm&&(l-=a*Dm),r=function(n,t,e,r){var i,l,u=Wm(n-e);return Pm(u)>Dm?$m((Wm(t)*(l=Im(r))*Wm(e)-Wm(r)*(i=Im(t))*Wm(n))/(i*l*u)):(t+r)/2}(e,r,l,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=l,r=u),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var i;if(null==n)i=e*Fm,r.point(-Mm,i),r.point(0,i),r.point(Mm,i),r.point(Mm,0),r.point(Mm,-i),r.point(0,-i),r.point(-Mm,-i),r.point(-Mm,0),r.point(-Mm,i);else if(Pm(n[0]-t[0])>Dm){var l=n[0]<t[0]?Mm:-Mm;i=e*l/2,r.point(-l,i),r.point(0,i),r.point(l,i)}else r.point(t[0],t[1])}),[-Mm,-Fm]);function $w(n){var t=Im(n),e=6*zm,r=t>0,i=Pm(t)>Dm;function l(n,e){return Im(n)*Im(e)>t}function u(n,e,r){var i=[1,0,0],l=yv(vv(n),vv(e)),u=wv(l,l),a=l[0],o=u-a*a;if(!o)return!r&&n;var s=t*u/o,c=-t*a/o,f=yv(i,l),h=xv(i,s);bv(h,xv(l,c));var d=f,p=wv(h,d),g=wv(d,d),m=p*p-g*(wv(h,h)-1);if(!(m<0)){var v=Ym(m),w=xv(d,(-p-v)/g);if(bv(w,h),w=mv(w),!r)return w;var y,b=n[0],x=e[0],_=n[1],k=e[1];x<b&&(y=b,b=x,x=y);var j=x-b,O=Pm(j-Mm)<Dm;if(!O&&k<_&&(y=_,_=k,k=y),O||j<Dm?O?_+k>0^w[1]<(Pm(w[0]-b)<Dm?_:k):_<=w[1]&&w[1]<=k:j>Mm^(b<=w[0]&&w[0]<=x)){var A=xv(d,(-p+v)/g);return bv(A,h),[w,mv(A)]}}}function a(t,e){var i=r?n:Mm-n,l=0;return t<-i?l|=1:t>i&&(l|=2),e<-i?l|=4:e>i&&(l|=8),l}return Nw(l,(function(n){var t,e,o,s,c;return{lineStart:function(){s=o=!1,c=1},point:function(f,h){var d,p=[f,h],g=l(f,h),m=r?g?0:a(f,h):g?a(f+(f<0?Mm:-Mm),h):0;if(!t&&(s=o=g)&&n.lineStart(),g!==o&&(!(d=u(t,p))||Aw(t,d)||Aw(p,d))&&(p[0]+=Dm,p[1]+=Dm,g=l(p[0],p[1])),g!==o)c=0,g?(n.lineStart(),d=u(p,t),n.point(d[0],d[1])):(d=u(t,p),n.point(d[0],d[1]),n.lineEnd()),t=d;else if(i&&t&&r^g){var v;m&e||!(v=u(p,t,!0))||(c=0,r?(n.lineStart(),n.point(v[0][0],v[0][1]),n.point(v[1][0],v[1][1]),n.lineEnd()):(n.point(v[1][0],v[1][1]),n.lineEnd(),n.lineStart(),n.point(v[0][0],v[0][1])))}!g||t&&Aw(t,p)||n.point(p[0],p[1]),t=p,o=g,e=m},lineEnd:function(){o&&n.lineEnd(),t=null},clean:function(){return c|(s&&o)<<1}}}),(function(t,r,i,l){!function(n,t,e,r,i,l){if(e){var u=Im(t),a=Wm(t),o=r*e;null==i?(i=t+r*Nm,l=t-o/2):(i=jw(u,i),l=jw(u,l),(r>0?i<l:i>l)&&(i+=r*Nm));for(var s,c=i;r>0?c>l:c<l;c-=o)s=mv([u,-a*Im(c),-a*Wm(c)]),n.point(s[0],s[1])}}(l,n,e,i,t,r)}),r?[0,-n]:[-Mm,n-Mm])}var Rw=1e9,Iw=-Rw;function Lw(n,t,e,r){function i(i,l){return n<=i&&i<=e&&t<=l&&l<=r}function l(i,l,a,s){var c=0,f=0;if(null==i||(c=u(i,a))!==(f=u(l,a))||o(i,l)<0^a>0)do{s.point(0===c||3===c?n:e,c>1?r:t)}while((c=(c+a+4)%4)!==f);else s.point(l[0],l[1])}function u(r,i){return Pm(r[0]-n)<Dm?i>0?0:3:Pm(r[0]-e)<Dm?i>0?2:1:Pm(r[1]-t)<Dm?i>0?1:0:i>0?3:2}function a(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(u){var o,s,c,f,h,d,p,g,m,v,w,y=u,b=Ow(),x={point:_,lineStart:function(){x.point=k,s&&s.push(c=[]),v=!0,m=!1,p=g=NaN},lineEnd:function(){o&&(k(f,h),d&&m&&b.rejoin(),o.push(b.result())),x.point=_,m&&y.lineEnd()},polygonStart:function(){y=b,o=[],s=[],w=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,i=s.length;e<i;++e)for(var l,u,a=s[e],o=1,c=a.length,f=a[0],h=f[0],d=f[1];o<c;++o)l=h,u=d,h=(f=a[o])[0],d=f[1],u<=r?d>r&&(h-l)*(r-u)>(d-u)*(n-l)&&++t:d<=r&&(h-l)*(r-u)<(d-u)*(n-l)&&--t;return t}(),e=w&&t,i=(o=Tw(o)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),i&&Sw(o,a,t,l,u),u.polygonEnd()),y=u,o=s=c=null}};function _(n,t){i(n,t)&&y.point(n,t)}function k(l,u){var a=i(l,u);if(s&&c.push([l,u]),v)f=l,h=u,d=a,v=!1,a&&(y.lineStart(),y.point(l,u));else if(a&&m)y.point(l,u);else{var o=[p=Math.max(Iw,Math.min(Rw,p)),g=Math.max(Iw,Math.min(Rw,g))],b=[l=Math.max(Iw,Math.min(Rw,l)),u=Math.max(Iw,Math.min(Rw,u))];!function(n,t,e,r,i,l){var u,a=n[0],o=n[1],s=0,c=1,f=t[0]-a,h=t[1]-o;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<s)return;u<c&&(c=u)}else if(f>0){if(u>c)return;u>s&&(s=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>c)return;u>s&&(s=u)}else if(f>0){if(u<s)return;u<c&&(c=u)}if(u=r-o,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<c&&(c=u)}else if(h>0){if(u>c)return;u>s&&(s=u)}if(u=l-o,h||!(u<0)){if(u/=h,h<0){if(u>c)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<c&&(c=u)}return s>0&&(n[0]=a+s*f,n[1]=o+s*h),c<1&&(t[0]=a+c*f,t[1]=o+c*h),!0}}}}}(o,b,n,t,e,r)?a&&(y.lineStart(),y.point(l,u),w=!1):(m||(y.lineStart(),y.point(o[0],o[1])),y.point(b[0],b[1]),a||y.lineEnd(),w=!1)}p=l,g=u,m=a}return x}}function Uw(n,t,e){var r=Fw(n,t-Dm,e).concat(t);return function(n){return r.map((function(t){return[n,t]}))}}function qw(n,t,e){var r=Fw(n,t-Dm,e).concat(t);return function(n){return r.map((function(t){return[t,n]}))}}function Hw(n){return n}Am();var Ww,Gw,Yw,Vw,Jw=Am(),Xw=Am(),Kw={point:Km,lineStart:Km,lineEnd:Km,polygonStart:function(){Kw.lineStart=Zw,Kw.lineEnd=ty},polygonEnd:function(){Kw.lineStart=Kw.lineEnd=Kw.point=Km,Jw.add(Pm(Xw)),Xw.reset()},result:function(){var n=Jw/2;return Jw.reset(),n}};function Zw(){Kw.point=Qw}function Qw(n,t){Kw.point=ny,Ww=Yw=n,Gw=Vw=t}function ny(n,t){Xw.add(Vw*n-Yw*t),Yw=n,Vw=t}function ty(){ny(Ww,Gw)}var ey,ry,iy,ly,uy=1/0,ay=uy,oy=-uy,sy=oy,cy={point:function(n,t){n<uy&&(uy=n),n>oy&&(oy=n),t<ay&&(ay=t),t>sy&&(sy=t)},lineStart:Km,lineEnd:Km,polygonStart:Km,polygonEnd:Km,result:function(){var n=[[uy,ay],[oy,sy]];return oy=sy=-(ay=uy=1/0),n}},fy=0,hy=0,dy=0,py=0,gy=0,my=0,vy=0,wy=0,yy=0,by={point:xy,lineStart:_y,lineEnd:Oy,polygonStart:function(){by.lineStart=Ay,by.lineEnd=Ey},polygonEnd:function(){by.point=xy,by.lineStart=_y,by.lineEnd=Oy},result:function(){var n=yy?[vy/yy,wy/yy]:my?[py/my,gy/my]:dy?[fy/dy,hy/dy]:[NaN,NaN];return fy=hy=dy=py=gy=my=vy=wy=yy=0,n}};function xy(n,t){fy+=n,hy+=t,++dy}function _y(){by.point=ky}function ky(n,t){by.point=jy,xy(iy=n,ly=t)}function jy(n,t){var e=n-iy,r=t-ly,i=Ym(e*e+r*r);py+=i*(iy+n)/2,gy+=i*(ly+t)/2,my+=i,xy(iy=n,ly=t)}function Oy(){by.point=xy}function Ay(){by.point=Sy}function Ey(){Cy(ey,ry)}function Sy(n,t){by.point=Cy,xy(ey=iy=n,ry=ly=t)}function Cy(n,t){var e=n-iy,r=t-ly,i=Ym(e*e+r*r);py+=i*(iy+n)/2,gy+=i*(ly+t)/2,my+=i,vy+=(i=ly*n-iy*t)*(iy+n),wy+=i*(ly+t),yy+=3*i,xy(iy=n,ly=t)}function Dy(n){this._context=n}Dy.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Nm)}},result:Km};var My,Fy,Ty,Ny,By,zy=Am(),Py={point:Km,lineStart:function(){Py.point=$y},lineEnd:function(){My&&Ry(Fy,Ty),Py.point=Km},polygonStart:function(){My=!0},polygonEnd:function(){My=null},result:function(){var n=+zy;return zy.reset(),n}};function $y(n,t){Py.point=Ry,Fy=Ny=n,Ty=By=t}function Ry(n,t){Ny-=n,By-=t,zy.add(Ym(Ny*Ny+By*By)),Ny=n,By=t}function Iy(){this._string=[]}function Ly(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Uy(n,t){var e,r,i=4.5;function l(n){return n&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),rv(n,e(r))),r.result()}return l.area=function(n){return rv(n,e(Kw)),Kw.result()},l.measure=function(n){return rv(n,e(Py)),Py.result()},l.bounds=function(n){return rv(n,e(cy)),cy.result()},l.centroid=function(n){return rv(n,e(by)),by.result()},l.projection=function(t){return arguments.length?(e=null==t?(n=null,Hw):(n=t).stream,l):n},l.context=function(n){return arguments.length?(r=null==n?(t=null,new Iy):new Dy(t=n),"function"!=typeof i&&r.pointRadius(i),l):t},l.pointRadius=function(n){return arguments.length?(i="function"==typeof n?n:(r.pointRadius(+n),+n),l):i},l.projection(n).context(t)}function qy(n){return function(t){var e=new Hy;for(var r in n)e[r]=n[r];return e.stream=t,e}}function Hy(){}function Wy(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),rv(e,n.stream(cy)),t(cy.result()),null!=r&&n.clipExtent(r),n}function Gy(n,t,e){return Wy(n,(function(e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],l=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+t[0][0]+(r-l*(e[1][0]+e[0][0]))/2,a=+t[0][1]+(i-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([u,a])}),e)}function Yy(n,t,e){return Gy(n,[[0,0],t],e)}function Vy(n,t,e){return Wy(n,(function(e){var r=+t,i=r/(e[1][0]-e[0][0]),l=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];n.scale(150*i).translate([l,u])}),e)}function Jy(n,t,e){return Wy(n,(function(e){var r=+t,i=r/(e[1][1]-e[0][1]),l=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;n.scale(150*i).translate([l,u])}),e)}Iy.prototype={_radius:4.5,_circle:Ly(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Ly(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}},Hy.prototype={constructor:Hy,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Xy=Im(30*zm);function Ky(n,t){return+t?function(n,t){function e(r,i,l,u,a,o,s,c,f,h,d,p,g,m){var v=s-r,w=c-i,y=v*v+w*w;if(y>4*t&&g--){var b=u+h,x=a+d,_=o+p,k=Ym(b*b+x*x+_*_),j=Xm(_/=k),O=Pm(Pm(_)-1)<Dm||Pm(l-f)<Dm?(l+f)/2:Rm(x,b),A=n(O,j),E=A[0],S=A[1],C=E-r,D=S-i,M=w*C-v*D;(M*M/y>t||Pm((v*C+w*D)/y-.5)>.3||u*h+a*d+o*p<Xy)&&(e(r,i,l,u,a,o,E,S,O,b/=k,x/=k,_,g,m),m.point(E,S),e(E,S,O,b,x,_,s,c,f,h,d,p,g,m))}}return function(t){var r,i,l,u,a,o,s,c,f,h,d,p,g={point:m,lineStart:v,lineEnd:y,polygonStart:function(){t.polygonStart(),g.lineStart=b},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(e,r){e=n(e,r),t.point(e[0],e[1])}function v(){c=NaN,g.point=w,t.lineStart()}function w(r,i){var l=vv([r,i]),u=n(r,i);e(c,f,s,h,d,p,c=u[0],f=u[1],s=r,h=l[0],d=l[1],p=l[2],16,t),t.point(c,f)}function y(){g.point=m,t.lineEnd()}function b(){v(),g.point=x,g.lineEnd=_}function x(n,t){w(r=n,t),i=c,l=f,u=h,a=d,o=p,g.point=w}function _(){e(c,f,s,h,d,p,i,l,r,u,a,o,16,t),g.lineEnd=y,y()}return g}}(n,t):function(n){return qy({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var Zy=qy({point:function(n,t){this.stream.point(n*zm,t*zm)}});function Qy(n,t,e,r){var i=Im(r),l=Wm(r),u=i*n,a=l*n,o=i/n,s=l/n,c=(l*e-i*t)/n,f=(l*t+i*e)/n;function h(n,r){return[u*n-a*r+t,e-a*n-u*r]}return h.invert=function(n,t){return[o*n-s*t+c,f-s*n-o*t]},h}function nb(n){return tb((function(){return n}))()}function tb(n){var t,e,r,i,l,u,a,o,s,c,f=150,h=480,d=250,p=0,g=0,m=0,v=0,w=0,y=0,b=null,x=Pw,_=null,k=Hw,j=.5;function O(n){return o(n[0]*zm,n[1]*zm)}function A(n){return(n=o.invert(n[0],n[1]))&&[n[0]*Bm,n[1]*Bm]}function E(){var n=Qy(f,0,0,y).apply(null,t(p,g)),r=(y?Qy:function(n,t,e){function r(r,i){return[t+n*r,e-n*i]}return r.invert=function(r,i){return[(r-t)/n,(e-i)/n]},r})(f,h-n[0],d-n[1],y);return e=bw(m,v,w),a=ww(t,r),o=ww(e,a),u=Ky(a,j),S()}function S(){return s=c=null,O}return O.stream=function(n){return s&&c===n?s:s=Zy(function(n){return qy({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}(e)(x(u(k(c=n)))))},O.preclip=function(n){return arguments.length?(x=n,b=void 0,S()):x},O.postclip=function(n){return arguments.length?(k=n,_=r=i=l=null,S()):k},O.clipAngle=function(n){return arguments.length?(x=+n?$w(b=n*zm):(b=null,Pw),S()):b*Bm},O.clipExtent=function(n){return arguments.length?(k=null==n?(_=r=i=l=null,Hw):Lw(_=+n[0][0],r=+n[0][1],i=+n[1][0],l=+n[1][1]),S()):null==_?null:[[_,r],[i,l]]},O.scale=function(n){return arguments.length?(f=+n,E()):f},O.translate=function(n){return arguments.length?(h=+n[0],d=+n[1],E()):[h,d]},O.center=function(n){return arguments.length?(p=n[0]%360*zm,g=n[1]%360*zm,E()):[p*Bm,g*Bm]},O.rotate=function(n){return arguments.length?(m=n[0]%360*zm,v=n[1]%360*zm,w=n.length>2?n[2]%360*zm:0,E()):[m*Bm,v*Bm,w*Bm]},O.angle=function(n){return arguments.length?(y=n%360*zm,E()):y*Bm},O.precision=function(n){return arguments.length?(u=Ky(a,j=n*n),S()):Ym(j)},O.fitExtent=function(n,t){return Gy(O,n,t)},O.fitSize=function(n,t){return Yy(O,n,t)},O.fitWidth=function(n,t){return Vy(O,n,t)},O.fitHeight=function(n,t){return Jy(O,n,t)},function(){return t=n.apply(this,arguments),O.invert=t.invert&&A,E()}}function eb(n){var t=0,e=Mm/3,r=tb(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*zm,e=n[1]*zm):[t*Bm,e*Bm]},i}function rb(n,t){var e=Wm(n),r=(e+Wm(t))/2;if(Pm(r)<Dm)return function(n){var t=Im(n);function e(n,e){return[n*t,Wm(e)/t]}return e.invert=function(n,e){return[n/t,Xm(e*t)]},e}(n);var i=1+e*(2*r-e),l=Ym(i)/r;function u(n,t){var e=Ym(i-2*r*Wm(t))/r;return[e*Wm(n*=r),l-e*Im(n)]}return u.invert=function(n,t){var e=l-t;return[Rm(n,Pm(e))/r*Gm(e),Xm((i-(n*n+e*e)*r*r)/(2*r))]},u}function ib(){return eb(rb).scale(155.424).center([0,33.6442])}function lb(){return ib().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ub(n){return function(t,e){var r=Im(t),i=Im(e),l=n(r*i);return[l*i*Wm(t),l*Wm(e)]}}function ab(n){return function(t,e){var r=Ym(t*t+e*e),i=n(r),l=Wm(i),u=Im(i);return[Rm(t*l,r*u),Xm(r&&e*l/r)]}}var ob=ub((function(n){return Ym(2/(1+n))}));ob.invert=ab((function(n){return 2*Xm(n/2)}));var sb=ub((function(n){return(n=Jm(n))&&n/Wm(n)}));function cb(n,t){return[n,qm(Vm((Fm+t)/2))]}function fb(n){var t,e,r,i=nb(n),l=i.center,u=i.scale,a=i.translate,o=i.clipExtent,s=null;function c(){var l=Mm*u(),a=i(function(n){function t(t){return(t=n(t[0]*zm,t[1]*zm))[0]*=Bm,t[1]*=Bm,t}return n=bw(n[0]*zm,n[1]*zm,n.length>2?n[2]*zm:0),t.invert=function(t){return(t=n.invert(t[0]*zm,t[1]*zm))[0]*=Bm,t[1]*=Bm,t},t}(i.rotate()).invert([0,0]));return o(null==s?[[a[0]-l,a[1]-l],[a[0]+l,a[1]+l]]:n===cb?[[Math.max(a[0]-l,s),t],[Math.min(a[0]+l,e),r]]:[[s,Math.max(a[1]-l,t)],[e,Math.min(a[1]+l,r)]])}return i.scale=function(n){return arguments.length?(u(n),c()):u()},i.translate=function(n){return arguments.length?(a(n),c()):a()},i.center=function(n){return arguments.length?(l(n),c()):l()},i.clipExtent=function(n){return arguments.length?(null==n?s=t=e=r=null:(s=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),c()):null==s?null:[[s,t],[e,r]]},c()}function hb(n){return Vm((Fm+n)/2)}function db(n,t){var e=Im(n),r=n===t?Wm(n):qm(e/Im(t))/qm(hb(t)/hb(n)),i=e*Hm(hb(n),r)/r;if(!r)return cb;function l(n,t){i>0?t<-Fm+Dm&&(t=-Fm+Dm):t>Fm-Dm&&(t=Fm-Dm);var e=i/Hm(hb(t),r);return[e*Wm(r*n),i-e*Im(r*n)]}return l.invert=function(n,t){var e=i-t,l=Gm(r)*Ym(n*n+e*e);return[Rm(n,Pm(e))/r*Gm(e),2*$m(Hm(i/l,1/r))-Fm]},l}function pb(n,t){return[n,t]}function gb(n,t){var e=Im(n),r=n===t?Wm(n):(e-Im(t))/(t-n),i=e/r+n;if(Pm(r)<Dm)return pb;function l(n,t){var e=i-t,l=r*n;return[e*Wm(l),i-e*Im(l)]}return l.invert=function(n,t){var e=i-t;return[Rm(n,Pm(e))/r*Gm(e),i-Gm(r)*Ym(n*n+e*e)]},l}function mb(n,t){var e=Im(t),r=Im(n)*e;return[e*Wm(n)/r,Wm(t)/r]}function vb(n,t,e,r){return 1===n&&1===t&&0===e&&0===r?Hw:qy({point:function(i,l){this.stream.point(i*n+e,l*t+r)}})}function wb(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),t*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function yb(n,t){return[Im(t)*Wm(n),Wm(t)]}function bb(n,t){var e=Im(t),r=1+Im(n)*e;return[e*Wm(n)/r,Wm(t)/r]}function xb(n,t){return[qm(Vm((Fm+t)/2)),-n]}sb.invert=ab((function(n){return n})),cb.invert=function(n,t){return[n,2*$m(Um(t))-Fm]},pb.invert=pb,mb.invert=ab($m),wb.invert=function(n,t){var e,r=t,i=25;do{var l=r*r,u=l*l;r-=e=(r*(1.007226+l*(.015085+u*(.028874*l-.044475-.005916*u)))-t)/(1.007226+l*(.045255+u*(.259866*l-.311325-.005916*11*u)))}while(Pm(e)>Dm&&--i>0);return[n/(.8707+(l=r*r)*(l*(l*l*l*(.003971-.001529*l)-.013791)-.131979)),r]},yb.invert=ab(Xm),bb.invert=ab((function(n){return 2*$m(n)})),xb.invert=function(n,t){return[-t,2*$m(Um(n))-Fm]};var _b=Uy(),kb=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function jb(n,t){if(!n||"string"!=typeof n)throw new Error("Projection type must be a name string.");return n=n.toLowerCase(),arguments.length>1?(Ab[n]=function(n,t){return function e(){var r=t();return r.type=n,r.path=Uy().projection(r),r.copy=r.copy||function(){var n=e();return kb.forEach((function(t){r.hasOwnProperty(t)&&n[t](r[t]())})),n.path.pointRadius(r.path.pointRadius()),n},r}}(n,t),this):Ab.hasOwnProperty(n)?Ab[n]:null}function Ob(n){return n&&n.path||_b}var Ab={albers:lb,albersusa:function(){var n,t,e,r,i,l,u=lb(),a=ib().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=ib().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){l=[n,t]}};function c(n){var t=n[0],u=n[1];return l=null,e.point(t,u),l||(r.point(t,u),l)||(i.point(t,u),l)}function f(){return n=t=null,c}return c.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?o:u).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[u.stream(t=e),a.stream(e),o.stream(e)],i=r.length,n={point:function(n,t){for(var e=-1;++e<i;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<i;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)r[n].polygonEnd()}});var r,i},c.precision=function(n){return arguments.length?(u.precision(n),a.precision(n),o.precision(n),f()):u.precision()},c.scale=function(n){return arguments.length?(u.scale(n),a.scale(.35*n),o.scale(n),c.translate(u.translate())):u.scale()},c.translate=function(n){if(!arguments.length)return u.translate();var t=u.scale(),l=+n[0],c=+n[1];return e=u.translate(n).clipExtent([[l-.455*t,c-.238*t],[l+.455*t,c+.238*t]]).stream(s),r=a.translate([l-.307*t,c+.201*t]).clipExtent([[l-.425*t+Dm,c+.12*t+Dm],[l-.214*t-Dm,c+.234*t-Dm]]).stream(s),i=o.translate([l-.205*t,c+.212*t]).clipExtent([[l-.214*t+Dm,c+.166*t+Dm],[l-.115*t-Dm,c+.234*t-Dm]]).stream(s),f()},c.fitExtent=function(n,t){return Gy(c,n,t)},c.fitSize=function(n,t){return Yy(c,n,t)},c.fitWidth=function(n,t){return Vy(c,n,t)},c.fitHeight=function(n,t){return Jy(c,n,t)},c.scale(1070)},azimuthalequalarea:function(){return nb(ob).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return nb(sb).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return eb(db).scale(109.5).parallels([30,30])},conicequalarea:ib,conicequidistant:function(){return eb(gb).scale(131.154).center([0,13.9389])},equirectangular:function(){return nb(pb).scale(152.63)},gnomonic:function(){return nb(mb).scale(144.049).clipAngle(60)},identity:function(){var n,t,e,r,i,l,u=1,a=0,o=0,s=1,c=1,f=Hw,h=null,d=Hw;function p(){return r=i=null,l}return l={stream:function(n){return r&&i===n?r:r=f(d(i=n))},postclip:function(r){return arguments.length?(d=r,h=n=t=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=n=t=e=null,Hw):Lw(h=+r[0][0],n=+r[0][1],t=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,n],[t,e]]},scale:function(n){return arguments.length?(f=vb((u=+n)*s,u*c,a,o),p()):u},translate:function(n){return arguments.length?(f=vb(u*s,u*c,a=+n[0],o=+n[1]),p()):[a,o]},reflectX:function(n){return arguments.length?(f=vb(u*(s=n?-1:1),u*c,a,o),p()):s<0},reflectY:function(n){return arguments.length?(f=vb(u*s,u*(c=n?-1:1),a,o),p()):c<0},fitExtent:function(n,t){return Gy(l,n,t)},fitSize:function(n,t){return Yy(l,n,t)},fitWidth:function(n,t){return Vy(l,n,t)},fitHeight:function(n,t){return Jy(l,n,t)}}},mercator:function(){return fb(cb).scale(961/Nm)},naturalEarth1:function(){return nb(wb).scale(175.295)},orthographic:function(){return nb(yb).scale(249.5).clipAngle(90+Dm)},stereographic:function(){return nb(bb).scale(250).clipAngle(142)},transversemercator:function(){var n=fb(xb),t=n.center,e=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?e([n[0],n[1],n.length>2?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90]).scale(159.155)}};for(var Eb in Ab)jb(Eb,Ab[Eb]);function Sb(n){Tr.call(this,null,n)}function Cb(n){Tr.call(this,null,n)}function Db(n){Tr.call(this,null,n)}function Mb(n){Tr.call(this,[],n),this.generator=function(){var n,t,e,r,i,l,u,a,o,s,c,f,h=10,d=h,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:w()}}function w(){return Fw(Lm(r/p)*p,e,p).map(c).concat(Fw(Lm(a/g)*g,u,g).map(f)).concat(Fw(Lm(t/h)*h,n,h).filter((function(n){return Pm(n%p)>Dm})).map(o)).concat(Fw(Lm(l/d)*d,i,d).filter((function(n){return Pm(n%g)>Dm})).map(s))}return v.lines=function(){return w().map((function(n){return{type:"LineString",coordinates:n}}))},v.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(u).slice(1),c(e).reverse().slice(1),f(a).reverse().slice(1))]}},v.extent=function(n){return arguments.length?v.extentMajor(n).extentMinor(n):v.extentMinor()},v.extentMajor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),v.precision(m)):[[r,a],[e,u]]},v.extentMinor=function(e){return arguments.length?(t=+e[0][0],n=+e[1][0],l=+e[0][1],i=+e[1][1],t>n&&(e=t,t=n,n=e),l>i&&(e=l,l=i,i=e),v.precision(m)):[[t,l],[n,i]]},v.step=function(n){return arguments.length?v.stepMajor(n).stepMinor(n):v.stepMinor()},v.stepMajor=function(n){return arguments.length?(p=+n[0],g=+n[1],v):[p,g]},v.stepMinor=function(n){return arguments.length?(h=+n[0],d=+n[1],v):[h,d]},v.precision=function(h){return arguments.length?(m=+h,o=Uw(l,i,90),s=qw(t,n,m),c=Uw(a,u,90),f=qw(r,e,m),v):m},v.extentMajor([[-180,-90+Dm],[180,90-Dm]]).extentMinor([[-180,-80-Dm],[180,80+Dm]])}()}function Fb(n){Tr.call(this,null,n),this.modified(!0)}function Tb(n,t,e){U(n[t])&&n[t](e)}Sb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Z(Sb,Tr).transform=function(n,t){var e=t.fork(t.ALL),r=this.value,i=n.field||p,l=n.as||"path",u=e.SOURCE;!r||n.modified()?(this.value=r=Ob(n.projection),e.materialize().reflow()):u=i===p||t.modified(i.fields)?e.ADD_MOD:e.ADD;var a=function(n,t){var e=n.pointRadius();return n.context(null),null!=t&&n.pointRadius(t),e}(r,n.pointRadius);return e.visit(u,(function(n){n[l]=r(i(n))})),r.pointRadius(a),e.modifies(l)},Cb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Z(Cb,Tr).transform=function(n,t){var e,r=n.projection,i=n.fields[0],l=n.fields[1],u=n.as||["x","y"],a=u[0],o=u[1];function s(n){var t=r([i(n),l(n)]);t?(n[a]=t[0],n[o]=t[1]):(n[a]=void 0,n[o]=void 0)}return n.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,s):(e=t.modified(i.fields)||t.modified(l.fields),t.visit(e?t.ADD_MOD:t.ADD,s)),t.modifies(u)},Db.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Z(Db,Tr).transform=function(n,t){var e=t.fork(t.ALL),r=this.value,i=n.as||"shape",l=e.ADD;return r&&!n.modified()||(this.value=r=function(n,t,e){var r=null==e?function(e){return n(t(e))}:function(r){var i=n.pointRadius(),l=n.pointRadius(e)(t(r));return n.pointRadius(i),l};return r.context=function(t){return n.context(t),r},r}(Ob(n.projection),n.field||f("datum"),n.pointRadius),e.materialize().reflow(),l=e.SOURCE),e.visit(l,(function(n){n[i]=r})),e.modifies(i)},Mb.Definition={type:"Graticule",metadata:{changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Z(Mb,Tr).transform=function(n,t){var e,r=this.value,i=this.generator;if(!r.length||n.modified())for(var l in n)U(i[l])&&i[l](n[l]);return e=i(),r.length?t.mod.push(Sn(r[0],e)):t.add.push(On(e)),r[0]=e,t},Z(Fb,Tr).transform=function(n,t){var e=this.value;return!e||n.modified("type")?(this.value=e=function(n){var t=jb((n||"mercator").toLowerCase());return t||l("Unrecognized projection type: "+n),t()}(n.type),kb.forEach((function(t){null!=n[t]&&Tb(e,t,n[t])}))):kb.forEach((function(t){n.modified(t)&&Tb(e,t,n[t])})),null!=n.pointRadius&&e.path.pointRadius(n.pointRadius),n.fit&&function(n,t){var e=function(n){return 1===(n=I(n)).length?n[0]:{type:jm,features:n.reduce((n,t)=>n.concat(function(n){return n.type===jm?n.features:I(n).filter(n=>null!=n).map(n=>n.type===km?n:{type:km,geometry:n})}(t)),[])}}(t.fit);t.extent?n.fitExtent(t.extent,e):t.size&&n.fitSize(t.size,e)}(e,n),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var Nb=Object.freeze({contour:_m,geojson:Om,geopath:Sb,geopoint:Cb,geoshape:Db,graticule:Mb,projection:Fb});function Bb(n,t,e,r){if(isNaN(t)||isNaN(e))return n;var i,l,u,a,o,s,c,f,h,d=n._root,p={data:r},g=n._x0,m=n._y0,v=n._x1,w=n._y1;if(!d)return n._root=p,n;for(;d.length;)if((s=t>=(l=(g+v)/2))?g=l:v=l,(c=e>=(u=(m+w)/2))?m=u:w=u,i=d,!(d=d[f=c<<1|s]))return i[f]=p,n;if(a=+n._x.call(null,d.data),o=+n._y.call(null,d.data),t===a&&e===o)return p.next=d,i?i[f]=p:n._root=p,n;do{i=i?i[f]=new Array(4):n._root=new Array(4),(s=t>=(l=(g+v)/2))?g=l:v=l,(c=e>=(u=(m+w)/2))?m=u:w=u}while((f=c<<1|s)==(h=(o>=u)<<1|a>=l));return i[h]=d,i[f]=p,n}function zb(n,t,e,r,i){this.node=n,this.x0=t,this.y0=e,this.x1=r,this.y1=i}function Pb(n){return n[0]}function $b(n){return n[1]}function Rb(n,t,e){var r=new Ib(null==t?Pb:t,null==e?$b:e,NaN,NaN,NaN,NaN);return null==n?r:r.addAll(n)}function Ib(n,t,e,r,i,l){this._x=n,this._y=t,this._x0=e,this._y0=r,this._x1=i,this._y1=l,this._root=void 0}function Lb(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var Ub=Rb.prototype=Ib.prototype;function qb(n){return function(){return n}}function Hb(){return 1e-6*(Math.random()-.5)}function Wb(n){return n.x+n.vx}function Gb(n){return n.y+n.vy}function Yb(n){return n.index}function Vb(n,t){var e=n.get(t);if(!e)throw new Error("missing: "+t);return e}Ub.copy=function(){var n,t,e=new Ib(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Lb(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?n.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Lb(t));return e},Ub.add=function(n){var t=+this._x.call(null,n),e=+this._y.call(null,n);return Bb(this.cover(t,e),t,e,n)},Ub.addAll=function(n){var t,e,r,i,l=n.length,u=new Array(l),a=new Array(l),o=1/0,s=1/0,c=-1/0,f=-1/0;for(e=0;e<l;++e)isNaN(r=+this._x.call(null,t=n[e]))||isNaN(i=+this._y.call(null,t))||(u[e]=r,a[e]=i,r<o&&(o=r),r>c&&(c=r),i<s&&(s=i),i>f&&(f=i));if(o>c||s>f)return this;for(this.cover(o,s).cover(c,f),e=0;e<l;++e)Bb(this,u[e],a[e],n[e]);return this},Ub.cover=function(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,r=this._y0,i=this._x1,l=this._y1;if(isNaN(e))i=(e=Math.floor(n))+1,l=(r=Math.floor(t))+1;else{for(var u,a,o=i-e,s=this._root;e>n||n>=i||r>t||t>=l;)switch(a=(t<r)<<1|n<e,(u=new Array(4))[a]=s,s=u,o*=2,a){case 0:i=e+o,l=r+o;break;case 1:e=i-o,l=r+o;break;case 2:i=e+o,r=l-o;break;case 3:e=i-o,r=l-o}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=l,this},Ub.data=function(){var n=[];return this.visit((function(t){if(!t.length)do{n.push(t.data)}while(t=t.next)})),n},Ub.extent=function(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ub.find=function(n,t,e){var r,i,l,u,a,o,s,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new zb(g,c,f,h,d)),null==e?e=1/0:(c=n-e,f=t-e,h=n+e,d=t+e,e*=e);o=p.pop();)if(!(!(g=o.node)||(i=o.x0)>h||(l=o.y0)>d||(u=o.x1)<c||(a=o.y1)<f))if(g.length){var m=(i+u)/2,v=(l+a)/2;p.push(new zb(g[3],m,v,u,a),new zb(g[2],i,v,m,a),new zb(g[1],m,l,u,v),new zb(g[0],i,l,m,v)),(s=(t>=v)<<1|n>=m)&&(o=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=o)}else{var w=n-+this._x.call(null,g.data),y=t-+this._y.call(null,g.data),b=w*w+y*y;if(b<e){var x=Math.sqrt(e=b);c=n-x,f=t-x,h=n+x,d=t+x,r=g.data}}return r},Ub.remove=function(n){if(isNaN(l=+this._x.call(null,n))||isNaN(u=+this._y.call(null,n)))return this;var t,e,r,i,l,u,a,o,s,c,f,h,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((s=l>=(a=(p+m)/2))?p=a:m=a,(c=u>=(o=(g+v)/2))?g=o:v=o,t=d,!(d=d[f=c<<1|s]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(e=t,h=f)}for(;d.data!==n;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Ub.removeAll=function(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this},Ub.root=function(){return this._root},Ub.size=function(){var n=0;return this.visit((function(t){if(!t.length)do{++n}while(t=t.next)})),n},Ub.visit=function(n){var t,e,r,i,l,u,a=[],o=this._root;for(o&&a.push(new zb(o,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!n(o=t.node,r=t.x0,i=t.y0,l=t.x1,u=t.y1)&&o.length){var s=(r+l)/2,c=(i+u)/2;(e=o[3])&&a.push(new zb(e,s,c,l,u)),(e=o[2])&&a.push(new zb(e,r,c,s,u)),(e=o[1])&&a.push(new zb(e,s,i,l,c)),(e=o[0])&&a.push(new zb(e,r,i,s,c))}return this},Ub.visitAfter=function(n){var t,e=[],r=[];for(this._root&&e.push(new zb(this._root,this._x0,this._y0,this._x1,this._y1));t=e.pop();){var i=t.node;if(i.length){var l,u=t.x0,a=t.y0,o=t.x1,s=t.y1,c=(u+o)/2,f=(a+s)/2;(l=i[0])&&e.push(new zb(l,u,a,c,f)),(l=i[1])&&e.push(new zb(l,c,a,o,f)),(l=i[2])&&e.push(new zb(l,u,f,c,s)),(l=i[3])&&e.push(new zb(l,c,f,o,s))}r.push(t)}for(;t=r.pop();)n(t.node,t.x0,t.y0,t.x1,t.y1);return this},Ub.x=function(n){return arguments.length?(this._x=n,this):this._x},Ub.y=function(n){return arguments.length?(this._y=n,this):this._y};var Jb={value:function(){}};function Xb(){for(var n,t=0,e=arguments.length,r={};t<e;++t){if(!(n=arguments[t]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new Kb(r)}function Kb(n){this._=n}function Zb(n,t){for(var e,r=0,i=n.length;r<i;++r)if((e=n[r]).name===t)return e.value}function Qb(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=Jb,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=e&&n.push({name:t,value:e}),n}Kb.prototype=Xb.prototype={constructor:Kb,on:function(n,t){var e,r,i=this._,l=(r=i,(n+"").trim().split(/^|\s+/).map((function(n){var t="",e=n.indexOf(".");if(e>=0&&(t=n.slice(e+1),n=n.slice(0,e)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}}))),u=-1,a=l.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<a;)if(e=(n=l[u]).type)i[e]=Qb(i[e],n.name,t);else if(null==t)for(e in i)i[e]=Qb(i[e],n.name,null);return this}for(;++u<a;)if((e=(n=l[u]).type)&&(e=Zb(i[e],n.name)))return e},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Kb(n)},call:function(n,t){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),l=0;l<e;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(l=0,e=(r=this._[n]).length;l<e;++l)r[l].value.apply(t,i)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,l=r.length;i<l;++i)r[i].value.apply(t,e)}};var nx,tx,ex=0,rx=0,ix=0,lx=0,ux=0,ax=0,ox="object"==typeof performance&&performance.now?performance:Date,sx="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function cx(){return ux||(sx(fx),ux=ox.now()+ax)}function fx(){ux=0}function hx(){this._call=this._time=this._next=null}function dx(n,t,e){var r=new hx;return r.restart(n,t,e),r}function px(){ux=(lx=ox.now())+ax,ex=rx=0;try{!function(){cx(),++ex;for(var n,t=nx;t;)(n=ux-t._time)>=0&&t._call.call(null,n),t=t._next;--ex}()}finally{ex=0,function(){for(var n,t,e=nx,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:nx=t);tx=n,mx(r)}(),ux=0}}function gx(){var n=ox.now(),t=n-lx;t>1e3&&(ax-=t,lx=n)}function mx(n){ex||(rx&&(rx=clearTimeout(rx)),n-ux>24?(n<1/0&&(rx=setTimeout(px,n-ox.now()-ax)),ix&&(ix=clearInterval(ix))):(ix||(lx=ox.now(),ix=setInterval(gx,1e3)),ex=1,sx(px)))}function vx(n){return n.x}function wx(n){return n.y}hx.prototype=dx.prototype={constructor:hx,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?cx():+e)+(null==t?0:+t),this._next||tx===this||(tx?tx._next=this:nx=this,tx=this),this._call=n,this._time=e,mx()},stop:function(){this._call&&(this._call=null,this._time=1/0,mx())}};var yx=Math.PI*(3-Math.sqrt(5)),bx={center:function(n,t){var e;function r(){var r,i,l=e.length,u=0,a=0;for(r=0;r<l;++r)u+=(i=e[r]).x,a+=i.y;for(u=u/l-n,a=a/l-t,r=0;r<l;++r)(i=e[r]).x-=u,i.y-=a}return null==n&&(n=0),null==t&&(t=0),r.initialize=function(n){e=n},r.x=function(t){return arguments.length?(n=+t,r):n},r.y=function(n){return arguments.length?(t=+n,r):t},r},collide:function(n){var t,e,r=1,i=1;function l(){for(var n,l,a,o,s,c,f,h=t.length,d=0;d<i;++d)for(l=Rb(t,Wb,Gb).visitAfter(u),n=0;n<h;++n)a=t[n],c=e[a.index],f=c*c,o=a.x+a.vx,s=a.y+a.vy,l.visit(p);function p(n,t,e,i,l){var u=n.data,h=n.r,d=c+h;if(!u)return t>o+d||i<o-d||e>s+d||l<s-d;if(u.index>a.index){var p=o-u.x-u.vx,g=s-u.y-u.vy,m=p*p+g*g;m<d*d&&(0===p&&(m+=(p=Hb())*p),0===g&&(m+=(g=Hb())*g),m=(d-(m=Math.sqrt(m)))/m*r,a.vx+=(p*=m)*(d=(h*=h)/(f+h)),a.vy+=(g*=m)*d,u.vx-=p*(d=1-d),u.vy-=g*d)}}}function u(n){if(n.data)return n.r=e[n.data.index];for(var t=n.r=0;t<4;++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function a(){if(t){var r,i,l=t.length;for(e=new Array(l),r=0;r<l;++r)i=t[r],e[i.index]=+n(i,r,t)}}return"function"!=typeof n&&(n=qb(null==n?1:+n)),l.initialize=function(n){t=n,a()},l.iterations=function(n){return arguments.length?(i=+n,l):i},l.strength=function(n){return arguments.length?(r=+n,l):r},l.radius=function(t){return arguments.length?(n="function"==typeof t?t:qb(+t),a(),l):n},l},nbody:function(){var n,t,e,r,i=qb(-30),l=1,u=1/0,a=.81;function o(r){var i,l=n.length,u=Rb(n,vx,wx).visitAfter(c);for(e=r,i=0;i<l;++i)t=n[i],u.visit(f)}function s(){if(n){var t,e,l=n.length;for(r=new Array(l),t=0;t<l;++t)e=n[t],r[e.index]=+i(e,t,n)}}function c(n){var t,e,i,l,u,a=0,o=0;if(n.length){for(i=l=u=0;u<4;++u)(t=n[u])&&(e=Math.abs(t.value))&&(a+=t.value,o+=e,i+=e*t.x,l+=e*t.y);n.x=i/o,n.y=l/o}else{(t=n).x=t.data.x,t.y=t.data.y;do{a+=r[t.data.index]}while(t=t.next)}n.value=a}function f(n,i,o,s){if(!n.value)return!0;var c=n.x-t.x,f=n.y-t.y,h=s-i,d=c*c+f*f;if(h*h/a<d)return d<u&&(0===c&&(d+=(c=Hb())*c),0===f&&(d+=(f=Hb())*f),d<l&&(d=Math.sqrt(l*d)),t.vx+=c*n.value*e/d,t.vy+=f*n.value*e/d),!0;if(!(n.length||d>=u)){(n.data!==t||n.next)&&(0===c&&(d+=(c=Hb())*c),0===f&&(d+=(f=Hb())*f),d<l&&(d=Math.sqrt(l*d)));do{n.data!==t&&(h=r[n.data.index]*e/d,t.vx+=c*h,t.vy+=f*h)}while(n=n.next)}}return o.initialize=function(t){n=t,s()},o.strength=function(n){return arguments.length?(i="function"==typeof n?n:qb(+n),s(),o):i},o.distanceMin=function(n){return arguments.length?(l=n*n,o):Math.sqrt(l)},o.distanceMax=function(n){return arguments.length?(u=n*n,o):Math.sqrt(u)},o.theta=function(n){return arguments.length?(a=n*n,o):Math.sqrt(a)},o},link:function(n){var t,e,r,i,l,u=Yb,a=function(n){return 1/Math.min(i[n.source.index],i[n.target.index])},o=qb(30),s=1;function c(r){for(var i=0,u=n.length;i<s;++i)for(var a,o,c,f,h,d,p,g=0;g<u;++g)o=(a=n[g]).source,f=(c=a.target).x+c.vx-o.x-o.vx||Hb(),h=c.y+c.vy-o.y-o.vy||Hb(),f*=d=((d=Math.sqrt(f*f+h*h))-e[g])/d*r*t[g],h*=d,c.vx-=f*(p=l[g]),c.vy-=h*p,o.vx+=f*(p=1-p),o.vy+=h*p}function f(){if(r){var a,o,s=r.length,c=n.length,f=new Map(r.map((n,t)=>[u(n,t,r),n]));for(a=0,i=new Array(s);a<c;++a)(o=n[a]).index=a,"object"!=typeof o.source&&(o.source=Vb(f,o.source)),"object"!=typeof o.target&&(o.target=Vb(f,o.target)),i[o.source.index]=(i[o.source.index]||0)+1,i[o.target.index]=(i[o.target.index]||0)+1;for(a=0,l=new Array(c);a<c;++a)o=n[a],l[a]=i[o.source.index]/(i[o.source.index]+i[o.target.index]);t=new Array(c),h(),e=new Array(c),d()}}function h(){if(r)for(var e=0,i=n.length;e<i;++e)t[e]=+a(n[e],e,n)}function d(){if(r)for(var t=0,i=n.length;t<i;++t)e[t]=+o(n[t],t,n)}return null==n&&(n=[]),c.initialize=function(n){r=n,f()},c.links=function(t){return arguments.length?(n=t,f(),c):n},c.id=function(n){return arguments.length?(u=n,c):u},c.iterations=function(n){return arguments.length?(s=+n,c):s},c.strength=function(n){return arguments.length?(a="function"==typeof n?n:qb(+n),h(),c):a},c.distance=function(n){return arguments.length?(o="function"==typeof n?n:qb(+n),d(),c):o},c},x:function(n){var t,e,r,i=qb(.1);function l(n){for(var i,l=0,u=t.length;l<u;++l)(i=t[l]).vx+=(r[l]-i.x)*e[l]*n}function u(){if(t){var l,u=t.length;for(e=new Array(u),r=new Array(u),l=0;l<u;++l)e[l]=isNaN(r[l]=+n(t[l],l,t))?0:+i(t[l],l,t)}}return"function"!=typeof n&&(n=qb(null==n?0:+n)),l.initialize=function(n){t=n,u()},l.strength=function(n){return arguments.length?(i="function"==typeof n?n:qb(+n),u(),l):i},l.x=function(t){return arguments.length?(n="function"==typeof t?t:qb(+t),u(),l):n},l},y:function(n){var t,e,r,i=qb(.1);function l(n){for(var i,l=0,u=t.length;l<u;++l)(i=t[l]).vy+=(r[l]-i.y)*e[l]*n}function u(){if(t){var l,u=t.length;for(e=new Array(u),r=new Array(u),l=0;l<u;++l)e[l]=isNaN(r[l]=+n(t[l],l,t))?0:+i(t[l],l,t)}}return"function"!=typeof n&&(n=qb(null==n?0:+n)),l.initialize=function(n){t=n,u()},l.strength=function(n){return arguments.length?(i="function"==typeof n?n:qb(+n),u(),l):i},l.y=function(t){return arguments.length?(n="function"==typeof t?t:qb(+t),u(),l):n},l}},xx="forces",_x=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],kx=["static","iterations"],jx=["x","y","vx","vy"];function Ox(n){Tr.call(this,null,n)}Ox.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:jx}]};var Ax=Z(Ox,Tr);function Ex(n,t,e,r){var i,l,u,a,o=I(t.forces);for(i=0,l=_x.length;i<l;++i)(u=_x[i])!==xx&&t.modified(u)&&n[u](t[u]);for(i=0,l=o.length;i<l;++i)a=xx+i,(u=e||t.modified(xx,i)?Cx(o[i]):r&&Sx(o[i],r)?n.force(a):null)&&n.force(a,u);for(l=n.numForces||0;i<l;++i)n.force(xx+i,null);return n.numForces=o.length,n}function Sx(n,t){var e,r;for(e in n)if(U(r=n[e])&&t.modified(i(r)))return 1;return 0}function Cx(n){var t,e;for(e in bx.hasOwnProperty(n.force)||l("Unrecognized force: "+n.force),t=bx[n.force](),n)U(t[e])&&Dx(t[e],n[e],n);return t}function Dx(n,t,e){n(U(t)?function(n){return t(n,e)}:t)}Ax.transform=function(n,t){var e,r,i=this.value,l=t.changed(t.ADD_REM),u=n.modified(_x),a=n.iterations||300;if(i?(l&&(t.modifies("index"),i.nodes(t.source)),(u||t.changed(t.MOD))&&Ex(i,n,0,t)):(this.value=i=function(n,t){var e=function(n){var t,e=1,r=.001,i=1-Math.pow(r,1/300),l=0,u=.6,a=new Map,o=dx(c),s=Xb("tick","end");function c(){f(),s.call("tick",t),e<r&&(o.stop(),s.call("end",t))}function f(r){var o,s,c=n.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(l-e)*i,a.forEach((function(n){n(e)})),o=0;o<c;++o)null==(s=n[o]).fx?s.x+=s.vx*=u:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=u:(s.y=s.fy,s.vy=0);return t}function h(){for(var t,e=0,r=n.length;e<r;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(e),l=e*yx;t.x=i*Math.cos(l),t.y=i*Math.sin(l)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(n),t}return null==n&&(n=[]),h(),t={tick:f,restart:function(){return o.restart(c),t},stop:function(){return o.stop(),t},nodes:function(e){return arguments.length?(n=e,h(),a.forEach(d),t):n},alpha:function(n){return arguments.length?(e=+n,t):e},alphaMin:function(n){return arguments.length?(r=+n,t):r},alphaDecay:function(n){return arguments.length?(i=+n,t):+i},alphaTarget:function(n){return arguments.length?(l=+n,t):l},velocityDecay:function(n){return arguments.length?(u=1-n,t):1-u},force:function(n,e){return arguments.length>1?(null==e?a.delete(n):a.set(n,d(e)),t):a.get(n)},find:function(t,e,r){var i,l,u,a,o,s=0,c=n.length;for(null==r?r=1/0:r*=r,s=0;s<c;++s)(u=(i=t-(a=n[s]).x)*i+(l=e-a.y)*l)<r&&(o=a,r=u);return o},on:function(n,e){return arguments.length>1?(s.on(n,e),t):s.on(n)}}}(n),r=!1,i=e.stop,l=e.restart;return e.stopped=function(){return r},e.restart=function(){return r=!1,l()},e.stop=function(){return r=!0,i()},Ex(e,t,!0).on("end",(function(){r=!0}))}(t.source,n),i.on("tick",(e=t.dataflow,r=this,function(){e.touch(r).run()})),n.static||(l=!0,i.tick()),t.modifies("index")),u||l||n.modified(kx)||t.changed()&&n.restart)if(i.alpha(Math.max(i.alpha(),n.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/a)),n.static)for(i.stop();--a>=0;)i.tick();else if(i.stopped()&&i.restart(),!l)return t.StopPropagation;return this.finish(n,t)},Ax.finish=function(n,t){for(var e,r=t.dataflow,i=this._argops,l=0,u=i.length;l<u;++l)if((e=i[l]).name===xx&&"link"===e.op._argval.force)for(var a,o=e.op._argops,s=0,c=o.length;s<c;++s)if("links"===o[s].name&&(a=o[s].op.source)){r.pulse(a,r.changeset().reflow());break}return t.reflow(n.modified()).modifies(jx)};var Mx=Object.freeze({force:Ox});function Fx(n,t,e){var r={};return n.each((function(n){var i=n.data;e(i)&&(r[t(i)]=n)})),n.lookup=r,n}function Tx(n,t){return n.parent===t.parent?1:2}function Nx(n,t){return n+t.x}function Bx(n,t){return Math.max(n,t.y)}function zx(n){var t=0,e=n.children,r=e&&e.length;if(r)for(;--r>=0;)t+=e[r].value;else t=1;n.value=t}function Px(n,t){var e,r,i,l,u,a=new Lx(n),o=+n.value&&(a.value=n.value),s=[a];for(null==t&&(t=$x);e=s.pop();)if(o&&(e.value=+e.data.value),(i=t(e.data))&&(u=i.length))for(e.children=new Array(u),l=u-1;l>=0;--l)s.push(r=e.children[l]=new Lx(i[l])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Ix)}function $x(n){return n.children}function Rx(n){n.data=n.data.data}function Ix(n){var t=0;do{n.height=t}while((n=n.parent)&&n.height<++t)}function Lx(n){this.data=n,this.depth=this.height=0,this.parent=null}Lx.prototype=Px.prototype={constructor:Lx,count:function(){return this.eachAfter(zx)},each:function(n){var t,e,r,i,l=this,u=[l];do{for(t=u.reverse(),u=[];l=t.pop();)if(n(l),e=l.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(n){for(var t,e,r,i=this,l=[i],u=[];i=l.pop();)if(u.push(i),t=i.children)for(e=0,r=t.length;e<r;++e)l.push(t[e]);for(;i=u.pop();)n(i);return this},eachBefore:function(n){for(var t,e,r=this,i=[r];r=i.pop();)if(n(r),t=r.children)for(e=t.length-1;e>=0;--e)i.push(t[e]);return this},sum:function(n){return this.eachAfter((function(t){for(var e=+n(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)e+=r[i].value;t.value=e}))},sort:function(n){return this.eachBefore((function(t){t.children&&t.children.sort(n)}))},path:function(n){for(var t=this,e=function(n,t){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),i=null;for(n=e.pop(),t=r.pop();n===t;)i=n,n=e.pop(),t=r.pop();return i}(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var i=r.length;n!==e;)r.splice(i,0,n),n=n.parent;return r},ancestors:function(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t},descendants:function(){var n=[];return this.each((function(t){n.push(t)})),n},leaves:function(){var n=[];return this.eachBefore((function(t){t.children||n.push(t)})),n},links:function(){var n=this,t=[];return n.each((function(e){e!==n&&t.push({source:e.parent,target:e})})),t},copy:function(){return Px(this).eachBefore(Rx)}};var Ux=Array.prototype.slice;function qx(n,t){var e,r;if(Gx(t,n))return[t];for(e=0;e<n.length;++e)if(Hx(t,n[e])&&Gx(Vx(n[e],t),n))return[n[e],t];for(e=0;e<n.length-1;++e)for(r=e+1;r<n.length;++r)if(Hx(Vx(n[e],n[r]),t)&&Hx(Vx(n[e],t),n[r])&&Hx(Vx(n[r],t),n[e])&&Gx(Jx(n[e],n[r],t),n))return[n[e],n[r],t];throw new Error}function Hx(n,t){var e=n.r-t.r,r=t.x-n.x,i=t.y-n.y;return e<0||e*e<r*r+i*i}function Wx(n,t){var e=n.r-t.r+1e-6,r=t.x-n.x,i=t.y-n.y;return e>0&&e*e>r*r+i*i}function Gx(n,t){for(var e=0;e<t.length;++e)if(!Wx(n,t[e]))return!1;return!0}function Yx(n){switch(n.length){case 1:return{x:(t=n[0]).x,y:t.y,r:t.r};case 2:return Vx(n[0],n[1]);case 3:return Jx(n[0],n[1],n[2])}var t}function Vx(n,t){var e=n.x,r=n.y,i=n.r,l=t.x,u=t.y,a=t.r,o=l-e,s=u-r,c=a-i,f=Math.sqrt(o*o+s*s);return{x:(e+l+o/f*c)/2,y:(r+u+s/f*c)/2,r:(f+i+a)/2}}function Jx(n,t,e){var r=n.x,i=n.y,l=n.r,u=t.x,a=t.y,o=t.r,s=e.x,c=e.y,f=e.r,h=r-u,d=r-s,p=i-a,g=i-c,m=o-l,v=f-l,w=r*r+i*i-l*l,y=w-u*u-a*a+o*o,b=w-s*s-c*c+f*f,x=d*p-h*g,_=(p*b-g*y)/(2*x)-r,k=(g*m-p*v)/x,j=(d*y-h*b)/(2*x)-i,O=(h*v-d*m)/x,A=k*k+O*O-1,E=2*(l+_*k+j*O),S=_*_+j*j-l*l,C=-(A?(E+Math.sqrt(E*E-4*A*S))/(2*A):S/E);return{x:r+_+k*C,y:i+j+O*C,r:C}}function Xx(n,t,e){var r,i,l,u,a=n.x-t.x,o=n.y-t.y,s=a*a+o*o;s?(i=t.r+e.r,i*=i,u=n.r+e.r,i>(u*=u)?(r=(s+u-i)/(2*s),l=Math.sqrt(Math.max(0,u/s-r*r)),e.x=n.x-r*a-l*o,e.y=n.y-r*o+l*a):(r=(s+i-u)/(2*s),l=Math.sqrt(Math.max(0,i/s-r*r)),e.x=t.x+r*a-l*o,e.y=t.y+r*o+l*a)):(e.x=t.x+e.r,e.y=t.y)}function Kx(n,t){var e=n.r+t.r-1e-6,r=t.x-n.x,i=t.y-n.y;return e>0&&e*e>r*r+i*i}function Zx(n){var t=n._,e=n.next._,r=t.r+e.r,i=(t.x*e.r+e.x*t.r)/r,l=(t.y*e.r+e.y*t.r)/r;return i*i+l*l}function Qx(n){this._=n,this.next=null,this.previous=null}function n_(n){if("function"!=typeof n)throw new Error;return n}function t_(){return 0}function e_(n){return function(){return n}}function r_(n){return Math.sqrt(n.value)}function i_(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function l_(n,t){return function(e){if(r=e.children){var r,i,l,u=r.length,a=n(e)*t||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(l=function(n){if(!(i=n.length))return 0;var t,e,r,i,l,u,a,o,s,c,f;if((t=n[0]).x=0,t.y=0,!(i>1))return t.r;if(e=n[1],t.x=-e.r,e.x=t.r,e.y=0,!(i>2))return t.r+e.r;Xx(e,t,r=n[2]),t=new Qx(t),e=new Qx(e),r=new Qx(r),t.next=r.previous=e,e.next=t.previous=r,r.next=e.previous=t;n:for(a=3;a<i;++a){Xx(t._,e._,r=n[a]),r=new Qx(r),o=e.next,s=t.previous,c=e._.r,f=t._.r;do{if(c<=f){if(Kx(o._,r._)){e=o,t.next=e,e.previous=t,--a;continue n}c+=o._.r,o=o.next}else{if(Kx(s._,r._)){(t=s).next=e,e.previous=t,--a;continue n}f+=s._.r,s=s.previous}}while(o!==s.next);for(r.previous=t,r.next=e,t.next=e.previous=e=r,l=Zx(t);(r=r.next)!==e;)(u=Zx(r))<l&&(t=r,l=u);e=t.next}for(t=[e._],r=e;(r=r.next)!==e;)t.push(r._);for(r=function(n){for(var t,e,r=0,i=(n=function(n){for(var t,e,r=n.length;r;)e=Math.random()*r--|0,t=n[r],n[r]=n[e],n[e]=t;return n}(Ux.call(n))).length,l=[];r<i;)t=n[r],e&&Wx(e,t)?++r:(e=Yx(l=qx(l,t)),r=0);return e}(t),a=0;a<i;++a)(t=n[a]).x-=r.x,t.y-=r.y;return r.r}(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=l+a}}}function u_(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function a_(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function o_(n,t,e,r,i){for(var l,u=n.children,a=-1,o=u.length,s=n.value&&(r-t)/n.value;++a<o;)(l=u[a]).y0=e,l.y1=i,l.x0=t,l.x1=t+=l.value*s}var s_={depth:-1},c_={};function f_(n){return n.id}function h_(n){return n.parentId}function d_(){var n=f_,t=h_;function e(e){var r,i,l,u,a,o,s,c=e.length,f=new Array(c),h={};for(i=0;i<c;++i)r=e[i],a=f[i]=new Lx(r),null!=(o=n(r,i,e))&&(o+="")&&(h[s="$"+(a.id=o)]=s in h?c_:a);for(i=0;i<c;++i)if(a=f[i],null!=(o=t(e[i],i,e))&&(o+="")){if(!(u=h["$"+o]))throw new Error("missing: "+o);if(u===c_)throw new Error("ambiguous: "+o);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(l)throw new Error("multiple roots");l=a}if(!l)throw new Error("no root");if(l.parent=s_,l.eachBefore((function(n){n.depth=n.parent.depth+1,--c})).eachBefore(Ix),l.parent=null,c>0)throw new Error("cycle");return l}return e.id=function(t){return arguments.length?(n=n_(t),e):n},e.parentId=function(n){return arguments.length?(t=n_(n),e):t},e}function p_(n,t){return n.parent===t.parent?1:2}function g_(n){var t=n.children;return t?t[0]:n.t}function m_(n){var t=n.children;return t?t[t.length-1]:n.t}function v_(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function w_(n,t,e){return n.a.parent===t.parent?n.a:e}function y_(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function b_(n,t,e,r,i){for(var l,u=n.children,a=-1,o=u.length,s=n.value&&(i-e)/n.value;++a<o;)(l=u[a]).x0=t,l.x1=r,l.y0=e,l.y1=e+=l.value*s}y_.prototype=Object.create(Lx.prototype);var x_=(1+Math.sqrt(5))/2;function __(n,t,e,r,i,l){for(var u,a,o,s,c,f,h,d,p,g,m,v=[],w=t.children,y=0,b=0,x=w.length,_=t.value;y<x;){o=i-e,s=l-r;do{c=w[b++].value}while(!c&&b<x);for(f=h=c,m=c*c*(g=Math.max(s/o,o/s)/(_*n)),p=Math.max(h/m,m/f);b<x;++b){if(c+=a=w[b].value,a<f&&(f=a),a>h&&(h=a),m=c*c*g,(d=Math.max(h/m,m/f))>p){c-=a;break}p=d}v.push(u={value:c,dice:o<s,children:w.slice(y,b)}),u.dice?o_(u,e,r,i,_?r+=s*c/_:l):b_(u,e,r,_?e+=o*c/_:i,l),_-=c,y=b}return v}var k_=function n(t){function e(n,e,r,i,l){__(t,n,e,r,i,l)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(x_),j_=function n(t){function e(n,e,r,i,l){if((u=n._squarify)&&u.ratio===t)for(var u,a,o,s,c,f=-1,h=u.length,d=n.value;++f<h;){for(o=(a=u[f]).children,s=a.value=0,c=o.length;s<c;++s)a.value+=o[s].value;a.dice?o_(a,e,r,i,r+=(l-r)*a.value/d):b_(a,e,r,e+=(i-e)*a.value/d,l),d-=a.value}else n._squarify=u=__(t,n,e,r,i,l),u.ratio=t}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(x_);function O_(n){Tr.call(this,null,n)}function A_(n){return n.values}function E_(){var n,t=[];return n={entries:function(n){return function n(e,r){if(++r>t.length)return e;var i,l=[];for(i in e)l.push({key:i,values:n(e[i],r)});return l}(function n(e,r){if(r>=t.length)return e;for(var i,l,u,a=-1,o=e.length,s=t[r++],c={},f={};++a<o;)(u=c[i=s(l=e[a])+""])?u.push(l):c[i]=[l];for(i in c)f[i]=n(c[i],r);return f}(n,0),0)},key:function(e){return t.push(e),n}}}function S_(n){Tr.call(this,null,n)}function C_(n,t){return n.parent===t.parent?1:2}O_.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Z(O_,Tr).transform=function(n,t){t.source||l("Nest transform requires an upstream data source.");var e=n.generate,r=n.modified(),i=t.clone(),u=this.value;return(!u||r||t.changed())&&(u&&u.each((function(n){n.children&&_n(n.data)&&i.rem.push(n.data)})),this.value=u=Px({values:I(n.keys).reduce((function(n,t){return n.key(t),n}),E_()).entries(i.source)},A_),e&&u.each((function(n){n.children&&(n=On(n.data),i.add.push(n),i.source.push(n))})),Fx(u,kn,kn)),i.source.root=u,i},Z(S_,Tr).transform=function(n,t){t.source&&t.source.root||l(this.constructor.name+" transform requires a backing tree data source.");var e=this.layout(n.method),r=this.fields,i=t.source.root,u=n.as||r;n.field&&i.sum(n.field),n.sort&&i.sort(n.sort),function(n,t,e){for(var r,i=0,l=t.length;i<l;++i)(r=t[i])in e&&n[r](e[r])}(e,this.params,n),e.separation&&e.separation(!1!==n.separation?C_:m);try{this.value=e(i)}catch(n){l(n)}return i.each((function(n){!function(n,t,e){for(var r=n.data,i=0,l=t.length-1;i<l;++i)r[e[i]]=n[t[i]];r[e[l]]=n.children?n.children.length:0}(n,r,u)})),t.reflow(n.modified()).modifies(u).modifies("leaf")};var D_=["x","y","r","depth","children"];function M_(n){S_.call(this,n)}M_.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D_.length,default:D_}]};var F_=Z(M_,S_);F_.layout=function(){var n=null,t=1,e=1,r=t_;function i(i){return i.x=t/2,i.y=e/2,n?i.eachBefore(i_(n)).eachAfter(l_(r,.5)).eachBefore(u_(1)):i.eachBefore(i_(r_)).eachAfter(l_(t_,1)).eachAfter(l_(r,i.r/Math.min(t,e))).eachBefore(u_(Math.min(t,e)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(n=null==(e=t)?null:n_(e),i):n;var e},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(n){return arguments.length?(r="function"==typeof n?n:e_(+n),i):r},i},F_.params=["size","padding"],F_.fields=D_;var T_=["x0","y0","x1","y1","depth","children"];function N_(n){S_.call(this,n)}N_.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:T_.length,default:T_}]};var B_=Z(N_,S_);function z_(n){Tr.call(this,null,n)}B_.layout=function(){var n=1,t=1,e=0,r=!1;function i(i){var l=i.height+1;return i.x0=i.y0=e,i.x1=n,i.y1=t/l,i.eachBefore(function(n,t){return function(r){r.children&&o_(r,r.x0,n*(r.depth+1)/t,r.x1,n*(r.depth+2)/t);var i=r.x0,l=r.y0,u=r.x1-e,a=r.y1-e;u<i&&(i=u=(i+u)/2),a<l&&(l=a=(l+a)/2),r.x0=i,r.y0=l,r.x1=u,r.y1=a}}(t,l)),r&&i.eachBefore(a_),i}return i.round=function(n){return arguments.length?(r=!!n,i):r},i.size=function(e){return arguments.length?(n=+e[0],t=+e[1],i):[n,t]},i.padding=function(n){return arguments.length?(e=+n,i):e},i},B_.params=["size","round","padding"],B_.fields=T_,z_.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Z(z_,Tr).transform=function(n,t){t.source||l("Stratify transform requires an upstream data source.");var e=this.value,r=n.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),u=!this.value||r||t.changed(t.ADD_REM)||t.modified(n.key.fields)||t.modified(n.parentKey.fields);return i.source=i.source.slice(),u&&(e=i.source.length?Fx(d_().id(n.key).parentId(n.parentKey)(i.source),n.key,v):Fx(d_()([{}]),n.key,n.key)),i.source.root=this.value=e,i};var P_={tidy:function(){var n=p_,t=1,e=1,r=null;function i(i){var o=function(n){for(var t,e,r,i,l,u=new y_(n,0),a=[u];t=a.pop();)if(r=t._.children)for(t.children=new Array(l=r.length),i=l-1;i>=0;--i)a.push(e=t.children[i]=new y_(r[i],i)),e.parent=t;return(u.parent=new y_(null,0)).children=[u],u}(i);if(o.eachAfter(l),o.parent.m=-o.z,o.eachBefore(u),r)i.eachBefore(a);else{var s=i,c=i,f=i;i.eachBefore((function(n){n.x<s.x&&(s=n),n.x>c.x&&(c=n),n.depth>f.depth&&(f=n)}));var h=s===c?1:n(s,c)/2,d=h-s.x,p=t/(c.x+h+d),g=e/(f.depth||1);i.eachBefore((function(n){n.x=(n.x+d)*p,n.y=n.depth*g}))}return i}function l(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e){!function(n){for(var t,e=0,r=0,i=n.children,l=i.length;--l>=0;)(t=i[l]).z+=e,t.m+=e,e+=t.s+(r+=t.c)}(t);var l=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-l):t.z=l}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,l=t,u=t,a=e,o=l.parent.children[0],s=l.m,c=u.m,f=a.m,h=o.m;a=m_(a),l=g_(l),a&&l;)o=g_(o),(u=m_(u)).a=t,(i=a.z+f-l.z-s+n(a._,l._))>0&&(v_(w_(a,t,r),t,i),s+=i,c+=i),f+=a.m,s+=l.m,h+=o.m,c+=u.m;a&&!m_(u)&&(u.t=a,u.m+=f-c),l&&!g_(o)&&(o.t=l,o.m+=s-h,r=t)}return r}(t,i,t.parent.A||r[0])}function u(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function a(n){n.x*=t,n.y=n.depth*e}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],i):r?null:[t,e]},i.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],i):r?[t,e]:null},i},cluster:function(){var n=Tx,t=1,e=1,r=!1;function i(i){var l,u=0;i.eachAfter((function(t){var e=t.children;e?(t.x=function(n){return n.reduce(Nx,0)/n.length}(e),t.y=function(n){return 1+n.reduce(Bx,0)}(e)):(t.x=l?u+=n(t,l):0,t.y=0,l=t)}));var a=function(n){for(var t;t=n.children;)n=t[0];return n}(i),o=function(n){for(var t;t=n.children;)n=t[t.length-1];return n}(i),s=a.x-n(a,o)/2,c=o.x+n(o,a)/2;return i.eachAfter(r?function(n){n.x=(n.x-i.x)*t,n.y=(i.y-n.y)*e}:function(n){n.x=(n.x-s)/(c-s)*t,n.y=(1-(i.y?n.y/i.y:1))*e})}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],i):r?null:[t,e]},i.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],i):r?[t,e]:null},i}},$_=["x","y","depth","children"];function R_(n){S_.call(this,n)}R_.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:$_.length,default:$_}]};var I_=Z(R_,S_);function L_(n){Tr.call(this,[],n)}I_.layout=function(n){var t=n||"tidy";if(P_.hasOwnProperty(t))return P_[t]();l("Unrecognized Tree layout method: "+t)},I_.params=["size","nodeSize"],I_.fields=$_,L_.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Z(L_,Tr).transform=function(n,t){var e=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),u={};return r||l("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=e,t.visit(t.SOURCE,(function(n){u[kn(n)]=1})),r.each((function(n){var t=n.data,e=n.parent&&n.parent.data;e&&u[kn(t)]&&u[kn(e)]&&i.add.push(On({source:e,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(n){u[kn(n)]=1})),e.forEach((function(n){(u[kn(n.source)]||u[kn(n.target)])&&i.mod.push(n)}))),i};var U_={binary:function(n,t,e,r,i){var l,u,a=n.children,o=a.length,s=new Array(o+1);for(s[0]=u=l=0;l<o;++l)s[l+1]=u+=a[l].value;!function n(t,e,r,i,l,u,o){if(t>=e-1){var c=a[t];return c.x0=i,c.y0=l,c.x1=u,void(c.y1=o)}for(var f=s[t],h=r/2+f,d=t+1,p=e-1;d<p;){var g=d+p>>>1;s[g]<h?d=g+1:p=g}h-s[d-1]<s[d]-h&&t+1<d&&--d;var m=s[d]-f,v=r-m;if(u-i>o-l){var w=(i*v+u*m)/r;n(t,d,m,i,l,w,o),n(d,e,v,w,l,u,o)}else{var y=(l*v+o*m)/r;n(t,d,m,i,l,u,y),n(d,e,v,i,y,u,o)}}(0,o,n.value,t,e,r,i)},dice:o_,slice:b_,slicedice:function(n,t,e,r,i){(1&n.depth?b_:o_)(n,t,e,r,i)},squarify:k_,resquarify:j_},q_=["x0","y0","x1","y1","depth","children"];function H_(n){S_.call(this,n)}H_.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:q_.length,default:q_}]};var W_=Z(H_,S_);W_.layout=function(){var n=function(){var n=k_,t=!1,e=1,r=1,i=[0],l=t_,u=t_,a=t_,o=t_,s=t_;function c(n){return n.x0=n.y0=0,n.x1=e,n.y1=r,n.eachBefore(f),i=[0],t&&n.eachBefore(a_),n}function f(t){var e=i[t.depth],r=t.x0+e,c=t.y0+e,f=t.x1-e,h=t.y1-e;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=h,t.children&&(e=i[t.depth+1]=l(t)/2,r+=s(t)-e,c+=u(t)-e,(f-=a(t)-e)<r&&(r=f=(r+f)/2),(h-=o(t)-e)<c&&(c=h=(c+h)/2),n(t,r,c,f,h))}return c.round=function(n){return arguments.length?(t=!!n,c):t},c.size=function(n){return arguments.length?(e=+n[0],r=+n[1],c):[e,r]},c.tile=function(t){return arguments.length?(n=n_(t),c):n},c.padding=function(n){return arguments.length?c.paddingInner(n).paddingOuter(n):c.paddingInner()},c.paddingInner=function(n){return arguments.length?(l="function"==typeof n?n:e_(+n),c):l},c.paddingOuter=function(n){return arguments.length?c.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):c.paddingTop()},c.paddingTop=function(n){return arguments.length?(u="function"==typeof n?n:e_(+n),c):u},c.paddingRight=function(n){return arguments.length?(a="function"==typeof n?n:e_(+n),c):a},c.paddingBottom=function(n){return arguments.length?(o="function"==typeof n?n:e_(+n),c):o},c.paddingLeft=function(n){return arguments.length?(s="function"==typeof n?n:e_(+n),c):s},c}();return n.ratio=function(t){var e=n.tile();e.ratio&&n.tile(e.ratio(t))},n.method=function(t){U_.hasOwnProperty(t)?n.tile(U_[t]):l("Unrecognized Treemap layout method: "+t)},n},W_.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],W_.fields=q_;var G_=Object.freeze({nest:O_,pack:M_,partition:N_,stratify:z_,tree:R_,treelinks:L_,treemap:H_});function Y_(n,t){var e,r,i,l,u,a,o=[],s=function(n){return n(l)};if(null==t)o.push(n);else for(e={},r=0,i=n.length;r<i;++r)l=n[r],(a=e[u=t.map(s)])||(e[u]=a=[],a.dims=u,o.push(a)),a.push(l);return o}function V_(n){Tr.call(this,null,n)}V_.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Z(V_,Tr).transform=function(n,t){var r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){const i=Y_(t.materialize(t.SOURCE).source,n.groupby),l=(n.groupby||[]).map(e),u=l.length,a=n.as||[e(n.x),e(n.y)],o=[];i.forEach(t=>{Ei(t,n.x,n.y,n.bandwidth||.3).forEach(n=>{const e={};for(let n=0;n<u;++n)e[l[n]]=t.dims[n];e[a[0]]=n[0],e[a[1]]=n[1],o.push(On(e))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=o}return r};const J_={linear:xi,log:_i,exp:ki,pow:ji,quad:Oi,poly:Ai};function X_(n){Tr.call(this,null,n)}X_.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(J_)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Z(X_,Tr).transform=function(n,t){var r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){const i=Y_(t.materialize(t.SOURCE).source,n.groupby),u=(n.groupby||[]).map(e),a=n.method||"linear",o=n.order||3,s=function(n,t){return"poly"===n?t:"quad"===n?2:1}(a,o),c=n.as||[e(n.x),e(n.y)],f=J_[a],h=[];let d=n.extent;J_.hasOwnProperty(a)||l("Invalid regression method: "+a),null!=d&&"log"===a&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(e=>{if(e.length<=s)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const r=f(e,n.x,n.y,o);if(n.params)return void h.push(On({keys:e.dims,coef:r.coef,rSquared:r.rSquared}));const i=d||Y(e,n.x),l=n=>{const t={};for(let n=0;n<u.length;++n)t[u[n]]=e.dims[n];t[c[0]]=n[0],t[c[1]]=n[1],h.push(On(t))};"linear"===a?i.forEach(n=>l([n,r.predict(n)])):Mi(r.predict,i,25,200).forEach(l)}),this.value&&(r.rem=this.value),this.value=r.add=r.source=h}return r};var K_=Object.freeze({loess:V_,regression:X_});function Z_(n){return function(){return n}}function Q_(n){return n[0]}function nk(n){return n[1]}function tk(){this._=null}function ek(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function rk(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ik(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function lk(n){for(;n.L;)n=n.L;return n}function uk(n,t,e,r){var i=[null,null],l=Dk.push(i)-1;return i.left=n,i.right=t,e&&ok(i,n,t,e),r&&ok(i,t,n,r),Sk[n.index].halfedges.push(l),Sk[t.index].halfedges.push(l),i}function ak(n,t,e){var r=[t,e];return r.left=n,r}function ok(n,t,e,r){n[0]||n[1]?n.left===e?n[1]=r:n[0]=r:(n[0]=r,n.left=t,n.right=e)}function sk(n,t,e,r,i){var l,u=n[0],a=n[1],o=u[0],s=u[1],c=0,f=1,h=a[0]-o,d=a[1]-s;if(l=t-o,h||!(l>0)){if(l/=h,h<0){if(l<c)return;l<f&&(f=l)}else if(h>0){if(l>f)return;l>c&&(c=l)}if(l=r-o,h||!(l<0)){if(l/=h,h<0){if(l>f)return;l>c&&(c=l)}else if(h>0){if(l<c)return;l<f&&(f=l)}if(l=e-s,d||!(l>0)){if(l/=d,d<0){if(l<c)return;l<f&&(f=l)}else if(d>0){if(l>f)return;l>c&&(c=l)}if(l=i-s,d||!(l<0)){if(l/=d,d<0){if(l>f)return;l>c&&(c=l)}else if(d>0){if(l<c)return;l<f&&(f=l)}return!(c>0||f<1)||(c>0&&(n[0]=[o+c*h,s+c*d]),f<1&&(n[1]=[o+f*h,s+f*d]),!0)}}}}}function ck(n,t,e,r,i){var l=n[1];if(l)return!0;var u,a,o=n[0],s=n.left,c=n.right,f=s[0],h=s[1],d=c[0],p=c[1],g=(f+d)/2,m=(h+p)/2;if(p===h){if(g<t||g>=r)return;if(f>d){if(o){if(o[1]>=i)return}else o=[g,e];l=[g,i]}else{if(o){if(o[1]<e)return}else o=[g,i];l=[g,e]}}else if(a=m-(u=(f-d)/(p-h))*g,u<-1||u>1)if(f>d){if(o){if(o[1]>=i)return}else o=[(e-a)/u,e];l=[(i-a)/u,i]}else{if(o){if(o[1]<e)return}else o=[(i-a)/u,i];l=[(e-a)/u,e]}else if(h<p){if(o){if(o[0]>=r)return}else o=[t,u*t+a];l=[r,u*r+a]}else{if(o){if(o[0]<t)return}else o=[r,u*r+a];l=[t,u*t+a]}return n[0]=o,n[1]=l,!0}function fk(n,t){var e=n.site,r=t.left,i=t.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function hk(n,t){return t[+(t.left!==n.site)]}function dk(n,t){return t[+(t.left===n.site)]}tk.prototype={constructor:tk,insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=lk(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(rk(this,e),e=(n=e).U),e.C=!1,r.C=!0,ik(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(ik(this,e),e=(n=e).U),e.C=!1,r.C=!0,rk(this,r)),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,l=n.L,u=n.R;if(e=l?u?lk(u):l:u,i?i.L===n?i.L=e:i.R=e:this._=e,l&&u?(r=e.C,e.C=n.C,e.L=l,l.U=e,e!==u?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=u,u.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,rk(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ik(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,rk(this,i),n=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,ik(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,rk(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ik(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}};var pk,gk=[];function mk(){ek(this),this.x=this.y=this.arc=this.site=this.cy=null}function vk(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,l=e.site;if(r!==l){var u=i[0],a=i[1],o=r[0]-u,s=r[1]-a,c=l[0]-u,f=l[1]-a,h=2*(o*f-s*c);if(!(h>=-Fk)){var d=o*o+s*s,p=c*c+f*f,g=(f*d-s*p)/h,m=(o*p-c*d)/h,v=gk.pop()||new mk;v.arc=n,v.site=i,v.x=g+u,v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m),n.circle=v;for(var w=null,y=Ck._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){w=y.P;break}y=y.L}else{if(!y.R){w=y;break}y=y.R}Ck.insert(w,v),w||(pk=v)}}}}function wk(n){var t=n.circle;t&&(t.P||(pk=t.N),Ck.remove(t),gk.push(t),ek(t),n.circle=null)}var yk=[];function bk(){ek(this),this.edge=this.site=this.circle=null}function xk(n){var t=yk.pop()||new bk;return t.site=n,t}function _k(n){wk(n),Ek.remove(n),yk.push(n),ek(n)}function kk(n){var t=n.circle,e=t.x,r=t.cy,i=[e,r],l=n.P,u=n.N,a=[n];_k(n);for(var o=l;o.circle&&Math.abs(e-o.circle.x)<Mk&&Math.abs(r-o.circle.cy)<Mk;)l=o.P,a.unshift(o),_k(o),o=l;a.unshift(o),wk(o);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<Mk&&Math.abs(r-s.circle.cy)<Mk;)u=s.N,a.push(s),_k(s),s=u;a.push(s),wk(s);var c,f=a.length;for(c=1;c<f;++c)s=a[c],o=a[c-1],ok(s.edge,o.site,s.site,i);o=a[0],(s=a[f-1]).edge=uk(o.site,s.site,null,i),vk(o),vk(s)}function jk(n){for(var t,e,r,i,l=n[0],u=n[1],a=Ek._;a;)if((r=Ok(a,u)-l)>Mk)a=a.L;else{if(!((i=l-Ak(a,u))>Mk)){r>-Mk?(t=a.P,e=a):i>-Mk?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}!function(n){Sk[n.index]={site:n,halfedges:[]}}(n);var o=xk(n);if(Ek.insert(t,o),t||e){if(t===e)return wk(t),e=xk(t.site),Ek.insert(o,e),o.edge=e.edge=uk(t.site,o.site),vk(t),void vk(e);if(e){wk(t),wk(e);var s=t.site,c=s[0],f=s[1],h=n[0]-c,d=n[1]-f,p=e.site,g=p[0]-c,m=p[1]-f,v=2*(h*m-d*g),w=h*h+d*d,y=g*g+m*m,b=[(m*w-d*y)/v+c,(h*y-g*w)/v+f];ok(e.edge,s,p,b),o.edge=uk(s,n,null,b),e.edge=uk(n,p,null,b),vk(t),vk(e)}else o.edge=uk(t.site,o.site)}}function Ok(n,t){var e=n.site,r=e[0],i=e[1],l=i-t;if(!l)return r;var u=n.P;if(!u)return-1/0;var a=(e=u.site)[0],o=e[1],s=o-t;if(!s)return a;var c=a-r,f=1/l-1/s,h=c/s;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*s)-o+s/2+i-l/2)))/f+r:(r+a)/2}function Ak(n,t){var e=n.N;if(e)return Ok(e,t);var r=n.site;return r[1]===t?r[0]:1/0}var Ek,Sk,Ck,Dk,Mk=1e-6,Fk=1e-12;function Tk(n,t){return t[1]-n[1]||t[0]-n[0]}function Nk(n,t){var e,r,i,l=n.sort(Tk).pop();for(Dk=[],Sk=new Array(n.length),Ek=new tk,Ck=new tk;;)if(i=pk,l&&(!i||l[1]<i.y||l[1]===i.y&&l[0]<i.x))l[0]===e&&l[1]===r||(jk(l),e=l[0],r=l[1]),l=n.pop();else{if(!i)break;kk(i.arc)}if(function(){for(var n,t,e,r,i=0,l=Sk.length;i<l;++i)if((n=Sk[i])&&(r=(t=n.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=fk(n,Dk[t[e]]);for(u.sort((function(n,t){return a[t]-a[n]})),e=0;e<r;++e)a[e]=t[u[e]];for(e=0;e<r;++e)t[e]=a[e]}}(),t){var u=+t[0][0],a=+t[0][1],o=+t[1][0],s=+t[1][1];!function(n,t,e,r){for(var i,l=Dk.length;l--;)ck(i=Dk[l],n,t,e,r)&&sk(i,n,t,e,r)&&(Math.abs(i[0][0]-i[1][0])>Mk||Math.abs(i[0][1]-i[1][1])>Mk)||delete Dk[l]}(u,a,o,s),function(n,t,e,r){var i,l,u,a,o,s,c,f,h,d,p,g,m=Sk.length,v=!0;for(i=0;i<m;++i)if(l=Sk[i]){for(u=l.site,a=(o=l.halfedges).length;a--;)Dk[o[a]]||o.splice(a,1);for(a=0,s=o.length;a<s;)p=(d=dk(l,Dk[o[a]]))[0],g=d[1],f=(c=hk(l,Dk[o[++a%s]]))[0],h=c[1],(Math.abs(p-f)>Mk||Math.abs(g-h)>Mk)&&(o.splice(a,0,Dk.push(ak(u,d,Math.abs(p-n)<Mk&&r-g>Mk?[n,Math.abs(f-n)<Mk?h:r]:Math.abs(g-r)<Mk&&e-p>Mk?[Math.abs(h-r)<Mk?f:e,r]:Math.abs(p-e)<Mk&&g-t>Mk?[e,Math.abs(f-e)<Mk?h:t]:Math.abs(g-t)<Mk&&p-n>Mk?[Math.abs(h-t)<Mk?f:n,t]:null))-1),++s);s&&(v=!1)}if(v){var w,y,b,x=1/0;for(i=0,v=null;i<m;++i)(l=Sk[i])&&(b=(w=(u=l.site)[0]-n)*w+(y=u[1]-t)*y)<x&&(x=b,v=l);if(v){var _=[n,t],k=[n,r],j=[e,r],O=[e,t];v.halfedges.push(Dk.push(ak(u=v.site,_,k))-1,Dk.push(ak(u,k,j))-1,Dk.push(ak(u,j,O))-1,Dk.push(ak(u,O,_))-1)}}for(i=0;i<m;++i)(l=Sk[i])&&(l.halfedges.length||delete Sk[i])}(u,a,o,s)}this.edges=Dk,this.cells=Sk,Ek=Ck=Dk=Sk=null}function Bk(n){Tr.call(this,null,n)}Nk.prototype={constructor:Nk,polygons:function(){var n=this.edges;return this.cells.map((function(t){var e=t.halfedges.map((function(e){return hk(t,n[e])}));return e.data=t.site.data,e}))},triangles:function(){var n=[],t=this.edges;return this.cells.forEach((function(e,r){if(l=(i=e.halfedges).length)for(var i,l,u,a,o,s,c=e.site,f=-1,h=t[i[l-1]],d=h.left===c?h.right:h.left;++f<l;)u=d,d=(h=t[i[f]]).left===c?h.right:h.left,u&&d&&r<u.index&&r<d.index&&(o=u,s=d,((a=c)[0]-s[0])*(o[1]-a[1])-(a[0]-o[0])*(s[1]-a[1])<0)&&n.push([c.data,u.data,d.data])})),n},links:function(){return this.edges.filter((function(n){return n.right})).map((function(n){return{source:n.left.data,target:n.right.data}}))},find:function(n,t,e){for(var r,i,l=this,u=l._found||0,a=l.cells.length;!(i=l.cells[u]);)if(++u>=a)return null;var o=n-i.site[0],s=t-i.site[1],c=o*o+s*s;do{i=l.cells[r=u],u=null,i.halfedges.forEach((function(e){var r=l.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var o=n-a[0],s=t-a[1],f=o*o+s*s;f<c&&(c=f,u=a.index)}}))}while(null!==u);return l._found=r,null==e||c<=e*e?i.site:null}},Bk.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var zk=Z(Bk,Tr),Pk=[[-1e5,-1e5],[1e5,1e5]];zk.transform=function(n,t){var e,r,i,l,u=n.as||"path",a=t.source;for(e=function(){var n=Q_,t=nk,e=null;function r(r){return new Nk(r.map((function(e,i){var l=[Math.round(n(e,i,r)/Mk)*Mk,Math.round(t(e,i,r)/Mk)*Mk];return l.index=i,l.data=e,l})),e)}return r.polygons=function(n){return r(n).polygons()},r.links=function(n){return r(n).links()},r.triangles=function(n){return r(n).triangles()},r.x=function(t){return arguments.length?(n="function"==typeof t?t:Z_(+t),r):n},r.y=function(n){return arguments.length?(t="function"==typeof n?n:Z_(+n),r):t},r.extent=function(n){return arguments.length?(e=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(n){return arguments.length?(e=null==n?null:[[0,0],[+n[0],+n[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}().x(n.x).y(n.y),n.size?e.size(n.size):e.extent(n.extent||Pk),this.value=e=e(a),r=e.polygons(),i=0,l=a.length;i<l;++i)a[i][u]=r[i]?"M"+r[i].join("L")+"Z":null;return t.reflow(n.modified()).modifies(u)};var $k=Object.freeze({voronoi:Bk}),Rk=Math.PI/180;function Ik(n,t,e,r){if(!t.sprite){var i=n.context,l=n.ratio;i.clearRect(0,0,2048/l,2048/l);var u,a,o,s,c,f=0,h=0,d=0,p=e.length;for(--r;++r<p;){if(t=e[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/l)+"px "+t.font,u=i.measureText(t.text+"m").width*l,o=t.size<<1,t.rotate){var g=Math.sin(t.rotate*Rk),m=Math.cos(t.rotate*Rk),v=u*m,w=u*g,y=o*m,b=o*g;u=Math.max(Math.abs(v+b),Math.abs(v-b))+31>>5<<5,o=~~Math.max(Math.abs(w+y),Math.abs(w-y))}else u=u+31>>5<<5;if(o>d&&(d=o),f+u>=2048&&(f=0,h+=d,d=0),h+o>=2048)break;i.translate((f+(u>>1))/l,(h+(o>>1))/l),t.rotate&&i.rotate(t.rotate*Rk),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=o,t.xoff=f,t.yoff=h,t.x1=u>>1,t.y1=o>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=u}for(var x=i.getImageData(0,0,2048/l,2048/l).data,_=[];--r>=0;)if((t=e[r]).hasText){for(a=(u=t.width)>>5,o=t.y1-t.y0,s=0;s<o*a;s++)_[s]=0;if(null==(f=t.xoff))return;h=t.yoff;var k=0,j=-1;for(c=0;c<o;c++){for(s=0;s<u;s++){var O=a*c+(s>>5),A=x[2048*(h+c)+(f+s)<<2]?1<<31-s%32:0;_[O]|=A,k|=A}k?j=c:(t.y0++,o--,c--,h++)}t.y1=t.y0+j,t.sprite=_.slice(0,(t.y1-t.y0)*a)}}}function Lk(n,t,e){e>>=5;for(var r,i=n.sprite,l=n.width>>5,u=n.x-(l<<4),a=127&u,o=32-a,s=n.y1-n.y0,c=(n.y+n.y0)*e+(u>>5),f=0;f<s;f++){r=0;for(var h=0;h<=l;h++)if((r<<o|(h<l?(r=i[f*l+h])>>>a:0))&t[c+h])return!0;c+=e}return!1}function Uk(n,t){var e=n[0],r=n[1];t.x+t.x0<e.x&&(e.x=t.x+t.x0),t.y+t.y0<e.y&&(e.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function qk(n){var t=n[0]/n[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Hk(n){return"function"==typeof n?n:function(){return n}}var Wk={archimedean:qk,rectangular:function(n){var t=4*n[0]/n[1],e=0,r=0;return function(n){var i=n<0?-1:1;switch(Math.sqrt(1+4*i*n)-i&3){case 0:e+=t;break;case 1:r+=4;break;case 2:e-=t;break;default:r-=4}return[e,r]}}},Gk=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Yk=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Vk(n){Tr.call(this,function(){var n,t,e,r,i,l,u,a=[256,256],o=qk,s=[],c=Math.random,f={};function h(n,t,e){for(var r,i,l,u,s,f=t.x,h=t.y,d=Math.sqrt(a[0]*a[0]+a[1]*a[1]),p=o(a),g=c()<.5?1:-1,m=-g;(r=p(m+=g))&&(i=~~r[0],l=~~r[1],!(Math.min(Math.abs(i),Math.abs(l))>=d));)if(t.x=f+i,t.y=h+l,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>a[0]||t.y+t.y1>a[1]||e&&Lk(t,n,a[0])||e&&(s=e,!((u=t).x+u.x1>s[0].x&&u.x+u.x0<s[1].x&&u.y+u.y1>s[0].y&&u.y+u.y0<s[1].y)))){for(var v,w=t.sprite,y=t.width>>5,b=a[0]>>5,x=t.x-(y<<4),_=127&x,k=32-_,j=t.y1-t.y0,O=(t.y+t.y0)*b+(x>>5),A=0;A<j;A++){v=0;for(var E=0;E<=y;E++)n[O+E]|=v<<k|(E<y?(v=w[A*y+E])>>>_:0);O+=b}return t.sprite=null,!0}return!1}return f.layout=function(){for(var o=function(n){n.width=n.height=1;var t=Math.sqrt(n.getContext("2d").getImageData(0,0,1,1).data.length>>2);n.width=2048/t,n.height=2048/t;var e=n.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:t}}(Ou()),f=function(n){for(var t=[],e=-1;++e<n;)t[e]=0;return t}((a[0]>>5)*a[1]),d=null,p=s.length,g=-1,m=[],v=s.map((function(a){return{text:n(a),font:t(a),style:r(a),weight:i(a),rotate:l(a),size:~~e(a),padding:u(a),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:a}})).sort((function(n,t){return t.size-n.size}));++g<p;){var w=v[g];w.x=a[0]*(c()+.5)>>1,w.y=a[1]*(c()+.5)>>1,Ik(o,w,v,g),w.hasText&&h(f,w,d)&&(m.push(w),d?Uk(d,w):d=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=a[0]>>1,w.y-=a[1]>>1)}return m},f.words=function(n){return arguments.length?(s=n,f):s},f.size=function(n){return arguments.length?(a=[+n[0],+n[1]],f):a},f.font=function(n){return arguments.length?(t=Hk(n),f):t},f.fontStyle=function(n){return arguments.length?(r=Hk(n),f):r},f.fontWeight=function(n){return arguments.length?(i=Hk(n),f):i},f.rotate=function(n){return arguments.length?(l=Hk(n),f):l},f.text=function(t){return arguments.length?(n=Hk(t),f):n},f.spiral=function(n){return arguments.length?(o=Wk[n]||n,f):o},f.fontSize=function(n){return arguments.length?(e=Hk(n),f):e},f.padding=function(n){return arguments.length?(u=Hk(n),f):u},f.random=function(n){return arguments.length?(c=n,f):c},f}(),n)}Vk.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Gk}]},Z(Vk,Tr).transform=function(t,e){!t.size||t.size[0]&&t.size[1]||l("Wordcloud size dimensions must be non-zero.");var r=t.modified();if(r||e.changed(e.ADD_REM)||Yk.some((function(n){var r=t[n];return U(r)&&e.modified(r.fields)}))){var i,u=e.materialize(e.SOURCE).source,a=this.value,o=t.as||Gk,s=t.fontSize||14;if(U(s)?i=t.fontSizeRange:s=H(s),i){var c=s,f=rg("sqrt")().domain(function(n,t){for(var e,r=1/0,i=-1/0,l=0,u=t.length;l<u;++l)(e=n(t[l]))<r&&(r=e),e>i&&(i=e);return[r,i]}(c,u)).range(i);s=function(n){return f(c(n))}}u.forEach((function(n){n[o[0]]=NaN,n[o[1]]=NaN,n[o[3]]=0}));for(var h,d,p=a.words(u).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(s).random(n.random).layout(),g=a.size(),m=g[0]>>1,v=g[1]>>1,w=0,y=p.length;w<y;++w)(d=(h=p[w]).datum)[o[0]]=h.x+m,d[o[1]]=h.y+v,d[o[2]]=h.font,d[o[3]]=h.size,d[o[4]]=h.style,d[o[5]]=h.weight,d[o[6]]=h.rotate;return e.reflow(r).modifies(o)}};var Jk=Object.freeze({wordcloud:Vk});function Xk(n){return new Uint32Array(n)}function Kk(n,t,e){var r=(t<257?function(n){return new Uint8Array(n)}:t<65537?function(n){return new Uint16Array(n)}:Xk)(n);return e&&r.set(e),r}function Zk(n,t,e){var r=1<<t;return{one:r,zero:~r,range:e.slice(),bisect:n.bisect,index:n.index,size:n.size,onAdd:function(n,t){var e,i=this.bisect(this.range,n.value),l=n.index,u=i[0],a=i[1],o=l.length;for(e=0;e<u;++e)t[l[e]]|=r;for(e=a;e<o;++e)t[l[e]]|=r;return this}}}function Qk(){var n=Xk(0),t=[],e=0;return{insert:function(r,i,l){if(!i.length)return[];var u,a,o,s=e,c=i.length,f=Array(c),h=Xk(c);for(o=0;o<c;++o)f[o]=r(i[o]),h[o]=o;if(f=function(n,t){return n.sort.call(t,(function(t,e){var r=n[t],i=n[e];return r<i?-1:r>i?1:0})),function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r}(n,t)}(f,h),s)u=t,a=n,t=Array(s+c),n=Xk(s+c),function(n,t,e,r,i,l,u,a,o){var s,c=0,f=0;for(s=0;c<r&&f<u;++s)t[c]<i[f]?(a[s]=t[c],o[s]=e[c++]):(a[s]=i[f],o[s]=l[f++]+n);for(;c<r;++c,++s)a[s]=t[c],o[s]=e[c];for(;f<u;++f,++s)a[s]=i[f],o[s]=l[f]+n}(l,u,a,s,f,h,c,t,n);else{if(l>0)for(o=0;o<c;++o)h[o]+=l;t=f,n=h}return e=s+c,{index:h,value:f}},remove:function(r,i){var l,u,a,o=e;for(u=0;!i[n[u]]&&u<o;++u);for(a=u;u<o;++u)i[l=n[u]]||(n[a]=l,t[a]=t[u],++a);e=o-r},bisect:function(n,r){var i;return r?i=r.length:(r=t,i=e),[Zr(r,n[0],0,i),Kr(r,n[1],0,i)]},reindex:function(t){for(var r=0,i=e;r<i;++r)n[r]=t[n[r]]},index:function(){return n},size:function(){return e}}}function nj(n){var t,e,r,i,l;Tr.call(this,(t=8,e=[],r=Xk(0),i=Kk(0,t),l=Kk(0,t),{data:function(){return e},seen:function(){return n=r,t=e.length,r=n.length>=t?n:((i=i||new n.constructor(t)).set(n),i);var n,t,i},add:function(n){for(var t,r=0,i=e.length,l=n.length;r<l;++r)(t=n[r])._index=i++,e.push(t)},remove:function(n,t){var r,u,a,o=e.length,s=Array(o-n),c=e;for(u=0;!t[u]&&u<o;++u)s[u]=e[u],c[u]=u;for(a=u;u<o;++u)r=e[u],t[u]?c[u]=-1:(c[u]=a,i[a]=i[u],l[a]=l[u],s[a]=r,r._index=a++),i[u]=0;return e=s,c},size:function(){return e.length},curr:function(){return i},prev:function(){return l},reset:function(n){l[n]=i[n]},all:function(){return t<257?255:t<65537?65535:4294967295},set:function(n,t){i[n]|=t},clear:function(n,t){i[n]&=~t},resize:function(n,e){(n>i.length||e>t)&&(t=Math.max(e,t),i=Kk(n,t,i),l=Kk(n,t))}}),n),this._indices=null,this._dims=null}nj.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var tj=Z(nj,Tr);function ej(n){Tr.call(this,null,n)}tj.transform=function(n,t){return this._dims?n.modified("fields")||n.fields.some((function(n){return t.modified(n.fields)}))?this.reinit(n,t):this.eval(n,t):this.init(n,t)},tj.init=function(n,t){for(var e,r,i=n.fields,l=n.query,u=this._indices={},a=this._dims=[],o=l.length,s=0;s<o;++s)r=u[e=i[s].fname]||(u[e]=Qk()),a.push(Zk(r,s,l[s]));return this.eval(n,t)},tj.reinit=function(n,t){var e,r,i,l,u,a,o,s,c,f=t.materialize().fork(),h=n.fields,d=n.query,p=this._indices,g=this._dims,m=this.value,v=m.curr(),w=m.prev(),y=m.all(),b=f.rem=f.add,x=f.mod,_=d.length,k={};if(w.set(v),t.rem.length&&(u=this.remove(n,t,f)),t.add.length&&m.add(t.add),t.mod.length)for(a={},o=0,s=(l=t.mod).length;o<s;++o)a[l[o]._index]=1;for(o=0;o<_;++o)c=h[o],(!g[o]||n.modified("fields",o)||t.modified(c.fields))&&((e=k[i=c.fname])||(p[i]=r=Qk(),k[i]=e=r.insert(c,t.source,0)),g[o]=Zk(r,o,d[o]).onAdd(e,v));for(o=0,s=m.data().length;o<s;++o)u[o]||(w[o]!==v[o]?b.push(o):a[o]&&v[o]!==y&&x.push(o));return m.mask=(1<<_)-1,f},tj.eval=function(n,t){var e=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(n,t,e),i|=(1<<r)-1),n.modified("query")&&!n.modified("fields")&&(i|=this.update(n,t,e)),t.add.length&&(this.insert(n,t,e),i|=(1<<r)-1),t.mod.length&&(this.modify(t,e),i|=(1<<r)-1),this.value.mask=i,e},tj.insert=function(n,t,e){var r,i,l,u=t.add,a=this.value,o=this._dims,s=this._indices,c=n.fields,f={},h=e.add,d=a.size(),p=d+u.length,g=o.length;a.resize(p,g),a.add(u);var m=a.curr(),v=a.prev(),w=a.all();for(r=0;r<g;++r)l=f[i=c[r].fname]||(f[i]=s[i].insert(c[r],u,d)),o[r].onAdd(l,m);for(;d<p;++d)v[d]=w,m[d]!==w&&h.push(d)},tj.modify=function(n,t){var e,r,i,l=t.mod,u=this.value,a=u.curr(),o=u.all(),s=n.mod;for(e=0,r=s.length;e<r;++e)a[i=s[e]._index]!==o&&l.push(i)},tj.remove=function(n,t,e){var r,i,l,u,a=this._indices,o=this.value,s=o.curr(),c=o.prev(),f=o.all(),h={},d=e.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)h[l=p[r]._index]=1,c[l]=u=s[l],s[l]=f,u!==f&&d.push(l);for(l in a)a[l].remove(i,h);return this.reindex(t,i,h),h},tj.reindex=function(n,t,e){var r=this._indices,i=this.value;n.runAfter((function(){var n=i.remove(t,e);for(var l in r)r[l].reindex(n)}))},tj.update=function(n,t,e){var r,i,l=this._dims,u=n.query,a=t.stamp,o=l.length,s=0;for(e.filters=0,i=0;i<o;++i)n.modified("query",i)&&(r=i,++s);if(1===s)s=l[r].one,this.incrementOne(l[r],u[r],e.add,e.rem);else for(i=0,s=0;i<o;++i)n.modified("query",i)&&(s|=l[i].one,this.incrementAll(l[i],u[i],a,e.add),e.rem=e.add);return s},tj.incrementAll=function(n,t,e,r){var i,l,u,a=this.value,o=a.seen(),s=a.curr(),c=a.prev(),f=n.index(),h=n.bisect(n.range),d=n.bisect(t),p=d[0],g=d[1],m=h[0],v=h[1],w=n.one;if(p<m)for(i=p,l=Math.min(m,g);i<l;++i)o[u=f[i]]!==e&&(c[u]=s[u],o[u]=e,r.push(u)),s[u]^=w;else if(p>m)for(i=m,l=Math.min(p,v);i<l;++i)o[u=f[i]]!==e&&(c[u]=s[u],o[u]=e,r.push(u)),s[u]^=w;if(g>v)for(i=Math.max(p,v),l=g;i<l;++i)o[u=f[i]]!==e&&(c[u]=s[u],o[u]=e,r.push(u)),s[u]^=w;else if(g<v)for(i=Math.max(m,g),l=v;i<l;++i)o[u=f[i]]!==e&&(c[u]=s[u],o[u]=e,r.push(u)),s[u]^=w;n.range=t.slice()},tj.incrementOne=function(n,t,e,r){var i,l,u,a=this.value.curr(),o=n.index(),s=n.bisect(n.range),c=n.bisect(t),f=c[0],h=c[1],d=s[0],p=s[1],g=n.one;if(f<d)for(i=f,l=Math.min(d,h);i<l;++i)a[u=o[i]]^=g,e.push(u);else if(f>d)for(i=d,l=Math.min(f,p);i<l;++i)a[u=o[i]]^=g,r.push(u);if(h>p)for(i=Math.max(f,p),l=h;i<l;++i)a[u=o[i]]^=g,e.push(u);else if(h<p)for(i=Math.max(d,h),l=p;i<l;++i)a[u=o[i]]^=g,r.push(u);n.range=t.slice()},ej.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Z(ej,Tr).transform=function(n,t){var e=~(n.ignore||0),r=n.filter,i=r.mask;if(0==(i&e))return t.StopPropagation;var l=t.fork(t.ALL),u=r.data(),a=r.curr(),o=r.prev(),s=function(n){return a[n]&e?null:u[n]};return l.filter(l.MOD,s),i&i-1?(l.filter(l.ADD,(function(n){var t=a[n]&e;return!t&&t^o[n]&e?u[n]:null})),l.filter(l.REM,(function(n){var t=a[n]&e;return!t||t^t^o[n]&e?null:u[n]}))):(l.filter(l.ADD,s),l.filter(l.REM,(function(n){return(a[n]&e)===i?u[n]:null}))),l.filter(l.SOURCE,(function(n){return s(n._index)}))};var rj=Object.freeze({crossfilter:nj,resolvefilter:ej}),ij="default";function lj(n,t){var e=n._runtime.data;return e.hasOwnProperty(t)||l("Unrecognized data set: "+t),e[t]}function uj(n,t){Cn(t)||l("Second argument to changes must be a changeset.");var e=lj(this,n);return e.modified=!0,this.pulse(e.input,t)}function aj(n){var t=n.padding();return Math.max(0,n._viewWidth+t.left+t.right)}function oj(n){var t=n.padding();return Math.max(0,n._viewHeight+t.top+t.bottom)}function sj(n){var t=n.padding(),e=n._origin;return[t.left+e[0],t.top+e[1]]}function cj(n,t,e){var r,i,l=n._renderer,u=l&&l.canvas();return u&&(i=sj(n),(r=Qs(t.changedTouches?t.changedTouches[0]:t,u))[0]-=i[0],r[1]-=i[1]),t.dataflow=n,t.item=e,t.vega=function(n,t,e){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(n){var e,i=r;if(n)for(e=t;e;e=e.mark.group)if(e.mark.name===n){i=e;break}return i&&i.mark&&i.mark.interactive?i:{}}function l(n){if(!n)return e;s(n)&&(n=i(n));for(var t=e.slice();n;)t[0]-=n.x||0,t[1]-=n.y||0,n=n.mark&&n.mark.group;return t}return{view:H(n),item:H(t||{}),group:i,xy:l,x:function(n){return l(n)[0]},y:function(n){return l(n)[1]}}}(n,e,r),t}var fj={trap:!1};function hj(n){return n.item}function dj(n){var t=n.item.mark.source;return t.source||t}function pj(n){return function(t,e){return e.vega.view().changeset().encode(e.item,n)}}function gj(n,t,e){var r=document.createElement(n);for(var i in t)r.setAttribute(i,t[i]);return null!=e&&(r.textContent=e),r}function mj(n,t,e,r){var i=gj("input");for(var l in e)"signal"!==l&&"element"!==l&&i.setAttribute("input"===l?"type":l,e[l]);i.setAttribute("name",e.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){n.update(i.value)})),n.elements=[i],n.set=function(n){i.value=n}}function vj(n,t,e,r){var i={type:"checkbox",name:e.signal};r&&(i.checked=!0);var l=gj("input",i);t.appendChild(l),l.addEventListener("change",(function(){n.update(l.checked)})),n.elements=[l],n.set=function(n){l.checked=!!n||null}}function wj(n,t,e,r){var i=gj("select",{name:e.signal});e.options.forEach((function(n){var t={value:n};xj(n,r)&&(t.selected=!0),i.appendChild(gj("option",t,n+""))})),t.appendChild(i),i.addEventListener("change",(function(){n.update(e.options[i.selectedIndex])})),n.elements=[i],n.set=function(n){for(var t=0,r=e.options.length;t<r;++t)if(xj(e.options[t],n))return void(i.selectedIndex=t)}}function yj(n,t,e,r){var i=gj("span",{class:"vega-bind-radio"});t.appendChild(i),n.elements=e.options.map((function(t){var l="vega-option-"+e.signal+"-"+t,u={id:l,type:"radio",name:e.signal,value:t};xj(t,r)&&(u.checked=!0);var a=gj("input",u);return a.addEventListener("change",(function(){n.update(t)})),i.appendChild(a),i.appendChild(gj("label",{for:l},t+"")),a})),n.set=function(t){for(var e=n.elements,r=0,i=e.length;r<i;++r)xj(e[r].value,t)&&(e[r].checked=!0)}}function bj(n,t,e,r){r=void 0!==r?r:(+e.max+ +e.min)/2;var i=e.min||Math.min(0,+r)||0,l=e.max||Math.max(100,+r)||100,u=e.step||ui(i,l,100),a=gj("input",{type:"range",name:e.signal,min:i,max:l,step:u});a.value=r;var o=gj("label",{},+r);function s(){o.textContent=a.value,n.update(+a.value)}t.appendChild(a),t.appendChild(o),a.addEventListener("input",s),a.addEventListener("change",s),n.elements=[a],n.set=function(n){a.value=n,o.textContent=n}}function xj(n,t){return n===t||n+""==t+""}function _j(n,t,e,r,i,l){return(t=t||new r(n.loader())).initialize(e,aj(n),oj(n),sj(n),i,l).background(n._background)}function kj(n,t){return t?function(){try{t.apply(this,arguments)}catch(t){n.error(t)}}:null}function jj(n,t){if("string"==typeof t){if("undefined"==typeof document)return n.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return n.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(e){t=null,n.error(e)}return t}async function Oj(n,t,e,r){const i=Wc(t),u=i&&i.headless;return u||l("Unrecognized renderer type: "+t),await n.runAsync(),_j(n,null,null,u,e,r).renderAsync(n._scenegraph.root)}var Aj,Ej,Sj,Cj,Dj,Mj="Literal",Fj="Identifier",Tj="CallExpression";function Nj(n){this.type=n}Nj.prototype.visit=function(n){var t,e,r;if(n(this))return 1;for(e=0,r=(t=function(n){switch(n.type){case"ArrayExpression":return n.elements;case"BinaryExpression":case"LogicalExpression":return[n.left,n.right];case Tj:var t=n.arguments.slice();return t.unshift(n.callee),t;case"ConditionalExpression":return[n.test,n.consequent,n.alternate];case"MemberExpression":return[n.object,n.property];case"ObjectExpression":return n.properties;case"Property":return[n.key,n.value];case"UnaryExpression":return[n.argument];case Fj:case Mj:case"RawCode":default:return[]}}(this)).length;e<r;++e)if(t[e].visit(n))return 1},(Aj={})[1]="Boolean",Aj[2]="<end>",Aj[3]="Identifier",Aj[4]="Keyword",Aj[5]="Null",Aj[6]="Numeric",Aj[7]="Punctuator",Aj[8]="String",Aj[9]="RegularExpression";var Bj="Identifier",zj="Unexpected token %0",Pj="Invalid regular expression",$j="Invalid regular expression: missing /",Rj="Octal literals are not allowed in strict mode.",Ij="ILLEGAL",Lj="Disabled.",Uj=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),qj=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Hj(n,t){if(!n)throw new Error("ASSERT: "+t)}function Wj(n){return n>=48&&n<=57}function Gj(n){return"0123456789abcdefABCDEF".indexOf(n)>=0}function Yj(n){return"01234567".indexOf(n)>=0}function Vj(n){return 32===n||9===n||11===n||12===n||160===n||n>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)>=0}function Jj(n){return 10===n||13===n||8232===n||8233===n}function Xj(n){return 36===n||95===n||n>=65&&n<=90||n>=97&&n<=122||92===n||n>=128&&Uj.test(String.fromCharCode(n))}function Kj(n){return 36===n||95===n||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||92===n||n>=128&&qj.test(String.fromCharCode(n))}var Zj={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Qj(){for(var n;Sj<Cj&&(Vj(n=Ej.charCodeAt(Sj))||Jj(n));)++Sj}function nO(n){var t,e,r,i=0;for(e="u"===n?4:2,t=0;t<e;++t)Sj<Cj&&Gj(Ej[Sj])?(r=Ej[Sj++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):pO({},zj,Ij);return String.fromCharCode(i)}function tO(){var n,t,e,r;for(t=0,"}"===(n=Ej[Sj])&&pO({},zj,Ij);Sj<Cj&&Gj(n=Ej[Sj++]);)t=16*t+"0123456789abcdef".indexOf(n.toLowerCase());return(t>1114111||"}"!==n)&&pO({},zj,Ij),t<=65535?String.fromCharCode(t):(e=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(e,r))}function eO(){var n,t;for(n=Ej.charCodeAt(Sj++),t=String.fromCharCode(n),92===n&&(117!==Ej.charCodeAt(Sj)&&pO({},zj,Ij),++Sj,(n=nO("u"))&&"\\"!==n&&Xj(n.charCodeAt(0))||pO({},zj,Ij),t=n);Sj<Cj&&Kj(n=Ej.charCodeAt(Sj));)++Sj,t+=String.fromCharCode(n),92===n&&(t=t.substr(0,t.length-1),117!==Ej.charCodeAt(Sj)&&pO({},zj,Ij),++Sj,(n=nO("u"))&&"\\"!==n&&Kj(n.charCodeAt(0))||pO({},zj,Ij),t+=n);return t}function rO(){var n,t,e,r,i=Sj,l=Ej.charCodeAt(Sj),u=Ej[Sj];switch(l){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Sj,{type:7,value:String.fromCharCode(l),start:i,end:Sj};default:if(61===(n=Ej.charCodeAt(Sj+1)))switch(l){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Sj+=2,{type:7,value:String.fromCharCode(l)+String.fromCharCode(n),start:i,end:Sj};case 33:case 61:return Sj+=2,61===Ej.charCodeAt(Sj)&&++Sj,{type:7,value:Ej.slice(i,Sj),start:i,end:Sj}}}return">>>="===(r=Ej.substr(Sj,4))?{type:7,value:r,start:i,end:Sj+=4}:">>>"===(e=r.substr(0,3))||"<<="===e||">>="===e?{type:7,value:e,start:i,end:Sj+=3}:u===(t=e.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===t?{type:7,value:t,start:i,end:Sj+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:i,end:++Sj}:void pO({},zj,Ij)}function iO(){var n,t,e;if(Hj(Wj((e=Ej[Sj]).charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),t=Sj,n="","."!==e){if(n=Ej[Sj++],e=Ej[Sj],"0"===n){if("x"===e||"X"===e)return++Sj,function(n){for(var t="";Sj<Cj&&Gj(Ej[Sj]);)t+=Ej[Sj++];return 0===t.length&&pO({},zj,Ij),Xj(Ej.charCodeAt(Sj))&&pO({},zj,Ij),{type:6,value:parseInt("0x"+t,16),start:n,end:Sj}}(t);if(Yj(e))return function(n){for(var t="0"+Ej[Sj++];Sj<Cj&&Yj(Ej[Sj]);)t+=Ej[Sj++];return(Xj(Ej.charCodeAt(Sj))||Wj(Ej.charCodeAt(Sj)))&&pO({},zj,Ij),{type:6,value:parseInt(t,8),octal:!0,start:n,end:Sj}}(t);e&&Wj(e.charCodeAt(0))&&pO({},zj,Ij)}for(;Wj(Ej.charCodeAt(Sj));)n+=Ej[Sj++];e=Ej[Sj]}if("."===e){for(n+=Ej[Sj++];Wj(Ej.charCodeAt(Sj));)n+=Ej[Sj++];e=Ej[Sj]}if("e"===e||"E"===e)if(n+=Ej[Sj++],"+"!==(e=Ej[Sj])&&"-"!==e||(n+=Ej[Sj++]),Wj(Ej.charCodeAt(Sj)))for(;Wj(Ej.charCodeAt(Sj));)n+=Ej[Sj++];else pO({},zj,Ij);return Xj(Ej.charCodeAt(Sj))&&pO({},zj,Ij),{type:6,value:parseFloat(n),start:t,end:Sj}}function lO(){var n;return Qj(),Sj>=Cj?{type:2,start:Sj,end:Sj}:Xj(n=Ej.charCodeAt(Sj))?function(){var n,t;return n=Sj,{type:1===(t=92===Ej.charCodeAt(Sj)?eO():function(){var n,t;for(n=Sj++;Sj<Cj;){if(92===(t=Ej.charCodeAt(Sj)))return Sj=n,eO();if(!Kj(t))break;++Sj}return Ej.slice(n,Sj)}()).length?3:Zj.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:n,end:Sj}}():40===n||41===n||59===n?rO():39===n||34===n?function(){var n,t,e,r,i="",l=!1;for(Hj("'"===(n=Ej[Sj])||'"'===n,"String literal must starts with a quote"),t=Sj,++Sj;Sj<Cj;){if((e=Ej[Sj++])===n){n="";break}if("\\"===e)if((e=Ej[Sj++])&&Jj(e.charCodeAt(0)))"\r"===e&&"\n"===Ej[Sj]&&++Sj;else switch(e){case"u":case"x":"{"===Ej[Sj]?(++Sj,i+=tO()):i+=nO(e);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Yj(e)?(0!==(r="01234567".indexOf(e))&&(l=!0),Sj<Cj&&Yj(Ej[Sj])&&(l=!0,r=8*r+"01234567".indexOf(Ej[Sj++]),"0123".indexOf(e)>=0&&Sj<Cj&&Yj(Ej[Sj])&&(r=8*r+"01234567".indexOf(Ej[Sj++]))),i+=String.fromCharCode(r)):i+=e}else{if(Jj(e.charCodeAt(0)))break;i+=e}}return""!==n&&pO({},zj,Ij),{type:8,value:i,octal:l,start:t,end:Sj}}():46===n?Wj(Ej.charCodeAt(Sj+1))?iO():rO():Wj(n)?iO():rO()}function uO(){var n;return Sj=(n=Dj).end,Dj=lO(),Sj=n.end,n}function aO(){var n;n=Sj,Dj=lO(),Sj=n}function oO(n,t,e){var r=new Nj("||"===n||"&&"===n?"LogicalExpression":"BinaryExpression");return r.operator=n,r.left=t,r.right=e,r}function sO(n,t){var e=new Nj("CallExpression");return e.callee=n,e.arguments=t,e}function cO(n){var t=new Nj(Bj);return t.name=n,t}function fO(n){var t=new Nj("Literal");return t.value=n.value,t.raw=Ej.slice(n.start,n.end),n.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=n.regex),t}function hO(n,t,e){var r=new Nj("MemberExpression");return r.computed="["===n,r.object=t,r.property=e,r.computed||(e.member=!0),r}function dO(n,t,e){var r=new Nj("Property");return r.key=t,r.value=e,r.kind=n,r}function pO(n,t){var e,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(n,t){return Hj(t<r.length,"Message reference must be in range"),r[t]}));throw(e=new Error(i)).index=Sj,e.description=i,e}function gO(n){2===n.type&&pO(n,"Unexpected end of input"),6===n.type&&pO(n,"Unexpected number"),8===n.type&&pO(n,"Unexpected string"),3===n.type&&pO(n,"Unexpected identifier"),4===n.type&&pO(n,"Unexpected reserved word"),pO(n,zj,n.value)}function mO(n){var t=uO();7===t.type&&t.value===n||gO(t)}function vO(n){return 7===Dj.type&&Dj.value===n}function wO(n){return 4===Dj.type&&Dj.value===n}function yO(){var n;return Sj=Dj.start,8===(n=uO()).type||6===n.type?(n.octal&&pO(n,Rj),fO(n)):cO(n.value)}function bO(){var n,t,e;return Sj=Dj.start,3===(n=Dj).type?(e=yO(),mO(":"),dO("init",e,CO())):2!==n.type&&7!==n.type?(t=yO(),mO(":"),dO("init",t,CO())):void gO(n)}var xO={if:1,this:1};function _O(){var n,t,e;if(vO("("))return function(){var n;return mO("("),n=DO(),mO(")"),n}();if(vO("["))return function(){var n=[];for(Sj=Dj.start,mO("[");!vO("]");)vO(",")?(uO(),n.push(null)):(n.push(CO()),vO("]")||mO(","));return uO(),function(n){var t=new Nj("ArrayExpression");return t.elements=n,t}(n)}();if(vO("{"))return function(){var n,t,e=[],r={},i=String;for(Sj=Dj.start,mO("{");!vO("}");)t="$"+((n=bO()).key.type===Bj?n.key.name:i(n.key.value)),Object.prototype.hasOwnProperty.call(r,t)?pO({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,e.push(n),vO("}")||mO(",");return mO("}"),function(n){var t=new Nj("ObjectExpression");return t.properties=n,t}(e)}();if(n=Dj.type,Sj=Dj.start,3===n||xO[Dj.value])e=cO(uO().value);else if(8===n||6===n)Dj.octal&&pO(Dj,Rj),e=fO(uO());else{if(4===n)throw new Error(Lj);1===n?((t=uO()).value="true"===t.value,e=fO(t)):5===n?((t=uO()).value=null,e=fO(t)):vO("/")||vO("/=")?(e=fO(function(){var n,t,e,r;return Dj=null,Qj(),n=Sj,t=function(){var n,t,e,r;for(Hj("/"===(n=Ej[Sj]),"Regular expression literal must start with a slash"),t=Ej[Sj++],e=!1,r=!1;Sj<Cj;)if(t+=n=Ej[Sj++],"\\"===n)Jj((n=Ej[Sj++]).charCodeAt(0))&&pO({},$j),t+=n;else if(Jj(n.charCodeAt(0)))pO({},$j);else if(e)"]"===n&&(e=!1);else{if("/"===n){r=!0;break}"["===n&&(e=!0)}return r||pO({},$j),{value:t.substr(1,t.length-2),literal:t}}(),e=function(){var n,t,e;for(t="",e="";Sj<Cj&&Kj((n=Ej[Sj]).charCodeAt(0));)++Sj,"\\"===n&&Sj<Cj?pO({},zj,Ij):(e+=n,t+=n);return e.search(/[^gimuy]/g)>=0&&pO({},Pj,e),{value:e,literal:t}}(),r=function(n,t){var e=n;t.indexOf("u")>=0&&(e=e.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(n,t){if(parseInt(t,16)<=1114111)return"x";pO({},Pj)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{return new RegExp(n,t)}catch(n){return null}}(t.value,e.value),{literal:t.literal+e.literal,value:r,regex:{pattern:t.value,flags:e.value},start:n,end:Sj}}()),aO()):gO(uO())}return e}function kO(){var n=[];if(mO("("),!vO(")"))for(;Sj<Cj&&(n.push(CO()),!vO(")"));)mO(",");return mO(")"),n}function jO(){var n;return Sj=Dj.start,function(n){return 3===n.type||4===n.type||1===n.type||5===n.type}(n=uO())||gO(n),cO(n.value)}function OO(){var n;return mO("["),n=DO(),mO("]"),n}function AO(){var n=function(){var n;for(n=_O();;)if(vO("."))mO("."),n=hO(".",n,jO());else if(vO("("))n=sO(n,kO());else{if(!vO("["))break;n=hO("[",n,OO())}return n}();if(7===Dj.type&&(vO("++")||vO("--")))throw new Error(Lj);return n}function EO(){var n,t,e,r,i;if(7!==Dj.type&&4!==Dj.type)t=AO();else{if(vO("++")||vO("--"))throw new Error(Lj);if(vO("+")||vO("-")||vO("~")||vO("!"))n=uO(),t=EO(),e=n.value,r=t,(i=new Nj("UnaryExpression")).operator=e,i.argument=r,i.prefix=!0,t=i;else{if(wO("delete")||wO("void")||wO("typeof"))throw new Error(Lj);t=AO()}}return t}function SO(n){var t=0;if(7!==n.type&&4!==n.type)return 0;switch(n.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function CO(){var n,t;return n=function(){var n,t,e,r,i,l,u,a,o,s;if(n=Dj,o=EO(),0===(i=SO(r=Dj)))return o;for(r.prec=i,uO(),t=[n,Dj],l=[o,r,u=EO()];(i=SO(Dj))>0;){for(;l.length>2&&i<=l[l.length-2].prec;)u=l.pop(),a=l.pop().value,o=l.pop(),t.pop(),e=oO(a,o,u),l.push(e);(r=uO()).prec=i,l.push(r),t.push(Dj),e=EO(),l.push(e)}for(e=l[s=l.length-1],t.pop();s>1;)t.pop(),e=oO(l[s-1].value,l[s-2],e),s-=2;return e}(),vO("?")&&(uO(),t=CO(),mO(":"),n=function(n,t,e){var r=new Nj("ConditionalExpression");return r.test=n,r.consequent=t,r.alternate=e,r}(n,t,CO())),n}function DO(){var n=CO();if(vO(","))throw new Error(Lj);return n}var MO={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function FO(n){function t(t,e,r){return function(i){return function(t,e,r,i){var l=n(e[0]);return r&&(l=r+"("+l+")",0===r.lastIndexOf("new ",0)&&(l="("+l+")")),l+"."+t+(i<0?"":0===i?"()":"("+e.slice(1).map(n).join(",")+")")}(t,i,e,r)}}var e="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&l("Missing arguments to clamp function."),t.length>3&&l("Too many arguments to clamp function.");var e=t.map(n);return"Math.max("+e[1]+", Math.min("+e[2]+","+e[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:e,date:t("getDate",e,0),day:t("getDay",e,0),year:t("getFullYear",e,0),month:t("getMonth",e,0),hours:t("getHours",e,0),minutes:t("getMinutes",e,0),seconds:t("getSeconds",e,0),milliseconds:t("getMilliseconds",e,0),time:t("getTime",e,0),timezoneoffset:t("getTimezoneOffset",e,0),utcdate:t("getUTCDate",e,0),utcday:t("getUTCDay",e,0),utcyear:t("getUTCFullYear",e,0),utcmonth:t("getUTCMonth",e,0),utchours:t("getUTCHours",e,0),utcminutes:t("getUTCMinutes",e,0),utcseconds:t("getUTCSeconds",e,0),utcmilliseconds:t("getUTCMilliseconds",e,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+n(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&l("Missing arguments to if function."),t.length>3&&l("Too many arguments to if function.");var e=t.map(n);return"("+e[0]+"?"+e[1]+":"+e[2]+")"}}}const TO="intersect";var NO="index:unit";function BO(n,t){for(var e,r,i=t.fields,l=t.values,u=i.length,o=0;o<u;++o)if((r=i[o]).getter=f.getter||f(r.field),tn(e=r.getter(n))&&(e=_(e)),tn(l[o])&&(l[o]=_(l[o])),tn(l[o][0])&&(l[o]=l[o].map(_)),"E"===r.type){if(a(l[o])?l[o].indexOf(e)<0:e!==l[o])return!1}else if("R"===r.type){if(!Q(e,l[o]))return!1}else if("R-RE"===r.type){if(!Q(e,l[o],!0,!1))return!1}else if("R-E"===r.type){if(!Q(e,l[o],!1,!1))return!1}else if("R-LE"===r.type&&!Q(e,l[o],!1,!0))return!1;return!0}var zO={E_union:function(n,t){if(!n.length)return t;for(var e=0,r=t.length;e<r;++e)n.indexOf(t[e])<0&&n.push(t[e]);return n},E_intersect:function(n,t){return n.length?n.filter((function(n){return t.indexOf(n)>=0})):t},R_union:function(n,t){var e=_(t[0]),r=_(t[1]);return e>r&&(e=t[1],r=t[0]),n.length?(n[0]>e&&(n[0]=e),n[1]<r&&(n[1]=r),n):[e,r]},R_intersect:function(n,t){var e=_(t[0]),r=_(t[1]);return e>r&&(e=t[1],r=t[0]),n.length?r<n[0]||n[1]<e?[]:(n[0]<e&&(n[0]=e),n[1]>r&&(n[1]=r),n):[e,r]}};function PO(n,t,e,r){t[0].type!==Mj&&l("First argument to selection functions must be a string literal.");const i=t[0].value,u="@unit",a=":"+i;(t.length>=2&&x(t).value)!==TO||r.hasOwnProperty(u)||(r[u]=e.getData(i).indataRef(e,"unit")),r.hasOwnProperty(a)||(r[a]=e.getData(i).tuplesRef())}function $O(n){const t=this.context.data[n];return t?t.values.value:[]}const RO={};function IO(n,t,e){let r=n+":"+e,i=RO[r];return i&&i[0]===t||(RO[r]=i=[t,t(e)]),i[1]}function LO(n,t){return IO("timeFormat",Zt,t)(n)}var UO=new Date(2e3,0,1);function qO(n,t,e){return UO.setMonth(n),UO.setDate(t),LO(UO,e)}function HO(n,t){let e;return U(n)?n:s(n)?(e=t.scales[n])&&e.value:void 0}function WO(n,t){return function(e,r,i){if(e){const t=HO(e,(i||this).context);return t&&t.path[n](r)}return t(r)}}const GO=WO("area",(function(n){return cv.reset(),rv(n,fv),2*cv})),YO=WO("bounds",(function(n){var t,e,r,i,l,u,a;if(Av=Ov=-(kv=jv=1/0),Mv=[],rv(n,Xv),e=Mv.length){for(Mv.sort(lw),t=1,l=[r=Mv[0]];t<e;++t)uw(r,(i=Mv[t])[0])||uw(r,i[1])?(iw(r[0],i[1])>iw(r[0],r[1])&&(r[1]=i[1]),iw(i[0],r[1])>iw(r[0],r[1])&&(r[0]=i[0])):l.push(r=i);for(u=-1/0,t=0,r=l[e=l.length-1];t<=e;r=i,++t)i=l[t],(a=iw(r[1],i[0]))>u&&(u=a,kv=i[0],Ov=r[1])}return Mv=Fv=null,kv===1/0||jv===1/0?[[NaN,NaN],[NaN,NaN]]:[[kv,jv],[Ov,Av]]})),VO=WO("centroid",(function(n){Tv=Nv=Bv=zv=Pv=$v=Rv=Iv=Lv=Uv=qv=0,rv(n,aw);var t=Lv,e=Uv,r=qv,i=t*t+e*e+r*r;return i<1e-12&&(t=$v,e=Rv,r=Iv,Nv<Dm&&(t=Bv,e=zv,r=Pv),(i=t*t+e*e+r*r)<1e-12)?[NaN,NaN]:[Rm(e,t)*Bm,Xm(r/Ym(i))*Bm]}));function JO(n,t,e){try{n[t].apply(n,["EXPRESSION"].concat([].slice.call(e)))}catch(t){n.warn(t)}return e[e.length-1]}function XO(n,t){return n===t||n!=n&&t!=t||!(!a(n)||!a(t)||n.length!==t.length)&&function(n,t){for(let e=0,r=n.length;e<r;++e)if(!XO(n[e],t[e]))return!1;return!0}(n,t)}function KO(n){return function(t){for(let e in n)if(!XO(t[e],n[e]))return!1;return!0}}const ZO={};function QO(n){return n.data}function nA(n,t){const e=$O.call(t,n);return e.root&&e.root.lookup||ZO}const tA="undefined"!=typeof window&&window||null;function eA(n,t,e,r){t[0].type!==Mj&&l("First argument to data functions must be a string literal.");const i=t[0].value,u=":"+i;r.hasOwnProperty(u)||(r[u]=e.getData(i).tuplesRef())}function rA(n,t,e,r){if(t[0].type===Mj)iA(e,r,t[0].value);else if(t[0].type===Fj)for(n in e.scales)iA(e,r,n)}function iA(n,t,e){const r="%"+e;if(!t.hasOwnProperty(r))try{t[r]=n.scaleRef(e)}catch(n){}}const lA={random:function(){return n.random()},isArray:a,isBoolean:nn,isDate:tn,isDefined:function(n){return void 0!==n},isNumber:en,isObject:o,isRegExp:rn,isString:s,isTuple:_n,isValid:function(n){return null!=n&&n==n},toBoolean:fn,toDate:dn,toNumber:_,toString:pn,flush:K,lerp:un,merge:function(){var n=[].slice.call(arguments);return n.unshift({}),G.apply(null,n)},pad:sn,peek:x,span:cn,inrange:Q,truncate:mn,rgb:Th,lab:Wh,hcl:Kh,hsl:Ph,sequence:ni,format:function(n,t){return IO("format",vp,t)(n)},utcFormat:function(n,t){return IO("utcFormat",ne,t)(n)},utcParse:function(n,t){return IO("utcParse",te,t)(n)},timeFormat:LO,timeParse:function(n,t){return IO("timeParse",Qt,t)(n)},monthFormat:function(n){return qO(n,1,"%B")},monthAbbrevFormat:function(n){return qO(n,1,"%b")},dayFormat:function(n){return qO(0,2+n,"%A")},dayAbbrevFormat:function(n){return qO(0,2+n,"%a")},quarter:$,utcquarter:R,warn:function(){return JO(this.context.dataflow,"warn",arguments)},info:function(){return JO(this.context.dataflow,"info",arguments)},debug:function(){return JO(this.context.dataflow,"debug",arguments)},extent:Y,inScope:function(n){let t=this.context.group,e=!1;if(t)for(;n;){if(n===t){e=!0;break}n=n.mark.group}return e},intersect:function(n,t,e){if(!n)return[];const[r,i]=n,l=(new mu).set(r[0],r[1],i[0],i[1]);return Gc(e||this.context.dataflow.scenegraph().root,l,function(n){let t=null;if(n){const e=I(n.marktype),r=I(n.markname);t=n=>(!e.length||e.some(t=>n.marktype===t))&&(!r.length||r.some(t=>n.name===t))}return t}(t))},clampRange:L,pinchDistance:function(n){const t=n.touches,e=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(e*e+r*r)},pinchAngle:function(n){const t=n.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){return tA?tA.screen:{}},containerSize:function(){const n=this.context.dataflow,t=n.container&&n.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){return tA?[tA.innerWidth,tA.innerHeight]:[void 0,void 0]},bandspace:function(n,t,e){return Pf(n||0,t||0,e||0)},setdata:function(n,t){const e=this.context.dataflow,r=this.context.data[n].input;return e.pulse(r,e.changeset().remove(v).insert(t)),1},pathShape:function(n){let t=null;return function(e){return e?no(e,t=t||qa(n)):n}},panLinear:C,panLog:D,panPow:M,panSymlog:F,zoomLinear:N,zoomLog:B,zoomPow:z,zoomSymlog:P,encode:function(n,t,e){if(n){const e=this.context.dataflow,r=n.mark.source;e.pulse(r,e.changeset().encode(n,t))}return void 0!==e?e:n},modify:function(n,t,e,r,i,l){let u,o,s=this.context.dataflow,c=this.context.data[n],f=c.input,h=c.changes,d=s.stamp();if(!1===s._trigger||!(f.value.length||t||r))return 0;if((!h||h.stamp<d)&&(c.changes=h=s.changeset(),h.stamp=d,s.runAfter((function(){c.modified=!0,s.pulse(f,h).run()}),!0,1)),e&&(u=!0===e?v:a(e)||_n(e)?e:KO(e),h.remove(u)),t&&h.insert(t),r&&(u=KO(r),f.value.some(u)?h.remove(u):h.insert(r)),i)for(o in l)h.modify(i,o,l[o]);return 1}},uA=["view","item","group","xy","x","y"],aA="this.",oA={};function sA(n,t,e){return 1===arguments.length?lA[n]:(lA[n]=t,e&&(oA[n]=e),fA&&(fA.functions[n]=aA+n),this)}sA("bandwidth",(function(n,t){const e=HO(n,(t||this).context);return e&&e.bandwidth?e.bandwidth():0}),rA),sA("copy",(function(n,t){const e=HO(n,(t||this).context);return e?e.copy():void 0}),rA),sA("domain",(function(n,t){const e=HO(n,(t||this).context);return e?e.domain():[]}),rA),sA("range",(function(n,t){const e=HO(n,(t||this).context);return e&&e.range?e.range():[]}),rA),sA("invert",(function(n,t,e){const r=HO(n,(e||this).context);return r?a(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),rA),sA("scale",(function(n,t,e){const r=HO(n,(e||this).context);return r&&void 0!==t?r(t):void 0}),rA),sA("gradient",(function(n,t,e,r,i){n=HO(n,(i||this).context);const l=_u(t,e);let u=n.domain(),a=u[0],o=x(u),s=p;return o-a?s=cg(n,a,o):n=(n.interpolator?rg("sequential")().interpolator(n.interpolator()):rg("linear")().interpolate(n.interpolate()).range(n.range())).domain([a=0,o=1]),n.ticks&&(a!==(u=n.ticks(+r||15))[0]&&u.unshift(a),o!==x(u)&&u.push(o)),u.forEach(t=>l.stop(s(t),n(t))),l}),rA),sA("geoArea",GO,rA),sA("geoBounds",YO,rA),sA("geoCentroid",VO,rA),sA("geoShape",(function(n,t,e){const r=HO(n,(e||this).context);return function(n){return r?r.path.context(n)(t):""}}),rA),sA("indata",(function(n,t,e){const r=this.context.data[n]["index:"+t],i=r?r.value.get(e):void 0;return i?i.count:i}),(function(n,t,e,r){t[0].type!==Mj&&l("First argument to indata must be a string literal."),t[1].type!==Mj&&l("Second argument to indata must be a string literal.");const i=t[0].value,u=t[1].value,a="@"+u;r.hasOwnProperty(a)||(r[a]=e.getData(i).indataRef(e,u))})),sA("data",$O,eA),sA("treePath",(function(n,t,e){const r=nA(n,this),i=r[t],l=r[e];return i&&l?i.path(l).map(QO):void 0}),eA),sA("treeAncestors",(function(n,t){const e=nA(n,this)[t];return e?e.ancestors().map(QO):void 0}),eA),sA("vlSelectionTest",(function(n,t,e){for(var r,i,l,u,a,o=this.context.data[n],s=o?o.values.value:[],c=o?o[NO]&&o[NO].value:void 0,f=e===TO,h=s.length,d=0;d<h;++d)if(r=s[d],c&&f){if(-1===(l=(i=i||{})[u=r.unit]||0))continue;if(a=BO(t,r),i[u]=a?-1:++l,a&&1===c.size)return!0;if(!a&&l===c.get(u).count)return!1}else if(f^(a=BO(t,r)))return a;return h&&f}),PO),sA("vlSelectionResolve",(function(n,t){for(var e,r,i,l,u,a,o,s,c,f,h,d=this.context.data[n],p=d?d.values.value:[],g={},m={},v=p.length,w=0;w<v;++w)for(l=(e=p[w]).unit,r=e.fields,i=e.values,f=0,h=r.length;f<h;++f)u=r[f],o=(a=g[u.field]||(g[u.field]={}))[l]||(a[l]=[]),m[u.field]=s=u.type.charAt(0),c=zO[s+"_union"],a[l]=c(o,I(i[f]));return t=t||"union",Object.keys(g).forEach((function(n){g[n]=Object.keys(g[n]).map((function(t){return g[n][t]})).reduce((function(e,r){return void 0===e?r:zO[m[n]+"_"+t](e,r)}))})),g}),PO);const cA={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(n){return"_["+c("$"+n)+"]"},functions:function(n){const t=FO(n);uA.forEach(n=>t[n]="event.vega."+n);for(let n in lA)t[n]=aA+n;return t},constants:MO,visitors:oA};var fA=function(n){var t=(n=n||{}).whitelist?gn(n.whitelist):{},e=n.blacklist?gn(n.blacklist):{},r=n.constants||MO,i=(n.functions||FO)(d),u=n.globalvar,a=n.fieldvar,o={},c={},f=0,h=U(u)?u:function(n){return u+'["'+n+'"]'};function d(n){if(s(n))return n;var t=p[n.type];return null==t&&l("Unsupported type: "+n.type),t(n)}var p={Literal:function(n){return n.raw},Identifier:function(n){var i=n.name;return f>0?i:e.hasOwnProperty(i)?l("Illegal identifier: "+i):r.hasOwnProperty(i)?r[i]:t.hasOwnProperty(i)?i:(o[i]=1,h(i))},MemberExpression:function(n){var t=!n.computed,e=d(n.object);t&&(f+=1);var r=d(n.property);return e===a&&(c[function(n){var t=n&&n.length-1;return t&&('"'===n[0]&&'"'===n[t]||"'"===n[0]&&"'"===n[t])?n.slice(1,-1):n}(r)]=1),t&&(f-=1),e+(t?"."+r:"["+r+"]")},CallExpression:function(n){"Identifier"!==n.callee.type&&l("Illegal callee type: "+n.callee.type);var t=n.callee.name,e=n.arguments,r=i.hasOwnProperty(t)&&i[t];return r||l("Unrecognized function: "+t),U(r)?r(e):r+"("+e.map(d).join(",")+")"},ArrayExpression:function(n){return"["+n.elements.map(d).join(",")+"]"},BinaryExpression:function(n){return"("+d(n.left)+n.operator+d(n.right)+")"},UnaryExpression:function(n){return"("+n.operator+d(n.argument)+")"},ConditionalExpression:function(n){return"("+d(n.test)+"?"+d(n.consequent)+":"+d(n.alternate)+")"},LogicalExpression:function(n){return"("+d(n.left)+n.operator+d(n.right)+")"},ObjectExpression:function(n){return"{"+n.properties.map(d).join(",")+"}"},Property:function(n){f+=1;var t=d(n.key);return f-=1,t+":"+d(n.value)}};function g(n){var t={code:d(n),globals:Object.keys(o),fields:Object.keys(c)};return o={},c={},t}return g.functions=i,g.constants=r,g}(cA);function hA(n,t,e){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,n.concat(t));return e&&e.functions?r.bind(e.functions):r}function dA(n,t){return hA(["event"],n,t)}function pA(n,t){return hA(["item","_"],n,t)}function gA(n,t,e){var r,i;for(r in e=e||{},n)i=n[r],e[r]=a(i)?i.map((function(n){return mA(n,t,e)})):mA(i,t,e);return e}function mA(n,t,e){if(!n||!o(n))return n;for(var r,i=0,l=vA.length;i<l;++i)if(r=vA[i],n.hasOwnProperty(r.key))return r.parse(n,t,e);return n}var vA=[{key:"$ref",parse:function(n,t){return t.get(n.$ref)||l("Operator not defined: "+n.$ref)}},{key:"$key",parse:function(n,t){var e="k:"+n.$key+"_"+!!n.$flat;return t.fn[e]||(t.fn[e]=ln(n.$key,n.$flat))}},{key:"$expr",parse:function(n,e,r){n.$params&&gA(n.$params,e,r);var i="e:"+n.$expr+"_"+n.$name;return e.fn[i]||(e.fn[i]=t(function(n,t){return hA(["datum","_"],n,t)}(n.$expr,e),n.$fields,n.$name))}},{key:"$field",parse:function(n,t){if(!n.$field)return null;var e="f:"+n.$field+"_"+n.$name;return t.fn[e]||(t.fn[e]=f(n.$field,n.$name))}},{key:"$encode",parse:function(n,e){var r,i,l=n.$encode,u={};for(r in l)i=l[r],u[r]=t(pA(i.$expr,e),i.$fields),u[r].output=i.$output;return u}},{key:"$compare",parse:function(n,t){var e="c:"+n.$compare+"_"+n.$order,r=I(n.$compare).map((function(n){return n&&n.$tupleid?kn:n}));return t.fn[e]||(t.fn[e]=q(r,n.$order))}},{key:"$context",parse:function(n,t){return t}},{key:"$subflow",parse:function(n,t){var e=n.$subflow;return function(n,r,i){var l=yA(e,t.fork()),u=l.get(e.operators[0].id),a=l.signals.parent;return a&&a.set(i),u}}},{key:"$tupleid",parse:function(){return kn}}];function wA(n){return(n+"").toLowerCase()}function yA(n,t){var e=n.operators||[];return n.background&&(t.background=n.background),n.eventConfig&&(t.eventConfig=n.eventConfig),e.forEach((function(n){!function(n,t){"operator"!==wA(n.type)&&n.type?t.transform(n,n.type):t.operator(n,n.update?function(n,t){return hA(["_"],n,t)}(n.update,t):null)}(n,t)})),e.forEach((function(n){!function(n,t){if(n.params){var e=t.get(n.id);e||l("Invalid operator id: "+n.id),t.dataflow.connect(e,e.parameters(gA(n.params,t),n.react,n.initonly))}}(n,t)})),(n.streams||[]).forEach((function(n){!function(n,t){var e,r=null!=n.filter?dA(n.filter,t):void 0,i=null!=n.stream?t.get(n.stream):void 0;n.source?i=t.events(n.source,n.type,r):n.merge&&(i=(e=n.merge.map(t.get.bind(t)))[0].merge.apply(e[0],e.slice(1))),n.between&&(e=n.between.map(t.get.bind(t)),i=i.between(e[0],e[1])),n.filter&&(i=i.filter(r)),null!=n.throttle&&(i=i.throttle(+n.throttle)),null!=n.debounce&&(i=i.debounce(+n.debounce)),null==i&&l("Invalid stream definition: "+JSON.stringify(n)),n.consume&&i.consume(!0),t.stream(n,i)}(n,t)})),(n.updates||[]).forEach((function(n){!function(n,t){var e,r=o(r=n.source)?r.$ref:r,i=t.get(r),u=n.update,a=void 0;i||l("Source not defined: "+n.source),e=n.target&&n.target.$expr?dA(n.target.$expr,t):t.get(n.target),u&&u.$expr&&(u.$params&&(a=gA(u.$params,t)),u=function(n,t){return hA(["_","event"],n,t)}(u.$expr,t)),t.update(n,i,e,u,a)}(n,t)})),t.resolve()}var bA={skip:!0};function xA(n,t,e){return new _A(n,t,e)}function _A(n,t,e){this.dataflow=n,this.transforms=t,this.events=n.events.bind(n),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},e&&(this.functions=Object.create(e),this.functions.context=this)}function kA(n){this.dataflow=n.dataflow,this.transforms=n.transforms,this.functions=n.functions,this.events=n.events,this.signals=Object.create(n.signals),this.scales=Object.create(n.scales),this.nodes=Object.create(n.nodes),this.data=Object.create(n.data),this.fn=Object.create(n.fn),n.functions&&(this.functions=Object.create(n.functions),this.functions.context=this)}_A.prototype=kA.prototype={fork:function(){var n=new kA(this);return(this.subcontext||(this.subcontext=[])).push(n),n},get:function(n){return this.nodes[n]},set:function(n,t){return this.nodes[n]=t},add:function(n,t){var e,r=this,i=r.dataflow;if(r.set(n.id,t),"collect"===wA(n.type)&&(e=n.value)&&(e.$ingest?i.ingest(t,e.$ingest,e.$format):e.$request?i.preload(t,e.$request,e.$format):i.pulse(t,i.changeset().insert(e))),n.root&&(r.root=t),n.parent){var l=r.get(n.parent.$ref);l?(i.connect(l,[t]),t.targets().add(l)):(r.unresolved=r.unresolved||[]).push((function(){l=r.get(n.parent.$ref),i.connect(l,[t]),t.targets().add(l)}))}if(n.signal&&(r.signals[n.signal]=t),n.scale&&(r.scales[n.scale]=t),n.data)for(var u in n.data)e=r.data[u]||(r.data[u]={}),n.data[u].forEach((function(n){e[n]=t}))},resolve:function(){return(this.unresolved||[]).forEach((function(n){n()})),delete this.unresolved,this},operator:function(n,t){this.add(n,this.dataflow.add(n.value,t))},transform:function(n,t){this.add(n,this.dataflow.add(this.transforms[wA(t)]))},stream:function(n,t){this.set(n.id,t)},update:function(n,t,e,r,i){this.dataflow.on(t,e,r,i,n.options)},getState:function(n){var t=this,e={};if(n.signals){var r=e.signals={};Object.keys(t.signals).forEach((function(e){var i=t.signals[e];n.signals(e,i)&&(r[e]=i.value)}))}if(n.data){var i=e.data={};Object.keys(t.data).forEach((function(e){var r=t.data[e];n.data(e,r)&&(i[e]=r.input.value)}))}return t.subcontext&&!1!==n.recurse&&(e.subcontext=t.subcontext.map((function(t){return t.getState(n)}))),e},setState:function(n){var t=this,e=t.dataflow,r=n.data,i=n.signals;Object.keys(i||{}).forEach((function(n){e.update(t.signals[n],i[n],bA)})),Object.keys(r||{}).forEach((function(n){e.pulse(t.data[n].input,e.changeset().remove(v).insert(r[n]))})),(n.subcontext||[]).forEach((function(n,e){var r=t.subcontext[e];r&&r.setState(n)}))}};var jA="padding",OA={skip:!0};function AA(n,t){var e=n.autosize(),r=n.padding();return t-(e&&e.contains===jA?r.left+r.right:0)}function EA(n,t){var e=n.autosize(),r=n.padding();return t-(e&&e.contains===jA?r.top+r.bottom:0)}function SA(n,t){return t.modified&&a(t.input.value)&&n.indexOf("_:vega:_")}function CA(n,t){return!("parent"===n||t instanceof Br.proxy)}function DA(n,t,e,r){var i=n.element();i&&i.setAttribute("title",function(n){return null==n?"":a(n)?MA(n):o(n)&&!tn(n)?(t=n,Object.keys(t).map((function(n){var e=t[n];return n+": "+(a(e)?MA(e):FA(e))})).join("\n")):n+"";var t}(r))}function MA(n){return"["+n.map(FA).join(", ")+"]"}function FA(n){return a(n)?"[…]":o(n)&&!tn(n)?"{…}":n}function TA(n,t){t=t||{},Dr.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),this._el=null,this._elBind=null,this._renderType=t.renderer||qc.Canvas,this._scenegraph=new Ws;var e=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||DA,this._redraw=!0,this._handler=(new uc).scene(e),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[];var r,i,l=function(n,t,e){return yA(t,xA(n,Br,e||lA))}(this,n,t.functions);this._runtime=l,this._signals=l.signals,this._bind=(n.bindings||[]).map((function(n){return{state:null,param:G({},n)}})),l.root&&l.root.set(e),e.source=l.data.root.input,this.pulse(l.data.root.input,this.changeset().insert(e.items)),this._background=t.background||l.background||null,this._eventConfig=((i=(r=G({},r=l.eventConfig)).defaults)&&(a(i.prevent)&&(i.prevent=gn(i.prevent)),a(i.allow)&&(i.allow=gn(i.allow))),r),this._width=this.width(),this._height=this.height(),this._viewWidth=AA(this,this._width),this._viewHeight=EA(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(n){var t=n._signals,e=t.width,r=t.height,i=t[jA];function l(){n._autosize=n._resize=1}n._resizeWidth=n.add(null,(function(t){n._width=t.size,n._viewWidth=AA(n,t.size),l()}),{size:e}),n._resizeHeight=n.add(null,(function(t){n._height=t.size,n._viewHeight=EA(n,t.size),l()}),{size:r});var u=n.add(null,l,{pad:i});n._resizeWidth.rank=e.rank+1,n._resizeHeight.rank=r.rank+1,u.rank=i.rank+1}(this),function(n){var t=n._signals.cursor;t||(n._signals.cursor=t=n.add({user:ij,item:null})),n.on(n.events("view","mousemove"),t,(function(n,e){var r=t.value,i=r?s(r)?r:r.user:ij,l=e.item&&e.item.cursor||null;return r&&i===r.user&&l==r.item?r:{user:i,item:l}})),n.add(null,(function(n){var t,e=n.cursor,r=this.value;return s(e)||(r=e.item,e=e.user),t=e&&e!==ij?e:r||e,"undefined"!=typeof document&&document.body&&(document.body.style.cursor=t),r}),{cursor:t})}(this),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var NA=Z(TA,Dr);function BA(n,t){return n._signals.hasOwnProperty(t)?n._signals[t]:l("Unrecognized signal name: "+c(t))}function zA(n,t){var e=(n._targets||[]).filter((function(n){var e=n._update;return e&&e.handler===t}));return e.length?e[0]:null}function PA(n,t,e,r){var i=zA(e,r);return i||((i=kj(this,(function(){r(t,e.value)}))).handler=r,n.on(e,null,i)),n}function $A(n,t,e){var r=zA(t,e);return r&&t._targets.remove(r),n}function RA(n){return+n||0}NA.evaluate=async function(n,t,e){if(await Dr.prototype.evaluate.call(this,n,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,i=sj(r=this),l=aj(r),u=oj(r),r._renderer.background(r._background),r._renderer.resize(l,u,i),r._handler.origin(i),r._resizeListeners.forEach((function(n){try{n(l,u)}catch(n){r.error(n)}}))),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(n){this.error(n)}var r,i,l,u;return e&&yn(this,e),this},NA.dirty=function(n){this._redraw=!0,this._renderer&&this._renderer.dirty(n)},NA.container=function(){return this._el},NA.scenegraph=function(){return this._scenegraph},NA.origin=function(){return this._origin.slice()},NA.signal=function(n,t,e){var r=BA(this,n);return 1===arguments.length?r.value:this.update(r,t,e)},NA.background=function(n){return arguments.length?(this._background=n,this._resize=1,this):this._background},NA.width=function(n){return arguments.length?this.signal("width",n):this.signal("width")},NA.height=function(n){return arguments.length?this.signal("height",n):this.signal("height")},NA.padding=function(n){return arguments.length?this.signal("padding",n):this.signal("padding")},NA.autosize=function(n){return arguments.length?this.signal("autosize",n):this.signal("autosize")},NA.renderer=function(n){return arguments.length?(Wc(n)||l("Unrecognized renderer type: "+n),n!==this._renderType&&(this._renderType=n,this._resetRenderer()),this):this._renderType},NA.tooltip=function(n){return arguments.length?(n!==this._tooltip&&(this._tooltip=n,this._resetRenderer()),this):this._tooltip},NA.loader=function(n){return arguments.length?(n!==this._loader&&(Dr.prototype.loader.call(this,n),this._resetRenderer()),this):this._loader},NA.resize=function(){return this._autosize=1,this.touch(BA(this,"autosize"))},NA._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},NA._resizeView=function(n,t,e,r,i,l){this.runAfter((function(u){var a=0;u._autosize=0,u.width()!==e&&(a=1,u.signal("width",e,OA),u._resizeWidth.skip(!0)),u.height()!==r&&(a=1,u.signal("height",r,OA),u._resizeHeight.skip(!0)),u._viewWidth!==n&&(u._resize=1,u._viewWidth=n),u._viewHeight!==t&&(u._resize=1,u._viewHeight=t),u._origin[0]===i[0]&&u._origin[1]===i[1]||(u._resize=1,u._origin=i),a&&u.run("enter"),l&&u.runAfter(n=>n.resize())}),!1,1)},NA.addEventListener=function(n,t,e){var r=t;return e&&!1===e.trap||((r=kj(this,t)).raw=t),this._handler.on(n,r),this},NA.removeEventListener=function(n,t){for(var e,r,i=this._handler.handlers(n),l=i.length;--l>=0;)if(r=i[l].type,e=i[l].handler,n===r&&(t===e||t===e.raw)){this._handler.off(r,e);break}return this},NA.addResizeListener=function(n){var t=this._resizeListeners;return t.indexOf(n)<0&&t.push(n),this},NA.removeResizeListener=function(n){var t=this._resizeListeners,e=t.indexOf(n);return e>=0&&t.splice(e,1),this},NA.addSignalListener=function(n,t){return PA(this,n,BA(this,n),t)},NA.removeSignalListener=function(n,t){return $A(this,BA(this,n),t)},NA.addDataListener=function(n,t){return PA(this,n,lj(this,n).values,t)},NA.removeDataListener=function(n,t){return $A(this,lj(this,n).values,t)},NA.preventDefault=function(n){return arguments.length?(this._preventDefault=n,this):this._preventDefault},NA.timer=function(n,t){this._timers.push(function(n,t,e){var r=new hx,i=t;return null==t?(r.restart(n,t,e),r):(t=+t,e=null==e?cx():+e,r.restart((function l(u){u+=i,r.restart(l,i+=t,e),n(u)}),t,e),r)}((function(t){n({timestamp:Date.now(),elapsed:t})}),t))},NA.events=function(n,t,e){var r,i=this,l=new In(e),u=function(e,r){i.runAsync(null,()=>{"view"===n&&function(n,t){var e=n._eventConfig.defaults,r=e&&e.prevent,i=e&&e.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:n.preventDefault()))}(i,t)&&e.preventDefault(),l.receive(cj(i,e,r))})};if("timer"===n)i.timer(u,t);else if("view"===n)i.addEventListener(t,u,fj);else if("window"===n?"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&(r=document.querySelectorAll(n)),r){for(var a=0,o=r.length;a<o;++a)r[a].addEventListener(t,u);i._eventListeners.push({type:t,sources:r,handler:u})}else i.warn("Can not resolve event source: "+n);return l},NA.finalize=function(){var n,t,e,r=this._tooltip,i=this._timers,l=this._eventListeners;for(n=i.length;--n>=0;)i[n].stop();for(n=l.length;--n>=0;)for(t=(e=l[n]).sources.length;--t>=0;)e.sources[t].removeEventListener(e.type,e.handler);return r&&r.call(this,this._handler,null,null,null),this},NA.hover=function(n,t){return t=[t||"update",(n=[n||"hover"])[0]],this.on(this.events("view","mouseover",hj),dj,pj(n)),this.on(this.events("view","mouseout",hj),dj,pj(t)),this},NA.data=function(n){return lj(this,n).values.value},NA.change=uj,NA.insert=function(n,t){return uj.call(this,n,Dn().insert(t))},NA.remove=function(n,t){return uj.call(this,n,Dn().remove(t))},NA.scale=function(n){var t=this._runtime.scales;return t.hasOwnProperty(n)||l("Unrecognized scale or projection: "+n),t[n].value},NA.initialize=function(n,t){var e,r,i=this,l=i._renderType,u=Wc(l);return n=i._el=n?jj(i,n):null,u||i.error("Unrecognized renderer type: "+l),e=u.handler||uc,r=n?u.renderer:u.headless,i._renderer=r?_j(i,i._renderer,n,r):null,i._handler=function(n,t,e,r){var i=new r(n.loader(),kj(n,n.tooltip())).scene(n.scenegraph().root).initialize(e,sj(n),n);return t&&t.handlers().forEach((function(n){i.on(n.type,n.handler)})),i}(i,i._handler,n,e),i._redraw=!0,n&&(t=t?i._elBind=jj(i,t):n.appendChild(gj("div",{class:"vega-bindings"})),i._bind.forEach((function(n){n.param.element&&(n.element=jj(i,n.param.element))})),i._bind.forEach((function(n){!function(n,t,e){if(t){var r=e.param,i=e.state;i||(i=e.state={elements:null,active:!1,set:null,update:function(t){t!==n.signal(r.signal)&&n.runAsync(null,(function(){i.source=!0,n.signal(r.signal,t)}))}},r.debounce&&(i.update=W(r.debounce,i.update))),function(n,t,e,r){var i=gj("div",{class:"vega-bind"});i.appendChild(gj("span",{class:"vega-bind-name"},e.name||e.signal)),t.appendChild(i);var l=mj;switch(e.input){case"checkbox":l=vj;break;case"select":l=wj;break;case"radio":l=yj;break;case"range":l=bj}l(n,i,e,r)}(i,t,r,n.signal(r.signal)),i.active||(n.on(n._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(n.signal(r.signal))})),i.active=!0)}}(i,n.element||t,n)}))),i},NA.toImageURL=async function(n,t){n!==qc.Canvas&&n!==qc.SVG&&n!==qc.PNG&&l("Unrecognized image type: "+n);const e=await Oj(this,n,t);return n===qc.SVG?(r=e.svg(),i=new Blob([r],{type:"image/svg+xml"}),window.URL.createObjectURL(i)):e.canvas().toDataURL("image/png");var r,i},NA.toCanvas=async function(n,t){return(await Oj(this,qc.Canvas,n,t)).canvas()},NA.toSVG=async function(n){return(await Oj(this,qc.SVG,n)).svg()},NA.getState=function(n){return this._runtime.getState(n||{data:SA,signals:CA,recurse:!0})},NA.setState=function(n){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(n)},n=>{n._trigger=!0}),this};var IA=["value","update","init","react","bind"];function LA(n,t){l(n+' for "outer" push: '+c(t))}function UA(n,t){var e=n.name;if("outer"===n.push)t.signals[e]||LA("No prior signal definition",e),IA.forEach((function(t){void 0!==n[t]&&LA("Invalid property ",t)}));else{var r=t.addSignal(e,n.value);!1===n.react&&(r.react=!1),n.bind&&t.addBinding(e,n.bind)}}function qA(n,t,e){var r,i,u={};try{r=function(n){Sj=0,Cj=(Ej=n).length,Dj=null,aO();var t=DO();if(2!==Dj.type)throw new Error("Unexpect token after expression.");return t}(n=s(n)?n:c(n)+"")}catch(t){l("Expression parse error: "+n)}return r.visit((function(n){if(n.type===Tj){var e=n.callee.name,r=cA.visitors[e];r&&r(e,n.arguments,t,u)}})),(i=fA(r)).globals.forEach((function(n){var e="$"+n;!u.hasOwnProperty(e)&&t.getSignal(n)&&(u[e]=t.signalRef(n))})),{$expr:e?e+"return("+i.code+");":i.code,$fields:i.fields,$params:u}}function HA(n,t,e,r){this.id=-1,this.type=n,this.value=t,this.params=e,r&&(this.parent=r)}function WA(n,t,e,r){return new HA(n,t,e,r)}function GA(n,t){return WA("operator",n,t)}function YA(n){var t={$ref:n.id};return n.id<0&&(n.refs=n.refs||[]).push(t),t}var VA={$tupleid:1,toString:function(){return":_tupleid_:"}};function JA(n,t){return t?{$field:n,$name:t}:{$field:n}}var XA=JA("key");function KA(n,t){return{$compare:n,$order:t}}function ZA(n,t){return(n&&n.signal?"$"+n.signal:n||"")+(n&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var QA="scope",nE="view";function tE(n){return n&&n.signal}function eE(n){if(tE(n))return!0;if(o(n))for(var t in n)if(eE(n[t]))return!0;return!1}function rE(n,t){return null!=n?n:t}function iE(n){return n&&n.signal||n}function lE(n,t){return(n.merge?uE:n.stream?aE:n.type?oE:l("Invalid stream specification: "+c(n)))(n,t)}function uE(n,t){var e=sE({merge:n.merge.map(n=>lE(n,t))},n,t);return t.addStream(e).id}function aE(n,t){var e=sE({stream:lE(n.stream,t)},n,t);return t.addStream(e).id}function oE(n,t){var e,r,i;return"timer"===n.type?(e=t.event("timer",n.throttle),n={between:n.between,filter:n.filter}):e=t.event((i=n.source)===QA?nE:i||nE,n.type),r=sE({stream:e},n,t),1===Object.keys(r).length?e:t.addStream(r).id}function sE(n,t,e){var r,i,u,a,o=t.between;return o&&(2!==o.length&&l('Stream "between" parameter must have 2 entries: '+c(t)),n.between=[lE(o[0],e),lE(o[1],e)]),o=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&o.push((r=t.marktype,i=t.markname,(a="event.item")+(r&&"*"!==r?"&&"+a+".mark.marktype==='"+r+"'":"")+((u=t.markrole)?"&&"+a+".mark.role==='"+u+"'":"")+(i?"&&"+a+".mark.name==='"+i+"'":""))),t.source===QA&&o.push("inScope(event.item)"),o.length&&(n.filter=qA("("+o.join(")&&(")+")").$expr),null!=(o=t.throttle)&&(n.throttle=+o),null!=(o=t.debounce)&&(n.debounce=+o),t.consume&&(n.consume=!0),n}var cE,fE,hE=/[[\]{}]/,dE={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function pE(n,t,e,r,i){for(var l,u=0,a=n.length;t<a;++t){if(l=n[t],!u&&l===e)return t;i&&i.indexOf(l)>=0?--u:r&&r.indexOf(l)>=0&&++u}return t}function gE(n){for(var t=[],e=0,r=n.length,i=0;i<r;)i=pE(n,i,",","[{","]}"),t.push(n.substring(e,i).trim()),e=++i;if(0===t.length)throw"Empty event selector: "+n;return t}function mE(n){return"["===n[0]?function(n){var t,e,r=n.length,i=1;if((i=pE(n,i,"]","[","]"))===r)throw"Empty between selector: "+n;if(2!==(t=gE(n.substring(1,i))).length)throw"Between selector must have two elements: "+n;if(">"!==(n=n.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+n;return t=t.map(mE),(e=mE(n.slice(1).trim())).between?{between:t,stream:e}:(e.between=t,e)}(n):function(n){var t,e,r,i={source:cE},l=[],u=[0,0],a=0,o=0,s=n.length,c=0;if("}"===n[s-1]){if(!((c=n.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+n;try{u=function(n){var t=n.split(",");if(!n.length||t.length>2)throw n;return t.map((function(t){var e=+t;if(e!=e)throw n;return e}))}(n.substring(c+1,s-1))}catch(t){throw"Invalid throttle specification: "+n}s=(n=n.slice(0,c).trim()).length,c=0}if(!s)throw n;if("@"===n[0]&&(a=++c),(t=pE(n,c,":"))<s&&(l.push(n.substring(o,t).trim()),o=c=++t),(c=pE(n,c,"["))===s)l.push(n.substring(o,s).trim());else if(l.push(n.substring(o,c).trim()),e=[],(o=++c)===s)throw"Unmatched left bracket: "+n;for(;c<s;){if((c=pE(n,c,"]"))===s)throw"Unmatched left bracket: "+n;if(e.push(n.substring(o,c).trim()),c<s-1&&"["!==n[++c])throw"Expected left bracket: "+n;o=++c}if(!(s=l.length)||hE.test(l[s-1]))throw"Invalid event selector: "+n;return s>1?(i.type=l[1],a?i.markname=l[0].slice(1):(r=l[0],fE.hasOwnProperty(r)?i.marktype=l[0]:i.source=l[0])):i.type=l[0],"!"===i.type.slice(-1)&&(i.consume=!0,i.type=i.type.slice(0,-1)),null!=e&&(i.filter=e),u[0]&&(i.throttle=u[0]),u[1]&&(i.debounce=u[1]),i}(n)}var vE="var datum=event.item&&event.item.datum;";function wE(n){return{signal:"["+n.map(n=>n.scale?'scale("'+n.scale+'")':n.signal)+"]"}}function yE(n){return function(t,e,r){return WA(n,e,t||void 0,r)}}var bE=yE("aggregate"),xE=yE("axisticks"),_E=yE("bound"),kE=yE("collect"),jE=yE("compare"),OE=yE("datajoin"),AE=yE("encode"),EE=yE("expression"),SE=yE("facet"),CE=yE("field"),DE=yE("key"),ME=yE("legendentries"),FE=yE("load"),TE=yE("mark"),NE=yE("multiextent"),BE=yE("multivalues"),zE=yE("overlap"),PE=yE("params"),$E=yE("prefacet"),RE=yE("projection"),IE=yE("proxy"),LE=yE("relay"),UE=yE("render"),qE=yE("scale"),HE=yE("sieve"),WE=yE("sortitems"),GE=yE("viewlayout"),YE=yE("values"),VE=0;function JE(n,t){return o(n)?n.signal?t.signalRef(n.signal):l("Unsupported object: "+c(n)):n}function XE(n,t){return n.signal?t.signalRef(n.signal):n.map(n=>JE(n,t))}function KE(n){l("Can not find data set: "+c(n))}function ZE(n,t,e){if(n)return n.signal?e.signalRef(n.signal):(a(n)?function(n,t,e){return n.map((function(n){return JE(n,e)}))}:n.fields?function(n,t,e){var r=n.data,i=n.fields.reduce((function(n,t){return t=s(t)?{data:r,field:t}:a(t)||t.signal?function(n,t){var e="_:vega:_"+VE++,r=kE({});if(a(n))r.value={$ingest:n};else if(n.signal){var i="setdata("+c(e)+","+n.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(e,[r,HE({})]),{data:e,field:"data"}}(t,e):t,n.push(t),n}),[]);return(lh(t.type)?function(n,t,e){var r,i,l,u;return r=e.map((function(n){var e=t.getData(n.data);return e||KE(n.data),e.countsRef(t,n.field)})),i=t.add(bE({groupby:XA,ops:["sum"],fields:[t.fieldRef("count")],as:["count"],pulse:r})),l=t.add(kE({pulse:YA(i)})),u=t.add(YE({field:XA,sort:t.sortRef(QE(n.sort,!0)),pulse:YA(l)})),YA(u)}:th(t.type)?function(n,t,e){var r=e.map((function(n){var e=t.getData(n.data);return e||KE(n.data),e.domainRef(t,n.field)}));return YA(t.add(BE({values:r})))}:function(n,t,e){var r=e.map((function(n){var e=t.getData(n.data);return e||KE(n.data),e.extentRef(t,n.field)}));return YA(t.add(NE({extents:r})))})(n,e,i)}:function(n,t,e){var r=e.getData(n.data);return r||KE(n.data),lh(t.type)?r.valuesRef(e,n.field,QE(n.sort,!1)):th(t.type)?r.domainRef(e,n.field):r.extentRef(e,n.field)})(n,t,e);null==t.domainMin&&null==t.domainMax||l("No scale domain defined for domainMin/domainMax to override.")}function QE(n,t){return n&&(n.field||n.op?n.field||"count"===n.op?t&&n.field?l("Multiple domain scales can not sort by field."):t&&n.op&&"count"!==n.op&&l("Multiple domain scales support op count only."):l("No field provided for sort aggregate op: "+n.op):o(n)?n.field="key":n={field:"key"}),n}function nS(n,t,e){return a(n)?n.map((function(n){return nS(n,t,e)})):o(n)?n.signal?e.signalRef(n.signal):"fit"===t?n:l("Unsupported parameter object: "+c(n)):n}const tS="top",eS="left",rS="right",iS="bottom",lS="index",uS="label",aS="perc",oS="value",sS="guide-label",cS="guide-title",fS="gradient",hS="discrete",dS=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],pS={name:1,interactive:1},gS={value:0},mS={value:1};var vS=gn(["rule"]),wS=gn(["group","image","rect"]);function yS(n,t,e,r){var i=qA(n,t);return i.$fields.forEach((function(n){r[n]=1})),G(e,i.$params),i.$expr}function bS(n,t,e,r){return function n(t,e,r,i){var a,o,f;if(t.signal)a="datum",f=yS(t.signal,e,r,i);else if(t.group||t.parent){for(o=Math.max(1,t.level||1),a="item";o-- >0;)a+=".mark.group";t.parent?(f=t.parent,a+=".datum"):f=t.group}else t.datum?(a="datum",f=t.datum):l("Invalid field reference: "+c(t));return t.signal||(s(f)?(i[f]=1,f=u(f).map(c).join("][")):f=n(f,e,r,i)),a+"["+f+"]"}(o(n)?n:{datum:n},t,e,r)}function xS(n,t,e,r){var i;if(s(n))i="%"+n,e.hasOwnProperty(i)||(e[i]=t.scaleRef(n)),i=c(i);else{for(i in t.scales)e["%"+i]=t.scaleRef(i);i=c("%")+"+"+(n.signal?"("+yS(n.signal,t,e,r)+")":bS(n,t,e,r))}return"_["+i+"]"}function _S(n,t,e,r){return o(n)?"("+kS(0,n,t,e,r)+")":n}function kS(n,t,e,r,i){if(null!=t.gradient)return function(n,t,e,r){return"this.gradient("+xS(n.gradient,t,e,r)+","+c(n.start)+","+c(n.stop)+","+c(n.count)+")"}(t,e,r,i);var l=t.signal?yS(t.signal,e,r,i):t.color?function(n,t,e,r){function i(n,i,l,u){return"this."+n+"("+[kS(0,i,t,e,r),kS(0,l,t,e,r),kS(0,u,t,e,r)].join(",")+").toString()"}return n.c?i("hcl",n.h,n.c,n.l):n.h||n.s?i("hsl",n.h,n.s,n.l):n.l||n.a?i("lab",n.l,n.a,n.b):n.r||n.g||n.b?i("rgb",n.r,n.g,n.b):null}(t.color,e,r,i):null!=t.field?bS(t.field,e,r,i):void 0!==t.value?c(t.value):void 0;return null!=t.scale&&(l=function(n,t,e,r,i){var l,u,a,o=xS(n.scale,e,r,i);return null!=n.range?(u=o+".range()",t=0==(l=+n.range)?u+"[0]":"($="+u+","+(1===l?"$[$.length-1]":"$[0]+"+l+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=o+"("+t+")"),n.band&&(a=function(n,t){if(!s(n))return-1;var e=t.scaleType(n);return"band"===e||"point"===e?1:0}(n.scale,e))&&(l=(u=o+".bandwidth")+"()"+(1==(l=+n.band)?"":"*"+l),a<0&&(l="("+u+"?"+l+":0)"),t=(t?t+"+":"")+l,n.extra&&(t="(datum.extra?"+o+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t}(t,l,e,r,i)),void 0===l&&(l=null),null!=t.exponent&&(l="Math.pow("+l+","+_S(t.exponent,e,r,i)+")"),null!=t.mult&&(l+="*"+_S(t.mult,e,r,i)),null!=t.offset&&(l+="+"+_S(t.offset,e,r,i)),t.round&&(l="Math.round("+l+")"),l}function jS(n,t,e){const r=n+"["+c(t)+"]";return`$=${e};if(${r}!==$)${r}=$,m=1;`}function OS(n,t,e,r,i){var l="";return t.forEach((function(n){var t=kS(0,n,e,r,i);l+=n.test?yS(n.test,e,r,i)+"?"+t+":":t})),":"===x(l)&&(l+="null"),jS("o",n,l)}function AS(n,t,e,r){var i,l,u={},o="var o=item,datum=o.datum,m=0,$;";for(i in n)l=n[i],a(l)?o+=OS(i,l,r,e,u):o+=jS("o",i,kS(0,l,r,e,u));return o+=function(n,t){var e="";return vS[t]||(n.x2&&(n.x?(wS[t]&&(e+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),e+="o.width=o.x2-o.x;"):e+="o.x=o.x2-(o.width||0);"),n.xc&&(e+="o.x=o.xc-(o.width||0)/2;"),n.y2&&(n.y?(wS[t]&&(e+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),e+="o.height=o.y2-o.y;"):e+="o.y=o.y2-(o.height||0);"),n.yc&&(e+="o.y=o.yc-(o.height||0)/2;")),e}(n,t),{$expr:o+="return m;",$fields:Object.keys(u),$output:Object.keys(n)}}var ES="mark",SS="frame",CS="scope",DS="legend-label";function MS(n){return o(n)?G({},n):{value:n}}function FS(n,t,e,r){return null!=e?(o(e)&&!a(e)?n.update[t]=e:n[r||"enter"][t]={value:e},1):0}function TS(n,t,e){for(let e in t)FS(n,e,t[e]);for(let t in e)FS(n,t,e[t],"update")}function NS(n,t,e){for(var r in t)e&&e.hasOwnProperty(r)||(n[r]=G(n[r]||{},t[r]));return n}function BS(n,t,e,r,i,l){var u,a;for(a in(l=l||{}).encoders={$encode:u={}},n=function(n,t,e,r,i){var l,u,a={};for(l in"legend"!=e&&0!==String(e).indexOf("axis")||(e=null),u=e===SS?i.group:e===ES?G({},i.mark,i[t]):null)PS(l,n)||("fill"===l||"stroke"===l)&&(PS("fill",n)||PS("stroke",n))||(a[l]=zS(u[l]));return I(r).forEach((function(t){var e=i.style&&i.style[t];for(var r in e)PS(r,n)||(a[r]=zS(e[r]))})),(n=G({},n)).enter=G(a,n.enter),n}(n,t,e,r,i.config))u[a]=AS(n[a],t,l,i);return l}function zS(n){return n&&n.signal?{signal:n.signal}:{value:n}}function PS(n,t){return t&&(t.enter&&t.enter[n]||t.update&&t.update[n])}function $S(n,t,e,r,i,l,u){return{type:n,name:u?u.name:void 0,role:t,style:u&&u.style||e,key:r,from:i,interactive:!(!u||!u.interactive),encode:NS(l,u,pS)}}function RS(n,t){const e=e=>rE(n[e],t[e]);return e.isVertical=e=>"vertical"===rE(n.direction,t.direction||(e?t.symbolDirection:t.gradientDirection)),e.gradientLength=()=>rE(n.gradientLength,t.gradientLength||t.gradientWidth),e.gradientThickness=()=>rE(n.gradientThickness,t.gradientThickness||t.gradientHeight),e.entryColumns=()=>rE(n.columns,rE(t.columns,+e.isVertical(!0))),e}function IS(n,t){var e=t&&(t.update&&t.update[n]||t.enter&&t.enter[n]);return e&&e.signal?e:e?e.value:null}function LS(n,t,e){return`item.anchor === "start" ? ${n} : item.anchor === "end" ? ${t} : ${e}`}const US=LS(c(eS),c(rS),c("center"));var qS="group",HS="rule",WS="text";function GS(n,t,e,r){var i,l,u,a,o,s,c=RS(n,e),f=c.isVertical(),h=c.gradientThickness(),d=c.gradientLength();return f?(u=[0,1],a=[0,0],o=h,s=d):(u=[0,0],a=[1,0],o=d,s=h),TS(i={enter:l={opacity:gS,x:gS,y:gS,width:MS(o),height:MS(s)},update:G({},l,{opacity:mS,fill:{gradient:t,start:u,stop:a}}),exit:{opacity:gS}},{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),$S("rect","legend-gradient",null,void 0,void 0,i,r)}function YS(n,t,e,r,i){var l,u,a,o,s,c,f=RS(n,e),h=f.isVertical(),d=f.gradientThickness(),p=f.gradientLength(),g="";return h?(a="y",s="y2",o="x",c="width",g="1-"):(a="x",s="x2",o="y",c="height"),(u={opacity:gS,fill:{scale:t,field:oS}})[a]={signal:g+"datum."+aS,mult:p},u[o]=gS,u[s]={signal:g+"datum.perc2",mult:p},u[c]=MS(d),TS(l={enter:u,update:G({},u,{opacity:mS}),exit:{opacity:gS}},{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),$S("rect","legend-band",null,oS,i,l,r)}const VS=`datum.perc<=0?"${iS}":datum.perc>=1?"top":"middle"`;function JS(n,t,e,r){var i,l,u,a,o,s=RS(n,t),c=s.isVertical(),f=MS(s.gradientThickness()),h=s.gradientLength(),d=s("labelOverlap"),p=s("labelSeparation"),g="";return TS(i={enter:l={opacity:gS},update:u={opacity:mS,text:{field:uS}},exit:{opacity:gS}},{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:rE(n.labelLimit,t.gradientLabelLimit)}),c?(l.align={value:"left"},l.baseline=u.baseline={signal:VS},a="y",o="x",g="1-"):(l.align=u.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},l.baseline={value:"top"},a="x",o="y"),l[a]=u[a]={signal:g+"datum."+aS,mult:h},l[o]=u[o]=f,f.offset=rE(n.labelOffset,t.gradientLabelOffset)||0,n=$S(WS,DS,sS,oS,r,i,e),d&&(n.overlap={separation:p,method:d,order:"datum."+lS}),n}function XS(n,t,e,r,i,l,u,a){return{type:qS,name:e,role:n,style:t,from:r,interactive:i||!1,encode:l,marks:u,layout:a}}function KS(n,t,e,r,i){var l,u,a,o,s,c,f,h=RS(n,t),d=e.entries,p=!(!d||!d.interactive),g=d?d.name:void 0,m=h("clipHeight"),v=h("symbolOffset"),w={data:"value"},y={},b=i+" ? datum.offset : datum.size",x=m?MS(m):{field:"size"},_="datum.index",k=`max(1, ${i})`;return x.mult=.5,y={enter:l={opacity:gS,x:{signal:b,mult:.5,offset:v},y:x},update:u={opacity:mS,x:l.x,y:l.y},exit:{opacity:gS}},n.fill||TS(y,{fill:t.symbolBaseFillColor,stroke:t.symbolBaseStrokeColor}),TS(y,{fill:h("symbolFillColor"),shape:h("symbolType"),size:h("symbolSize"),stroke:h("symbolStrokeColor"),strokeDash:h("symbolDash"),strokeDashOffset:h("symbolDashOffset"),strokeWidth:h("symbolStrokeWidth")},{opacity:h("symbolOpacity")}),dS.forEach((function(t){n[t]&&(u[t]=l[t]={scale:n[t],field:oS})})),o=$S("symbol","legend-symbol",null,oS,w,y,e.symbols),m&&(o.clip=!0),(a=MS(v)).offset=h("labelOffset"),TS(y={enter:l={opacity:gS,x:{signal:b,offset:a},y:x},update:u={opacity:mS,text:{field:uS},x:l.x,y:l.y},exit:{opacity:gS}},{align:h("labelAlign"),baseline:h("labelBaseline"),fill:h("labelColor"),fillOpacity:h("labelOpacity"),font:h("labelFont"),fontSize:h("labelFontSize"),fontStyle:h("labelFontStyle"),fontWeight:h("labelFontWeight"),limit:h("labelLimit")}),s=$S(WS,DS,sS,oS,w,y,e.labels),y={enter:{noBound:{value:!m},width:gS,height:m?MS(m):gS,opacity:gS},exit:{opacity:gS},update:u={opacity:mS,row:{signal:null},column:{signal:null}}},h.isVertical(!0)?(c=`ceil(item.mark.items.length / ${k})`,u.row.signal=`${_}%${c}`,u.column.signal=`floor(${_} / ${c})`,f={field:["row",_]}):(u.row.signal=`floor(${_} / ${k})`,u.column.signal=`${_} % ${k}`,f={field:_}),u.column.signal=`${i}?${u.column.signal}:${_}`,(n=XS(CS,null,g,r={facet:{data:r,name:"value",groupby:lS}},p,NS(y,d,pS),[o,s])).sort=f,n}const ZS='item.orient === "left"',QS='item.orient === "right"',nC=`(${ZS} || ${QS})`,tC="datum.vgrad && "+nC,eC=LS('"top"','"bottom"','"middle"'),rC=`datum.vgrad && ${QS} ? (${LS('"right"','"left"','"center"')}) : (${nC} && !(datum.vgrad && ${ZS})) ? "left" : ${US}`,iC=`item._anchor || (${nC} ? "middle" : "start")`,lC=`${tC} ? (${ZS} ? -90 : 90) : 0`,uC=`${nC} ? (datum.vgrad ? (${QS} ? "bottom" : "top") : ${eC}) : "top"`;function aC(n,t){var e;return o(n)&&(n.signal?e=n.signal:n.path?e="pathShape("+oC(n.path)+")":n.sphere&&(e="geoShape("+oC(n.sphere)+', {type: "Sphere"})')),e?t.signalRef(e):!!n}function oC(n){return o(n)&&n.signal?n.signal:c(n)}function sC(n){var t=n.role||"";return t.indexOf("axis")&&t.indexOf("legend")?n.type===qS?CS:t||ES:t}function cC(n){return{marktype:n.type,name:n.name||void 0,role:n.role||sC(n),zindex:+n.zindex||void 0}}function fC(n,t){return n&&n.signal?t.signalRef(n.signal):!1!==n}function hC(n,t){var e=zr(n.type);e||l("Unrecognized transform type: "+c(n.type));var r=WA(e.type.toLowerCase(),null,dC(e,n,t));return n.signal&&t.addSignal(n.signal,t.proxy(r)),r.metadata=e.metadata||{},r}function dC(n,t,e){var r,i,l,u={};for(i=0,l=n.params.length;i<l;++i)u[(r=n.params[i]).name]=pC(r,t,e);return u}function pC(n,t,e){var r=n.type,i=t[n.name];return"index"===r?function(n,t,e){return s(t.from)||l('Lookup "from" parameter must be a string literal.'),e.getData(t.from).lookupRef(e,t.key)}(0,t,e):void 0!==i?"param"===r?function(n,t,e){var r=t[n.name];return n.array?(a(r)||l("Expected an array of sub-parameters. Instead: "+c(r)),r.map((function(t){return mC(n,t,e)}))):mC(n,r,e)}(n,t,e):"projection"===r?e.projectionRef(t[n.name]):n.array&&!tE(i)?i.map((function(t){return gC(n,t,e)})):gC(n,i,e):void(n.required&&l("Missing required "+c(t.type)+" parameter: "+c(n.name)))}function gC(n,t,e){var r=n.type;if(tE(t))return vC(r)?l("Expression references can not be signals."):wC(r)?e.fieldRef(t):yC(r)?e.compareRef(t):e.signalRef(t.signal);var i,u=n.expr||wC(r);return u&&(i=t)&&i.expr?e.exprRef(t.expr,t.as):u&&function(n){return n&&n.field}(t)?JA(t.field,t.as):vC(r)?qA(t,e):function(n){return"data"===n}(r)?YA(e.getData(t).values):wC(r)?JA(t):yC(r)?e.compareRef(t):t}function mC(n,t,e){var r,i,u,a,o;for(a=0,o=n.params.length;a<o;++a){for(u in(i=n.params[a]).key)if(i.key[u]!==t[u]){i=null;break}if(i)break}return i||l("Unsupported parameter: "+c(t)),r=G(dC(i,t,e),i.key),YA(e.add(PE(r)))}function vC(n){return"expr"===n}function wC(n){return"field"===n}function yC(n){return"compare"===n}function bC(n,t){return n.$ref?n:n.data&&n.data.$ref?n.data:YA(t.getData(n.data).output)}function xC(n,t,e,r,i){this.scope=n,this.input=t,this.output=e,this.values=r,this.aggregate=i,this.index={}}xC.fromEntries=function(n,t){var e=t.length,r=1,i=t[0],l=t[e-1],u=t[e-2],a=null;for(i&&"load"===i.type&&(i=t[1]),n.add(t[0]);r<e;++r)t[r].params.pulse=YA(t[r-1]),n.add(t[r]),"aggregate"===t[r].type&&(a=t[r]);return new xC(n,i,u,l,a)};var _C=xC.prototype;function kC(n){return s(n)?n:null}function jC(n,t,e){var r,i=ZA(e.op,e.field);if(t.ops){for(var l=0,u=t.as.length;l<u;++l)if(t.as[l]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];e.op&&(t.ops.push((r=e.op.signal)?n.signalRef(r):e.op),t.fields.push(n.fieldRef(e.field)),t.as.push(i))}function OC(n,t,e,r,i,l,u){var a,s,c=t[e]||(t[e]={}),f=function(n){return o(n)?("descending"===n.order?"-":"+")+ZA(n.op,n.field):""}(l),h=kC(i);if(null!=h&&(n=t.scope,a=c[h+=f?"|"+f:""]),!a){var d=l?{field:XA,pulse:t.countsRef(n,i,l)}:{field:n.fieldRef(i),pulse:YA(t.output)};f&&(d.sort=n.sortRef(l)),s=n.add(WA(r,void 0,d)),u&&(t.index[i]=s),a=YA(s),null!=h&&(c[h]=a)}return a}function AC(n,t,e){var r,i=n.remove,l=n.insert,u=n.toggle,a=n.modify,o=n.values,s=t.add(GA());r=qA("if("+n.trigger+',modify("'+e+'",'+[l,i,u,a,o].map((function(n){return null==n?"null":n})).join(",")+"),0)",t),s.update=r.$expr,s.params=r.$params}function EC(n,t){var e,r,i,u,a,o,s,f,h,d,p,g,m,v,w=sC(n),y=n.type===qS,b=n.from&&n.from.facet,x=n.layout||w===CS||w===SS,_=w===ES||x||b,k=n.overlap;i=function(n,t,e){var r,i,u,a,o;return n?(r=n.facet)&&(t||l("Only group marks can be faceted."),null!=r.field?a=o=bC(r,e):(n.data?o=YA(e.getData(n.data).aggregate):((u=hC(G({type:"aggregate",groupby:I(r.groupby)},r.aggregate),e)).params.key=e.keyRef(r.groupby),u.params.pulse=bC(r,e),a=o=YA(e.add(u))),i=e.keyRef(r.groupby,!0))):a=YA(e.add(kE(null,[{}]))),a||(a=bC(n,e)),{key:i,pulse:a,parent:o}}(n.from,y,t),d=YA(r=t.add(OE({key:i.key||(n.key?JA(n.key):void 0),pulse:i.pulse,clean:!y}))),r=u=t.add(kE({pulse:d})),r=t.add(TE({markdef:cC(n),interactive:fC(n.interactive,t),clip:aC(n.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:YA(r)})),p=YA(r),(r=a=t.add(AE(BS(n.encode,n.type,w,n.style,t,{mod:!1,pulse:p})))).params.parent=t.encode(),n.transform&&n.transform.forEach((function(n){const e=hC(n,t),i=e.metadata;(i.generates||i.changes)&&l("Mark transforms should not generate new data."),i.nomod||(a.params.mod=!0),e.params.pulse=YA(r),t.add(r=e)})),n.sort&&(r=t.add(WE({sort:t.compareRef(n.sort,!0),pulse:YA(r)}))),g=YA(r),(b||x)&&(m=YA(x=t.add(GE({layout:t.objectProperty(n.layout),legends:t.legends,mark:p,pulse:g})))),v=YA(o=t.add(_E({mark:p,pulse:m||g}))),y&&(_&&((e=t.operators).pop(),x&&e.pop()),t.pushState(g,m||v,d),b?function(n,t,e){var r,i,u,a,o=n.from.facet,s=o.name,f=bC(o,t);o.name||l("Facet must have a name: "+c(o)),o.data||l("Facet must reference a data set: "+c(o)),o.field?a=t.add($E({field:t.fieldRef(o.field),pulse:f})):o.groupby?a=t.add(SE({key:t.keyRef(o.groupby),group:YA(t.proxy(e.parent)),pulse:f})):l("Facet must specify groupby or field: "+c(o)),i=(r=t.fork()).add(kE()),u=r.add(HE({pulse:YA(i)})),r.addData(s,new xC(r,i,i,u)),r.addSignal("parent",null),a.params.subflow={$subflow:BC(n,r).toRuntime()}}(n,t,i):_?function(n,t,e){var r=t.add($E({pulse:e.pulse})),i=t.fork();i.add(HE()),i.addSignal("parent",null),r.params.subflow={$subflow:BC(n,i).toRuntime()}}(n,t,i):BC(n,t),t.popState(),_&&(x&&e.push(x),e.push(o))),k&&(v=function(n,t,e){var r,i=n.method,l=n.bound,u=n.separation,a={separation:tE(u)?e.signalRef(u.signal):u,method:tE(i)?e.signalRef(i.signal):i,pulse:t};return n.order&&(a.sort=e.compareRef({field:n.order})),l&&(r=l.tolerance,a.boundTolerance=tE(r)?e.signalRef(r.signal):+r,a.boundScale=e.scaleRef(l.scale),a.boundOrient=l.orient),YA(e.add(zE(a)))}(k,v,t)),s=t.add(UE({pulse:v})),f=t.add(HE({pulse:YA(s)},void 0,t.parent())),null!=n.name&&(h=n.name,t.addData(h,new xC(t,u,s,f)),n.on&&n.on.forEach((function(n){(n.insert||n.remove||n.toggle)&&l("Marks only support modify triggers."),AC(n,t,h)})))}function SC(n,t,e){return t[n]?`scale("${t[n]}",datum)`:IS(n,e[0].encode)}_C.countsRef=function(n,t,e){var r,i,l,u=this.counts||(this.counts={}),a=kC(t);return null!=a&&(n=this.scope,r=u[a]),r?e&&e.field&&jC(n,r.agg.params,e):(l={groupby:n.fieldRef(t,"key"),pulse:YA(this.output)},e&&e.field&&jC(n,l,e),i=n.add(bE(l)),r=n.add(kE({pulse:YA(i)})),r={agg:i,ref:YA(r)},null!=a&&(u[a]=r)),r.ref},_C.tuplesRef=function(){return YA(this.values)},_C.extentRef=function(n,t){return OC(n,this,"extent","extent",t,!1)},_C.domainRef=function(n,t){return OC(n,this,"domain","values",t,!1)},_C.valuesRef=function(n,t,e){return OC(n,this,"vals","values",t,e||!0)},_C.lookupRef=function(n,t){return OC(n,this,"lookup","tupleindex",t,!1)},_C.indataRef=function(n,t){return OC(n,this,"indata","tupleindex",t,!0,!0)};const CC=`item.orient==="${iS}"?"top":"${iS}"`;function DC(n){var t=kE({},n);return t.metadata={source:!0},t}function MC(n,t){return FE({url:t.url?n.property(t.url):void 0,values:t.values?n.property(t.values):void 0,format:n.objectProperty(t.format)})}function FC(n,t){return{scale:n.scale,range:t}}function TC(n,t,e,r){var i,l,u,a,s,c,f,h,d,p=RS(n,t),g=n.orient,m=n.gridScale,v=g===eS||g===tS?1:-1,w=function(n,t){if(1===t);else if(o(n)){for(var e=n=G({},n);null!=e.mult;){if(!o(e.mult))return e.mult*=t,n;e=e.mult=G({},e.mult)}e.mult=t}else n=t*(n||0);return n}(n.offset,v);return TS(i={enter:l={opacity:gS},update:a={opacity:mS},exit:u={opacity:gS}},{stroke:p("gridColor"),strokeDash:p("gridDash"),strokeDashOffset:p("gridDashOffset"),strokeOpacity:p("gridOpacity"),strokeWidth:p("gridWidth")}),s={scale:n.scale,field:oS,band:p("bandPosition"),round:p("tickRound"),extra:p("tickExtra"),offset:p("tickOffset")},g===tS||g===iS?(c="x",f="y",d="height"):(c="y",f="x",d="width"),h=f+"2",a[c]=l[c]=u[c]=s,m?(a[f]=l[f]={scale:m,range:0,mult:v,offset:w},a[h]=l[h]={scale:m,range:1,mult:v,offset:w}):(a[f]=l[f]={value:0,offset:w},a[h]=l[h]={signal:d,mult:v,offset:w}),$S(HS,"axis-grid",null,oS,r,i,e)}function NC(n,t,e,r,i){return{signal:'flush(range("'+n+'"), scale("'+n+'", datum.value), '+t+","+e+","+r+","+i+")"}}function BC(n,t,e){var r=I(n.signals),i=I(n.scales);return e||r.forEach((function(n){UA(n,t)})),I(n.projections).forEach((function(n){!function(n,t){var e={};for(var r in n)"name"!==r&&(e[r]=nS(n[r],r,t));t.addProjection(n.name,e)}(n,t)})),i.forEach((function(n){!function(n,t){var e=n.type||"linear";(function(n){switch(n){case $f:case Rf:case If:case Lf:case Uf:case qf:case Hf:case Wf:case Gf:case Vf:case Jf:case Xf:case Kf:case Zf:case Qf:case nh:return!0}return!1})(e)||l("Unrecognized scale type: "+c(e)),t.addScale(n.name,{type:e,domain:void 0})}(n,t)})),I(n.data).forEach((function(n){!function(n,t){var e=[];n.transform&&n.transform.forEach((function(n){e.push(hC(n,t))})),n.on&&n.on.forEach((function(e){AC(e,t,n.name)})),t.addDataPipeline(n.name,function(n,t,e){var r,i,l,u,a,o=[],s=null,c=!1,f=!1;for(n.values?eE(n.values)||eE(n.format)?(o.push(MC(t,n)),o.push(s=DC())):o.push(s=DC({$ingest:n.values,$format:n.format})):n.url?eE(n.url)||eE(n.format)?(o.push(MC(t,n)),o.push(s=DC())):o.push(s=DC({$request:n.url,$format:n.format})):n.source&&(s=r=I(n.source).map((function(n){return YA(t.getData(n).output)})),o.push(null)),i=0,l=e.length;i<l;++i)a=(u=e[i]).metadata,s||a.source||o.push(s=DC()),o.push(u),a.generates&&(f=!0),a.modifies&&!f&&(c=!0),a.source?s=u:a.changes&&(s=null);return r&&(l=r.length-1,o[0]=LE({derive:c,pulse:l?r:r[0]}),(c||l)&&o.splice(1,0,DC())),s||o.push(DC()),o.push(HE({})),o}(n,t,e))}(n,t)})),i.forEach((function(n){!function(n,t){var e,r,i=t.getScale(n.name).params;for(e in i.domain=ZE(n.domain,n,t),null!=n.range&&(i.range=function n(t,e,r){var i=t.range,u=e.config.range;if(i.signal)return e.signalRef(i.signal);if(s(i)){if(u&&u.hasOwnProperty(i))return n(t=G({},t,{range:u[i]}),e,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=lh(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:l("Unrecognized scale range value: "+c(i))}else{if(i.scheme)return r.scheme=a(i.scheme)?XE(i.scheme,e):JE(i.scheme,e),i.extent&&(r.schemeExtent=XE(i.extent,e)),void(i.count&&(r.schemeCount=JE(i.count,e)));if(i.step)return void(r.rangeStep=JE(i.step,e));if(lh(t.type)&&!a(i))return ZE(i,t,e);a(i)||l("Unsupported range type: "+c(i))}return i.map(n=>(a(n)?XE:JE)(n,e))}(n,t,i)),null!=n.interpolate&&function(n,t){t.interpolate=JE(n.type||n),null!=n.gamma&&(t.interpolateGamma=JE(n.gamma))}(n.interpolate,i),null!=n.nice&&(i.nice=o(r=n.nice)?{interval:JE(r.interval),step:JE(r.step)}:JE(r)),null!=n.bins&&(i.bins=function(n,t){return n.signal||a(n)?XE(n,t):t.objectProperty(n)}(n.bins,t)),n)i.hasOwnProperty(e)||"name"===e||(i[e]=JE(n[e],t))}(n,t)})),r.forEach((function(n){!function(n,t){var e=t.getSignal(n.name),r=n.update;n.init&&(r?l("Signals can not include both init and update expressions."):(r=n.init,e.initonly=!0)),r&&(r=qA(r,t),e.update=r.$expr,e.params=r.$params),n.on&&n.on.forEach((function(n){!function(n,t,e){var r=n.events,i=n.update,u=n.encode,a=[],o={target:e};r||l("Signal update missing events specification."),s(r)&&(r=function(n,t,e){return cE=t||"view",fE=dE,gE(n.trim()).map(mE)}(r,t.isSubscope()?QA:nE)),r=I(r).filter(n=>n.signal||n.scale?(a.push(n),0):1),a.length>1&&(a=[wE(a)]),r.length&&a.push(r.length>1?{merge:r}:r[0]),null!=u&&(i&&l("Signal encode and update are mutually exclusive."),i="encode(item(),"+c(u)+")"),o.update=s(i)?qA(i,t,vE):null!=i.expr?qA(i.expr,t,vE):null!=i.value?i.value:null!=i.signal?{$expr:"_.value",$params:{value:t.signalRef(i.signal)}}:l("Invalid signal update specification."),n.force&&(o.options={force:!0}),a.forEach((function(n){t.addUpdate(G(function(n,t){return{source:n.signal?t.signalRef(n.signal):n.scale?t.scaleRef(n.scale):lE(n,t)}}(n,t),o))}))}(n,t,e.id)}))}(n,t)})),I(n.axes).forEach((function(n){!function(n,t){var e,r,i,l,u,a,o=function(n,t){var e=t.config,r=n.orient,i=r===tS||r===iS?e.axisX:e.axisY,l=e["axis"+r[0].toUpperCase()+r.slice(1)],u="band"===t.scaleType(n.scale)&&e.axisBand;return i||l||u?G({},e.axis,i,l,u):e.axis}(n,t),s=n.encode||{},c=s.axis||{},f=c.name||void 0,h=c.interactive,d=c.style,p=RS(n,o);e={orient:n.orient,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=n.title},r=YA(t.add(kE({},[e]))),c=NS({update:{offset:MS(p("offset")||0),position:MS(rE(n.position,0)),titlePadding:MS(p("titlePadding")),minExtent:MS(p("minExtent")),maxExtent:MS(p("maxExtent")),range:{signal:`abs(span(range("${n.scale}")))`}}},s.axis,pS),i=YA(t.add(xE({scale:t.scaleRef(n.scale),extra:t.property(p("tickExtra")),count:t.objectProperty(n.tickCount),values:t.objectProperty(n.values),minstep:t.property(n.tickMinStep),formatType:t.property(n.formatType),formatSpecifier:t.property(n.format)}))),a=[],e.grid&&a.push(TC(n,o,s.grid,i)),e.ticks&&(l=p("tickSize"),a.push(function(n,t,e,r,i){var l,u,a,o,s,c,f=RS(n,t),h=n.orient,d=h===eS||h===tS?-1:1;return TS(l={enter:u={opacity:gS},update:o={opacity:mS},exit:a={opacity:gS}},{stroke:f("tickColor"),strokeDash:f("tickDash"),strokeDashOffset:f("tickDashOffset"),strokeOpacity:f("tickOpacity"),strokeWidth:f("tickWidth")}),(s=MS(i)).mult=d,c={scale:n.scale,field:oS,band:f("bandPosition"),round:f("tickRound"),extra:f("tickExtra"),offset:f("tickOffset")},h===tS||h===iS?(o.y=u.y=gS,o.y2=u.y2=s,o.x=u.x=a.x=c):(o.x=u.x=gS,o.x2=u.x2=s,o.y=u.y=a.y=c),$S(HS,"axis-tick",null,oS,r,l,e)}(n,o,s.ticks,i,l))),e.labels&&(l=e.ticks?l:0,a.push(function(n,t,e,r,i){var l,u,a,o,s,c,f,h,d,p,g=RS(n,t),m=n.orient,v=m===eS||m===tS?-1:1,w=m===tS||m===iS,y=n.scale,b=iE(g("labelFlush")),x=iE(g("labelFlushOffset")),_=0===b||!!b,k=g("labelAlign"),j=g("labelBaseline");return(a=MS(i)).mult=v,a.offset=MS(g("labelPadding")||0),a.offset.mult=v,o={scale:y,field:oS,band:.5,offset:g("tickOffset")},w?(s=k||(_?NC(y,b,'"left"','"right"','"center"'):"center"),c=j||(m===tS?"bottom":"top"),f=!k):(s=k||(m===rS?"left":"right"),c=j||(_?NC(y,b,'"top"','"bottom"','"middle"'):"middle"),f=!j),f=f&&_&&x?NC(y,b,"-"+x,x,0):null,TS(l={enter:u={opacity:gS,x:w?o:a,y:w?a:o},update:{opacity:mS,text:{field:uS},x:u.x,y:u.y},exit:{opacity:gS,x:u.x,y:u.y}},{[w?"dx":"dy"]:f,align:s,baseline:c,angle:g("labelAngle"),fill:g("labelColor"),fillOpacity:g("labelOpacity"),font:g("labelFont"),fontSize:g("labelFontSize"),fontWeight:g("labelFontWeight"),fontStyle:g("labelFontStyle"),limit:g("labelLimit")}),h=g("labelBound"),d=g("labelOverlap"),p=g("labelSeparation"),n=$S(WS,"axis-label",sS,oS,r,l,e),(d||h)&&(n.overlap={separation:p,method:d,order:"datum.index",bound:h?{scale:y,orient:m,tolerance:h}:null}),n}(n,o,s.labels,i,l))),e.domain&&a.push(function(n,t,e,r){var i,l,u,a,o,s,c=RS(n,t),f=n.orient;return TS(i={enter:l={opacity:gS},update:u={opacity:mS},exit:{opacity:gS}},{stroke:c("domainColor"),strokeDash:c("domainDash"),strokeDashOffset:c("domainDashOffset"),strokeWidth:c("domainWidth"),strokeOpacity:c("domainOpacity")}),f===tS||f===iS?(a="x",s="y"):(a="y",s="x"),o=a+"2",l[s]=gS,u[a]=l[a]=FC(n,0),u[o]=l[o]=FC(n,1),$S(HS,"axis-domain",null,null,r,i,e)}(n,o,s.domain,r)),e.title&&a.push(function(n,t,e,r){var i,l,u,a,o=RS(n,t),s=n.orient,c=s===eS||s===tS?-1:1,f=s===tS||s===iS;return i={enter:l={opacity:gS,anchor:MS(o("titleAnchor")),align:{signal:US}},update:u=G({},l,{opacity:mS,text:MS(n.title)}),exit:{opacity:gS}},a={signal:`lerp(range("${n.scale}"), ${LS(0,1,.5)})`},f?(u.x=a,l.angle={value:0},l.baseline={value:s===tS?"bottom":"top"}):(u.y=a,l.angle={value:90*c},l.baseline={value:"bottom"}),TS(i,{angle:o("titleAngle"),baseline:o("titleBaseline"),fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit")},{align:o("titleAlign")}),!FS(i,"x",o("titleX"),"update")&&!f&&!PS("x",e)&&(i.enter.auto={value:!0}),!FS(i,"y",o("titleY"),"update")&&f&&!PS("y",e)&&(i.enter.auto={value:!0}),$S(WS,"axis-title",cS,null,r,i,e)}(n,o,s.title,r)),u=XS("axis",d,f,r,h,c,a),n.zindex&&(u.zindex=n.zindex),EC(u,t)}(n,t)})),I(n.marks).forEach((function(n){EC(n,t)})),I(n.legends).forEach((function(n){!function(n,t){var e,r,i,u,a,o,s,c,f,h=t.config.legend,d=n.encode||{},p=d.legend||{},g=p.name||void 0,m=p.interactive,v=p.style,w=RS(n,h),y=dS.reduce((function(t,e){return t||n[e]}),0);y||l("Missing valid scale for legend."),a=function(n,t){var e=n.type||"symbol";return n.type||1!==function(n){return dS.reduce((function(t,e){return t+(n[e]?1:0)}),0)}(n)||!n.fill&&!n.stroke||(e=ih(t)?fS:uh(t)?hS:"symbol"),e!==fS?e:uh(t)?hS:fS}(n,t.scaleType(y)),o={title:null!=n.title,type:a,vgrad:"symbol"!==a&&w.isVertical()},s=YA(t.add(kE(null,[o]))),p=NS(function(n,t){var e={enter:{},update:{}};return TS(e,{orient:n("orient"),offset:n("offset"),padding:n("padding"),titlePadding:n("titlePadding"),cornerRadius:n("cornerRadius"),fill:n("fillColor"),stroke:n("strokeColor"),strokeWidth:t.strokeWidth,strokeDash:t.strokeDash,x:n("legendX"),y:n("legendY")}),e}(w,h),p,pS),e={enter:{x:{value:0},y:{value:0}}},c=YA(t.add(ME(i={type:a,scale:t.scaleRef(y),count:t.objectProperty(n.tickCount),values:t.objectProperty(n.values),minstep:t.property(n.tickMinStep),formatType:t.property(n.formatType),formatSpecifier:t.property(n.format)}))),a===fS?(u=[GS(n,y,h,d.gradient),JS(n,h,d.labels,c)],i.count=i.count||t.signalRef(`max(2,2*floor((${iE(w.gradientLength())})/100))`)):a===hS?u=[YS(n,y,h,d.gradient,c),JS(n,h,d.labels,c)]:(r=function(n,t){const e=RS(n,t);return{align:e("gridAlign"),columns:e.entryColumns(),center:{row:!0,column:!1},padding:{row:e("rowPadding"),column:e("columnPadding")}}}(n,h),u=[KS(n,h,d,c,iE(r.columns))],i.size=function(n,t,e){return qA(`max(ceil(sqrt(${iE(SC("size",n,e))})+${iE(SC("strokeWidth",n,e))}),${iE(function(n,t,e){return IS("fontSize",n)||function(n,t,e){var r=t.config.style["guide-label"];return r&&r.fontSize}(0,t)}(e[1].encode,t))})`,t)}(n,t,u[0].marks)),u=[XS("legend-entry",null,null,s,m,e,u,r)],o.title&&u.push(function(n,t,e,r){var i,l=RS(n,t);return TS(i={enter:{opacity:gS},update:{opacity:mS,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:gS}},{orient:l("titleOrient"),_anchor:l("titleAnchor"),anchor:{signal:iC},angle:{signal:lC},align:{signal:rC},baseline:{signal:uC},text:n.title,fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit")},{align:l("titleAlign"),baseline:l("titleBaseline")}),$S(WS,"legend-title",cS,null,r,i,e)}(n,h,d.title,s)),f=XS("legend",v,g,s,m,p,u),n.zindex&&(f.zindex=n.zindex),EC(f,t)}(n,t)})),n.title&&function(n,t){n=s(n)?{text:n}:n;var e,r,i=t.config.title,l=G({},n.encode);e=YA(t.add(kE(null,[{}]))),l.name=n.name,l.interactive=n.interactive,r=function(n,t,e,r){var i,l=RS(n,t),u={value:0};return TS(i={enter:{opacity:u},update:{opacity:{value:1}},exit:{opacity:u}},{text:n.text,orient:l("orient"),anchor:l("anchor"),align:{signal:US},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},baseline:{signal:CC},dx:l("dx"),dy:l("dy"),fill:l("color"),font:l("font"),fontSize:l("fontSize"),fontStyle:l("fontStyle"),fontWeight:l("fontWeight"),frame:l("frame"),limit:l("limit"),offset:l("offset")||0},{align:l("align"),angle:l("angle"),baseline:l("baseline")}),$S(WS,"title",n.style||"group-title",null,r,i,e)}(n,i,l,e),n.zindex&&(r.zindex=n.zindex),EC(r,t)}(n.title,t),t.parseLambdas(),t}var zC=gn(["width","height","padding","autosize"]);function PC(n){this.config=n,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function $C(n){this.config=n.config,this.legends=n.legends,this.field=Object.create(n.field),this.signals=Object.create(n.signals),this.lambdas=Object.create(n.lambdas),this.scales=Object.create(n.scales),this.events=Object.create(n.events),this.data=Object.create(n.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++n._nextsub[0],this._nextsub=n._nextsub,this._parent=n._parent.slice(),this._encode=n._encode.slice(),this._lookup=n._lookup.slice(),this._markpath=n._markpath}var RC=PC.prototype=$C.prototype;function IC(n,t,e,r){var i,l;if(o(e)&&!a(e))for(i in l=o(n[t])?n[t]:n[t]={},e)r&&(!0===r||r[i])?IC(l,i,e[i]):l[i]=e[i];else n[t]=e}RC.fork=function(){return new $C(this)},RC.isSubscope=function(){return this._subid>0},RC.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},RC.id=function(){return(this._subid?this._subid+":":0)+this._id++},RC.add=function(n){return this.operators.push(n),n.id=this.id(),n.refs&&(n.refs.forEach((function(t){t.$ref=n.id})),n.refs=null),n},RC.proxy=function(n){var t=n instanceof HA?YA(n):n;return this.add(IE({value:t}))},RC.addStream=function(n){return this.streams.push(n),n.id=this.id(),n},RC.addUpdate=function(n){return this.updates.push(n),n},RC.finish=function(){var n,t;for(n in this.root&&(this.root.root=!0),this.signals)this.signals[n].signal=n;for(n in this.scales)this.scales[n].scale=n;function e(n,t,e){var r;n&&((r=n.data||(n.data={}))[t]||(r[t]=[])).push(e)}for(n in this.data)for(var r in e((t=this.data[n]).input,n,"input"),e(t.output,n,"output"),e(t.values,n,"values"),t.index)e(t.index[r],n,"index:"+r);return this},RC.pushState=function(n,t,e){this._encode.push(YA(this.add(HE({pulse:n})))),this._parent.push(t),this._lookup.push(e?YA(this.proxy(e)):null),this._markpath.push(-1)},RC.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},RC.parent=function(){return x(this._parent)},RC.encode=function(){return x(this._encode)},RC.lookup=function(){return x(this._lookup)},RC.markpath=function(){var n=this._markpath;return++n[n.length-1]},RC.fieldRef=function(n,t){if(s(n))return JA(n,t);n.signal||l("Unsupported field reference: "+c(n));var e,r=n.signal,i=this.field[r];return i||(e={name:this.signalRef(r)},t&&(e.as=t),this.field[r]=i=YA(this.add(CE(e)))),i},RC.compareRef=function(n,t){function e(n){return tE(n)?(i=!0,r.signalRef(n.signal)):function(n){return n&&n.expr}(n)?(i=!0,r.exprRef(n.expr)):n}var r=this,i=!1,l=I(n.field).map(e),u=I(n.order).map(e);return t&&l.push(VA),i?YA(this.add(jE({fields:l,orders:u}))):KA(l,u)},RC.keyRef=function(n,t){var e=this.signals,r=!1;return n=I(n).map((function(n){return tE(n)?(r=!0,YA(e[n.signal])):n})),r?YA(this.add(DE({fields:n,flat:t}))):function(n,t){var e={$key:n};return t&&(e.$flat=!0),e}(n,t)},RC.sortRef=function(n){if(!n)return n;var t=[ZA(n.op,n.field),VA],e=n.order||"ascending";return e.signal?YA(this.add(jE({fields:t,orders:[e=this.signalRef(e.signal),e]}))):KA(t,[e,e])},RC.event=function(n,t){var e=n+":"+t;if(!this.events[e]){var r=this.id();this.streams.push({id:r,source:n,type:t}),this.events[e]=r}return this.events[e]},RC.addSignal=function(n,t){this.signals.hasOwnProperty(n)&&l("Duplicate signal name: "+c(n));var e=t instanceof HA?t:this.add(GA(t));return this.signals[n]=e},RC.getSignal=function(n){return this.signals[n]||l("Unrecognized signal name: "+c(n)),this.signals[n]},RC.signalRef=function(n){return this.signals[n]?YA(this.signals[n]):(this.lambdas.hasOwnProperty(n)||(this.lambdas[n]=this.add(GA(null))),YA(this.lambdas[n]))},RC.parseLambdas=function(){for(var n=Object.keys(this.lambdas),t=0,e=n.length;t<e;++t){var r=n[t],i=qA(r,this),l=this.lambdas[r];l.params=i.$params,l.update=i.$expr}},RC.property=function(n){return n&&n.signal?this.signalRef(n.signal):n},RC.objectProperty=function(n){return n&&o(n)?this.signalRef(n.signal||function n(t){return(a(t)?function(t){for(var e,r="[",i=0,l=t.length;i<l;++i)r+=(i>0?",":"")+(o(e=t[i])?e.signal||n(e):c(e));return r+"]"}:function(t){var e,r,i="{",l=0;for(e in t)r=t[e],i+=(++l>1?",":"")+c(e)+":"+(o(r)?r.signal||n(r):c(r));return i+"}"})(t)}(n)):n},RC.exprRef=function(n,t){var e={expr:qA(n,this)};return t&&(e.expr.$name=t),YA(this.add(EE(e)))},RC.addBinding=function(n,t){this.bindings||l("Nested signals do not support binding: "+c(n)),this.bindings.push(G({signal:n},t))},RC.addScaleProj=function(n,t){this.scales.hasOwnProperty(n)&&l("Duplicate scale or projection name: "+c(n)),this.scales[n]=this.add(t)},RC.addScale=function(n,t){this.addScaleProj(n,qE(t))},RC.addProjection=function(n,t){this.addScaleProj(n,RE(t))},RC.getScale=function(n){return this.scales[n]||l("Unrecognized scale name: "+c(n)),this.scales[n]},RC.projectionRef=RC.scaleRef=function(n){return YA(this.getScale(n))},RC.projectionType=RC.scaleType=function(n){return this.getScale(n).params.type},RC.addData=function(n,t){return this.data.hasOwnProperty(n)&&l("Duplicate data set name: "+c(n)),this.data[n]=t},RC.getData=function(n){return this.data[n]||l("Undefined data set name: "+c(n)),this.data[n]},RC.addDataPipeline=function(n,t){return this.data.hasOwnProperty(n)&&l("Duplicate data set name: "+c(n)),this.addData(n,xC.fromEntries(this,t))};var LC="sans-serif",UC=30,qC=2,HC="#4c78a8",WC="#000",GC="#888",YC="#ddd";G(Br,Vl,zf,Zg,Nb,Mx,G_,K_,$k,Jk,rj),n.Bounds=mu,n.CanvasHandler=uc,n.CanvasRenderer=fc,n.Dataflow=Dr,n.Debug=4,n.Error=1,n.EventStream=In,n.Gradient=_u,n.GroupItem=ju,n.Handler=nc,n.Info=3,n.Item=ku,n.Marks=$s,n.MultiPulse=Or,n.None=0,n.Operator=zn,n.Parameters=Fn,n.Pulse=br,n.RenderType=qc,n.Renderer=rc,n.ResourceLoader=Au,n.SVGHandler=gc,n.SVGRenderer=jc,n.SVGStringRenderer=Pc,n.Scenegraph=Ws,n.Transform=Tr,n.View=TA,n.Warn=2,n.accessor=t,n.accessorFields=i,n.accessorName=e,n.array=I,n.bin=Gr,n.bootstrapCI=fi,n.boundClip=Kc,n.boundContext=So,n.boundItem=Rs,n.boundMark=Ls,n.boundStroke=Oo,n.changeset=Dn,n.clampRange=L,n.closeTag=yc,n.compare=q,n.constant=H,n.debounce=W,n.definition=zr,n.domChild=Xs,n.domClear=Ks,n.domCreate=Vs,n.domFind=Js,n.error=l,n.expressionFunction=sA,n.extend=G,n.extent=Y,n.extentIndex=V,n.falsy=w,n.fastmap=X,n.field=f,n.flush=K,n.font=Fs,n.fontFamily=Ms,n.fontSize=Ss,n.format=bt,n.formatLocale=bp,n.formats=xt,n.id=d,n.identity=p,n.inferType=nt,n.inferTypes=tt,n.ingest=On,n.inherits=Z,n.inrange=Q,n.interpolate=fg,n.interpolateColors=og,n.interpolateRange=ag,n.intersect=Gc,n.intersectBoxLine=Po,n.intersectPath=To,n.intersectPoint=No,n.intersectRule=zo,n.isArray=a,n.isBoolean=nn,n.isDate=tn,n.isFunction=U,n.isNumber=en,n.isObject=o,n.isRegExp=rn,n.isString=s,n.isTuple=_n,n.key=ln,n.lerp=un,n.loader=pr,n.logger=b,n.merge=an,n.one=m,n.openTag=wc,n.pad=sn,n.panLinear=C,n.panLog=D,n.panPow=M,n.panSymlog=F,n.parse=function(n,t){return o(n)||l("Input Vega specification must be an object."),function(n,t){var e,r,i,l,u,a=t.config;return t.background=n.background||a.background,t.eventConfig=a.events,u=YA(t.root=t.add(GA())),t.addSignal("width",n.width||0),t.addSignal("height",n.height||0),t.addSignal("padding",function(n,t){return o(n=n||t.padding)?{top:RA(n.top),bottom:RA(n.bottom),left:RA(n.left),right:RA(n.right)}:{top:e=RA(n),bottom:e,left:e,right:e};var e}(n.padding,a)),t.addSignal("autosize",function(n,t){return o(n=n||t.autosize)?n:{type:n||"pad"}}(n.autosize,a)),t.legends=t.objectProperty(a.legend&&a.legend.layout),I(n.signals).forEach((function(n){zC[n.name]||UA(n,t)})),r=t.add(kE()),i=NS({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},n.encode),i=t.add(AE(BS(i,qS,SS,n.style,t,{pulse:YA(r)}))),l=t.add(GE({layout:t.objectProperty(n.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:u,pulse:YA(i)})),t.operators.pop(),t.pushState(YA(i),YA(l),null),BC(n,t,!0),t.operators.push(l),e=t.add(_E({mark:u,pulse:YA(l)})),e=t.add(UE({pulse:YA(e)})),e=t.add(HE({pulse:YA(e)})),t.addData("root",new xC(t,r,r,e)),t}(n,new PC(function(n){return(n||[]).reduce((n,t)=>{for(var e in t){var r="legend"===e?{layout:1}:"style"===e||null;IC(n,e,t[e],r)}return n},{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:HC},area:{fill:HC},image:null,line:{stroke:HC,strokeWidth:qC},path:{stroke:HC},rect:{fill:HC},rule:{stroke:WC},shape:{stroke:HC},symbol:{fill:HC,size:64},text:{fill:WC,font:LC,fontSize:11},style:{"guide-label":{fill:WC,font:LC,fontSize:10},"guide-title":{fill:WC,font:LC,fontSize:11,fontWeight:"bold"},"group-title":{fill:WC,font:LC,fontSize:13,fontWeight:"bold"},point:{size:UC,strokeWidth:qC,shape:"circle"},circle:{size:UC,strokeWidth:qC},square:{size:UC,strokeWidth:qC,shape:"square"},cell:{fill:"transparent",stroke:YC}},title:{orient:"top",anchor:"middle",offset:4},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:GC,grid:!1,gridWidth:1,gridColor:YC,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:GC,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:YC,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:GC,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}})}([t,n.config]))).toRuntime()},n.pathCurves=Ia,n.pathEqual=Qc,n.pathParse=qa,n.pathRectangle=co,n.pathRender=no,n.pathSymbols=ro,n.pathTrail=fo,n.peek=x,n.point=Qs,n.projection=jb,n.quantizeInterpolator=sg,n.quarter=$,n.quartiles=hi,n.randomInteger=function(t,e){null==e&&(e=t,t=0);var r,i,l,u={min:function(n){return arguments.length?(l=i-(r=n||0),u):r},max:function(n){return arguments.length?(l=(i=n||0)-r,u):i},sample:function(){return r+Math.floor(l*n.random())},pdf:function(n){return n===Math.floor(n)&&n>=r&&n<i?1/l:0},cdf:function(n){var t=Math.floor(n);return t<r?0:t>=i?1:(t-r+1)/l},icdf:function(n){return n>=0&&n<=1?r-1+Math.floor(n*l):NaN}};return u.min(t).max(e)},n.randomKDE=pi,n.randomLCG=function(n){return function(){return(n=(1103515245*n+12345)%2147483647)/2147483647}},n.randomMixture=gi,n.randomNormal=di,n.randomUniform=mi,n.read=dr,n.regressionExp=ki,n.regressionLinear=xi,n.regressionLoess=Ei,n.regressionLog=_i,n.regressionPoly=Ai,n.regressionPow=ji,n.regressionQuad=Oi,n.renderModule=Wc,n.repeat=on,n.resetSVGClipId=function(){is=1},n.responseType=_t,n.runtime=yA,n.runtimeContext=xA,n.sampleCurve=Mi,n.scale=rg,n.sceneEqual=Zc,n.sceneFromJSON=Hs,n.scenePickVisit=Wo,n.sceneToJSON=qs,n.sceneVisit=Ho,n.sceneZOrder=qo,n.scheme=gg,n.setRandom=function(t){n.random=t},n.span=cn,n.splitAccessPath=u,n.stringValue=c,n.textMetrics=ks,n.timeFormatLocale=hr,n.timeInterval=sh,n.toBoolean=fn,n.toDate=dn,n.toNumber=_,n.toSet=gn,n.toString=pn,n.transform=Pr,n.transforms=Br,n.truncate=mn,n.truthy=v,n.tupleid=kn,n.typeParsers=Kn,n.utcquarter=R,n.version="5.4.0",n.visitArray=vn,n.zero=g,n.zoomLinear=N,n.zoomLog=B,n.zoomPow=z,n.zoomSymlog=P,Object.defineProperty(n,"__esModule",{value:!0})}(t),function(n){"use strict";function t(n,t,e){return n.fields=t||[],n.fname=e,n}function e(n){throw Error(n)}function i(n){var t,r,i,l=[],u=null,a=0,o=n.length,s="";function c(){l.push(s+n.substring(t,r)),s="",t=r+1}for(n+="",t=r=0;r<o;++r)if("\\"===(i=n[r]))s+=n.substring(t,r),t=++r;else if(i===u)c(),u=null,a=-1;else{if(u)continue;t===a&&'"'===i||t===a&&"'"===i?(t=r+1,u=i):"."!==i||a?"["===i?(r>t&&c(),a=t=r+1):"]"===i&&(a||e("Access path missing open bracket: "+n),a>0&&c(),a=0,t=r+1):r>t?c():t=r+1}return a&&e("Access path missing closing bracket: "+n),u&&e("Access path missing closing quote: "+n),r>t&&(r++,c()),l}var l=Array.isArray;function u(n){return n===Object(n)}function a(n){return"string"==typeof n}function o(n){return l(n)?"["+n.map(o)+"]":u(n)||a(n)?JSON.stringify(n).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):n}var s=[],c=(function(n,e){var r=i(n),l="return _["+r.map(o).join("][")+"];";t(Function("_",l),[n=1===r.length?r[0]:n],n)}("id"),t((function(n){return n}),s,"identity"));function f(n,t,e){var r=[t].concat([].slice.call(e));console[n](...r)}function h(n){return null!=n?l(n)?n:[n]:[]}function d(n){return"boolean"==typeof n}function p(n){return"number"==typeof n}function g(n){for(var t={},e=0,r=n.length;e<r;++e)t[n[e]]=!0;return t}t((function(){return 0}),s,"zero"),t((function(){return 1}),s,"one"),t((function(){return!0}),s,"true"),t((function(){return!1}),s,"false");var m=function(n,t){return function(n){var t=function(){function n(n,t){return null!=t&&n instanceof t}var t,e,i;try{t=Map}catch(n){t=function(){}}try{e=Set}catch(n){e=function(){}}try{i=Promise}catch(n){i=function(){}}function l(u,o,s,c,f){"object"==typeof o&&(s=o.depth,c=o.prototype,f=o.includeNonEnumerable,o=o.circular);var h=[],d=[],p=void 0!==r;return void 0===o&&(o=!0),void 0===s&&(s=1/0),function u(s,g){if(null===s)return null;if(0===g)return s;var m,v;if("object"!=typeof s)return s;if(n(s,t))m=new t;else if(n(s,e))m=new e;else if(n(s,i))m=new i((function(n,t){s.then((function(t){n(u(t,g-1))}),(function(n){t(u(n,g-1))}))}));else if(l.__isArray(s))m=[];else if(l.__isRegExp(s))m=new RegExp(s.source,a(s)),s.lastIndex&&(m.lastIndex=s.lastIndex);else if(l.__isDate(s))m=new Date(s.getTime());else{if(p&&r.isBuffer(s))return m=r.allocUnsafe?r.allocUnsafe(s.length):new r(s.length),s.copy(m),m;n(s,Error)?m=Object.create(s):void 0===c?(v=Object.getPrototypeOf(s),m=Object.create(v)):(m=Object.create(c),v=c)}if(o){var w=h.indexOf(s);if(-1!=w)return d[w];h.push(s),d.push(m)}for(var y in n(s,t)&&s.forEach((function(n,t){var e=u(t,g-1),r=u(n,g-1);m.set(e,r)})),n(s,e)&&s.forEach((function(n){var t=u(n,g-1);m.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(m[y]=u(s[y],g-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(s);for(y=0;y<x.length;y++){var _=x[y];(!(j=Object.getOwnPropertyDescriptor(s,_))||j.enumerable||f)&&(m[_]=u(s[_],g-1),j.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(s);for(y=0;y<k.length;y++){var j,O=k[y];(j=Object.getOwnPropertyDescriptor(s,O))&&j.enumerable||(m[O]=u(s[O],g-1),Object.defineProperty(m,O,{enumerable:!1}))}}return m}(u,s)}function u(n){return Object.prototype.toString.call(n)}function a(n){var t="";return n.global&&(t+="g"),n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),t}return l.clonePrototype=function(n){if(null===n)return null;var t=function(){};return t.prototype=n,new t},l.__objToStr=u,l.__isDate=function(n){return"object"==typeof n&&"[object Date]"===u(n)},l.__isArray=function(n){return"object"==typeof n&&"[object Array]"===u(n)},l.__isRegExp=function(n){return"object"==typeof n&&"[object RegExp]"===u(n)},l.__getRegExpFlags=a,l}();n.exports&&(n.exports=t)}(t={exports:{}}),t.exports}(),v=Array.isArray,w=Object.keys,y=Object.prototype.hasOwnProperty,b=function(n,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var e,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(e=t.cmp,function(n){return function(t,r){var i={key:t,value:n[t]},l={key:r,value:n[r]};return e(i,l)}}),l=[];return function n(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var e,u;if(Array.isArray(t)){for(u="[",e=0;e<t.length;e++)e&&(u+=","),u+=n(t[e])||"null";return u+"]"}if(null===t)return"null";if(-1!==l.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=l.push(t)-1,o=Object.keys(t).sort(i&&i(t));for(u="",e=0;e<o.length;e++){var s=o[e],c=n(t[s]);c&&(u&&(u+=","),u+=JSON.stringify(s)+":"+c)}return l.splice(a,1),"{"+u+"}"}}(n)};function x(n){return!!n.or}function _(n){return!!n.and}function k(n){return!!n.not}function j(n,t){return k(n)?{not:j(n.not,t)}:_(n)?{and:n.and.map(n=>j(n,t))}:x(n)?{or:n.or.map(n=>j(n,t))}:t(n)}const O=function n(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var r,i,l,u=v(t),a=v(e);if(u&&a){if((i=t.length)!=e.length)return!1;for(r=i;0!=r--;)if(!n(t[r],e[r]))return!1;return!0}if(u!=a)return!1;var o=t instanceof Date,s=e instanceof Date;if(o!=s)return!1;if(o&&s)return t.getTime()==e.getTime();var c=t instanceof RegExp,f=e instanceof RegExp;if(c!=f)return!1;if(c&&f)return t.toString()==e.toString();var h=w(t);if((i=h.length)!==w(e).length)return!1;for(r=i;0!=r--;)if(!y.call(e,h[r]))return!1;for(r=i;0!=r--;)if(!n(t[l=h[r]],e[l]))return!1;return!0}return t!=t&&e!=e},A=m;function E(n,t){const e={};for(const r of t)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}function S(n,t){const e=Object.assign({},n);for(const n of t)delete e[n];return e}Set.prototype.toJSON=function(){return`Set(${[...this].map(n=>b(n)).join(",")})`};const C=b;function D(n){if(p(n))return n;const t=a(n)?n:b(n);if(t.length<250)return t;let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}function M(n){return!1===n||null===n}function F(n,t){return n.indexOf(t)>-1}function T(n,t){let e=0;for(const[r,i]of n.entries())if(t(i,r,e++))return!0;return!1}function N(n,t){let e=0;for(const[r,i]of n.entries())if(!t(i,r,e++))return!1;return!0}function B(n){return[].concat(...n)}function z(n,...t){for(const e of t)n=P(n,e);return n}function P(n,t){if("object"!=typeof t||null===t)return n;for(const e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&("object"!=typeof t[e]||l(t[e])||null===t[e]?n[e]=t[e]:"object"!=typeof n[e]||null===n[e]?n[e]=z(l(t[e].constructor)?[]:{},t[e]):z(n[e],t[e]));return n}function $(n,t){const e=[],r={};let i;for(const l of n)(i=t(l))in r||(r[i]=1,e.push(l));return e}function R(n,t){for(const e of n)if(t.has(e))return!0;return!1}function I(n){const t=new Set;for(const e of n){const n=i(e).map((n,t)=>0===t?n:`[${n}]`);n.map((t,e)=>n.slice(0,e+1).join("")).forEach(n=>t.add(n))}return t}function L(n,t){return R(I(n),I(t))}const U=Object.keys;function q(n){const t=[];for(const e in n)n.hasOwnProperty(e)&&t.push(n[e]);return t}function H(n){return!0===n||!1===n}function W(n){const t=n.replace(/\W/g,"_");return(n.match(/^\d+/)?"_":"")+t}function G(n,t){return k(n)?"!("+G(n.not,t)+")":_(n)?"("+n.and.map(n=>G(n,t)).join(") && (")+")":x(n)?"("+n.or.map(n=>G(n,t)).join(") || (")+")":t(n)}function Y(n,t){if(0===t.length)return!0;const e=t.shift();return Y(n[e],t)&&delete n[e],0===U(n).length}function V(n){return n.charAt(0).toUpperCase()+n.substr(1)}function J(n,t="datum"){const e=i(n),r=[];for(let n=1;n<=e.length;n++){const i=`[${e.slice(0,n).map(o).join("][")}]`;r.push(`${t}${i}`)}return r.join(" && ")}function X(n){return""+i(n).map(n=>n.replace(".","\\.")).join("\\.")}function K(n){return""+i(n).join(".")}function Z(n){return n?i(n).length:0}function Q(...n){for(const t of n)if(void 0!==t)return t}let nn=42;function tn(n){return(n%360+360)%360}const en="area",rn="line",ln="point",un="rule",an="tick",on="circle",sn="square",cn="geoshape";function fn(n){return F(["line","area","trail"],n)}const hn=U({area:1,bar:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1});function dn(n){return n.type}g(hn);const pn=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),gn=["filled","color","tooltip"];function mn(n){return!!n.mark}class vn{constructor(n,t){this.name=n,this.run=t}hasMatchingType(n){return!!mn(n)&&(dn(t=n.mark)?t.type:t)===this.name;var t}}function wn(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}const yn={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1};function bn(n){return!!n&&!!n.argmin}function xn(n){return!!n&&!!n.argmax}function _n(n){return a(n)&&!!yn[n]}const kn=["count","valid","missing","distinct"];function jn(n){return n&&a(n)&&F(kn,n)}const On=["count","sum","distinct","valid","missing"],An=g(["mean","average","median","q1","q3","min","max"]),En="row",Sn="column",Cn="facet",Dn="x",Mn="y",Fn="x2",Tn="y2",Nn="latitude",Bn="longitude",zn="latitude2",Pn="longitude2",$n="color",Rn="fill",In="stroke",Ln="shape",Un="size",qn="opacity",Hn="fillOpacity",Wn="strokeOpacity",Gn="strokeWidth",Yn="tooltip",Vn={longitude:1,longitude2:1,latitude:1,latitude2:1},Jn=U(Vn),Xn=Object.assign({},{x:1,y:1,x2:1,y2:1},Vn,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1});function Kn(n){return"color"===n||"fill"===n||"stroke"===n}const Zn={row:1,column:1,facet:1},Qn=U(Zn),nt=Object.assign({},Xn,Zn),tt=U(nt),et=(wn(nt,["order","detail"]),wn(nt,["order","detail","row","column","facet"]));function rt(n){return!!et[n]}function it(n){return!!nt[n]}const lt=["x2","y2","latitude2","longitude2"];function ut(n){return at(n)!==n}function at(n){switch(n){case"x2":return"x";case"y2":return"y";case"latitude2":return"latitude";case"longitude2":return"longitude"}return n}const ot=wn(Xn,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"]),st=U(ot),ct={x:1,y:1},ft=U(ct),ht=wn(ot,["text","tooltip","href","detail","key","order"]),dt=U(ht),pt=Object.assign({},ct,ht),gt=U(pt);function mt(n){return!!pt[n]}const vt={area:"always",bar:"always",circle:"always",geoshape:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},wt=wn(vt,["geoshape"]);function yt(n){switch(n){case Dn:case Mn:case Un:case Gn:case qn:case Hn:case Wn:case Fn:case Tn:return;case Cn:case En:case Sn:case Ln:case"text":case Yn:case"href":return"discrete";case $n:case Rn:case In:return"flexible";case Nn:case Bn:case zn:case Pn:case"detail":case"key":case"order":return}throw new Error("rangeType not implemented for "+n)}const bt=Object.freeze({INVALID_SPEC:"Invalid spec",FIT_NON_SINGLE:'Autosize "fit" only works for single views and layered views.',CANNOT_FIX_RANGE_STEP_WITH_FIT:'Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',cannotProjectOnChannelWithoutField:function(n){return`Cannot project a selection on encoding channel "${n}", which has no field.`},nearestNotSupportForContinuous:function(n){return`The "nearest" transform is not supported for ${n} marks.`},selectionNotSupported:function(n){return`Selection not supported for ${n} yet`},selectionNotFound:function(n){return`Cannot find a selection named "${n}"`},SCALE_BINDINGS_CONTINUOUS:"Scale bindings are currently only supported for scales with unbinned, continuous domains.",NO_INIT_SCALE_BINDINGS:"Selections bound to scales cannot be separately initialized.",noSuchRepeatedValue:function(n){return`Unknown repeated value "${n}".`},columnsNotSupportByRowCol:function(n){return`The "columns" property cannot be used when "${n}" has nested row/column.`},CONCAT_CANNOT_SHARE_AXIS:"Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",REPEAT_CANNOT_SHARE_AXIS:"Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).",unrecognizedParse:function(n){return`Unrecognized parse "${n}".`},differentParse:function(n,t,e){return`An ancestor parsed field "${n}" as ${e} but a child wants to parse the field as ${t}.`},invalidTransformIgnored:function(n){return`Ignoring an invalid transform: ${C(n)}.`},NO_FIELDS_NEEDS_AS:'If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.',encodingOverridden:function(n){return`Layer's shared ${n.join(",")} channel ${1===n.length?"is":"are"} overriden`},projectionOverridden:function(n){const{parentProjection:t,projection:e}=n;return`Layer's shared projection ${C(t)} is overridden by a child projection ${C(e)}.`},primitiveChannelDef:function(n,t,e){return`Channel ${n} is a ${t}. Converted to {value: ${C(e)}}.`},invalidFieldType:function(n){return`Invalid field type "${n}"`},nonZeroScaleUsedWithLengthMark:function(n,t,e){return`A ${e.scaleType?e.scaleType+" scale":e.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero"} is used to encode ${n}'s ${t}. This can be misleading as the ${"x"===t?"width":"height"} of the ${n} can be arbitrary based on the scale domain. You may want to use point mark instead.`},invalidFieldTypeForCountAggregate:function(n,t){return`Invalid field type "${n}" for aggregate: "${t}", using "quantitative" instead.`},invalidAggregate:function(n){return`Invalid aggregation operator "${n}"`},missingFieldType:function(n,t){return`Missing type for channel "${n}", using "${t}" instead.`},droppingColor:function(n,t){const{fill:e,stroke:r}=t;return`Dropping color ${n} as the plot also has `+(e&&r?"fill and stroke":e?"fill":"stroke")},emptyFieldDef:function(n,t){return`Dropping ${C(n)} from channel "${t}" since it does not contain data field or value.`},latLongDeprecated:function(n,t,e){return`${n}-encoding with type ${t} is deprecated. Replacing with ${e}-encoding.`},LINE_WITH_VARYING_SIZE:"Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.",incompatibleChannel:function(n,t,e){return`${n} dropped as it is incompatible with "${t}"${e?" when "+e:""}.`},invalidEncodingChannel:function(n){return`${n}-encoding is dropped as ${n} is not a valid encoding channel.`},facetChannelShouldBeDiscrete:function(n){return n+" encoding should be discrete (ordinal / nominal / binned)."},facetChannelDropped:function(n){return`Facet encoding dropped as ${n.join(" and ")} ${n.length>1?"are":"is"} also specified.`},discreteChannelCannotEncode:function(n,t){return`Using discrete channel "${n}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`},BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL:"Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",lineWithRange:function(n,t){return`Line mark is for continuous lines and thus cannot be used with ${n&&t?"x2 and y2":n?"x2":"y2"}. We will use the rule mark (line segments) instead.`},orientOverridden:function(n,t){return`Specified orient "${n}" overridden with "${t}"`},CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN:"custom domain scale cannot be unioned with default field-based domain",cannotUseScalePropertyWithNonColor:function(n){return`Cannot use the scale property "${n}" with non-color channel.`},unaggregateDomainHasNoEffectForRawField:function(n){return`Using unaggregated domain with raw field has no effect (${C(n)}).`},unaggregateDomainWithNonSharedDomainOp:function(n){return`Unaggregated domain not applicable for "${n}" since it produces values outside the origin domain of the source data.`},unaggregatedDomainWithLogScale:function(n){return`Unaggregated domain is currently unsupported for log scale (${C(n)}).`},cannotApplySizeToNonOrientedMark:function(n){return`Cannot apply size to non-oriented mark "${n}".`},rangeStepDropped:function(n){return`rangeStep for "${n}" is dropped as top-level ${"x"===n?"width":"height"} is provided.`},scaleTypeNotWorkWithChannel:function(n,t,e){return`Channel "${n}" does not work with "${t}" scale. We are using "${e}" scale instead.`},scaleTypeNotWorkWithFieldDef:function(n,t){return`FieldDef does not work with "${n}" scale. We are using "${t}" scale instead.`},scalePropertyNotWorkWithScaleType:function(n,t,e){return`${e}-scale's "${t}" is dropped as it does not work with ${n} scale.`},scaleTypeNotWorkWithMark:function(n,t){return`Scale type "${t}" does not work with mark "${n}".`},mergeConflictingProperty:function(n,t,e,r){return`Conflicting ${t.toString()} property "${n.toString()}" (${C(e)} and ${C(r)}).  Using ${C(e)}.`},mergeConflictingDomainProperty:function(n,t,e,r){return`Conflicting ${t.toString()} property "${n.toString()}" (${C(e)} and ${C(r)}).  Using the union of the two domains.`},independentScaleMeansIndependentGuide:function(n){return`Setting the scale to be independent for "${n}" means we also have to set the guide (axis or legend) to be independent.`},domainSortDropped:function(n){return`Dropping sort property ${C(n)} as unioned domains only support boolean or op 'count'.`},UNABLE_TO_MERGE_DOMAINS:"Unable to merge domains",MORE_THAN_ONE_SORT:"Domains that should be unioned has conflicting sort properties. Sort will be set to true.",INVALID_CHANNEL_FOR_AXIS:"Invalid channel for axis.",cannotStackRangedMark:function(n){return`Cannot stack "${n}" if there is already "${n}2"`},cannotStackNonLinearScale:function(n){return`Cannot stack non-linear scale (${n})`},stackNonSummativeAggregate:function(n){return`Stacking is applied even though the aggregate function is non-summative ("${n}")`},invalidTimeUnit:function(n,t){return`Invalid ${n}: ${C(t)}`},dayReplacedWithDate:function(n){return`Time unit "${n}" is not supported. We are replacing it with ${n.replace("day","date")}.`},droppedDay:function(n){return`Dropping day from datetime ${C(n)} as day cannot be combined with other units.`},errorBarCenterAndExtentAreNotNeeded:function(n,t){return`${t?"extent ":""}${t&&n?"and ":""}${n?"center ":""}${t&&n?"are ":"is "}not needed when data are aggregated.`},errorBarCenterIsUsedWithWrongExtent:function(n,t,e){return`${n} is not usually used with ${t} for ${e}.`},errorBarContinuousAxisHasCustomizedAggregate:function(n,t){return`Continuous axis should not have customized aggregation function ${n}; ${t} already agregates the axis.`},errorBarCenterIsNotNeeded:function(n,t){return`Center is not needed to be specified in ${t} when extent is ${n}.`},errorBand1DNotSupport:function(n){return"1D error band does not support "+n},channelRequiredForBinned:function(n){return`Channel ${n} is required for "binned" bin`},domainRequiredForThresholdScale:function(n){return`Domain for ${n} is required for threshold scale`}}),xt=(_t=2,{level:function(n){return arguments.length?(_t=+n,this):_t},error:function(){return _t>=1&&f("error","ERROR",arguments),this},warn:function(){return _t>=2&&f("warn","WARN",arguments),this},info:function(){return _t>=3&&f("log","INFO",arguments),this},debug:function(){return _t>=4&&f("log","DEBUG",arguments),this}});var _t;let kt=xt;function jt(...n){kt.warn.apply(kt,arguments)}function Ot(n){return!(!n||!(n.year||n.quarter||n.month||n.date||n.day||n.hours||n.minutes||n.seconds||n.milliseconds))}const At=["january","february","march","april","may","june","july","august","september","october","november","december"],Et=At.map(n=>n.substr(0,3)),St=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Ct=St.map(n=>n.substr(0,3));function Dt(n,t=!1,e=!1){const r=[];if(t&&void 0!==n.day&&U(n).length>1&&(jt(bt.droppedDay(n)),delete(n=A(n)).day),void 0!==n.year?r.push(n.year):void 0!==n.day?r.push(2006):r.push(0),void 0!==n.month){const e=t?function(n){if(p(n))return(n-1).toString();{const t=n.toLowerCase(),e=At.indexOf(t);if(-1!==e)return e+"";const r=t.substr(0,3),i=Et.indexOf(r);if(-1!==i)return i+"";throw new Error(bt.invalidTimeUnit("month",n))}}(n.month):n.month;r.push(e)}else if(void 0!==n.quarter){const e=t?function(n){if(p(n))return n>4&&jt(bt.invalidTimeUnit("quarter",n)),(n-1).toString();throw new Error(bt.invalidTimeUnit("quarter",n))}(n.quarter):n.quarter;r.push(e+"*3")}else r.push(0);if(void 0!==n.date)r.push(n.date);else if(void 0!==n.day){const e=t?function(n){if(p(n))return n%7+"";{const t=n.toLowerCase(),e=St.indexOf(t);if(-1!==e)return e+"";const r=t.substr(0,3),i=Ct.indexOf(r);if(-1!==i)return i+"";throw new Error(bt.invalidTimeUnit("day",n))}}(n.day):n.day;r.push(e+"+1")}else r.push(1);for(const t of["hours","minutes","seconds","milliseconds"])void 0!==n[t]?r.push(n[t]):r.push(0);const i=r.join(", ");return e?n.utc?new Function(`return new Date(Date.UTC(${i}))`)().toJSON():new Function(`return new Date(${i})`)().toJSON():n.utc?`utc(${i})`:`datetime(${i})`}function Mt(n){return!!n.row||!!n.column}function Ft(n){return void 0!==n.facet}var Tt;!function(n){n.YEAR="year",n.MONTH="month",n.DAY="day",n.DATE="date",n.HOURS="hours",n.MINUTES="minutes",n.SECONDS="seconds",n.MILLISECONDS="milliseconds",n.YEARMONTH="yearmonth",n.YEARMONTHDATE="yearmonthdate",n.YEARMONTHDATEHOURS="yearmonthdatehours",n.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",n.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",n.MONTHDATE="monthdate",n.MONTHDATEHOURS="monthdatehours",n.HOURSMINUTES="hoursminutes",n.HOURSMINUTESSECONDS="hoursminutesseconds",n.MINUTESSECONDS="minutesseconds",n.SECONDSMILLISECONDS="secondsmilliseconds",n.QUARTER="quarter",n.YEARQUARTER="yearquarter",n.QUARTERMONTH="quartermonth",n.YEARQUARTERMONTH="yearquartermonth",n.UTCYEAR="utcyear",n.UTCMONTH="utcmonth",n.UTCDAY="utcday",n.UTCDATE="utcdate",n.UTCHOURS="utchours",n.UTCMINUTES="utcminutes",n.UTCSECONDS="utcseconds",n.UTCMILLISECONDS="utcmilliseconds",n.UTCYEARMONTH="utcyearmonth",n.UTCYEARMONTHDATE="utcyearmonthdate",n.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",n.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",n.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",n.UTCMONTHDATE="utcmonthdate",n.UTCMONTHDATEHOURS="utcmonthdatehours",n.UTCHOURSMINUTES="utchoursminutes",n.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",n.UTCMINUTESSECONDS="utcminutesseconds",n.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",n.UTCQUARTER="utcquarter",n.UTCYEARQUARTER="utcyearquarter",n.UTCQUARTERMONTH="utcquartermonth",n.UTCYEARQUARTERMONTH="utcyearquartermonth"}(Tt||(Tt={}));const Nt={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Bt=U(Nt),zt={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1},Pt={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},$t=Object.assign({},zt,Pt);function Rt(n,t){const e=n.indexOf(t);return e>-1&&(t!==Tt.SECONDS||0===e||"i"!==n.charAt(e-1))}function It(n,t){const e=J(t),r=$t[n]?"utc":"";return Dt(Bt.reduce((t,i)=>(Rt(n,i)&&(t[i]=function(n){return n===Tt.QUARTER?`(${r}quarter(${e})-1)`:`${r}${n}(${e})`}(i)),t),{}))}function Lt(n,t){if(!n)return;const e=[],r=Rt(n,Tt.YEAR);Rt(n,Tt.MONTH)&&e.push(!1!==t?"%b":"%B"),Rt(n,Tt.DAY)?e.push(t?"%a":"%A"):Rt(n,Tt.DATE)&&e.push("%d"+(r?",":"")),r&&e.push(t?"%y":"%Y");const i=[];Rt(n,Tt.HOURS)&&i.push("%H"),Rt(n,Tt.MINUTES)&&i.push("%M"),Rt(n,Tt.SECONDS)&&i.push("%S"),Rt(n,Tt.MILLISECONDS)&&i.push("%L");const l=[];return e.length>0&&l.push(e.join(" ")),i.length>0&&l.push(i.join(":")),l}function Ut(n){return"day"!==n&&n.indexOf("day")>=0?(jt(bt.dayReplacedWithDate(n)),n.replace("day","date")):n}Object.assign({},Nt,zt,{yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},Pt);const qt={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1},Ht="quantitative",Wt="ordinal",Gt="temporal",Yt="nominal",Vt="geojson";function Jt(n){const{field:t,timeUnit:e,bin:r,aggregate:i}=n;return Object.assign({},e?{timeUnit:e}:{},r?{bin:r}:{},i?{aggregate:i}:{},{field:t})}function Xt(n){return!!n&&!!n.condition}function Kt(n){return!!n&&!!n.condition&&!l(n.condition)&&Zt(n.condition)}function Zt(n){return!(!n||!n.field&&"count"!==n.aggregate)}function Qt(n){return!!n&&(!!n.field&&!!n.type||"count"===n.aggregate)}function ne(n){return Zt(n)&&a(n.field)}function te(n){return n&&"value"in n&&void 0!==n.value}function ee(n){return!(!n||!n.scale&&!n.sort)}function re(n){return!!n&&!!n.format}function ie(n,t={}){let e=n.field;const r=t.prefix;let l=t.suffix,u="";if(function(n){return"count"===n.aggregate}(n))e=function(n){return function(n){return 0===n.indexOf("__")}(n)?n:"__count"}("count");else{let r;if(!t.nofn)if(function(n){return!!n.op}(n))r=n.op;else{const{bin:i,aggregate:a,timeUnit:o}=n;je(i)?(r=ke(i),l=(t.binSuffix||"")+(t.suffix||"")):a?xn(a)?(u="."+e,e="argmax_"+a.argmax):bn(a)?(u="."+e,e="argmin_"+a.argmin):r=String(a):o&&(r=String(o))}r&&(e=e?`${r}_${e}`:r)}return l&&(e=`${e}_${l}`),r&&(e=`${r}_${e}`),t.forAs?e:t.expr?function(n,t="datum"){return`${t}[${o(i(n).join("."))}]`}(e,t.expr)+u:X(e)+u}function le(n){return!function(n){switch(n.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!n.bin;case"temporal":return!1}throw new Error(bt.invalidFieldType(n.type))}(n)}const ue=(n,t)=>{switch(t.fieldTitle){case"plain":return n.field;case"functional":return function(n){const{aggregate:t,bin:e,timeUnit:r,field:i}=n;if(xn(t))return`${i} for argmax(${t.argmax})`;if(bn(t))return`${i} for argmin(${t.argmin})`;const l=t||r||je(e)&&"bin";return l?l.toUpperCase()+"("+i+")":i}(n);default:return function(n,t){const{field:e,bin:r,timeUnit:i,aggregate:l}=n;return"count"===l?t.countTitle:je(r)?e+" (binned)":i?`${e} (${function(n){return Bt.reduce((t,e)=>Rt(n,e)?[...t,e]:t,[])}(i).join("-")})`:l?xn(l)?`${e} for max ${l.argmax}`:bn(l)?`${e} for min ${l.argmin}`:`${V(l)} of ${e}`:e}(n,t)}};let ae=ue;function oe(n){ae=n}function se(n,t,{allowDisabling:e,includeDefault:r=!0}){const i=(ce(n)||{}).title,l=r?fe(n,t):void 0;return e?Q(i,n.title,l):i||n.title||l}function ce(n){return(t=n)&&(t.axis||t.stack||t.impute)&&n.axis?n.axis:function(n){return!!n&&!!n.legend}(n)&&n.legend?n.legend:function(n){return!!n&&!!n.header}(n)&&n.header?n.header:void 0;var t}function fe(n,t){return ae(n,t)}function he(n){return re(n)&&n.format?n.format:(ce(n)||{}).format}function de(n){return Zt(n)?n:Kt(n)?n.condition:void 0}function pe(n){return Zt(n)?n:Kt(n)?n.condition:void 0}function ge(n,t){if(a(n)||p(n)||d(n)){const e=a(n)?"string":p(n)?"number":"boolean";return jt(bt.primitiveChannelDef(t,e,n)),{value:n}}return Zt(n)?me(n,t):Kt(n)?Object.assign({},n,{condition:me(n.condition,t)}):n}function me(n,t){const{aggregate:e,timeUnit:r,bin:i}=n;if(e&&!_n(e)&&!xn(e)&&!bn(e)){const t=wn(n,["aggregate"]);jt(bt.invalidAggregate(e)),n=t}if(r&&(n=Object.assign({},n,{timeUnit:Ut(r)})),je(i)&&(n=Object.assign({},n,{bin:ve(i,t)})),Oe(i)&&!F(ft,t)&&jt(`Channel ${t} should not be used with "binned" bin`),Qt(n)){const{type:t}=n,r=function(n){if(n)switch(n=n.toLowerCase()){case"q":case Ht:return"quantitative";case"t":case Gt:return"temporal";case"o":case Wt:return"ordinal";case"n":case Yt:return"nominal";case Vt:return"geojson"}}(t);t!==r&&(n=Object.assign({},n,{type:r})),"quantitative"!==t&&jn(e)&&(jt(bt.invalidFieldTypeForCountAggregate(t,e)),n=Object.assign({},n,{type:"quantitative"}))}else if(!ut(t)){const e=function(n,t){if(n.timeUnit)return"temporal";if(je(n.bin))return"quantitative";switch(yt(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(n,t);jt(bt.missingFieldType(t,e)),n=Object.assign({},n,{type:e})}if(Qt(n)){const{compatible:e,warning:r}=function(n,t){const e=n.type;if("geojson"===e&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case"row":case"column":case"facet":return le(n)?{compatible:!1,warning:bt.facetChannelShouldBeDiscrete(t)}:we;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":return we;case"longitude":case"longitude2":case"latitude":case"latitude2":return e!==Ht?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${n.type} field.`}:we;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return"nominal"!==e||n.sort?we:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case"shape":return F(["ordinal","nominal","geojson"],n.type)?we:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==n.type||"sort"in n?we:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw new Error("channelCompatability not implemented for channel "+t)}(n,t);e||jt(r)}return Object.assign({},n,void 0!==n.field?{field:""+n.field}:{})}function ve(n,t){return d(n)?{maxbins:Ee(t)}:"binned"===n?{binned:!0}:n.maxbins||n.step?n:Object.assign({},n,{maxbins:Ee(t)})}const we={compatible:!0};function ye(n){const t=ce(n),e=t&&t.formatType||re(n)&&n.formatType;return"time"===e||!e&&function(n){return"temporal"===n.type||!!n.timeUnit}(n)}function be(n,{timeUnit:t,type:e,time:r,undefinedIfExprNotRequired:i}){let l;var u;return Ot(n)?l=Dt(n,!0):(a(n)||p(n))&&(t||"temporal"===e)&&(l=function(n){return!!Nt[n]}(t)?Dt({[t]:n},!0):function(n){return!!zt[n]}(t)?be(n,{timeUnit:(u=t,u.substr(3))}):`datetime(${JSON.stringify(n)})`),l?r?`time(${l})`:l:i?void 0:JSON.stringify(n)}function xe(n,t){const{timeUnit:e,type:r}=n;return t.map(n=>{const t=be(n,{timeUnit:e,type:r,undefinedIfExprNotRequired:!0});return void 0!==t?{signal:t}:n})}function _e(n,t){return je(n.bin)?mt(t)&&F(["ordinal","nominal"],n.type):(console.warn("Only use this method with binned field defs"),!1)}function ke(n){return d(n)&&(n=ve(n,void 0)),"bin"+U(n).map(t=>W(`_${t}_${n[t]}`)).join("")}function je(n){return!0===n||Ae(n)&&!n.binned}function Oe(n){return"binned"===n||Ae(n)&&n.binned}function Ae(n){return u(n)}function Ee(n){switch(n){case En:case Sn:case Un:case $n:case Rn:case In:case Gn:case qn:case Hn:case Wn:case Ln:return 6;default:return 10}}function Se(n,t){const e=n&&n[t];return!!e&&(l(e)?T(e,n=>!!n.field):Zt(e)||Kt(e))}function Ce(n){return T(tt,t=>{if(Se(n,t)){const e=n[t];if(l(e))return T(e,n=>!!n.aggregate);{const n=de(e);return n&&!!n.aggregate}}return!1})}function De(n,t){const e=[],r=[],i=[],l=[],u={};return Te(n,(a,o)=>{if(Zt(a)){const{field:s,aggregate:c,timeUnit:f,bin:h}=a,d=wn(a,["field","aggregate","timeUnit","bin"]);if(c||f||h){const n=ce(a),p=n&&n.title;let g=ie(a,{forAs:!0});const m=Object.assign({},p?[]:{title:se(a,t,{allowDisabling:!0})},d,{field:g}),v="x"===o||"y"===o;if(c){let n;if(xn(c)?(n="argmax",g=ie({aggregate:"argmax",field:c.argmax},{forAs:!0}),m.field=`${g}.${s}`):bn(c)?(n="argmin",g=ie({aggregate:"argmin",field:c.argmin},{forAs:!0}),m.field=`${g}.${s}`):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(n=c),n){const t={op:n,as:g};s&&(t.field=s),l.push(t)}}else if(e.push(g),Qt(a)&&je(h)){if(r.push({bin:h,field:s,as:g}),e.push(ie(a,{binSuffix:"end"})),_e(a,o)&&e.push(ie(a,{binSuffix:"range"})),v){const n={field:g+"_end"};u[o+"2"]=n}m.bin="binned",ut(o)||(m.type="quantitative")}else if(f){i.push({timeUnit:f,field:s,as:g});const n=Lt(f,t.axis.shortTimeLabels).join(" "),e=Qt(a)&&a.type!==Gt&&"time";"text"===o||"tooltip"===o?(m.format=m.format||n,e&&(m.formatType=e)):function(n){return!!ot[n]}(o)?m.legend=Object.assign({format:n},e?{formatType:e}:{},m.legend):v&&(m.axis=Object.assign({format:n},e?{formatType:e}:{},m.axis))}u[o]=m}else e.push(s),u[o]=n[o]}else u[o]=n[o]}),{bins:r,timeUnits:i,aggregate:l,groupby:e,encoding:u}}function Me(n,t){return U(n).reduce((e,r)=>{if(!it(r))return jt(bt.invalidEncodingChannel(r)),e;if(!function(n,t,e){const r=function(n,t){return function(n){switch(n){case $n:case Rn:case In:case"detail":case"key":case Yn:case"href":case"order":case qn:case Hn:case Wn:case Gn:case Cn:case En:case Sn:return vt;case Dn:case Mn:case Nn:case Bn:return wt;case Fn:case Tn:case zn:case Pn:return{rule:"always",bar:"always",rect:"always",area:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Un:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Ln:return{point:"always",geoshape:"always"};case"text":return{text:"always"}}}(n)[t]}(t,e);if(!r)return!1;if("binned"===r){const e=n["x2"===t?"x":"y"];return!!(Zt(e)&&Zt(n[t])&&Oe(e.bin))}return!0}(n,r,t))return jt(bt.incompatibleChannel(r,t)),e;if("size"===r&&"line"===t){const t=pe(n[r]);if(t&&t.aggregate)return jt(bt.LINE_WITH_VARYING_SIZE),e}if("color"===r&&("fill"in n||"stroke"in n))return jt(bt.droppingColor("encoding",{fill:"fill"in n,stroke:"stroke"in n})),e;const i=n[r];if("detail"===r||"order"===r&&!l(i)&&!te(i)||"tooltip"===r&&l(i))i&&(e[r]=(l(i)?i:[i]).reduce((n,t)=>(Zt(t)?n.push(me(t,r)):jt(bt.emptyFieldDef(t,r)),n),[]));else{if("tooltip"===r&&null===i)e[r]=null;else if(!Zt(i)&&!te(i)&&!Xt(i))return jt(bt.emptyFieldDef(i,r)),e;e[r]=ge(i,r)}return e},{})}function Fe(n){const t=[];for(const e of U(n))if(Se(n,e)){const r=n[e];(l(r)?r:[r]).forEach(n=>{Zt(n)?t.push(n):Kt(n)&&t.push(n.condition)})}return t}function Te(n,t,e){if(n)for(const r of U(n)){const i=n[r];l(i)?i.forEach(n=>{t.call(e,n,r)}):t.call(e,i,r)}}function Ne(n,t,e,r){return n?U(n).reduce((e,i)=>{const u=n[i];return l(u)?u.reduce((n,e)=>t.call(r,n,e,i),e):t.call(r,e,u,i)},e):e}function Be(n,t){return U(t).reduce((e,r)=>{switch(r){case"x":case"y":case"href":case"x2":case"y2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case"shape":case"tooltip":return e;case"order":if("line"===n||"trail"===n)return e;case"detail":case"key":{const n=t[r];return(l(n)||Zt(n))&&(l(n)?n:[n]).forEach(n=>{n.aggregate||e.push(ie(n,{}))}),e}case"size":if("trail"===n)return e;case"color":case"fill":case"stroke":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":{const n=pe(t[r]);return n&&!n.aggregate&&e.push(ie(n,{})),e}}},[])}function ze(n,t,e,r=!0){return"tooltip"in e?{tooltip:e.tooltip}:{tooltip:[...n.map(({fieldPrefix:n,titlePrefix:e})=>({field:n+t.field,type:t.type,title:e+(r?" of "+t.field:"")})),...Fe(e)]}}function Pe(n,t,e,r,i){const{scale:l,axis:u}=e;return({partName:o,mark:s,positionPrefix:c,endPositionPrefix:f,extraEncoding:h={}})=>{const d=u&&void 0!==u.title?void 0:void 0!==e.title?e.title:e.field;return $e(n,o,i,{mark:s,encoding:Object.assign({[t]:Object.assign({field:c+"_"+e.field,type:e.type},d?{title:d}:{},l?{scale:l}:{},u?{axis:u}:{})},a(f)?{[t+"2"]:{field:f+"_"+e.field,type:e.type}}:{},r,h)})}}function $e(n,t,e,r){const{clip:i,color:l,opacity:u}=n,a=n.type;return n[t]||void 0===n[t]&&e[t]?[Object.assign({},r,{mark:Object.assign({},e[t],i?{clip:i}:{},l?{color:l}:{},u?{opacity:u}:{},dn(r.mark)?r.mark:{type:r.mark},{style:`${a}-${t}`},d(n[t])?{}:n[t])})]:[]}function Re(n,t,e){const{encoding:r}=n,i="vertical"===t?"y":"x",l=r[i],u=r[i+"2"],a=r[i+"Error"],o=r[i+"Error2"];return{continuousAxisChannelDef:Ie(l,e),continuousAxisChannelDef2:Ie(u,e),continuousAxisChannelDefError:Ie(a,e),continuousAxisChannelDefError2:Ie(o,e),continuousAxis:i}}function Ie(n,t){if(n&&n.aggregate){const{aggregate:e}=n,r=wn(n,["aggregate"]);return e!==t&&jt(bt.errorBarContinuousAxisHasCustomizedAggregate(e,t)),r}return n}function Le(n,t){const{mark:e,encoding:r}=n;if(Zt(r.x)&&le(r.x)){if(Zt(r.y)&&le(r.y)){if(void 0===r.x.aggregate&&r.y.aggregate===t)return"vertical";if(void 0===r.y.aggregate&&r.x.aggregate===t)return"horizontal";if(r.x.aggregate===t&&r.y.aggregate===t)throw new Error("Both x and y cannot have aggregate");return dn(e)&&e.orient?e.orient:"vertical"}return"horizontal"}if(Zt(r.y)&&le(r.y))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}const Ue="boxplot",qe=U({box:1,median:1,outliers:1,rule:1,ticks:1}),He=new vn(Ue,Ge);function We(n){return p(n)?"tukey":n}function Ge(n,{config:t}){const{mark:e,encoding:r,selection:i,projection:a}=n,o=wn(n,["mark","encoding","selection","projection"]),s=dn(e)?e:{type:e};i&&jt(bt.selectionNotSupported("boxplot"));const c=s.extent||t.boxplot.extent,f=Q(s.size,t.boxplot.size),h=We(c),{transform:d,continuousAxisChannelDef:p,continuousAxis:g,groupby:m,aggregate:v,encodingWithoutContinuousAxis:w,ticksOrient:y,customTooltipWithoutAggregatedField:b}=function(n,t,e){const r=Le(n,Ue),{continuousAxisChannelDef:i,continuousAxis:u}=Re(n,r,Ue),a=i.field,o=We(t),s=[...Ye(a),{op:"median",field:a,as:"mid_box_"+a},{op:"min",field:a,as:("min-max"===o?"lower_whisker_":"min_")+a},{op:"max",field:a,as:("min-max"===o?"upper_whisker_":"max_")+a}],c="min-max"===o||"tukey"===o?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:"iqr_"+a},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:"upper_whisker_"+a},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:"lower_whisker_"+a}],f=n.encoding,h=u,d=(f[h],wn(f,["symbol"==typeof h?h:h+""])),{customTooltipWithoutAggregatedField:p,filteredEncoding:g}=function(n){const{tooltip:t}=n,e=wn(n,["tooltip"]);if(!t)return{filteredEncoding:n};let r,i;return l(t)?(t.forEach(n=>{n.aggregate?(r||(r=[]),r.push(n)):(i||(i=[]),i.push(n))}),r&&(e.tooltip=r)):t.aggregate?e.tooltip=t:i=t,l(i)&&1===i.length&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:e}}(d),{bins:m,timeUnits:v,aggregate:w,groupby:y,encoding:b}=De(g,e),x="vertical"===r?"horizontal":"vertical";return{transform:[...m,...v,{aggregate:[...w,...s],groupby:y},...c],groupby:y,aggregate:w,continuousAxisChannelDef:i,continuousAxis:u,encodingWithoutContinuousAxis:b,ticksOrient:x,customTooltipWithoutAggregatedField:p}}(n,c,t),{color:x,size:_}=w,k=wn(w,["color","size"]),j=n=>Pe(s,g,p,n,t.boxplot),O=j(k),A=j(w),E=j(Object.assign({},k,_?{size:_}:{})),S=ze([{fieldPrefix:"min-max"===h?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===h?"lower_whisker_":"min_",titlePrefix:"Min"}],p,w),C={type:"tick",color:"black",opacity:1,orient:y},D="min-max"===h?S:ze([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,w),M=[...O({partName:"rule",mark:"rule",positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:D}),...O({partName:"rule",mark:"rule",positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:D}),...O({partName:"ticks",mark:C,positionPrefix:"lower_whisker",extraEncoding:D}),...O({partName:"ticks",mark:C,positionPrefix:"upper_whisker",extraEncoding:D})],F=[..."tukey"!==h?M:[],...A({partName:"box",mark:Object.assign({type:"bar"},f?{size:f}:{}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:S}),...E({partName:"median",mark:Object.assign({type:"tick"},u(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},f?{size:f}:{},{orient:y}),positionPrefix:"mid_box",extraEncoding:S})];let T;if("min-max"!==h){const n=`datum["lower_box_${p.field}"]`,e=`datum["upper_box_${p.field}"]`,r=`(${e} - ${n})`,i=`${n} - ${c} * ${r}`,l=`${e} + ${c} * ${r}`,u=`datum["${p.field}"]`,a={joinaggregate:Ye(p.field),groupby:m};let o=void 0;"tukey"===h&&(o={transform:[{filter:`(${i} <= ${u}) && (${u} <= ${l})`},{aggregate:[{op:"min",field:p.field,as:"lower_whisker_"+p.field},{op:"max",field:p.field,as:"upper_whisker_"+p.field},{op:"min",field:"lower_box_"+p.field,as:"lower_box_"+p.field},{op:"max",field:"upper_box_"+p.field,as:"upper_box_"+p.field},...v],groupby:m}],layer:M});const f=wn(k,["tooltip"]),d=$e(s,"outliers",t.boxplot,{transform:[{filter:`(${u} < ${i}) || (${u} > ${l})`}],mark:"point",encoding:Object.assign({[g]:{field:p.field,type:p.type}},f,b?{tooltip:b}:{})})[0];d&&o?T={transform:[a],layer:[d,o]}:d?(T=d).transform.unshift(a):o&&(T=o).transform.unshift(a)}return T?Object.assign({},o,{layer:[...T?[T]:[],{transform:d,layer:F}]}):Object.assign({},o,{transform:(o.transform||[]).concat(d),layer:F})}function Ye(n){return[{op:"q1",field:n,as:"lower_box_"+n},{op:"q3",field:n,as:"upper_box_"+n}]}const Ve="errorbar",Je=U({ticks:1,rule:1}),Xe=new vn(Ve,Ke);function Ke(n,{config:t}){const{transform:e,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:l,ticksOrient:u,markDef:a,outerSpec:o,tooltipEncoding:s}=Ze(n,Ve,t),c=Pe(a,i,r,l,t.errorbar),f={type:"tick",orient:u};return Object.assign({},o,{transform:e,layer:[...c({partName:"ticks",mark:f,positionPrefix:"lower",extraEncoding:s}),...c({partName:"ticks",mark:f,positionPrefix:"upper",extraEncoding:s}),...c({partName:"rule",mark:"rule",positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:s})]})}function Ze(n,t,e){const{mark:r,encoding:i,selection:l,projection:u}=n,a=wn(n,["mark","encoding","selection","projection"]),o=dn(r)?r:{type:r};l&&jt(bt.selectionNotSupported(t));const{orient:s,inputType:c}=function(n,t){const{encoding:e}=n;if(function(n){return(Zt(n.x)||Zt(n.y))&&!Zt(n.x2)&&!Zt(n.y2)&&!Zt(n.xError)&&!Zt(n.xError2)&&!Zt(n.yError)&&!Zt(n.yError2)}(e))return{orient:Le(n,t),inputType:"raw"};const r=function(n){return Zt(n.x2)||Zt(n.y2)}(e),i=function(n){return Zt(n.xError)||Zt(n.xError2)||Zt(n.yError)||Zt(n.yError2)}(e),l=e.x,u=e.y;if(r){if(i)throw new Error(t+" cannot be both type aggregated-upper-lower and aggregated-error");const n=e.x2,r=e.y2;if(Zt(n)&&Zt(r))throw new Error(t+" cannot have both x2 and y2");if(Zt(n)){if(Zt(l)&&le(l))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+t)}if(Zt(r)){if(Zt(u)&&le(u))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+t)}throw new Error("No ranged axis")}{const n=e.xError,r=e.xError2,i=e.yError,a=e.yError2;if(Zt(r)&&!Zt(n))throw new Error(t+" cannot have xError2 without xError");if(Zt(a)&&!Zt(i))throw new Error(t+" cannot have yError2 without yError");if(Zt(n)&&Zt(i))throw new Error(t+" cannot have both xError and yError with both are quantiative");if(Zt(n)){if(Zt(l)&&le(l))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Zt(i)){if(Zt(u)&&le(u))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}(n,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:h,continuousAxisChannelDefError:d,continuousAxisChannelDefError2:p,continuousAxis:g}=Re(n,s,t),{errorBarSpecificAggregate:m,postAggregateCalculates:v,tooltipSummary:w,tooltipTitleWithFieldName:y}=function(n,t,e,r,i,l,u,a){let o=[],s=[];const c=t.field;let f,h=!1;if("raw"===l){const t=n.center?n.center:n.extent?"iqr"===n.extent?"median":"mean":a.errorbar.center,e=n.extent?n.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===e)&&jt(bt.errorBarCenterIsUsedWithWrongExtent(t,e,u)),"stderr"===e||"stdev"===e)o=[{op:e,field:c,as:"extent_"+c},{op:t,field:c,as:"center_"+c}],s=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:"upper_"+c},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:"lower_"+c}],f=[{fieldPrefix:"center_",titlePrefix:V(t)},{fieldPrefix:"upper_",titlePrefix:Qe(t,e,"+")},{fieldPrefix:"lower_",titlePrefix:Qe(t,e,"-")}],h=!0;else{let t,r,i;n.center&&n.extent&&jt(bt.errorBarCenterIsNotNeeded(n.extent,u)),"ci"===e?(t="mean",r="ci0",i="ci1"):(t="median",r="q1",i="q3"),o=[{op:r,field:c,as:"lower_"+c},{op:i,field:c,as:"upper_"+c},{op:t,field:c,as:"center_"+c}],f=[{fieldPrefix:"upper_",titlePrefix:se({field:c,aggregate:i,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:se({field:c,aggregate:r,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:se({field:c,aggregate:t,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(n.center||n.extent)&&jt(bt.errorBarCenterAndExtentAreNotNeeded(n.center,n.extent)),"aggregated-upper-lower"===l?(f=[],s=[{calculate:`datum["${e.field}"]`,as:"upper_"+c},{calculate:`datum["${c}"]`,as:"lower_"+c}]):"aggregated-error"===l&&(f=[{fieldPrefix:"",titlePrefix:c}],s=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:"upper_"+c}],i?s.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:"lower_"+c}):s.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:"lower_"+c}));for(const n of s)f.push({fieldPrefix:n.as.substring(0,6),titlePrefix:n.calculate.replace(new RegExp('datum\\[\\"',"g"),"").replace(new RegExp('\\"\\]',"g"),"")})}return{postAggregateCalculates:s,errorBarSpecificAggregate:o,tooltipSummary:f,tooltipTitleWithFieldName:h}}(o,f,h,d,p,c,t,e),b=g,x=(i[b],"x"===g?"x2":"y2"),_=(i[x],"x"===g?"xError":"yError"),k=(i[_],"x"===g?"xError2":"yError2"),j=(i[k],wn(i,["symbol"==typeof b?b:b+"","symbol"==typeof x?x:x+"","symbol"==typeof _?_:_+"","symbol"==typeof k?k:k+""])),{bins:O,timeUnits:A,aggregate:E,groupby:S,encoding:C}=De(j,e),D=[...E,...m],M="raw"!==c?[]:S,F=ze(w,f,C,y);return{transform:[...a.transform||[],...O,...A,...D.length?[{aggregate:D,groupby:M}]:[],...v],groupby:M,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:C,ticksOrient:"vertical"===s?"horizontal":"vertical",markDef:o,outerSpec:a,tooltipEncoding:F}}function Qe(n,t,e){return V(n)+" "+e+" "+t}const nr="errorband",tr=U({band:1,borders:1}),er=new vn(nr,rr);function rr(n,{config:t}){const{transform:e,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:l,markDef:u,outerSpec:a,tooltipEncoding:o}=Ze(n,nr,t),s=u,c=Pe(s,i,r,l,t.errorband),f=void 0!==n.encoding.x&&void 0!==n.encoding.y;let h={type:f?"area":"rect"},d={type:f?"line":"rule"};const p=Object.assign({},s.interpolate?{interpolate:s.interpolate}:{},s.tension&&s.interpolate?{interpolate:s.tension}:{});return f?(h=Object.assign({},h,p),d=Object.assign({},d,p)):s.interpolate?jt(bt.errorBand1DNotSupport("interpolate")):s.tension&&jt(bt.errorBand1DNotSupport("tension")),Object.assign({},a,{transform:e,layer:[...c({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:o}),...c({partName:"borders",mark:d,positionPrefix:"lower",extraEncoding:o}),...c({partName:"borders",mark:d,positionPrefix:"upper",extraEncoding:o})]})}const ir={};function lr(n,t,e){const r=new vn(n,t);ir[n]={normalizer:r,parts:e}}lr(Ue,Ge,qe),lr(Ve,Ke,Je),lr(nr,rr,tr);const ur=["shortTimeLabels"],ar=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength"],or={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},sr=Object.assign({},or,{opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,encode:1}),cr=U(or),fr=U(sr);var hr;!function(n){n.LINEAR="linear",n.LOG="log",n.POW="pow",n.SQRT="sqrt",n.SYMLOG="symlog",n.TIME="time",n.UTC="utc",n.QUANTILE="quantile",n.QUANTIZE="quantize",n.THRESHOLD="threshold",n.BIN_ORDINAL="bin-ordinal",n.ORDINAL="ordinal",n.POINT="point",n.BAND="band"}(hr||(hr={}));const dr={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},pr=U(dr);function gr(n,t){const e=dr[n],r=dr[t];return e===r||"ordinal-position"===e&&"time"===r||"ordinal-position"===r&&"time"===e}const mr={linear:0,log:1,pow:1,sqrt:1,symlog:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function vr(n){return mr[n]}const wr=["linear","log","pow","sqrt","symlog","time","utc"],yr=g(wr),br=g(["quantile","quantize","threshold"]),xr=g(wr.concat(["quantile","quantize","threshold"])),_r=g(["ordinal","bin-ordinal","point","band"]);function kr(n){return n in _r}function jr(n){return n in xr}function Or(n){return n in yr}function Ar(n){return n in br}const Er={textXRangeStep:90,rangeStep:20,pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function Sr(n){return n&&n.selection}const Cr=wn({type:1,domain:1,align:1,range:1,rangeStep:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},["type","domain","range","rangeStep","scheme"]),Dr=U(Cr);function Mr(n,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!F(["point","band","identity"],n);case"bins":return!F(["point","band","identity","ordinal"],n);case"round":return Or(n)||"band"===n||"point"===n;case"padding":return Or(n)||F(["point","band"],n);case"paddingOuter":case"rangeStep":case"align":return F(["point","band"],n);case"paddingInner":return"band"===n;case"clamp":return Or(n);case"nice":return Or(n)||"quantize"===n||"threshold"===n;case"exponent":return"pow"===n;case"base":return"log"===n;case"constant":return"symlog"===n;case"zero":return jr(n)&&!F(["log","time","utc","threshold","quantile"],n)}}function Fr(n,t){switch(t){case"interpolate":case"scheme":return Kn(n)?void 0:bt.cannotUseScalePropertyWithNonColor(n);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}}function Tr(n,t){return F([Wt,Yt],t)?void 0===n||kr(n):t===Gt?F([hr.TIME,hr.UTC,void 0],n):t!==Ht||F([hr.LOG,hr.POW,hr.SQRT,hr.SYMLOG,hr.QUANTILE,hr.QUANTIZE,hr.THRESHOLD,hr.LINEAR,void 0],n)}function Nr(n,t){switch(n){case Dn:case Mn:return Or(t)||F(["band","point"],t);case Un:case Gn:case qn:case Hn:case Wn:return Or(t)||Ar(t)||F(["band","point"],t);case $n:case Rn:case In:return"band"!==t;case Ln:return"ordinal"===t}return!1}function Br(n,t){return n+"_"+t}!function(){const n={};for(const t of tt)for(const e of U(qt))for(const r of pr){const i=Br(t,e);Nr(t,r)&&Tr(r,e)&&(n[i]=n[i]||[],n[i].push(r))}}();const zr="_vgsid_";function Pr(n){return"interval"===n.type}const $r={single:{on:"click",fields:[zr],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[zr],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Rr(n){return void 0!==n.concat}function Ir(n){return void 0!==n.vconcat}function Lr(n){return void 0!==n.hconcat}function Ur(n){return void 0!==n.repeat}const qr=U({align:1,bounds:1,center:1,columns:1,spacing:1});function Hr(n){const{anchor:t,frame:e,offset:r,orient:i,color:l}=n,u=wn(n,["anchor","frame","offset","orient","color"]);return{mark:Object.assign({},u,l?{fill:l}:{}),nonMark:Object.assign({},t?{anchor:t}:{},e?{frame:e}:{},r?{offset:r}:{},i?{orient:i}:{})}}const Wr={padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",invalidValues:"filter",view:{width:200,height:200},mark:{color:"#4c78a8",tooltip:{content:"encoding"}},area:{},bar:{binSpacing:1,continuousBandSize:5},circle:{},geoshape:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:Er,projection:{},axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:$r,style:{},title:{},facet:{spacing:20},repeat:{spacing:20},concat:{spacing:20}};function Gr(n){return z(A(Wr),n)}const Yr=["view",...hn],Vr=["padding","facet","concat","repeat","numberFormat","timeFormat","countTitle","header","stack","scale","selection","invalidValues","overlay"],Jr=Object.assign({view:["width","height"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],text:["shortTimeLabels"],tick:["bandSize","thickness"]});function Xr(n){n=A(n);for(const t of Vr)delete n[t];if(n.axis)for(const t of ur)delete n.axis[t];if(n.legend){for(const t of ur)delete n.legend[t];for(const t of ar)delete n.legend[t]}if(n.mark)for(const t of gn)delete n.mark[t];for(const t of Yr){for(const e of gn)delete n[t][e];const e=Jr[t];if(e)for(const r of e)delete n[t][r];Kr(n,t)}for(const t of U(ir))delete n[t];Kr(n,"title","group-title");for(const t in n)u(n[t])&&0===U(n[t]).length&&delete n[t];return U(n).length>0?n:void 0}function Kr(n,t,e,r){const i="title"===t?Hr(n.title).mark:r?n[t][r]:n[t];"view"===t&&(e="cell");const l=Object.assign({},i,n.style[t]);U(l).length>0&&(n.style[e||t]=l),r||delete n[t]}function Zr(n){return void 0!==n.layer}class Qr{map(n,t){return Ft(n)?this.mapFacet(n,t):Ur(n)?this.mapRepeat(n,t):Lr(n)?this.mapHConcat(n,t):Ir(n)?this.mapVConcat(n,t):Rr(n)?this.mapConcat(n,t):this.mapLayerOrUnit(n,t)}mapLayerOrUnit(n,t){if(Zr(n))return this.mapLayer(n,t);if(mn(n))return this.mapUnit(n,t);throw new Error(bt.INVALID_SPEC)}mapLayer(n,t){return Object.assign({},n,{layer:n.layer.map(n=>this.mapLayerOrUnit(n,t))})}mapHConcat(n,t){return Object.assign({},n,{hconcat:n.hconcat.map(n=>this.map(n,t))})}mapVConcat(n,t){return Object.assign({},n,{vconcat:n.vconcat.map(n=>this.map(n,t))})}mapConcat(n,t){const{concat:e}=n,r=wn(n,["concat"]);return Object.assign({},r,{concat:e.map(n=>this.map(n,t))})}mapFacet(n,t){return Object.assign({},n,{spec:this.map(n.spec,t)})}mapRepeat(n,t){return Object.assign({},n,{spec:this.map(n.spec,t)})}}const ni={zero:1,center:1,normalize:1},ti=["bar",en,un,ln,on,sn,rn,"text",an],ei=["bar",en];function ri(n,t,e,r={}){const i=dn(n)?n.type:n;if(!F(ti,i))return null;const u=function(n){const t=n.x,e=n.y;if(Zt(t)&&Zt(e))if("quantitative"===t.type&&"quantitative"===e.type){if(t.stack)return"x";if(e.stack)return"y";if(!!t.aggregate!=!!e.aggregate)return t.aggregate?"x":"y"}else{if("quantitative"===t.type)return"x";if("quantitative"===e.type)return"y"}else{if(Zt(t)&&"quantitative"===t.type)return"x";if(Zt(e)&&"quantitative"===e.type)return"y"}}(t);if(!u)return null;const a=t[u],o=ne(a)?ie(a,{}):void 0,s="x"===u?"y":"x",c=t[s],f=ne(c)?ie(c,{}):void 0,h=st.reduce((n,e)=>{if("tooltip"!==e&&Se(t,e)){const r=t[e];(l(r)?r:[r]).forEach(t=>{const r=pe(t);if(r.aggregate)return;const i=ne(r)?ie(r,{}):void 0;(!i||i!==f&&i!==o)&&n.push({channel:e,fieldDef:r})})}return n},[]);let p;if(void 0!==a.stack?p=d(a.stack)?a.stack?"zero":null:a.stack:h.length>0&&(p=F(ei,i)?Q(e,"zero"):e),!p||!ni[p])return null;if(a.scale&&a.scale.type&&a.scale.type!==hr.LINEAR){if(r.disallowNonLinearStack)return null;jt(bt.cannotStackNonLinearScale(a.scale.type))}return Se(t,u===Dn?Fn:Tn)?(void 0!==a.stack&&jt(bt.cannotStackRangedMark(u)),null):(a.aggregate&&!F(On,a.aggregate)&&jt(bt.stackNonSummativeAggregate(a.aggregate)),{groupbyChannel:c?s:void 0,fieldChannel:u,impute:fn(i),stackBy:h,offset:p})}function ii(n){const t=wn(n,["point","line"]);return U(t).length>1?t:t.type}function li(n){for(const t of["line","area","rule","trail"])n[t]&&(n=Object.assign({},n,{[t]:S(n[t],["point","line"])}));return n}function ui(n,t={},e){return"transparent"===n.point?{opacity:0}:n.point?u(n.point)?n.point:{}:void 0!==n.point?null:t.point||e.shape?u(t.point)?t.point:{}:void 0}function ai(n,t={}){return n.line?!0===n.line?{}:n.line:void 0!==n.line?null:t.line?!0===t.line?{}:t.line:void 0}class oi{constructor(){this.name="path-overlay"}hasMatchingType(n,t){if(mn(n)){const{mark:e,encoding:r}=n,i=dn(e)?e:{type:e};switch(i.type){case"line":case"rule":case"trail":return!!ui(i,t[i.type],r);case"area":return!!ui(i,t[i.type],r)||!!ai(i,t[i.type])}}return!1}run(n,t,e){const{config:r}=t,{selection:i,projection:l,encoding:u,mark:a}=n,o=wn(n,["selection","projection","encoding","mark"]),s=dn(a)?a:{type:a},c=ui(s,r[s.type],u),f="area"===s.type&&ai(s,r[s.type]),h=[Object.assign({},i?{selection:i}:{},{mark:ii(Object.assign({},s,"area"===s.type?{opacity:.7}:{})),encoding:S(u,["shape"])})],d=ri(s,u,r?r.stack:void 0);let p=u;if(d){const{fieldChannel:n,offset:t}=d;p=Object.assign({},u,{[n]:Object.assign({},u[n],t?{stack:t}:{})})}return f&&h.push(Object.assign({},l?{projection:l}:{},{mark:Object.assign({type:"line"},E(s,["clip","interpolate","tension","tooltip"]),f),encoding:p})),c&&h.push(Object.assign({},l?{projection:l}:{},{mark:Object.assign({type:"point",opacity:1,filled:!0},E(s,["clip","tooltip"]),c),encoding:p})),e(Object.assign({},o,{layer:h}),Object.assign({},t,{config:li(r)}))}}class si{constructor(){this.name="RuleForRangedLine"}hasMatchingType(n){if(mn(n)){const{encoding:t,mark:e}=n;if("line"===e)for(const n of lt){const e=t[at(n)];if(t[n]&&Zt(e)&&!Oe(e.bin))return!0}}return!1}run(n,t,e){const{encoding:r}=n;return jt(bt.lineWithRange(!!r.x2,!!r.y2)),e(Object.assign({},n,{mark:"rule"}),t)}}function ci(n){const{parentEncoding:t,encoding:e}=n;if(t&&e){const n=U(t).reduce((n,t)=>(e[t]&&n.push(t),n),[]);n.length>0&&jt(bt.encodingOverridden(n))}const r=Object.assign({},t||{},e||{});return U(r).length>0?r:void 0}function fi(n){const{parentProjection:t,projection:e}=n;return t&&e&&jt(bt.projectionOverridden({parentProjection:t,projection:e})),e||t}function hi(n,t){return void 0===t&&(t=Gr(n.config)),function(n,t={}){return di.map(n,{config:t})}(n,t)}const di=new class extends Qr{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[He,Xe,er,new oi,new si]}map(n,t){if(mn(n)){const e=Se(n.encoding,En),r=Se(n.encoding,Sn),i=Se(n.encoding,Cn);if(e||r||i)return this.mapFacetedUnit(n,t)}return super.map(n,t)}mapUnit(n,t){const{parentEncoding:e,parentProjection:r}=t;if(e||r)return this.mapUnitWithParentEncodingOrProjection(n,t);const i=this.mapLayerOrUnit.bind(this);for(const e of this.nonFacetUnitNormalizers)if(e.hasMatchingType(n,t.config))return e.run(n,t,i);return n}mapRepeat(n,t){const{repeat:e}=n;return!l(e)&&n.columns&&(n=S(n,["columns"]),jt(bt.columnsNotSupportByRowCol("repeat"))),Object.assign({},n,{spec:this.map(n.spec,t)})}mapFacet(n,t){const{facet:e}=n;return Mt(e)&&n.columns&&(n=S(n,["columns"]),jt(bt.columnsNotSupportByRowCol("facet"))),super.mapFacet(n,t)}mapUnitWithParentEncodingOrProjection(n,t){const{encoding:e,projection:r}=n,{parentEncoding:i,parentProjection:l,config:u}=t,a=fi({parentProjection:l,projection:r}),o=ci({parentEncoding:i,encoding:e});return this.mapUnit(Object.assign({},n,a?{projection:a}:{},o?{encoding:o}:{}),{config:u})}mapFacetedUnit(n,t){const e=n.encoding,{row:r,column:i,facet:l}=e,u=wn(e,["row","column","facet"]),{mark:a,width:o,projection:s,height:c,selection:f,encoding:h}=n,d=wn(n,["mark","width","projection","height","selection","encoding"]);return l&&(r||i)&&jt(bt.facetChannelDropped([...r?[En]:[],...i?[Sn]:[]])),this.mapFacet(Object.assign({},d,{facet:r||i?Object.assign({},r?{row:r}:{},i?{column:i}:{}):l,spec:Object.assign({},s?{projection:s}:{},{mark:a},o?{width:o}:{},c?{height:c}:{},{encoding:u},f?{selection:f}:{})}),t)}mapLayer(n,t){var{parentEncoding:e,parentProjection:r}=t,i=wn(t,["parentEncoding","parentProjection"]);const{encoding:l,projection:u}=n,a=wn(n,["encoding","projection"]),o=Object.assign({},i,{parentEncoding:ci({parentEncoding:e,encoding:l}),parentProjection:fi({parentProjection:r,projection:u})});return super.mapLayer(a,o)}};function pi(n){return a(n)?{type:n}:n||{}}const gi=["background","padding"];function mi(n){return gi.reduce((t,e)=>(n&&void 0!==n[e]&&(t[e]=n[e]),t),{})}function vi(n){return!!n.url}function wi(n){return!!n.values}function yi(n){return!(!n.name||vi(n)||wi(n)||bi(n))}function bi(n){return n&&(xi(n)||_i(n)||ki(n))}function xi(n){return!!n.sequence}function _i(n){return!!n.sphere}function ki(n){return!!n.graticule}const ji="main",Oi="raw";function Ai(n){return n&&!!n.field&&void 0!==n.equal}function Ei(n){return n&&!!n.field&&void 0!==n.lt}function Si(n){return n&&!!n.field&&void 0!==n.lte}function Ci(n){return n&&!!n.field&&void 0!==n.gt}function Di(n){return n&&!!n.field&&void 0!==n.gte}function Mi(n){return!!(n&&n.field&&l(n.range)&&2===n.range.length)}function Fi(n){return n&&!!n.field&&(l(n.oneOf)||l(n.in))}function Ti(n){return Fi(n)||Ai(n)||Mi(n)||Ei(n)||Ci(n)||Si(n)||Di(n)}function Ni(n,t){return be(n,{timeUnit:t,time:!0})}function Bi(n,t=!0){const{field:e,timeUnit:r}=n,i=r?"time("+It(r,e)+")":ie(n,{expr:"datum"});if(Ai(n))return i+"==="+Ni(n.equal,r);if(Ei(n))return`${i}<${Ni(n.lt,r)}`;if(Ci(n))return`${i}>${Ni(n.gt,r)}`;if(Si(n))return`${i}<=${Ni(n.lte,r)}`;if(Di(n))return`${i}>=${Ni(n.gte,r)}`;if(Fi(n))return`indexof([${function(n,t){return n.map(n=>Ni(n,t))}(n.oneOf,r).join(",")}], ${i}) !== -1`;if(function(n){return n&&!!n.field&&void 0!==n.valid}(n))return n.valid?`${i}!==null&&!isNaN(${i})`:`${i}===null||isNaN(${i})`;if(Mi(n)){const e=n.range[0],l=n.range[1];if(null!==e&&null!==l&&t)return"inrange("+i+", ["+Ni(e,r)+", "+Ni(l,r)+"])";const u=[];return null!==e&&u.push(`${i} >= ${Ni(e,r)}`),null!==l&&u.push(`${i} <= ${Ni(l,r)}`),u.length>0?u.join(" && "):"true"}throw new Error("Invalid field predicate: "+JSON.stringify(n))}function zi(n){return Ti(n)&&n.timeUnit?Object.assign({},n,{timeUnit:Ut(n.timeUnit)}):n}function Pi(n){return void 0!==n.filter}function $i(n){return void 0!==n.lookup}function Ri(n){return void 0!==n.sample}function Ii(n){return void 0!==n.window}function Li(n){return void 0!==n.joinaggregate}function Ui(n){return void 0!==n.flatten}function qi(n){return void 0!==n.calculate}function Hi(n){return!!n.bin}function Wi(n){return void 0!==n.impute}function Gi(n){return void 0!==n.timeUnit}function Yi(n){return void 0!==n.aggregate}function Vi(n){return void 0!==n.stack}function Ji(n){return void 0!==n.fold}function Xi(n){return!!n.signal}function Ki(n){return!!n.step}function Zi(n){return!l(n)&&"field"in n&&"data"in n}const Qi=U({opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1,tooltip:1,cornerRadius:1,x:1,y:1,x2:1,y2:1,width:1,height:1}),nl=["domain","grid","labels","ticks","title"],tl={grid:"grid",gridColor:"grid",gridDash:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",domain:"main",domainColor:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontWeight:"main",labelLimit:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",maxExtent:"main",minExtent:"main",offset:"main",position:"main",tickColor:"main",tickExtra:"main",tickOffset:"both",tickOpacity:"main",tickRound:"main",ticks:"main",tickSize:"main",title:"main",titleAlign:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontWeight:"main",titleLimit:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",tickWidth:"both",tickCount:"both",values:"both",scale:"both",zindex:"both"},el={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},rl=Object.assign({},el,{encoding:1}),il=Object.assign({gridScale:1,scale:1},el,{encode:1}),ll=U(il);function ul(n,t,e,r={header:!1}){const i=n.combine(),{orient:u,scale:a,title:o,zindex:s}=i,c=wn(i,["orient","scale","title","zindex"]);if(U(c).forEach(n=>{const e=tl[n];e&&e!==t&&"both"!==e&&delete c[n]}),"grid"===t){if(!c.grid)return;if(c.encode){const{grid:n}=c.encode;c.encode=Object.assign({},n?{grid:n}:{}),0===U(c.encode).length&&delete c.encode}return Object.assign({scale:a,orient:u},c,{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Q(s,0)})}{if(!r.header&&n.mainExtracted)return;if(c.encode){for(const t of nl)n.hasAxisPart(t)||delete c.encode[t];0===U(c.encode).length&&delete c.encode}const t=function(n,t){return l(n)?n.map(n=>fe(n,t)).join(", "):n}(o,e);return Object.assign({scale:a,orient:u,grid:!1},t?{title:t}:{},c,{zindex:Q(s,1)})}}function al(n){const{axes:t}=n.component;for(const e of ft)if(t[e])for(const r of t[e])if(!r.get("gridScale")){const t="x"===e?"height":"width";return[{name:t,update:n.getSizeSignalRef(t).signal}]}return[]}const ol={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleOrient:"orient",titlePadding:"offset"},sl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelLimit:"limit",labelOrient:"orient",labelPadding:"offset"},cl=U(ol),fl=U(sl),hl="mean";function dl(n){return!(!n||"count"!==n.op&&!n.field)}function pl(n){return!!n&&l(n)}function gl(n,t,e,r,i){const l=[..."band"===i?["axisBand"]:[],"x"===e?"axisX":"axisY",...r?["axis"+r.substr(0,1).toUpperCase()+r.substr(1)]:[],"axis"];for(const e of l)if(t[e]&&void 0!==t[e][n])return t[e][n]}function ml(n,t){if(void 0!==n)return n=tn(n),"top"===t||"bottom"===t?n<=45||315<=n?"top"===t?"bottom":"top":135<=n&&n<=225?"top"===t?"top":"bottom":"middle":n<=45||315<=n||135<=n&&n<=225?"middle":45<=n&&n<=135?"left"===t?"top":"bottom":"left"===t?"bottom":"top"}function vl(n,t){if(void 0!==n)return n=tn(n),"top"===t||"bottom"===t?n%180==0?"center":0<n&&n<180?"top"===t?"right":"left":"top"===t?"left":"right":(n+90)%180==0?"center":90<=n&&n<270?"left"===t?"left":"right":"left"===t?"right":"left"}function wl(n){switch(n){case Dn:return"bottom";case Mn:return"left"}throw new Error(bt.INVALID_CHANNEL_FOR_AXIS)}function yl(n){return[].concat(n.type,n.style||[])}function bl(n,t,e,{vgChannel:r}={}){return Q(r?xl(n,t,e.style):void 0,xl(n,t,e.style),r?e[t.type][r]:void 0,e[t.type][n],r?e.mark[r]:e.mark[n])}function xl(n,t,e){const r=yl(t);let i;for(const t of r){const r=e[t],l=n;r&&void 0!==r[l]&&(i=r[l])}return i}function _l(n,t,e,r){if(ye(n)){const i=ee(n)&&n.scale&&n.scale.type===hr.UTC;return{signal:El(ie(n,{expr:e}),n.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,i,!0)}}{const i=kl(n,t,r);return je(n.bin)?{signal:Al(ie(n,{expr:e}),ie(n,{expr:e,binSuffix:"end"}),i,r)}:"quantitative"===n.type||i?{signal:""+jl(ie(n,{expr:e,binSuffix:"range"}),i)}:{signal:"''+"+ie(n,{expr:e})}}}function kl(n,t,e){return t||(n.type===Ht?e.numberFormat:void 0)}function jl(n,t){return`format(${n}, "${t||""}")`}function Ol(n,t,e){return jl(n,t||e.numberFormat)}function Al(n,t,e,r){return`${n} === null || isNaN(${n}) ? "null" : ${Ol(n,e,r)} + " - " + ${Ol(t,e,r)}`}function El(n,t,e,r,i,l,u=!1){return!t||e?(e=e||i)||u?`${l?"utc":"time"}Format(${n}, '${e}')`:void 0:function(n,t,e,r){if(!n)return;const i=Lt(n,e);let l="";return Rt(n,Tt.QUARTER)&&(l=`'Q' + quarter(${t})`),i.length>0&&(l&&(l+=" + ' ' + "),l+=r?`utcFormat(${t}, '${i.join(" ")}')`:`timeFormat(${t}, '${i.join(" ")}')`),l||void 0}(t,n,r,l)}function Sl(n,t){return(l(n)?n:[n]).reduce((n,e)=>(n.field.push(ie(e,t)),n.order.push(e.sort||"ascending"),n),{field:[],order:[]})}function Cl(n,t){const e=[...n];return t.forEach(n=>{for(const t of e)if(C(t)===C(n))return;e.push(n)}),e}function Dl(n,t){return n!==t&&t?n?n+", "+t:t:n}function Ml(n,t){if(l(n.value)&&l(t.value))return{explicit:n.explicit,value:Cl(n.value,t.value)};if(!l(n.value)&&!l(t.value))return{explicit:n.explicit,value:Dl(n.value,t.value)};throw new Error("It should never reach here")}class Fl{constructor(n,t){this.debugName=t,this._children=[],this._parent=null,n&&(this.parent=n)}clone(){throw new Error("Cannot clone node")}hash(){return void 0===this._hash&&(this._hash=function(n){const t=++nn;return t}()),this._hash}producedFields(){return new Set}dependentFields(){return new Set}get parent(){return this._parent}set parent(n){this._parent=n,n&&n.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(n,t){this._children.indexOf(n)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,n):this._children.push(n)}removeChild(n){const t=this._children.indexOf(n);return this._children.splice(t,1),t}remove(){let n=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,n++)}insertAsParentOf(n){const t=n.parent;t.removeChild(this),this.parent=t,n.parent=this}swapWithParent(){const n=this._parent,t=n.parent;for(const t of this._children)t.parent=n;this._children=[],n.removeChild(this),n.parent.removeChild(n),this.parent=t,n.parent=this}}class Tl extends Fl{constructor(n,t,e,r){super(n,t),this.type=e,this.refCounts=r,this._source=this._name=t,!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}clone(){const n=new this.constructor;return n.debugName="clone_"+this.debugName,n._source=this._source,n._name="clone_"+this._name,n.type=this.type,n.refCounts=this.refCounts,n.refCounts[n._name]=0,n}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(n){this._source=n}}var Nl,Bl,zl,Pl,$l;function Rl(n){this.type=n}Rl.prototype.visit=function(n){var t,e,r;if(n(this))return 1;for(e=0,r=(t=function(n){switch(n.type){case"ArrayExpression":return n.elements;case"BinaryExpression":case"LogicalExpression":return[n.left,n.right];case"CallExpression":var t=n.arguments.slice();return t.unshift(n.callee),t;case"ConditionalExpression":return[n.test,n.consequent,n.alternate];case"MemberExpression":return[n.object,n.property];case"ObjectExpression":return n.properties;case"Property":return[n.key,n.value];case"UnaryExpression":return[n.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;e<r;++e)if(t[e].visit(n))return 1},(Nl={})[1]="Boolean",Nl[2]="<end>",Nl[3]="Identifier",Nl[4]="Keyword",Nl[5]="Null",Nl[6]="Numeric",Nl[7]="Punctuator",Nl[8]="String",Nl[9]="RegularExpression";var Il="Identifier",Ll="Unexpected token %0",Ul="Invalid regular expression",ql="Invalid regular expression: missing /",Hl="Octal literals are not allowed in strict mode.",Wl="ILLEGAL",Gl="Disabled.",Yl=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Vl=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Jl(n,t){if(!n)throw new Error("ASSERT: "+t)}function Xl(n){return n>=48&&n<=57}function Kl(n){return"0123456789abcdefABCDEF".indexOf(n)>=0}function Zl(n){return"01234567".indexOf(n)>=0}function Ql(n){return 32===n||9===n||11===n||12===n||160===n||n>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)>=0}function nu(n){return 10===n||13===n||8232===n||8233===n}function tu(n){return 36===n||95===n||n>=65&&n<=90||n>=97&&n<=122||92===n||n>=128&&Yl.test(String.fromCharCode(n))}function eu(n){return 36===n||95===n||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||92===n||n>=128&&Vl.test(String.fromCharCode(n))}var ru={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function iu(){for(var n;zl<Pl&&(Ql(n=Bl.charCodeAt(zl))||nu(n));)++zl}function lu(n){var t,e,r,i=0;for(e="u"===n?4:2,t=0;t<e;++t)zl<Pl&&Kl(Bl[zl])?(r=Bl[zl++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):yu({},Ll,Wl);return String.fromCharCode(i)}function uu(){var n,t,e,r;for(t=0,"}"===(n=Bl[zl])&&yu({},Ll,Wl);zl<Pl&&Kl(n=Bl[zl++]);)t=16*t+"0123456789abcdef".indexOf(n.toLowerCase());return(t>1114111||"}"!==n)&&yu({},Ll,Wl),t<=65535?String.fromCharCode(t):(e=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(e,r))}function au(){var n,t;for(n=Bl.charCodeAt(zl++),t=String.fromCharCode(n),92===n&&(117!==Bl.charCodeAt(zl)&&yu({},Ll,Wl),++zl,(n=lu("u"))&&"\\"!==n&&tu(n.charCodeAt(0))||yu({},Ll,Wl),t=n);zl<Pl&&eu(n=Bl.charCodeAt(zl));)++zl,t+=String.fromCharCode(n),92===n&&(t=t.substr(0,t.length-1),117!==Bl.charCodeAt(zl)&&yu({},Ll,Wl),++zl,(n=lu("u"))&&"\\"!==n&&eu(n.charCodeAt(0))||yu({},Ll,Wl),t+=n);return t}function ou(){var n,t,e,r,i=zl,l=Bl.charCodeAt(zl),u=Bl[zl];switch(l){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++zl,{type:7,value:String.fromCharCode(l),start:i,end:zl};default:if(61===(n=Bl.charCodeAt(zl+1)))switch(l){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return zl+=2,{type:7,value:String.fromCharCode(l)+String.fromCharCode(n),start:i,end:zl};case 33:case 61:return zl+=2,61===Bl.charCodeAt(zl)&&++zl,{type:7,value:Bl.slice(i,zl),start:i,end:zl}}}return">>>="===(r=Bl.substr(zl,4))?{type:7,value:r,start:i,end:zl+=4}:">>>"===(e=r.substr(0,3))||"<<="===e||">>="===e?{type:7,value:e,start:i,end:zl+=3}:u===(t=e.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===t?{type:7,value:t,start:i,end:zl+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:i,end:++zl}:void yu({},Ll,Wl)}function su(){var n,t,e;if(Jl(Xl((e=Bl[zl]).charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),t=zl,n="","."!==e){if(n=Bl[zl++],e=Bl[zl],"0"===n){if("x"===e||"X"===e)return++zl,function(n){for(var t="";zl<Pl&&Kl(Bl[zl]);)t+=Bl[zl++];return 0===t.length&&yu({},Ll,Wl),tu(Bl.charCodeAt(zl))&&yu({},Ll,Wl),{type:6,value:parseInt("0x"+t,16),start:n,end:zl}}(t);if(Zl(e))return function(n){for(var t="0"+Bl[zl++];zl<Pl&&Zl(Bl[zl]);)t+=Bl[zl++];return(tu(Bl.charCodeAt(zl))||Xl(Bl.charCodeAt(zl)))&&yu({},Ll,Wl),{type:6,value:parseInt(t,8),octal:!0,start:n,end:zl}}(t);e&&Xl(e.charCodeAt(0))&&yu({},Ll,Wl)}for(;Xl(Bl.charCodeAt(zl));)n+=Bl[zl++];e=Bl[zl]}if("."===e){for(n+=Bl[zl++];Xl(Bl.charCodeAt(zl));)n+=Bl[zl++];e=Bl[zl]}if("e"===e||"E"===e)if(n+=Bl[zl++],"+"!==(e=Bl[zl])&&"-"!==e||(n+=Bl[zl++]),Xl(Bl.charCodeAt(zl)))for(;Xl(Bl.charCodeAt(zl));)n+=Bl[zl++];else yu({},Ll,Wl);return tu(Bl.charCodeAt(zl))&&yu({},Ll,Wl),{type:6,value:parseFloat(n),start:t,end:zl}}function cu(){var n;return iu(),zl>=Pl?{type:2,start:zl,end:zl}:tu(n=Bl.charCodeAt(zl))?function(){var n,t;return n=zl,{type:1===(t=92===Bl.charCodeAt(zl)?au():function(){var n,t;for(n=zl++;zl<Pl;){if(92===(t=Bl.charCodeAt(zl)))return zl=n,au();if(!eu(t))break;++zl}return Bl.slice(n,zl)}()).length?3:ru.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:n,end:zl}}():40===n||41===n||59===n?ou():39===n||34===n?function(){var n,t,e,r,i="",l=!1;for(Jl("'"===(n=Bl[zl])||'"'===n,"String literal must starts with a quote"),t=zl,++zl;zl<Pl;){if((e=Bl[zl++])===n){n="";break}if("\\"===e)if((e=Bl[zl++])&&nu(e.charCodeAt(0)))"\r"===e&&"\n"===Bl[zl]&&++zl;else switch(e){case"u":case"x":"{"===Bl[zl]?(++zl,i+=uu()):i+=lu(e);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Zl(e)?(0!==(r="01234567".indexOf(e))&&(l=!0),zl<Pl&&Zl(Bl[zl])&&(l=!0,r=8*r+"01234567".indexOf(Bl[zl++]),"0123".indexOf(e)>=0&&zl<Pl&&Zl(Bl[zl])&&(r=8*r+"01234567".indexOf(Bl[zl++]))),i+=String.fromCharCode(r)):i+=e}else{if(nu(e.charCodeAt(0)))break;i+=e}}return""!==n&&yu({},Ll,Wl),{type:8,value:i,octal:l,start:t,end:zl}}():46===n?Xl(Bl.charCodeAt(zl+1))?su():ou():Xl(n)?su():ou()}function fu(){var n;return zl=(n=$l).end,$l=cu(),zl=n.end,n}function hu(){var n;n=zl,$l=cu(),zl=n}function du(n,t,e){var r=new Rl("||"===n||"&&"===n?"LogicalExpression":"BinaryExpression");return r.operator=n,r.left=t,r.right=e,r}function pu(n,t){var e=new Rl("CallExpression");return e.callee=n,e.arguments=t,e}function gu(n){var t=new Rl(Il);return t.name=n,t}function mu(n){var t=new Rl("Literal");return t.value=n.value,t.raw=Bl.slice(n.start,n.end),n.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=n.regex),t}function vu(n,t,e){var r=new Rl("MemberExpression");return r.computed="["===n,r.object=t,r.property=e,r.computed||(e.member=!0),r}function wu(n,t,e){var r=new Rl("Property");return r.key=t,r.value=e,r.kind=n,r}function yu(n,t){var e,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(n,t){return Jl(t<r.length,"Message reference must be in range"),r[t]}));throw(e=new Error(i)).index=zl,e.description=i,e}function bu(n){2===n.type&&yu(n,"Unexpected end of input"),6===n.type&&yu(n,"Unexpected number"),8===n.type&&yu(n,"Unexpected string"),3===n.type&&yu(n,"Unexpected identifier"),4===n.type&&yu(n,"Unexpected reserved word"),yu(n,Ll,n.value)}function xu(n){var t=fu();7===t.type&&t.value===n||bu(t)}function _u(n){return 7===$l.type&&$l.value===n}function ku(n){return 4===$l.type&&$l.value===n}function ju(){var n;return zl=$l.start,8===(n=fu()).type||6===n.type?(n.octal&&yu(n,Hl),mu(n)):gu(n.value)}function Ou(){var n,t,e;return zl=$l.start,3===(n=$l).type?(e=ju(),xu(":"),wu("init",e,Nu())):2!==n.type&&7!==n.type?(t=ju(),xu(":"),wu("init",t,Nu())):void bu(n)}var Au={if:1,this:1};function Eu(){var n,t,e;if(_u("("))return function(){var n;return xu("("),n=Bu(),xu(")"),n}();if(_u("["))return function(){var n=[];for(zl=$l.start,xu("[");!_u("]");)_u(",")?(fu(),n.push(null)):(n.push(Nu()),_u("]")||xu(","));return fu(),function(n){var t=new Rl("ArrayExpression");return t.elements=n,t}(n)}();if(_u("{"))return function(){var n,t,e=[],r={},i=String;for(zl=$l.start,xu("{");!_u("}");)t="$"+((n=Ou()).key.type===Il?n.key.name:i(n.key.value)),Object.prototype.hasOwnProperty.call(r,t)?yu({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,e.push(n),_u("}")||xu(",");return xu("}"),function(n){var t=new Rl("ObjectExpression");return t.properties=n,t}(e)}();if(n=$l.type,zl=$l.start,3===n||Au[$l.value])e=gu(fu().value);else if(8===n||6===n)$l.octal&&yu($l,Hl),e=mu(fu());else{if(4===n)throw new Error(Gl);1===n?((t=fu()).value="true"===t.value,e=mu(t)):5===n?((t=fu()).value=null,e=mu(t)):_u("/")||_u("/=")?(e=mu(function(){var n,t,e,r;return $l=null,iu(),n=zl,t=function(){var n,t,e,r;for(Jl("/"===(n=Bl[zl]),"Regular expression literal must start with a slash"),t=Bl[zl++],e=!1,r=!1;zl<Pl;)if(t+=n=Bl[zl++],"\\"===n)nu((n=Bl[zl++]).charCodeAt(0))&&yu({},ql),t+=n;else if(nu(n.charCodeAt(0)))yu({},ql);else if(e)"]"===n&&(e=!1);else{if("/"===n){r=!0;break}"["===n&&(e=!0)}return r||yu({},ql),{value:t.substr(1,t.length-2),literal:t}}(),e=function(){var n,t,e;for(t="",e="";zl<Pl&&eu((n=Bl[zl]).charCodeAt(0));)++zl,"\\"===n&&zl<Pl?yu({},Ll,Wl):(e+=n,t+=n);return e.search(/[^gimuy]/g)>=0&&yu({},Ul,e),{value:e,literal:t}}(),r=function(n,t){var e=n;t.indexOf("u")>=0&&(e=e.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(n,t){if(parseInt(t,16)<=1114111)return"x";yu({},Ul)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(e)}catch(n){yu({},Ul)}try{return new RegExp(n,t)}catch(n){return null}}(t.value,e.value),{literal:t.literal+e.literal,value:r,regex:{pattern:t.value,flags:e.value},start:n,end:zl}}()),hu()):bu(fu())}return e}function Su(){var n=[];if(xu("("),!_u(")"))for(;zl<Pl&&(n.push(Nu()),!_u(")"));)xu(",");return xu(")"),n}function Cu(){var n;return zl=$l.start,function(n){return 3===n.type||4===n.type||1===n.type||5===n.type}(n=fu())||bu(n),gu(n.value)}function Du(){var n;return xu("["),n=Bu(),xu("]"),n}function Mu(){var n=function(){var n;for(n=Eu();;)if(_u("."))xu("."),n=vu(".",n,Cu());else if(_u("("))n=pu(n,Su());else{if(!_u("["))break;n=vu("[",n,Du())}return n}();if(7===$l.type&&(_u("++")||_u("--")))throw new Error(Gl);return n}function Fu(){var n,t,e,r,i;if(7!==$l.type&&4!==$l.type)t=Mu();else{if(_u("++")||_u("--"))throw new Error(Gl);if(_u("+")||_u("-")||_u("~")||_u("!"))n=fu(),t=Fu(),e=n.value,r=t,(i=new Rl("UnaryExpression")).operator=e,i.argument=r,i.prefix=!0,t=i;else{if(ku("delete")||ku("void")||ku("typeof"))throw new Error(Gl);t=Mu()}}return t}function Tu(n){var t=0;if(7!==n.type&&4!==n.type)return 0;switch(n.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Nu(){var n,t;return n=function(){var n,t,e,r,i,l,u,a,o,s;if(n=$l,o=Fu(),0===(i=Tu(r=$l)))return o;for(r.prec=i,fu(),t=[n,$l],l=[o,r,u=Fu()];(i=Tu($l))>0;){for(;l.length>2&&i<=l[l.length-2].prec;)u=l.pop(),a=l.pop().value,o=l.pop(),t.pop(),e=du(a,o,u),l.push(e);(r=fu()).prec=i,l.push(r),t.push($l),e=Fu(),l.push(e)}for(e=l[s=l.length-1],t.pop();s>1;)t.pop(),e=du(l[s-1].value,l[s-2],e),s-=2;return e}(),_u("?")&&(fu(),t=Nu(),xu(":"),n=function(n,t,e){var r=new Rl("ConditionalExpression");return r.test=n,r.consequent=t,r.alternate=e,r}(n,t,Nu())),n}function Bu(){var n=Nu();if(_u(","))throw new Error(Gl);return n}function zu(n){const t=function(n){zl=0,Pl=(Bl=n).length,$l=null,hu();var t=Bu();if(2!==$l.type)throw new Error("Unexpect token after expression.");return t}(n),e=new Set;return t.visit(n=>{"MemberExpression"===n.type&&function n(t){return"MemberExpression"===t.object.type?n(t.object):"datum"===t.object.name}(n)&&e.add(function n(t){const e=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(e.push(...n(t.object)),e.push(...n(t.property))),e)}(n).slice(1).join("."))}),e}class Pu extends Fl{constructor(n,t){super(n),this.transform=t,this._dependentFields=zu(this.transform.calculate)}clone(){return new Pu(null,A(this.transform))}static parseAllForSortIndex(n,t){return t.forEachFieldDef((t,e)=>{if(ee(t)&&pl(t.sort)){const{field:r,timeUnit:i}=t,l=t.sort,u=l.map((n,t)=>`${Bi({field:r,timeUnit:i,equal:n})} ? ${t} : `).join("")+l.length;n=new Pu(n,{calculate:u,as:$u(t,e,{forAs:!0})})}}),n}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate "+D(this.transform)}}function $u(n,t,e){return ie(n,Object.assign({prefix:t,suffix:"sort_index"},e||{}))}function Ru(n,t){return F(["top","bottom"],t)?"column":F(["left","right"],t)||"row"===n?"row":"column"}function Iu(n,t,e,r){const i="row"===r?e.headerRow:"column"===r?e.headerColumn:e.headerFacet;return Q(t&&t.header?t.header[n]:void 0,i[n],e.header[n])}function Lu(n,t,e,r){const i={};for(const l of n){const n=Iu(l,t,e,r);void 0!==n&&(i[l]=n)}return i}const Uu=["row","column"],qu=["header","footer"];function Hu(n,t){const e=n.component.layoutHeaders[t].title,r=n.config?n.config:void 0,i=n.component.layoutHeaders[t].facetFieldDef?n.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:l,titleAngle:u,titleOrient:a}=Lu(["titleAnchor","titleAngle","titleOrient"],i,r,t),o=Ru(t,a);return{name:t+"-title",type:"group",role:o+"-title",title:Object.assign({text:e},"row"===t?{orient:"left"}:{},{style:"guide-title"},Gu(u,o),Wu(o,u,l),Qu(r,i,t,cl,ol))}}function Wu(n,t,e="middle"){switch(e){case"start":return{align:"left"};case"end":return{align:"right"}}const r=vl(t,"row"===n?"left":"top");return r?{align:r}:{}}function Gu(n,t){const e=ml(n,"row"===t?"left":"top");return e?{baseline:e}:{}}function Yu(n,t){const e=n.component.layoutHeaders[t],r=[];for(const i of qu)if(e[i])for(const l of e[i])r.push(Xu(n,t,i,e,l));return r}function Vu(n,t){const{sort:e}=n;return dl(e)?{field:ie(e,{expr:"datum"}),order:e.order||"ascending"}:l(e)?{field:$u(n,t,{expr:"datum"}),order:"ascending"}:{field:ie(n,{expr:"datum"}),order:e||"ascending"}}function Ju(n,t,e){const{format:r,labelAngle:i,labelAnchor:l,labelOrient:u}=Lu(["format","labelAngle","labelAnchor","labelOrient"],n,e,t),a=Ru(t,u);return Object.assign({text:_l(n,r,"parent",e)},"row"===t?{orient:"left"}:{},{style:"guide-label",frame:"group"},Gu(i,a),Wu(a,i,l),Qu(e,n,t,fl,sl))}function Xu(n,t,e,r,i){if(i){let l=null;const{facetFieldDef:u}=r,a=n.config?n.config:void 0;if(u&&i.labels){const{labelOrient:n}=Lu(["labelOrient"],u,a,t);("row"===t&&!F(["top","bottom"],n)||"column"===t&&!F(["left","right"],n))&&(l=Ju(u,t,a))}const o=rc(n)&&!Mt(n.facet),s=i.axes,c=s&&s.length>0;if(l||c){const a="row"===t?"height":"width";return Object.assign({name:n.getName(`${t}_${e}`),type:"group",role:`${t}-${e}`},r.facetFieldDef?{from:{data:n.getName(t+"_domain")},sort:Vu(u,t)}:{},c&&o?{from:{data:n.getName("facet_domain_"+t)}}:{},l?{title:l}:{},i.sizeSignal?{encode:{update:{[a]:i.sizeSignal}}}:{},c?{axes:s}:{})}}return null}const Ku={column:{start:0,end:1},row:{start:1,end:0}};function Zu(n,t){return Ku[t][n]}function Qu(n,t,e,r,i){const l={};for(const u of r){if(!i[u])continue;const r=Iu(u,t,n,e);void 0!==r&&(l[i[u]]=r)}return l}function na(n){return[...ta(n,"width"),...ta(n,"height")]}function ta(n,t){const e="width"===t?"x":"y",r=n.component.layoutSize.get(t);if(!r||"merged"===r)return[];const i=n.getSizeSignalRef(t).signal;if("range-step"===r){const t=n.getScaleComponent(e);if(t){const r=t.get("type"),l=t.get("range");if(kr(r)&&Ki(l)){const r=n.scaleName(e);return rc(n.parent)&&"independent"===n.parent.component.resolve.scale[e]?[ea(r,l)]:[ea(r,l),{name:i,update:ra(r,t,`domain('${r}').length`)}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:i,value:r}]}function ea(n,t){return{name:n+"_step",value:t.step}}function ra(n,t,e){const r=t.get("type"),i=t.get("padding"),l=Q(t.get("paddingOuter"),i);let u=t.get("paddingInner");return`bandspace(${e}, ${u="band"===r?void 0!==u?u:i:1}, ${l}) * ${n}_step`}function ia(n,t,e){return la=t||aa,ua=e||sa,fa(n.trim()).map(ha)}var la,ua,aa="view",oa=/[[\]{}]/,sa={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function ca(n,t,e,r,i){for(var l,u=0,a=n.length;t<a;++t){if(l=n[t],!u&&l===e)return t;i&&i.indexOf(l)>=0?--u:r&&r.indexOf(l)>=0&&++u}return t}function fa(n){for(var t=[],e=0,r=n.length,i=0;i<r;)i=ca(n,i,",","[{","]}"),t.push(n.substring(e,i).trim()),e=++i;if(0===t.length)throw"Empty event selector: "+n;return t}function ha(n){return"["===n[0]?function(n){var t,e,r=n.length,i=1;if((i=ca(n,i,"]","[","]"))===r)throw"Empty between selector: "+n;if(2!==(t=fa(n.substring(1,i))).length)throw"Between selector must have two elements: "+n;if(">"!==(n=n.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+n;return t=t.map(ha),(e=ha(n.slice(1).trim())).between?{between:t,stream:e}:(e.between=t,e)}(n):function(n){var t,e,r={source:la},i=[],l=[0,0],u=0,a=0,o=n.length,s=0;if("}"===n[o-1]){if(!((s=n.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+n;try{l=function(n){var t=n.split(",");if(!n.length||t.length>2)throw n;return t.map((function(t){var e=+t;if(e!=e)throw n;return e}))}(n.substring(s+1,o-1))}catch(t){throw"Invalid throttle specification: "+n}o=(n=n.slice(0,s).trim()).length,s=0}if(!o)throw n;if("@"===n[0]&&(u=++s),(t=ca(n,s,":"))<o&&(i.push(n.substring(a,t).trim()),a=s=++t),(s=ca(n,s,"["))===o)i.push(n.substring(a,o).trim());else if(i.push(n.substring(a,s).trim()),e=[],(a=++s)===o)throw"Unmatched left bracket: "+n;for(;s<o;){if((s=ca(n,s,"]"))===o)throw"Unmatched left bracket: "+n;if(e.push(n.substring(a,s).trim()),s<o-1&&"["!==n[++s])throw"Expected left bracket: "+n;a=++s}if(!(o=i.length)||oa.test(i[o-1]))throw"Invalid event selector: "+n;return o>1?(r.type=i[1],u?r.markname=i[0].slice(1):function(n){return ua.hasOwnProperty(n)}(i[0])?r.marktype=i[0]:r.source=i[0]):r.type=i[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=e&&(r.filter=e),l[0]&&(r.throttle=l[0]),l[1]&&(r.debounce=l[1]),r}(n)}class da extends Fl{constructor(n,t){super(n),this.formula=t}clone(){return new da(null,A(this.formula))}static makeFromEncoding(n,t){const e=t.reduceFieldDef((n,t)=>{const{timeUnit:e,field:r}=t;if(e){const i={as:ie(t,{forAs:!0}),timeUnit:e,field:r};n[D(i)]=i}return n},{});return 0===U(e).length?null:new da(n,e)}static makeFromTransform(n,t){const e=Object.assign({},t);return new da(n,{[D(e)]:e})}merge(n){this.formula=Object.assign({},this.formula,n.formula);for(const t of n.children)n.removeChild(t),t.parent=this;n.remove()}producedFields(){return new Set(q(this.formula).map(n=>n.as))}dependentFields(){return new Set(q(this.formula).map(n=>n.field))}hash(){return"TimeUnit "+D(this.formula)}assemble(){return q(this.formula).map(n=>({type:"formula",as:n.as,expr:It(n.timeUnit,n.field)}))}}const pa={has:n=>"interval"===n.type&&"global"===n.resolve&&n.bind&&"scales"===n.bind,parse:(n,t,e)=>{const r=W(e.name),i=e.scales=[];for(const t of e.project.items){const e=t.channel;if(!mt(e))continue;const l=n.getScaleComponent(e),u=l?l.get("type"):void 0;l&&jr(u)?(l.set("domainRaw",{signal:J(t.field,r)},!0),i.push(t),n.repeater&&n.repeater.row===n.repeater.column&&n.getScaleComponent(e===Dn?Mn:Dn).set("domainRaw",{signal:J(t.field,r)},!0)):jt(bt.SCALE_BINDINGS_CONTINUOUS)}},topLevelSignals:(n,t,e)=>{const r=t.scales.filter(n=>!e.filter(t=>t.name===n.signals.data).length);if(!n.parent||!r.length)return e;const i=e.filter(n=>n.name===t.name)[0],l=i.update;if(l.indexOf(Ea)>=0)i.update=`{${r.map(n=>`${o(n.field)}: ${n.signals.data}`).join(", ")}}`;else for(const n of r){const t=`, ${o(n.field)}: ${n.signals.data}`;l.indexOf(t)<0&&(i.update=l.substring(0,l.length-1)+t+"}")}return e.concat(r.map(n=>({name:n.signals.data})))},signals:(n,t,e)=>{if(n.parent)for(const n of t.scales){const t=e.filter(t=>t.name===n.signals.data)[0];t.push="outer",delete t.value,delete t.update}return e}};function ga(n,t){return`domain(${o(n.scaleName(t))})`}const ma="_tuple_fields";class va{constructor(...n){this.items=n,this.has={}}}const wa="_scale_trigger",ya={signals:(n,t)=>{const e=t.name,r=e+ma,i=pa.has(t),l=[],u=[],a=[];if(t.translate&&!i){const n="!event.item || event.item.mark.name !== "+o(e+"_brush");ba(t,(t,e)=>{const r=e.between[0].filter||(e.between[0].filter=[]);r.indexOf(n)<0&&r.push(n)})}t.project.items.forEach((e,r)=>{const i=e.channel;if(i!==Dn&&i!==Mn)return void jt("Interval selections only support x and y encoding channels.");const s=t.init?t.init[r]:null,c=function(n,t,e,r){const i=e.channel,l=e.signals.visual,u=e.signals.data,a=pa.has(t),s=o(n.scaleName(i)),c=n.getScaleComponent(i),f=c?c.get("type"):void 0,h=n=>`scale(${s}, ${n})`,d=n.getSizeSignalRef(i===Dn?"width":"height").signal,p=i+"(unit)",g=ba(t,(n,t)=>[...n,{events:t.between[0],update:`[${p}, ${p}]`},{events:t,update:`[${l}[0], clamp(${p}, 0, ${d})]`}]);return g.push({events:{signal:t.name+wa},update:jr(f)?`[${h(u+"[0]")}, ${h(u+"[1]")}]`:"[0, 0]"}),a?[{name:u,on:[]}]:[Object.assign({name:l},r?{init:Ga(r,h)}:{value:[]},{on:g}),Object.assign({name:u},r?{init:Ga(r)}:{},{on:[{events:{signal:l},update:`${l}[0] === ${l}[1] ? null : invert(${s}, ${l})`}]})]}(n,t,e,s),f=e.signals.data,h=e.signals.visual,d=o(n.scaleName(i)),p=jr(n.getScaleComponent(i).get("type"))?"+":"";l.push(...c),u.push(f),a.push({scaleName:n.scaleName(i),expr:`(!isArray(${f}) || (${p}invert(${d}, ${h})[0] === ${p}${f}[0] && ${p}invert(${d}, ${h})[1] === ${p}${f}[1]))`})}),i||l.push({name:e+wa,value:{},on:[{events:a.map(n=>({scale:n.scaleName})),update:a.map(n=>n.expr).join(" && ")+` ? ${e+wa} : {}`}]});const s=t.init,c=`unit: ${Da(n)}, fields: ${r}, values`;return l.concat(Object.assign({name:e+Oa},s?{init:`{${c}: ${Ga(s)}}`}:{},{on:[{events:[{signal:u.join(" || ")}],update:u.join(" && ")+` ? {${c}: [${u}]} : null`}]}))},modifyExpr:(n,t)=>t.name+Oa+", "+("global"===t.resolve?"true":`{unit: ${Da(n)}}`),marks:(n,t,e)=>{const r=t.name,{x:i,y:l}=t.project.has,u=i&&i.signals.visual,a=l&&l.signals.visual,s=`data(${o(t.name+ja)})`;if(pa.has(t))return e;const c={x:void 0!==i?{signal:u+"[0]"}:{value:0},y:void 0!==l?{signal:a+"[0]"}:{value:0},x2:void 0!==i?{signal:u+"[1]"}:{field:{group:"width"}},y2:void 0!==l?{signal:a+"[1]"}:{field:{group:"height"}}};if("global"===t.resolve)for(const t of U(c))c[t]=[Object.assign({test:`${s}.length && ${s}[0].unit === ${Da(n)}`},c[t]),{value:0}];const f=t.mark,{fill:h,fillOpacity:d}=f,p=wn(f,["fill","fillOpacity"]),g=U(p).reduce((n,t)=>(n[t]=[{test:[void 0!==i&&`${u}[0] !== ${u}[1]`,void 0!==l&&`${a}[0] !== ${a}[1]`].filter(n=>n).join(" && "),value:p[t]},{value:null}],n),{});return[{name:r+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:h},fillOpacity:{value:d}},update:c}},...e,{name:r+"_brush",type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:Object.assign({},c,g)}}]}};function ba(n,t){return n.events.reduce((n,e)=>e.between?t(n,e):(jt(e+" is not an ordered event stream for interval selections"),n),[])}function xa(n,t){const e=t.name,r=e+ma,i=t.project,l="(item().isVoronoi ? datum.datum : datum)",u=i.items.map(t=>{const e=n.fieldDef(t.channel);return e&&e.bin?`[${J(n.vgField(t.channel,{}),l)}, `+J(n.vgField(t.channel,{binSuffix:"end"}),l)+"]":""+J(t.field,l)}).join(", "),a=`unit: ${Da(n)}, fields: ${r}, values`;return[{name:e+Oa,on:[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? {${a}: [${u}]} : null`,force:!0}]}]}const _a={signals:xa,modifyExpr:(n,t)=>t.name+Oa+", "+("global"===t.resolve?"null":`{unit: ${Da(n)}}`)},ka={signals:xa,modifyExpr:(n,t)=>t.name+Oa+", "+("global"===t.resolve?"true":`{unit: ${Da(n)}}`)},ja="_store",Oa="_tuple",Aa="_selection_domain_",Ea="vlSelectionResolve",Sa={single:ka,multi:_a,interval:ya};function Ca(n,t){const e=n.component.selection;for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];t(r,Sa[r.type])}}function Da(n){let t=o(n.name);const e=function(n){let t=n.parent;for(;t&&!rc(t);)t=t.parent;return t}(n);if(e){const{facet:n}=e;for(const r of Qn)n[r]&&(t+=` + '__facet_${r}_' + (${J(e.vgField(r),"facet")})`)}return t}function Ma(n){let t=!1;return Ca(n,n=>{t=t||n.project.items.some(n=>n.field===zr)}),t}const Fa={has:n=>"interval"!==n.type&&n.nearest,marks:(n,t,e)=>{const{x:r,y:i}=t.project.has,l=n.mark;if(fn(l))return jt(bt.nearestNotSupportForContinuous(l)),e;const u={name:n.getName("voronoi"),type:"path",from:{data:n.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},xo(n,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!r&&!i?"datum.datum.x || 0":"0"},y:{expr:i||!r&&!i?"datum.datum.y || 0":"0"},size:[n.getSizeSignalRef("width"),n.getSizeSignalRef("height")]}]};let a=0,o=!1;return e.forEach((t,e)=>{const r=t.name||"";r===n.component.mark[0].name?a=e:r.indexOf("voronoi")>=0&&(o=!0)}),o||e.splice(a+1,0,u),e}},Ta={has:n=>"single"===n.type&&"global"===n.resolve&&n.bind&&"scales"!==n.bind,topLevelSignals:(n,t,e)=>{const r=t.name,i=t.project,l=t.bind,u=t.init&&t.init[0],a=Fa.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((n,i)=>{const o=W(`${r}_${n.field}`);e.filter(n=>n.name===o).length||e.unshift(Object.assign({name:o},u?{init:Ga(u[i])}:{value:null},{on:[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${J(n.field,a)} : null`}],bind:l[n.field]||l[n.channel]||l}))}),e},signals:(n,t,e)=>{const r=t.name,i=t.project,l=e.filter(n=>n.name===r+Oa)[0],u=r+ma,a=i.items.map(n=>W(`${r}_${n.field}`)),o=a.map(n=>n+" !== null").join(" && ");return a.length&&(l.update=`${o} ? {fields: ${u}, values: [${a.join(", ")}]} : null`),delete l.value,delete l.on,e}},Na={has:n=>"multi"===n.type&&n.toggle,signals:(n,t,e)=>e.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(n,t)=>{const e=t.name+Oa,r=t.name+"_toggle";return`${r} ? null : ${e}, `+("global"===t.resolve?r+" ? null : true, ":`${r} ? null : {unit: ${Da(n)}}, `)+`${r} ? ${e} : null`}},Ba={has:n=>!1!==n.clear,parse:(n,t,e)=>{t.clear&&(e.clear=ia(t.clear,"scope"))},topLevelSignals:(n,t,e)=>(Ta.has(t)&&t.project.items.forEach(n=>{const r=e.findIndex(e=>e.name===W(`${t.name}_${n.field}`));-1!==r&&e[r].on.push({events:t.clear,update:"null"})}),e),signals:(n,t,e)=>{function r(n,r){-1!==n&&e[n].on&&e[n].on.push({events:t.clear,update:r})}if("interval"===t.type)t.project.items.forEach(n=>{const t=e.findIndex(t=>t.name===n.signals.visual);r(t,"[0, 0]"),-1===t&&r(e.findIndex(t=>t.name===n.signals.data),"null")});else{let n=e.findIndex(n=>n.name===t.name+Oa);r(n,"null"),Na.has(t)&&r(n=e.findIndex(n=>n.name===t.name+"_toggle"),"false")}return e}},za="_translate_anchor",Pa="_translate_delta",$a={has:n=>"interval"===n.type&&n.translate,signals:(n,t,e)=>{const r=t.name,i=pa.has(t),l=r+za,{x:u,y:a}=t.project.has;let o=ia(t.translate,"scope");return i||(o=o.map(n=>(n.between[0].markname=r+"_brush",n))),e.push({name:l,value:{},on:[{events:o.map(n=>n.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: "+(i?ga(n,Dn):`slice(${u.signals.visual})`):"")+(void 0!==a?", extent_y: "+(i?ga(n,Mn):`slice(${a.signals.visual})`):"")+"}"}]},{name:r+Pa,value:{},on:[{events:o,update:`{x: ${l}.x - x(unit), y: ${l}.y - y(unit)}`}]}),void 0!==u&&Ra(n,t,u,"width",e),void 0!==a&&Ra(n,t,a,"height",e),e}};function Ra(n,t,e,r,i){const l=t.name,u=l+za,a=l+Pa,o=e.channel,s=pa.has(t),c=i.filter(n=>n.name===e.signals[s?"data":"visual"])[0],f=n.getSizeSignalRef(r).signal,h=n.getScaleComponent(o),d=h.get("type"),p=`${u}.extent_${o}`,g=`${s?"log"===d?"panLog":"pow"===d?"panPow":"panLinear":"panLinear"}(${p}, ${`${s&&o===Dn?"-":""}${a}.${o} / `+(s?""+f:`span(${p})`)}`+(s&&"pow"===d?", "+(h.get("exponent")||1):"")+")";c.on.push({events:{signal:a},update:s?g:`clampRange(${g}, 0, ${f})`})}const Ia="_zoom_anchor",La="_zoom_delta",Ua={has:n=>"interval"===n.type&&n.zoom,signals:(n,t,e)=>{const r=t.name,i=pa.has(t),l=r+La,{x:u,y:a}=t.project.has,s=o(n.scaleName(Dn)),c=o(n.scaleName(Mn));let f=ia(t.zoom,"scope");return i||(f=f.map(n=>(n.markname=r+"_brush",n))),e.push({name:r+Ia,on:[{events:f,update:i?"{"+[s?`x: invert(${s}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(n=>!!n).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:l,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&qa(n,t,u,"width",e),void 0!==a&&qa(n,t,a,"height",e),e}};function qa(n,t,e,r,i){const l=t.name,u=e.channel,a=pa.has(t),o=i.filter(n=>n.name===e.signals[a?"data":"visual"])[0],s=n.getSizeSignalRef(r).signal,c=n.getScaleComponent(u),f=c.get("type"),h=a?ga(n,u):o.name,d=l+La,p=`${a?"log"===f?"zoomLog":"pow"===f?"zoomPow":"zoomLinear":"zoomLinear"}(${h}, ${l}${Ia}.${u}, ${d}`+(a&&"pow"===f?", "+(c.get("exponent")||1):"")+")";o.on.push({events:{signal:d},update:a?p:`clampRange(${p}, 0, ${s})`})}const Ha=[{has:()=>!0,parse:(n,t,e)=>{const r=e.name,i=e.project||(e.project=new va),u={},a={},o=new Set,s=(n,t)=>{const e="visual"===t?n.channel:n.field;let i=W(`${r}_${e}`);for(let n=1;o.has(i);n++)i=W(`${r}_${e}_${n}`);return o.add(i),{[t]:i}};if(!t.fields&&!t.encodings){const e=n.config.selection[t.type];if(t.init)for(const n of h(t.init))for(const r of U(n))rt(r)?(t.encodings||(t.encodings=[])).push(r):Pr(t)?(jt('Interval selections should be initialized using "x" and/or "y" keys.'),t.encodings=e.encodings):(t.fields||(t.fields=[])).push(r);else t.encodings=e.encodings,t.fields=e.fields}for(const n of t.fields||[]){const t={type:"E",field:n};t.signals=Object.assign({},s(t,"data")),i.items.push(t)}for(const r of t.encodings||[]){const t=n.fieldDef(r);if(t){let l=t.field;if(t.timeUnit){const e={as:l=n.vgField(r),field:t.field,timeUnit:t.timeUnit};a[D(e)]=e}if(!u[l]){let a="E";"interval"===e.type?jr(n.getScaleComponent(r).get("type"))&&(a="R"):t.bin&&(a="R-RE");const o={field:l,channel:r,type:a};o.signals=Object.assign({},s(o,"data"),s(o,"visual")),i.items.push(u[l]=o),i.has[r]=u[l]}}else jt(bt.cannotProjectOnChannelWithoutField(r))}if(t.init)if(pa.has(e))jt(bt.NO_INIT_SCALE_BINDINGS);else{const n=n=>i.items.map(t=>void 0!==n[t.channel]?n[t.channel]:n[t.field]);if(Pr(t))e.init=n(t.init);else{const r=l(t.init)?t.init:[t.init];e.init=r.map(n)}}U(a).length&&(i.timeUnit=new da(null,a))},signals:(n,t,e)=>{const r=t.name+ma;return e.filter(n=>n.name===r).length?e:e.concat({name:r,value:t.project.items.map(n=>wn(n,["signals"]))})}},Na,pa,$a,Ua,Ta,Fa,Ba];function Wa(n,t){for(const e of Ha)e.has(n)&&t(e)}function Ga(n,t=c){return l(n)?`[${n.map(n=>Ga(n,t)).join(", ")}]`:Ot(n)?t(Dt(n)):t(JSON.stringify(n))}function Ya(n,t){return Ca(n,(e,r)=>{t=r.marks?r.marks(n,e,t):t,Wa(e,r=>{r.marks&&(t=r.marks(n,e,t))})}),t}function Va(n,t,e){const r=[],i=G(t,(function(t){const i=W(t),l=n.getSelectionComponent(i,t),u=o(i+ja);if(l.project.timeUnit){const t=e||n.component.data.raw,r=l.project.timeUnit.clone();t.parent?r.insertAsParentOf(t):t.parent=r}return"none"!==l.empty&&r.push(u),`vlSelectionTest(${u}, datum`+("global"===l.resolve?")":`, ${o(l.resolve)})`)}));return(r.length?"!("+r.map(n=>`length(data(${n}))`).join(" || ")+") || ":"")+`(${i})`}function Ja(n,t,e){return G(t,t=>a(t)?t:function(n){return n&&n.selection}(t)?Va(n,t.selection,e):Bi(t))}function Xa(n){const{channel:t,channelDef:e,mark:r,scale:i}=n,l=lo(n);return Zt(e)&&!jn(e.aggregate)&&i&&Or(i.get("type"))&&!1===i.get("zero")?Ka({fieldDef:e,channel:t,mark:r,ref:l}):l}function Ka({fieldDef:n,channel:t,mark:e,ref:r}){return fn(e)?r:[Za(n,t),r]}function Za(n,t){const e=Qa(n,!0),r="x"===at(t)?{value:0}:{field:{group:"height"}};return Object.assign({test:e},r)}function Qa(n,t=!0){return`${n=a(n)?n:ie(n,{expr:"datum"})} ${t?"===":"!=="} null ${t?"||":"&&"} ${t?"":"!"}isNaN(${n})`}function no(n,t){const e=t[n+"Offset"];if(e)return e}function to({channel:n,fieldDef:t,scaleName:e,mark:r,side:i,offset:l}){return Ka({fieldDef:t,channel:n,mark:r,ref:eo(t,e,{binSuffix:"start"===i?void 0:"end"},l?{offset:l}:{})})}function eo(n,t,e,r){const i=Object.assign({},t?{scale:t}:{},{field:ie(n,e)});if(r){const{offset:n,band:t}=r;return Object.assign({},i,n?{offset:n}:{},t?{band:t}:{})}return i}function ro(n,t=!0){return{scale:n,band:t}}function io({scaleName:n,fieldDef:t,fieldDef2:e,offset:r,band:i}){i=Q(i,.5);const l=ie(t,{expr:"datum"}),u=void 0!==e?ie(e,{expr:"datum"}):ie(t,{binSuffix:"end",expr:"datum"});return Object.assign({signal:`scale("${n}", ${i} * ${l} + ${1-i} * ${u})`},r?{offset:r}:{})}function lo({channel:n,channelDef:t,channel2Def:e,scaleName:r,scale:i,stack:l,offset:u,defaultRef:a}){if(t){if(Zt(t)){if(Qt(t)){if(je(t.bin))return F([Dn,Mn],n)&&t.type===Ht?l&&l.impute?eo(t,r,{binSuffix:"mid"},{offset:u}):io({scaleName:r,fieldDef:t,offset:u}):eo(t,r,_e(t,n)?{binSuffix:"range"}:{},{offset:u});if(Oe(t.bin)){if(Zt(e))return io({scaleName:r,fieldDef:t,fieldDef2:e,offset:u});{const t=n===Dn?Fn:Tn;jt(bt.channelRequiredForBinned(t))}}}if(i){const n=i.get("type");if(kr(n))return eo(t,r,{binSuffix:"range"},"band"===n?{band:.5,offset:u}:{offset:u})}return eo(t,r,{},{offset:u})}if(te(t)){const e=t.value,r=u?{offset:u}:{};return Object.assign({},uo(n,e),r)}}return function(n){return"function"==typeof n}(a)?a():a}function uo(n,t){return F(["x","x2"],n)&&"width"===t?{field:{group:"width"}}:F(["y","y2"],n)&&"height"===t?{field:{group:"height"}}:{value:t}}function ao(n,t,{reactiveGeom:e}={}){const r=[],i={},l={},u=e?"datum.datum":"datum",a=[];function s(e,r){const i=at(r),o=Qt(e)?e:Object.assign({},e,{type:n[i].type}),s=se(o,t,{allowDisabling:!1});let c=oo(o,t,u).signal;if("x"===r||"y"===r){const e="x"===r?"x2":"y2",i=de(n[e]);Oe(o.bin)&&i&&(c=Al(ie(o,{expr:u}),ie(i,{expr:u}),he(o),t),l[e]=!0)}a.push({channel:r,key:s,value:c})}Te(n,(n,t)=>{Zt(n)?s(n,t):Kt(n)&&s(n.condition,t)});for(const{channel:n,key:t,value:e}of a)l[n]||i[t]||(r.push(`${o(t)}: ${e}`),i[t]=!0);return r.length?{signal:`{${r.join(", ")}}`}:void 0}function oo(n,t,e="datum"){if(n){if(te(n))return{value:n.value};if(Qt(n))return _l(n,he(n),e,t)}}function so(n){return Object.assign({},n,{mult:.5})}function co({markDef:n,config:t,defaultRef:e,channel:r,scaleName:i,scale:l,mark:u,checkBarAreaWithoutZero:o}){return()=>{const s=at(r),c=Q(n[r],bl(r,n,t));if(void 0!==c)return uo(r,c);if(a(e)){if(i){const n=l.get("type");if(F([hr.LOG,hr.TIME,hr.UTC],n))!o||"bar"!==u&&"area"!==u||jt(bt.nonZeroScaleUsedWithLengthMark(u,s,{scaleType:n}));else{if(l.domainDefinitelyIncludesZero())return{scale:i,value:0};!o||"bar"!==u&&"area"!==u||jt(bt.nonZeroScaleUsedWithLengthMark(u,s,{zeroFalse:!1===l.explicit.zero}))}}return"zeroOrMin"===e?"x"===s?{value:0}:{field:{group:"height"}}:"x"===s?{field:{group:"width"}}:{value:0}}return e}}function fo(n){return"transparent"!==n&&null!=n}function ho(n){const{markDef:t,encoding:e,config:r}=n,{filled:i,type:l}=t,u={fill:bl("fill",t,r),stroke:bl("stroke",t,r),color:bl("color",t,r)},a=F(["bar","point","circle","square","geoshape"],l)?"transparent":void 0,o=Q(t.fill,u.fill,a),s=Q(t.stroke,u.stroke),c=i?"fill":"stroke",f=Object.assign({},o?{fill:{value:o}}:{},s?{stroke:{value:s}}:{});return e.fill||e.stroke?(t.color&&jt(bt.droppingColor("property",{fill:"fill"in e,stroke:"stroke"in e})),Object.assign({},yo("fill",n,{defaultValue:Q(o,a)}),yo("stroke",n,{defaultValue:s}))):e.color?Object.assign({},f,yo("color",n,{vgChannel:c,defaultValue:Q(t[c],t.color,u[c],u.color,i?a:void 0)})):fo(t.fill)||fo(t.stroke)?(t.color&&jt(bt.droppingColor("property",{fill:"fill"in t,stroke:"stroke"in t})),f):t.color?Object.assign({},f,{[c]:{value:t.color}}):fo(u.fill)||fo(u.stroke)?f:u.color?Object.assign({},a?{fill:{value:"transparent"}}:{},{[c]:{value:u.color}}):{}}function po(n,t){const{fill:e,stroke:r}=ho(n);return Object.assign({},function(n,t){return Qi.reduce((e,r)=>(void 0!==n[r]&&"ignore"!==t[r]&&(e[r]={value:n[r]}),e),{})}(n.markDef,t),go(n,"fill",e),go(n,"stroke",r),yo("opacity",n),yo("fillOpacity",n),yo("strokeOpacity",n),yo("strokeWidth",n),xo(n),_o(n,"href"))}function go(n,t,e){const{config:r,mark:i}=n;if("hide"===r.invalidValues&&e&&!fn(i)){const r=vo(n,{invalid:!0,channels:gt});if(r)return{[t]:[{test:r,value:null},...h(e)]}}return e?{[t]:e}:{}}function mo(n,t){if(void 0!==t)return{[n]:{value:t}}}function vo(n,{invalid:t=!1,channels:e}){const r=e.reduce((t,e)=>{const r=n.getScaleComponent(e);if(r){const i=r.get("type"),l=n.vgField(e,{expr:"datum"});l&&jr(i)&&(t[l]=!0)}return t},{}),i=U(r);if(i.length>0){const n=t?"||":"&&";return i.map(n=>Qa(n,t)).join(` ${n} `)}}function wo(n){if(n.config.invalidValues){const t=vo(n,{channels:["x","y"]});if(t)return{defined:{signal:t}}}return{}}function yo(n,t,e={}){const{markDef:r,encoding:i,config:l}=t,{vgChannel:u=n}=e;let{defaultRef:a,defaultValue:o}=e;void 0===a&&(o=o||(u===n?r[n]:Q(r[n],r[u],bl(n,r,l,{vgChannel:u}))),a=o?{value:o}:void 0);const s=i[n];return bo(t,s,u,e=>lo({channel:n,channelDef:e,scaleName:t.scaleName(n),scale:t.getScaleComponent(n),stack:null,defaultRef:a}))}function bo(n,t,e,r){const i=t&&t.condition,u=r(t);return i?{[e]:[...(l(i)?i:[i]).map(t=>{const e=r(t),i=function(n){return n.selection}(t)?Va(n,t.selection):Ja(n,t.test);return Object.assign({test:i},e)}),...void 0!==u?[u]:[]]}:void 0!==u?{[e]:u}:{}}function xo(n,t={}){const{encoding:e,markDef:r,config:i}=n,o=e.tooltip;return l(o)?{tooltip:ao({tooltip:o},i,t)}:bo(n,o,"tooltip",l=>{const o=oo(l,n.config,t.reactiveGeom?"datum.datum":"datum");if(o)return o;if(null===l)return;const s=Q(r.tooltip,bl("tooltip",r,i));return a(s)?{value:s}:u(s)?"encoding"===s.content?ao(e,i,t):{signal:"datum"}:void 0})}function _o(n,t="text"){const e=n.encoding[t];return bo(n,e,t,t=>oo(t,n.config))}function ko(n,t,e,r){const{encoding:i,mark:l,markDef:u,config:a,stack:o}=t,s=i[n],c=i[n===Dn?Fn:Tn],f=t.scaleName(n),h=t.getScaleComponent(n),d=no(n,t.markDef);return{[r||n]:s||!i.latitude&&!i.longitude?function(n){const{channel:t,channelDef:e,scaleName:r,stack:i,offset:l}=n;return Zt(e)&&i&&t===i.fieldChannel?eo(e,r,{suffix:"end"},{offset:l}):Xa(n)}({channel:n,channelDef:s,channel2Def:c,scaleName:f,scale:h,stack:o,mark:l,offset:d,defaultRef:co({markDef:u,config:a,defaultRef:e,channel:n,scaleName:f,scale:h,mark:l,checkBarAreaWithoutZero:!c})}):{field:t.getName(n)}}}function jo(n,t,e){const{encoding:r,mark:i,markDef:l,stack:u,config:a}=n,o="x2"===e?"x":"y",s="x2"===e?"width":"height",c=r[o],f=n.scaleName(o),h=n.getScaleComponent(o),d=no(e,n.markDef);if(!c&&(r.latitude||r.longitude))return{[e]:{field:n.getName(e)}};const p=function({channel:n,channelDef:t,channel2Def:e,scaleName:r,scale:i,stack:l,mark:u,offset:a,defaultRef:o}){return Zt(t)&&l&&n.charAt(0)===l.fieldChannel.charAt(0)?eo(t,r,{suffix:"start"},{offset:a}):Xa({channel:n,channelDef:e,scaleName:r,scale:i,stack:l,mark:u,offset:a,defaultRef:o})}({channel:e,channelDef:c,channel2Def:r[e],scaleName:f,scale:h,stack:u,mark:i,offset:d,defaultRef:void 0});return void 0!==p?{[e]:p}:Q(Oo(e,l),Oo(e,{[e]:xl(e,l,a.style),[s]:xl(s,l,a.style)}),Oo(e,a[i]),Oo(e,a.mark),{[e]:co({markDef:l,config:a,defaultRef:t,channel:e,scaleName:f,scale:h,mark:i,checkBarAreaWithoutZero:!r[e]})()})}function Oo(n,t){const e="x2"===n?"width":"height";return t[n]?{[n]:uo(n,t[n])}:t[e]?{[e]:{value:t[e]}}:void 0}function Ao(n,t){return U(n).reduce((e,r)=>{const i=n[r];return Object.assign({},e,bo(t,i,r,n=>({value:n.value})))},{})}function Eo(n,t){if(uc(t)||rc(t))return"shared";if(lc(t)||ic(t))return F(ft,n)?"independent":"shared";throw new Error("invalid model type for resolve")}function So(n,t){const e=n.scale[t],r=F(ft,t)?"axis":"legend";return"independent"===e?("shared"===n[r][t]&&jt(bt.independentScaleMeansIndependentGuide(t)),"independent"):n[r][t]||"shared"}class Co{constructor(n={},t={}){this.explicit=n,this.implicit=t}clone(){return new Co(A(this.explicit),A(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(n){return Q(this.explicit[n],this.implicit[n])}getWithExplicit(n){return void 0!==this.explicit[n]?{explicit:!0,value:this.explicit[n]}:void 0!==this.implicit[n]?{explicit:!1,value:this.implicit[n]}:{explicit:!1,value:void 0}}setWithExplicit(n,t){void 0!==t.value&&this.set(n,t.value,t.explicit)}set(n,t,e){return delete this[e?"implicit":"explicit"][n],this[e?"explicit":"implicit"][n]=t,this}copyKeyFromSplit(n,t){void 0!==t.explicit[n]?this.set(n,t.explicit[n],!0):void 0!==t.implicit[n]&&this.set(n,t.implicit[n],!1)}copyKeyFromObject(n,t){void 0!==t[n]&&this.set(n,t[n],!0)}copyAll(n){for(const t of U(n.combine())){const e=n.getWithExplicit(t);this.setWithExplicit(t,e)}}}function Do(n){return{explicit:!0,value:n}}function Mo(n){return{explicit:!1,value:n}}function Fo(n){return(t,e,r,i)=>{const l=n(t.value,e.value);return l>0?t:l<0?e:To(t,e,r,i)}}function To(n,t,e,r){return n.explicit&&t.explicit&&jt(bt.mergeConflictingProperty(e,r,n.value,t.value)),n}function No(n,t,e,r,i=To){return void 0===n||void 0===n.value?t:n.explicit&&!t.explicit?n:t.explicit&&!n.explicit?t:C(n.value)===C(t.value)?n:i(n,t,e,r)}class Bo extends Co{}function zo(n){const{legend:t}=n;return Q(t.type,Po(n))}function Po({channel:n,timeUnit:t,scaleType:e,alwaysReturn:r}){if(Kn(n)){if(F(["quarter","month","day"],t))return"symbol";if(Or(e))return r?"gradient":void 0}return r?"symbol":void 0}function $o({legend:n,legendConfig:t,timeUnit:e,channel:r,scaleType:i}){const l=Q(n.orient,t.orient,"right"),u=zo({legend:n,channel:r,timeUnit:e,scaleType:i,alwaysReturn:!0});return Q(n.direction,t[u?"gradientDirection":"symbolDirection"],function(n,t){switch(n){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(l,u))}function Ro(n,t,e,r){return{signal:`clamp(${n.getSizeSignalRef(t).signal}, ${e}, ${r})`}}function Io(n,t,e){const r=t.getScaleComponent(e).get("type");return Q(n.get("type"),Po({channel:e,scaleType:r,alwaysReturn:!0}))}function Lo(n){return qo(n,(n,t)=>Math.max(n,t.value))}function Uo(n){return qo(n,(n,t)=>Q(n,t.value))}function qo(n,t){return function(n){return!!n&&!!n.condition&&(l(n.condition)||te(n.condition))}(n)?(l(n.condition)?n.condition:[n.condition]).reduce(t,n.value):te(n)?n.value:void 0}var Ho=Object.freeze({symbols:function(n,t,e,r,i){if("symbol"!==Io(i,e,r))return;let u=Object.assign({},function(n,t,e){for(const r of e){const e=bl(r,t.markDef,t.config);void 0!==e&&(n[r]={value:e})}return n}({},e,pn),ho(e));const{markDef:a,encoding:o,config:s}=e,c=a.filled,f=Lo(o.opacity)||a.opacity;if(u.fill)if("fill"===r||c&&r===$n)delete u.fill;else if(u.fill.field)i.get("symbolFillColor")?delete u.fill:(u.fill={value:s.legend.symbolBaseFillColor||"black"},u.fillOpacity={value:f||1});else if(l(u.fill)){const n=Uo(o.fill||o.color)||a.fill||c&&a.color;n&&(u.fill={value:n})}if(u.stroke)if("stroke"===r||!c&&r===$n)delete u.stroke;else if(u.stroke.field)delete u.stroke;else if(l(u.stroke)){const n=Q(Uo(o.stroke||o.color),a.stroke,c?a.color:void 0);n&&(u.stroke={value:n})}return r!==qn&&f&&(u.opacity={value:f}),u=Object.assign({},u,t),U(u).length>0?u:void 0},gradient:function(n,t,e,r,i){if("gradient"!==Io(i,e,r))return;let l={};const u=Lo(e.encoding.opacity)||e.markDef.opacity;return u&&(l.opacity={value:u}),l=Object.assign({},l,t),U(l).length>0?l:void 0},labels:function(n,t,e,r){const i=e.legend(r),l=e.config;let u={};if(ye(n)){const u=e.getScaleComponent(r).get("type")===hr.UTC,a=El("datum.value",n.timeUnit,i.format,l.legend.shortTimeLabels,l.timeFormat,u);t=Object.assign({},a?{text:{signal:a}}:{},t)}return u=Object.assign({},u,t),U(u).length>0?u:void 0},getFirstConditionValue:Uo});function Wo(n,t,e,r){switch(t){case"values":return!!e.values;case"title":if("title"===t&&n===r.title)return!0}return n===e[t]}function Go(n,t,e,r){const{encoding:i,mark:l}=r,u=pe(i[e]),a=r.config.legend,{timeUnit:o}=u,s=r.getScaleComponent(e).get("type");switch(n){case"direction":return $o({legend:t,legendConfig:a,timeUnit:o,channel:e,scaleType:s});case"format":if(ye(u))return;return kl(u,t.format,r.config);case"formatType":if(ye(u))return;return t.formatType;case"gradientLength":return Q(t.gradientLength,a.gradientLength,function({legend:n,legendConfig:t,model:e,channel:r,scaleType:i}){const{gradientHorizontalMaxLength:l,gradientHorizontalMinLength:u,gradientVerticalMaxLength:a,gradientVerticalMinLength:o}=t;if("horizontal"===$o({legend:n,legendConfig:t,channel:r,scaleType:i})){const r=Q(n.orient,t.orient);return"top"===r||"bottom"===r?Ro(e,"width",u,l):u}return Ro(e,"height",o,a)}({model:r,legend:t,legendConfig:a,channel:e,scaleType:s}));case"labelOverlap":return Q(t.labelOverlap,function(n){if(F(["quantile","threshold","log"],n))return"greedy"}(s));case"symbolType":return Q(t.symbolType,function(n,t,e,r){if("shape"!==t){const n=Uo(e)||r;if(n)return n}switch(n){case"bar":case"rect":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(l,e,i.shape,r.markDef.shape));case"title":return se(u,r.config,{allowDisabling:!0})||void 0;case"type":return zo({legend:t,channel:e,timeUnit:o,scaleType:s,alwaysReturn:!1});case"values":return function(n,t){const e=n.values;if(e)return xe(t,e)}(t,u)}return t[n]}function Yo(n,t){if(!n)return t.clone();const e=n.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(e.explicit&&r.explicit&&e.value!==r.value)return;let i=!1;for(const e of fr){const r=No(n.getWithExplicit(e),t.getWithExplicit(e),e,"legend",(n,t)=>{switch(e){case"symbolType":return Vo(n,t);case"title":return Ml(n,t);case"type":return i=!0,Mo("symbol")}return To(n,t,e,"legend")});n.setWithExplicit(e,r)}return i&&(((n.implicit||{}).encode||{}).gradient&&Y(n.implicit,["encode","gradient"]),((n.explicit||{}).encode||{}).gradient&&Y(n.explicit,["encode","gradient"])),n}function Vo(n,t){return"circle"===t.value?t:n}function Jo(n){const t=n.component.legends,e={};for(const r of U(t)){const i=n.getScaleComponent(r),l=C(i.get("domains"));if(e[l])for(const n of e[l])Yo(n,t[r])||e[l].push(t[r]);else e[l]=[t[r].clone()]}return B(q(e)).map(n=>{const t=n.combine();if(t.encode&&t.encode.symbols){const n=t.encode.symbols.update;!n.fill||"transparent"===n.fill.value||n.stroke||t.stroke||(n.stroke={value:"transparent"}),t.fill&&delete n.fill}return t})}function Xo(n){const t=n.component.projection;if(!t||t.merged)return[];const e=t.combine(),{name:r}=e,i=wn(e,["name"]);if(t.data){const e={signal:`[${t.size.map(n=>n.signal).join(", ")}]`},l=t.data.reduce((t,e)=>{const r=Xi(e)?e.signal:`data('${n.lookupDataSource(e)}')`;return F(t,r)||t.push(r),t},[]);if(l.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:e,fit:{signal:l.length>1?`[${l.join(", ")}]`:l[0]}},i)]}return[Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}},i)]}const Ko=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Zo extends Co{constructor(n,t,e,r){super(Object.assign({},t),{name:n}),this.specifiedProjection=t,this.size=e,this.data=r,this.merged=!1}get isFit(){return!!this.data}}function Qo(n,t){return`${ke(n)}_${t}`}function ns(n,t,e){const r=Qo(ve(e,void 0)||{},t);return n.getName(r+"_bins")}function ts(n,t,e){let r;r=function(n){return"as"in n}(n)?a(n.as)?[n.as,n.as+"_end"]:[n.as[0],n.as[1]]:[ie(n,{forAs:!0}),ie(n,{binSuffix:"end",forAs:!0})];const i=ve(t,void 0)||{},l=Qo(i,n.field),{signal:u,extentSignal:o}=function(n,t){return{signal:n.getName(t+"_bins"),extentSignal:n.getName(t+"_extent")}}(e,l);return{key:l,binComponent:Object.assign({bin:i,field:n.field,as:[r]},u?{signal:u}:{},o?{extentSignal:o}:{})}}class es extends Fl{constructor(n,t){super(n),this.bins=t}clone(){return new es(null,A(this.bins))}static makeFromEncoding(n,t){const e=t.reduceFieldDef((n,e,r)=>{if(Qt(e)&&je(e.bin)){const{key:i,binComponent:l}=ts(e,e.bin,t);n[i]=Object.assign({},l,n[i],function(n,t,e,r){if(_e(t,e)){const i=ec(n)&&(n.axis(e)||n.legend(e))||{},l=ie(t,{expr:"datum"}),u=ie(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ie(t,{binSuffix:"range",forAs:!0}),formula:Al(l,u,i.format,r)}}return{}}(t,e,r,t.config))}return n},{});return 0===U(e).length?null:new es(n,e)}static makeFromTransform(n,t,e){const{key:r,binComponent:i}=ts(t,t.bin,e);return new es(n,{[r]:i})}merge(n,t){for(const e of U(n.bins))e in this.bins?(t(n.bins[e].signal,this.bins[e].signal),this.bins[e].as=$([...this.bins[e].as,...n.bins[e].as],D)):this.bins[e]=n.bins[e];for(const t of n.children)n.removeChild(t),t.parent=this;n.remove()}producedFields(){return new Set(B(B(q(this.bins).map(n=>n.as))))}dependentFields(){return new Set(q(this.bins).map(n=>n.field))}hash(){return"Bin "+D(this.bins)}assemble(){return B(q(this.bins).map(n=>{const t=[],[e,...r]=n.as,i=Object.assign({type:"bin",field:X(n.field),as:e,signal:n.signal},n.bin);!n.bin.extent&&n.extentSignal&&(t.push({type:"extent",field:X(n.field),signal:n.extentSignal}),i.extent={signal:n.extentSignal}),t.push(i);for(const n of r)for(let r=0;r<2;r++)t.push({type:"formula",expr:ie({field:e[r]},{expr:"datum"}),as:n[r]});return n.formula&&t.push({type:"formula",expr:n.formula,as:n.formulaAs}),t}))}}class rs extends Fl{constructor(n){let t;if(super(null),bi(n=n||{name:"source"})||(t=n.format?Object.assign({},S(n.format,["parse"])):{}),wi(n))this._data={values:n.values};else if(vi(n)){if(this._data={url:n.url},!t.type){let e=/(?:\.([^.]+))?$/.exec(n.url)[1];F(["json","csv","tsv","dsv","topojson"],e)||(e="json"),t.type=e}}else _i(n)?this._data={values:[{type:"Sphere"}]}:(yi(n)||bi(n))&&(this._data={});this._generator=bi(n),n.name&&(this._name=n.name),t&&U(t).length>0&&(this._data.format=t)}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(n){this._name=n}set parent(n){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign({name:this._name},this._data,{transform:[]})}}function is(n){for(const t of n){for(const n of t.children)if(n.parent!==t)return console.error("Dataflow graph is inconsistent.",t,n),!1;if(!is(t.children))return!1}return!0}class ls extends Fl{constructor(n,t){super(n),this.params=t}clone(){return new ls(null,this.params)}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class us extends Fl{constructor(n,t){super(n),this.params=t}clone(){return new us(null,this.params)}producedFields(){return new Set([this.params.as||"data"])}assemble(){return Object.assign({type:"sequence"},this.params)}}function as(n){return n instanceof rs||n instanceof ls||n instanceof us}class os{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class ss extends os{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:n,mutatedFlag:t}){n&&this.setContinue(),t&&this.setMutated()}reset(){}optimizeNextFromLeaves(n){if(as(n))return!1;const t=n.parent,{continueFlag:e}=this.run(n);return e&&this.optimizeNextFromLeaves(t),this.mutatedFlag}}class cs extends os{}class fs extends Fl{constructor(n,t,e){super(n),this.dimensions=t,this.measures=e}clone(){return new fs(null,new Set(this.dimensions),A(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(n,t){let e=!1;t.forEachFieldDef(n=>{n.aggregate&&(e=!0)});const r={},i=new Set;return e?(t.forEachFieldDef((n,e)=>{const{aggregate:l,field:u}=n;if(l)if("count"===l)r["*"]=r["*"]||{},r["*"].count=new Set([ie(n,{forAs:!0})]);else{if(bn(l)||xn(l)){const n=bn(l)?"argmin":"argmax",t=l[n];r[t]=r[t]||{},r[t][n]=new Set([ie({op:n,field:t},{forAs:!0})])}else r[u]=r[u]||{},r[u][l]=new Set([ie(n,{forAs:!0})]);mt(e)&&"unaggregated"===t.scaleDomain(e)&&(r[u]=r[u]||{},r[u].min=new Set([ie({field:u,aggregate:"min"},{forAs:!0})]),r[u].max=new Set([ie({field:u,aggregate:"max"},{forAs:!0})]))}else!function(n,t,e,r){if(Qt(e)&&je(e.bin))n.add(ie(e,{})),n.add(ie(e,{binSuffix:"end"})),_e(e,t)&&n.add(ie(e,{binSuffix:"range"}));else if(t in Vn){const e=function(n){switch(n){case Nn:return"y";case zn:return"y2";case Bn:return"x";case Pn:return"x2"}}(t);n.add(r.getName(e))}else n.add(ie(e))}(i,e,n,t)}),i.size+U(r).length===0?null:new fs(n,i,r)):null}static makeFromTransform(n,t){const e=new Set,r={};for(const n of t.aggregate){const{op:t,field:e,as:i}=n;t&&("count"===t?(r["*"]=r["*"]||{},r["*"].count=new Set([i||ie(n,{forAs:!0})])):(r[e]=r[e]||{},r[e][t]=new Set([i||ie(n,{forAs:!0})])))}for(const n of t.groupby||[])e.add(n);return e.size+U(r).length===0?null:new fs(n,e,r)}merge(n){return function(n,t){if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0}(this.dimensions,n.dimensions)?(function(n,t){for(const e of U(t)){const r=t[e];for(const t of U(r))e in n?n[e][t]=new Set([...n[e][t]||[],...r[t]]):n[e]={[t]:r[t]}}}(this.measures,n.measures),!0):(function(...n){kt.debug.apply(kt,arguments)}("different dimensions, cannot merge"),!1)}addDimensions(n){n.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...U(this.measures)])}producedFields(){const n=new Set;for(const t of U(this.measures))for(const e of U(this.measures[t])){const r=this.measures[t][e];0===r.size?n.add(`${e}_${t}`):r.forEach(n.add,n)}return n}hash(){return"Aggregate "+D({dimensions:this.dimensions,measures:this.measures})}assemble(){const n=[],t=[],e=[];for(const r of U(this.measures))for(const i of U(this.measures[r]))for(const l of this.measures[r][i])e.push(l),n.push(i),t.push("*"===r?null:X(r));return{type:"aggregate",groupby:[...this.dimensions],ops:n,fields:t,as:e}}}class hs extends Fl{constructor(n,t,e,r){super(n),this.model=t,this.name=e,this.data=r;for(const n of Qn){const e=t.facet[n];if(e){const{bin:r,sort:i}=e;this[n]=Object.assign({name:t.getName(n+"_domain"),fields:[ie(e),...je(r)?[ie(e,{binSuffix:"end"})]:[]]},dl(i)?{sortField:i}:l(i)?{sortIndexField:$u(e,n)}:{})}}this.childModel=t.child}hash(){let n="Facet";for(const t of Qn)this[t]&&(n+=` ${t.charAt(0)}:${D(this[t])}`);return n}get fields(){const n=[];for(const t of Qn)this[t]&&this[t].fields&&n.push(...this[t].fields);return n}getSource(){return this.name}getChildIndependentFieldsWithStep(){const n={};for(const t of["x","y"]){const e=this.childModel.component.scales[t];if(e&&!e.merged){const r=e.get("type"),i=e.get("range");if(kr(r)&&Ki(i)){const e=Is(Ls(this.childModel,t));e?n[t]=e:jt("Unknown field for ${channel}.  Cannot calculate view size.")}}}return n}assembleRowColumnHeaderData(n,t,e){const r={row:"y",column:"x"}[n],i=[],l=[],u=[];e&&e[r]&&(t?(i.push("distinct_"+e[r]),l.push("max")):(i.push(e[r]),l.push("distinct")),u.push("distinct_"+e[r]));const{sortField:a,sortIndexField:o}=this[n];if(a){const{op:n=hl,field:t}=a;i.push(t),l.push(n),u.push(ie(a,{forAs:!0}))}else o&&(i.push(o),l.push("max"),u.push(o));return{name:this[n].name,source:t||this.data,transform:[Object.assign({type:"aggregate",groupby:this[n].fields},i.length?{fields:i,ops:l,as:u}:{})]}}assembleFacetHeaderData(n){const{columns:t}=this.model.layout,{layoutHeaders:e}=this.model.component,r=[],i={};for(const n of Uu){for(const t of qu){const r=e[n]&&e[n][t]||[];for(const t of r)if(t.axes&&t.axes.length>0){i[n]=!0;break}}if(i[n]){const e=`length(data("${this.facet.name}"))`,i="row"===n?t?{signal:`ceil(${e} / ${t})`}:1:t?{signal:`min(${e}, ${t})`}:{signal:e};r.push({name:`${this.facet.name}_${n}`,transform:[{type:"sequence",start:0,stop:i}]})}}const{row:l,column:u}=i;return(l||u)&&r.unshift(this.assembleRowColumnHeaderData("facet",null,n)),r}assemble(){const n=[];let t=null;const e=this.getChildIndependentFieldsWithStep(),{column:r,row:i,facet:l}=this;if(r&&i&&(e.x||e.y)){t=`cross_${this.column.name}_${this.row.name}`;const r=[].concat(e.x||[],e.y||[]),i=r.map(()=>"distinct");n.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:r,ops:i}]})}for(const r of[Sn,En])this[r]&&n.push(this.assembleRowColumnHeaderData(r,t,e));if(l){const t=this.assembleFacetHeaderData(e);t&&n.push(...t)}return n}}class ds extends Fl{constructor(n,t,e){super(n),this.model=t,this.filter=e,this.expr=Ja(this.model,this.filter,this),this._dependentFields=zu(this.expr)}clone(){return new ds(null,this.model,A(this.filter))}dependentFields(){return this._dependentFields}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter "+this.expr}}function ps(n){return"'"===n[0]&&"'"===n[n.length-1]||'"'===n[0]&&'"'===n[n.length-1]?n.slice(1,-1):n}class gs extends Fl{clone(){return new gs(null,A(this._parse))}constructor(n,t){super(n),this._parse=t}hash(){return"Parse "+D(this._parse)}static makeExplicit(n,t,e){let r={};const i=t.data;return!bi(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(n,r,{},e)}static makeImplicitFromFilterTransform(n,t,e){const r={};return function n(t,e){if(k(t))n(t.not,e);else if(_(t))for(const r of t.and)n(r,e);else if(x(t))for(const r of t.or)n(r,e);else e(t)}(t.filter,n=>{if(Ti(n)){let t=null;Ai(n)?t=n.equal:Mi(n)?t=n.range[0]:Fi(n)&&(t=(n.oneOf||n.in)[0]),t&&(Ot(t)?r[n.field]="date":p(t)?r[n.field]="number":a(t)&&(r[n.field]="string")),n.timeUnit&&(r[n.field]="date")}}),0===U(r).length?null:this.makeWithAncestors(n,{},r,e)}static makeImplicitFromEncoding(n,t,e){const r={};function i(n){var t;ye(n)?r[n.field]="date":"quantitative"===n.type&&(t=n.aggregate)&&a(t)&&F(["min","max"],t)?r[n.field]="number":Z(n.field)>1?n.field in r||(r[n.field]="flatten"):ee(n)&&dl(n.sort)&&Z(n.sort.field)>1&&(n.sort.field in r||(r[n.sort.field]="flatten"))}if((ec(t)||rc(t))&&t.forEachFieldDef((n,e)=>{if(Qt(n))i(n);else{const r=at(e),l=t.fieldDef(r);i(Object.assign({},n,{type:l.type}))}}),ec(t)){const{mark:n,markDef:e,encoding:i}=t;if(fn(n)&&!t.encoding.order){const n=i["horizontal"===e.orient?"y":"x"];!Zt(n)||"quantitative"!==n.type||n.field in r||(r[n.field]="number")}}return this.makeWithAncestors(n,{},r,e)}static makeWithAncestors(n,t,e,r){for(const n of U(e)){const t=r.getWithExplicit(n);void 0!==t.value&&(t.explicit||t.value===e[n]||"derived"===t.value||"flatten"===e[n]?delete e[n]:jt(bt.differentParse(n,e[n],t.value)))}for(const n of U(t)){const e=r.get(n);void 0!==e&&(e===t[n]?delete t[n]:jt(bt.differentParse(n,t[n],e)))}const i=new Co(t,e);r.copyAll(i);const l={};for(const n of U(i.combine())){const t=i.get(n);null!==t&&(l[n]=t)}return 0===U(l).length||r.parseNothing?null:new gs(n,l)}get parse(){return this._parse}merge(n){this._parse=Object.assign({},this._parse,n.parse),n.remove()}assembleFormatParse(){const n={};for(const t of U(this._parse)){const e=this._parse[t];1===Z(t)&&(n[t]=e)}return n}producedFields(){return new Set(U(this._parse))}dependentFields(){return new Set(U(this._parse))}assembleTransforms(n=!1){return U(this._parse).filter(t=>!n||Z(t)>1).map(n=>{const t=function(n,t){const e=J(n);return"number"===t?`toNumber(${e})`:"boolean"===t?`toBoolean(${e})`:"string"===t?`toString(${e})`:"date"===t?`toDate(${e})`:"flatten"===t?e:0===t.indexOf("date:")?`timeParse(${e},'${ps(t.slice(5,t.length))}')`:0===t.indexOf("utc:")?`utcParse(${e},'${ps(t.slice(4,t.length))}')`:(jt(bt.unrecognizedParse(t)),null)}(n,this._parse[n]);return t?{type:"formula",expr:t,as:K(n)}:null}).filter(n=>null!==n)}}class ms extends Fl{constructor(n,t){super(n),this.transform=t}clone(){return new ms(null,A(this.transform))}addDimensions(n){this.transform.groupby=$(this.transform.groupby.concat(n),n=>n)}dependentFields(){const n=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t=>n.add(t)),this.transform.joinaggregate.map(n=>n.field).filter(n=>void 0!==n).forEach(t=>n.add(t)),n}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(n){return n.as||ie(n)}hash(){return"JoinAggregateTransform "+D(this.transform)}assemble(){const n=[],t=[],e=[];for(const r of this.transform.joinaggregate)t.push(r.op),e.push(this.getDefaultName(r)),n.push(void 0===r.field?null:r.field);const r=this.transform.groupby;return Object.assign({type:"joinaggregate",as:e,ops:t,fields:n},void 0!==r?{groupby:r}:{})}}class vs extends Fl{clone(){return new vs(null,A(this._stack))}constructor(n,t){super(n),this._stack=t}static makeFromTransform(n,t){const{stack:e,groupby:r,as:i,offset:u="zero"}=t,o=[],s=[];if(void 0!==t.sort)for(const n of t.sort)o.push(n.field),s.push(Q(n.order,"ascending"));const c={field:o,order:s};let f;return f=function(n){return l(n)&&n.every(n=>a(n))&&n.length>1}(i)?i:a(i)?[i,i+"_end"]:[t.stack+"_start",t.stack+"_end"],new vs(n,{stackField:e,groupby:r,offset:u,sort:c,facetby:[],as:f})}static makeFromEncoding(n,t){const e=t.stack,{encoding:r}=t;if(!e)return null;let i;e.groupbyChannel&&(i=pe(r[e.groupbyChannel]));const u=function(n){return n.stack.stackBy.reduce((n,t)=>{const e=ie(t.fieldDef);return e&&n.push(e),n},[])}(t),a=t.encoding.order;let o;return o=l(a)||Zt(a)?Sl(a):u.reduce((n,t)=>(n.field.push(t),n.order.push("descending"),n),{field:[],order:[]}),new vs(n,{dimensionFieldDef:i,stackField:t.vgField(e.fieldChannel),facetby:[],stackby:u,sort:o,offset:e.offset,impute:e.impute,as:[t.vgField(e.fieldChannel,{suffix:"start",forAs:!0}),t.vgField(e.fieldChannel,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(n){this._stack.facetby.push(...n)}dependentFields(){const n=new Set;return n.add(this._stack.stackField),this.getGroupbyFields().forEach(t=>n.add(t)),this._stack.facetby.forEach(t=>n.add(t)),this._stack.sort.field.forEach(t=>n.add(t)),n}producedFields(){return new Set(this._stack.as)}hash(){return"Stack "+D(this._stack)}getGroupbyFields(){const{dimensionFieldDef:n,impute:t,groupby:e}=this._stack;return n?n.bin?t?[ie(n,{binSuffix:"mid"})]:[ie(n,{}),ie(n,{binSuffix:"end"})]:[ie(n)]:e||[]}assemble(){const n=[],{facetby:t,dimensionFieldDef:e,stackField:r,stackby:i,sort:l,offset:u,impute:a,as:o}=this._stack;return a&&e&&(e.bin&&n.push({type:"formula",expr:"0.5*"+ie(e,{expr:"datum"})+"+0.5*"+ie(e,{expr:"datum",binSuffix:"end"}),as:ie(e,{binSuffix:"mid",forAs:!0})}),n.push({type:"impute",field:r,groupby:[...i,...t],key:ie(e,{binSuffix:"mid"}),method:"value",value:0})),n.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:r,sort:l,as:o,offset:u}),n}}class ws extends Fl{constructor(n,t){super(n),this.transform=t}clone(){return new ws(null,A(this.transform))}addDimensions(n){this.transform.groupby=$(this.transform.groupby.concat(n),n=>n)}dependentFields(){const n=new Set;return(this.transform.groupby||[]).forEach(t=>n.add(t)),(this.transform.sort||[]).forEach(t=>n.add(t.field)),this.transform.window.map(n=>n.field).filter(n=>void 0!==n).forEach(t=>n.add(t)),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(n){return n.as||ie(n)}hash(){return"WindowTransform "+D(this.transform)}assemble(){const n=[],t=[],e=[],r=[];for(const i of this.transform.window)t.push(i.op),e.push(this.getDefaultName(i)),r.push(void 0===i.param?null:i.param),n.push(void 0===i.field?null:i.field);const i=this.transform.frame,l=this.transform.groupby;if(i&&null===i[0]&&null===i[1]&&t.every(n=>_n(n)))return Object.assign({type:"joinaggregate",as:e,ops:t,fields:n},void 0!==l?{groupby:l}:{});const u=[],a=[];if(void 0!==this.transform.sort)for(const n of this.transform.sort)u.push(n.field),a.push(n.order||"ascending");const o={field:u,order:a},s=this.transform.ignorePeers;return Object.assign({type:"window",params:r,as:e,ops:t,fields:n,sort:o},void 0!==s?{ignorePeers:s}:{},void 0!==l?{groupby:l}:{},void 0!==i?{frame:i}:{})}}class ys extends ss{run(n){const t=n.parent;if(n instanceof gs){if(as(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof gs)this.setMutated(),t.merge(n);else{if(L(t.producedFields(),n.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),n.swapWithParent()}}return this.setContinue(),this.flags}}class bs extends cs{mergeNodes(n,t){const e=t.shift();for(const r of t)n.removeChild(r),r.parent=e,r.remove()}run(n){const t=n.children.map(n=>n.hash()),e={};for(let r=0;r<t.length;r++)void 0===e[t[r]]?e[t[r]]=[n.children[r]]:e[t[r]].push(n.children[r]);for(const t of U(e))e[t].length>1&&(this.setMutated(),this.mergeNodes(n,e[t]));for(const t of n.children)this.run(t);return this.mutatedFlag}}class xs extends ss{run(n){return n instanceof Tl||n.numChildren()>0||n instanceof hs||(this.setMutated(),n.remove()),this.flags}}class _s extends ss{constructor(){super(...arguments),this.fields=new Set}run(n){if(this.setContinue(),n instanceof da){const t=n.producedFields();R(t,this.fields)?(this.setMutated(),n.remove()):this.fields=new Set([...this.fields,...t])}return this.flags}reset(){this.fields.clear()}}class ks extends ss{run(n){this.setContinue();const t=n.parent.children.filter(n=>n instanceof da),e=t.pop();for(const n of t)this.setMutated(),e.merge(n);return this.flags}}function js(n){if(n instanceof hs)if(1!==n.numChildren()||n.children[0]instanceof Tl){const e=n.model.component.data.main;!function n(t){if(t instanceof Tl&&t.type===ji&&1===t.numChildren()){const e=t.children[0];e instanceof hs||(e.swapWithParent(),n(t))}}(e);const r=(t=n,function n(e){if(!(e instanceof hs)){const r=e.clone();if(r instanceof Tl){const n=Ds+r.getSource();r.setSource(n),t.model.component.data.outputNodes[n]=r}else(r instanceof fs||r instanceof vs||r instanceof ws||r instanceof ms)&&r.addDimensions(t.fields);return B(e.children.map(n)).forEach(n=>n.parent=r),[r]}return B(e.children.map(n))}),i=B(n.children.map(r));for(const n of i)n.parent=e}else{const t=n.children[0];(t instanceof fs||t instanceof vs||t instanceof ws||t instanceof ms)&&t.addDimensions(n.fields),t.swapWithParent(),js(n)}else n.children.map(js);var t}class Os extends cs{run(n){n instanceof Tl&&!n.isRequired()&&(this.setMutated(),n.remove());for(const t of n.children)this.run(t);return this.mutatedFlag}}class As extends ss{run(n){const t=n.parent,e=[...t.children],r=t.children.filter(n=>n instanceof gs);if(t.numChildren()>1&&r.length>=1){const n={},i=new Set;for(const t of r){const e=t.parse;for(const t of U(e))t in n?n[t]!==e[t]&&i.add(t):n[t]=e[t]}for(const t of i)delete n[t];if(0!==U(n).length){this.setMutated();const r=new gs(t,n);for(const i of e){if(i instanceof gs)for(const t of U(n))delete i.parse[t];t.removeChild(i),i.parent=r,i instanceof gs&&0===U(i.parse).length&&i.remove()}}}return this.setContinue(),this.flags}}class Es extends ss{run(n){const t=n.parent,e=t.children.filter(n=>n instanceof fs),r={};for(const n of e){const t=D(n.groupBy);t in r||(r[t]=[]),r[t].push(n)}for(const n of U(r)){const e=r[n];if(e.length>1){const n=e.pop();for(const r of e)n.merge(r)&&(t.removeChild(r),r.parent=n,r.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class Ss extends ss{constructor(n){super(),this.model=n}run(n){const t=n.parent,e=!(as(t)||t instanceof ds||t instanceof gs),r=[],i=[];for(const n of t.children)n instanceof es&&(e&&!L(t.producedFields(),n.dependentFields())?r.push(n):i.push(n));if(r.length>0){const n=r.pop();for(const t of r)n.merge(t,this.model.renameSignal.bind(this.model));this.setMutated(),t instanceof es?t.merge(n,this.model.renameSignal.bind(this.model)):n.swapWithParent()}if(i.length>1){const n=i.pop();for(const t of i)n.merge(t,this.model.renameSignal.bind(this.model));this.setMutated()}return this.setContinue(),this.flags}}class Cs extends ss{run(n){const t=n.parent,e=[...t.children];if(!T(e,n=>n instanceof Tl)||t.numChildren()<=1)return this.setContinue(),this.flags;const r=[];let i;for(const n of e)if(n instanceof Tl){let e=n;for(;1===e.numChildren();){const n=e.children[0];if(!(n instanceof Tl))break;e=n}r.push(...e.children),i?(t.removeChild(n),n.parent=i.parent,i.parent.removeChild(i),i.parent=e,this.setMutated()):i=e}else r.push(n);if(r.length){this.setMutated();for(const n of r)n.parent.removeChild(n),n.parent=i}return this.setContinue(),this.flags}}const Ds="scale_";function Ms(n){const t=[];return n.forEach((function n(e){0===e.numChildren()?t.push(e):e.children.forEach(n)})),t}function Fs(n){return n}function Ts(n,t){return t.map(t=>{if(n instanceof ss){const e=n.optimizeNextFromLeaves(t);return n.reset(),e}return n.run(t)}).some(Fs)}function Ns(n,t){let e=n.sources;const r=new Set;return r.add(Ts(new Os,e)),e=e.filter(n=>n.numChildren()>0),r.add(Ts(new xs,Ms(e))),e=e.filter(n=>n.numChildren()>0),r.add(Ts(new ys,Ms(e))),r.add(Ts(new Ss(t),Ms(e))),r.add(Ts(new _s,Ms(e))),r.add(Ts(new As,Ms(e))),r.add(Ts(new Es,Ms(e))),r.add(Ts(new ks,Ms(e))),r.add(Ts(new bs,e)),r.add(Ts(new Cs,Ms(e))),n.sources=e,r.has(!0)}class Bs{constructor(n){Object.defineProperty(this,"signal",{enumerable:!0,get:n})}static fromName(n,t){return new Bs(()=>n(t))}}function zs(n,t,e,r){const i=e.fieldDef(r);if(t&&"unaggregated"!==t&&!Sr(t)){const{type:n,timeUnit:e}=i;return Do("temporal"===n||e?function(n,t,e){return n.map(n=>({signal:`{data: ${be(n,{timeUnit:e,type:t})}}`}))}(t,n,e):[t])}const l=e.stack;if(l&&r===l.fieldChannel){if("normalize"===l.offset)return Mo([[0,1]]);const n=e.requestDataName(ji);return Mo([{data:n,field:e.vgField(r,{suffix:"start"})},{data:n,field:e.vgField(r,{suffix:"end"})}])}const a=mt(r)?function(n,t,e){if(!kr(e))return;const r=n.fieldDef(t),i=r.sort;if(pl(i))return{op:"min",field:$u(r,t),order:"ascending"};const l=null!==n.stack;if(dl(i))return Ps(i,l);if(function(n){return!!n&&!!n.encoding}(i)){const{encoding:t,order:e}=i,{aggregate:r,field:u}=n.fieldDef(t);return Ps({op:r,field:u,order:e},l)}return"descending"===i?{op:"min",field:n.vgField(t),order:"descending"}:!!F(["ascending",void 0],i)||void 0}(e,r,n):void 0;if("unaggregated"===t){const n=e.requestDataName(ji),{field:t}=i;return Mo([{data:n,field:ie({field:t,aggregate:"min"})},{data:n,field:ie({field:t,aggregate:"max"})}])}if(je(i.bin)){if(kr(n))return Mo("bin-ordinal"===n?[]:[{data:H(a)?e.requestDataName(ji):e.requestDataName(Oi),field:e.vgField(r,_e(i,r)?{binSuffix:"range"}:{}),sort:!0!==a&&u(a)?a:{field:e.vgField(r,{}),op:"min"}}]);{const{bin:n}=i;if(je(n)){const t=ns(e,i.field,n);return Mo([new Bs(()=>{const n=e.getSignalName(t);return`[${n}.start, ${n}.stop]`})])}return Mo([{data:e.requestDataName(ji),field:e.vgField(r,{})}])}}return Mo(a?[{data:H(a)?e.requestDataName(ji):e.requestDataName(Oi),field:e.vgField(r),sort:a}]:[{data:e.requestDataName(ji),field:e.vgField(r)}])}function Ps(n,t){const{op:e,field:r,order:i}=n;return Object.assign({op:e||(t?"sum":hl)},r?{field:X(r)}:{},i?{order:i}:{})}function $s(n,t){const{aggregate:e,type:r}=n;return e?a(e)&&!An[e]?{valid:!1,reason:bt.unaggregateDomainWithNonSharedDomainOp(e)}:"quantitative"===r&&"log"===t?{valid:!1,reason:bt.unaggregatedDomainWithLogScale(n)}:{valid:!0}:{valid:!1,reason:bt.unaggregateDomainHasNoEffectForRawField(n)}}function Rs(n,t,e,r){return n.explicit&&t.explicit&&jt(bt.mergeConflictingDomainProperty(e,r,n.value,t.value)),{explicit:n.explicit,value:[...n.value,...t.value]}}function Is(n){if(Zi(n)&&a(n.field))return n.field;if(function(n){return!l(n)&&"fields"in n&&!("data"in n)}(n)){let t;for(const e of n.fields)if(Zi(e)&&a(e.field))if(t){if(t!==e.field)return jt("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),t}else t=e.field;return jt("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),t}if(function(n){return!l(n)&&"fields"in n&&"data"in n}(n)){jt("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");const t=n.fields[0];return a(t)?t:void 0}}function Ls(n,t){return function(n){const t=$(n.map(n=>Zi(n)?wn(n,["sort"]):n),D),e=$(n.map(n=>{if(Zi(n)){const t=n.sort;return void 0===t||H(t)||("count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(n=>void 0!==n),D);if(0===t.length)return;if(1===t.length){const t=n[0];if(Zi(t)&&e.length>0){let n=e[0];return e.length>1&&(jt(bt.MORE_THAN_ONE_SORT),n=!0),Object.assign({},t,{sort:n})}return t}const r=$(e.map(n=>H(n)||"count"===n.op?n:(jt(bt.domainSortDropped(n)),!0)),D);let i;1===r.length?i=r[0]:r.length>1&&(jt(bt.MORE_THAN_ONE_SORT),i=!0);const l=$(n.map(n=>Zi(n)?n.data:null),n=>n);return 1===l.length&&null!==l[0]?Object.assign({data:l[0],fields:t.map(n=>n.field)},i?{sort:i}:{}):Object.assign({fields:t},i?{sort:i}:{})}(n.component.scales[t].get("domains").map(t=>(Zi(t)&&(t.data=n.lookupDataSource(t.data)),t)))}function Us(n){return U(n.component.scales).reduce((t,e)=>{const r=n.component.scales[e];if(r.merged)return t;const i=r.combine();let{domainRaw:l}=i;const{name:u,type:a,domains:s,domainRaw:c,range:f}=i,h=wn(i,["name","type","domains","domainRaw","range"]),d=function(n,t,e){return"x"!==e&&"y"!==e||!Ki(n)?n:{step:{signal:t+"_step"}}}(i.range,u,e);l&&function(n){return n.signal.indexOf(Aa)>=0}(l)&&(l=function(n,t){const e=JSON.parse(t.signal.replace(Aa,"")),r=W(e.selection),i=e.encoding;let l=e.field,u=n.component.selection&&n.component.selection[r];if(!u){if(u=n.getSelectionComponent(r,e.selection),i||l){if(i&&!l){const n=u.project.items.filter(n=>n.channel===i);!n.length||n.length>1?(l=u.project.items[0].field,jt((n.length?"Multiple ":"No ")+`matching ${o(i)} encoding found for selection ${o(e.selection)}. `+`Using "field": ${o(l)}.`)):l=n[0].field}}else l=u.project.items[0].field,u.project.items.length>1&&jt(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${o(l)}.`);return{signal:J(l,r)}}return jt('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}}(n,l));const p=Ls(n,e);return t.push(Object.assign({name:u,type:a},p?{domain:p}:{},l?{domainRaw:l}:{},{range:d},h)),t},[])}class qs extends Co{constructor(n,t){super({},{name:n}),this.merged=!1,this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||T(this.get("domains"),n=>l(n)&&2===n.length&&n[0]<=0&&n[1]>=0)}}const Hs=["range","rangeStep","scheme"];function Ws(n){return"x"===n?"width":"y"===n?"height":void 0}function Gs(n,t){const e=n.getScaleComponent(t);if(!e)return;const r=e.get("type"),i=n.fieldDef(t);if(kr(r)){const n=e&&e.get("range");if(n&&Ki(n)&&p(n.step))return n.step}else if(i&&i.bin&&je(i.bin)){const e=ns(n,i.field,i.bin),r=Ws(t),l=n.getName(r);return new Bs(()=>{const t=n.getSignalName(e),r=`(${t}.stop - ${t}.start) / ${t}.step`;return`${n.getSignalName(l)} / (${r})`})}}function Ys(n){return function(n){return n&&!!n.name}(n)?Object.assign({scheme:n.name},S(n,["name"])):{scheme:n}}const Vs=.95;function Js(n,t){if(n.length>0){let t=1/0;for(const e of n)Xi(e)?t=void 0:void 0!==t&&e<t&&(t=e);return void 0!==t?t:new Bs(()=>`min(${n.map(n=>Xi(n)?n.signal:n).join(", ")})`)}return t.rangeStep?t.rangeStep:21}function Xs(n,t){ec(n)?function(n,t){const e=n.component.scales;U(e).forEach(r=>{const i=n.specifiedScales[r],u=e[r],a=n.getScaleComponent(r),o=n.fieldDef(r),s=n.config,c=i[t],f=a.get("type"),h=Mr(f,t),d=Fr(r,t);if(void 0!==c&&(h?d&&jt(d):jt(bt.scalePropertyNotWorkWithScaleType(f,t,r))),h&&void 0===d)if(void 0!==c)u.copyKeyFromObject(t,i);else{const e=function(n,t,e,r,i,u,a,o,s,c){const f=c.scale,{type:h,sort:d}=r;switch(n){case"bins":return function(n,t){const e=t.bin;if(je(e)){const r=ns(n,t.field,e);return new Bs(()=>n.getSignalName(r))}if(Oe(e)&&Ae(e)&&void 0!==e.step)return{step:e.step}}(t,r);case"interpolate":return function(n,t){if(F([$n,Rn,In],n)&&"nominal"!==t)return"hcl"}(e,h);case"nice":return function(n,t,e){if(!e.bin&&!F([hr.TIME,hr.UTC],n))return!!F([Dn,Mn],t)||void 0}(i,e,r);case"padding":return function(n,t,e,r,i,l){if(F([Dn,Mn],n)){if(Or(t)){if(void 0!==e.continuousPadding)return e.continuousPadding;const{type:t,orient:u}=i;if("bar"===t&&!r.bin&&("vertical"===u&&"x"===n||"horizontal"===u&&"y"===n))return l.continuousBandSize}if(t===hr.POINT)return e.pointPadding}}(e,i,f,r,s,c.bar);case"paddingInner":return function(n,t,e,r){if(void 0===n&&F([Dn,Mn],t)){const{bandPaddingInner:n,barBandPaddingInner:t,rectBandPaddingInner:i}=r;return Q(n,"bar"===e?t:i)}}(u,e,s.type,f);case"paddingOuter":return function(n,t,e,r,i,l){if(void 0===n&&F([Dn,Mn],t)&&e===hr.BAND){const{bandPaddingOuter:n,barBandPaddingOuter:t,rectBandPaddingOuter:e}=l;return Q(n,"bar"===r?t:e,i/2)}}(u,e,i,s.type,a,f);case"reverse":return function(n,t){if(jr(n)&&"descending"===t)return!0}(i,d);case"zero":return function(n,t,e,r,i){if(e&&"unaggregated"!==e&&jr(i)){if(l(e)){const n=e[0],t=e[e.length-1];if(n<=0&&t>=0)return!0}return!1}if("size"===n&&"quantitative"===t.type&&!Ar(i))return!0;if(!t.bin&&F([Dn,Mn],n)){const{orient:t,type:e}=r;return!F(["bar","area","line","trail"],e)||!("horizontal"===t&&"y"===n||"vertical"===t&&"x"===n)}return!1}(e,r,o,s,i)}return f[n]}(t,n,r,o,a.get("type"),a.get("padding"),a.get("paddingInner"),i.domain,n.markDef,s);void 0!==e&&u.set(t,e,!1)}})}(n,t):Zs(n,t)}function Ks(n){ec(n)?function(n){const t=n.component.scales;gt.forEach(e=>{const r=t[e];if(!r)return;const i=n.getScaleComponent(e),u=n.specifiedScales[e],a=n.fieldDef(e),o=Ws(e);let s=o?!!n.component.layoutSize.get(o):void 0;const c=i.get("type"),f=F(["point","band"],c)||!!u.rangeStep;o&&n.fit&&!s&&f&&(jt(bt.CANNOT_FIX_RANGE_STEP_WITH_FIT),s=!0);const h=function(n){const t=[];for(const e of ft){const r=Gs(n,e);void 0!==r&&t.push(r)}return t}(n),d=function(n,t,e,r,i,u,a,o,s,c,f){const h=s||null===i.rangeStep;for(const t of Hs)if(void 0!==i[t]){const r=Mr(e,t),l=Fr(n,t);if(r)if(l)jt(l);else switch(t){case"range":return Do(i[t]);case"scheme":return Do(Ys(i[t]));case"rangeStep":{const e=i[t];if(null!==e){if(!s)return Do({step:e});jt(bt.rangeStepDropped(n))}}}else jt(bt.scalePropertyNotWorkWithScaleType(e,t,n))}return Mo(function(n,t,e,r,i,u,a,o,s,c,f){switch(n){case Dn:case Mn:if(F(["point","band"],e)&&!c)if(n===Dn&&"text"===a){if(i.scale.textXRangeStep)return{step:i.scale.textXRangeStep}}else if(i.scale.rangeStep)return{step:i.scale.rangeStep};return n===Mn&&jr(e)?[Bs.fromName(t,o),0]:[0,Bs.fromName(t,o)];case Un:{const t=function(n,t,e){if(t)return 0;switch(n){case"bar":case"tick":return e.scale.minBandSize;case"line":case"trail":case"rule":return e.scale.minStrokeWidth;case"text":return e.scale.minFontSize;case"point":case"square":case"circle":return e.scale.minSize}throw new Error(bt.incompatibleChannel("size",n))}(a,u,i),r=function(n,t,e){const r=e.scale;switch(n){case"bar":case"tick":{if(void 0!==e.scale.maxBandSize)return e.scale.maxBandSize;const n=Js(t,e.scale);return p(n)?n-1:new Bs(()=>n.signal+" - 1")}case"line":case"trail":case"rule":return e.scale.maxStrokeWidth;case"text":return e.scale.maxFontSize;case"point":case"square":case"circle":{if(e.scale.maxSize)return e.scale.maxSize;const n=Js(t,r);return p(n)?Math.pow(Vs*n,2):new Bs(()=>`pow(${Vs} * ${n.signal}, 2)`)}}throw new Error(bt.incompatibleChannel("size",n))}(a,s,i);return Ar(e)?function(n,t,e){const r=()=>{const r=`(${Xi(t)?t.signal:t} - ${n}) / (${e} - 1)`;return`sequence(${n}, ${t} + ${r}, ${r})`};return Xi(t)?new Bs(r):{signal:r()}}(t,r,function(n,t,e,r){switch(n){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==e&&l(e)?e.length+1:(jt(bt.domainRequiredForThresholdScale(r)),3)}}(e,i,f,n)):[t,r]}case Gn:return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case Ln:return"symbol";case $n:case Rn:case In:return"ordinal"===e?"nominal"===r?"category":"ordinal":"rect"===a||"geoshape"===a?"heatmap":"ramp";case qn:case Hn:case Wn:return[i.scale.minOpacity,i.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+n)}(n,t,e,r,u,a,o,c,f,h,i.domain))}(e,n.getSignalName.bind(n),c,a.type,u,n.config,r.get("zero"),n.mark,s,n.getName(o),h);r.setWithExplicit("range",d)})}(n):Zs(n,"range")}function Zs(n,t){const e=n.component.scales;for(const e of n.children)"range"===t?Ks(e):Xs(e,t);U(e).forEach(r=>{let i;for(const e of n.children){const n=e.component.scales[r];n&&(i=No(i,n.getWithExplicit(t),t,"scale",Fo((n,e)=>{switch(t){case"range":return n.step&&e.step?n.step-e.step:0}return 0})))}e[r].setWithExplicit(t,i)})}function Qs(n){ec(n)?n.component.scales=function(n){const{encoding:t,mark:e}=n;return gt.reduce((r,i)=>{let l,u;const a=t[i];if(Zt(a)&&e===cn&&i===Ln&&a.type===Vt)return r;if(Zt(a)?(l=a,u=a.scale):Kt(a)&&(l=a.condition,u=a.condition.scale),l&&null!==u&&!1!==u){const t=function(n,t,e,r){const i=function(n,t,e){switch(t.type){case"nominal":case"ordinal":if(Kn(n)||"discrete"===yt(n))return"shape"===n&&"ordinal"===t.type&&jt(bt.discreteChannelCannotEncode(n,"ordinal")),"ordinal";if(F(["x","y"],n)){if(F(["rect","bar","rule"],e))return"band";if("bar"===e)return"band"}return"point";case"temporal":return Kn(n)?"time":"discrete"===yt(n)?(jt(bt.discreteChannelCannotEncode(n,"temporal")),"ordinal"):"time";case"quantitative":return Kn(n)?je(t.bin)?"bin-ordinal":"linear":"discrete"===yt(n)?(jt(bt.discreteChannelCannotEncode(n,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(bt.invalidFieldType(t.type))}(t,e,r),{type:l}=n;return mt(t)?void 0!==l?Nr(t,l)?Tr(l,e.type)?l:(jt(bt.scaleTypeNotWorkWithFieldDef(l,i)),i):(jt(bt.scaleTypeNotWorkWithChannel(t,l,i)),i):i:null}(u=u||{},i,l,e);r[i]=new qs(n.scaleName(i+"",!0),{value:t,explicit:u.type===t})}return r},{})}(n):n.component.scales=function(n){const t=n.component.scales={},e={},r=n.component.resolve;for(const t of n.children)Qs(t),U(t.component.scales).forEach(i=>{if(r.scale[i]=r.scale[i]||Eo(i,n),"shared"===r.scale[i]){const n=e[i],l=t.component.scales[i].getWithExplicit("type");n?gr(n.value,l.value)?e[i]=No(n,l,"type","scale",nc):(r.scale[i]="independent",delete e[i]):e[i]=l}});return U(e).forEach(r=>{const i=n.scaleName(r,!0),l=e[r];t[r]=new qs(i,l);for(const t of n.children){const n=t.component.scales[r];n&&(t.renameScale(n.get("name"),i),n.merged=!0)}}),t}(n)}const nc=Fo((n,t)=>vr(n)-vr(t));class tc{constructor(){this.nameMap={}}rename(n,t){this.nameMap[n]=t}has(n){return void 0!==this.nameMap[n]}get(n){for(;this.nameMap[n]&&n!==this.nameMap[n];)n=this.nameMap[n];return n}}function ec(n){return n&&"unit"===n.type}function rc(n){return n&&"facet"===n.type}function ic(n){return n&&"repeat"===n.type}function lc(n){return n&&"concat"===n.type}function uc(n){return n&&"layer"===n.type}class ac{constructor(n,t,e,r,i,u,o,s){this.type=t,this.parent=e,this.config=i,this.repeater=u,this.view=s,this.children=[],this.correctDataNames=n=>(n.from&&n.from.data&&(n.from.data=this.lookupDataSource(n.from.data)),n.from&&n.from.facet&&n.from.facet.data&&(n.from.facet.data=this.lookupDataSource(n.from.facet.data)),n),this.parent=e,this.config=i,this.repeater=u,this.name=n.name||r,this.title=a(n.title)?{text:n.title}:n.title,this.scaleNameMap=e?e.scaleNameMap:new tc,this.projectionNameMap=e?e.projectionNameMap:new tc,this.signalNameMap=e?e.signalNameMap:new tc,this.data=n.data,this.description=n.description,this.transforms=(n.transform||[]).map(n=>Pi(n)?{filter:j(n.filter,zi)}:n),this.layout=mn(n)||Zr(n)?{}:function(n,t,e){const r=e[t],i={},{spacing:u,columns:a}=r;void 0!==u&&(i.spacing=u),void 0!==a&&(Ft(n)&&!Mt(n.facet)||Ur(n)&&l(n.repeat)||Rr(n))&&(i.columns=a);for(const t of qr)if(void 0!==n[t])if("spacing"===t){const e=n[t];i[t]=p(e)?e:{row:e.row||u,column:e.column||u}}else i[t]=n[t];return i}(n,t,i),this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:Ft(n)||e&&e.component.data.isFaceted&&void 0===n.data},layoutSize:new Co,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?A(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}initSize(n){const{width:t,height:e}=n;t&&this.component.layoutSize.set("width",t,!0),e&&this.component.layoutSize.set("height",e,!0)}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(n){Qs(n),function n(t){ec(t)?function(n){const t=n.specifiedScales,e=n.component.scales;U(e).forEach(r=>{const i=t[r],l=i?i.domain:void 0,u=function(n,t){const e=n.getScaleComponent(t).get("type"),r=function(n,t,e,r){if("unaggregated"===n){const{valid:n,reason:r}=$s(t,e);if(!n)return void jt(r)}else if(void 0===n&&r.useUnaggregatedDomain){const{valid:n}=$s(t,e);if(n)return"unaggregated"}return n}(n.scaleDomain(t),n.fieldDef(t),e,n.config.scale);return r!==n.scaleDomain(t)&&(n.specifiedScales[t]=Object.assign({},n.specifiedScales[t],{domain:r})),"x"===t&&n.channelHasField("x2")?n.channelHasField("x")?No(zs(e,r,n,"x"),zs(e,r,n,"x2"),"domain","scale",Rs):zs(e,r,n,"x2"):"y"===t&&n.channelHasField("y2")?n.channelHasField("y")?No(zs(e,r,n,"y"),zs(e,r,n,"y2"),"domain","scale",Rs):zs(e,r,n,"y2"):zs(e,r,n,t)}(n,r),a=e[r];if(a.setWithExplicit("domains",u),Sr(l)&&a.set("domainRaw",{signal:Aa+D(l)},!0),n.component.data.isFaceted){let t=n;for(;!rc(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[r])for(const n of u.value)Zi(n)&&(n.data=Ds+n.data.replace(Ds,""))}})}(t):function(t){for(const e of t.children)n(e);const e=t.component.scales;U(e).forEach(n=>{let r,i=null;for(const e of t.children){const t=e.component.scales[n];if(t){r=void 0===r?t.getWithExplicit("domains"):No(r,t.getWithExplicit("domains"),"domains","scale",Rs);const n=t.get("domainRaw");i&&n&&i.signal!==n.signal&&jt("The same selection must be used to override scale domains in a layered view."),i=n}}e[n].setWithExplicit("domains",r),i&&e[n].set("domainRaw",i,!0)})}(t)}(n);for(const t of Dr)Xs(n,t);Ks(n)}(this)}parseProjection(){!function n(t){t.component.projection=ec(t)?function(n){if(n.hasProjection){const t=n.specifiedProjection,e=!(t&&(null!=t.scale||null!=t.translate)),r=e?[n.getSizeSignalRef("width"),n.getSizeSignalRef("height")]:void 0,i=e?function(n){const t=[];return[[Bn,Nn],[Pn,zn]].forEach(e=>{(n.channelHasField(e[0])||n.channelHasField(e[1]))&&t.push({signal:n.getName("geojson_"+t.length)})}),n.channelHasField(Ln)&&n.fieldDef(Ln).type===Vt&&t.push({signal:n.getName("geojson_"+t.length)}),0===t.length&&t.push(n.requestDataName(ji)),t}(n):void 0;return new Zo(n.projectionName(!0),Object.assign({},n.config.projection||{},t||{}),r,i)}}(t):function(t){if(0===t.children.length)return;let e;t.children.forEach(t=>n(t));const r=N(t.children,n=>{const t=n.component.projection;if(t){if(e){const n=function(n,t){const e=N(Ko,e=>!n.explicit.hasOwnProperty(e)&&!t.explicit.hasOwnProperty(e)||!(!n.explicit.hasOwnProperty(e)||!t.explicit.hasOwnProperty(e)||C(n.get(e))!==C(t.get(e))));if(C(n.size)===C(t.size)){if(e)return n;if(C(n.explicit)===C({}))return t;if(C(t.explicit)===C({}))return n}return null}(e,t);return n&&(e=n),!!n}return e=t,!0}return!0});if(e&&r){const n=t.projectionName(!0),r=new Zo(n,e.specifiedProjection,e.size,A(e.data));return t.children.forEach(t=>{const e=t.component.projection;e&&(e.isFit&&r.data.push(...t.component.projection.data),t.renameProjection(e.get("name"),n),e.merged=!0)}),r}}(t)}(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){!function n(t){ec(t)?t.component.legends=function(n){const{encoding:t}=n;return[$n,Rn,In,Gn,Un,Ln,qn,Hn,Wn].reduce((e,r)=>{const i=t[r];return!n.legend(r)||!n.getScaleComponent(r)||Zt(i)&&r===Ln&&i.type===Vt||(e[r]=function(n,t){const e=n.fieldDef(t),r=n.legend(t),i=new Bo({},function(n,t){const e=n.scaleName($n);return"color"===t?n.markDef.filled?{fill:e}:{stroke:e}:{[t]:n.scaleName(t)}}(n,t));for(const l of cr){const u=Go(l,r,t,n);if(void 0!==u){const t=Wo(u,l,r,e);(t||void 0===n.config.legend[l])&&i.set(l,u,t)}}const l=r.encoding||{},u=["labels","legend","title","symbols","gradient"].reduce((r,u)=>{const a=Ao(l[u]||{},n),o=Ho[u]?Ho[u](e,a,n,t,i):a;return void 0!==o&&U(o).length>0&&(r[u]={update:o}),r},{});return U(u).length>0&&i.set("encode",u,!!r.encoding),i}(n,r)),e},{})}(t):t.component.legends=function(t){const{legends:e,resolve:r}=t.component;for(const i of t.children)n(i),U(i.component.legends).forEach(n=>{r.legend[n]=So(t.component.resolve,n),"shared"===r.legend[n]&&(e[n]=Yo(e[n],i.component.legends[n]),e[n]||(r.legend[n]="independent",delete e[n]))});return U(e).forEach(n=>{for(const e of t.children)e.component.legends[n]&&"shared"===r.legend[n]&&delete e.component.legends[n]}),e}(t)}(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type)return this.view&&this.view.style||"cell"}assembleEncodeFromView(n){const t=wn(n,["style"]),e={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];void 0!==r&&(e[n]={value:r})}return e}assembleGroupEncodeEntry(n){let t=void 0;return this.view&&(t=this.assembleEncodeFromView(this.view)),n||"unit"!==this.type&&"layer"!==this.type?t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},t||{})}assembleLayout(){if(!this.layout)return;const n=this.layout,{spacing:t}=n,e=wn(n,["spacing"]),{component:r,config:i}=this,l=function(n,t){const e={};for(const r of Qn){const i=n[r];if(i&&i.facetFieldDef){const{titleAnchor:n,titleOrient:l}=Lu(["titleAnchor","titleOrient"],i.facetFieldDef,t,r),u=Ru(r,l),a=Zu(n,u);void 0!==a&&(e[u]=a)}}return U(e).length>0?e:void 0}(r.layoutHeaders,i);return Object.assign({padding:t},this.assembleDefaultLayout(),e,l?{titleBand:l}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:n}=this.component;let t=[];for(const e of Qn)n[e].title&&t.push(Hu(this,e));for(const n of Uu)t=t.concat(Yu(this,n));return t}assembleAxes(){return function(n,t){const{x:e=[],y:r=[]}=n;return[...e.map(n=>ul(n,"main",t)),...e.map(n=>ul(n,"grid",t)),...r.map(n=>ul(n,"main",t)),...r.map(n=>ul(n,"grid",t))].filter(n=>n)}(this.component.axes,this.config)}assembleLegends(){return Jo(this)}assembleProjections(){return function(n){return uc(n)||lc(n)||ic(n)?function(n){return n.children.reduce((n,t)=>n.concat(t.assembleProjections()),Xo(n))}(n):Xo(n)}(this)}assembleTitle(){const n=this.title||{},{encoding:t}=n,e=wn(n,["encoding"]),r=Object.assign({},Hr(this.config.title).nonMark,e,t?{encode:{update:t}}:{});if(r.text)return F(["unit","layer"],this.type)?F(["middle",void 0],r.anchor)&&(r.frame=r.frame||"group"):r.anchor=r.anchor||"start",U(r).length>0?r:void 0}assembleGroup(n=[]){const t={};(n=n.concat(this.assembleSignals())).length>0&&(t.signals=n);const e=this.assembleLayout();e&&(t.layout=e),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||rc(this.parent)?function n(t){return uc(t)||lc(t)||ic(t)?t.children.reduce((t,e)=>t.concat(n(e)),Us(t)):Us(t)}(this):[];r.length>0&&(t.scales=r);const i=this.assembleAxes();i.length>0&&(t.axes=i);const l=this.assembleLegends();return l.length>0&&(t.legends=l),t}hasDescendantWithFieldOnChannel(n){for(const t of this.children)if(ec(t)){if(t.channelHasField(n))return!0}else if(t.hasDescendantWithFieldOnChannel(n))return!0;return!1}getName(n){return W((this.name?this.name+"_":"")+n)}requestDataName(n){const t=this.getName(n),e=this.component.data.outputNodeRefCounts;return e[t]=(e[t]||0)+1,t}getSizeSignalRef(n){if(rc(this.parent)){const t="width"===n?"x":"y",e=this.component.scales[t];if(e&&!e.merged){const n=e.get("type"),r=e.get("range");if(kr(n)&&Ki(r)){const n=e.get("name"),r=Is(Ls(this,t));return r?{signal:ra(n,e,ie({aggregate:"distinct",field:r},{expr:"datum"}))}:(jt("Unknown field for ${channel}.  Cannot calculate view size."),null)}}}return{signal:this.signalNameMap.get(this.getName(n))}}lookupDataSource(n){const t=this.component.data.outputNodes[n];return t?t.getSource():n}getSignalName(n){return this.signalNameMap.get(n)}renameSignal(n,t){this.signalNameMap.rename(n,t)}renameScale(n,t){this.scaleNameMap.rename(n,t)}renameProjection(n,t){this.projectionNameMap.rename(n,t)}scaleName(n,t){return t?this.getName(n):it(n)&&mt(n)&&this.component.scales[n]||this.scaleNameMap.has(this.getName(n))?this.scaleNameMap.get(this.getName(n)):void 0}projectionName(n){return n?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(n){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[n];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(n):void 0}getSelectionComponent(n,t){let e=this.component.selection[n];if(!e&&this.parent&&(e=this.parent.getSelectionComponent(n,t)),!e)throw new Error(bt.selectionNotFound(t));return e}}class oc extends ac{vgField(n,t={}){const e=this.fieldDef(n);if(e)return ie(e,t)}reduceFieldDef(n,t,e){return Ne(this.getMapping(),(t,e,r)=>{const i=de(e);return i?n(t,i,r):t},t,e)}forEachFieldDef(n,t){Te(this.getMapping(),(t,e)=>{const r=de(t);r&&n(r,e)},t)}}class sc extends Fl{constructor(n,t){super(n),this.filter=t}clone(){return new sc(null,Object.assign({},this.filter))}static make(n,t){const{config:e,mark:r}=t;if("filter"!==e.invalidValues)return null;const i=t.reduceFieldDef((n,e,i)=>{const l=mt(i)&&t.getScaleComponent(i);return l&&(!jr(l.get("type"))||e.aggregate||fn(r)||(n[e.field]=e)),n},{});return U(i).length?new sc(n,i):null}dependentFields(){return new Set(U(this.filter))}assemble(){const n=U(this.filter).reduce((n,t)=>{const e=this.filter[t],r=ie(e,{expr:"datum"});return null!==e&&(n.push(r+" !== null"),n.push(`!isNaN(${r})`)),n},[]);return n.length>0?{type:"filter",expr:n.join(" && ")}:null}}class cc extends Fl{constructor(n,t){super(n),this.transform=t,this.transform=A(t);const{flatten:e,as:r=[]}=this.transform;this.transform.as=e.map((n,t)=>r[t]||n)}clone(){return new cc(this.parent,A(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform "+D(this.transform)}assemble(){const{flatten:n,as:t}=this.transform;return{type:"flatten",fields:n,as:t}}}class fc extends Fl{constructor(n,t){super(n),this.transform=t,this.transform=A(t);const e=this.transform.as||[void 0,void 0];this.transform.as=[e[0]||"key",e[1]||"value"]}clone(){return new fc(null,A(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform "+D(this.transform)}assemble(){const{fold:n,as:t}=this.transform;return{type:"fold",fields:n,as:t}}}class hc extends Fl{constructor(n,t,e,r){super(n),this.fields=t,this.geojson=e,this.signal=r}clone(){return new hc(null,A(this.fields),this.geojson,this.signal)}static parseAll(n,t){if(t.component.projection&&!t.component.projection.isFit)return n;let e=0;if([[Bn,Nn],[Pn,zn]].forEach(r=>{const i=r.map(n=>t.channelHasField(n)?t.fieldDef(n).field:te(t.encoding[n])?{expr:t.encoding[n].value+""}:void 0);(i[0]||i[1])&&(n=new hc(n,i,null,t.getName("geojson_"+e++)))}),t.channelHasField(Ln)){const r=t.fieldDef(Ln);r.type===Vt&&(n=new hc(n,null,r.field,t.getName("geojson_"+e++)))}return n}assemble(){return Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class dc extends Fl{constructor(n,t,e,r){super(n),this.projection=t,this.fields=e,this.as=r}clone(){return new dc(null,this.projection,A(this.fields),A(this.as))}static parseAll(n,t){return t.projectionName()?([[Bn,Nn],[Pn,zn]].forEach(e=>{const r=e.map(n=>t.channelHasField(n)?t.fieldDef(n).field:te(t.encoding[n])?{expr:t.encoding[n].value+""}:void 0),i=e[0]===Pn?"2":"";(r[0]||r[1])&&(n=new dc(n,t.projectionName(),r,[t.getName("x"+i),t.getName("y"+i)]))}),n):n}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class pc extends Fl{clone(){return new pc(null)}constructor(n){super(n)}producedFields(){return new Set([zr])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:zr}}}class gc extends Fl{constructor(n,t){super(n),this.transform=t}clone(){return new gc(null,A(this.transform))}producedFields(){return new Set([this.transform.impute])}processSequence(n){const{start:t=0,stop:e,step:r}=n;return{signal:`sequence(${[t,e,...r?[r]:[]].join(",")})`}}static makeFromTransform(n,t){return new gc(n,t)}static makeFromEncoding(n,t){const e=t.encoding,r=e.x,i=e.y;if(Zt(r)&&Zt(i)){const l=r.impute?r:i.impute?i:void 0;if(void 0===l)return;const u=r.impute?i:i.impute?r:void 0,{method:a,value:o,frame:s,keyvals:c}=l.impute,f=Be(t.mark,e);return new gc(n,Object.assign({impute:l.field,key:u.field},a?{method:a}:{},void 0!==o?{value:o}:{},s?{frame:s}:{},void 0!==c?{keyvals:c}:{},f.length?{groupby:f}:{}))}return null}hash(){return"Impute "+D(this.transform)}assemble(){const{impute:n,key:t,keyvals:e,method:r,groupby:i,value:l,frame:u=[null,null]}=this.transform,a=Object.assign({type:"impute",field:n,key:t},e?{keyvals:(o=e,o&&void 0!==o.stop?this.processSequence(e):e)}:{},{method:"value"},i?{groupby:i}:{},{value:null});var o;let s;return s=r&&"value"!==r?[Object.assign({type:"window",as:[`imputed_${n}_value`],ops:[r],fields:[n],frame:u,ignorePeers:!1},i?{groupby:i}:{}),{type:"formula",expr:`datum.${n} === null ? datum.imputed_${n}_value : datum.${n}`,as:n}]:[{type:"formula",expr:`datum.${n} === null ? ${l} : datum.${n}`,as:n}],[a,...s]}}class mc extends Co{constructor(n={},t={},e=!1){super(n,t),this.explicit=n,this.implicit=t,this.parseNothing=e}clone(){const n=super.clone();return n.parseNothing=this.parseNothing,n}}class vc extends Fl{constructor(n,t,e){super(n),this.transform=t,this.secondary=e}clone(){return new vc(null,A(this.transform),this.secondary)}static make(n,t,e,r){const i=t.component.data.sources;let l=zc(e.from.data,i);l||(l=new rs(e.from.data),i.push(l));const u=t.getName("lookup_"+r),a=new Tl(l,u,"lookup",t.component.data.outputNodeRefCounts);return t.component.data.outputNodes[u]=a,new vc(n,e,a.getSource())}producedFields(){return new Set(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))}hash(){return"Lookup "+D({transform:this.transform,secondary:this.secondary})}assemble(){let n;if(this.transform.from.fields)n=Object.assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{let t=this.transform.as;a(t)||(jt(bt.NO_FIELDS_NEEDS_AS),t="_lookup"),n={as:[t]}}return Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},n,this.transform.default?{default:this.transform.default}:{})}}class wc extends Fl{constructor(n,t){super(n),this.transform=t}clone(){return new wc(null,A(this.transform))}hash(){return"SampleTransform "+D(this.transform)}assemble(){return{type:"sample",size:this.transform.sample}}}function yc(n){let t=0;return function e(r,i){if(r instanceof rs&&!r.isGenerator&&!vi(r.data)&&(n.push(i),i={name:null,source:i.name,transform:[]}),r instanceof gs&&(r.parent instanceof rs&&!i.source?(i.format=Object.assign({},i.format||{},{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof hs)return i.name||(i.name="data_"+t++),!i.source||i.transform.length>0?(n.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(t=>n.push(t));switch((r instanceof ls||r instanceof us||r instanceof sc||r instanceof ds||r instanceof Pu||r instanceof dc||r instanceof hc||r instanceof fs||r instanceof vc||r instanceof ws||r instanceof ms||r instanceof fc||r instanceof cc||r instanceof pc||r instanceof wc)&&i.transform.push(r.assemble()),(r instanceof es||r instanceof da||r instanceof gc||r instanceof vs)&&i.transform.push(...r.assemble()),r instanceof Tl&&(i.source&&0===i.transform.length?r.setSource(i.source):r.parent instanceof Tl?r.setSource(i.name):(i.name||(i.name="data_"+t++),r.setSource(i.name),1===r.numChildren()&&(n.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Tl&&(!i.source||i.transform.length>0)&&n.push(i);break;case 1:e(r.children[0],i);break;default:{i.name||(i.name="data_"+t++);let l=i.name;!i.source||i.transform.length>0?n.push(i):l=i.source,r.children.forEach(n=>{e(n,{name:null,source:l,transform:[]})});break}}}}function bc(n){return"top"===n||"left"===n?"header":"footer"}function xc(n,t){if(n.channelHasField(t)){const e=n.facet[t],r=Iu("title",null,n.config,t);let i=se(e,n.config,{allowDisabling:!0,includeDefault:void 0===r||!!r});n.child.component.layoutHeaders[t].title&&(i+=" / "+n.child.component.layoutHeaders[t].title,n.child.component.layoutHeaders[t].title=null);const l=Iu("labelOrient",e,n.config,t),u=Q((e.header||{}).labels,!0),a=F(["bottom","right"],l)?"footer":"header";n.component.layoutHeaders[t]={title:i,facetFieldDef:e,[a]:"facet"===t?[]:[_c(n,t,u)]}}}function _c(n,t,e){const r="row"===t?"height":"width";return{labels:e,sizeSignal:n.child.component.layoutSize.get(r)?n.child.getSizeSignalRef(r):void 0,axes:[]}}function kc(n,t){const{child:e}=n;if(e.component.axes[t]){const{layoutHeaders:r,resolve:i}=n.component;if(i.axis[t]=So(i,t),"shared"===i.axis[t]){const i="x"===t?"column":"row",l=r[i];for(const r of e.component.axes[t]){const t=bc(r.get("orient"));l[t]=l[t]||[_c(n,i,!1)];const e=ul(r,"main",n.config,{header:!0});l[t][0].axes.push(e),r.mainExtracted=!0}}}}function jc(n){Ec(n);const t=n.component.layoutSize;t.setWithExplicit("width",Sc(n,"width")),t.setWithExplicit("height",Sc(n,"height"))}const Oc=jc,Ac={vconcat:"width",hconcat:"height"};function Ec(n){for(const t of n.children)t.parseLayoutSize()}function Sc(n,t){const e="width"===t?"x":"y",r=n.component.resolve;let i;for(const l of n.children){const n=l.component.layoutSize.getWithExplicit(t),u=r.scale[e];if("independent"===u&&"range-step"===n.value){i=void 0;break}if(i){if("independent"===u&&i.value!==n.value){i=void 0;break}i=No(i,n,t,"")}else i=n}if(i){for(const e of n.children)n.renameSignal(e.getName(t),n.getName(t)),e.component.layoutSize.set(t,"merged",!1);return i}return{explicit:!1,value:void 0}}function Cc(n,t){const e="width"===t?"x":"y",r=n.config,i=n.getScaleComponent(e);if(i){const n=i.get("type"),e=i.get("range");return kr(n)&&Ki(e)?"range-step":r.view[t]}return n.hasProjection?r.view[t]:"width"===t&&"text"===n.mark?r.scale.textXRangeStep:r.scale.rangeStep||Er.rangeStep}function Dc(n,t){return function(n){return n&&!a(n)&&"repeat"in n}(n.field)?n.field.repeat in t?Object.assign({},n,{field:t[n.field.repeat]}):void jt(bt.noSuchRepeatedValue(n.field.repeat)):n}function Mc(n,t){if(void 0!==(n=Dc(n,t))){if(null===n)return null;if(function(n){return Qt(n)&&!!n.sort}(n)&&dl(n.sort)){const e=Dc(n.sort,t);n=Object.assign({},n,e?{sort:e}:{})}return n}}function Fc(n,t){if(!Zt(n)){if(Kt(n)){const e=Mc(n.condition,t);return e?Object.assign({},n,{condition:e}):wn(n,["condition"])}return n}{const e=Mc(n,t);if(e)return e;if(Xt(n))return{condition:n.condition}}}function Tc(n,t){const e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];if(l(i))e[r]=i.map(n=>Fc(n,t)).filter(n=>n);else{const n=Fc(i,t);void 0!==n&&(e[r]=n)}}return e}function Nc(n,t,e){return ie(t,Object.assign({suffix:"by_"+ie(n)},e||{}))}class Bc extends oc{constructor(n,t,e,r,i){super(n,"facet",t,e,i,r,n.resolve),this.child=ef(n.spec,this,this.getName("child"),void 0,r,i,!1),this.children=[this.child];const l=function(n,t){return Mt(n)?Tc(n,t):Mc(n,t)}(n.facet,r);this.facet=this.initFacet(l)}initFacet(n){return Mt(n)?Ne(n,(n,t,e)=>F([En,Sn],e)?void 0===t.field?(jt(bt.emptyFieldDef(t,e)),n):(n[e]=ge(t,e),n):(jt(bt.incompatibleChannel(e,"facet")),n),{}):{facet:ge(n,"facet")}}channelHasField(n){return!!this.facet[n]}fieldDef(n){return this.facet[n]}parseData(){this.component.data=Pc(this),this.child.parseData()}parseLayoutSize(){Ec(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(n){for(const t of Qn)xc(n,t);kc(n,"x"),kc(n,"y")}(this)}assembleSelectionTopLevelSignals(n){return this.child.assembleSelectionTopLevelSignals(n)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(n){return this.child.assembleSelectionData(n)}getHeaderLayoutMixins(){const n={};for(const t of Qn)for(const e of qu){const r=this.component.layoutHeaders[t],i=r[e],{facetFieldDef:l}=r;if(l){const e=Iu("titleOrient",l,this.config,t);if(F(["right","bottom"],e)){const r=Ru(t,e);n.titleAnchor=n.titleAnchor||{},n.titleAnchor[r]="end"}}if(i&&i[0]){const i="row"===t?"height":"width",l="header"===e?"headerBand":"footerBand";"facet"===t||this.child.component.layoutSize.get(i)||(n[l]=n[l]||{},n[l][t]=.5),r.title&&(n.offset=n.offset||{},n.offset["row"===t?"rowTitle":"columnTitle"]=10)}}return n}assembleDefaultLayout(){const{column:n,row:t}=this.facet,e=n?this.columnDistinctSignal():t?1:void 0;let r="all";return(t||"independent"!==this.component.resolve.scale.x)&&(n||"independent"!==this.component.resolve.scale.y)||(r="none"),Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",align:r})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Bc))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(n){return this.parent&&this.parent instanceof Bc?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:ie(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(n)):super.assembleGroup(n)}getCardinalityAggregateForChild(){const n=[],t=[],e=[];if(this.child instanceof Bc){if(this.child.channelHasField("column")){const r=ie(this.child.facet.column);n.push(r),t.push("distinct"),e.push("distinct_"+r)}}else for(const r of["x","y"]){const i=this.child.component.scales[r];if(i&&!i.merged){const l=i.get("type"),u=i.get("range");if(kr(l)&&Ki(u)){const i=Is(Ls(this.child,r));i?(n.push(i),t.push("distinct"),e.push("distinct_"+i)):jt("Unknown field for ${channel}.  Cannot calculate view size.")}}}return{fields:n,ops:t,as:e}}assembleFacet(){const{name:n,data:t}=this.component.data.facetRoot,{row:e,column:r}=this.facet,{fields:i,ops:u,as:a}=this.getCardinalityAggregateForChild(),o=[];for(const n of Qn){const t=this.facet[n];if(t){o.push(ie(t));const{bin:s,sort:c}=t;if(je(s)&&o.push(ie(t,{binSuffix:"end"})),dl(c)){const{field:n,op:l=hl}=c,o=Nc(t,c);e&&r?(i.push(o),u.push("max"),a.push(o)):(i.push(n),u.push(l),a.push(o))}else if(l(c)){const e=$u(t,n);i.push(e),u.push("max"),a.push(e)}}}const s=!!e&&!!r;return Object.assign({name:n,data:t,groupby:o},s||i.length?{aggregate:Object.assign({},s?{cross:s}:{},i.length?{fields:i,ops:u,as:a}:{})}:{})}facetSortFields(n){const{facet:t}=this,e=t[n];return e?dl(e.sort)?[Nc(e,e.sort,{expr:"datum"})]:l(e.sort)?[$u(e,n,{expr:"datum"})]:[ie(e,{expr:"datum"})]:[]}facetSortOrder(n){const{facet:t}=this,e=t[n];if(e){const{sort:n}=e;return[(dl(n)?n.order:!l(n)&&n)||"ascending"]}return[]}assembleLabelTitle(){const{facet:n,config:t}=this;if(n.facet)return Ju(n.facet,"facet",t);const e={row:["top","bottom"],column:["left","right"]};for(const r of Uu)if(n[r]){const i=Iu("labelOrient",n[r],t,r);if(F(e[r],i))return Ju(n[r],r,t)}}assembleMarks(){const{child:n}=this,t=function(n){const t=[],e=yc(t);return n.children.forEach(t=>e(t,{source:n.name,name:null,transform:[]})),t}(this.component.data.facetRoot),e=n.assembleGroupEncodeEntry(!1),r=this.assembleLabelTitle()||n.assembleTitle(),i=n.assembleGroupStyle();return[Object.assign({name:this.getName("cell"),type:"group"},r?{title:r}:{},i?{style:i}:{},{from:{facet:this.assembleFacet()},sort:{field:B(Qn.map(n=>this.facetSortFields(n))),order:B(Qn.map(n=>this.facetSortOrder(n)))}},t.length>0?{data:t}:{},e?{encode:{update:e}}:{},n.assembleGroup(function(n,t){if(n.component.selection&&U(n.component.selection).length){const e=o(n.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:ia("mousemove","scope"),update:`isTuple(facet) ? facet : group(${e}).datum`}]})}return t}(this,[])))]}getMapping(){return this.facet}}function zc(n,t){for(const e of t){const t=e.data;if(!(n.name&&e.hasName()&&n.name!==e.dataName||n.format&&n.format.mesh&&t.format&&t.format.feature))if(wi(n)&&wi(t)){if(O(n.values,t.values))return e}else if(vi(n)&&vi(t)){if(n.url===t.url)return e}else if(yi(n)&&n.name===e.dataName)return e}return null}function Pc(n){let t=function(n,t){if(void 0===n.data&&n.parent)return n.parent.component.data.facetRoot?n.parent.component.data.facetRoot:n.parent.component.data.main;{if(null===n.data){const n=new rs([]);return t.push(n),n}const e=zc(n.data,t);if(e)return bi(n.data)||(e.data.format=z({},n.data.format,e.data.format)),!e.hasName()&&n.data.name&&(e.dataName=n.data.name),e;{const e=new rs(n.data);return t.push(e),e}}}(n,n.component.data.sources);const{outputNodes:e,outputNodeRefCounts:r}=n.component.data,i=n.parent?n.parent.component.data.ancestorParse.clone():new mc,l=n.data;bi(l)?(xi(l)?t=new us(t,l.sequence):ki(l)&&(t=new ls(t,l.graticule)),i.parseNothing=!0):l&&l.format&&null===l.format.parse&&(i.parseNothing=!0),t=gs.makeExplicit(t,n,i)||t,!Ma(n)||!ec(n)&&!uc(n)||n.parent&&uc(n.parent)||(t=new pc(t));const u=n.parent&&uc(n.parent);(ec(n)||rc(n))&&u&&(t=es.makeFromEncoding(t,n)||t),n.transforms.length>0&&(t=function(n,t,e){let r=0;for(const i of t.transforms){let l,u=void 0;if(qi(i))l=n=new Pu(n,i),u="derived";else if(Pi(i))l=n=gs.makeImplicitFromFilterTransform(n,i,e)||n,n=new ds(n,t,i.filter);else if(Hi(i))l=n=es.makeFromTransform(n,i,t),u="number";else if(Gi(i))u="date",void 0===e.getWithExplicit(i.field).value&&(n=new gs(n,{[i.field]:u}),e.set(i.field,u,!1)),l=n=da.makeFromTransform(n,i);else if(Yi(i))l=n=fs.makeFromTransform(n,i),u="number",Ma(t)&&(n=new pc(n));else if($i(i))l=n=vc.make(n,t,i,r++),u="derived";else if(Ii(i))l=n=new ws(n,i),u="number";else if(Li(i))l=n=new ms(n,i),u="number";else if(Vi(i))l=n=vs.makeFromTransform(n,i),u="derived";else if(Ji(i))l=n=new fc(n,i),u="derived";else if(Ui(i))l=n=new cc(n,i),u="derived";else if(Ri(i))n=new wc(n,i);else{if(!Wi(i)){jt(bt.invalidTransformIgnored(i));continue}l=n=gc.makeFromTransform(n,i),u="derived"}if(l&&void 0!==u)for(const n of l.producedFields())e.set(n,u,!1)}return n}(t,n,i)),t=gs.makeImplicitFromEncoding(t,n,i)||t,ec(n)&&(t=hc.parseAll(t,n),t=dc.parseAll(t,n)),(ec(n)||rc(n))&&(u||(t=es.makeFromEncoding(t,n)||t),t=da.makeFromEncoding(t,n)||t,t=Pu.parseAllForSortIndex(t,n));const a=n.getName(Oi),o=new Tl(t,a,Oi,r);if(e[a]=o,t=o,ec(n)){const e=fs.makeFromEncoding(t,n);e&&(t=e,Ma(n)&&(t=new pc(t))),t=gc.makeFromEncoding(t,n)||t,t=vs.makeFromEncoding(t,n)||t}ec(n)&&(t=sc.make(t,n)||t);const s=n.getName(ji),c=new Tl(t,s,ji,r);e[s]=c,t=c;let f=null;if(rc(n)){const r=n.getName("facet");t=function(n,t){const{row:e,column:r}=t;if(e&&r){let t=null;for(const i of[e,r])if(dl(i.sort)){const{field:e,op:r=hl}=i.sort;n=t=new ms(n,{joinaggregate:[{op:r,field:e,as:Nc(i,i.sort,{forAs:!0})}],groupby:[ie(i)]})}return t}return null}(t=Pu.parseAllForSortIndex(t,n),n.facet)||t,f=new hs(t,n,r,c.getSource()),e[r]=f,t=f}return Object.assign({},n.component.data,{outputNodes:e,outputNodeRefCounts:r,raw:o,main:c,facetRoot:f,ancestorParse:i})}class $c extends ac{constructor(n,t,e,r,i,l,u){super(n,t,e,r,i,l,u)}parseData(){this.component.data=Pc(this),this.children.forEach(n=>{n.parseData()})}parseSelections(){this.component.selection={};for(const n of this.children)n.parseSelections(),U(n.component.selection).forEach(t=>{this.component.selection[t]=n.component.selection[t]})}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){for(const n of this.children)n.parseAxesAndHeaders()}assembleSelectionTopLevelSignals(n){return this.children.reduce((n,t)=>t.assembleSelectionTopLevelSignals(n),n)}assembleSignals(){return this.children.forEach(n=>n.assembleSignals()),[]}assembleLayoutSignals(){return this.children.reduce((n,t)=>[...n,...t.assembleLayoutSignals()],na(this))}assembleSelectionData(n){return this.children.reduce((n,t)=>t.assembleSelectionData(n),n)}assembleMarks(){return this.children.map(n=>{const t=n.assembleTitle(),e=n.assembleGroupStyle(),r=n.assembleGroupEncodeEntry(!1);return Object.assign({type:"group",name:n.getName("group")},t?{title:t}:{},e?{style:e}:{},r?{encode:{update:r}}:{},n.assembleGroup())})}}class Rc extends $c{constructor(n,t,e,r,i){super(n,"concat",t,e,i,r,n.resolve),n.resolve&&n.resolve.axis&&("shared"===n.resolve.axis.x||"shared"===n.resolve.axis.y)&&jt(bt.CONCAT_CANNOT_SHARE_AXIS),this.concatType=Ir(n)?"vconcat":Lr(n)?"hconcat":"concat",this.children=this.getChildren(n).map((n,t)=>ef(n,this,this.getName("concat_"+t),void 0,r,i,!1))}getChildren(n){return Ir(n)?n.vconcat:Lr(n)?n.hconcat:n.concat}parseLayoutSize(){!function(n){Ec(n);const t=n.component.layoutSize,e=Ac[n.concatType];e&&t.setWithExplicit(e,Sc(n,e))}(this)}parseAxisGroup(){return null}assembleDefaultLayout(){return Object.assign({},"vconcat"===this.concatType?{columns:1}:{},{bounds:"full",align:"each"})}}class Ic extends Co{constructor(n={},t={},e=!1){super(),this.explicit=n,this.implicit=t,this.mainExtracted=e}clone(){return new Ic(A(this.explicit),A(this.implicit),this.mainExtracted)}hasAxisPart(n){return!("axis"!==n&&("grid"===n||"title"===n?!this.get(n):!1===(t=this.get(n))||null===t));var t}}const Lc={bottom:"top",top:"bottom",left:"right",right:"left"};function Uc(n,t){if(!n)return t.map(n=>n.clone());{if(n.length!==t.length)return;const e=n.length;for(let r=0;r<e;r++){const e=n[r],i=t[r];if(!!e!=!!i)return;if(e&&i){const t=e.getWithExplicit("orient"),l=i.getWithExplicit("orient");if(t.explicit&&l.explicit&&t.value!==l.value)return;n[r]=qc(e,i)}}}return n}function qc(n,t){for(const e of ll){const r=No(n.getWithExplicit(e),t.getWithExplicit(e),e,"axis",(n,t)=>{switch(e){case"title":return Ml(n,t);case"gridScale":return{explicit:n.explicit,value:Q(n.value,t.value)}}return To(n,t,e,"axis")});n.setWithExplicit(e,r)}return n}function Hc(n,t){const e="x"===t?"x2":"y2",r=n.fieldDef(t),i=n.fieldDef(e),l=r?r.title:void 0,u=i?i.title:void 0;return l&&u?Dl(l,u):l||u||(void 0!==l?l:void 0!==u?u:void 0)}function Wc(n,t){const e=t.axis(n),r=new Ic;ll.forEach(i=>{const l=function(n,t,e,r){const i=r.fieldDef(e),l=function(n,t,e,r){if(void 0!==t.labelAngle)return tn(t.labelAngle);{const t=gl("labelAngle",n.config,e,wl(e),n.getScaleComponent(e).get("type"));return void 0!==t?tn(t):e===Dn&&F([Yt,Wt],r.type)?270:void 0}}(r,t,e,i),u=Q(t.orient,wl(e));switch(n){case"scale":return r.scaleName(e);case"gridScale":return function(n,t){const e="x"===t?"y":"x";if(n.getScaleComponent(e))return n.scaleName(e)}(r,e);case"format":if(ye(i))return;return kl(i,t.format,r.config);case"formatType":if(ye(i))return;return t.formatType;case"grid":if(Oe(r.fieldDef(e).bin))return!1;{const n=r.getScaleComponent(e).get("type");return Q(t.grid,function(n,t){return!kr(n)&&!je(t.bin)}(n,i))}case"labelAlign":return Q(t.labelAlign,vl(l,u));case"labelAngle":return l;case"labelBaseline":return Q(t.labelBaseline,ml(l,u));case"labelFlush":return Q(t.labelFlush,function(n,t){if("x"===t&&F(["quantitative","temporal"],n.type))return!0}(i,e));case"labelOverlap":{const n=r.getScaleComponent(e).get("type");return Q(t.labelOverlap,function(n,t){if("nominal"!==n.type)return"log"!==t||"greedy"}(i,n))}case"orient":return u;case"tickCount":{const n=r.getScaleComponent(e).get("type"),l="x"===e?"width":"y"===e?"height":void 0,u=l?r.getSizeSignalRef(l):void 0;return Q(t.tickCount,function({fieldDef:n,scaleType:t,size:e}){if(!kr(t)&&"log"!==t&&!F(["month","hours","day","quarter"],n.timeUnit))return je(n.bin)?{signal:`ceil(${e.signal}/10)`}:{signal:`ceil(${e.signal}/40)`}}({fieldDef:i,scaleType:n,size:u}))}case"title":{const n="x"===e?"x2":"y2",l=r.fieldDef(n);return Q(t.title,Hc(r,e),Cl([Jt(i)],l?[Jt(l)]:[]))}case"values":return function(n,t,e){const r=n.values;if(r)return xe(e,r)}(t,0,i)}return rl[n]?t[n]:void 0}(i,e,n,t);if(void 0!==l){const u=function(n,t,e,r,i){switch(t){case"titleAngle":case"labelAngle":return n===tn(e[t]);case"values":return!!e.values;case"encode":return!!e.encoding||!!e.labelAngle;case"title":if(n===Hc(r,i))return!0}return n===e[t]}(l,i,e,t,n),a=gl(i,t.config,n,r.get("orient"),t.getScaleComponent(n).get("type"));u||void 0===a?r.set(i,l,u):F(["grid","orient"],i)&&a&&r.set(i,a,!1)}});const i=e.encoding||{},l=nl.reduce((e,l)=>{if(!r.hasAxisPart(l))return e;const u=Ao(i[l]||{},t),a="labels"===l?function(n,t,e){const r=n.fieldDef(t)||("x"===t?n.fieldDef("x2"):"y"===t?n.fieldDef("y2"):void 0),i=n.axis(t),l=n.config;let u={};if(ye(r)){const e=n.getScaleComponent(t).get("type")===hr.UTC,a=El("datum.value",r.timeUnit,i.format,l.axis.shortTimeLabels,null,e);a&&(u.text={signal:a})}return u=Object.assign({},u,e),0===U(u).length?void 0:u}(t,n,u):u;return void 0!==a&&U(a).length>0&&(e[l]={update:a}),e},{});return U(l).length>0&&r.set("encode",l,!!e.encoding||void 0!==e.labelAngle),r}function Gc(n,t,e){const{config:r,encoding:i,markDef:l}=n,u="x"===t?"x2":"y2",a="x"===t?"width":"height",o=i[t],s=i[u],c=n.getScaleComponent(t),f=c?c.get("type"):void 0,h=n.scaleName(t),d=l.orient,p=i[a]||i.size||l[a]||l.size||bl("size",l,r,{vgChannel:a}),g="x"===t?"vertical"===d:"horizontal"===d;return!Zt(o)||!je(o.bin)&&!Oe(o.bin)||p||kr(f)?(Zt(o)&&kr(f)||g)&&!s?Zt(o)&&f===hr.BAND?function(n,t,e,r){const i=e.scaleName(t),l="x"===t?"width":"height";if(e.encoding.size||void 0!==e.markDef.size||r&&void 0!==r.value)if(e.markDef.orient){const u={[t+"c"]:eo(n,i,{},{band:.5})};if(pe(e.encoding.size))return Object.assign({},u,yo("size",e,{vgChannel:l}));if(te(e.encoding.size))return Object.assign({},u,yo("size",e,{vgChannel:l}));if(void 0!==e.markDef.size)return Object.assign({},u,{[l]:{value:e.markDef.size}});if(r&&void 0!==r.value)return Object.assign({},u,{[l]:r})}else jt(bt.cannotApplySizeToNonOrientedMark(e.markDef.type));return{[t]:eo(n,i,{binSuffix:"range"},{}),[l]:r||ro(i)}}(o,t,n,Yc(e,l,a,h,c,r)):function(n,t,e,r){const i="x"===n?"xc":"yc",l="x"===n?"width":"height";return Object.assign({},ko(n,t,e,i),yo("size",t,{defaultRef:r,vgChannel:l}))}(t,n,so(n[a]),Yc(e,l,a,h,c,r)):Object.assign({},ko(t,n,"zeroOrMax"),jo(n,"zeroOrMin",u)):function({fieldDef:n,fieldDef2:t,channel:e,scaleName:r,mark:i,spacing:l=0,reverse:u}){const a={x:u?l:0,x2:u?0:l,y:u?0:l,y2:u?l:0},o=e===Dn?Fn:Tn;return je(n.bin)?{[o]:to({channel:e,fieldDef:n,scaleName:r,mark:i,side:"start",offset:a[e+"2"]}),[e]:to({channel:e,fieldDef:n,scaleName:r,mark:i,side:"end",offset:a[e]})}:Oe(n.bin)&&Zt(t)?{[o]:eo(n,r,{},{offset:a[e+"2"]}),[e]:eo(t,r,{},{offset:a[e]})}:void jt(bt.channelRequiredForBinned(o))}({fieldDef:o,fieldDef2:s,channel:t,mark:e,scaleName:h,spacing:Q(l.binSpacing,r[e].binSpacing),reverse:c.get("reverse")})}function Yc(n,t,e,r,i,l){const u=Q(t[e],t.size,bl("size",t,l,{vgChannel:e}));if(void 0!==u)return{value:u};if(i){const t=i.get("type");if("point"!==t&&"band"!==t)return{value:l[n].continuousBandSize};if(void 0!==l[n].discreteBandSize)return{value:l[n].discreteBandSize};if(t!==hr.POINT)return ro(r);{const n=i.get("range");if(Ki(n)&&p(n.step))return{value:n.step-1};jt(bt.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}}return{value:Q(l[n].discreteBandSize,l.scale.rangeStep?l.scale.rangeStep-1:void 0,20)}}function Vc(n,t){const{config:e,width:r,height:i}=n;return Object.assign({},po(n,{size:"include",orient:"ignore"}),ko("x",n,so(r)),ko("y",n,so(i)),yo("size",n),function(n,t,e){return e?{shape:{value:e}}:yo("shape",n)}(n,0,t))}function Jc(n){const{config:t,markDef:e}=n,{orient:r}=e,i="horizontal"===r?"width":"height",l=n.getScaleComponent("horizontal"===r?"x":"y"),u=Q(e[i],e.size,bl("size",e,t,{vgChannel:i}),t.tick.bandSize);if(void 0!==u)return u;{const n=l?l.get("range"):void 0,e=n&&Ki(n)?n.step:t.scale.rangeStep;if("number"!=typeof e)throw new Error("Function does not handle non-numeric rangeStep");return 3*e/4}}const Xc={area:{vgMark:"area",encodeEntry:n=>Object.assign({},po(n,{size:"ignore",orient:"include"}),ko("x",n,"zeroOrMin"),ko("y",n,"zeroOrMin"),jo(n,"zeroOrMin","horizontal"===n.markDef.orient?"x2":"y2"),wo(n))},bar:{vgMark:"rect",encodeEntry:n=>Object.assign({},po(n,{size:"ignore",orient:"ignore"}),Gc(n,"x","bar"),Gc(n,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:n=>Vc(n,"circle")},geoshape:{vgMark:"shape",encodeEntry:n=>Object.assign({},po(n,{size:"ignore",orient:"ignore"})),postEncodingTransform:n=>{const{encoding:t}=n,e=t.shape;return[Object.assign({type:"geoshape",projection:n.projectionName()},e&&Zt(e)&&e.type===Vt?{field:ie(e,{expr:"datum"})}:{})]}},line:{vgMark:"line",encodeEntry:n=>{const{width:t,height:e}=n;return Object.assign({},po(n,{size:"ignore",orient:"ignore"}),ko("x",n,so(t)),ko("y",n,so(e)),yo("size",n,{vgChannel:"strokeWidth"}),wo(n))}},point:{vgMark:"symbol",encodeEntry:n=>Vc(n)},rect:{vgMark:"rect",encodeEntry:n=>Object.assign({},po(n,{size:"ignore",orient:"ignore"}),Gc(n,"x","rect"),Gc(n,"y","rect"))},rule:{vgMark:"rule",encodeEntry:n=>{const{markDef:t,width:e,height:r}=n,i=t.orient;return n.encoding.x||n.encoding.y||n.encoding.latitude||n.encoding.longitude?Object.assign({},po(n,{size:"ignore",orient:"ignore"}),ko("x",n,"horizontal"===i?"zeroOrMin":so(e)),ko("y",n,"vertical"===i?"zeroOrMin":so(r)),"vertical"!==i?jo(n,"zeroOrMax","x2"):{},"horizontal"!==i?jo(n,"zeroOrMax","y2"):{},yo("size",n,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:n=>Vc(n,"square")},text:{vgMark:"text",encodeEntry:n=>{const{config:t,encoding:e,width:r,height:i}=n;return Object.assign({},po(n,{size:"ignore",orient:"ignore"}),ko("x",n,so(r)),ko("y",n,so(i)),_o(n),yo("size",n,{vgChannel:"fontSize"}),mo("align",function(n,t,e){if(void 0===(n.align||bl("align",n,e)))return"center"}(n.markDef,0,t)),mo("baseline",function(n,t,e){if(void 0===(n.baseline||bl("baseline",n,e)))return"middle"}(n.markDef,0,t)))}},tick:{vgMark:"rect",encodeEntry:n=>{const{config:t,markDef:e,width:r,height:i}=n,l=e.orient,u="horizontal"===l?"width":"height",a="horizontal"===l?"height":"width";return Object.assign({},po(n,{size:"ignore",orient:"ignore"}),ko("x",n,so(r),"xc"),ko("y",n,so(i),"yc"),yo("size",n,{defaultValue:Jc(n),vgChannel:u}),{[a]:{value:Q(e.thickness,t.tick.thickness)}})}},trail:{vgMark:"trail",encodeEntry:n=>{const{width:t,height:e}=n;return Object.assign({},po(n,{size:"include",orient:"ignore"}),ko("x",n,so(t)),ko("y",n,so(e)),yo("size",n),wo(n))}}},Kc="faceted_path_";function Zc(n,t={fromPrefix:""}){const e=n.mark,r=Q(n.markDef.clip,function(n){const t=n.getScaleComponent("x"),e=n.getScaleComponent("y");return!!(t&&t.get("domainRaw")||e&&e.get("domainRaw"))||void 0}(n),function(n){const t=n.component.projection;return!(!t||t.isFit)||void 0}(n)),i=yl(n.markDef),u=n.encoding.key,a=function(n){const{encoding:t,stack:e,mark:r,markDef:i,config:u}=n,a=t.order;if(!(!l(a)&&te(a)&&M(a.value)||!a&&M(i.order)||M(bl("order",i,u)))){if((l(a)||Zt(a))&&!e)return Sl(a,{expr:"datum"});if(fn(r)){const e="horizontal"===i.orient?"y":"x",r=t[e];if(Zt(r)){const t=r.sort;return l(t)?{field:ie(r,{prefix:e,suffix:"sort_index",expr:"datum"})}:dl(t)?{field:ie({aggregate:Ce(n.encoding)?t.op:void 0,field:t.field},{expr:"datum"})}:{field:ie(r,{binSuffix:n.stack&&n.stack.impute?"mid":void 0,expr:"datum"})}}}}}(n),o=Xc[e].postEncodingTransform?Xc[e].postEncodingTransform(n):null;return[Object.assign({name:n.getName("marks"),type:Xc[e].vgMark},r?{clip:!0}:{},i?{style:i}:{},u?{key:{field:u.field}}:{},a?{sort:a}:{},{from:{data:t.fromPrefix+n.requestDataName(ji)},encode:{update:Xc[e].encodeEntry(n)}},o?{transform:o}:{})]}class Qc extends oc{constructor(n,t,e,r={},i,l,u){super(n,"unit",t,e,l,i,void 0,n.view),this.fit=u,this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[],this.initSize(Object.assign({},r,n.width?{width:n.width}:{},n.height?{height:n.height}:{}));const a=dn(n.mark)?n.mark.type:n.mark,o=this.encoding=Me(function(n,t){return Tc(n,t)}(n.encoding||{},i),a);this.markDef=function(n,t,e){const r=dn(n)?Object.assign({},n):{type:n},i=r.orient||bl("orient",r,e);return r.orient=function(n,t,e){switch(n){case ln:case on:case sn:case"text":case"rect":return}const{x:r,y:i,x2:l,y2:u}=t;switch(n){case"bar":if(Zt(r)&&Oe(r.bin))return"vertical";if(Zt(i)&&Oe(i.bin))return"horizontal";if(u||l){if(e)return e;if(!l&&Zt(r)&&r.type===Ht&&!je(r.bin))return"horizontal";if(!u&&Zt(i)&&i.type===Ht&&!je(i.bin))return"vertical"}case un:if(l&&u)return;case en:if(u)return Zt(i)&&Oe(i.bin)?"horizontal":"vertical";if(l)return Zt(r)&&Oe(r.bin)?"vertical":"horizontal";if(n===un){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case rn:case an:{const r=Zt(t.x)&&le(t.x),i=Zt(t.y)&&le(t.y);if(r&&!i)return"tick"!==n?"horizontal":"vertical";if(!r&&i)return"tick"!==n?"vertical":"horizontal";if(r&&i){const r=t.x,i=t.y,l=r.type===Gt,u=i.type===Gt;return l&&!u?"tick"!==n?"vertical":"horizontal":!l&&u?"tick"!==n?"horizontal":"vertical":!r.aggregate&&i.aggregate?"tick"!==n?"vertical":"horizontal":r.aggregate&&!i.aggregate?"tick"!==n?"horizontal":"vertical":e||"vertical"}return e||void 0}}return"vertical"}(r.type,t,i),void 0!==i&&i!==r.orient&&jt(bt.orientOverridden(r.orient,i)),void 0===Q(r.opacity,bl("opacity",r,e))&&(r.opacity=function(n,t){if(F([ln,an,on,sn],n)&&!Ce(t))return.7}(r.type,t)),void 0===r.filled&&(r.filled=function(n,t){const e=bl("filled",n,t),r=n.type;return Q(e,r!==ln&&r!==rn&&r!==un)}(r,e)),void 0===(r.cursor||bl("cursor",r,e))&&(r.cursor=function(n,t,e){return t.href||n.href||bl("href",n,e)?"pointer":n.cursor}(r,t,e)),r}(n.mark,o,l),this.stack=ri(a,o,this.config.stack),this.specifiedScales=this.initScales(a,o),this.specifiedAxes=this.initAxes(o),this.specifiedLegends=this.initLegend(o),this.specifiedProjection=n.projection,this.selection=n.selection}get hasProjection(){const{encoding:n}=this,t=this.mark===cn,e=n&&Jn.some(t=>Zt(n[t]));return t||e}scaleDomain(n){const t=this.specifiedScales[n];return t?t.domain:void 0}axis(n){return this.specifiedAxes[n]}legend(n){return this.specifiedLegends[n]}initScales(n,t){return gt.reduce((n,e)=>{let r,i;const l=t[e];return Zt(l)?(r=l,i=l.scale):Kt(l)&&(r=l.condition,i=l.condition.scale),r&&(n[e]=i||{}),n},{})}initAxes(n){return[Dn,Mn].reduce((t,e)=>{const r=n[e];if(Zt(r)||e===Dn&&Zt(n.x2)||e===Mn&&Zt(n.y2)){const n=Zt(r)?r.axis:null;null!==n&&(t[e]=Object.assign({},n))}return t},{})}initLegend(n){return dt.reduce((t,e)=>{const r=n[e];if(r){const n=Zt(r)?r.legend:Kt(r)?r.condition.legend:null;null!==n&&!1!==n&&function(n){switch(n){case $n:case Rn:case In:case Un:case Ln:case qn:case Gn:return!0;case Hn:case Wn:return!1}}(e)&&(t[e]=Object.assign({},n))}return t},{})}parseData(){this.component.data=Pc(this)}parseLayoutSize(){!function(n){const t=n.component.layoutSize;if(!t.explicit.width){const e=Cc(n,"width");t.set("width",e,!1)}if(!t.explicit.height){const e=Cc(n,"height");t.set("height",e,!1)}}(this)}parseSelections(){this.component.selection=function(n,t){const e={},r=n.config.selection;t&&(t=A(t));for(let i in t){if(!t.hasOwnProperty(i))continue;const l=t[i],u=wn(r[l.type],["fields","encodings"]);for(const n in u)"encodings"===n&&l.fields||"fields"===n&&l.encodings||("mark"===n&&(l[n]=Object.assign({},u[n],l[n])),void 0!==l[n]&&!0!==l[n]||(l[n]=u[n]||l[n]));const o=e[i=W(i)]=Object.assign({},l,{name:i,events:a(l.on)?ia(l.on,"scope"):l.on});Wa(o,t=>{t.parse&&t.parse(n,l,o)})}return e}(this,this.selection)}parseMarkGroup(){this.component.mark=function(n){return F([rn,en,"trail"],n.mark)?function(n){const t=Be(n.mark,n.encoding),e=Zc(n,{fromPrefix:t.length>0?Kc:""});return t.length>0?[{name:n.getName("pathgroup"),type:"group",from:{facet:{name:Kc+n.requestDataName(ji),data:n.requestDataName(ji),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:e}]:e}(n):Zc(n)}(this)}parseAxesAndHeaders(){var n;this.component.axes=(n=this,ft.reduce((t,e)=>(n.component.scales[e]&&n.axis(e)&&(t[e]=[Wc(e,n)]),t),{}))}assembleSelectionTopLevelSignals(n){return function(n,t){let e=!1;return Ca(n,(r,i)=>{const l=r.name,u=o(l+ja);t.filter(n=>n.name===l).length||t.push({name:r.name,update:`${Ea}(${u}`+("global"===r.resolve?")":`, ${o(r.resolve)})`)}),e=!0,i.topLevelSignals&&(t=i.topLevelSignals(n,r,t)),Wa(r,e=>{e.topLevelSignals&&(t=e.topLevelSignals(n,r,t))})}),e&&(t.filter(n=>"unit"===n.name).length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})),t}(this,n)}assembleSignals(){return[...al(this),...(n=this,t=[],Ca(n,(e,r)=>{const i=e.name;let l=r.modifyExpr(n,e);t.push(...r.signals(n,e)),Wa(e,r=>{r.signals&&(t=r.signals(n,e,t)),r.modifyExpr&&(l=r.modifyExpr(n,e,l))}),t.push({name:i+"_modify",update:`modify(${o(e.name+ja)}, ${l})`})}),t)];var n,t}assembleSelectionData(n){return function(n,t){return Ca(n,e=>{const r={name:e.name+ja};if(e.init){const t=e.project.items.map(n=>wn(n,["signals"])),i=e.init.map(n=>function n(t){return l(t)?t.map(t=>n(t)):Ot(t)?Dt(t,!1,!0):t}(n));r.values="interval"===e.type?[{unit:Da(n),fields:t,values:i}]:i.map(e=>({unit:Da(n),fields:t,values:e}))}t.filter(n=>n.name===e.name+ja).length||t.push(r)}),t}(this,n)}assembleLayout(){return null}assembleLayoutSignals(){return na(this)}assembleMarks(){let n=this.component.mark||[];return this.parent&&uc(this.parent)||(n=Ya(this,n)),n.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(n){return Se(this.encoding,n)}fieldDef(n){return pe(this.encoding[n])}}class nf extends ac{constructor(n,t,e,r,i,l,u){super(n,"layer",t,e,l,i,n.resolve,n.view);const a=Object.assign({},r,n.width?{width:n.width}:{},n.height?{height:n.height}:{});this.initSize(a),this.children=n.layer.map((n,t)=>{if(Zr(n))return new nf(n,this,this.getName("layer_"+t),a,i,l,u);if(mn(n))return new Qc(n,this,this.getName("layer_"+t),a,i,l,u);throw new Error(bt.INVALID_SPEC)})}parseData(){this.component.data=Pc(this);for(const n of this.children)n.parseData()}parseLayoutSize(){jc(this)}parseSelections(){this.component.selection={};for(const n of this.children)n.parseSelections(),U(n.component.selection).forEach(t=>{this.component.selection[t]=n.component.selection[t]})}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){!function(n){const{axes:t,resolve:e}=n.component,r={top:0,bottom:0,right:0,left:0};for(const r of n.children){r.parseAxesAndHeaders();for(const i of U(r.component.axes))e.axis[i]=So(n.component.resolve,i),"shared"===e.axis[i]&&(t[i]=Uc(t[i],r.component.axes[i]),t[i]||(e.axis[i]="independent",delete t[i]))}for(const i of[Dn,Mn]){for(const l of n.children)if(l.component.axes[i]){if("independent"===e.axis[i]){t[i]=(t[i]||[]).concat(l.component.axes[i]);for(const n of l.component.axes[i]){const{value:t,explicit:e}=n.getWithExplicit("orient");if(r[t]>0&&!e){const e=Lc[t];r[t]>r[e]&&n.set("orient",e,!1)}r[t]++}}delete l.component.axes[i]}if("independent"===e.axis[i]&&t[i]&&t[i].length>1)for(const n of t[i])n.get("grid")&&!n.explicit.grid&&(n.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(n){return this.children.reduce((n,t)=>t.assembleSelectionTopLevelSignals(n),n)}assembleSignals(){return this.children.reduce((n,t)=>n.concat(t.assembleSignals()),al(this))}assembleLayoutSignals(){return this.children.reduce((n,t)=>n.concat(t.assembleLayoutSignals()),na(this))}assembleSelectionData(n){return this.children.reduce((n,t)=>t.assembleSelectionData(n),n)}assembleTitle(){let n=super.assembleTitle();if(n)return n;for(const t of this.children)if(n=t.assembleTitle())return n}assembleLayout(){return null}assembleMarks(){return function(n,t){for(const e of n.children)ec(e)&&(t=Ya(e,t));return t}(this,B(this.children.map(n=>n.assembleMarks())))}assembleLegends(){return this.children.reduce((n,t)=>n.concat(t.assembleLegends()),Jo(this))}}class tf extends $c{constructor(n,t,e,r,i){super(n,"repeat",t,e,i,r,n.resolve),n.resolve&&n.resolve.axis&&("shared"===n.resolve.axis.x||"shared"===n.resolve.axis.y)&&jt(bt.REPEAT_CANNOT_SHARE_AXIS),this.repeat=n.repeat,this.children=this._initChildren(n,this.repeat,r,i)}_initChildren(n,t,e,r){const i=[],u=!l(t)&&t.row||[e?e.row:null],a=!l(t)&&t.column||[e?e.column:null],o=l(t)&&t||[e?e.repeat:null];for(const t of o)for(const e of u)for(const l of a){const u=(t?"__repeat_repeat_"+t:"")+(e?"__repeat_row_"+e:"")+(l?"__repeat_column_"+l:""),a={repeat:t,row:e,column:l};i.push(ef(n.spec,this,this.getName("child"+u),void 0,a,r,!1))}return i}parseLayoutSize(){Oc(this)}assembleDefaultLayout(){const{repeat:n}=this,t=l(n)?void 0:n.column?n.column.length:1;return Object.assign({},t?{columns:t}:{},{bounds:"full",align:"all"})}}function ef(n,t,e,r,i,l,u){if(Ft(n))return new Bc(n,t,e,i,l);if(Zr(n))return new nf(n,t,e,r,i,l,u);if(mn(n))return new Qc(n,t,e,r,i,l,u);if(Ur(n))return new tf(n,t,e,i,l);if(function(n){return Ir(n)||Lr(n)||Rr(n)}(n))return new Rc(n,t,e,i,l);throw new Error(bt.INVALID_SPEC)}const rf=new class extends Qr{mapUnit(n,{config:t}){if(n.encoding){const{encoding:e,transform:r}=n,{bins:i,timeUnits:l,aggregate:u,groupby:a,encoding:o}=De(e,t),s=[...r||[],...i,...l,...u.length?[{aggregate:u,groupby:a}]:[]];return Object.assign({},n,s.length>0?{transform:s}:{},{encoding:o})}return n}};n.compile=function(n,t={}){var e;t.logger&&(e=t.logger,kt=e),t.fieldTitle&&oe(t.fieldTitle);try{const e=Gr(z({},t.config,n.config)),r=hi(n,e),i=function(n,t,e=!0){const r=Object.assign({type:"pad"},pi(t),pi(n));return"fit"===r.type&&(e||(jt(bt.FIT_NON_SINGLE),r.type="pad")),r}(n.autosize,e.autosize,Zr(r)||mn(r)),l=ef(r,null,"",void 0,void 0,e,"fit"===i.type);return l.parse(),function(n,t){is(n.sources);let e=0,r=0;for(let r=0;r<5&&Ns(n,t);r++)e++;n.sources.map(js);for(let e=0;e<5&&Ns(n,t);e++)r++;is(n.sources),5===Math.max(e,r)&&jt("Maximum optimization runs(5) reached.")}(l.component.data,l),function(n,t,e={},r){const i=n.config?Xr(n.config):void 0,l=[].concat(n.assembleSelectionData([]),function(n,t){const e=[],r=yc(e);let i=0;n.sources.forEach(n=>{n.hasName()||(n.dataName="source_"+i++);const t=n.assemble();r(n,t)}),e.forEach(n=>{0===n.transform.length&&delete n.transform});let l=0;for(const[n,t]of e.entries())0!==(t.transform||[]).length||t.source||e.splice(l++,0,e.splice(n,1)[0]);for(const t of e)for(const e of t.transform||[])"lookup"===e.type&&(e.from=n.outputNodes[e.from].getSource());for(const n of e)n.name in t&&(n.values=t[n.name]);return e}(n.component.data,e)),u=n.assembleProjections(),a=n.assembleTitle(),o=n.assembleGroupStyle(),s=n.assembleGroupEncodeEntry(!0);let c=n.assembleLayoutSignals();return c=c.filter(n=>"width"!==n.name&&"height"!==n.name||void 0===n.value||(t[n.name]=+n.value,!1)),{spec:Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},n.description?{description:n.description}:{},t,a?{title:a}:{},o?{style:o}:{},s?{encode:{update:s}}:{},{data:l},u.length>0?{projections:u}:{},n.assembleGroup([...c,...n.assembleSelectionTopLevelSignals([])]),i?{config:i}:{},r?{usermeta:r}:{})}}(l,function(n,t,e){return Object.assign({autosize:1===U(e).length&&e.type?e.type:e},mi(t),mi(n))}(n,e,i),n.datasets,n.usermeta)}finally{t.logger&&(kt=xt),t.fieldTitle&&oe(ue)}},n.extractTransforms=function(n,t){return rf.map(n,{config:t})},n.normalize=hi,n.version="3.4.0",Object.defineProperty(n,"__esModule",{value:!0})}(t),n.exports=function(n,t){"use strict";var e="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),r.hasOwnProperty(t)?{space:r[t],local:n}:n}function l(n){var t=i(n);return(t.local?function(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}:function(n){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===e&&t.documentElement.namespaceURI===e?t.createElement(n):t.createElementNS(r,n)}})(t)}function u(){}function a(n){return null==n?u:function(){return this.querySelector(n)}}function o(){return[]}function s(n){return new Array(n.length)}function c(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function f(n,t,e,r,i,l){for(var u,a=0,o=t.length,s=l.length;a<s;++a)(u=t[a])?(u.__data__=l[a],r[a]=u):e[a]=new c(n,l[a]);for(;a<o;++a)(u=t[a])&&(i[a]=u)}function h(n,t,e,r,i,l,u){var a,o,s,f={},h=t.length,d=l.length,p=new Array(h);for(a=0;a<h;++a)(o=t[a])&&(p[a]=s="$"+u.call(o,o.__data__,a,t),s in f?i[a]=o:f[s]=o);for(a=0;a<d;++a)(o=f[s="$"+u.call(n,l[a],a,l)])?(r[a]=o,o.__data__=l[a],f[s]=null):e[a]=new c(n,l[a]);for(a=0;a<h;++a)(o=t[a])&&f[p[a]]===o&&(i[a]=o)}function d(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function p(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function g(n){return n.trim().split(/^|\s+/)}function m(n){return n.classList||new v(n)}function v(n){this._node=n,this._names=g(n.getAttribute("class")||"")}function w(n,t){for(var e=m(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function y(n,t){for(var e=m(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function b(){this.textContent=""}function x(){this.innerHTML=""}function _(){this.nextSibling&&this.parentNode.appendChild(this)}function k(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function j(){return null}function O(){var n=this.parentNode;n&&n.removeChild(this)}function A(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function E(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}c.prototype={constructor:c,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}},v.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var S={},C=null;function D(n,t,e){return n=M(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function M(n,t,e){return function(r){var i=C;C=r;try{n.call(this,this.__data__,t,e)}finally{C=i}}}function F(n){return function(){var t=this.__on;if(t){for(var e,r=0,i=-1,l=t.length;r<l;++r)e=t[r],n.type&&e.type!==n.type||e.name!==n.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function T(n,t,e){var r=S.hasOwnProperty(n.type)?D:M;return function(i,l,u){var a,o=this.__on,s=r(t,l,u);if(o)for(var c=0,f=o.length;c<f;++c)if((a=o[c]).type===n.type&&a.name===n.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=t);this.addEventListener(n.type,s,e),a={type:n.type,name:n.name,value:t,listener:s,capture:e},o?o.push(a):this.__on=[a]}}function N(n,t,e){var r=p(n),i=r.CustomEvent;"function"==typeof i?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(S={mouseenter:"mouseover",mouseleave:"mouseout"}));var B=[null];function z(n,t){this._groups=n,this._parents=t}function P(){return new z([[document.documentElement]],B)}function $(n,t,e,r){return new(e||(e=Promise))((function(i,l){function u(n){try{o(r.next(n))}catch(n){l(n)}}function a(n){try{o(r.throw(n))}catch(n){l(n)}}function o(n){n.done?i(n.value):new e((function(t){t(n.value)})).then(u,a)}o((r=r.apply(n,t||[])).next())}))}z.prototype=P.prototype={constructor:z,select:function(n){"function"!=typeof n&&(n=a(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var l,u,o=t[i],s=o.length,c=r[i]=new Array(s),f=0;f<s;++f)(l=o[f])&&(u=n.call(l,l.__data__,f,o))&&("__data__"in l&&(u.__data__=l.__data__),c[f]=u);return new z(r,this._parents)},selectAll:function(n){var t;"function"!=typeof n&&(n=null==(t=n)?o:function(){return this.querySelectorAll(t)});for(var e=this._groups,r=e.length,i=[],l=[],u=0;u<r;++u)for(var a,s=e[u],c=s.length,f=0;f<c;++f)(a=s[f])&&(i.push(n.call(a,a.__data__,f,s)),l.push(a));return new z(i,l)},filter:function(n){var t;"function"!=typeof n&&(t=n,n=function(){return this.matches(t)});for(var e=this._groups,r=e.length,i=new Array(r),l=0;l<r;++l)for(var u,a=e[l],o=a.length,s=i[l]=[],c=0;c<o;++c)(u=a[c])&&n.call(u,u.__data__,c,a)&&s.push(u);return new z(i,this._parents)},data:function(n,t){if(!n)return m=new Array(this.size()),c=-1,this.each((function(n){m[++c]=n})),m;var e,r=t?h:f,i=this._parents,l=this._groups;"function"!=typeof n&&(e=n,n=function(){return e});for(var u=l.length,a=new Array(u),o=new Array(u),s=new Array(u),c=0;c<u;++c){var d=i[c],p=l[c],g=p.length,m=n.call(d,d&&d.__data__,c,i),v=m.length,w=o[c]=new Array(v),y=a[c]=new Array(v);r(d,p,w,y,s[c]=new Array(g),m,t);for(var b,x,_=0,k=0;_<v;++_)if(b=w[_]){for(_>=k&&(k=_+1);!(x=y[k])&&++k<v;);b._next=x||null}}return(a=new z(a,i))._enter=o,a._exit=s,a},enter:function(){return new z(this._enter||this._groups.map(s),this._parents)},exit:function(){return new z(this._exit||this._groups.map(s),this._parents)},join:function(n,t,e){var r=this.enter(),i=this,l=this.exit();return r="function"==typeof n?n(r):r.append(n+""),null!=t&&(i=t(i)),null==e?l.remove():e(l),r&&i?r.merge(i).order():i},merge:function(n){for(var t=this._groups,e=n._groups,r=t.length,i=e.length,l=Math.min(r,i),u=new Array(r),a=0;a<l;++a)for(var o,s=t[a],c=e[a],f=s.length,h=u[a]=new Array(f),d=0;d<f;++d)(o=s[d]||c[d])&&(h[d]=o);for(;a<r;++a)u[a]=t[a];return new z(u,this._parents)},order:function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r,i=n[t],l=i.length-1,u=i[l];--l>=0;)(r=i[l])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=d);for(var e=this._groups,r=e.length,i=new Array(r),l=0;l<r;++l){for(var u,a=e[l],o=a.length,s=i[l]=new Array(o),c=0;c<o;++c)(u=a[c])&&(s[c]=u);s.sort(t)}return new z(i,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),t=-1;return this.each((function(){n[++t]=this})),n},node:function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,l=r.length;i<l;++i){var u=r[i];if(u)return u}return null},size:function(){var n=0;return this.each((function(){++n})),n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i,l=t[e],u=0,a=l.length;u<a;++u)(i=l[u])&&n.call(i,i.__data__,u,l);return this},attr:function(n,t){var e=i(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==t?e.local?function(n){return function(){this.removeAttributeNS(n.space,n.local)}}:function(n){return function(){this.removeAttribute(n)}}:"function"==typeof t?e.local?function(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}:function(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}:e.local?function(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}:function(n,t){return function(){this.setAttribute(n,t)}})(e,t))},style:function(n,t,e){return arguments.length>1?this.each((null==t?function(n){return function(){this.style.removeProperty(n)}}:"function"==typeof t?function(n,t,e){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}:function(n,t,e){return function(){this.style.setProperty(n,t,e)}})(n,t,null==e?"":e)):function(n,t){return n.style.getPropertyValue(t)||p(n).getComputedStyle(n,null).getPropertyValue(t)}(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?function(n){return function(){delete this[n]}}:"function"==typeof t?function(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}:function(n,t){return function(){this[n]=t}})(n,t)):this.node()[n]},classed:function(n,t){var e=g(n+"");if(arguments.length<2){for(var r=m(this.node()),i=-1,l=e.length;++i<l;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof t?function(n,t){return function(){(t.apply(this,arguments)?w:y)(this,n)}}:t?function(n){return function(){w(this,n)}}:function(n){return function(){y(this,n)}})(e,t))},text:function(n){return arguments.length?this.each(null==n?b:("function"==typeof n?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(n){return function(){this.textContent=n}})(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?x:("function"==typeof n?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(n){return function(){this.innerHTML=n}})(n)):this.node().innerHTML},raise:function(){return this.each(_)},lower:function(){return this.each(k)},append:function(n){var t="function"==typeof n?n:l(n);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(n,t){var e="function"==typeof n?n:l(n),r=null==t?j:"function"==typeof t?t:a(t);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(O)},clone:function(n){return this.select(n?E:A)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,e){var r,i,l=function(n){return n.trim().split(/^|\s+/).map((function(n){var t="",e=n.indexOf(".");return e>=0&&(t=n.slice(e+1),n=n.slice(0,e)),{type:n,name:t}}))}(n+""),u=l.length;if(!(arguments.length<2)){for(a=t?T:F,null==e&&(e=!1),r=0;r<u;++r)this.each(a(l[r],t,e));return this}var a=this.node().__on;if(a)for(var o,s=0,c=a.length;s<c;++s)for(r=0,o=a[s];r<u;++r)if((i=l[r]).type===o.type&&i.name===o.name)return o.value},dispatch:function(n,t){return this.each(("function"==typeof t?function(n,t){return function(){return N(this,n,t.apply(this,arguments))}}:function(n,t){return function(){return N(this,n,t)}})(n,t))}};var R=/("(?:[^\\"]|\\.)*")|[:,]/g,I=function(n,t){var e,r,i;return t=t||{},e=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=""===e?1/0:void 0===t.maxLength?80:t.maxLength,i=t.replacer,function n(t,l,u){var a,o,s,c,f,h,d,p,g,m,v,w;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(v=JSON.stringify(t,i)))return v;if(d=r-l.length-u,v.length<=d&&(g=v.replace(R,(function(n,t){return t||n+" "}))).length<=d)return g;if(null!=i&&(t=JSON.parse(v),i=void 0),"object"==typeof t&&null!==t){if(p=l+e,s=[],o=0,Array.isArray(t))for(m="[",a="]",d=t.length;o<d;o++)s.push(n(t[o],p,o===d-1?0:1)||"null");else for(m="{",a="}",d=(h=Object.keys(t)).length;o<d;o++)c=h[o],f=JSON.stringify(c)+": ",void 0!==(w=n(t[c],p,f.length+(o===d-1?0:1)))&&s.push(f+w);if(s.length>0)return[m,e+s.join(",\n"+p),a].join("\n"+l)}return v}(n,"",0)};function L(n,t){return n(t={exports:{}},t.exports),t.exports}var U,q=L((function(n,t){var e;t=n.exports=G,e="object"==typeof lG&&lG.env&&lG.env.NODE_DEBUG&&/\bsemver\b/i.test(lG.env.NODE_DEBUG)?function(){var n=Array.prototype.slice.call(arguments,0);n.unshift("SEMVER"),console.log.apply(console,n)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],l=t.src=[],u=0,a=u++;l[a]="0|[1-9]\\d*";var o=u++;l[o]="[0-9]+";var s=u++;l[s]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var c=u++;l[c]="("+l[a]+")\\.("+l[a]+")\\.("+l[a]+")";var f=u++;l[f]="("+l[o]+")\\.("+l[o]+")\\.("+l[o]+")";var h=u++;l[h]="(?:"+l[a]+"|"+l[s]+")";var d=u++;l[d]="(?:"+l[o]+"|"+l[s]+")";var p=u++;l[p]="(?:-("+l[h]+"(?:\\."+l[h]+")*))";var g=u++;l[g]="(?:-?("+l[d]+"(?:\\."+l[d]+")*))";var m=u++;l[m]="[0-9A-Za-z-]+";var v=u++;l[v]="(?:\\+("+l[m]+"(?:\\."+l[m]+")*))";var w=u++,y="v?"+l[c]+l[p]+"?"+l[v]+"?";l[w]="^"+y+"$";var b="[v=\\s]*"+l[f]+l[g]+"?"+l[v]+"?",x=u++;l[x]="^"+b+"$";var _=u++;l[_]="((?:<|>)?=?)";var k=u++;l[k]=l[o]+"|x|X|\\*";var j=u++;l[j]=l[a]+"|x|X|\\*";var O=u++;l[O]="[v=\\s]*("+l[j]+")(?:\\.("+l[j]+")(?:\\.("+l[j]+")(?:"+l[p]+")?"+l[v]+"?)?)?";var A=u++;l[A]="[v=\\s]*("+l[k]+")(?:\\.("+l[k]+")(?:\\.("+l[k]+")(?:"+l[g]+")?"+l[v]+"?)?)?";var E=u++;l[E]="^"+l[_]+"\\s*"+l[O]+"$";var S=u++;l[S]="^"+l[_]+"\\s*"+l[A]+"$";var C=u++;l[C]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var D=u++;l[D]="(?:~>?)";var M=u++;l[M]="(\\s*)"+l[D]+"\\s+",i[M]=new RegExp(l[M],"g");var F=u++;l[F]="^"+l[D]+l[O]+"$";var T=u++;l[T]="^"+l[D]+l[A]+"$";var N=u++;l[N]="(?:\\^)";var B=u++;l[B]="(\\s*)"+l[N]+"\\s+",i[B]=new RegExp(l[B],"g");var z=u++;l[z]="^"+l[N]+l[O]+"$";var P=u++;l[P]="^"+l[N]+l[A]+"$";var $=u++;l[$]="^"+l[_]+"\\s*("+b+")$|^$";var R=u++;l[R]="^"+l[_]+"\\s*("+y+")$|^$";var I=u++;l[I]="(\\s*)"+l[_]+"\\s*("+b+"|"+l[O]+")",i[I]=new RegExp(l[I],"g");var L=u++;l[L]="^\\s*("+l[O]+")\\s+-\\s+("+l[O]+")\\s*$";var U=u++;l[U]="^\\s*("+l[A]+")\\s+-\\s+("+l[A]+")\\s*$";var q=u++;l[q]="(<|>)?=?\\s*\\*";for(var H=0;H<35;H++)e(H,l[H]),i[H]||(i[H]=new RegExp(l[H]));function W(n,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),n instanceof G)return n;if("string"!=typeof n)return null;if(n.length>256)return null;if(!(t.loose?i[x]:i[w]).test(n))return null;try{return new G(n,t)}catch(n){return null}}function G(n,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),n instanceof G){if(n.loose===t.loose)return n;n=n.version}else if("string"!=typeof n)throw new TypeError("Invalid Version: "+n);if(n.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(n,t);e("SemVer",n,t),this.options=t,this.loose=!!t.loose;var l=n.trim().match(t.loose?i[x]:i[w]);if(!l)throw new TypeError("Invalid Version: "+n);if(this.raw=n,this.major=+l[1],this.minor=+l[2],this.patch=+l[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");l[4]?this.prerelease=l[4].split(".").map((function(n){if(/^[0-9]+$/.test(n)){var t=+n;if(t>=0&&t<r)return t}return n})):this.prerelease=[],this.build=l[5]?l[5].split("."):[],this.format()}t.parse=W,t.valid=function(n,t){var e=W(n,t);return e?e.version:null},t.clean=function(n,t){var e=W(n.trim().replace(/^[=v]+/,""),t);return e?e.version:null},t.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(n){return e("SemVer.compare",this.version,this.options,n),n instanceof G||(n=new G(n,this.options)),this.compareMain(n)||this.comparePre(n)},G.prototype.compareMain=function(n){return n instanceof G||(n=new G(n,this.options)),V(this.major,n.major)||V(this.minor,n.minor)||V(this.patch,n.patch)},G.prototype.comparePre=function(n){if(n instanceof G||(n=new G(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=n.prerelease[t];if(e("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return V(r,i)}while(++t)},G.prototype.inc=function(n,t){switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var e=this.prerelease.length;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+n)}return this.format(),this.raw=this.version,this},t.inc=function(n,t,e,r){"string"==typeof e&&(r=e,e=void 0);try{return new G(n,e).inc(t,r).version}catch(n){return null}},t.diff=function(n,t){if(Z(n,t))return null;var e=W(n),r=W(t);if(e.prerelease.length||r.prerelease.length){for(var i in e)if(("major"===i||"minor"===i||"patch"===i)&&e[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in e)if(("major"===i||"minor"===i||"patch"===i)&&e[i]!==r[i])return i},t.compareIdentifiers=V;var Y=/^[0-9]+$/;function V(n,t){var e=Y.test(n),r=Y.test(t);return e&&r&&(n=+n,t=+t),e&&!r?-1:r&&!e?1:n<t?-1:n>t?1:0}function J(n,t,e){return new G(n,e).compare(new G(t,e))}function X(n,t,e){return J(n,t,e)>0}function K(n,t,e){return J(n,t,e)<0}function Z(n,t,e){return 0===J(n,t,e)}function Q(n,t,e){return 0!==J(n,t,e)}function nn(n,t,e){return J(n,t,e)>=0}function tn(n,t,e){return J(n,t,e)<=0}function en(n,t,e,r){var i;switch(t){case"===":"object"==typeof n&&(n=n.version),"object"==typeof e&&(e=e.version),i=n===e;break;case"!==":"object"==typeof n&&(n=n.version),"object"==typeof e&&(e=e.version),i=n!==e;break;case"":case"=":case"==":i=Z(n,e,r);break;case"!=":i=Q(n,e,r);break;case">":i=X(n,e,r);break;case">=":i=nn(n,e,r);break;case"<":i=K(n,e,r);break;case"<=":i=tn(n,e,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function rn(n,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),n instanceof rn){if(n.loose===!!t.loose)return n;n=n.value}if(!(this instanceof rn))return new rn(n,t);e("comparator",n,t),this.options=t,this.loose=!!t.loose,this.parse(n),this.semver===ln?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}t.rcompareIdentifiers=function(n,t){return V(t,n)},t.major=function(n,t){return new G(n,t).major},t.minor=function(n,t){return new G(n,t).minor},t.patch=function(n,t){return new G(n,t).patch},t.compare=J,t.compareLoose=function(n,t){return J(n,t,!0)},t.rcompare=function(n,t,e){return J(t,n,e)},t.sort=function(n,e){return n.sort((function(n,r){return t.compare(n,r,e)}))},t.rsort=function(n,e){return n.sort((function(n,r){return t.rcompare(n,r,e)}))},t.gt=X,t.lt=K,t.eq=Z,t.neq=Q,t.gte=nn,t.lte=tn,t.cmp=en,t.Comparator=rn;var ln={};function un(n,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),n instanceof un)return n.loose===!!t.loose&&n.includePrerelease===!!t.includePrerelease?n:new un(n.raw,t);if(n instanceof rn)return new un(n.value,t);if(!(this instanceof un))return new un(n,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=n,this.set=n.split(/\s*\|\|\s*/).map((function(n){return this.parseRange(n.trim())}),this).filter((function(n){return n.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+n);this.format()}function an(n){return!n||"x"===n.toLowerCase()||"*"===n}function on(n,t,e,r,i,l,u,a,o,s,c,f,h){return((t=an(e)?"":an(r)?">="+e+".0.0":an(i)?">="+e+"."+r+".0":">="+t)+" "+(a=an(o)?"":an(s)?"<"+(+o+1)+".0.0":an(c)?"<"+o+"."+(+s+1)+".0":f?"<="+o+"."+s+"."+c+"-"+f:"<="+a)).trim()}function sn(n,t,r){for(var i=0;i<n.length;i++)if(!n[i].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(i=0;i<n.length;i++)if(e(n[i].semver),n[i].semver!==ln&&n[i].semver.prerelease.length>0){var l=n[i].semver;if(l.major===t.major&&l.minor===t.minor&&l.patch===t.patch)return!0}return!1}return!0}function cn(n,t,e){try{t=new un(t,e)}catch(n){return!1}return t.test(n)}function fn(n,t,e,r){var i,l,u,a,o;switch(n=new G(n,r),t=new un(t,r),e){case">":i=X,l=tn,u=K,a=">",o=">=";break;case"<":i=K,l=nn,u=X,a="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(cn(n,t,r))return!1;for(var s=0;s<t.set.length;++s){var c=t.set[s],f=null,h=null;if(c.forEach((function(n){n.semver===ln&&(n=new rn(">=0.0.0")),f=f||n,h=h||n,i(n.semver,f.semver,r)?f=n:u(n.semver,h.semver,r)&&(h=n)})),f.operator===a||f.operator===o)return!1;if((!h.operator||h.operator===a)&&l(n,h.semver))return!1;if(h.operator===o&&u(n,h.semver))return!1}return!0}rn.prototype.parse=function(n){var t=this.options.loose?i[$]:i[R],e=n.match(t);if(!e)throw new TypeError("Invalid comparator: "+n);this.operator=e[1],"="===this.operator&&(this.operator=""),e[2]?this.semver=new G(e[2],this.options.loose):this.semver=ln},rn.prototype.toString=function(){return this.value},rn.prototype.test=function(n){return e("Comparator.test",n,this.options.loose),this.semver===ln||("string"==typeof n&&(n=new G(n,this.options)),en(n,this.operator,this.semver,this.options))},rn.prototype.intersects=function(n,t){if(!(n instanceof rn))throw new TypeError("a Comparator is required");var e;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return e=new un(n.value,t),cn(this.value,e,t);if(""===n.operator)return e=new un(this.value,t),cn(n.semver,e,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==n.operator&&">"!==n.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==n.operator&&"<"!==n.operator),l=this.semver.version===n.semver.version,u=!(">="!==this.operator&&"<="!==this.operator||">="!==n.operator&&"<="!==n.operator),a=en(this.semver,"<",n.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===n.operator||"<"===n.operator),o=en(this.semver,">",n.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===n.operator||">"===n.operator);return r||i||l&&u||a||o},t.Range=un,un.prototype.format=function(){return this.range=this.set.map((function(n){return n.join(" ").trim()})).join("||").trim(),this.range},un.prototype.toString=function(){return this.range},un.prototype.parseRange=function(n){var t=this.options.loose;n=n.trim();var r=t?i[U]:i[L];n=n.replace(r,on),e("hyphen replace",n),n=n.replace(i[I],"$1$2$3"),e("comparator trim",n,i[I]),n=(n=(n=n.replace(i[M],"$1~")).replace(i[B],"$1^")).split(/\s+/).join(" ");var l=t?i[$]:i[R],u=n.split(" ").map((function(n){return function(n,t){return e("comp",n,t),n=function(n,t){return n.trim().split(/\s+/).map((function(n){return function(n,t){e("caret",n,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[P]:i[z];return n.replace(r,(function(t,r,i,l,u){var a;return e("caret",n,t,r,i,l,u),an(r)?a="":an(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":an(l)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":u?(e("replaceCaret pr",u),"-"!==u.charAt(0)&&(u="-"+u),a="0"===r?"0"===i?">="+r+"."+i+"."+l+u+" <"+r+"."+i+"."+(+l+1):">="+r+"."+i+"."+l+u+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+l+u+" <"+(+r+1)+".0.0"):(e("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+l+" <"+r+"."+i+"."+(+l+1):">="+r+"."+i+"."+l+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+l+" <"+(+r+1)+".0.0"),e("caret return",a),a}))}(n,t)})).join(" ")}(n,t),e("caret",n),n=function(n,t){return n.trim().split(/\s+/).map((function(n){return function(n,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[T]:i[F];return n.replace(r,(function(t,r,i,l,u){var a;return e("tilde",n,t,r,i,l,u),an(r)?a="":an(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":an(l)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":u?(e("replaceTilde pr",u),"-"!==u.charAt(0)&&(u="-"+u),a=">="+r+"."+i+"."+l+u+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+l+" <"+r+"."+(+i+1)+".0",e("tilde return",a),a}))}(n,t)})).join(" ")}(n,t),e("tildes",n),n=function(n,t){return e("replaceXRanges",n,t),n.split(/\s+/).map((function(n){return function(n,t){n=n.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[S]:i[E];return n.replace(r,(function(t,r,i,l,u,a){e("xRange",n,t,r,i,l,u,a);var o=an(i),s=o||an(l),c=s||an(u);return"="===r&&c&&(r=""),o?t=">"===r||"<"===r?"<0.0.0":"*":r&&c?(s&&(l=0),c&&(u=0),">"===r?(r=">=",s?(i=+i+1,l=0,u=0):c&&(l=+l+1,u=0)):"<="===r&&(r="<",s?i=+i+1:l=+l+1),t=r+i+"."+l+"."+u):s?t=">="+i+".0.0 <"+(+i+1)+".0.0":c&&(t=">="+i+"."+l+".0 <"+i+"."+(+l+1)+".0"),e("xRange return",t),t}))}(n,t)})).join(" ")}(n,t),e("xrange",n),n=function(n,t){return e("replaceStars",n,t),n.trim().replace(i[q],"")}(n,t),e("stars",n),n}(n,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(u=u.filter((function(n){return!!n.match(l)}))),u.map((function(n){return new rn(n,this.options)}),this)},un.prototype.intersects=function(n,t){if(!(n instanceof un))throw new TypeError("a Range is required");return this.set.some((function(e){return e.every((function(e){return n.set.some((function(n){return n.every((function(n){return e.intersects(n,t)}))}))}))}))},t.toComparators=function(n,t){return new un(n,t).set.map((function(n){return n.map((function(n){return n.value})).join(" ").trim().split(" ")}))},un.prototype.test=function(n){if(!n)return!1;"string"==typeof n&&(n=new G(n,this.options));for(var t=0;t<this.set.length;t++)if(sn(this.set[t],n,this.options))return!0;return!1},t.satisfies=cn,t.maxSatisfying=function(n,t,e){var r=null,i=null;try{var l=new un(t,e)}catch(n){return null}return n.forEach((function(n){l.test(n)&&(r&&-1!==i.compare(n)||(i=new G(r=n,e)))})),r},t.minSatisfying=function(n,t,e){var r=null,i=null;try{var l=new un(t,e)}catch(n){return null}return n.forEach((function(n){l.test(n)&&(r&&1!==i.compare(n)||(i=new G(r=n,e)))})),r},t.validRange=function(n,t){try{return new un(n,t).range||"*"}catch(n){return null}},t.ltr=function(n,t,e){return fn(n,t,"<",e)},t.gtr=function(n,t,e){return fn(n,t,">",e)},t.outside=fn,t.prerelease=function(n,t){var e=W(n,t);return e&&e.prerelease.length?e.prerelease:null},t.intersects=function(n,t,e){return n=new un(n,e),t=new un(t,e),n.intersects(t)},t.coerce=function(n){if(n instanceof G)return n;if("string"!=typeof n)return null;var t=n.match(i[C]);return null==t?null:W((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),H=(q.SEMVER_SPEC_VERSION,q.re,q.src,q.parse,q.valid,q.clean,q.SemVer,q.inc,q.diff,q.compareIdentifiers,q.rcompareIdentifiers,q.major,q.minor,q.patch,q.compare,q.compareLoose,q.rcompare,q.sort,q.rsort,q.gt,q.lt,q.eq,q.neq,q.gte,q.lte,q.cmp,q.Comparator,q.Range,q.toComparators,q.satisfies),W=(q.maxSatisfying,q.minSatisfying,q.validRange,q.ltr,q.gtr,q.outside,q.prerelease,q.intersects,q.coerce,L((function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(n).slice(1,3);return{library:t[0],version:t[1]}}}))),G=(U=W)&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U;const Y="Benton Gothic Bold, sans",V={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},J={background:"#ffffff",title:{anchor:"start",font:Y,fontColor:"#000000",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans",labelFontSize:11.5,labelFontWeight:"normal",titleFont:Y,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans",labelFontSize:11.5,symbolType:"square",titleFont:Y,titleFontSize:13,titleFontWeight:"normal"},range:{category:V["category-6"],diverging:V["fireandice-6"],heatmap:V["fire-7"],ordinal:V["fire-7"],ramp:V["fire-7"]}};var X=Object.freeze({excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axisBand:{grid:!1},axisBottom:{domain:!1,domainColor:"#333",domainWidth:3,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10},axisLeft:{domainColor:"#cbcbcb",domainWidth:1,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisRight:{domainColor:"#333",domainWidth:1,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisTop:{domain:!1,domainColor:"#333",domainWidth:3,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},symbol:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},style:{bar:{binSpacing:2,fill:"#30a2da",stroke:null}},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},latimes:J});const K="vg-tooltip-element",Z={offsetX:10,offsetY:10,id:K,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function Q(n,t,e){return n.fields=t||[],n.fname=e,n}function nn(n){throw Error(n)}var tn=Array.isArray;function en(n){return n===Object(n)}function rn(n){return"string"==typeof n}function ln(n){return tn(n)?"["+n.map(ln)+"]":en(n)||rn(n)?JSON.stringify(n).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):n}var un=[],an=(function(n,t){var e=function(n){var t,e,r,i=[],l=null,u=0,a=n.length,o="";function s(){i.push(o+n.substring(t,e)),o="",t=e+1}for(n+="",t=e=0;e<a;++e)if("\\"===(r=n[e]))o+=n.substring(t,e),t=++e;else if(r===l)s(),l=null,u=-1;else{if(l)continue;t===u&&'"'===r||t===u&&"'"===r?(t=e+1,l=r):"."!==r||u?"["===r?(e>t&&s(),u=t=e+1):"]"===r&&(u||nn("Access path missing open bracket: "+n),u>0&&s(),u=0,t=e+1):e>t?s():t=e+1}return u&&nn("Access path missing closing bracket: "+n),l&&nn("Access path missing closing quote: "+n),e>t&&(e++,s()),i}(n),r="return _["+e.map(ln).join("][")+"];";Q(Function("_",r),[n=1===e.length?e[0]:n],n)}("id"),Q((function(n){return n}),un,"identity"),Q((function(){return 0}),un,"zero"),Q((function(){return 1}),un,"one"),Q((function(){return!0}),un,"true"),Q((function(){return!1}),un,"false"),function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&(e[r[i]]=n[r[i]])}return e});function on(n,t){return JSON.stringify(n,function(n){const t=[];return function(e,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>n?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}class sn{constructor(n){this.options=Object.assign({},Z,n);const t=this.options.id;if(this.call=this.tooltip_handler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const n=document.createElement("style");n.setAttribute("id",this.options.styleId),n.innerHTML=function(n){if(!/^[A-Za-z]+[-:.\w]*$/.test(n))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(K,n)}(t);const e=document.head;e.childNodes.length>0?e.insertBefore(n,e.childNodes[0]):e.appendChild(n)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltip_handler(n,t,e,r){if(null==r||""===r)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=function(n,t,e){if(tn(n))return`[${n.map(n=>t(rn(n)?n:on(n,e))).join(", ")}]`;if(en(n)){let r="";const i=n,{title:l}=i,u=an(i,["title"]);l&&(r+=`<h2>${t(l)}</h2>`);const a=Object.keys(u);if(a.length>0){r+="<table>";for(const n of a){let i=u[n];en(i)&&(i=on(i,e)),r+=`<tr><td class="key">${t(n)}:</td><td class="value">${t(i)}</td></tr>`}r+="</table>"}return r||"{}"}return t(n)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:i,y:l}=function(n,t,e,r){let i=n.clientX+e;i+t.width>window.innerWidth&&(i=+n.clientX-e-t.width);let l=n.clientY+r;return l+t.height>window.innerHeight&&(l=+n.clientY-r-t.height),{x:i,y:l}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${l}px; left: ${i}px`)}}function cn(n,...t){for(const e of t)n=fn(n,e);return n}function fn(t,e){if("object"!=typeof e||null===e)return t;for(const r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&("object"!=typeof e[r]||n.isArray(e[r])||null===e[r]?t[r]=e[r]:"object"!=typeof t[r]||null===t[r]?t[r]=cn(n.isArray(e[r].constructor)?[]:{},e[r]):cn(t[r],e[r]));return t}String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return this.substr(!t||t<0?0:+t,n.length)===n});const hn=n,dn=t,pn={vega:"Vega","vega-lite":"Vega-Lite"},gn={vega:hn.version,"vega-lite":dn?dn.version:"not available"},mn={vega:(n,t)=>n,"vega-lite":(n,t)=>dn.compile(n,{config:t}).spec},vn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"};function wn(n,t,e,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,l=`</code></pre>${e}</body></html>`,u=window.open("");u.document.write(i+n+l),u.document.title=pn[r]+" JSON Source"}function yn(n,t,e={}){return $(this,void 0,void 0,(function*(){const r=(e=e||{}).patch||e.onBeforeParse,i=!0===e.actions||!1===e.actions?e.actions:cn({},{export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},e.actions||{}),l=Object.assign({},vn,e.i18n),u=(a=e.loader)&&"load"in a?e.loader:hn.loader(e.loader);var a;const o=e.renderer||"canvas",s=e.logLevel||hn.Warn;if(hn.isString(t)){const r=yield u.load(t);return yn(n,JSON.parse(r),e)}let c=e.config||{};if(hn.isString(c)){const r=yield u.load(c);return yn(n,t,Object.assign({},e,{config:JSON.parse(r)}))}if(!1!==e.defaultStyle){const n="vega-embed-style";if(!document.getElementById(n)){const t=document.createElement("style");t.id=n,t.innerText=void 0===e.defaultStyle||!0===e.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    display: flex;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5); }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():e.defaultStyle,document.head.appendChild(t)}}e.theme&&(c=cn({},X[e.theme],c));const f=function(n,t){if(n.$schema){const e=G(n.$schema);t&&t!==e.library&&console.warn(`The given visualization spec is written in ${pn[e.library]}, but mode argument sets ${pn[t]||t}.`);const r=e.library;return H(gn[r],"^"+e.version.slice(1))||console.warn(`The input spec uses ${r} ${e.version}, but the current version of ${pn[r]} is ${gn[r]}.`),r}return"mark"in n||"encoding"in n||"layer"in n||"hconcat"in n||"vconcat"in n||"facet"in n||"repeat"in n?"vega-lite":"marks"in n||"signals"in n||"scales"in n||"axes"in n?"vega":t||"vega"}(t,e.mode);let h=mn[f](t,c);if("vega-lite"===f&&h.$schema){const n=G(h.$schema);H(gn.vega,"^"+n.version.slice(1))||console.warn(`The compiled spec uses Vega ${n.version}, but current version is ${gn.vega}.`)}const d=(p=n,"string"==typeof p?new z([[document.querySelector(p)]],[document.documentElement]):new z([[p]],B)).classed("vega-embed",!0).html("");var p;if(r)if(r instanceof Function)h=r(h);else if(hn.isString(r)){const n=yield u.load(r);h=cn(h,JSON.parse(n))}else h=cn(h,r);const g=hn.parse(h,"vega-lite"===f?{}:c),m=new hn.View(g,{loader:u,logLevel:s,renderer:o});if(!1!==e.tooltip){let n;n="function"==typeof e.tooltip?e.tooltip:new sn(!0===e.tooltip?{}:e.tooltip).call,m.tooltip(n)}let v=e.hover;if(void 0===v&&(v="vega-lite"!==f),v){const{hoverSet:n,updateSet:t}="boolean"==typeof v?{}:v;m.hover(n,t)}if(e&&(e.width&&m.width(e.width),e.height&&m.height(e.height),e.padding&&m.padding(e.padding)),yield m.initialize(n).runAsync(),!1!==i){let n=d;if(!1!==e.defaultStyle){const t=n=d.append("details").attr("title",l.CLICK_TO_VIEW_ACTIONS);t.insert("summary").html('\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>');const e=t.node();document.addEventListener("click",n=>{e.contains(n.target)||e.removeAttribute("open")})}const r=n.insert("div").attr("class","vega-actions");if(!0===i||!1!==i.export)for(const n of["svg","png"])if(!0===i||!0===i.export||i.export[n]){const t=l[n.toUpperCase()+"_ACTION"];r.append("a").text(t).attr("href","#").attr("target","_blank").attr("download","visualization."+n).on("mousedown",(function(){m.toImageURL(n,e.scaleFactor).then(n=>{this.href=n}).catch(n=>{throw n}),C.preventDefault()}))}if(!0!==i&&!1===i.source||r.append("a").text(l.SOURCE_ACTION).attr("href","#").on("mousedown",()=>{wn(I(t),e.sourceHeader||"",e.sourceFooter||"",f),C.preventDefault()}),"vega-lite"!==f||!0!==i&&!1===i.compiled||r.append("a").text(l.COMPILED_ACTION).attr("href","#").on("mousedown",()=>{wn(I(h),e.sourceHeader||"",e.sourceFooter||"","vega"),C.preventDefault()}),!0===i||!1!==i.editor){const n=e.editorUrl||"https://vega.github.io/editor/";r.append("a").text(l.EDITOR_ACTION).attr("href","#").on("mousedown",()=>{!function(n,t,e){const r=n.open(t);let i=40;n.addEventListener("message",(function t(e){e.source===r&&(i=0,n.removeEventListener("message",t,!1))}),!1),setTimeout((function n(){i<=0||(r.postMessage(e,"*"),setTimeout(n,250),i-=1)}),250)}(window,n,{config:c,mode:f,renderer:o,spec:I(t)}),C.preventDefault()})}}return{view:m,spec:t,vgSpec:h}}))}function bn(n,t={}){return $(this,void 0,void 0,(function*(){const e=document.createElement("div");e.classList.add("vega-embed-wrapper");const r=document.createElement("div");e.appendChild(r);const i=!0===t.actions||!1===t.actions?t.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},t.actions||{}),l=yield yn(r,n,Object.assign({actions:i},t||{}));return e.value=l.view,e}))}const xn=(...t)=>t.length>1&&(n.isString(t[0])&&!function(n){return n.startsWith("http://")||n.startsWith("https://")||n.startsWith("//")}(t[0])||function(n){return n instanceof P||"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName}(t[0])||3===t.length)?yn(t[0],t[1],t[2]):bn(t[0],t[1]);return xn.vl=dn,xn.container=bn,xn.embed=yn,xn.vega=hn,xn.default=yn,xn.version="4.0.0",xn}(e(32),e(33)),function(n){"use strict";const t="vg-tooltip-element",e={offsetX:10,offsetY:10,id:t,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:r,maxDepth:2};function r(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function i(n){if(!/^[A-Za-z]+[-:.\w]*$/.test(n))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(t,n)}function l(n,t,e){return n.fields=t||[],n.fname=e,n}function u(n){throw Error(n)}var a=Array.isArray;function o(n){return n===Object(n)}function s(n){return"string"==typeof n}function c(n){return a(n)?"["+n.map(c)+"]":o(n)||s(n)?JSON.stringify(n).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):n}var f=[],h=(function(n,t){var e=function(n){var t,e,r,i=[],l=null,a=0,o=n.length,s="";function c(){i.push(s+n.substring(t,e)),s="",t=e+1}for(n+="",t=e=0;e<o;++e)if("\\"===(r=n[e]))s+=n.substring(t,e),t=++e;else if(r===l)c(),l=null,a=-1;else{if(l)continue;t===a&&'"'===r||t===a&&"'"===r?(t=e+1,l=r):"."!==r||a?"["===r?(e>t&&c(),a=t=e+1):"]"===r&&(a||u("Access path missing open bracket: "+n),a>0&&c(),a=0,t=e+1):e>t?c():t=e+1}return a&&u("Access path missing closing bracket: "+n),l&&u("Access path missing closing quote: "+n),e>t&&(e++,c()),i}(n),r="return _["+e.map(c).join("][")+"];";l(Function("_",r),[n=1===e.length?e[0]:n],n)}("id"),l((function(n){return n}),f,"identity"),l((function(){return 0}),f,"zero"),l((function(){return 1}),f,"one"),l((function(){return!0}),f,"true"),l((function(){return!1}),f,"false"),function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e});function d(n,t,e){if(a(n))return`[${n.map(n=>t(s(n)?n:g(n,e))).join(", ")}]`;if(o(n)){let r="";const i=n,{title:l}=i,u=h(i,["title"]);l&&(r+=`<h2>${t(l)}</h2>`);const a=Object.keys(u);if(a.length>0){r+="<table>";for(const n of a){let i=u[n];void 0!==i&&(o(i)&&(i=g(i,e)),r+=`<tr><td class="key">${t(n)}:</td><td class="value">${t(i)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(n)}function p(n){const t=[];return function(e,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>n?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function g(n,t){return JSON.stringify(n,p(t))}function m(n,t,e,r){let i=n.clientX+e;i+t.width>window.innerWidth&&(i=+n.clientX-e-t.width);let l=n.clientY+r;return l+t.height>window.innerHeight&&(l=+n.clientY-r-t.height),{x:i,y:l}}class v{constructor(n){this.options=Object.assign({},e,n);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const n=document.createElement("style");n.setAttribute("id",this.options.styleId),n.innerHTML=i(t);const e=document.head;e.childNodes.length>0?e.insertBefore(n,e.childNodes[0]):e.appendChild(n)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(n,t,e,r){if(null==r||""===r)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=d(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:i,y:l}=m(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${l}px; left: ${i}px`)}}n.DEFAULT_OPTIONS=e,n.Handler=v,n.calculatePosition=m,n.createDefaultStyle=i,n.default=function(n,t){const e=new v(t);return n.tooltip(e.call).run(),e},n.escapeHTML=r,n.formatValue=d,n.replacer=p,n.stringify=g,n.version="0.18.1",Object.defineProperty(n,"__esModule",{value:!0})}(t);var i,l=l||{},u=this||self;function a(n){return"string"==typeof n}function o(){}function s(n){var t=typeof n;if("object"==t){if(!n)return"null";if(n instanceof Array)return"array";if(n instanceof Object)return t;var e=Object.prototype.toString.call(n);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof n.length&&void 0!==n.splice&&void 0!==n.propertyIsEnumerable&&!n.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||void 0!==n.call&&void 0!==n.propertyIsEnumerable&&!n.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===n.call)return"object";return t}function c(n){var t=s(n);return"array"==t||"object"==t&&"number"==typeof n.length}function f(n){return"function"==s(n)}function h(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}function d(n){return n[p]||(n[p]=++g)}var p="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(n,t,e){return n.call.apply(n.bind,arguments)}function v(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),n.apply(t,e)}}return function(){return n.apply(t,arguments)}}function w(n,t,e){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}var y=Date.now||function(){return+new Date};function b(n,t){function e(){}e.prototype=t.prototype,n.Xh=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Me=function(n,e,r){for(var i=Array(arguments.length-2),l=2;l<arguments.length;l++)i[l-2]=arguments[l];return t.prototype[e].apply(n,i)}}function x(n){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{const n=Error().stack;n&&(this.stack=n)}n&&(this.message=String(n))}function _(n,t){for(var e="",r=(n=n.split("%s")).length-1,i=0;i<r;i++)e+=n[i]+(i<t.length?t[i]:"%s");x.call(this,e+n[r])}function k(n,t){throw new _("Failure"+(n?": "+n:""),Array.prototype.slice.call(arguments,1))}b(x,Error),x.prototype.name="CustomError",b(_,x),_.prototype.name="AssertionError";var j=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(var e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},O=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){for(var r=n.length,i="string"==typeof n?n.split(""):n,l=0;l<r;l++)l in i&&t.call(e,i[l],l,n)};function A(n){var t=n.length;if(0<t){for(var e=Array(t),r=0;r<t;r++)e[r]=n[r];return e}return[]}function E(n){const t=[];let e=0;for(const r in n)t[e++]=r;return t}function S(n,t){return null!==n&&t in n?n[t]:void 0}var C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(n,t){let e,r;for(let t=1;t<arguments.length;t++){for(e in r=arguments[t],r)n[e]=r[e];for(let t=0;t<C.length;t++)e=C[t],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function M(n,t){this.Wh=n===T&&t||"",this.ci=F}M.prototype.toString=function(){return"Const{"+this.Wh+"}"};var F={},T={},N=new M(T,"");function B(){this.Oh=""}function z(n,t){this.Rh=n===$&&t||"",this.di=P}B.prototype.toString=function(){return"SafeScript{"+this.Oh+"}"},B.prototype.ed=function(n){return this.Oh=n,this},(new B).ed(""),z.prototype.toString=function(){return"TrustedResourceUrl{"+this.Rh+"}"};var P={},$={};function R(n){return/^[\s\xa0]*$/.test(n)}var I,L=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function U(n){return-1!=I.toLowerCase().indexOf(n.toLowerCase())}function q(n,t){return n<t?-1:n>t?1:0}function H(){this.Qh=""}function W(){this.Ph=""}H.prototype.toString=function(){return"SafeStyle{"+this.Qh+"}"},H.prototype.ed=function(n){return this.Qh=n,this},(new H).ed(""),W.prototype.toString=function(){return"SafeStyleSheet{"+this.Ph+"}"},W.prototype.ed=function(n){return this.Ph=n,this},(new W).ed("");n:{var G=u.navigator;if(G){var Y=G.userAgent;if(Y){I=Y;break n}}I=""}function V(n){return-1!=I.indexOf(n)}function J(){this.Ig="",this.bi=X}J.prototype.toString=function(){return"SafeHtml{"+this.Ig+"}"};var X={};J.prototype.ed=function(n){return this.Ig=n,this},(new J).ed("<!DOCTYPE html>");var K=(new J).ed("");function Z(n){return 1==n.length&&" "<=n&&"~">=n||""<=n&&"�">=n}function Q(n,t){return n.length>t&&(n=n.substring(0,t-3)+"..."),n}(new J).ed("<br>");var nn=String.prototype.repeat?function(n,t){return n.repeat(t)}:function(n,t){return Array(t+1).join(n)};function tn(n){var t=(n=String(n)).indexOf(".");return-1==t&&(t=n.length),nn("0",Math.max(0,2-t))+n}function en(n,t,e){n=n.split(t);for(var r=[];0<e&&n.length;)r.push(n.shift()),e--;return n.length&&r.push(n.join(t)),r}function rn(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(c(n)||"string"==typeof n)O(n,t,void 0);else{if(n.Uc&&"function"==typeof n.Uc)var e=n.Uc();else if(n.te&&"function"==typeof n.te)e=void 0;else if(c(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else e=E(n);i=(r=function(n){if(n.te&&"function"==typeof n.te)return n.te();if("string"==typeof n)return n.split("");if(c(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n)).length;for(var l=0;l<i;l++)t.call(void 0,r[l],e&&e[l],n)}}function ln(n,t){this.gd={},this.fc=[],this.cd=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else n&&this.addAll(n)}function un(n,t){return n===t}function an(n){if(n.cd!=n.fc.length){for(var t=0,e=0;t<n.fc.length;){var r=n.fc[t];Object.prototype.hasOwnProperty.call(n.gd,r)&&(n.fc[e++]=r),t++}n.fc.length=e}if(n.cd!=n.fc.length){var i={};for(e=t=0;t<n.fc.length;)r=n.fc[t],Object.prototype.hasOwnProperty.call(i,r)||(n.fc[e++]=r,i[r]=1),t++;n.fc.length=e}}(i=ln.prototype).te=function(){an(this);for(var n=[],t=0;t<this.fc.length;t++)n.push(this.gd[this.fc[t]]);return n},i.Uc=function(){return an(this),this.fc.concat()},i.equals=function(n,t){if(this===n)return!0;if(this.cd!=n.cd)return!1;t=t||un,an(this);for(var e,r=0;e=this.fc[r];r++)if(!t(this.get(e),n.get(e)))return!1;return!0},i.tf=function(){return 0==this.cd},i.clear=function(){this.gd={},this.cd=this.fc.length=0},i.remove=function(n){return!!Object.prototype.hasOwnProperty.call(this.gd,n)&&(delete this.gd[n],this.cd--,this.fc.length>2*this.cd&&an(this),!0)},i.get=function(n,t){return Object.prototype.hasOwnProperty.call(this.gd,n)?this.gd[n]:t},i.set=function(n,t){Object.prototype.hasOwnProperty.call(this.gd,n)||(this.cd++,this.fc.push(n)),this.gd[n]=t},i.addAll=function(n){if(n instanceof ln)for(var t=n.Uc(),e=0;e<t.length;e++)this.set(t[e],n.get(t[e]));else for(t in n)this.set(t,n[t])},i.forEach=function(n,t){for(var e=this.Uc(),r=0;r<e.length;r++){var i=e[r],l=this.get(i);n.call(t,l,i,this)}},i.clone=function(){return new ln(this)};var on=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sn(n){return sn[" "](n),n}function cn(n,t){null!=n&&this.append.apply(this,arguments)}function fn(n,t){return new vn(n,t)}function hn(n){return 0<n?0x8000000000000000<=n?xn:new vn(n,n/4294967296):0>n?-0x8000000000000000>=n?_n:pn(new vn(-n,-n/4294967296)):wn}function dn(n,t){if("-"==n.charAt(0))return pn(dn(n.substring(1),t));var e=parseInt(n,t||10);if(9007199254740991>=e)return new vn(e%4294967296|0,e/4294967296|0);if(0==n.length)throw Error("number format error: empty string");if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character: '+n);if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);e=hn(Math.pow(t,8));for(var r=wn,i=0;i<n.length;i+=8){var l=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+l),t);8>l?(l=hn(Math.pow(t,l)),r=r.multiply(l).add(hn(u))):r=(r=r.multiply(e)).add(hn(u))}return r}function pn(n){var t=1+~n.Ab|0;return fn(t,~n.Za+!t|0)}function gn(n,t){return n.add(pn(t))}function mn(n,t){if(0==(t&=63))return n;var e=n.Za;return 32>t?fn(n.Ab>>>t|e<<32-t,e>>>t):fn(32==t?e:e>>>t-32,0)}sn[" "]=o,(i=cn.prototype).md="",i.set=function(n){this.md=""+n},i.append=function(n,t,e){if(this.md+=String(n),null!=t)for(let n=1;n<arguments.length;n++)this.md+=arguments[n];return this},i.clear=function(){this.md=""},i.toString=function(){return this.md};class vn{constructor(n,t){this.Ab=0|n,this.Za=0|t}toNumber(){return 4294967296*this.Za+(this.Ab>>>0)}isSafeInteger(){var n=this.Za>>21;return 0==n||-1==n&&!(0==this.Ab&&-2097152==this.Za)}toString(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(this.isSafeInteger()){var t=this.toNumber();return 10==n?""+t:t.toString(n)}t=14-(n>>2);var e=Math.pow(n,t),r=fn(e,e/4294967296);e=function n(t,e){if(e.Yd())throw Error("division by zero");if(0>t.Za){if(t.equals(_n)){if(e.equals(yn)||e.equals(bn))return _n;if(e.equals(_n))return yn;var r=1;if(0==r)r=t;else{var i=t.Za;r=32>r?fn(t.Ab>>>r|i<<32-r,i>>r):fn(i>>r-32,0<=i?0:-1)}return(r=n(r,e).shiftLeft(1)).equals(wn)?0>e.Za?yn:bn:(t=gn(t,e.multiply(r)),r.add(n(t,e)))}return 0>e.Za?n(pn(t),pn(e)):pn(n(pn(t),e))}if(t.Yd())return wn;if(0>e.Za)return e.equals(_n)?wn:pn(n(t,pn(e)));for(i=wn;0<=t.compare(e);){r=Math.max(1,Math.floor(t.toNumber()/e.toNumber()));var l=Math.ceil(Math.log(r)/Math.LN2);l=48>=l?1:Math.pow(2,l-48);for(var u=hn(r),a=u.multiply(e);0>a.Za||0<a.compare(t);)a=(u=hn(r-=l)).multiply(e);u.Yd()&&(u=yn),i=i.add(u),t=gn(t,a)}return i}(this,r),r=Math.abs(gn(this,e.multiply(r)).toNumber());var i=10==n?""+r:r.toString(n);return i.length<t&&(i="0000000000000".substr(i.length-t)+i),r=e.toNumber(),(10==n?r:r.toString(n))+i}Yd(){return 0==this.Ab&&0==this.Za}equals(n){return this.Ab==n.Ab&&this.Za==n.Za}compare(n){return this.Za==n.Za?this.Ab==n.Ab?0:this.Ab>>>0>n.Ab>>>0?1:-1:this.Za>n.Za?1:-1}add(n){var t=this.Za>>>16,e=65535&this.Za,r=this.Ab>>>16,i=n.Za>>>16,l=65535&n.Za,u=n.Ab>>>16;return r=(u=((n=(65535&this.Ab)+(65535&n.Ab))>>>16)+(r+u))>>>16,fn((65535&u)<<16|65535&n,(t=((r+=e+l)>>>16)+(t+i)&65535)<<16|65535&r)}multiply(n){if(this.Yd())return this;if(n.Yd())return n;var t=this.Za>>>16,e=65535&this.Za,r=this.Ab>>>16,i=65535&this.Ab,l=n.Za>>>16,u=65535&n.Za,a=n.Ab>>>16,o=i*(n=65535&n.Ab),s=(o>>>16)+r*n,c=s>>>16;c+=(s=(65535&s)+i*a)>>>16;var f=(c+=e*n)>>>16;return fn((65535&s)<<16|65535&o,(f=(f+=(c=(65535&c)+r*a)>>>16)+((c=(65535&c)+i*u)>>>16)+(t*n+e*a+r*u+i*l)&65535)<<16|65535&c)}and(n){return fn(this.Ab&n.Ab,this.Za&n.Za)}or(n){return fn(this.Ab|n.Ab,this.Za|n.Za)}xor(n){return fn(this.Ab^n.Ab,this.Za^n.Za)}shiftLeft(n){if(0==(n&=63))return this;var t=this.Ab;return 32>n?fn(t<<n,this.Za<<n|t>>>32-n):fn(0,t<<n-32)}}const wn=fn(0,0),yn=fn(1,0),bn=fn(-1,-1),xn=fn(4294967295,2147483647),_n=fn(0,2147483648);var kn,jn={},On={};if(void 0===jn||void 0===On||void 0===An)var An={};var En=null;if(void 0===jn||void 0===On||void 0===Sn)var Sn=null;if(void 0===jn||void 0===On||void 0===Cn)var Cn=null;var Dn=!0,Mn=!0,Fn=null,Tn=null;if(void 0===jn||void 0===On||void 0===Nn)var Nn=null;function Bn(){return new ku(null,5,[Rj,!0,fS,Mn,Rd,!1,Tp,!1,eF,Fn],null)}function zn(n){return null!=n&&!1!==n}function Pn(n){return null==n}function $n(n){return n instanceof Array}function Rn(n){return"number"==typeof n}function In(n){return null==n||!1===n}function Ln(n){return a(n)}function Un(n,t){return!!n[s(null==t?null:t)]||!!n._}function qn(n){return null==n?null:n.constructor}function Hn(n,t){var e=qn(t);return e=zn(zn(e)?e.ta:e)?e.sa:s(t),Error(["No protocol method ",n," defined for type ",e,": ",t].join(""))}function Wn(n){var t=n.sa;return zn(t)?t:ii.g(n)}var Gn="undefined"!=typeof Symbol&&"function"===s(Symbol)?Symbol.iterator:"@@iterator";function Yn(n){for(var t=n.length,e=Array(t),r=0;r<t;)e[r]=n[r],r+=1;return e}function Vn(n){return Hr((function(n,t){return n.push(t),n}),[],n)}function Jn(){}function Xn(){}function Kn(n){if(null!=n&&null!=n.Ba)n=n.Ba(n);else{var t=Kn[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Kn._))throw Hn("ICloneable.-clone",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Zn(){}function Qn(n){if(null!=n&&null!=n.na)n=n.na(n);else{var t=Qn[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Qn._))throw Hn("ICounted.-count",n);n=t.g?t.g(n):t.call(null,n)}}return n}function nt(){}function tt(n){if(null!=n&&null!=n.bb)n=n.bb(n);else{var t=tt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=tt._))throw Hn("IEmptyableCollection.-empty",n);n=t.g?t.g(n):t.call(null,n)}}return n}function et(){}function rt(n,t){if(null!=n&&null!=n.ra)n=n.ra(n,t);else{var e=rt[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=rt._))throw Hn("ICollection.-conj",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function it(){}var lt=function(){function n(n,t,e){var r=ut[s(null==n?null:n)];if(null!=r)return r.j?r.j(n,t,e):r.call(null,n,t,e);if(null!=(r=ut._))return r.j?r.j(n,t,e):r.call(null,n,t,e);throw Hn("IIndexed.-nth",n)}function t(n,t){var e=ut[s(null==n?null:n)];if(null!=e)return e.a?e.a(n,t):e.call(null,n,t);if(null!=(e=ut._))return e.a?e.a(n,t):e.call(null,n,t);throw Hn("IIndexed.-nth",n)}var e;return(e=function(e,r,i){switch(arguments.length){case 2:return t.call(this,e,r);case 3:return n.call(this,e,r,i)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.j=n,e}(),ut=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function at(){}function ot(n){if(null!=n&&null!=n.Mb)n=n.Mb(n);else{var t=ot[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=ot._))throw Hn("ISeq.-first",n);n=t.g?t.g(n):t.call(null,n)}}return n}function st(n){if(null!=n&&null!=n.Nb)n=n.Nb(n);else{var t=st[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=st._))throw Hn("ISeq.-rest",n);n=t.g?t.g(n):t.call(null,n)}}return n}function ct(){}function ft(n){if(null!=n&&null!=n.Kb)n=n.Kb(n);else{var t=ft[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=ft._))throw Hn("INext.-next",n);n=t.g?t.g(n):t.call(null,n)}}return n}function ht(){}ut.a=function(n,t){return null!=n&&null!=n.Aa?n.Aa(n,t):lt.a(n,t)},ut.j=function(n,t,e){return null!=n&&null!=n.Ua?n.Ua(n,t,e):lt.j(n,t,e)},ut.R=3;var dt=function(){function n(n,t,e){var r=pt[s(null==n?null:n)];if(null!=r)return r.j?r.j(n,t,e):r.call(null,n,t,e);if(null!=(r=pt._))return r.j?r.j(n,t,e):r.call(null,n,t,e);throw Hn("ILookup.-lookup",n)}function t(n,t){var e=pt[s(null==n?null:n)];if(null!=e)return e.a?e.a(n,t):e.call(null,n,t);if(null!=(e=pt._))return e.a?e.a(n,t):e.call(null,n,t);throw Hn("ILookup.-lookup",n)}var e;return(e=function(e,r,i){switch(arguments.length){case 2:return t.call(this,e,r);case 3:return n.call(this,e,r,i)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.j=n,e}(),pt=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function gt(n,t,e){if(null!=n&&null!=n.ia)n=n.ia(n,t,e);else{var r=gt[s(null==n?null:n)];if(null!=r)n=r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=gt._))throw Hn("IAssociative.-assoc",n);n=r.j?r.j(n,t,e):r.call(null,n,t,e)}}return n}function mt(n,t){if(null!=n&&null!=n.Yc)n=n.Yc(n,t);else{var e=mt[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=mt._))throw Hn("IFind.-find",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function vt(){}function wt(n,t){if(null!=n&&null!=n.Ka)n=n.Ka(n,t);else{var e=wt[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=wt._))throw Hn("IMap.-dissoc",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function yt(n){if(null!=n&&null!=n.dg)n=n.key;else{var t=yt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=yt._))throw Hn("IMapEntry.-key",n);n=t.g?t.g(n):t.call(null,n)}}return n}function bt(n){if(null!=n&&null!=n.eg)n=n.F;else{var t=bt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=bt._))throw Hn("IMapEntry.-val",n);n=t.g?t.g(n):t.call(null,n)}}return n}function xt(){}function _t(n,t){if(null!=n&&null!=n.fg)n=n.fg(n,t);else{var e=_t[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=_t._))throw Hn("ISet.-disjoin",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function kt(n){if(null!=n&&null!=n.$c)n=n.$c(n);else{var t=kt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=kt._))throw Hn("IStack.-peek",n);n=t.g?t.g(n):t.call(null,n)}}return n}function jt(n){if(null!=n&&null!=n.ad)n=n.ad(n);else{var t=jt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=jt._))throw Hn("IStack.-pop",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Ot(){}function At(n,t,e){if(null!=n&&null!=n.Gc)n=n.Gc(n,t,e);else{var r=At[s(null==n?null:n)];if(null!=r)n=r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=At._))throw Hn("IVector.-assoc-n",n);n=r.j?r.j(n,t,e):r.call(null,n,t,e)}}return n}function Et(){}function St(n){if(null!=n&&null!=n.wc)n=n.wc(n);else{var t=St[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=St._))throw Hn("IDeref.-deref",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Ct(){}function Dt(n){if(null!=n&&null!=n.X)n=n.X(n);else{var t=Dt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Dt._))throw Hn("IMeta.-meta",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Mt(n,t){if(null!=n&&null!=n.Y)n=n.Y(n,t);else{var e=Mt[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=Mt._))throw Hn("IWithMeta.-with-meta",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function Ft(){}pt.a=function(n,t){return null!=n&&null!=n.oa?n.oa(n,t):dt.a(n,t)},pt.j=function(n,t,e){return null!=n&&null!=n.Z?n.Z(n,t,e):dt.j(n,t,e)},pt.R=3;var Tt=function(){function n(n,t,e){var r=Nt[s(null==n?null:n)];if(null!=r)return r.j?r.j(n,t,e):r.call(null,n,t,e);if(null!=(r=Nt._))return r.j?r.j(n,t,e):r.call(null,n,t,e);throw Hn("IReduce.-reduce",n)}function t(n,t){var e=Nt[s(null==n?null:n)];if(null!=e)return e.a?e.a(n,t):e.call(null,n,t);if(null!=(e=Nt._))return e.a?e.a(n,t):e.call(null,n,t);throw Hn("IReduce.-reduce",n)}var e;return(e=function(e,r,i){switch(arguments.length){case 2:return t.call(this,e,r);case 3:return n.call(this,e,r,i)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.j=n,e}(),Nt=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function Bt(){}function zt(n,t,e){if(null!=n&&null!=n.Ja)n=n.Ja(n,t,e);else{var r=zt[s(null==n?null:n)];if(null!=r)n=r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=zt._))throw Hn("IKVReduce.-kv-reduce",n);n=r.j?r.j(n,t,e):r.call(null,n,t,e)}}return n}function Pt(n,t){if(null!=n&&null!=n.ga)n=n.ga(n,t);else{var e=Pt[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=Pt._))throw Hn("IEquiv.-equiv",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function $t(n){if(null!=n&&null!=n.la)n=n.la(n);else{var t=$t[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=$t._))throw Hn("IHash.-hash",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Rt(){}function It(n){if(null!=n&&null!=n.pa)n=n.pa(n);else{var t=It[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=It._))throw Hn("ISeqable.-seq",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Lt(){}function Ut(){}function qt(){}function Ht(){}function Wt(n){if(null!=n&&null!=n.Zc)n=n.Zc(n);else{var t=Wt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Wt._))throw Hn("IReversible.-rseq",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Gt(n,t){if(null!=n&&null!=n.nd)n=n.nd(n,t);else{var e=Gt[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=Gt._))throw Hn("IWriter.-write",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function Yt(n){if(null!=n&&null!=n.Tc)n=n.Tc(n);else{var t=Yt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Yt._))throw Hn("IWriter.-flush",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Vt(){}function Jt(n,t,e){if(null!=n&&null!=n.ka)n=n.ka(n,t,e);else{var r=Jt[s(null==n?null:n)];if(null!=r)n=r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=Jt._))throw Hn("IPrintWithWriter.-pr-writer",n);n=r.j?r.j(n,t,e):r.call(null,n,t,e)}}return n}function Xt(){}function Kt(n){if(null!=n&&null!=n.Re)n=n.Re(n);else{var t=Kt[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Kt._))throw Hn("IPending.-realized?",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Zt(n,t){var e=yK;if(null!=n&&null!=n.oe)n.oe(n,t,e);else{var r=Zt[s(null==n?null:n)];if(null!=r)r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=Zt._))throw Hn("IWatchable.-add-watch",n);r.j?r.j(n,t,e):r.call(null,n,t,e)}}}function Qt(n,t){if(null!=n&&null!=n.pe)n.pe(n,t);else{var e=Qt[s(null==n?null:n)];if(null!=e)e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=Qt._))throw Hn("IWatchable.-remove-watch",n);e.a?e.a(n,t):e.call(null,n,t)}}}function ne(n){if(null!=n&&null!=n.Rd)n=n.Rd(n);else{var t=ne[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=ne._))throw Hn("IEditableCollection.-as-transient",n);n=t.g?t.g(n):t.call(null,n)}}return n}function te(n,t){if(null!=n&&null!=n.Td)n=n.Td(n,t);else{var e=te[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=te._))throw Hn("ITransientCollection.-conj!",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function ee(n){if(null!=n&&null!=n.ne)n=n.ne(n);else{var t=ee[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=ee._))throw Hn("ITransientCollection.-persistent!",n);n=t.g?t.g(n):t.call(null,n)}}return n}function re(n,t,e){if(null!=n&&null!=n.Sd)n=n.Sd(n,t,e);else{var r=re[s(null==n?null:n)];if(null!=r)n=r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=re._))throw Hn("ITransientAssociative.-assoc!",n);n=r.j?r.j(n,t,e):r.call(null,n,t,e)}}return n}function ie(n){if(null!=n&&null!=n.ag)n=n.ag(n);else{var t=ie[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=ie._))throw Hn("IChunk.-drop-first",n);n=t.g?t.g(n):t.call(null,n)}}return n}function le(n){if(null!=n&&null!=n.Qe)n=n.Qe(n);else{var t=le[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=le._))throw Hn("IChunkedSeq.-chunked-first",n);n=t.g?t.g(n):t.call(null,n)}}return n}function ue(n){if(null!=n&&null!=n.Pd)n=n.Pd(n);else{var t=ue[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=ue._))throw Hn("IChunkedSeq.-chunked-rest",n);n=t.g?t.g(n):t.call(null,n)}}return n}function ae(n){if(null!=n&&null!=n.ke)n=n.ke(n);else{var t=ae[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=ae._))throw Hn("INamed.-name",n);n=t.g?t.g(n):t.call(null,n)}}return n}function oe(n){if(null!=n&&null!=n.le)n=n.le(n);else{var t=oe[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=oe._))throw Hn("INamed.-namespace",n);n=t.g?t.g(n):t.call(null,n)}}return n}function se(n,t){if(null!=n&&null!=n.hc)n=n.hc(n,t);else{var e=se[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=se._))throw Hn("IReset.-reset!",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}Nt.a=function(n,t){return null!=n&&null!=n.Eb?n.Eb(n,t):Tt.a(n,t)},Nt.j=function(n,t,e){return null!=n&&null!=n.nb?n.nb(n,t,e):Tt.j(n,t,e)},Nt.R=3;var ce=function(){function n(n,t,e,r,i){var l=fe[s(null==n?null:n)];if(null!=l)return l.za?l.za(n,t,e,r,i):l.call(null,n,t,e,r,i);if(null!=(l=fe._))return l.za?l.za(n,t,e,r,i):l.call(null,n,t,e,r,i);throw Hn("ISwap.-swap!",n)}function t(n,t,e,r){var i=fe[s(null==n?null:n)];if(null!=i)return i.aa?i.aa(n,t,e,r):i.call(null,n,t,e,r);if(null!=(i=fe._))return i.aa?i.aa(n,t,e,r):i.call(null,n,t,e,r);throw Hn("ISwap.-swap!",n)}function e(n,t,e){var r=fe[s(null==n?null:n)];if(null!=r)return r.j?r.j(n,t,e):r.call(null,n,t,e);if(null!=(r=fe._))return r.j?r.j(n,t,e):r.call(null,n,t,e);throw Hn("ISwap.-swap!",n)}function r(n,t){var e=fe[s(null==n?null:n)];if(null!=e)return e.a?e.a(n,t):e.call(null,n,t);if(null!=(e=fe._))return e.a?e.a(n,t):e.call(null,n,t);throw Hn("ISwap.-swap!",n)}var i;return(i=function(i,l,u,a,o){switch(arguments.length){case 2:return r.call(this,i,l);case 3:return e.call(this,i,l,u);case 4:return t.call(this,i,l,u,a);case 5:return n.call(this,i,l,u,a,o)}throw Error("Invalid arity: "+arguments.length)}).a=r,i.j=e,i.aa=t,i.za=n,i}(),fe=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);case 4:return n.aa(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return n.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function he(){}function de(n){if(null!=n&&null!=n.Ca)n=n.Ca(n);else{var t=de[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=de._))throw Hn("IIterable.-iterator",n);n=t.g?t.g(n):t.call(null,n)}}return n}function pe(n){this.Zj=n,this.B=1073741824,this.U=0}function ge(n){var t=new cn,e=new pe(t);return n.ka(null,e,Bn()),e.Tc(null),ii.g(t)}fe.a=function(n,t){return null!=n&&null!=n.Se?n.Se(n,t):ce.a(n,t)},fe.j=function(n,t,e){return null!=n&&null!=n.Te?n.Te(n,t,e):ce.j(n,t,e)},fe.aa=function(n,t,e,r){return null!=n&&null!=n.Ue?n.Ue(n,t,e,r):ce.aa(n,t,e,r)},fe.za=function(n,t,e,r,i){return null!=n&&null!=n.Ve?n.Ve(n,t,e,r,i):ce.za(n,t,e,r,i)},fe.R=5,pe.prototype.nd=function(n,t){return this.Zj.append(t)},pe.prototype.Tc=function(){return null};var me="undefined"!=typeof Math&&void 0!==Math.imul&&0!==Math.imul(4294967295,5)?function(n,t){return Math.imul(n,t)}:function(n,t){var e=65535&n,r=65535&t;return e*r+((n>>>16&65535)*r+e*(t>>>16&65535)<<16>>>0)|0};function ve(n){return n=me(0|n,-862048943),me(n<<15|n>>>-15,461845907)}function we(n,t){return me((n=(0|n)^(0|t))<<13|n>>>-13,5)+-430675100|0}function ye(n,t){return n=me((n=(0|n)^t)^n>>>16,-2048144789),(n=me(n^n>>>13,-1028477387))^n>>>16}var be,xe={},_e=0;function ke(n){if(255<_e&&(xe={},_e=0),null==n)return 0;var t=xe[n];if("number"==typeof t)n=t;else{n:if(null!=n)if(t=n.length,0<t)for(var e=0,r=0;;){if(!(e<t)){t=r;break n}var i=e+1;r=me(31,r)+n.charCodeAt(e),e=i}else t=0;else t=0;xe[n]=t,_e+=1,n=t}return n}function je(n){if(null!=n&&(4194304&n.B||An===n.cg))return 0^n.la(null);if("number"!=typeof n)return!0===n?n=1231:!1===n?n=1237:"string"==typeof n?0!==(n=ke(n))&&(n=ye(n=we(0,n=ve(n)),4)):n=n instanceof Date?0^n.valueOf():null==n?0:0^$t(n),n;if(zn(isFinite(n)))return Math.floor(n)%2147483647;switch(n){case 1/0:return 2146435072;case-1/0:return-1048576;default:return 2146959360}}function Oe(n){var t=n.name;n:for(var e=1,r=0;;){if(!(e<t.length)){e=r;break n}var i=e+2;r=we(r,ve(t.charCodeAt(e-1)|t.charCodeAt(e)<<16)),e=i}return e=1==(1&t.length)?e^ve(t.charCodeAt(t.length-1)):e,(t=ye(e,me(2,t.length)))^(n=ke(n.Ee))+2654435769+(t<<6)+(t>>2)}function Ae(n,t,e,r,i){this.Ee=n,this.name=t,this.lc=e,this.Ld=r,this.sc=i,this.B=2154168321,this.U=4096}(i=Ae.prototype).toString=function(){return this.lc},i.equiv=function(n){return this.ga(null,n)},i.ga=function(n,t){return t instanceof Ae&&this.lc===t.lc},i.call=((be=function(n,t,e){switch(arguments.length){case 2:return gr.a(t,this);case 3:return gr.j(t,this,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return gr.a(t,this)},be.j=function(n,t,e){return gr.j(t,this,e)},be),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return gr.a(n,this)},i.a=function(n,t){return gr.j(n,this,t)},i.X=function(){return this.sc},i.Y=function(n,t){return new Ae(this.Ee,this.name,this.lc,this.Ld,t)},i.la=function(){var n=this.Ld;return null!=n?n:this.Ld=n=Oe(this)},i.ke=function(){return this.name},i.le=function(){return this.Ee},i.ka=function(n,t){return Gt(t,this.lc)};var Ee=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function Se(n,t,e){this.F=n,this.ab=t,this.sc=e,this.B=6717441,this.U=0}function Ce(n){return null!=n?!!(131072&n.U||An===n.Dk)||!n.U&&Un(he,n):Un(he,n)}function De(n){if(null==n)return null;if(null!=n&&(8388608&n.B||An===n.gh))return n.pa(null);if($n(n)||"string"==typeof n)return 0===n.length?null:new lr(n,0,null);if(null!=n&&null!=n[Gn])return $e(S(n,Gn).call(n));if(Un(Rt,n))return It(n);throw Error([ii.g(n)," is not ISeqable"].join(""))}function Me(n){return null==n?null:null!=n&&(64&n.B||An===n.ja)?n.Mb(null):null==(n=De(n))?null:ot(n)}function Fe(n){return null!=n&&(null!=n&&(64&n.B||An===n.ja)||(n=De(n)))?n.Nb(null):si}function Te(n){return null==n?null:null!=n&&(128&n.B||An===n.me)?n.Kb(null):De(Fe(n))}Ee.g=function(n){for(;;){if(n instanceof Ae)return n;if("string"==typeof n){var t=n.indexOf("/");return 1>t?Ee.a(null,n):Ee.a(n.substring(0,t),n.substring(t+1,n.length))}if(n instanceof Se)return n.ab;if(!(n instanceof pi))throw Error("no conversion to symbol");n=n.qa}},Ee.a=function(n,t){return new Ae(n,t,null!=n?[ii.g(n),"/",ii.g(t)].join(""):t,null,null)},Ee.R=2,(i=Se.prototype).toString=function(){return["#'",ii.g(this.ab)].join("")},i.wc=function(){return this.F.L?this.F.L():this.F.call(null)},i.X=function(){return this.sc},i.Y=function(n,t){return new Se(this.F,this.ab,t)},i.ga=function(n,t){return t instanceof Se&&Ne.a(this.ab,t.ab)},i.la=function(){return Oe(this.ab)},i.bh=An,i.call=function(){function n(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x){return n=this,Pi.l(n.F.L?n.F.L():n.F.call(null),t,e,r,i,ur([l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x]))}function t(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b){return(n=(n=this).F.L?n.F.L():n.F.call(null)).Lb?n.Lb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b)}function e(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){return(n=(n=this).F.L?n.F.L():n.F.call(null)).Db?n.Db(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y)}function r(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){return(n=(n=this).F.L?n.F.L():n.F.call(null)).wb?n.wb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w)}function i(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){return(n=(n=this).F.L?n.F.L():n.F.call(null)).vb?n.vb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v)}function l(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){return(n=(n=this).F.L?n.F.L():n.F.call(null)).ub?n.ub(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m)}function u(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){return(n=(n=this).F.L?n.F.L():n.F.call(null)).tb?n.tb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g)}function a(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){return(n=(n=this).F.L?n.F.L():n.F.call(null)).sb?n.sb(t,e,r,i,l,u,a,o,s,c,f,h,d,p):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p)}function o(n,t,e,r,i,l,u,a,o,s,c,f,h,d){return(n=(n=this).F.L?n.F.L():n.F.call(null)).rb?n.rb(t,e,r,i,l,u,a,o,s,c,f,h,d):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d)}function s(n,t,e,r,i,l,u,a,o,s,c,f,h){return(n=(n=this).F.L?n.F.L():n.F.call(null)).qb?n.qb(t,e,r,i,l,u,a,o,s,c,f,h):n.call(null,t,e,r,i,l,u,a,o,s,c,f,h)}function c(n,t,e,r,i,l,u,a,o,s,c,f){return(n=(n=this).F.L?n.F.L():n.F.call(null)).pb?n.pb(t,e,r,i,l,u,a,o,s,c,f):n.call(null,t,e,r,i,l,u,a,o,s,c,f)}function f(n,t,e,r,i,l,u,a,o,s,c){return(n=(n=this).F.L?n.F.L():n.F.call(null)).lb?n.lb(t,e,r,i,l,u,a,o,s,c):n.call(null,t,e,r,i,l,u,a,o,s,c)}function h(n,t,e,r,i,l,u,a,o,s){return(n=(n=this).F.L?n.F.L():n.F.call(null)).Wa?n.Wa(t,e,r,i,l,u,a,o,s):n.call(null,t,e,r,i,l,u,a,o,s)}function d(n,t,e,r,i,l,u,a,o){return(n=(n=this).F.L?n.F.L():n.F.call(null)).Va?n.Va(t,e,r,i,l,u,a,o):n.call(null,t,e,r,i,l,u,a,o)}function p(n,t,e,r,i,l,u,a){return(n=(n=this).F.L?n.F.L():n.F.call(null)).mb?n.mb(t,e,r,i,l,u,a):n.call(null,t,e,r,i,l,u,a)}function g(n,t,e,r,i,l,u){return(n=(n=this).F.L?n.F.L():n.F.call(null)).Ta?n.Ta(t,e,r,i,l,u):n.call(null,t,e,r,i,l,u)}function m(n,t,e,r,i,l){return(n=(n=this).F.L?n.F.L():n.F.call(null)).za?n.za(t,e,r,i,l):n.call(null,t,e,r,i,l)}function v(n,t,e,r,i){return(n=(n=this).F.L?n.F.L():n.F.call(null)).aa?n.aa(t,e,r,i):n.call(null,t,e,r,i)}function w(n,t,e,r){return(n=(n=this).F.L?n.F.L():n.F.call(null)).j?n.j(t,e,r):n.call(null,t,e,r)}function y(n,t,e){return(n=(n=this).F.L?n.F.L():n.F.call(null)).a?n.a(t,e):n.call(null,t,e)}function b(n,t){return(n=(n=this).F.L?n.F.L():n.F.call(null)).g?n.g(t):n.call(null,t)}function x(n){return(n=(n=this).F.L?n.F.L():n.F.call(null)).L?n.L():n.call(null)}var _;return(_=function(_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U,q){switch(arguments.length){case 1:return x.call(this,_);case 2:return b.call(this,_,k);case 3:return y.call(this,_,k,j);case 4:return w.call(this,_,k,j,O);case 5:return v.call(this,_,k,j,O,A);case 6:return m.call(this,_,k,j,O,A,E);case 7:return g.call(this,_,k,j,O,A,E,S);case 8:return p.call(this,_,k,j,O,A,E,S,C);case 9:return d.call(this,_,k,j,O,A,E,S,C,D);case 10:return h.call(this,_,k,j,O,A,E,S,C,D,M);case 11:return f.call(this,_,k,j,O,A,E,S,C,D,M,F);case 12:return c.call(this,_,k,j,O,A,E,S,C,D,M,F,T);case 13:return s.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N);case 14:return o.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B);case 15:return a.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z);case 16:return u.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P);case 17:return l.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$);case 18:return i.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R);case 19:return r.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I);case 20:return e.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L);case 21:return t.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U);case 22:return n.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U,q)}throw Error("Invalid arity: "+(arguments.length-1))}).g=x,_.a=b,_.j=y,_.aa=w,_.za=v,_.Ta=m,_.mb=g,_.Va=p,_.Wa=d,_.lb=h,_.pb=f,_.qb=c,_.rb=s,_.sb=o,_.tb=a,_.ub=u,_.vb=l,_.wb=i,_.Db=r,_.Lb=e,_.je=t,_.dh=n,_}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.L=function(){var n=this.F.L?this.F.L():this.F.call(null);return n.L?n.L():n.call(null)},i.g=function(n){var t=this.F.L?this.F.L():this.F.call(null);return t.g?t.g(n):t.call(null,n)},i.a=function(n,t){var e=this.F.L?this.F.L():this.F.call(null);return e.a?e.a(n,t):e.call(null,n,t)},i.j=function(n,t,e){var r=this.F.L?this.F.L():this.F.call(null);return r.j?r.j(n,t,e):r.call(null,n,t,e)},i.aa=function(n,t,e,r){var i=this.F.L?this.F.L():this.F.call(null);return i.aa?i.aa(n,t,e,r):i.call(null,n,t,e,r)},i.za=function(n,t,e,r,i){var l=this.F.L?this.F.L():this.F.call(null);return l.za?l.za(n,t,e,r,i):l.call(null,n,t,e,r,i)},i.Ta=function(n,t,e,r,i,l){var u=this.F.L?this.F.L():this.F.call(null);return u.Ta?u.Ta(n,t,e,r,i,l):u.call(null,n,t,e,r,i,l)},i.mb=function(n,t,e,r,i,l,u){var a=this.F.L?this.F.L():this.F.call(null);return a.mb?a.mb(n,t,e,r,i,l,u):a.call(null,n,t,e,r,i,l,u)},i.Va=function(n,t,e,r,i,l,u,a){var o=this.F.L?this.F.L():this.F.call(null);return o.Va?o.Va(n,t,e,r,i,l,u,a):o.call(null,n,t,e,r,i,l,u,a)},i.Wa=function(n,t,e,r,i,l,u,a,o){var s=this.F.L?this.F.L():this.F.call(null);return s.Wa?s.Wa(n,t,e,r,i,l,u,a,o):s.call(null,n,t,e,r,i,l,u,a,o)},i.lb=function(n,t,e,r,i,l,u,a,o,s){var c=this.F.L?this.F.L():this.F.call(null);return c.lb?c.lb(n,t,e,r,i,l,u,a,o,s):c.call(null,n,t,e,r,i,l,u,a,o,s)},i.pb=function(n,t,e,r,i,l,u,a,o,s,c){var f=this.F.L?this.F.L():this.F.call(null);return f.pb?f.pb(n,t,e,r,i,l,u,a,o,s,c):f.call(null,n,t,e,r,i,l,u,a,o,s,c)},i.qb=function(n,t,e,r,i,l,u,a,o,s,c,f){var h=this.F.L?this.F.L():this.F.call(null);return h.qb?h.qb(n,t,e,r,i,l,u,a,o,s,c,f):h.call(null,n,t,e,r,i,l,u,a,o,s,c,f)},i.rb=function(n,t,e,r,i,l,u,a,o,s,c,f,h){var d=this.F.L?this.F.L():this.F.call(null);return d.rb?d.rb(n,t,e,r,i,l,u,a,o,s,c,f,h):d.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h)},i.sb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d){var p=this.F.L?this.F.L():this.F.call(null);return p.sb?p.sb(n,t,e,r,i,l,u,a,o,s,c,f,h,d):p.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d)},i.tb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){var g=this.F.L?this.F.L():this.F.call(null);return g.tb?g.tb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p):g.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p)},i.ub=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){var m=this.F.L?this.F.L():this.F.call(null);return m.ub?m.ub(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):m.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g)},i.vb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){var v=this.F.L?this.F.L():this.F.call(null);return v.vb?v.vb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):v.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m)},i.wb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){var w=this.F.L?this.F.L():this.F.call(null);return w.wb?w.wb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):w.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v)},i.Db=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){var y=this.F.L?this.F.L():this.F.call(null);return y.Db?y.Db(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):y.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w)},i.Lb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){var b=this.F.L?this.F.L():this.F.call(null);return b.Lb?b.Lb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):b.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y)},i.je=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b){return Pi.l(this.F.L?this.F.L():this.F.call(null),n,t,e,r,ur([i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b]))};var Ne=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function Be(n){this.La=n}function ze(n){return new Be(De(n))}function Pe(n,t){this.value=n,this.ze=t,this.Pf=null,this.B=8388672,this.U=0}function $e(n){var t=n.next();return zn(t.done)?null:new Pe(t.value,n)}function Re(n,t){return ye(n=we(0,n=ve(n)),t)}function Ie(n){var t=0,e=1;for(n=De(n);;){if(null==n)return Re(e,t);t+=1,e=me(31,e)+je(Me(n))|0,n=Te(n)}}Ne.g=function(){return!0},Ne.a=function(n,t){return null==n?null==t:n===t||Pt(n,t)},Ne.l=function(n,t,e){for(;;){if(!Ne.a(n,t))return!1;if(!Te(e))return Ne.a(t,Me(e));n=t,t=Me(e),e=Te(e)}},Ne.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},Ne.R=2,Be.prototype.next=function(){if(null!=this.La){var n=Me(this.La);return this.La=Te(this.La),{value:n,done:!1}}return{value:null,done:!0}},Pe.prototype.pa=function(){return this},Pe.prototype.Mb=function(){return this.value},Pe.prototype.Nb=function(){return null==this.Pf&&(this.Pf=$e(this.ze)),this.Pf};var Le=Re(1,0);function Ue(n){var t=0,e=0;for(n=De(n);;){if(null==n)return Re(e,t);t+=1,e=e+je(Me(n))|0,n=Te(n)}}var qe=Re(0,0);function He(n){return n+1}function We(n){this.F=n,this.B=32768,this.U=0}function Ge(n){return new We(n)}function Ye(n){return n instanceof We}function Ve(n){return Ye(n)?St(n):n}function Je(n,t){var e=n.na(null);if(0===e)return t.L?t.L():t.call(null);for(var r=n.Aa(null,0),i=1;;){if(!(i<e))return r;var l=n.Aa(null,i);if(Ye(r=t.a?t.a(r,l):t.call(null,r,l)))return St(r);i+=1}}function Xe(n,t,e){var r=n.na(null),i=e;for(e=0;;){if(!(e<r))return i;var l=n.Aa(null,e);if(Ye(i=t.a?t.a(i,l):t.call(null,i,l)))return St(i);e+=1}}function Ke(n,t){var e=n.length;if(0===n.length)return t.L?t.L():t.call(null);for(var r=n[0],i=1;;){if(!(i<e))return r;var l=n[i];if(Ye(r=t.a?t.a(r,l):t.call(null,r,l)))return St(r);i+=1}}function Ze(n,t,e){var r=n.length,i=e;for(e=0;;){if(!(e<r))return i;var l=n[e];if(Ye(i=t.a?t.a(i,l):t.call(null,i,l)))return St(i);e+=1}}function Qe(n,t,e,r){for(var i=n.length;;){if(!(r<i))return e;var l=n[r];if(Ye(e=t.a?t.a(e,l):t.call(null,e,l)))return St(e);r+=1}}function nr(n){return null!=n?!!(2&n.B||An===n.hi)||!n.B&&Un(Zn,n):Un(Zn,n)}function tr(n){return null!=n?!!(16&n.B||An===n.eh)||!n.B&&Un(it,n):Un(it,n)}function er(n,t,e){var r=hr(n);if(e>=r)return-1;for(!(0<e)&&0>e&&(e=0>(e+=r)?0:e);;){if(!(e<r))return-1;if(Ne.a(dr(n,e),t))return e;e+=1}}function rr(n,t,e){var r=hr(n);if(0===r)return-1;for(0<e?e=--r<e?r:e:e=0>e?r+e:e;;){if(!(0<=e))return-1;if(Ne.a(dr(n,e),t))return e;--e}}function ir(n,t){this.O=n,this.da=t}function lr(n,t,e){this.O=n,this.da=t,this.ba=e,this.B=166592766,this.U=139264}function ur(n){return 0<n.length?new lr(n,0,null):null}function ar(n,t,e){this.ie=n,this.da=t,this.ba=e,this.B=32374990,this.U=8192}function or(n){return Me(Te(n))}function sr(n){for(;;){var t=Te(n);if(null==t)return Me(n);n=t}}Zn.null=!0,Qn.null=function(){return 0},Date.prototype.ga=function(n,t){return t instanceof Date&&this.valueOf()===t.valueOf()},Pt.number=function(n,t){return n===t},Jn.function=!0,Ct.function=!0,Dt.function=function(){return null},$t._=function(n){return d(n)},We.prototype.wc=function(){return this.F},ir.prototype.cb=function(){return this.da<this.O.length},ir.prototype.next=function(){var n=this.O[this.da];return this.da+=1,n},(i=lr.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.Aa=function(n,t){if(0<=(n=t+this.da)&&n<this.O.length)return this.O[n];throw Error("Index out of bounds")},i.Ua=function(n,t,e){return 0<=(n=t+this.da)&&n<this.O.length?this.O[n]:e},i.Ca=function(){return new ir(this.O,this.da)},i.X=function(){return this.ba},i.Ba=function(){return new lr(this.O,this.da,this.ba)},i.Kb=function(){return this.da+1<this.O.length?new lr(this.O,this.da+1,null):null},i.na=function(){var n=this.O.length-this.da;return 0>n?0:n},i.Zc=function(){var n=this.na(null);return 0<n?new ar(this,n-1,null):null},i.la=function(){return Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Qe(this.O,t,this.O[this.da],this.da+1)},i.nb=function(n,t,e){return Qe(this.O,t,e,this.da)},i.Mb=function(){return this.O[this.da]},i.Nb=function(){return this.da+1<this.O.length?new lr(this.O,this.da+1,null):si},i.pa=function(){return this.da<this.O.length?this:null},i.Y=function(n,t){return t===this.ba?this:new lr(this.O,this.da,t)},i.ra=function(n,t){return di(t,this)},lr.prototype[Gn]=function(){return ze(this)},(i=ar.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Ba=function(){return new ar(this.ie,this.da,this.ba)},i.Kb=function(){return 0<this.da?new ar(this.ie,this.da-1,null):null},i.na=function(){return this.da+1},i.la=function(){return Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return ut.a(this.ie,this.da)},i.Nb=function(){return 0<this.da?new ar(this.ie,this.da-1,null):si},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new ar(this.ie,this.da,t)},i.ra=function(n,t){return di(t,this)},ar.prototype[Gn]=function(){return ze(this)},Pt._=function(n,t){return n===t};var cr=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function fr(n){return null==n?null:null!=n&&(4&n.B||An===n.ji)?n.bb(null):(null!=n?4&n.B||An===n.ji||!n.B&&Un(nt,n):Un(nt,n))?tt(n):null}function hr(n){if(null!=n)if(null!=n&&(2&n.B||An===n.hi))n=n.na(null);else if($n(n))n=n.length;else if("string"==typeof n)n=n.length;else if(null!=n&&(8388608&n.B||An===n.gh))n:{n=De(n);for(var t=0;;){if(nr(n)){n=t+Qn(n);break n}n=Te(n),t+=1}}else n=Qn(n);else n=0;return n}function dr(n,t){if("number"!=typeof t)throw Error("Index argument to nth must be a number");if(null==n)return n;if(null!=n&&(16&n.B||An===n.eh))return n.Aa(null,t);if($n(n)){if(-1<t&&t<n.length)return n[0|t];throw Error("Index out of bounds")}if("string"==typeof n){if(-1<t&&t<n.length)return n.charAt(0|t);throw Error("Index out of bounds")}if(null!=n&&(64&n.B||An===n.ja)||null!=n&&(16777216&n.B||An===n.hh)){if(0>t)throw Error("Index out of bounds");n:for(;;){if(null==n)throw Error("Index out of bounds");if(0===t){if(De(n)){n=Me(n);break n}throw Error("Index out of bounds")}if(tr(n)){n=ut.a(n,t);break n}if(!De(n))throw Error("Index out of bounds");n=Te(n),--t}return n}if(Un(it,n))return ut.a(n,t);throw Error(["nth not supported on this type ",ii.g(Wn(qn(n)))].join(""))}function pr(n,t){if("number"!=typeof t)throw Error("Index argument to nth must be a number.");if(null==n)return null;if(null!=n&&(16&n.B||An===n.eh))return n.Ua(null,t,null);if($n(n))return-1<t&&t<n.length?n[0|t]:null;if("string"==typeof n)return-1<t&&t<n.length?n.charAt(0|t):null;if(null!=n&&(64&n.B||An===n.ja)||null!=n&&(16777216&n.B||An===n.hh))return 0>t?null:function(n,t){for(var e=null;;){if(null==n)return e;if(0===t)return De(n)?Me(n):e;if(tr(n))return ut.j(n,t,e);if(!De(n))return e;n=Te(n),--t}}(n,t);if(Un(it,n))return ut.j(n,t,null);throw Error(["nth not supported on this type ",ii.g(Wn(qn(n)))].join(""))}cr.L=function(){return Zl},cr.g=function(n){return n},cr.a=function(n,t){return null!=n?rt(n,t):new ui(null,t,null,1,null)},cr.l=function(n,t,e){for(;;){if(!zn(e))return cr.a(n,t);n=cr.a(n,t),t=Me(e),e=Te(e)}},cr.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},cr.R=2;var gr=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};gr.a=function(n,t){return null==n?null:null!=n&&(256&n.B||An===n.ni)?n.oa(null,t):$n(n)?null!=t&&t<n.length?n[0|t]:null:"string"==typeof n?null!=t&&-1<t&&t<n.length?n.charAt(0|t):null:Un(ht,n)?pt.a(n,t):null},gr.j=function(n,t,e){return null!=n?null!=n&&(256&n.B||An===n.ni)?n.Z(null,t,e):$n(n)?null!=t&&-1<t&&t<n.length?n[0|t]:e:"string"==typeof n?null!=t&&-1<t&&t<n.length?n.charAt(0|t):e:Un(ht,n)?pt.j(n,t,e):e:e},gr.R=3;var mr=function n(t){switch(arguments.length){case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],new lr(e.slice(3),0,null))}};mr.j=function(n,t,e){return null!=n&&(512&n.B||An===n.yk)?n.ia(null,t,e):null!=n?gt(n,t,e):Au([t,e])},mr.l=function(n,t,e,r){for(;;){if(n=mr.j(n,t,e),!zn(r))return n;t=Me(r),e=or(r),r=Te(Te(r))}},mr.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);return e=Me(r),r=Te(r),this.l(t,n,e,r)},mr.R=3;var vr=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function wr(n){var t=f(n);return t||(null!=n?An===n.bh||!n.od&&Un(Jn,n):Un(Jn,n))}function yr(n,t){this.W=n,this.ba=t,this.B=393217,this.U=0}function br(n,t){return f(n)?new yr(n,t):null==n?null:Mt(n,t)}function xr(n){return null!=n&&(null!=n?131072&n.B||An===n.oi||!n.B&&Un(Ct,n):Un(Ct,n))?Dt(n):null}vr.g=function(n){return n},vr.a=function(n,t){return null==n?null:wt(n,t)},vr.l=function(n,t,e){for(;;){if(null==n)return null;if(n=vr.a(n,t),!zn(e))return n;t=Me(e),e=Te(e)}},vr.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},vr.R=2,(i=yr.prototype).X=function(){return this.ba},i.Y=function(n,t){return new yr(this.W,t)},i.bh=An,i.call=function(){function n(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x){return Pi.l(this.W,t,e,r,i,ur([l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x]))}function t(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b){return(n=this).W.Lb?n.W.Lb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b)}function e(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){return(n=this).W.Db?n.W.Db(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y)}function r(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){return(n=this).W.wb?n.W.wb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w)}function i(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){return(n=this).W.vb?n.W.vb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v)}function l(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){return(n=this).W.ub?n.W.ub(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m)}function u(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){return(n=this).W.tb?n.W.tb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g)}function a(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){return(n=this).W.sb?n.W.sb(t,e,r,i,l,u,a,o,s,c,f,h,d,p):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p)}function o(n,t,e,r,i,l,u,a,o,s,c,f,h,d){return(n=this).W.rb?n.W.rb(t,e,r,i,l,u,a,o,s,c,f,h,d):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d)}function s(n,t,e,r,i,l,u,a,o,s,c,f,h){return(n=this).W.qb?n.W.qb(t,e,r,i,l,u,a,o,s,c,f,h):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f,h)}function c(n,t,e,r,i,l,u,a,o,s,c,f){return(n=this).W.pb?n.W.pb(t,e,r,i,l,u,a,o,s,c,f):n.W.call(null,t,e,r,i,l,u,a,o,s,c,f)}function f(n,t,e,r,i,l,u,a,o,s,c){return(n=this).W.lb?n.W.lb(t,e,r,i,l,u,a,o,s,c):n.W.call(null,t,e,r,i,l,u,a,o,s,c)}function h(n,t,e,r,i,l,u,a,o,s){return(n=this).W.Wa?n.W.Wa(t,e,r,i,l,u,a,o,s):n.W.call(null,t,e,r,i,l,u,a,o,s)}function d(n,t,e,r,i,l,u,a,o){return(n=this).W.Va?n.W.Va(t,e,r,i,l,u,a,o):n.W.call(null,t,e,r,i,l,u,a,o)}function p(n,t,e,r,i,l,u,a){return(n=this).W.mb?n.W.mb(t,e,r,i,l,u,a):n.W.call(null,t,e,r,i,l,u,a)}function g(n,t,e,r,i,l,u){return(n=this).W.Ta?n.W.Ta(t,e,r,i,l,u):n.W.call(null,t,e,r,i,l,u)}function m(n,t,e,r,i,l){return(n=this).W.za?n.W.za(t,e,r,i,l):n.W.call(null,t,e,r,i,l)}function v(n,t,e,r,i){return(n=this).W.aa?n.W.aa(t,e,r,i):n.W.call(null,t,e,r,i)}function w(n,t,e,r){return(n=this).W.j?n.W.j(t,e,r):n.W.call(null,t,e,r)}function y(n,t,e){return(n=this).W.a?n.W.a(t,e):n.W.call(null,t,e)}function b(n,t){return(n=this).W.g?n.W.g(t):n.W.call(null,t)}function x(n){return(n=this).W.L?n.W.L():n.W.call(null)}var _;return(_=function(_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U,q){switch(arguments.length){case 1:return x.call(this,_);case 2:return b.call(this,_,k);case 3:return y.call(this,_,k,j);case 4:return w.call(this,_,k,j,O);case 5:return v.call(this,_,k,j,O,A);case 6:return m.call(this,_,k,j,O,A,E);case 7:return g.call(this,_,k,j,O,A,E,S);case 8:return p.call(this,_,k,j,O,A,E,S,C);case 9:return d.call(this,_,k,j,O,A,E,S,C,D);case 10:return h.call(this,_,k,j,O,A,E,S,C,D,M);case 11:return f.call(this,_,k,j,O,A,E,S,C,D,M,F);case 12:return c.call(this,_,k,j,O,A,E,S,C,D,M,F,T);case 13:return s.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N);case 14:return o.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B);case 15:return a.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z);case 16:return u.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P);case 17:return l.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$);case 18:return i.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R);case 19:return r.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I);case 20:return e.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L);case 21:return t.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U);case 22:return n.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U,q)}throw Error("Invalid arity: "+(arguments.length-1))}).g=x,_.a=b,_.j=y,_.aa=w,_.za=v,_.Ta=m,_.mb=g,_.Va=p,_.Wa=d,_.lb=h,_.pb=f,_.qb=c,_.rb=s,_.sb=o,_.tb=a,_.ub=u,_.vb=l,_.wb=i,_.Db=r,_.Lb=e,_.je=t,_.dh=n,_}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.L=function(){return this.W.L?this.W.L():this.W.call(null)},i.g=function(n){return this.W.g?this.W.g(n):this.W.call(null,n)},i.a=function(n,t){return this.W.a?this.W.a(n,t):this.W.call(null,n,t)},i.j=function(n,t,e){return this.W.j?this.W.j(n,t,e):this.W.call(null,n,t,e)},i.aa=function(n,t,e,r){return this.W.aa?this.W.aa(n,t,e,r):this.W.call(null,n,t,e,r)},i.za=function(n,t,e,r,i){return this.W.za?this.W.za(n,t,e,r,i):this.W.call(null,n,t,e,r,i)},i.Ta=function(n,t,e,r,i,l){return this.W.Ta?this.W.Ta(n,t,e,r,i,l):this.W.call(null,n,t,e,r,i,l)},i.mb=function(n,t,e,r,i,l,u){return this.W.mb?this.W.mb(n,t,e,r,i,l,u):this.W.call(null,n,t,e,r,i,l,u)},i.Va=function(n,t,e,r,i,l,u,a){return this.W.Va?this.W.Va(n,t,e,r,i,l,u,a):this.W.call(null,n,t,e,r,i,l,u,a)},i.Wa=function(n,t,e,r,i,l,u,a,o){return this.W.Wa?this.W.Wa(n,t,e,r,i,l,u,a,o):this.W.call(null,n,t,e,r,i,l,u,a,o)},i.lb=function(n,t,e,r,i,l,u,a,o,s){return this.W.lb?this.W.lb(n,t,e,r,i,l,u,a,o,s):this.W.call(null,n,t,e,r,i,l,u,a,o,s)},i.pb=function(n,t,e,r,i,l,u,a,o,s,c){return this.W.pb?this.W.pb(n,t,e,r,i,l,u,a,o,s,c):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c)},i.qb=function(n,t,e,r,i,l,u,a,o,s,c,f){return this.W.qb?this.W.qb(n,t,e,r,i,l,u,a,o,s,c,f):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f)},i.rb=function(n,t,e,r,i,l,u,a,o,s,c,f,h){return this.W.rb?this.W.rb(n,t,e,r,i,l,u,a,o,s,c,f,h):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h)},i.sb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d){return this.W.sb?this.W.sb(n,t,e,r,i,l,u,a,o,s,c,f,h,d):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d)},i.tb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){return this.W.tb?this.W.tb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p)},i.ub=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){return this.W.ub?this.W.ub(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g)},i.vb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){return this.W.vb?this.W.vb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m)},i.wb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){return this.W.wb?this.W.wb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v)},i.Db=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){return this.W.Db?this.W.Db(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w)},i.Lb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){return this.W.Lb?this.W.Lb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):this.W.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y)},i.je=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b){return Pi.l(this.W,n,t,e,r,ur([i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b]))};var _r=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function kr(n){return null==n||In(De(n))}function jr(n){return null!=n&&(null!=n?!!(8&n.B||An===n.Ak)||!n.B&&Un(et,n):Un(et,n))}function Or(n){return null!=n&&(null!=n?!!(4096&n.B||An===n.Lk)||!n.B&&Un(xt,n):Un(xt,n))}function Ar(n){return null!=n?!!(16777216&n.B||An===n.hh)||!n.B&&Un(Lt,n):Un(Lt,n)}function Er(n){return null!=n&&(null!=n?!!(1024&n.B||An===n.Gk)||!n.B&&Un(vt,n):Un(vt,n))}function Sr(n){return null!=n?!!(67108864&n.B||An===n.Jk)||!n.B&&Un(qt,n):Un(qt,n)}function Cr(n){return null!=n?!!(16384&n.B||An===n.Mk)||!n.B&&Un(Ot,n):Un(Ot,n)}function Dr(n){return null!=n&&!!(512&n.U||An===n.zk)}function Mr(n,t,e,r,i){for(;0!==i;)e[r]=n[t],r+=1,--i,t+=1}_r.g=function(n){return n},_r.a=function(n,t){return null==n?null:_t(n,t)},_r.l=function(n,t,e){for(;;){if(null==n)return null;if(n=_r.a(n,t),!zn(e))return n;t=Me(e),e=Te(e)}},_r.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},_r.R=2;var Fr={};function Tr(n){return!0===n}function Nr(n){return null!=n&&(null!=n?!!(64&n.B||An===n.ja)||!n.B&&Un(at,n):Un(at,n))}function Br(n){return null!=n&&!1!==n}function zr(n){var t=wr(n);return t||(null!=n?!!(1&n.B||An===n.Ck)||!n.B&&Un(Xn,n):Un(Xn,n))}function Pr(n){return"number"==typeof n&&!isNaN(n)&&1/0!==n&&parseFloat(n)===parseInt(n,10)}function $r(n,t){return gr.j(n,t,Fr)!==Fr}function Rr(n,t){return(t=De(t))?Hr(n,Me(t),Te(t)):n.L?n.L():n.call(null)}function Ir(n,t,e){for(e=De(e);;){if(!e)return t;var r=Me(e);if(Ye(t=n.a?n.a(t,r):n.call(null,t,r)))return St(t);e=Te(e)}}function Lr(n,t){if(!zn((n=de(n)).cb()))return t.L?t.L():t.call(null);for(var e=n.next();;){if(!n.cb())return e;var r=n.next();if(Ye(e=t.a?t.a(e,r):t.call(null,e,r)))return St(e)}}function Ur(n,t,e){for(n=de(n);;){if(!n.cb())return e;var r=n.next();if(Ye(e=t.a?t.a(e,r):t.call(null,e,r)))return St(e)}}function qr(n,t){return null!=t&&(524288&t.B||An===t.pi)?t.Eb(null,n):$n(t)||"string"==typeof t?Ke(t,n):Un(Ft,t)?Nt.a(t,n):Ce(t)?Lr(t,n):Rr(n,t)}function Hr(n,t,e){return null!=e&&(524288&e.B||An===e.pi)?e.nb(null,n,t):$n(e)||"string"==typeof e?Ze(e,n,t):Un(Ft,e)?Nt.j(e,n,t):Ce(e)?Ur(e,n,t):Ir(n,t,e)}function Wr(n,t,e){return null!=e?zt(e,n,t):t}function Gr(n){return n}function Yr(n){return function(){function t(t,e){return n.a?n.a(t,e):n.call(null,t,e)}function e(n){return Gr.g?Gr.g(n):Gr.call(null,n)}function r(){return n.L?n.L():n.call(null)}var i;return(i=function(n,i){switch(arguments.length){case 0:return r.call(this);case 1:return e.call(this,n);case 2:return t.call(this,n,i)}throw Error("Invalid arity: "+arguments.length)}).L=r,i.g=e,i.a=t,i}()}function Vr(n,t,e,r){return e=Hr(n=n.g?n.g(t):n.call(null,t),e,r),n.g?n.g(e):n.call(null,e)}var Jr=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};Jr.L=function(){return 0},Jr.g=function(n){return n},Jr.a=function(n,t){return n+t},Jr.l=function(n,t,e){return Hr(Jr,n+t,e)},Jr.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},Jr.R=2;var Xr=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function Kr(n){return n-1}function Zr(n){if("number"==typeof n)return String.fromCharCode(n);if("string"==typeof n&&1===n.length)return n;throw Error("Argument to char must be a character or number")}function Qr(n,t){return 0<=(n=(n-n%t)/t)?Math.floor(n):Math.ceil(n)}function ni(n,t){return n-t*Qr(n,t)}function ti(n){return 16843009*((n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135)>>24}function ei(n){switch(arguments.length){case 1:return!0;case 2:return Pt(arguments[0],arguments[1]);default:for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;n:for(e=arguments[0],r=arguments[1],t=new lr(t.slice(2),0,null);;){if(e!==r){e=!1;break n}if(!Te(t)){e=r===Me(t);break n}e=r,r=Me(t),t=Te(t)}return e}}function ri(n,t){return Pt(n,t)}Xr.g=function(n){return-n},Xr.a=function(n,t){return n-t},Xr.l=function(n,t,e){return Hr(Xr,n-t,e)},Xr.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},Xr.R=2;var ii=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],new lr(e.slice(1),0,null))}};function li(n,t){if(Ar(t))if(nr(n)&&nr(t)&&hr(n)!==hr(t))n=!1;else n:for(n=De(n),t=De(t);;){if(null==n){n=null==t;break n}if(null==t||!Ne.a(Me(n),Me(t))){n=!1;break n}n=Te(n),t=Te(t)}else n=null;return Br(n)}function ui(n,t,e,r,i){this.ba=n,this.first=t,this.Qb=e,this.count=r,this.G=i,this.B=65937646,this.U=8192}function ai(n){return null!=n?!!(33554432&n.B||An===n.Fk)||!n.B&&Un(Ut,n):Un(Ut,n)}function oi(n){this.ba=n,this.B=65937614,this.U=8192}ii.L=function(){return""},ii.g=function(n){return null==n?"":[n].join("")},ii.l=function(n,t){for(n=new cn(ii.g(n));;){if(!zn(t))return n.toString();n=n.append(ii.g(Me(t))),t=Te(t)}},ii.S=function(n){var t=Me(n);return n=Te(n),this.l(t,n)},ii.R=1,(i=ui.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,this.count)}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Ba=function(){return new ui(this.ba,this.first,this.Qb,this.count,this.G)},i.Kb=function(){return 1===this.count?null:this.Qb},i.na=function(){return this.count},i.$c=function(){return this.first},i.ad=function(){return this.Nb(null)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return Mt(si,this.ba)},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return this.first},i.Nb=function(){return 1===this.count?si:this.Qb},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new ui(t,this.first,this.Qb,this.count,this.G)},i.ra=function(n,t){return new ui(this.ba,t,this,this.count+1,null)},ui.prototype[Gn]=function(){return ze(this)},(i=oi.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Ba=function(){return new oi(this.ba)},i.Kb=function(){return null},i.na=function(){return 0},i.$c=function(){return null},i.ad=function(){throw Error("Can't pop empty list")},i.la=function(){return Le},i.ga=function(n,t){return!(!ai(t)&&!Ar(t))&&null==De(t)},i.bb=function(){return this},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return null},i.Nb=function(){return si},i.pa=function(){return null},i.Y=function(n,t){return t===this.ba?this:new oi(t)},i.ra=function(n,t){return new ui(this.ba,t,null,1,null)};var si=new oi(null);function ci(n){return(null!=n?134217728&n.B||An===n.Kk||!n.B&&Un(Ht,n):Un(Ht,n))?(n=Wt(n))?n:si:Hr(cr,si,n)}oi.prototype[Gn]=function(){return ze(this)};var fi=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function hi(n,t,e,r){this.ba=n,this.first=t,this.Qb=e,this.G=r,this.B=65929452,this.U=8192}function di(n,t){return null==t?new ui(null,n,null,1,null):null!=t&&(64&t.B||An===t.ja)?new hi(null,n,t,null):new hi(null,n,De(t),null)}function pi(n,t,e,r){this.Ee=n,this.name=t,this.qa=e,this.Ld=r,this.B=2153775105,this.U=4096}function gi(n,t){return n===t||n instanceof pi&&t instanceof pi&&n.qa===t.qa}function mi(n){if(null!=n&&(4096&n.U||An===n.fh))return n.le(null);throw Error(["Doesn't support namespace: ",ii.g(n)].join(""))}fi.l=function(n){if(n instanceof lr&&0===n.da)var t=n.O;else n:for(t=[];null!=n;)t.push(ot(n)),n=ft(n);n=t.length;for(var e=si;;){if(!(0<n))return e;var r=n-1;e=rt(e,t[n-1]),n=r}},fi.R=0,fi.S=function(n){return this.l(De(n))},(i=hi.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Ba=function(){return new hi(this.ba,this.first,this.Qb,this.G)},i.Kb=function(){return null==this.Qb?null:De(this.Qb)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return this.first},i.Nb=function(){return null==this.Qb?si:this.Qb},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new hi(t,this.first,this.Qb,this.G)},i.ra=function(n,t){return new hi(null,t,this,null)},hi.prototype[Gn]=function(){return ze(this)},(i=pi.prototype).toString=function(){return[":",ii.g(this.qa)].join("")},i.equiv=function(n){return this.ga(null,n)},i.ga=function(n,t){return t instanceof pi&&this.qa===t.qa},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return gr.a(t,this);case 3:return gr.j(t,this,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return gr.a(t,this)},n.j=function(n,t,e){return gr.j(t,this,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return gr.a(n,this)},i.a=function(n,t){return gr.j(n,this,t)},i.la=function(){var n=this.Ld;return null!=n?n:this.Ld=n=Oe(this)+2654435769|0},i.ke=function(){return this.name},i.le=function(){return this.Ee},i.ka=function(n,t){return Gt(t,[":",ii.g(this.qa)].join(""))};var vi=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function wi(n,t,e,r){this.ba=n,this.v=t,this.La=e,this.G=r,this.B=32374988,this.U=1}function yi(n){return null!=n.v&&(n.La=n.v.L?n.v.L():n.v.call(null),n.v=null),n.La}function bi(n){this.Ma=n,this.end=0,this.B=2,this.U=0}function xi(n){return new bi(Array(n))}function _i(n,t,e){this.O=n,this.off=t,this.end=e,this.B=524306,this.U=0}function ki(n,t,e,r){this.Na=n,this.Lc=t,this.ba=e,this.G=r,this.B=31850732,this.U=1536}function ji(n,t){return 0===Qn(n)?t:new ki(n,t,null,null)}function Oi(n,t){n.add(t)}function Ai(n,t){if(nr(t))return hr(t);var e=0;for(t=De(t);;){if(!(null!=t&&e<n))return e;e+=1,t=Te(t)}}vi.g=function(n){if(n instanceof pi)return n;if(n instanceof Ae)return new pi(mi(n),Ea(n),n.lc,null);if(Ne.a("/",n))return new pi(null,n,n,null);if("string"==typeof n){var t=n.split("/");return 2===t.length?new pi(t[0],t[1],n,null):new pi(null,t[0],n,null)}return null},vi.a=function(n,t){return new pi(n=n instanceof pi||n instanceof Ae?Ea(n):n,t=t instanceof pi||t instanceof Ae?Ea(t):t,[zn(n)?[ii.g(n),"/"].join(""):null,ii.g(t)].join(""),null)},vi.R=2,(i=wi.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){return this.pa(null),null==this.La?null:Te(this.La)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return Mt(si,this.ba)},i.Re=function(){return In(this.v)},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return this.pa(null),null==this.La?null:Me(this.La)},i.Nb=function(){return this.pa(null),null!=this.La?Fe(this.La):si},i.pa=function(){if(yi(this),null==this.La)return null;for(var n=this.La;;){if(!(n instanceof wi))return this.La=n,De(this.La);n=yi(n)}},i.Y=function(n,t){var e=this;return t===this.ba?e:new wi(t,(function(){return e.pa(null)}),null,this.G)},i.ra=function(n,t){return di(t,this)},wi.prototype[Gn]=function(){return ze(this)},bi.prototype.add=function(n){return this.Ma[this.end]=n,this.end+=1},bi.prototype.Na=function(){var n=new _i(this.Ma,0,this.end);return this.Ma=null,n},bi.prototype.na=function(){return this.end},(i=_i.prototype).na=function(){return this.end-this.off},i.Aa=function(n,t){return this.O[this.off+t]},i.Ua=function(n,t,e){return 0<=t&&t<this.end-this.off?this.O[this.off+t]:e},i.ag=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new _i(this.O,this.off+1,this.end)},i.Eb=function(n,t){return Qe(this.O,t,this.O[this.off],this.off+1)},i.nb=function(n,t,e){return Qe(this.O,t,e,this.off)},(i=ki.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){return 1<Qn(this.Na)?new ki(ie(this.Na),this.Lc,null,null):null==this.Lc?null:It(this.Lc)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Mb=function(){return ut.a(this.Na,0)},i.Nb=function(){return 1<Qn(this.Na)?new ki(ie(this.Na),this.Lc,null,null):null==this.Lc?si:this.Lc},i.pa=function(){return this},i.Qe=function(){return this.Na},i.Pd=function(){return null==this.Lc?si:this.Lc},i.Y=function(n,t){return t===this.ba?this:new ki(this.Na,this.Lc,t,this.G)},i.ra=function(n,t){return di(t,this)},i.bg=function(){return null==this.Lc?null:this.Lc},ki.prototype[Gn]=function(){return ze(this)};var Ei=function n(t){if(null==t)return null;var e=Te(t);return null==e?De(Me(t)):di(Me(t),n.g?n.g(e):n.call(null,e))},Si=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};Si.L=function(){return new wi(null,(function(){return null}),null,null)},Si.g=function(n){return new wi(null,(function(){return n}),null,null)},Si.a=function(n,t){return new wi(null,(function(){var e=De(n);return e?Dr(e)?ji(le(e),Si.a(ue(e),t)):di(Me(e),Si.a(Fe(e),t)):t}),null,null)},Si.l=function(n,t,e){return function n(t,e){return new wi(null,(function(){var r=De(t);return r?Dr(r)?ji(le(r),n(ue(r),e)):di(Me(r),n(Fe(r),e)):zn(e)?n(Me(e),Te(e)):null}),null,null)}(Si.a(n,t),e)},Si.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},Si.R=2;var Ci=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function Di(n,t,e){return re(n,t,e)}function Mi(n,t,e){var r=De(e);if(0===t)return n.L?n.L():n.call(null);e=ot(r);var i=st(r);if(1===t)return n.g?n.g(e):n.call(null,e);r=ot(i);var l=st(i);if(2===t)return n.a?n.a(e,r):n.call(null,e,r);i=ot(l);var u=st(l);if(3===t)return n.j?n.j(e,r,i):n.call(null,e,r,i);l=ot(u);var a=st(u);if(4===t)return n.aa?n.aa(e,r,i,l):n.call(null,e,r,i,l);u=ot(a);var o=st(a);if(5===t)return n.za?n.za(e,r,i,l,u):n.call(null,e,r,i,l,u);a=ot(o);var s=st(o);if(6===t)return n.Ta?n.Ta(e,r,i,l,u,a):n.call(null,e,r,i,l,u,a);o=ot(s);var c=st(s);if(7===t)return n.mb?n.mb(e,r,i,l,u,a,o):n.call(null,e,r,i,l,u,a,o);s=ot(c);var f=st(c);if(8===t)return n.Va?n.Va(e,r,i,l,u,a,o,s):n.call(null,e,r,i,l,u,a,o,s);c=ot(f);var h=st(f);if(9===t)return n.Wa?n.Wa(e,r,i,l,u,a,o,s,c):n.call(null,e,r,i,l,u,a,o,s,c);f=ot(h);var d=st(h);if(10===t)return n.lb?n.lb(e,r,i,l,u,a,o,s,c,f):n.call(null,e,r,i,l,u,a,o,s,c,f);h=ot(d);var p=st(d);if(11===t)return n.pb?n.pb(e,r,i,l,u,a,o,s,c,f,h):n.call(null,e,r,i,l,u,a,o,s,c,f,h);d=ot(p);var g=st(p);if(12===t)return n.qb?n.qb(e,r,i,l,u,a,o,s,c,f,h,d):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d);p=ot(g);var m=st(g);if(13===t)return n.rb?n.rb(e,r,i,l,u,a,o,s,c,f,h,d,p):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p);g=ot(m);var v=st(m);if(14===t)return n.sb?n.sb(e,r,i,l,u,a,o,s,c,f,h,d,p,g):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p,g);m=ot(v);var w=st(v);if(15===t)return n.tb?n.tb(e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m);v=ot(w);var y=st(w);if(16===t)return n.ub?n.ub(e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v);w=ot(y);var b=st(y);if(17===t)return n.vb?n.vb(e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w);y=ot(b);var x=st(b);if(18===t)return n.wb?n.wb(e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y);if(b=ot(x),x=st(x),19===t)return n.Db?n.Db(e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b);var _=ot(x);if(st(x),20===t)return n.Lb?n.Lb(e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,_):n.call(null,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,_);throw Error("Only up to 20 arguments supported on functions")}function Fi(n){return null!=n&&(128&n.B||An===n.me)?n.Kb(null):De(Fe(n))}function Ti(n,t,e){return null==e?n.g?n.g(t):n.call(n,t):Ni(n,t,ot(e),Fi(e))}function Ni(n,t,e,r){return null==r?n.a?n.a(t,e):n.call(n,t,e):Bi(n,t,e,ot(r),Fi(r))}function Bi(n,t,e,r,i){return null==i?n.j?n.j(t,e,r):n.call(n,t,e,r):zi(n,t,e,r,ot(i),Fi(i))}function zi(n,t,e,r,i,l){if(null==l)return n.aa?n.aa(t,e,r,i):n.call(n,t,e,r,i);var u=ot(l),a=Te(l);if(null==a)return n.za?n.za(t,e,r,i,u):n.call(n,t,e,r,i,u);l=ot(a);var o=Te(a);if(null==o)return n.Ta?n.Ta(t,e,r,i,u,l):n.call(n,t,e,r,i,u,l);a=ot(o);var s=Te(o);if(null==s)return n.mb?n.mb(t,e,r,i,u,l,a):n.call(n,t,e,r,i,u,l,a);o=ot(s);var c=Te(s);if(null==c)return n.Va?n.Va(t,e,r,i,u,l,a,o):n.call(n,t,e,r,i,u,l,a,o);s=ot(c);var f=Te(c);if(null==f)return n.Wa?n.Wa(t,e,r,i,u,l,a,o,s):n.call(n,t,e,r,i,u,l,a,o,s);c=ot(f);var h=Te(f);if(null==h)return n.lb?n.lb(t,e,r,i,u,l,a,o,s,c):n.call(n,t,e,r,i,u,l,a,o,s,c);f=ot(h);var d=Te(h);if(null==d)return n.pb?n.pb(t,e,r,i,u,l,a,o,s,c,f):n.call(n,t,e,r,i,u,l,a,o,s,c,f);h=ot(d);var p=Te(d);if(null==p)return n.qb?n.qb(t,e,r,i,u,l,a,o,s,c,f,h):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h);d=ot(p);var g=Te(p);if(null==g)return n.rb?n.rb(t,e,r,i,u,l,a,o,s,c,f,h,d):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d);p=ot(g);var m=Te(g);if(null==m)return n.sb?n.sb(t,e,r,i,u,l,a,o,s,c,f,h,d,p):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d,p);g=ot(m);var v=Te(m);if(null==v)return n.tb?n.tb(t,e,r,i,u,l,a,o,s,c,f,h,d,p,g):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d,p,g);m=ot(v);var w=Te(v);if(null==w)return n.ub?n.ub(t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m);v=ot(w);var y=Te(w);if(null==y)return n.vb?n.vb(t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v);w=ot(y);var b=Te(y);if(null==b)return n.wb?n.wb(t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v,w):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v,w);y=ot(b);var x=Te(b);if(null==x)return n.Db?n.Db(t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v,w,y):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v,w,y);if(b=ot(x),null==(x=Te(x)))return n.Lb?n.Lb(t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v,w,y,b):n.call(n,t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v,w,y,b);for(t=[t,e,r,i,u,l,a,o,s,c,f,h,d,p,g,m,v,w,y,b],e=x;e;)t.push(ot(e)),e=Te(e);return n.apply(n,t)}Ci.L=function(){return ne(Zl)},Ci.g=function(n){return n},Ci.a=function(n,t){return te(n,t)},Ci.l=function(n,t,e){for(;;){if(n=te(n,t),!zn(e))return n;t=Me(e),e=Te(e)}},Ci.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},Ci.R=2;var Pi=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);case 4:return n.aa(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return n.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],new lr(e.slice(5),0,null))}};function $i(n,t,e){var r=xr(n);return br(n,t=mr.j?mr.j(r,t,e):mr.call(null,r,t,e))}Pi.a=function(n,t){if(n.S){var e=n.R,r=Ai(e+1,t);return r<=e?Mi(n,r,t):n.S(t)}return null==(t=De(t))?n.L?n.L():n.call(n):Ti(n,ot(t),Fi(t))},Pi.j=function(n,t,e){if(n.S){t=di(t,e);var r=n.R;return(e=Ai(r,e)+1)<=r?Mi(n,e,t):n.S(t)}return Ti(n,t,De(e))},Pi.aa=function(n,t,e,r){return n.S?(t=di(t,di(e,r)),(r=2+Ai((e=n.R)-1,r))<=e?Mi(n,r,t):n.S(t)):Ni(n,t,e,De(r))},Pi.za=function(n,t,e,r,i){return n.S?(t=di(t,di(e,di(r,i))),(i=3+Ai((e=n.R)-2,i))<=e?Mi(n,i,t):n.S(t)):Bi(n,t,e,r,De(i))},Pi.l=function(n,t,e,r,i,l){return n.S?(t=di(t,di(e,di(r,di(i,l=Ei(l))))),(l=4+Ai((e=n.R)-3,l))<=e?Mi(n,l,t):n.S(t)):zi(n,t,e,r,i,Ei(l))},Pi.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);e=Me(r);var i=Te(r);r=Me(i);var l=Te(i);return i=Me(l),l=Te(l),this.l(t,n,e,r,i,l)},Pi.R=5;var Ri=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function Ii(n){return De(n)?n:null}function Li(){return void 0!==jn&&void 0!==On&&void 0!==kn||((kn=function(n){this.zi=n,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new kn(t)},kn.prototype.X=function(){return this.zi},kn.prototype.cb=function(){return!1},kn.prototype.next=function(){return Error("No such element")},kn.prototype.remove=function(){return Error("Unsupported operation")},kn.wa=function(){return new Xl(null,1,5,Kl,[iz],null)},kn.ta=!0,kn.sa="cljs.core/t_cljs$core11814",kn.ua=function(n){return Gt(n,"cljs.core/t_cljs$core11814")}),new kn(ju)}function Ui(n){this.La=n,this.da=0}function qi(n){this.O=n,this.da=0}Ri.g=function(){return!1},Ri.a=function(n,t){return!Ne.a(n,t)},Ri.l=function(n,t,e){return In(Pi.aa(Ne,n,t,e))},Ri.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},Ri.R=2,Ui.prototype.cb=function(){return this.da<this.La.length},Ui.prototype.next=function(){var n=this.La.charAt(this.da);return this.da+=1,n},Ui.prototype.remove=function(){return Error("Unsupported operation")},qi.prototype.cb=function(){return this.da<this.O.length},qi.prototype.next=function(){var n=this.O[this.da];return this.da+=1,n},qi.prototype.remove=function(){return Error("Unsupported operation")};var Hi={},Wi={};function Gi(n){this.de=Hi,this.Yb=n}function Yi(n){if(Ce(n))return de(n);if(null==n)return Li();if("string"==typeof n)return new Ui(n);if($n(n))return new qi(n);var t=null==n;if(t||(t=(t=null!=n?!!(8388608&n.B||An===n.gh)||!n.B&&Un(Rt,n):Un(Rt,n))?t:$n(n)||"string"==typeof n),t)return new Gi(n);throw Error(["Cannot create iterator from ",ii.g(n)].join(""))}function Vi(n){this.Kf=n}Gi.prototype.cb=function(){return this.de===Hi?(this.de=Wi,this.Yb=De(this.Yb)):this.de===this.Yb&&(this.Yb=Te(this.de)),null!=this.Yb},Gi.prototype.next=function(){if(this.cb())return this.de=this.Yb,Me(this.Yb);throw Error("No such element")},Gi.prototype.remove=function(){return Error("Unsupported operation")},Vi.prototype.add=function(n){return this.Kf.push(n),this},Vi.prototype.remove=function(){return this.Kf.shift()},Vi.prototype.tf=function(){return 0===this.Kf.length},Vi.prototype.toString=function(){return["Many: ",ii.g(this.Kf)].join("")};var Ji={};function Xi(n){this.F=n}function Ki(){}Xi.prototype.add=function(n){return this.F===Ji?(this.F=n,this):new Vi([this.F,n])},Xi.prototype.remove=function(){if(this.F===Ji)throw Error("Removing object from empty buffer");var n=this.F;return this.F=Ji,n},Xi.prototype.tf=function(){return this.F===Ji},Xi.prototype.toString=function(){return["Single: ",ii.g(this.F)].join("")},Ki.prototype.add=function(n){return new Xi(n)},Ki.prototype.remove=function(){throw Error("Removing object from empty buffer")},Ki.prototype.tf=function(){return!0},Ki.prototype.toString=function(){return"Empty"};var Zi=new Ki;function Qi(n){this.buffer=Zi,this.Yb=Ji,this.qg=!1,this.Rc=null,this.Pg=n,this.Qj=!1}function nl(n,t){var e,r=new Qi(t);return r.Rc=(e=function(){function n(n,t){return r.buffer=r.buffer.add(t),n}var t;return(t=function(t,e){switch(arguments.length){case 0:return null;case 1:return t;case 2:return n.call(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).L=function(){return null},t.g=function(n){return n},t.a=n,t}(),n.g?n.g(e):n.call(null,e)),r}function tl(n,t){return n=function n(t){return new wi(null,(function(){if(!t.cb())return null;for(var e=[],r=0;;){var i=t.cb();if(!zn(zn(i)?32>r:i))return ji(new _i(e,0,r),n.g?n.g(t):n.call(null,t));e[r]=t.next(),r+=1}}),null,null)}(n=nl(n,t=Yi(t))),zn(n)?n:si}function el(n,t){for(;;){if(null==De(t))return!0;var e=Me(t);if(!zn(e=n.g?n.g(e):n.call(null,e)))return!1;t=Te(t)}}function rl(n,t){for(;;){if(!(t=De(t)))return null;var e=Me(t);if(zn(e=n.g?n.g(e):n.call(null,e)))return e;t=Te(t)}}function il(n){return function(){function t(t,e){return In(n.a?n.a(t,e):n.call(null,t,e))}function e(t){return In(n.g?n.g(t):n.call(null,t))}function r(){return In(n.L?n.L():n.call(null))}var i,l=function(){function t(n,t,r){var i=null;if(2<arguments.length){i=0;for(var l=Array(arguments.length-2);i<l.length;)l[i]=arguments[i+2],++i;i=new lr(l,0,null)}return e.call(this,n,t,i)}function e(t,e,r){return In(Pi.aa(n,t,e,r))}return t.R=2,t.S=function(n){return e(Me(n),Me(n=Te(n)),n=Fe(n))},t.l=e,t}();return(i=function(n,i,u){switch(arguments.length){case 0:return r.call(this);case 1:return e.call(this,n);case 2:return t.call(this,n,i);default:var a=null;if(2<arguments.length){a=0;for(var o=Array(arguments.length-2);a<o.length;)o[a]=arguments[a+2],++a;a=new lr(o,0,null)}return l.l(n,i,a)}throw Error("Invalid arity: "+arguments.length)}).R=2,i.S=l.S,i.L=r,i.g=e,i.a=t,i.l=l.l,i}()}function ll(n){return function(){function t(t){if(0<arguments.length)for(var e=0,r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;return n}return t.R=0,t.S=function(t){return De(t),n},t.l=function(){return n},t}()}Qi.prototype.step=function(){if(this.Yb!==Ji)return!0;for(;;){if(this.Yb!==Ji)return!0;if(this.buffer.tf()){if(this.qg)return!1;if(this.Pg.cb()){if(this.Qj)var n=Pi.a(this.Rc,di(null,this.Pg.next()));else n=this.Pg.next(),n=this.Rc.a?this.Rc.a(null,n):this.Rc.call(null,null,n);Ye(n)&&(this.Rc.g?this.Rc.g(null):this.Rc.call(null,null),this.qg=!0)}else this.Rc.g?this.Rc.g(null):this.Rc.call(null,null),this.qg=!0}else this.Yb=this.buffer.remove()}},Qi.prototype.cb=function(){return this.step()},Qi.prototype.next=function(){if(this.cb()){var n=this.Yb;return this.Yb=Ji,n}throw Error("No such element")},Qi.prototype.remove=function(){return Error("Unsupported operation")},Qi.prototype[Gn]=function(){return ze(this)};var ul=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],new lr(e.slice(3),0,null))}};ul.L=function(){return Gr},ul.g=function(n){return n},ul.a=function(n,t){return function(){function e(e,r,i){return e=t.j?t.j(e,r,i):t.call(null,e,r,i),n.g?n.g(e):n.call(null,e)}function r(e,r){return e=t.a?t.a(e,r):t.call(null,e,r),n.g?n.g(e):n.call(null,e)}function i(e){return e=t.g?t.g(e):t.call(null,e),n.g?n.g(e):n.call(null,e)}function l(){var e=t.L?t.L():t.call(null);return n.g?n.g(e):n.call(null,e)}var u,a=function(){function e(n,t,e,i){var l=null;if(3<arguments.length){l=0;for(var u=Array(arguments.length-3);l<u.length;)u[l]=arguments[l+3],++l;l=new lr(u,0,null)}return r.call(this,n,t,e,l)}function r(e,r,i,l){return e=Pi.za(t,e,r,i,l),n.g?n.g(e):n.call(null,e)}return e.R=3,e.S=function(n){return r(Me(n),Me(n=Te(n)),Me(n=Te(n)),n=Fe(n))},e.l=r,e}();return(u=function(n,t,u,o){switch(arguments.length){case 0:return l.call(this);case 1:return i.call(this,n);case 2:return r.call(this,n,t);case 3:return e.call(this,n,t,u);default:var s=null;if(3<arguments.length){s=0;for(var c=Array(arguments.length-3);s<c.length;)c[s]=arguments[s+3],++s;s=new lr(c,0,null)}return a.l(n,t,u,s)}throw Error("Invalid arity: "+arguments.length)}).R=3,u.S=a.S,u.L=l,u.g=i,u.a=r,u.j=e,u.l=a.l,u}()},ul.j=function(n,t,e){return function(){function r(r,i,l){return r=e.j?e.j(r,i,l):e.call(null,r,i,l),r=t.g?t.g(r):t.call(null,r),n.g?n.g(r):n.call(null,r)}function i(r,i){return r=e.a?e.a(r,i):e.call(null,r,i),r=t.g?t.g(r):t.call(null,r),n.g?n.g(r):n.call(null,r)}function l(r){return r=e.g?e.g(r):e.call(null,r),r=t.g?t.g(r):t.call(null,r),n.g?n.g(r):n.call(null,r)}function u(){var r=e.L?e.L():e.call(null);return r=t.g?t.g(r):t.call(null,r),n.g?n.g(r):n.call(null,r)}var a,o=function(){function r(n,t,e,r){var l=null;if(3<arguments.length){l=0;for(var u=Array(arguments.length-3);l<u.length;)u[l]=arguments[l+3],++l;l=new lr(u,0,null)}return i.call(this,n,t,e,l)}function i(r,i,l,u){return r=Pi.za(e,r,i,l,u),r=t.g?t.g(r):t.call(null,r),n.g?n.g(r):n.call(null,r)}return r.R=3,r.S=function(n){return i(Me(n),Me(n=Te(n)),Me(n=Te(n)),n=Fe(n))},r.l=i,r}();return(a=function(n,t,e,a){switch(arguments.length){case 0:return u.call(this);case 1:return l.call(this,n);case 2:return i.call(this,n,t);case 3:return r.call(this,n,t,e);default:var s=null;if(3<arguments.length){s=0;for(var c=Array(arguments.length-3);s<c.length;)c[s]=arguments[s+3],++s;s=new lr(c,0,null)}return o.l(n,t,e,s)}throw Error("Invalid arity: "+arguments.length)}).R=3,a.S=o.S,a.L=u,a.g=l,a.a=i,a.j=r,a.l=o.l,a}()},ul.l=function(n,t,e,r){var i=ci(di(n,di(t,di(e,r))));return function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){n=Pi.a(Me(i),n);for(var t=Te(i);;){if(!t)return n;var e=Me(t);n=e.g?e.g(n):e.call(null,n),t=Te(t)}}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()},ul.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);return e=Me(r),r=Te(r),this.l(t,n,e,r)},ul.R=3;var al=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);case 4:return n.aa(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],arguments[3],new lr(e.slice(4),0,null))}};function ol(n,t){return function t(e,r){return new wi(null,(function(){var i,l,u=De(r);if(u){if(Dr(u)){for(var a=le(u),o=hr(a),s=xi(o),c=0;c<o;)Oi(s,(i=void 0,l=void 0,i=e+c,l=ut.a(a,c),n.a?n.a(i,l):n.call(null,i,l))),c+=1;return ji(s.Na(),t(e+o,ue(u)))}return di(function(){var t=Me(u);return n.a?n.a(e,t):n.call(null,e,t)}(),t(e+1,Fe(u)))}return null}),null,null)}(0,t)}function sl(n){this.state=n,this.Sb=this.Jd=this.ba=null,this.U=16386,this.B=6455296}function cl(n){return new sl(n)}function fl(n,t){if(n instanceof sl){var e=n.Jd;if(null!=e&&!zn(e.g?e.g(t):e.call(null,t)))throw Error("Validator rejected reference state");return e=n.state,n.state=t,null!=n.Sb&&n.We(e,t),t}return se(n,t)}al.g=function(n){return n},al.a=function(n,t){return function(){function e(e,r,i){return n.aa?n.aa(t,e,r,i):n.call(null,t,e,r,i)}function r(e,r){return n.j?n.j(t,e,r):n.call(null,t,e,r)}function i(e){return n.a?n.a(t,e):n.call(null,t,e)}function l(){return n.g?n.g(t):n.call(null,t)}var u,a=function(){function e(n,t,e,i){var l=null;if(3<arguments.length){l=0;for(var u=Array(arguments.length-3);l<u.length;)u[l]=arguments[l+3],++l;l=new lr(u,0,null)}return r.call(this,n,t,e,l)}function r(e,r,i,l){return Pi.l(n,t,e,r,i,ur([l]))}return e.R=3,e.S=function(n){return r(Me(n),Me(n=Te(n)),Me(n=Te(n)),n=Fe(n))},e.l=r,e}();return(u=function(n,t,u,o){switch(arguments.length){case 0:return l.call(this);case 1:return i.call(this,n);case 2:return r.call(this,n,t);case 3:return e.call(this,n,t,u);default:var s=null;if(3<arguments.length){s=0;for(var c=Array(arguments.length-3);s<c.length;)c[s]=arguments[s+3],++s;s=new lr(c,0,null)}return a.l(n,t,u,s)}throw Error("Invalid arity: "+arguments.length)}).R=3,u.S=a.S,u.L=l,u.g=i,u.a=r,u.j=e,u.l=a.l,u}()},al.j=function(n,t,e){return function(){function r(r,i,l){return n.za?n.za(t,e,r,i,l):n.call(null,t,e,r,i,l)}function i(r,i){return n.aa?n.aa(t,e,r,i):n.call(null,t,e,r,i)}function l(r){return n.j?n.j(t,e,r):n.call(null,t,e,r)}function u(){return n.a?n.a(t,e):n.call(null,t,e)}var a,o=function(){function r(n,t,e,r){var l=null;if(3<arguments.length){l=0;for(var u=Array(arguments.length-3);l<u.length;)u[l]=arguments[l+3],++l;l=new lr(u,0,null)}return i.call(this,n,t,e,l)}function i(r,i,l,u){return Pi.l(n,t,e,r,i,ur([l,u]))}return r.R=3,r.S=function(n){return i(Me(n),Me(n=Te(n)),Me(n=Te(n)),n=Fe(n))},r.l=i,r}();return(a=function(n,t,e,a){switch(arguments.length){case 0:return u.call(this);case 1:return l.call(this,n);case 2:return i.call(this,n,t);case 3:return r.call(this,n,t,e);default:var s=null;if(3<arguments.length){s=0;for(var c=Array(arguments.length-3);s<c.length;)c[s]=arguments[s+3],++s;s=new lr(c,0,null)}return o.l(n,t,e,s)}throw Error("Invalid arity: "+arguments.length)}).R=3,a.S=o.S,a.L=u,a.g=l,a.a=i,a.j=r,a.l=o.l,a}()},al.aa=function(n,t,e,r){return function(){function i(i,l,u){return n.Ta?n.Ta(t,e,r,i,l,u):n.call(null,t,e,r,i,l,u)}function l(i,l){return n.za?n.za(t,e,r,i,l):n.call(null,t,e,r,i,l)}function u(i){return n.aa?n.aa(t,e,r,i):n.call(null,t,e,r,i)}function a(){return n.j?n.j(t,e,r):n.call(null,t,e,r)}var o,s=function(){function i(n,t,e,r){var i=null;if(3<arguments.length){i=0;for(var u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new lr(u,0,null)}return l.call(this,n,t,e,i)}function l(i,l,u,a){return Pi.l(n,t,e,r,i,ur([l,u,a]))}return i.R=3,i.S=function(n){return l(Me(n),Me(n=Te(n)),Me(n=Te(n)),n=Fe(n))},i.l=l,i}();return(o=function(n,t,e,r){switch(arguments.length){case 0:return a.call(this);case 1:return u.call(this,n);case 2:return l.call(this,n,t);case 3:return i.call(this,n,t,e);default:var o=null;if(3<arguments.length){o=0;for(var c=Array(arguments.length-3);o<c.length;)c[o]=arguments[o+3],++o;o=new lr(c,0,null)}return s.l(n,t,e,o)}throw Error("Invalid arity: "+arguments.length)}).R=3,o.S=s.S,o.L=a,o.g=u,o.a=l,o.j=i,o.l=s.l,o}()},al.l=function(n,t,e,r,i){return function(){function l(n){var t=null;if(0<arguments.length){t=0;for(var e=Array(arguments.length-0);t<e.length;)e[t]=arguments[t+0],++t;t=new lr(e,0,null)}return u.call(this,t)}function u(l){return Pi.za(n,t,e,r,Si.a(i,l))}return l.R=0,l.S=function(n){return u(n=De(n))},l.l=u,l}()},al.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);e=Me(r);var i=Te(r);return r=Me(i),i=Te(i),this.l(t,n,e,r,i)},al.R=4,(i=sl.prototype).equiv=function(n){return this.ga(null,n)},i.ga=function(n,t){return this===t},i.wc=function(){return this.state},i.X=function(){return this.ba},i.We=function(n,t){for(var e=De(this.Sb),r=null,i=0,l=0;;)if(l<i){var u=r.Aa(null,l),a=pr(u,0);(u=pr(u,1)).aa?u.aa(a,this,n,t):u.call(null,a,this,n,t),l+=1}else{if(!(e=De(e)))break;Dr(e)?(r=le(e),e=ue(e),a=r,i=hr(r),r=a):(a=pr(r=Me(e),0),(u=pr(r,1)).aa?u.aa(a,this,n,t):u.call(null,a,this,n,t),e=Te(e),r=null,i=0),l=0}},i.oe=function(n,t,e){return this.Sb=mr.j(this.Sb,t,e),this},i.pe=function(n,t){return this.Sb=vr.a(this.Sb,t)},i.la=function(){return d(this)};var hl=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);case 4:return n.aa(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],arguments[3],new lr(e.slice(4),0,null))}};function dl(n,t){return function t(e,r){return new wi(null,(function(){var i,l,u=De(r);if(u){if(Dr(u)){for(var a=le(u),o=hr(a),s=xi(o),c=0;c<o;){var f=(i=void 0,l=void 0,i=e+c,l=ut.a(a,c),n.a?n.a(i,l):n.call(null,i,l));null!=f&&s.add(f),c+=1}return ji(s.Na(),t(e+o,ue(u)))}return null==(o=function(){var t=Me(u);return n.a?n.a(e,t):n.call(null,e,t)}())?t(e+1,Fe(u)):di(o,t(e+1,Fe(u)))}return null}),null,null)}(0,t)}hl.a=function(n,t){if(n instanceof sl){var e=n.state;n=fl(n,t=t.g?t.g(e):t.call(null,e))}else n=fe.a(n,t);return n},hl.j=function(n,t,e){if(n instanceof sl){var r=n.state;n=fl(n,t=t.a?t.a(r,e):t.call(null,r,e))}else n=fe.j(n,t,e);return n},hl.aa=function(n,t,e,r){if(n instanceof sl){var i=n.state;n=fl(n,t=t.j?t.j(i,e,r):t.call(null,i,e,r))}else n=fe.aa(n,t,e,r);return n},hl.l=function(n,t,e,r,i){return n instanceof sl?fl(n,Pi.za(t,n.state,e,r,i)):fe.za(n,t,e,r,i)},hl.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);e=Me(r);var i=Te(r);return r=Me(i),i=Te(i),this.l(t,n,e,r,i)},hl.R=4;var pl=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);case 4:return n.aa(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],arguments[3],new lr(e.slice(4),0,null))}};function gl(n,t){if("number"!=typeof n)throw Error("Assert failed: (number? n)");return new wi(null,(function(){if(0<n){var e=De(t);return e?di(Me(e),gl(n-1,Fe(e))):null}return null}),null,null)}function ml(n,t){if("number"!=typeof n)throw Error("Assert failed: (number? n)");return new wi(null,(function(){n:for(var e=n,r=t;r=De(r),0<e&&r;)--e,r=Fe(r);return r}),null,null)}function wl(n,t){return pl.j((function(n){return n}),t,ml(n,t))}function yl(n,t,e,r,i){this.ba=n,this.all=t,this.Nh=e,this.current=r,this.Yb=i,this.B=26083532,this.U=1}function bl(n){if(!n.current){var t=Te(n.Nh);n.current=t||n.all}return n.current}function xl(n,t,e,r,i){this.ba=n,this.count=t,this.F=e,this.next=r,this.G=i,this.B=32374988,this.U=1}function _l(n,t){return 0<n?new xl(null,n,t,null,null):si}pl.g=function(n){return function(t){return function(){function e(e,r){return r=n.g?n.g(r):n.call(null,r),t.a?t.a(e,r):t.call(null,e,r)}function r(n){return t.g?t.g(n):t.call(null,n)}function i(){return t.L?t.L():t.call(null)}var l,u=function(){function e(n,t,e){var i=null;if(2<arguments.length){i=0;for(var l=Array(arguments.length-2);i<l.length;)l[i]=arguments[i+2],++i;i=new lr(l,0,null)}return r.call(this,n,t,i)}function r(e,r,i){return r=Pi.j(n,r,i),t.a?t.a(e,r):t.call(null,e,r)}return e.R=2,e.S=function(n){return r(Me(n),Me(n=Te(n)),n=Fe(n))},e.l=r,e}();return(l=function(n,t,l){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,n);case 2:return e.call(this,n,t);default:var a=null;if(2<arguments.length){a=0;for(var o=Array(arguments.length-2);a<o.length;)o[a]=arguments[a+2],++a;a=new lr(o,0,null)}return u.l(n,t,a)}throw Error("Invalid arity: "+arguments.length)}).R=2,l.S=u.S,l.L=i,l.g=r,l.a=e,l.l=u.l,l}()}},pl.a=function(n,t){return new wi(null,(function(){var e,r=De(t);if(r){if(Dr(r)){for(var i=le(r),l=hr(i),u=xi(l),a=0;a<l;)Oi(u,(e=void 0,e=ut.a(i,a),n.g?n.g(e):n.call(null,e))),a+=1;return ji(u.Na(),pl.a(n,ue(r)))}return di(function(){var t=Me(r);return n.g?n.g(t):n.call(null,t)}(),pl.a(n,Fe(r)))}return null}),null,null)},pl.j=function(n,t,e){return new wi(null,(function(){var r=De(t),i=De(e);if(r&&i){var l=Me(r),u=Me(i);r=di(l=n.a?n.a(l,u):n.call(null,l,u),pl.j(n,Fe(r),Fe(i)))}else r=null;return r}),null,null)},pl.aa=function(n,t,e,r){return new wi(null,(function(){var i=De(t),l=De(e),u=De(r);if(i&&l&&u){var a=Me(i),o=Me(l),s=Me(u);i=di(a=n.j?n.j(a,o,s):n.call(null,a,o,s),pl.aa(n,Fe(i),Fe(l),Fe(u)))}else i=null;return i}),null,null)},pl.l=function(n,t,e,r,i){return pl.a((function(t){return Pi.a(n,t)}),function n(t){return new wi(null,(function(){var e=pl.a(De,t);return el(Gr,e)?di(pl.a(Me,e),n(pl.a(Fe,e))):null}),null,null)}(cr.l(i,r,ur([e,t]))))},pl.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);e=Me(r);var i=Te(r);return r=Me(i),i=Te(i),this.l(t,n,e,r,i)},pl.R=4,(i=yl.prototype).toString=function(){return ge(this)},i.X=function(){return this.ba},i.Kb=function(){return this.Nb(null)},i.bb=function(){return si},i.Re=function(){return null!=this.current},i.Eb=function(n,t){for(var e=this,r=bl(this),i=Me(r);;){var l=(void 0,Te(r)||e.all);if(Ye(n=function(){var n=i,e=Me(l);return t.a?t.a(n,e):t.call(null,n,e)}()))return St(n);r=l,i=n}},i.nb=function(n,t,e){for(var r=this,i=bl(this),l=e;;){if(u=void 0,a=void 0,u=l,a=Me(i),Ye(e=t.a?t.a(u,a):t.call(null,u,a)))return St(e);i=function(){var n=Te(i);return n||r.all}(),l=e}var u,a},i.Mb=function(){return Me(bl(this))},i.Nb=function(){return null==this.Yb&&(this.Yb=new yl(null,this.all,bl(this),null,null)),this.Yb},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new yl(t,this.all,this.Nh,this.current,this.Yb)},i.ra=function(n,t){return di(t,this)},(i=xl.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,this.count)}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){return null==this.next?1<this.count?this.next=new xl(null,this.count-1,this.F,null,null):-1===this.count?this:null:this.next},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Re=function(){return!1},i.Eb=function(n,t){if(-1===this.count)for(var e=t.a?t.a(this.F,this.F):t.call(null,this.F,this.F);;){if(Ye(e))return St(e);e=t.a?t.a(e,this.F):t.call(null,e,this.F)}else for(n=1,e=this.F;;){if(!(n<this.count))return e;if(Ye(e=t.a?t.a(e,this.F):t.call(null,e,this.F)))return St(e);n+=1}},i.nb=function(n,t,e){if(-1===this.count)for(e=t.a?t.a(e,this.F):t.call(null,e,this.F);;){if(Ye(e))return St(e);e=t.a?t.a(e,this.F):t.call(null,e,this.F)}else for(n=0;;){if(!(n<this.count))return e;if(Ye(e=t.a?t.a(e,this.F):t.call(null,e,this.F)))return St(e);n+=1}},i.Mb=function(){return this.F},i.Nb=function(){return null==this.next?1<this.count?this.next=new xl(null,this.count-1,this.F,null,null):-1===this.count?this:si:this.next},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new xl(t,this.count,this.F,this.next,null)},i.ra=function(n,t){return di(t,this)};var kl=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function jl(n,t){return ml(1,kl.a(new xl(null,-1,n,null,null),t))}function Ol(n,t){return Pi.a(Si,Pi.j(pl,n,t))}function Al(){var n=D7;return function(t){return function(){function e(e,r){return zn(n.g?n.g(r):n.call(null,r))?t.a?t.a(e,r):t.call(null,e,r):e}function r(n){return t.g?t.g(n):t.call(null,n)}function i(){return t.L?t.L():t.call(null)}var l;return(l=function(n,t){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,n);case 2:return e.call(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).L=i,l.g=r,l.a=e,l}()}}function El(n,t){return new wi(null,(function(){var e=De(t);if(e){if(Dr(e)){for(var r=le(e),i=hr(r),l=xi(i),u=0;u<i;){var a=ut.a(r,u);zn(a=n.g?n.g(a):n.call(null,a))&&(a=ut.a(r,u),l.add(a)),u+=1}return ji(l.Na(),El(n,ue(e)))}return r=Me(e),e=Fe(e),zn(n.g?n.g(r):n.call(null,r))?di(r,El(n,e)):El(n,e)}return null}),null,null)}function Sl(n,t){return El(il(n),t)}function Cl(n){return El((function(n){return!Ar(n)}),Fe(function(n){return function n(t){return new wi(null,(function(){return di(t,zn(Ar.g?Ar.g(t):Ar.call(null,t))?Ol(n,ur([De.g?De.g(t):De.call(null,t)])):null)}),null,null)}(n)}(n)))}kl.L=function(){return si},kl.g=function(n){return new wi(null,(function(){return n}),null,null)},kl.a=function(n,t){return new wi(null,(function(){var e=De(n),r=De(t);return e&&r?di(Me(e),di(Me(r),kl.a(Fe(e),Fe(r)))):null}),null,null)},kl.l=function(n,t,e){return new wi(null,(function(){var r=pl.a(De,cr.l(e,t,ur([n])));return el(Gr,r)?Si.a(pl.a(Me,r),Pi.a(kl,pl.a(Fe,r))):null}),null,null)},kl.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},kl.R=2;var Dl=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function Ml(n,t){return ee(Hr((function(t,e){return Ci.a(t,n.g?n.g(e):n.call(null,e))}),ne(Zl),t))}function Fl(n){return ee(Hr((function(n,t){return zn(Gr.g?Gr.g(t):Gr.call(null,t))?Ci.a(n,t):n}),ne(Zl),n))}function Tl(n,t,e){return new wi(null,(function(){var r=De(e);if(r){var i=gl(n,r);return n===hr(i)?di(i,Tl(n,t,ml(t,r))):null}return null}),null,null)}function Nl(n,t){return Hr(gr,n,t)}function Bl(n,t,e){var r=Fr;for(t=De(t);;){if(null==t)return n;if(r===(n=gr.j(n,Me(t),r)))return e;t=Te(t)}}Dl.L=function(){return Zl},Dl.g=function(n){return n},Dl.a=function(n,t){return null!=n?null!=n&&(4&n.U||An===n.ii)?Mt(ee(Hr(te,ne(n),t)),xr(n)):Hr(rt,n,t):Hr(cr,n,t)},Dl.j=function(n,t,e){return null!=n&&(4&n.U||An===n.ii)?Mt(ee(Vr(t,Ci,ne(n),e)),xr(n)):Vr(t,cr,n,e)},Dl.R=3;var zl=function n(t,e,r){var i,l=Me(e=De(e)),u=Te(e);return mr.j(t,l,u?(i=gr.a(t,l),n.j?n.j(i,u,r):n.call(null,i,u,r)):r)},Pl=function n(t){switch(arguments.length){case 3:return n.j(arguments[0],arguments[1],arguments[2]);case 4:return n.aa(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return n.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return n.Ta(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new lr(e.slice(6),0,null))}};function $l(n,t,e){return mr.j(n,t,(r=gr.a(n,t),e.g?e.g(r):e.call(null,r)));var r}function Rl(n,t){this.xb=n,this.O=t}function Il(n){return new Rl(n,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Ll(n){return new Rl(n.xb,Yn(n.O))}function Ul(n){return 32>(n=n.fa)?0:n-1>>>5<<5}function ql(n,t,e){for(;;){if(0===t)return e;var r=Il(n);r.O[0]=e,e=r,t-=5}}Pl.j=function(n,t,e){var r,i=Me(t=De(t));return(t=Te(t))?mr.j(n,i,Pl.j(gr.a(n,i),t,e)):mr.j(n,i,(r=gr.a(n,i),e.g?e.g(r):e.call(null,r)))},Pl.aa=function(n,t,e,r){var i,l=Me(t=De(t));return(t=Te(t))?mr.j(n,l,Pl.aa(gr.a(n,l),t,e,r)):mr.j(n,l,(i=gr.a(n,l),e.a?e.a(i,r):e.call(null,i,r)))},Pl.za=function(n,t,e,r,i){var l,u=Me(t=De(t));return(t=Te(t))?mr.j(n,u,Pl.za(gr.a(n,u),t,e,r,i)):mr.j(n,u,(l=gr.a(n,u),e.j?e.j(l,r,i):e.call(null,l,r,i)))},Pl.Ta=function(n,t,e,r,i,l){var u,a=Me(t=De(t));return(t=Te(t))?mr.j(n,a,Pl.Ta(gr.a(n,a),t,e,r,i,l)):mr.j(n,a,(u=gr.a(n,a),e.aa?e.aa(u,r,i,l):e.call(null,u,r,i,l)))},Pl.l=function(n,t,e,r,i,l,u){var a=De(t);return t=Me(a),(a=Te(a))?mr.j(n,t,Pi.l(Pl,gr.a(n,t),a,e,r,ur([i,l,u]))):mr.j(n,t,Pi.l(e,gr.a(n,t),r,i,l,ur([u])))},Pl.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);e=Me(r);var i=Te(r);r=Me(i);var l=Te(i);i=Me(l);var u=Te(l);return l=Me(u),u=Te(u),this.l(t,n,e,r,i,l,u)},Pl.R=6;function Hl(n,t){throw Error(["No item ",ii.g(n)," in vector of length ",ii.g(t)].join(""))}function Wl(n,t){if(t>=Ul(n))return n.ib;var e=n.root;for(n=n.shift;;){if(!(0<n))return e.O;var r=n-5;e=e.O[t>>>n&31],n=r}}function Gl(n,t,e,r,i,l){this.da=n,this.Me=t,this.O=e,this.Hb=r,this.start=i,this.end=l}function Yl(n,t,e){return new Gl(t,t-t%32,t<hr(n)?Wl(n,t):null,n,t,e)}function Vl(n,t,e,r){return e<r?Jl(n,t,dr(n,e),e+1,r):t.L?t.L():t.call(null)}function Jl(n,t,e,r,i){var l=e;for(e=r,r=Wl(n,r);;){if(!(e<i))return l;var u=31&e;if(u=(r=0===u?Wl(n,e):r)[u],Ye(l=t.a?t.a(l,u):t.call(null,l,u)))return St(l);e+=1}}function Xl(n,t,e,r,i,l){this.ba=n,this.fa=t,this.shift=e,this.root=r,this.ib=i,this.G=l,this.B=167666463,this.U=139268}Gl.prototype.cb=function(){return this.da<this.end},Gl.prototype.next=function(){32==this.da-this.Me&&(this.O=Wl(this.Hb,this.da),this.Me+=32);var n=this.O[31&this.da];return this.da+=1,n},(i=Xl.prototype).Yc=function(n,t){return 0<=t&&t<this.fa?new yu(t,Wl(this,t)[31&t],null):null},i.toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return"number"==typeof t?this.Ua(null,t,e):e},i.Ja=function(n,t,e){n=0;for(var r=e;;){if(!(n<this.fa))return r;var i=Wl(this,n);e=i.length;n:for(var l=0;;){if(!(l<e)){i=r;break n}var u=l+n,a=i[l];if(Ye(r=t.j?t.j(r,u,a):t.call(null,r,u,a))){i=r;break n}l+=1}if(Ye(i))return St(i);n+=e,r=i}},i.$f=An,i.Aa=function(n,t){return(0<=t&&t<this.fa?Wl(this,t):Hl(t,this.fa))[31&t]},i.Ua=function(n,t,e){return 0<=t&&t<this.fa?Wl(this,t)[31&t]:e},i.Gc=function(n,t,e){if(0<=t&&t<this.fa)return Ul(this)<=t?((n=Yn(this.ib))[31&t]=e,new Xl(this.ba,this.fa,this.shift,this.root,n,null)):new Xl(this.ba,this.fa,this.shift,function n(t,e,r,i,l){var u=Ll(r);if(0===e)u.O[31&i]=l;else{var a=i>>>e&31;e-=5,r=r.O[a],t=n.za?n.za(t,e,r,i,l):n.call(null,t,e,r,i,l),u.O[a]=t}return u}(this,this.shift,this.root,t,e),this.ib,null);if(t===this.fa)return this.ra(null,e);throw Error(["Index ",ii.g(t)," out of bounds  [0,",ii.g(this.fa),"]"].join(""))},i.Ca=function(){return Yl(this,0,this.fa)},i.X=function(){return this.ba},i.Ba=function(){return new Xl(this.ba,this.fa,this.shift,this.root,this.ib,this.G)},i.na=function(){return this.fa},i.$c=function(){return 0<this.fa?this.Aa(null,this.fa-1):null},i.ad=function(){if(0===this.fa)throw Error("Can't pop empty vector");if(1===this.fa)return Mt(Zl,this.ba);if(1<this.fa-Ul(this))return new Xl(this.ba,this.fa-1,this.shift,this.root,this.ib.slice(0,-1),null);var n=Wl(this,this.fa-2),t=function n(t,e,r){var i=t.fa-2>>>e&31;if(5<e){e-=5;var l=r.O[i];return null==(t=n.j?n.j(t,e,l):n.call(null,t,e,l))&&0===i?null:((r=Ll(r)).O[i]=t,r)}return 0===i?null:((r=Ll(r)).O[i]=null,r)}(this,this.shift,this.root);t=null==t?Kl:t;var e=this.fa-1;return 5<this.shift&&null==t.O[1]?new Xl(this.ba,e,this.shift-5,t.O[0],n,null):new Xl(this.ba,e,this.shift,t,n,null)},i.Zc=function(){return 0<this.fa?new ar(this,this.fa-1,null):null},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){if(!(t instanceof Xl))return li(this,t);if(this.fa!==hr(t))return!1;for(n=this.Ca(null),t=t.Ca(null);;){if(!n.cb())return!0;var e=n.next(),r=t.next();if(!Ne.a(e,r))return!1}},i.Rd=function(){var n=this.fa,t=this.shift,e=new Rl({},Yn(this.root.O)),r=this.ib,i=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return Mr(r,0,i,0,r.length),new au(n,t,e,i)},i.bb=function(){return Mt(Zl,this.ba)},i.Eb=function(n,t){return Vl(this,t,0,this.fa)},i.nb=function(n,t,e){n=0;for(var r=e;;){if(!(n<this.fa))return r;var i=Wl(this,n);e=i.length;n:for(var l=0;;){if(!(l<e)){i=r;break n}var u=i[l];if(Ye(r=t.a?t.a(r,u):t.call(null,r,u))){i=r;break n}l+=1}if(Ye(i))return St(i);n+=e,r=i}},i.ia=function(n,t,e){if("number"==typeof t)return this.Gc(null,t,e);throw Error("Vector's key for assoc must be a number.")},i.pa=function(){if(0===this.fa)var n=null;else if(32>=this.fa)n=new lr(this.ib,0,null);else{n:{n=this.root;for(var t=this.shift;;){if(!(0<t)){n=n.O;break n}t-=5,n=n.O[0]}}n=new eu(this,n,0,0,null,null)}return n},i.Y=function(n,t){return t===this.ba?this:new Xl(t,this.fa,this.shift,this.root,this.ib,this.G)},i.ra=function(n,t){if(32>this.fa-Ul(this)){n=this.ib.length;for(var e=Array(n+1),r=0;r<n;)e[r]=this.ib[r],r+=1;return e[n]=t,new Xl(this.ba,this.fa+1,this.shift,this.root,e,null)}return n=(e=this.fa>>>5>1<<this.shift)?this.shift+5:this.shift,e?((e=Il(null)).O[0]=this.root,r=ql(null,this.shift,new Rl(null,this.ib)),e.O[1]=r):e=function n(t,e,r,i){var l=Ll(r),u=t.fa-1>>>e&31;return 5===e?l.O[u]=i:(null!=(r=r.O[u])?(e-=5,t=n.aa?n.aa(t,e,r,i):n.call(null,t,e,r,i)):t=ql(null,e-5,i),l.O[u]=t),l}(this,this.shift,this.root,new Rl(null,this.ib)),new Xl(this.ba,this.fa+1,n,e,[t],null)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.Aa(null,t);case 3:return this.Ua(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.Aa(null,t)},n.j=function(n,t,e){return this.Ua(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.Aa(null,n)},i.a=function(n,t){return this.Ua(null,n,t)};var Kl=new Rl(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Zl=new Xl(null,0,5,Kl,[],Le);function Ql(n,t){var e=n.length;if(n=t?n:Yn(n),32>e)return new Xl(null,e,5,Kl,n,null);t=32;for(var r=new Xl(null,32,5,Kl,n.slice(0,32),null).Rd(null);;){if(!(t<e))return ee(r);var i=t+1;r=Ci.a(r,n[t]),t=i}}function nu(n){return bu(n)?new Xl(null,2,5,Kl,[yt(n),bt(n)],null):Cr(n)?br(n,null):$n(n)?Ql(n,!0):ee(Hr(te,ne(Zl),n))}Xl.prototype[Gn]=function(){return ze(this)};var tu=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function eu(n,t,e,r,i,l){this.rc=n,this.node=t,this.da=e,this.off=r,this.ba=i,this.G=l,this.B=32375020,this.U=1536}function ru(n,t,e,r,i){this.ba=n,this.Hb=t,this.start=e,this.end=r,this.G=i,this.B=167666463,this.U=139264}function iu(n,t,e,r,i){for(;;){if(!(t instanceof ru)){if(!Cr(t))throw Error("v must satisfy IVector");if(0>e||r<e||r>hr(t))throw Error("Index out of bounds");return new ru(n,t,e,r,i)}e=t.start+e,r=t.start+r,t=t.Hb}}function lu(n,t,e){if(null==t||null==e)throw Error("Assert failed: (and (not (nil? start)) (not (nil? end)))");return iu(null,n,0|t,0|e,null)}function uu(n,t){return n===t.xb?t:new Rl(n,Yn(t.O))}tu.l=function(n){return n instanceof lr&&0===n.da?Ql(n.O,!$n(n.O)):nu(n)},tu.R=0,tu.S=function(n){return this.l(De(n))},(i=eu.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){if(this.off+1<this.node.length){var n=new eu(this.rc,this.node,this.da,this.off+1,null,null);return null==n?null:n}return this.bg()},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Vl(this.rc,t,this.da+this.off,hr(this.rc))},i.nb=function(n,t,e){return Jl(this.rc,t,e,this.da+this.off,hr(this.rc))},i.Mb=function(){return this.node[this.off]},i.Nb=function(){if(this.off+1<this.node.length){var n=new eu(this.rc,this.node,this.da,this.off+1,null,null);return null==n?si:n}return this.Pd(null)},i.pa=function(){return this},i.Qe=function(){var n=this.node;return new _i(n,this.off,n.length)},i.Pd=function(){var n=this.da+this.node.length;return n<Qn(this.rc)?new eu(this.rc,Wl(this.rc,n),n,0,null,null):si},i.Y=function(n,t){return t===this.ba?this:new eu(this.rc,this.node,this.da,this.off,t,null)},i.ra=function(n,t){return di(t,this)},i.bg=function(){var n=this.da+this.node.length;return n<Qn(this.rc)?new eu(this.rc,Wl(this.rc,n),n,0,null,null):null},eu.prototype[Gn]=function(){return ze(this)},(i=ru.prototype).Yc=function(n,t){return 0>t?null:(n=this.start+t)<this.end?new yu(t,pt.a(this.Hb,n),null):null},i.toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return"number"==typeof t?this.Ua(null,t,e):e},i.Ja=function(n,t,e){n=this.start;for(var r=0;;){if(!(n<this.end))return e;var i=r,l=ut.a(this.Hb,n);if(Ye(e=t.j?t.j(e,i,l):t.call(null,e,i,l)))return St(e);r+=1,n+=1}},i.Aa=function(n,t){return 0>t||this.end<=this.start+t?Hl(t,this.end-this.start):ut.a(this.Hb,this.start+t)},i.Ua=function(n,t,e){return 0>t||this.end<=this.start+t?e:ut.j(this.Hb,this.start+t,e)},i.Gc=function(n,t,e){if(n=this.start+t,0>t||this.end+1<=n)throw Error(["Index ",ii.g(t)," out of bounds [0,",ii.g(this.na(null)),"]"].join(""));t=this.ba,e=mr.j(this.Hb,n,e);var r=this.end;return n+=1,iu(t,e,this.start,r>n?r:n,null)},i.Ca=function(){return null!=this.Hb&&An===this.Hb.$f?Yl(this.Hb,this.start,this.end):new Gi(this)},i.X=function(){return this.ba},i.Ba=function(){return new ru(this.ba,this.Hb,this.start,this.end,this.G)},i.na=function(){return this.end-this.start},i.$c=function(){return this.start===this.end?null:ut.a(this.Hb,this.end-1)},i.ad=function(){if(this.start===this.end)throw Error("Can't pop empty vector");return iu(this.ba,this.Hb,this.start,this.end-1,null)},i.Zc=function(){return this.start!==this.end?new ar(this,this.end-this.start-1,null):null},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return Mt(Zl,this.ba)},i.Eb=function(n,t){return null!=this.Hb&&An===this.Hb.$f?Vl(this.Hb,t,this.start,this.end):Je(this,t)},i.nb=function(n,t,e){return null!=this.Hb&&An===this.Hb.$f?Jl(this.Hb,t,e,this.start,this.end):Xe(this,t,e)},i.ia=function(n,t,e){if("number"==typeof t)return this.Gc(null,t,e);throw Error("Subvec's key for assoc must be a number.")},i.pa=function(){var n=this;return function t(e){return e===n.end?null:di(ut.a(n.Hb,e),new wi(null,(function(){return t(e+1)}),null,null))}(n.start)},i.Y=function(n,t){return t===this.ba?this:iu(t,this.Hb,this.start,this.end,this.G)},i.ra=function(n,t){return iu(this.ba,At(this.Hb,this.end,t),this.start,this.end+1,null)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.Aa(null,t);case 3:return this.Ua(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.Aa(null,t)},n.j=function(n,t,e){return this.Ua(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.Aa(null,n)},i.a=function(n,t){return this.Ua(null,n,t)},ru.prototype[Gn]=function(){return ze(this)};function au(n,t,e,r){this.fa=n,this.shift=t,this.root=e,this.ib=r,this.U=88,this.B=275}function ou(n,t){this.Xd=n,this.He=t}function su(n,t,e,r){this.ba=n,this.ec=t,this.kc=e,this.G=r,this.B=31850700,this.U=0}function cu(n,t,e,r,i){this.ba=n,this.count=t,this.ec=e,this.kc=r,this.G=i,this.U=139264,this.B=31858766}(i=au.prototype).Td=function(n,t){if(this.root.xb){if(32>this.fa-Ul(this))this.ib[31&this.fa]=t;else{n=new Rl(this.root.xb,this.ib);var e=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];e[0]=t,this.ib=e,this.fa>>>5>1<<this.shift?(t=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+5,t[0]=this.root,t[1]=ql(this.root.xb,this.shift,n),this.root=new Rl(this.root.xb,t),this.shift=e):this.root=function n(t,e,r,i){r=uu(t.root.xb,r);var l=t.fa-1>>>e&31;if(5===e)t=i;else{var u=r.O[l];null!=u?(e-=5,t=n.aa?n.aa(t,e,u,i):n.call(null,t,e,u,i)):t=ql(t.root.xb,e-5,i)}return r.O[l]=t,r}(this,this.shift,this.root,n)}return this.fa+=1,this}throw Error("conj! after persistent!")},i.ne=function(){if(this.root.xb){this.root.xb=null;var n=this.fa-Ul(this),t=Array(n);return Mr(this.ib,0,t,0,n),new Xl(null,this.fa,this.shift,this.root,t,null)}throw Error("persistent! called twice")},i.Sd=function(n,t,e){if("number"==typeof t)return function(n,t,e){if(n.root.xb){if(0<=t&&t<n.fa){if(Ul(n)<=t)n.ib[31&t]=e;else{var r=function r(i,l){if(l=uu(n.root.xb,l),0===i)l.O[31&t]=e;else{var u=t>>>i&31;i=r(i-5,l.O[u]),l.O[u]=i}return l}(n.shift,n.root);n.root=r}return n}if(t===n.fa)return n.Td(null,e);throw Error(["Index ",ii.g(t)," out of bounds for TransientVector of length",ii.g(n.fa)].join(""))}throw Error("assoc! after persistent!")}(this,t,e);throw Error("TransientVector's key for assoc! must be a number.")},i.na=function(){if(this.root.xb)return this.fa;throw Error("count after persistent!")},i.Aa=function(n,t){if(this.root.xb)return(0<=t&&t<this.fa?Wl(this,t):Hl(t,this.fa))[31&t];throw Error("nth after persistent!")},i.Ua=function(n,t,e){return 0<=t&&t<this.fa?this.Aa(null,t):e},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){if(this.root.xb)return"number"==typeof t?this.Ua(null,t,e):e;throw Error("lookup after persistent!")},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.oa(null,t);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.oa(null,t)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.oa(null,n)},i.a=function(n,t){return this.Z(null,n,t)},ou.prototype.cb=function(){var n=null!=this.Xd&&De(this.Xd);return n||null!=this.He&&this.He.cb()},ou.prototype.next=function(){if(null!=this.Xd){var n=Me(this.Xd);return this.Xd=Te(this.Xd),n}if(null!=this.He&&this.He.cb())return this.He.next();throw Error("No such element")},ou.prototype.remove=function(){return Error("Unsupported operation")},(i=su.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){var n=Te(this.ec);return n?new su(this.ba,n,this.kc,null):null!=this.kc?new su(this.ba,this.kc,null,null):null},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return Mt(si,this.ba)},i.Mb=function(){return Me(this.ec)},i.Nb=function(){var n=Te(this.ec);return n?new su(this.ba,n,this.kc,null):null==this.kc?this.bb(null):new su(this.ba,this.kc,null,null)},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new su(t,this.ec,this.kc,this.G)},i.ra=function(n,t){return di(t,this)},su.prototype[Gn]=function(){return ze(this)},(i=cu.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,this.count.g?this.count.g(this):this.count.call(null,this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.Ca=function(){return new ou(this.ec,de(this.kc))},i.X=function(){return this.ba},i.Ba=function(){return new cu(this.ba,this.count,this.ec,this.kc,this.G)},i.na=function(){return this.count},i.$c=function(){return Me(this.ec)},i.ad=function(){if(zn(this.ec)){var n=Te(this.ec);return n?new cu(this.ba,this.count-1,n,this.kc,null):new cu(this.ba,this.count-1,De(this.kc),Zl,null)}return this},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return Mt(fu,this.ba)},i.Mb=function(){return Me(this.ec)},i.Nb=function(){return Fe(De(this))},i.pa=function(){var n=De(this.kc),t=this.ec;return zn(zn(t)?t:n)?new su(null,this.ec,De(n),null):null},i.Y=function(n,t){return t===this.ba?this:new cu(t,this.count,this.ec,this.kc,this.G)},i.ra=function(n,t){return zn(this.ec)?(n=this.kc,t=new cu(this.ba,this.count+1,this.ec,cr.a(zn(n)?n:Zl,t),null)):t=new cu(this.ba,this.count+1,cr.a(this.ec,t),Zl,null),t};var fu=new cu(null,0,null,Zl,Le);function hu(){this.B=2097152,this.U=0}cu.prototype[Gn]=function(){return ze(this)},hu.prototype.equiv=function(n){return this.ga(null,n)},hu.prototype.ga=function(){return!1};var du=new hu;function pu(n,t){return Br(Er(t)&&!Sr(t)&&hr(n)===hr(t)?(null!=n?1048576&n.B||An===n.Ek||!n.B&&Un(Bt,n):Un(Bt,n))?Wr((function(n,e,r){return!!Ne.a(gr.j(t,e,du),r)||Ge(!1)}),!0,n):el((function(n){return Ne.a(gr.j(t,Me(n),du),or(n))}),n):null)}function gu(n,t,e,r){this.da=0,this.Xj=n,this.Yg=t,this.fields=e,this.uh=r}function mu(n){this.La=n}function vu(n){this.La=n}function wu(n,t){if(t instanceof pi)n:{var e=n.length;t=t.qa;for(var r=0;;){if(e<=r){n=-1;break n}if(n[r]instanceof pi&&t===n[r].qa){n=r;break n}r+=2}}else if(a(t)||"number"==typeof t)n:for(e=n.length,r=0;;){if(e<=r){n=-1;break n}if(t===n[r]){n=r;break n}r+=2}else if(t instanceof Ae)n:for(e=n.length,t=t.lc,r=0;;){if(e<=r){n=-1;break n}if(n[r]instanceof Ae&&t===n[r].lc){n=r;break n}r+=2}else if(null==t)n:for(t=n.length,e=0;;){if(t<=e){n=-1;break n}if(null==n[e]){n=e;break n}e+=2}else n:for(e=n.length,r=0;;){if(e<=r){n=-1;break n}if(Ne.a(t,n[r])){n=r;break n}r+=2}return n}function yu(n,t,e){this.key=n,this.F=t,this.G=e,this.B=166619935,this.U=0}function bu(n){return null!=n&&!!(2048&n.B||An===n.Hk)}function xu(n,t,e){this.O=n,this.da=t,this.sc=e,this.B=32374990,this.U=0}function _u(n,t){this.O=n,this.da=0,this.fa=t}function ku(n,t,e,r){this.ba=n,this.fa=t,this.O=e,this.G=r,this.B=16647951,this.U=139268}gu.prototype.cb=function(){var n=this.da<this.Yg;return n||this.uh.cb()},gu.prototype.next=function(){if(this.da<this.Yg){var n=dr(this.fields,this.da);return this.da+=1,new yu(n,pt.a(this.Xj,n),null)}return this.uh.next()},gu.prototype.remove=function(){return Error("Unsupported operation")},mu.prototype.next=function(){if(null!=this.La){var n=Me(this.La),t=pr(n,0);return n=pr(n,1),this.La=Te(this.La),{value:[t,n],done:!1}}return{value:null,done:!0}},vu.prototype.next=function(){if(null!=this.La){var n=Me(this.La);return this.La=Te(this.La),{value:[n,n],done:!1}}return{value:null,done:!0}},(i=yu.prototype).Yc=function(n,t){switch(t){case 0:return new yu(0,this.key,null);case 1:return new yu(1,this.F,null);default:return null}},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.oa=function(n,t){return this.Ua(null,t,null)},i.Z=function(n,t,e){return this.Ua(null,t,e)},i.Aa=function(n,t){if(0===t)return this.key;if(1===t)return this.F;throw Error("Index out of bounds")},i.Ua=function(n,t,e){return 0===t?this.key:1===t?this.F:e},i.Gc=function(n,t,e){return new Xl(null,2,5,Kl,[this.key,this.F],null).Gc(null,t,e)},i.X=function(){return null},i.na=function(){return 2},i.dg=function(){return this.key},i.eg=function(){return this.F},i.$c=function(){return this.F},i.ad=function(){return new Xl(null,1,5,Kl,[this.key],null)},i.Zc=function(){return new lr([this.F,this.key],0,null)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return null},i.Eb=function(n,t){return Je(this,t)},i.nb=function(n,t,e){return Xe(this,t,e)},i.ia=function(n,t,e){return mr.j(new Xl(null,2,5,Kl,[this.key,this.F],null),t,e)},i.pa=function(){return new lr([this.key,this.F],0,null)},i.Y=function(n,t){return br(new Xl(null,2,5,Kl,[this.key,this.F],null),t)},i.ra=function(n,t){return new Xl(null,3,5,Kl,[this.key,this.F,t],null)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.Aa(null,t);case 3:return this.Ua(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.Aa(null,t)},n.j=function(n,t,e){return this.Ua(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.Aa(null,n)},i.a=function(n,t){return this.Ua(null,n,t)},(i=xu.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.sc},i.Kb=function(){return this.da<this.O.length-2?new xu(this.O,this.da+2,null):null},i.na=function(){return(this.O.length-this.da)/2},i.la=function(){return Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return new yu(this.O[this.da],this.O[this.da+1],null)},i.Nb=function(){return this.da<this.O.length-2?new xu(this.O,this.da+2,null):si},i.pa=function(){return this},i.Y=function(n,t){return t===this.sc?this:new xu(this.O,this.da,t)},i.ra=function(n,t){return di(t,this)},xu.prototype[Gn]=function(){return ze(this)},_u.prototype.cb=function(){return this.da<this.fa},_u.prototype.next=function(){var n=new yu(this.O[this.da],this.O[this.da+1],null);return this.da+=2,n},(i=ku.prototype).Yc=function(n,t){return-1===(n=wu(this.O,t))?null:new yu(this.O[n],this.O[n+1],null)},i.toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.keys=function(){return ze(ha(this))},i.entries=function(){return new mu(De(De(this)))},i.values=function(){return ze(ga(this))},i.has=function(n){return $r(this,n)},i.get=function(n,t){return this.Z(null,n,t)},i.forEach=function(n){for(var t=De(this),e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i),u=pr(l,0);l=pr(l,1),n.a?n.a(l,u):n.call(null,l,u),i+=1}else{if(!(t=De(t)))return null;Dr(t)?(e=le(t),t=ue(t),u=e,r=hr(e),e=u):(u=pr(e=Me(t),0),l=pr(e,1),n.a?n.a(l,u):n.call(null,l,u),t=Te(t),e=null,r=0),i=0}},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return-1===(n=wu(this.O,t))?e:this.O[n+1]},i.Ja=function(n,t,e){n=this.O.length;for(var r=0;;){if(!(r<n))return e;var i=this.O[r],l=this.O[r+1];if(Ye(e=t.j?t.j(e,i,l):t.call(null,e,i,l)))return St(e);r+=2}},i.Ca=function(){return new _u(this.O,2*this.fa)},i.X=function(){return this.ba},i.Ba=function(){return new ku(this.ba,this.fa,this.O,this.G)},i.na=function(){return this.fa},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ue(this)},i.ga=function(n,t){if(!Er(t)||Sr(t))return!1;if(n=this.O.length,this.fa!==t.na(null))return!1;for(var e=0;;){if(!(e<n))return!0;var r=t.Z(null,this.O[e],Fr);if(r===Fr)return!1;if(!Ne.a(this.O[e+1],r))return!1;e+=2}},i.Rd=function(){return new Eu(this.O.length,Yn(this.O))},i.bb=function(){return Mt(ju,this.ba)},i.Eb=function(n,t){return Lr(this,t)},i.nb=function(n,t,e){return Ur(this,t,e)},i.Ka=function(n,t){if(!(0<=wu(this.O,t)))return this;var e=(n=this.O.length)-2;if(0===e)return this.bb(null);e=Array(e);for(var r=0,i=0;;){if(r>=n)return new ku(this.ba,this.fa-1,e,null);Ne.a(t,this.O[r])||(e[i]=this.O[r],e[i+1]=this.O[r+1],i+=2),r+=2}},i.ia=function(n,t,e){if(-1===(n=wu(this.O,t))){if(this.fa<Ou){for(var r=(n=this.O).length,i=Array(r+2),l=0;l<r;)i[l]=n[l],l+=1;return i[r]=t,i[r+1]=e,new ku(this.ba,this.fa+1,i,null)}return Mt(gt(Dl.a(Yu,this),t,e),this.ba)}return e===this.O[n+1]?this:((t=Yn(this.O))[n+1]=e,new ku(this.ba,this.fa,t,null))},i.pa=function(){var n=this.O;return 0<=n.length-2?new xu(n,0,null):null},i.Y=function(n,t){return t===this.ba?this:new ku(t,this.fa,this.O,this.G)},i.ra=function(n,t){if(Cr(t))return this.ia(null,ut.a(t,0),ut.a(t,1));for(n=this,t=De(t);;){if(null==t)return n;var e=Me(t);if(!Cr(e))throw Error("conj on a map takes map entries or seqables of map entries");n=gt(n,ut.a(e,0),ut.a(e,1)),t=Te(t)}},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.oa(null,t);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.oa(null,t)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.oa(null,n)},i.a=function(n,t){return this.Z(null,n,t)};var ju=new ku(null,0,[],qe),Ou=8;function Au(n){for(var t=[],e=0;e<n.length;){var r=n[e],i=n[e+1],l=wu(t,r);-1===l?((l=t).push(r),l.push(i)):t[l+1]=i,e+=2}return new ku(null,t.length/2,t,null)}function Eu(n,t){this.Ud={},this.$d=n,this.O=t,this.B=259,this.U=56}function Su(){this.F=!1}function Cu(n,t){return n===t||(!!gi(n,t)||Ne.a(n,t))}function Du(n,t,e){return(n=Yn(n))[t]=e,n}function Mu(n,t){var e=Array(n.length-2);return Mr(n,0,e,0,2*t),Mr(n,2*(t+1),e,2*t,e.length-2*t),e}function Fu(n,t,e,r){return(n=n.vd(t)).O[e]=r,n}function Tu(n,t,e){for(var r=n.length,i=0,l=e;;){if(!(i<r))return l;if(null!=(e=n[i])){var u=n[i+1];e=t.j?t.j(l,e,u):t.call(null,l,e,u)}else e=null!=(e=n[i+1])?e.Ad(t,l):l;if(Ye(e))return e;i+=2,l=e}}function Nu(n){this.O=n,this.da=0,this.Mc=this.De=null}function Bu(n,t,e){this.xb=n,this.Cb=t,this.O=e,this.U=131072,this.B=0}ku.prototype[Gn]=function(){return ze(this)},(i=Eu.prototype).na=function(){if(this.Ud)return Qr(this.$d,2);throw Error("count after persistent!")},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){if(this.Ud)return-1===(n=wu(this.O,t))?e:this.O[n+1];throw Error("lookup after persistent!")},i.Td=function(n,t){if(!this.Ud)throw Error("conj! after persistent!");if(bu(t))return this.Sd(null,yt(t),bt(t));if(Cr(t))return this.Sd(null,t.g?t.g(0):t.call(null,0),t.g?t.g(1):t.call(null,1));for(n=De(t),t=this;;){var e=Me(n);if(!zn(e))return t;n=Te(n),t=re(t,yt(e),bt(e))}},i.ne=function(){if(this.Ud)return this.Ud=!1,new ku(null,Qr(this.$d,2),this.O,null);throw Error("persistent! called twice")},i.Sd=function(n,t,e){if(this.Ud){if(-1===(n=wu(this.O,t))){if(this.$d+2<=2*Ou)return this.$d+=2,this.O.push(t),this.O.push(e),this;n:{n=this.$d;for(var r=this.O,i=ne(Yu),l=0;;){if(!(l<n))break n;i=re(i,r[l],r[l+1]),l+=2}}return re(i,t,e)}return e!==this.O[n+1]&&(this.O[n+1]=e),this}throw Error("assoc! after persistent!")},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.Z(null,t,null);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.Z(null,t,null)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.Z(null,n,null)},i.a=function(n,t){return this.Z(null,n,t)},Nu.prototype.advance=function(){for(var n=this.O.length;;){if(!(this.da<n))return!1;var t=this.O[this.da],e=this.O[this.da+1];if(null!=t?t=this.De=new yu(t,e,null):null!=e?t=!!(t=de(e)).cb()&&(this.Mc=t):t=!1,this.da+=2,t)return!0}},Nu.prototype.cb=function(){var n=null!=this.De;return n||((n=null!=this.Mc)?n:this.advance())},Nu.prototype.next=function(){if(null!=this.De){var n=this.De;return this.De=null,n}if(null!=this.Mc)return n=this.Mc.next(),this.Mc.cb()||(this.Mc=null),n;if(this.advance())return this.next();throw Error("No such element")},Nu.prototype.remove=function(){return Error("Unsupported operation")},(i=Bu.prototype).vd=function(n){if(n===this.xb)return this;var t=ti(this.Cb),e=Array(0>t?4:2*(t+1));return Mr(this.O,0,e,0,2*t),new Bu(n,this.Cb,e)},i.xe=function(){return Uu(this.O,0,null)},i.Ad=function(n,t){return Tu(this.O,n,t)},i.yd=function(n,t,e,r){var i=1<<(t>>>n&31);if(0==(this.Cb&i))return r;var l=ti(this.Cb&i-1);return i=this.O[2*l],l=this.O[2*l+1],null==i?l.yd(n+5,t,e,r):Cu(e,i)?l:r},i.Kc=function(n,t,e,r,i,l){var u=1<<(e>>>t&31),a=ti(this.Cb&u-1);if(0==(this.Cb&u)){var o=ti(this.Cb);if(2*o<this.O.length){t=(n=this.vd(n)).O,l.F=!0;n:for(e=2*(o-a),l=2*a+(e-1),o=2*(a+1)+(e-1);0!==e;)t[o]=t[l],--o,--e,--l;return t[2*a]=r,t[2*a+1]=i,n.Cb|=u,n}if(16<=o){for((a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])[e>>>t&31]=zu.Kc(n,t+5,e,r,i,l),i=r=0;32>r;)0==(this.Cb>>>r&1)||(a[r]=null!=this.O[i]?zu.Kc(n,t+5,je(this.O[i]),this.O[i],this.O[i+1],l):this.O[i+1],i+=2),r+=1;return new $u(n,o+1,a)}return t=Array(2*(o+4)),Mr(this.O,0,t,0,2*a),t[2*a]=r,t[2*a+1]=i,Mr(this.O,2*a,t,2*(a+1),2*(o-a)),l.F=!0,(n=this.vd(n)).O=t,n.Cb|=u,n}if(o=this.O[2*a],u=this.O[2*a+1],null==o)return(o=u.Kc(n,t+5,e,r,i,l))===u?this:Fu(this,n,2*a+1,o);if(Cu(r,o))return i===u?this:Fu(this,n,2*a+1,i);if(l.F=!0,l=t+5,(t=je(o))===e)i=new Iu(null,t,2,[o,u,r,i]);else{var s=new Su;i=zu.Kc(n,l,t,o,u,s).Kc(n,l,e,r,i,s)}return r=2*a,a=2*a+1,(n=this.vd(n)).O[r]=null,n.O[a]=i,n},i.Jc=function(n,t,e,r,i){var l=1<<(t>>>n&31),u=ti(this.Cb&l-1);if(0==(this.Cb&l)){var a=ti(this.Cb);if(16<=a){for((u=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])[t>>>n&31]=zu.Jc(n+5,t,e,r,i),r=e=0;32>e;)0==(this.Cb>>>e&1)||(u[e]=null!=this.O[r]?zu.Jc(n+5,je(this.O[r]),this.O[r],this.O[r+1],i):this.O[r+1],r+=2),e+=1;return new $u(null,a+1,u)}return n=Array(2*(a+1)),Mr(this.O,0,n,0,2*u),n[2*u]=e,n[2*u+1]=r,Mr(this.O,2*u,n,2*(u+1),2*(a-u)),i.F=!0,new Bu(null,this.Cb|l,n)}var o=this.O[2*u];if(l=this.O[2*u+1],null==o)return(a=l.Jc(n+5,t,e,r,i))===l?this:new Bu(null,this.Cb,Du(this.O,2*u+1,a));if(Cu(e,o))return r===l?this:new Bu(null,this.Cb,Du(this.O,2*u+1,r));i.F=!0,i=this.Cb,a=this.O,n+=5;var s=je(o);if(s===t)e=new Iu(null,s,2,[o,l,e,r]);else{var c=new Su;e=zu.Jc(n,s,o,l,c).Jc(n,t,e,r,c)}return n=2*u,u=2*u+1,(r=Yn(a))[n]=null,r[u]=e,new Bu(null,i,r)},i.we=function(n,t,e,r){var i=1<<(t>>>n&31);if(0==(this.Cb&i))return r;var l=ti(this.Cb&i-1);return i=this.O[2*l],l=this.O[2*l+1],null==i?l.we(n+5,t,e,r):Cu(e,i)?new yu(i,l,null):r},i.ye=function(n,t,e){var r=1<<(t>>>n&31);if(0==(this.Cb&r))return this;var i=ti(this.Cb&r-1),l=this.O[2*i],u=this.O[2*i+1];return null==l?(n=u.ye(n+5,t,e))===u?this:null!=n?new Bu(null,this.Cb,Du(this.O,2*i+1,n)):this.Cb===r?null:new Bu(null,this.Cb^r,Mu(this.O,i)):Cu(e,l)?new Bu(null,this.Cb^r,Mu(this.O,i)):this},i.Ca=function(){return new Nu(this.O)};var zu=new Bu(null,0,[]);function Pu(n){this.O=n,this.da=0,this.Mc=null}function $u(n,t,e){this.xb=n,this.fa=t,this.O=e,this.U=131072,this.B=0}function Ru(n,t,e){t*=2;for(var r=0;;){if(!(r<t))return-1;if(Cu(e,n[r]))return r;r+=2}}function Iu(n,t,e,r){this.xb=n,this.bd=t,this.fa=e,this.O=r,this.U=131072,this.B=0}function Lu(n,t,e,r,i){this.ba=n,this.Nc=t,this.da=e,this.La=r,this.G=i,this.B=32374988,this.U=0}function Uu(n,t,e){if(null!=e)return new Lu(null,n,t,e,null);for(e=n.length;;){if(!(t<e))return null;if(null!=n[t])return new Lu(null,n,t,null,null);var r=n[t+1];if(zn(r)&&zn(r=r.xe()))return new Lu(null,n,t+2,r,null);t+=2}}function qu(n,t,e,r,i){this.ba=n,this.Nc=t,this.da=e,this.La=r,this.G=i,this.B=32374988,this.U=0}function Hu(n,t,e){if(null!=e)return new qu(null,n,t,e,null);for(e=n.length;;){if(!(t<e))return null;var r=n[t];if(zn(r)&&zn(r=r.xe()))return new qu(null,n,t+1,r,null);t+=1}}function Wu(n,t){this.Ub=n,this.Uh=t,this.Og=!1}function Gu(n,t,e,r,i,l){this.ba=n,this.fa=t,this.root=e,this.Vb=r,this.Ub=i,this.G=l,this.B=16123663,this.U=139268}Pu.prototype.cb=function(){for(var n=this.O.length;;){if(null!=this.Mc&&this.Mc.cb())return!0;if(!(this.da<n))return!1;var t=this.O[this.da];this.da+=1,null!=t&&(this.Mc=de(t))}},Pu.prototype.next=function(){if(this.cb())return this.Mc.next();throw Error("No such element")},Pu.prototype.remove=function(){return Error("Unsupported operation")},(i=$u.prototype).vd=function(n){return n===this.xb?this:new $u(n,this.fa,Yn(this.O))},i.xe=function(){return Hu(this.O,0,null)},i.Ad=function(n,t){for(var e=this.O.length,r=0;;){if(!(r<e))return t;var i=this.O[r];if(null!=i){if(Ye(t=i.Ad(n,t)))return t;r+=1}else r+=1}},i.yd=function(n,t,e,r){var i=this.O[t>>>n&31];return null!=i?i.yd(n+5,t,e,r):r},i.Kc=function(n,t,e,r,i,l){var u=e>>>t&31,a=this.O[u];return null==a?((n=Fu(this,n,u,zu.Kc(n,t+5,e,r,i,l))).fa+=1,n):(t=a.Kc(n,t+5,e,r,i,l))===a?this:Fu(this,n,u,t)},i.Jc=function(n,t,e,r,i){var l=t>>>n&31,u=this.O[l];return null==u?new $u(null,this.fa+1,Du(this.O,l,zu.Jc(n+5,t,e,r,i))):(n=u.Jc(n+5,t,e,r,i))===u?this:new $u(null,this.fa,Du(this.O,l,n))},i.we=function(n,t,e,r){var i=this.O[t>>>n&31];return null!=i?i.we(n+5,t,e,r):r},i.ye=function(n,t,e){var r=t>>>n&31,i=this.O[r];if(null!=i){if((n=i.ye(n+5,t,e))===i)r=this;else if(null==n)if(8>=this.fa)n:{n=(i=this.O).length,t=Array(2*(this.fa-1)),e=0;for(var l=1,u=0;;){if(!(e<n)){r=new Bu(null,u,t);break n}e!==r&&null!=i[e]?(t[l]=i[e],l+=2,u|=1<<e,e+=1):e+=1}}else r=new $u(null,this.fa-1,Du(this.O,r,n));else r=new $u(null,this.fa,Du(this.O,r,n));return r}return this},i.Ca=function(){return new Pu(this.O)},(i=Iu.prototype).vd=function(n){if(n===this.xb)return this;var t=Array(2*(this.fa+1));return Mr(this.O,0,t,0,2*this.fa),new Iu(n,this.bd,this.fa,t)},i.xe=function(){return Uu(this.O,0,null)},i.Ad=function(n,t){return Tu(this.O,n,t)},i.yd=function(n,t,e,r){return 0>(n=Ru(this.O,this.fa,e))?r:Cu(e,this.O[n])?this.O[n+1]:r},i.Kc=function(n,t,e,r,i,l){return e===this.bd?-1===(t=Ru(this.O,this.fa,r))?this.O.length>2*this.fa?(t=2*this.fa,e=2*this.fa+1,(n=this.vd(n)).O[t]=r,n.O[e]=i,l.F=!0,n.fa+=1,n):(e=this.O.length,t=Array(e+2),Mr(this.O,0,t,0,e),t[e]=r,t[e+1]=i,l.F=!0,r=this.fa+1,n===this.xb?(this.O=t,this.fa=r,n=this):n=new Iu(this.xb,this.bd,r,t),n):this.O[t+1]===i?this:Fu(this,n,t+1,i):new Bu(n,1<<(this.bd>>>t&31),[null,this,null,null]).Kc(n,t,e,r,i,l)},i.Jc=function(n,t,e,r,i){return t===this.bd?-1===(n=Ru(this.O,this.fa,e))?(n=2*this.fa,t=Array(n+2),Mr(this.O,0,t,0,n),t[n]=e,t[n+1]=r,i.F=!0,new Iu(null,this.bd,this.fa+1,t)):Ne.a(this.O[n+1],r)?this:new Iu(null,this.bd,this.fa,Du(this.O,n+1,r)):new Bu(null,1<<(this.bd>>>n&31),[null,this]).Jc(n,t,e,r,i)},i.we=function(n,t,e,r){return 0>(n=Ru(this.O,this.fa,e))?r:Cu(e,this.O[n])?new yu(this.O[n],this.O[n+1],null):r},i.ye=function(n,t,e){return-1===(n=Ru(this.O,this.fa,e))?this:1===this.fa?null:new Iu(null,this.bd,this.fa-1,Mu(this.O,Qr(n,2)))},i.Ca=function(){return new Nu(this.O)},(i=Lu.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){return null==this.La?Uu(this.Nc,this.da+2,null):Uu(this.Nc,this.da,Te(this.La))},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return null==this.La?new yu(this.Nc[this.da],this.Nc[this.da+1],null):Me(this.La)},i.Nb=function(){var n=null==this.La?Uu(this.Nc,this.da+2,null):Uu(this.Nc,this.da,Te(this.La));return null!=n?n:si},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new Lu(t,this.Nc,this.da,this.La,this.G)},i.ra=function(n,t){return di(t,this)},Lu.prototype[Gn]=function(){return ze(this)},(i=qu.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){return Hu(this.Nc,this.da,Te(this.La))},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return Me(this.La)},i.Nb=function(){var n=Hu(this.Nc,this.da,Te(this.La));return null!=n?n:si},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new qu(t,this.Nc,this.da,this.La,this.G)},i.ra=function(n,t){return di(t,this)},qu.prototype[Gn]=function(){return ze(this)},Wu.prototype.cb=function(){return!this.Og||this.Uh.cb()},Wu.prototype.next=function(){return this.Og?this.Uh.next():(this.Og=!0,new yu(null,this.Ub,null))},Wu.prototype.remove=function(){return Error("Unsupported operation")},(i=Gu.prototype).Yc=function(n,t){return null==t?this.Vb?new yu(null,this.Ub,null):null:null==this.root?null:this.root.we(0,je(t),t,null)},i.toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.keys=function(){return ze(ha(this))},i.entries=function(){return new mu(De(De(this)))},i.values=function(){return ze(ga(this))},i.has=function(n){return $r(this,n)},i.get=function(n,t){return this.Z(null,n,t)},i.forEach=function(n){for(var t=De(this),e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i),u=pr(l,0);l=pr(l,1),n.a?n.a(l,u):n.call(null,l,u),i+=1}else{if(!(t=De(t)))return null;Dr(t)?(e=le(t),t=ue(t),u=e,r=hr(e),e=u):(u=pr(e=Me(t),0),l=pr(e,1),n.a?n.a(l,u):n.call(null,l,u),t=Te(t),e=null,r=0),i=0}},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return null==t?this.Vb?this.Ub:e:null==this.root?e:this.root.yd(0,je(t),t,e)},i.Ja=function(n,t,e){return Ye(n=this.Vb?t.j?t.j(e,null,this.Ub):t.call(null,e,null,this.Ub):e)?St(n):null!=this.root?Ve(this.root.Ad(t,n)):n},i.Ca=function(){var n=this.root?de(this.root):Li();return this.Vb?new Wu(this.Ub,n):n},i.X=function(){return this.ba},i.Ba=function(){return new Gu(this.ba,this.fa,this.root,this.Vb,this.Ub,this.G)},i.na=function(){return this.fa},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ue(this)},i.ga=function(n,t){return pu(this,t)},i.Rd=function(){return new Ju(this.root,this.fa,this.Vb,this.Ub)},i.bb=function(){return Mt(Yu,this.ba)},i.Ka=function(n,t){return null==t?this.Vb?new Gu(this.ba,this.fa-1,this.root,!1,null,null):this:null==this.root||(n=this.root.ye(0,je(t),t))===this.root?this:new Gu(this.ba,this.fa-1,n,this.Vb,this.Ub,null)},i.ia=function(n,t,e){return null==t?this.Vb&&e===this.Ub?this:new Gu(this.ba,this.Vb?this.fa:this.fa+1,this.root,!0,e,null):(n=new Su,(t=(null==this.root?zu:this.root).Jc(0,je(t),t,e,n))===this.root?this:new Gu(this.ba,n.F?this.fa+1:this.fa,t,this.Vb,this.Ub,null))},i.pa=function(){if(0<this.fa){var n=null!=this.root?this.root.xe():null;return this.Vb?di(new yu(null,this.Ub,null),n):n}return null},i.Y=function(n,t){return t===this.ba?this:new Gu(t,this.fa,this.root,this.Vb,this.Ub,this.G)},i.ra=function(n,t){if(Cr(t))return this.ia(null,ut.a(t,0),ut.a(t,1));for(n=this,t=De(t);;){if(null==t)return n;var e=Me(t);if(!Cr(e))throw Error("conj on a map takes map entries or seqables of map entries");n=gt(n,ut.a(e,0),ut.a(e,1)),t=Te(t)}},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.oa(null,t);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.oa(null,t)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.oa(null,n)},i.a=function(n,t){return this.Z(null,n,t)};var Yu=new Gu(null,0,null,!1,null,qe);function Vu(n,t){for(var e=n.length,r=0,i=ne(Yu);;){if(!(r<e))return ee(i);var l=r+1;i=re(i,n[r],t[r]),r=l}}function Ju(n,t,e,r){this.xb={},this.root=n,this.count=t,this.Vb=e,this.Ub=r,this.B=259,this.U=56}function Xu(n,t,e){if(n.xb){if(null==t)n.Ub!==e&&(n.Ub=e),n.Vb||(n.count+=1,n.Vb=!0);else{var r=new Su;(t=(null==n.root?zu:n.root).Kc(n.xb,0,je(t),t,e,r))!==n.root&&(n.root=t),r.F&&(n.count+=1)}return n}throw Error("assoc! after persistent!")}function Ku(n,t,e){for(var r=t;;){if(null==n)return r;t=e?n.left:n.right,r=cr.a(r,n),n=t}}function Zu(n,t,e,r,i){this.ba=n,this.stack=t,this.rd=e,this.fa=r,this.G=i,this.B=32374990,this.U=0}function Qu(n,t,e){return new Zu(null,Ku(n,null,t),t,e,null)}function na(n,t,e,r){return e instanceof la?e.left instanceof la?new la(e.key,e.F,e.left.Xc(),new ia(n,t,e.right,r)):e.right instanceof la?new la(e.right.key,e.right.F,new ia(e.key,e.F,e.left,e.right.left),new ia(n,t,e.right.right,r)):new ia(n,t,e,r):new ia(n,t,e,r)}function ta(n,t,e,r){return r instanceof la?r.right instanceof la?new la(r.key,r.F,new ia(n,t,e,r.left),r.right.Xc()):r.left instanceof la?new la(r.left.key,r.left.F,new ia(n,t,e,r.left.left),new ia(r.key,r.F,r.left.right,r.right)):new ia(n,t,e,r):new ia(n,t,e,r)}function ea(n,t,e,r){if(e instanceof la)return new la(n,t,e.Xc(),r);if(r instanceof ia)return ta(n,t,e,r.Fe());if(r instanceof la&&r.left instanceof ia)return new la(r.left.key,r.left.F,new ia(n,t,e,r.left.left),ta(r.key,r.F,r.left.right,r.right.Fe()));throw Error("red-black tree invariant violation")}Gu.prototype[Gn]=function(){return ze(this)},(i=Ju.prototype).na=function(){if(this.xb)return this.count;throw Error("count after persistent!")},i.oa=function(n,t){return null==t?this.Vb?this.Ub:null:null==this.root?null:this.root.yd(0,je(t),t)},i.Z=function(n,t,e){return null==t?this.Vb?this.Ub:e:null==this.root?e:this.root.yd(0,je(t),t,e)},i.Td=function(n,t){n:{if(!this.xb)throw Error("conj! after persistent");if(bu(t))n=Xu(this,yt(t),bt(t));else if(Cr(t))n=Xu(this,t.g?t.g(0):t.call(null,0),t.g?t.g(1):t.call(null,1));else for(n=De(t),t=this;;){var e=Me(n);if(!zn(e)){n=t;break n}n=Te(n),t=Xu(t,yt(e),bt(e))}}return n},i.ne=function(){if(!this.xb)throw Error("persistent! called twice");return this.xb=null,new Gu(null,this.count,this.root,this.Vb,this.Ub,null)},i.Sd=function(n,t,e){return Xu(this,t,e)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.oa(null,t);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.oa(null,t)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.oa(null,n)},i.a=function(n,t){return this.Z(null,n,t)},(i=Zu.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.ba},i.Kb=function(){var n=Me(this.stack);return null==(n=Ku(this.rd?n.right:n.left,Te(this.stack),this.rd))?null:new Zu(null,n,this.rd,this.fa-1,null)},i.na=function(){return 0>this.fa?hr(Te(this))+1:this.fa},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){var n=this.stack;return null==n?null:kt(n)},i.Nb=function(){var n=Me(this.stack);return null!=(n=Ku(this.rd?n.right:n.left,Te(this.stack),this.rd))?new Zu(null,n,this.rd,this.fa-1,null):si},i.pa=function(){return this},i.Y=function(n,t){return t===this.ba?this:new Zu(t,this.stack,this.rd,this.fa,this.G)},i.ra=function(n,t){return di(t,this)},Zu.prototype[Gn]=function(){return ze(this)};var ra=function n(t,e,r){var i,l=null!=t.left?(i=t.left,n.j?n.j(i,e,r):n.call(null,i,e,r)):r;if(Ye(l))return l;var u=function(){var n=t.key,r=t.F;return e.j?e.j(l,n,r):e.call(null,l,n,r)}();if(Ye(u))return u;if(null!=t.right){var a=t.right;return n.j?n.j(a,e,u):n.call(null,a,e,u)}return u};function ia(n,t,e,r){this.key=n,this.F=t,this.left=e,this.right=r,this.G=null,this.B=166619935,this.U=0}function la(n,t,e,r){this.key=n,this.F=t,this.left=e,this.right=r,this.G=null,this.B=166619935,this.U=0}(i=ia.prototype).Yc=function(n,t){switch(t){case 0:return new yu(0,this.key,null);case 1:return new yu(1,this.F,null);default:return null}},i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.Vg=function(n){return n.Xg(this)},i.Fe=function(){return new la(this.key,this.F,this.left,this.right)},i.Xc=function(){return this},i.Ug=function(n){return n.Wg(this)},i.replace=function(n,t,e,r){return new ia(n,t,e,r)},i.Wg=function(n){return new ia(n.key,n.F,this,n.right)},i.Xg=function(n){return new ia(n.key,n.F,n.left,this)},i.Ad=function(n,t){return ra(this,n,t)},i.oa=function(n,t){return this.Ua(null,t,null)},i.Z=function(n,t,e){return this.Ua(null,t,e)},i.Aa=function(n,t){if(0===t)return this.key;if(1===t)return this.F;throw Error("Index out of bounds")},i.Ua=function(n,t,e){return 0===t?this.key:1===t?this.F:e},i.Gc=function(n,t,e){return new Xl(null,2,5,Kl,[this.key,this.F],null).Gc(null,t,e)},i.X=function(){return null},i.na=function(){return 2},i.dg=function(){return this.key},i.eg=function(){return this.F},i.$c=function(){return this.F},i.ad=function(){return new Xl(null,1,5,Kl,[this.key],null)},i.Zc=function(){return new lr([this.F,this.key],0,null)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return null},i.Eb=function(n,t){return Je(this,t)},i.nb=function(n,t,e){return Xe(this,t,e)},i.ia=function(n,t,e){return mr.j(new Xl(null,2,5,Kl,[this.key,this.F],null),t,e)},i.pa=function(){return new lr([this.key,this.F],0,null)},i.Y=function(n,t){return Mt(new Xl(null,2,5,Kl,[this.key,this.F],null),t)},i.ra=function(n,t){return new Xl(null,3,5,Kl,[this.key,this.F,t],null)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.Aa(null,t);case 3:return this.Ua(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.Aa(null,t)},n.j=function(n,t,e){return this.Ua(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.Aa(null,n)},i.a=function(n,t){return this.Ua(null,n,t)},ia.prototype[Gn]=function(){return ze(this)},(i=la.prototype).Yc=function(n,t){switch(t){case 0:return new yu(0,this.key,null);case 1:return new yu(1,this.F,null);default:return null}},i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.Vg=function(n){return new la(this.key,this.F,this.left,n)},i.Fe=function(){throw Error("red-black tree invariant violation")},i.Xc=function(){return new ia(this.key,this.F,this.left,this.right)},i.Ug=function(n){return new la(this.key,this.F,n,this.right)},i.replace=function(n,t,e,r){return new la(n,t,e,r)},i.Wg=function(n){return this.left instanceof la?new la(this.key,this.F,this.left.Xc(),new ia(n.key,n.F,this.right,n.right)):this.right instanceof la?new la(this.right.key,this.right.F,new ia(this.key,this.F,this.left,this.right.left),new ia(n.key,n.F,this.right.right,n.right)):new ia(n.key,n.F,this,n.right)},i.Xg=function(n){return this.right instanceof la?new la(this.key,this.F,new ia(n.key,n.F,n.left,this.left),this.right.Xc()):this.left instanceof la?new la(this.left.key,this.left.F,new ia(n.key,n.F,n.left,this.left.left),new ia(this.key,this.F,this.left.right,this.right)):new ia(n.key,n.F,n.left,this)},i.Ad=function(n,t){return ra(this,n,t)},i.oa=function(n,t){return this.Ua(null,t,null)},i.Z=function(n,t,e){return this.Ua(null,t,e)},i.Aa=function(n,t){if(0===t)return this.key;if(1===t)return this.F;throw Error("Index out of bounds")},i.Ua=function(n,t,e){return 0===t?this.key:1===t?this.F:e},i.Gc=function(n,t,e){return new Xl(null,2,5,Kl,[this.key,this.F],null).Gc(null,t,e)},i.X=function(){return null},i.na=function(){return 2},i.dg=function(){return this.key},i.eg=function(){return this.F},i.$c=function(){return this.F},i.ad=function(){return new Xl(null,1,5,Kl,[this.key],null)},i.Zc=function(){return new lr([this.F,this.key],0,null)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return null},i.Eb=function(n,t){return Je(this,t)},i.nb=function(n,t,e){return Xe(this,t,e)},i.ia=function(n,t,e){return mr.j(new Xl(null,2,5,Kl,[this.key,this.F],null),t,e)},i.pa=function(){return new lr([this.key,this.F],0,null)},i.Y=function(n,t){return Mt(new Xl(null,2,5,Kl,[this.key,this.F],null),t)},i.ra=function(n,t){return new Xl(null,3,5,Kl,[this.key,this.F,t],null)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.Aa(null,t);case 3:return this.Ua(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.Aa(null,t)},n.j=function(n,t,e){return this.Ua(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.Aa(null,n)},i.a=function(n,t){return this.Ua(null,n,t)},la.prototype[Gn]=function(){return ze(this)};var ua=function n(t,e,r,i){if(null!=e){var l=(u=e.key,t.a?t.a(r,u):t.call(null,r,u));return 0===l?(i[0]=e,function n(t,e){if(null==t)return e;if(null==e)return t;if(t instanceof la){if(e instanceof la){var r=(i=t.right,l=e.left,n.a?n.a(i,l):n.call(null,i,l));return r instanceof la?new la(r.key,r.F,new la(t.key,t.F,t.left,r.left),new la(e.key,e.F,r.right,e.right)):new la(t.key,t.F,t.left,new la(e.key,e.F,r,e.right))}return new la(t.key,t.F,t.left,function(){var r=t.right;return n.a?n.a(r,e):n.call(null,r,e)}())}var i,l;return e instanceof la?new la(e.key,e.F,function(){var r=e.left;return n.a?n.a(t,r):n.call(null,t,r)}(),e.right):(r=function(){var r=t.right,i=e.left;return n.a?n.a(r,i):n.call(null,r,i)}())instanceof la?new la(r.key,r.F,new ia(t.key,t.F,t.left,r.left),new ia(e.key,e.F,r.right,e.right)):ea(t.key,t.F,t.left,new ia(e.key,e.F,r,e.right))}(e.left,e.right)):0>l?null!=(l=function(){var l=e.left;return n.aa?n.aa(t,l,r,i):n.call(null,t,l,r,i)}())||null!=i[0]?e.left instanceof ia?ea(e.key,e.F,l,e.right):new la(e.key,e.F,l,e.right):null:null!=(l=function(){var l=e.right;return n.aa?n.aa(t,l,r,i):n.call(null,t,l,r,i)}())||null!=i[0]?e.right instanceof ia?function(n,t,e,r){if(r instanceof la)return new la(n,t,e,r.Xc());if(e instanceof ia)return na(n,t,e.Fe(),r);if(e instanceof la&&e.right instanceof ia)return new la(e.right.key,e.right.F,na(e.key,e.F,e.left.Fe(),e.right.left),new ia(n,t,e.right.right,r));throw Error("red-black tree invariant violation")}(e.key,e.F,e.left,l):new la(e.key,e.F,e.left,l):null}var u;return null};function aa(n,t,e,r,i){this.oc=n,this.tree=t,this.fa=e,this.ba=r,this.G=i,this.B=418776847,this.U=8192}function oa(n,t){for(var e=n.tree;;){if(null==e)return null;var r=e.key;if(0===(r=n.oc.a?n.oc.a(t,r):n.oc.call(null,t,r)))return e;e=0>r?e.left:e.right}}(i=aa.prototype).Yc=function(n,t){return oa(this,t)},i.forEach=function(n){for(var t=De(this),e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i),u=pr(l,0);l=pr(l,1),n.a?n.a(l,u):n.call(null,l,u),i+=1}else{if(!(t=De(t)))return null;Dr(t)?(e=le(t),t=ue(t),u=e,r=hr(e),e=u):(u=pr(e=Me(t),0),l=pr(e,1),n.a?n.a(l,u):n.call(null,l,u),t=Te(t),e=null,r=0),i=0}},i.get=function(n,t){return this.Z(null,n,t)},i.entries=function(){return new mu(De(De(this)))},i.toString=function(){return ge(this)},i.keys=function(){return ze(ha(this))},i.values=function(){return ze(ga(this))},i.equiv=function(n){return this.ga(null,n)},i.has=function(n){return $r(this,n)},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return null!=(n=oa(this,t))?n.F:e},i.Ja=function(n,t,e){return null!=this.tree?Ve(ra(this.tree,t,e)):e},i.X=function(){return this.ba},i.Ba=function(){return new aa(this.oc,this.tree,this.fa,this.ba,this.G)},i.na=function(){return this.fa},i.Zc=function(){return 0<this.fa?Qu(this.tree,!1,this.fa):null},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ue(this)},i.ga=function(n,t){return pu(this,t)},i.bb=function(){return new aa(this.oc,null,0,this.ba,0)},i.Ka=function(n,t){return n=[null],null==(t=ua(this.oc,this.tree,t,n))?null==dr(n,0)?this:new aa(this.oc,null,0,this.ba,null):new aa(this.oc,t.Xc(),this.fa-1,this.ba,null)},i.ia=function(n,t,e){n=[null];var r=function n(t,e,r,i,l){if(null==e)return new la(r,i,null,null);var u,a=(u=e.key,t.a?t.a(r,u):t.call(null,r,u));return 0===a?(l[0]=e,null):0>a?null!=(a=function(){var u=e.left;return n.za?n.za(t,u,r,i,l):n.call(null,t,u,r,i,l)}())?e.Ug(a):null:null!=(a=function(){var u=e.right;return n.za?n.za(t,u,r,i,l):n.call(null,t,u,r,i,l)}())?e.Vg(a):null}(this.oc,this.tree,t,e,n);return null==r?(n=dr(n,0),Ne.a(e,n.F)?this:new aa(this.oc,function n(t,e,r,i){var l,u=e.key,a=t.a?t.a(r,u):t.call(null,r,u);return 0===a?e.replace(u,i,e.left,e.right):0>a?e.replace(u,e.F,(l=e.left,n.aa?n.aa(t,l,r,i):n.call(null,t,l,r,i)),e.right):e.replace(u,e.F,e.left,function(){var l=e.right;return n.aa?n.aa(t,l,r,i):n.call(null,t,l,r,i)}())}(this.oc,this.tree,t,e),this.fa,this.ba,null)):new aa(this.oc,r.Xc(),this.fa+1,this.ba,null)},i.pa=function(){return 0<this.fa?Qu(this.tree,!0,this.fa):null},i.Y=function(n,t){return t===this.ba?this:new aa(this.oc,this.tree,this.fa,t,this.G)},i.ra=function(n,t){if(Cr(t))return this.ia(null,ut.a(t,0),ut.a(t,1));for(n=this,t=De(t);;){if(null==t)return n;var e=Me(t);if(!Cr(e))throw Error("conj on a map takes map entries or seqables of map entries");n=gt(n,ut.a(e,0),ut.a(e,1)),t=Te(t)}},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.oa(null,t);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.oa(null,t)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.oa(null,n)},i.a=function(n,t){return this.Z(null,n,t)},aa.prototype[Gn]=function(){return ze(this)};var sa=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};sa.l=function(n){n=De(n);for(var t=ne(Yu);;){if(!n)return ee(t);var e=Te(Te(n));t=Di(t,Me(n),or(n)),n=e}},sa.R=0,sa.S=function(n){return this.l(De(n))};var ca=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function fa(n,t){this.Ra=n,this.sc=t,this.B=32374988,this.U=0}function ha(n){return(n=De(n))?new fa(n,null):null}function da(n){return yt(n)}function pa(n,t){this.Ra=n,this.sc=t,this.B=32374988,this.U=0}function ga(n){return(n=De(n))?new pa(n,null):null}ca.l=function(n){return Au(n=n instanceof lr&&0===n.da?n.O:Vn(n))},ca.R=0,ca.S=function(n){return this.l(De(n))},(i=fa.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.sc},i.Kb=function(){var n=(null!=this.Ra?128&this.Ra.B||An===this.Ra.me||!this.Ra.B&&Un(ct,this.Ra):Un(ct,this.Ra))?this.Ra.Kb(null):Te(this.Ra);return null==n?null:new fa(n,null)},i.la=function(){return Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return this.Ra.Mb(null).key},i.Nb=function(){var n=(null!=this.Ra?128&this.Ra.B||An===this.Ra.me||!this.Ra.B&&Un(ct,this.Ra):Un(ct,this.Ra))?this.Ra.Kb(null):Te(this.Ra);return null!=n?new fa(n,null):si},i.pa=function(){return this},i.Y=function(n,t){return t===this.sc?this:new fa(this.Ra,t)},i.ra=function(n,t){return di(t,this)},fa.prototype[Gn]=function(){return ze(this)},(i=pa.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.X=function(){return this.sc},i.Kb=function(){var n=(null!=this.Ra?128&this.Ra.B||An===this.Ra.me||!this.Ra.B&&Un(ct,this.Ra):Un(ct,this.Ra))?this.Ra.Kb(null):Te(this.Ra);return null==n?null:new pa(n,null)},i.la=function(){return Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Rr(t,this)},i.nb=function(n,t,e){return Ir(t,e,this)},i.Mb=function(){return this.Ra.Mb(null).F},i.Nb=function(){var n=(null!=this.Ra?128&this.Ra.B||An===this.Ra.me||!this.Ra.B&&Un(ct,this.Ra):Un(ct,this.Ra))?this.Ra.Kb(null):Te(this.Ra);return null!=n?new pa(n,null):si},i.pa=function(){return this},i.Y=function(n,t){return t===this.sc?this:new pa(this.Ra,t)},i.ra=function(n,t){return di(t,this)},pa.prototype[Gn]=function(){return ze(this)};var ma=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};ma.l=function(n){return zn(rl(Gr,n))?qr((function(n,t){return cr.a(zn(n)?n:ju,t)}),n):null},ma.R=0,ma.S=function(n){return this.l(De(n))};var va=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],1<e.length?new lr(e.slice(1),0,null):null)};function wa(n,t){var e=ju;for(t=De(t);;){if(!t)return Mt(e,xr(n));var r=Me(t),i=gr.j(n,r,mW);e=Ri.a(i,mW)?mr.j(e,r,i):e,t=Te(t)}}function ya(n){this.ze=n}function ba(n,t,e){this.ba=n,this.Vc=t,this.G=e,this.B=15077647,this.U=139268}va.l=function(n,t){if(zn(rl(Gr,t))){var e=function(t,e){var r,i=yt(e),l=bt(e);return $r(t,i)?mr.j(t,i,(r=gr.a(t,i),n.a?n.a(r,l):n.call(null,r,l))):mr.j(t,i,l)};return qr((function(n,t){return Hr(e,zn(n)?n:ju,De(t))}),t)}return null},va.R=1,va.S=function(n){var t=Me(n);return n=Te(n),this.l(t,n)},ya.prototype.cb=function(){return this.ze.cb()},ya.prototype.next=function(){if(this.ze.cb())return this.ze.next().key;throw Error("No such element")},ya.prototype.remove=function(){return Error("Unsupported operation")},(i=ba.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.keys=function(){return ze(De(this))},i.entries=function(){return new vu(De(De(this)))},i.values=function(){return ze(De(this))},i.has=function(n){return $r(this,n)},i.forEach=function(n){for(var t=De(this),e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i),u=pr(l,0);l=pr(l,1),n.a?n.a(l,u):n.call(null,l,u),i+=1}else{if(!(t=De(t)))return null;Dr(t)?(e=le(t),t=ue(t),u=e,r=hr(e),e=u):(u=pr(e=Me(t),0),l=pr(e,1),n.a?n.a(l,u):n.call(null,l,u),t=Te(t),e=null,r=0),i=0}},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return zn(n=mt(this.Vc,t))?yt(n):e},i.Ca=function(){return new ya(de(this.Vc))},i.X=function(){return this.ba},i.Ba=function(){return new ba(this.ba,this.Vc,this.G)},i.na=function(){return Qn(this.Vc)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ue(this)},i.ga=function(n,t){if(!Or(t))return!1;if(hr(this)!==hr(t))return!1;try{return Wr((function(n,e){return(n=$r(t,e))?n:Ge(!1)}),!0,this.Vc)}catch(n){if(n instanceof Error)return!1;throw n}},i.Rd=function(){return new ka(ne(this.Vc))},i.bb=function(){return Mt(xa,this.ba)},i.fg=function(n,t){return new ba(this.ba,wt(this.Vc,t),null)},i.pa=function(){return ha(this.Vc)},i.Y=function(n,t){return t===this.ba?this:new ba(t,this.Vc,this.G)},i.ra=function(n,t){return new ba(this.ba,mr.j(this.Vc,t,null),null)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.oa(null,t);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.oa(null,t)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.oa(null,n)},i.a=function(n,t){return this.Z(null,n,t)};var xa=new ba(null,ju,qe);function _a(n){for(var t=n.length,e=ne(xa),r=0;r<t;)te(e,n[r]),r+=1;return ee(e)}function ka(n){this.jd=n,this.U=136,this.B=259}function ja(n,t,e){this.ba=n,this.Qc=t,this.G=e,this.B=417730831,this.U=8192}function Oa(n){if(Or(n))return br(n,null);if(null==(n=De(n)))return xa;if(n instanceof lr&&0===n.da)return _a(n.O);for(var t=ne(xa);;){if(null==n)return ee(t);var e=Te(n);t=te(t,ot(n)),n=e}}function Aa(n){for(var t=Zl;;){if(!Te(n))return De(t);t=cr.a(t,Me(n)),n=Te(n)}}function Ea(n){if(null!=n&&(4096&n.U||An===n.fh))return n.ke(null);if("string"==typeof n)return n;throw Error(["Doesn't support name: ",ii.g(n)].join(""))}function Sa(n,t){var e=ne(ju);for(n=De(n),t=De(t);;){if(!n||!t)return ee(e);e=Di(e,Me(n),Me(t)),n=Te(n),t=Te(t)}}ba.prototype[Gn]=function(){return ze(this)},(i=ka.prototype).Td=function(n,t){return this.jd=re(this.jd,t,null),this},i.ne=function(){return new ba(null,ee(this.jd),null)},i.na=function(){return hr(this.jd)},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return pt.j(this.jd,t,Fr)===Fr?e:t},i.call=function(){function n(n,t,e){return pt.j(this.jd,t,Fr)===Fr?e:t}function t(n,t){return pt.j(this.jd,t,Fr)===Fr?null:t}var e;return(e=function(e,r,i){switch(arguments.length){case 2:return t.call(this,e,r);case 3:return n.call(this,e,r,i)}throw Error("Invalid arity: "+(arguments.length-1))}).a=t,e.j=n,e}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return pt.j(this.jd,n,Fr)===Fr?null:n},i.a=function(n,t){return pt.j(this.jd,n,Fr)===Fr?t:n},(i=ja.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.keys=function(){return ze(De(this))},i.entries=function(){return new vu(De(De(this)))},i.values=function(){return ze(De(this))},i.has=function(n){return $r(this,n)},i.forEach=function(n){for(var t=De(this),e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i),u=pr(l,0);l=pr(l,1),n.a?n.a(l,u):n.call(null,l,u),i+=1}else{if(!(t=De(t)))return null;Dr(t)?(e=le(t),t=ue(t),u=e,r=hr(e),e=u):(u=pr(e=Me(t),0),l=pr(e,1),n.a?n.a(l,u):n.call(null,l,u),t=Te(t),e=null,r=0),i=0}},i.oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return null!=(n=oa(this.Qc,t))?n.key:e},i.X=function(){return this.ba},i.Ba=function(){return new ja(this.ba,this.Qc,this.G)},i.na=function(){return hr(this.Qc)},i.Zc=function(){return 0<hr(this.Qc)?pl.a(da,Wt(this.Qc)):null},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ue(this)},i.ga=function(n,t){if(!Or(t))return!1;if(hr(this)!==hr(t))return!1;try{return Wr((function(n,e){return(n=$r(t,e))?n:Ge(!1)}),!0,this.Qc)}catch(n){if(n instanceof Error)return!1;throw n}},i.bb=function(){return new ja(this.ba,tt(this.Qc),0)},i.fg=function(n,t){return new ja(this.ba,vr.a(this.Qc,t),null)},i.pa=function(){return ha(this.Qc)},i.Y=function(n,t){return t===this.ba?this:new ja(t,this.Qc,this.G)},i.ra=function(n,t){return new ja(this.ba,mr.j(this.Qc,t,null),null)},i.call=function(){var n;return(n=function(n,t,e){switch(arguments.length){case 2:return this.oa(null,t);case 3:return this.Z(null,t,e)}throw Error("Invalid arity: "+(arguments.length-1))}).a=function(n,t){return this.oa(null,t)},n.j=function(n,t,e){return this.Z(null,t,e)},n}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.g=function(n){return this.oa(null,n)},i.a=function(n,t){return this.Z(null,n,t)},ja.prototype[Gn]=function(){return ze(this)};var Ca=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],new lr(e.slice(3),0,null))}};function Da(n,t){return function n(t,e,r){return new wi(null,(function(){var i=De(r);return i?di(gl(t,i),n(t,e,ml(e,i))):null}),null,null)}(n,n,t)}function Ma(n,t){return new wi(null,(function(){var e=De(t);if(e){var r=Me(e);e=zn(r=n.g?n.g(r):n.call(null,r))?di(Me(e),Ma(n,Fe(e))):null}else e=null;return e}),null,null)}function Fa(n,t,e){this.start=n,this.step=t,this.count=e,this.B=82,this.U=0}function Ta(n,t,e){this.da=n,this.end=t,this.step=e}function Na(n,t,e,r,i,l,u){this.ba=n,this.start=t,this.end=e,this.step=r,this.Na=i,this.he=l,this.G=u,this.B=32375006,this.U=140800}function Ba(n){if(null==n.Na){var t=n.na(null);32<t?(n.he=new Na(null,n.start+32*n.step,n.end,n.step,null,null,null),n.Na=new Fa(n.start,n.step,32)):n.Na=new Fa(n.start,n.step,t)}}function za(n,t){return t<=n?si:new Na(null,n,t,1,null,null,null)}function Pa(n){n:for(var t=n;t=De(t);)t=Te(t);return n}function $a(n,t){if("string"==typeof t)return null!=(n=n.exec(t))&&Ne.a(n[0],t)?1===n.length?n[0]:nu(n):null;throw new TypeError("re-matches must match against a string.")}function Ra(n,t){if("string"==typeof t)return null==(n=n.exec(t))?null:1===n.length?n[0]:nu(n);throw new TypeError("re-find must match against a string.")}Ca.a=function(n,t){return t},Ca.j=function(n,t,e){return(n.g?n.g(t):n.call(null,t))>(n.g?n.g(e):n.call(null,e))?t:e},Ca.l=function(n,t,e,r){return Hr((function(t,e){return Ca.j(n,t,e)}),Ca.j(n,t,e),r)},Ca.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);return e=Me(r),r=Te(r),this.l(t,n,e,r)},Ca.R=3,(i=Fa.prototype).na=function(){return this.count},i.Mb=function(){return this.start},i.Aa=function(n,t){return this.start+t*this.step},i.Ua=function(n,t,e){return 0<=t&&t<this.count?this.start+t*this.step:e},i.ag=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Fa(this.start+this.step,this.step,this.count-1)},Ta.prototype.cb=function(){return 0<this.step?this.da<this.end:this.da>this.end},Ta.prototype.next=function(){var n=this.da;return this.da+=this.step,n},(i=Na.prototype).toString=function(){return ge(this)},i.equiv=function(n){return this.ga(null,n)},i.indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.Aa=function(n,t){if(0<=t&&t<this.na(null))return this.start+t*this.step;if(0<=t&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds")},i.Ua=function(n,t,e){return 0<=t&&t<this.na(null)?this.start+t*this.step:0<=t&&this.start>this.end&&0===this.step?this.start:e},i.Ca=function(){return new Ta(this.start,this.end,this.step)},i.X=function(){return this.ba},i.Ba=function(){return new Na(this.ba,this.start,this.end,this.step,this.Na,this.he,this.G)},i.Kb=function(){return 0<this.step?this.start+this.step<this.end?new Na(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Na(null,this.start+this.step,this.end,this.step,null,null,null):null},i.na=function(){return Math.ceil((this.end-this.start)/this.step)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=Ie(this)},i.ga=function(n,t){return li(this,t)},i.bb=function(){return si},i.Eb=function(n,t){return Je(this,t)},i.nb=function(n,t,e){for(n=this.start;;){if(!(0<this.step?n<this.end:n>this.end))return e;if(Ye(e=t.a?t.a(e,n):t.call(null,e,n)))return St(e);n+=this.step}},i.Mb=function(){return this.start},i.Nb=function(){var n=this.Kb(null);return null==n?si:n},i.pa=function(){return this},i.Qe=function(){return Ba(this),this.Na},i.Pd=function(){return Ba(this),null==this.he?si:this.he},i.Y=function(n,t){return t===this.ba?this:new Na(t,this.start,this.end,this.step,this.Na,this.he,this.G)},i.ra=function(n,t){return di(t,this)},i.bg=function(){return De(this.Pd(null))},Na.prototype[Gn]=function(){return ze(this)};function Ia(n,t){if("string"==typeof t)return function n(t,e){var r=t.exec(e);if(null==r)return null;var i=r[0];return di(1===r.length?i:nu(r),new wi(null,(function(){var l=i.length;return(l=r.index+(1>l?1:l))<=e.length?(l=e.substring(l),n.a?n.a(t,l):n.call(null,t,l)):null}),null,null))}(n,t);throw new TypeError("re-seq must match against a string.")}function La(n){if(n instanceof RegExp)return n;var t=Ra(/^\(\?([idmsux]*)\)/,n),e=pr(t,0);return t=pr(t,1),new RegExp(n.substring(null==e?0:e.length),zn(t)?t:"")}function Ua(n,t,e,r,i,l,u){var a,o=Tn;Tn=null==Tn?null:Tn-1;try{if(null!=Tn&&0>Tn)return Gt(n,"#");if(Gt(n,e),0===eF.g(l))De(u)&&Gt(n,zn(a=OS.g(l))?a:"...");else{if(De(u)){var s=Me(u);t.j?t.j(s,n,l):t.call(null,s,n,l)}for(var c=Te(u),f=eF.g(l)-1;;){if(!c||null!=f&&0===f){De(c)&&0===f&&(Gt(n,r),Gt(n,function(){var n=OS.g(l);return zn(n)?n:"..."}()));break}Gt(n,r);var h=Me(c);e=n,u=l,t.j?t.j(h,e,u):t.call(null,h,e,u),c=Te(c),f=e=f-1}}return Gt(n,i)}finally{Tn=o}}function qa(n,t){t=De(t);for(var e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i);Gt(n,l),i+=1}else{if(!(t=De(t)))return null;Dr(e=t)?(t=le(e),r=ue(e),e=t,l=hr(t),t=r,r=l):(Gt(n,l=Me(e)),t=Te(e),e=null,r=0),i=0}}function Ha(n){if(null==Sn)throw Error("No *print-fn* fn set for evaluation environment");return Sn.g?Sn.g(n):Sn.call(null,n),null}var Wa={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Ga(n,t,e){return null==n?Gt(t,"nil"):(function(n,t){return!!Br(gr.a(n,Rd))&&(!(null==t||!(131072&t.B||An===t.oi))&&null!=xr(t))}(e,n)&&(Gt(t,"^"),Ya(xr(n),t,e),Gt(t," ")),n.ta?n.ua(t):(null!=n?2147483648&n.B||An===n.Xa||!n.B&&Un(Vt,n):Un(Vt,n))?Jt(n,t,e):!0===n||!1===n?Gt(t,ii.g(n)):"number"==typeof n?Gt(t,isNaN(n)?"##NaN":n===Number.POSITIVE_INFINITY?"##Inf":n===Number.NEGATIVE_INFINITY?"##-Inf":ii.g(n)):null!=n&&n.constructor===Object?(Gt(t,"#js "),to(pl.a((function(t){return new yu(null!=$a(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,t)?vi.g(t):t,n[t],null)}),E(n)),t,e)):$n(n)?Ua(t,Ya,"#js ["," ","]",e,n):a(n)?zn(fS.g(e))?Gt(t,function(n){return['"',ii.g(n.replace(/[\\"\b\f\n\r\t]/g,(function(n){return Wa[n]}))),'"'].join("")}(n)):Gt(t,n):f(n)?qa(t,ur(["#object[",e=null==(e=n.name)||R(e)?"Function":e,zn(!1)?[' "',ii.g(n),'"'].join(""):"","]"])):n instanceof Date?(e=function(n,t){for(n=ii.g(n);;){if(!(n.length<t))return n;n=["0",n].join("")}},qa(t,ur(['#inst "',ii.g(n.getUTCFullYear()),"-",e(n.getUTCMonth()+1,2),"-",e(n.getUTCDate(),2),"T",e(n.getUTCHours(),2),":",e(n.getUTCMinutes(),2),":",e(n.getUTCSeconds(),2),".",e(n.getUTCMilliseconds(),3),"-",'00:00"']))):n instanceof RegExp?qa(t,ur(['#"',n.source,'"'])):function(n){return"symbol"===s(n)||"undefined"!=typeof Symbol&&n instanceof Symbol}(n)?qa(t,ur(["#object[",n.toString(),"]"])):zn(null==(r=null==n?null:n.constructor)?null:r.sa)?qa(t,ur(["#object[",n.constructor.sa.replace(/\//g,"."),"]"])):(e=null==(e=function(){var t=null==n?null:n.constructor;return null==t?null:t.name}())||R(e)?"Object":e,null==n.constructor?qa(t,ur(["#object[",e,"]"])):qa(t,ur(["#object[",e," ",ii.g(n),"]"]))));var r}function Ya(n,t,e){var r=tL.g(e);return zn(r)?(e=mr.j(e,dj,Ga),r.j?r.j(n,t,e):r.call(null,n,t,e)):Ga(n,t,e)}function Va(n,t){return kr(n)?"":ii.g(function(n,t){var e=new cn,r=new pe(e);n:{Ya(Me(n),r,t),n=De(Te(n));for(var i=null,l=0,u=0;;)if(u<l){var a=i.Aa(null,u);Gt(r," "),Ya(a,r,t),u+=1}else{if(!(n=De(n)))break n;Dr(i=n)?(n=le(i),l=ue(i),i=n,a=hr(n),n=l,l=a):(a=Me(i),Gt(r," "),Ya(a,r,t),n=Te(i),i=null,l=0),u=0}}return r.Tc(null),e}(n,t))}var Ja=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};Ja.l=function(n){return Va(n,Bn())},Ja.R=0,Ja.S=function(n){return this.l(De(n))};var Xa=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function Ka(n){return Ha(Va(n,mr.j(Bn(),fS,!1))),zn(Dn)?(n=Bn(),Ha("\n"),gr.a(n,Rj),n=null):n=null,n}function Za(n){return n instanceof Ae?Ee.a(null,Ea(n)):vi.a(null,Ea(n))}function Qa(n){if(!zn(!1))return null;var t=De(n),e=De(t),r=Me(e);for(Te(e),pr(r,0),pr(r,1),e=fr(n),n=null;;){r=n,n=Me(t=De(t));var i=Te(t),l=n;if(n=pr(l,0),t=pr(l,1),!zn(l))return new Xl(null,2,5,Kl,[r,e],null);if(!(n instanceof pi||n instanceof Ae))return null;if(zn(r)){if(!Ne.a(r,mi(n)))return null;e=mr.j(e,Za(n),t),n=r,t=i}else{if(!zn(r=mi(n)))return null;e=mr.j(e,Za(n),t),n=r,t=i}}}function no(n,t,e,r,i){return Ua(r,(function(n,t,r){var i=yt(n);return e.j?e.j(i,t,r):e.call(null,i,t,r),Gt(t," "),n=bt(n),e.j?e.j(n,t,r):e.call(null,n,t,r)}),[ii.g(n),"{"].join(""),", ","}",i,De(t))}function to(n,t,e){var r=Ya,i=Er(n)?Qa(n):null,l=pr(i,0);return i=pr(i,1),zn(l)?no(["#:",ii.g(l)].join(""),i,r,t,e):no(null,n,r,t,e)}Xa.l=function(n){return Va(n,mr.j(Bn(),fS,!1))},Xa.R=0,Xa.S=function(n){return this.l(De(n))},Se.prototype.Xa=An,Se.prototype.ka=function(n,t,e){return Gt(t,"#'"),Ya(this.ab,t,e)},lr.prototype.Xa=An,lr.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},wi.prototype.Xa=An,wi.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},yu.prototype.Xa=An,yu.prototype.ka=function(n,t,e){return Ua(t,Ya,"["," ","]",e,this)},Zu.prototype.Xa=An,Zu.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},Lu.prototype.Xa=An,Lu.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},ia.prototype.Xa=An,ia.prototype.ka=function(n,t,e){return Ua(t,Ya,"["," ","]",e,this)},xu.prototype.Xa=An,xu.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},Pe.prototype.Xa=An,Pe.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},ja.prototype.Xa=An,ja.prototype.ka=function(n,t,e){return Ua(t,Ya,"#{"," ","}",e,this)},eu.prototype.Xa=An,eu.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},hi.prototype.Xa=An,hi.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},ar.prototype.Xa=An,ar.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},Gu.prototype.Xa=An,Gu.prototype.ka=function(n,t,e){return to(this,t,e)},qu.prototype.Xa=An,qu.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},ru.prototype.Xa=An,ru.prototype.ka=function(n,t,e){return Ua(t,Ya,"["," ","]",e,this)},yl.prototype.Xa=An,yl.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},aa.prototype.Xa=An,aa.prototype.ka=function(n,t,e){return to(this,t,e)},ba.prototype.Xa=An,ba.prototype.ka=function(n,t,e){return Ua(t,Ya,"#{"," ","}",e,this)},ki.prototype.Xa=An,ki.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},sl.prototype.Xa=An,sl.prototype.ka=function(n,t,e){return Gt(t,"#object[cljs.core.Atom "),Ya(new ku(null,1,[R_,this.state],null),t,e),Gt(t,"]")},pa.prototype.Xa=An,pa.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},la.prototype.Xa=An,la.prototype.ka=function(n,t,e){return Ua(t,Ya,"["," ","]",e,this)},xl.prototype.Xa=An,xl.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},Xl.prototype.Xa=An,Xl.prototype.ka=function(n,t,e){return Ua(t,Ya,"["," ","]",e,this)},su.prototype.Xa=An,su.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},oi.prototype.Xa=An,oi.prototype.ka=function(n,t){return Gt(t,"()")},cu.prototype.Xa=An,cu.prototype.ka=function(n,t,e){return Ua(t,Ya,"#queue ["," ","]",e,De(this))},ku.prototype.Xa=An,ku.prototype.ka=function(n,t,e){return to(this,t,e)},Na.prototype.Xa=An,Na.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},Qi.prototype.Xa=An,Qi.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},fa.prototype.Xa=An,fa.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},ui.prototype.Xa=An,ui.prototype.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)};var eo=null,ro=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function io(n,t){this.Lf=n,this.jf=t,this.B=2173173760,this.U=131072}function lo(){}function uo(n){if(null!=n&&null!=n.mi)n=n.mi(n);else{var t=uo[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=uo._))throw Hn("IEncodeJS.-clj->js",n);n=t.g?t.g(n):t.call(null,n)}}return n}function ao(n,t){return(null!=n?An===n.li||!n.od&&Un(lo,n):Un(lo,n))?uo(n):"string"==typeof n||"number"==typeof n||n instanceof pi||n instanceof Ae?t.g?t.g(n):t.call(null,n):Ja.l(ur([n]))}ro.L=function(){return ro.g("G__")},ro.g=function(n){return null==eo&&(eo=cl(0)),Ee.g([ii.g(n),ii.g(hl.a(eo,He))].join(""))},ro.R=1,(i=io.prototype).indexOf=function(){var n;return(n=function(n,t){switch(arguments.length){case 1:return er(this,n,0);case 2:return er(this,n,t)}throw Error("Invalid arity: "+arguments.length)}).g=function(n){return er(this,n,0)},n.a=function(n,t){return er(this,n,t)},n}(),i.lastIndexOf=function(){function n(n){return rr(this,n,hr(this))}var t;return(t=function(t,e){switch(arguments.length){case 1:return n.call(this,t);case 2:return rr(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).g=n,t.a=function(n,t){return rr(this,n,t)},t}(),i.Ca=function(){var n=Yi(this.jf);return nl(this.Lf,n)},i.pa=function(){return De(tl(this.Lf,this.jf))},i.Eb=function(n,t){return n=Yr(t),t=this.jf,Vr(this.Lf,n,n.L?n.L():n.call(null),t)},i.nb=function(n,t,e){return Vr(this.Lf,Yr(t),e,this.jf)},i.ka=function(n,t,e){return Ua(t,Ya,"("," ",")",e,this)},io.prototype[Gn]=function(){return ze(this)};var oo=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],1<e.length?new lr(e.slice(1),0,null):null)};function so(){}function co(n,t){if(null!=n&&null!=n.ki)n=n.ki(n,t);else{var e=co[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=co._))throw Hn("IEncodeClojure.-js->clj",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function fo(n,t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,r=zn(e=gr.a(e,dU))?vi:ii;return function n(e){return(null!=e?An===e.Bk||!e.od&&Un(so,e):Un(so,e))?co(e,Pi.a(ca,t)):Nr(e)?Pa(pl.a(n,e)):bu(e)?new yu(n(yt(e)),n(bt(e)),null):jr(e)?Dl.j(fr(e),pl.g(n),e):$n(e)?ee(Hr((function(t,e){return Ci.a(t,n(e))}),ne(Zl),e)):qn(e)===Object?ee(Hr((function(t,i){return Di(t,r.g?r.g(i):r.call(null,i),n(S(e,i)))}),ne(ju),E(e))):e}(n)}oo.l=function(n,t){t=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;var e=gr.j(t,Oj,Ea),r=function n(t){if(null==t)return null;if(null!=t?An===t.li||!t.od&&Un(lo,t):Un(lo,t))return uo(t);if(t instanceof pi)return e.g?e.g(t):e.call(null,t);if(t instanceof Ae)return ii.g(t);if(Er(t)){var i={};t=De(t);for(var l=null,u=0,a=0;;)if(a<u){var o=l.Aa(null,a),s=pr(o,0);o=pr(o,1),s=ao(s,r),o=n(o),i[s]=o,a+=1}else{if(!(t=De(t)))break;Dr(t)?(u=le(t),t=ue(t),l=u,u=hr(u)):(l=pr(u=Me(t),0),u=pr(u,1),l=ao(l,r),u=n(u),i[l]=u,t=Te(t),l=null,u=0),a=0}return i}if(jr(t)){for(i=[],t=De(pl.a(n,t)),l=null,a=u=0;;)if(a<u)s=l.Aa(null,a),i.push(s),a+=1;else{if(!(t=De(t)))break;Dr(l=t)?(t=le(l),a=ue(l),l=t,u=hr(t),t=a):(t=Me(l),i.push(t),t=Te(l),l=null,u=0),a=0}return i}return t};return r(n)},oo.R=1,oo.S=function(n){var t=Me(n);return n=Te(n),this.l(t,n)};var ho=null;function po(){return null==ho&&(ho=cl(new ku(null,3,[PT,ju,wA,ju,jE,ju],null))),ho}function go(n,t,e){var r=Ne.a(t,e);if(r)return r;if(r=$r(r=(r=jE.g(n)).g?r.g(t):r.call(null,t),e))return r;if(!Cr(e))return!1;if(!Cr(t))return!1;if(hr(e)!==hr(t))return!1;r=!0;for(var i=0;;){if(!r||i===hr(e))return r;r=go(n,t.g?t.g(i):t.call(null,i),e.g?e.g(i):e.call(null,i)),i+=1}}function mo(n){var t=St(po());return Ii(gr.a(PT.g(t),n))}function vo(n,t,e,r){hl.a(n,(function(){return St(t)})),hl.a(e,(function(){return St(r)}))}function wo(n,t,e,r){return e=function n(t,e,r){var i,l=(i=St(r)).g?i.g(t):i.call(null,t);return l=!!zn(zn(l)?l.g?l.g(e):l.call(null,e):l)||null,(zn(l)||zn(l=function(){for(var i=mo(e);;){if(!(0<hr(i)))return null;var l=Me(i);n.j?n.j(t,l,r):n.call(null,t,l,r),i=Fe(i)}}())||!!zn(l=function(){for(var i=mo(t);;){if(!(0<hr(i)))return null;var l=Me(i);n.j?n.j(l,e,r):n.call(null,l,e,r),i=Fe(i)}}()))&&l}(n,t,e),zn(e)?e:go(r,n,t)}function yo(n,t,e){if(null!=n&&null!=n.Jb)n.Jb(n,t,e);else{var r=yo[s(null==n?null:n)];if(null!=r)r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=yo._))throw Hn("IMultiFn.-add-method",n);r.j?r.j(n,t,e):r.call(null,n,t,e)}}}function bo(n,t){throw Error(["No method in multimethod '",ii.g(n),"' for dispatch value: ",ii.g(t)].join(""))}function xo(n,t,e,r,i,l,u){var a=nw;this.name=n,this.ea=t,this.wi=a,this.rf=e,this.xf=r,this.Wj=i,this.wf=l,this.Ne=u,this.B=4194305,this.U=4352}function _o(n,t){Ne.a(St(n.Ne),St(n.rf))||vo(n.wf,n.xf,n.Ne,n.rf);var e=St(n.wf);return zn(e=e.g?e.g(t):e.call(null,t))?e:function n(t,e,r,i,l,u,a,o){var s=Hr((function(n,i){var u=pr(i,0);if(pr(i,1),go(St(r),e,u)&&(n=null==n||wo(u,Me(n),l,St(r))?i:n,!wo(Me(n),u,l,St(r))))throw Error(["Multiple methods in multimethod '",ii.g(t),"' match dispatch value: ",ii.g(e)," -> ",ii.g(u)," and ",ii.g(Me(n)),", and neither is preferred"].join(""));return n}),null,St(i)),c=function(){if(null==s){var n=St(i);n=n.g?n.g(o):n.call(null,o)}else n=!1;return zn(n)?new Xl(null,2,5,Kl,[o,n],null):s}();return zn(c)?Ne.a(St(a),St(r))?(hl.aa(u,mr,e,or(c)),or(c)):(vo(u,i,a,r),n.Va?n.Va(t,e,r,i,l,u,a,o):n.call(null,t,e,r,i,l,u,a,o)):null}(n.name,t,n.rf,n.xf,n.Wj,n.wf,n.Ne,n.wi)}function ko(n,t){this.kd=n,this.G=t,this.B=2153775104,this.U=2048}if((i=xo.prototype).call=function(){function n(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x){n=this;var _=Pi.l(n.ea,t,e,r,i,ur([l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x])),k=_o(this,_);return zn(k)||bo(n.name,_),Pi.l(k,t,e,r,i,ur([l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x]))}function t(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b){var x=(n=this).ea.Lb?n.ea.Lb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b),_=_o(this,x);return zn(_)||bo(n.name,x),_.Lb?_.Lb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b):_.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b)}function e(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){var b=(n=this).ea.Db?n.ea.Db(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y),x=_o(this,b);return zn(x)||bo(n.name,b),x.Db?x.Db(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):x.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y)}function r(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){var y=(n=this).ea.wb?n.ea.wb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w),b=_o(this,y);return zn(b)||bo(n.name,y),b.wb?b.wb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):b.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w)}function i(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){var w=(n=this).ea.vb?n.ea.vb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v),y=_o(this,w);return zn(y)||bo(n.name,w),y.vb?y.vb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):y.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v)}function l(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){var v=(n=this).ea.ub?n.ea.ub(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m),w=_o(this,v);return zn(w)||bo(n.name,v),w.ub?w.ub(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):w.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m)}function u(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){var m=(n=this).ea.tb?n.ea.tb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g),v=_o(this,m);return zn(v)||bo(n.name,m),v.tb?v.tb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):v.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g)}function a(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){var g=(n=this).ea.sb?n.ea.sb(t,e,r,i,l,u,a,o,s,c,f,h,d,p):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p),m=_o(this,g);return zn(m)||bo(n.name,g),m.sb?m.sb(t,e,r,i,l,u,a,o,s,c,f,h,d,p):m.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d,p)}function o(n,t,e,r,i,l,u,a,o,s,c,f,h,d){var p=(n=this).ea.rb?n.ea.rb(t,e,r,i,l,u,a,o,s,c,f,h,d):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d),g=_o(this,p);return zn(g)||bo(n.name,p),g.rb?g.rb(t,e,r,i,l,u,a,o,s,c,f,h,d):g.call(null,t,e,r,i,l,u,a,o,s,c,f,h,d)}function s(n,t,e,r,i,l,u,a,o,s,c,f,h){var d=(n=this).ea.qb?n.ea.qb(t,e,r,i,l,u,a,o,s,c,f,h):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f,h),p=_o(this,d);return zn(p)||bo(n.name,d),p.qb?p.qb(t,e,r,i,l,u,a,o,s,c,f,h):p.call(null,t,e,r,i,l,u,a,o,s,c,f,h)}function c(n,t,e,r,i,l,u,a,o,s,c,f){var h=(n=this).ea.pb?n.ea.pb(t,e,r,i,l,u,a,o,s,c,f):n.ea.call(null,t,e,r,i,l,u,a,o,s,c,f),d=_o(this,h);return zn(d)||bo(n.name,h),d.pb?d.pb(t,e,r,i,l,u,a,o,s,c,f):d.call(null,t,e,r,i,l,u,a,o,s,c,f)}function f(n,t,e,r,i,l,u,a,o,s,c){var f=(n=this).ea.lb?n.ea.lb(t,e,r,i,l,u,a,o,s,c):n.ea.call(null,t,e,r,i,l,u,a,o,s,c),h=_o(this,f);return zn(h)||bo(n.name,f),h.lb?h.lb(t,e,r,i,l,u,a,o,s,c):h.call(null,t,e,r,i,l,u,a,o,s,c)}function h(n,t,e,r,i,l,u,a,o,s){var c=(n=this).ea.Wa?n.ea.Wa(t,e,r,i,l,u,a,o,s):n.ea.call(null,t,e,r,i,l,u,a,o,s),f=_o(this,c);return zn(f)||bo(n.name,c),f.Wa?f.Wa(t,e,r,i,l,u,a,o,s):f.call(null,t,e,r,i,l,u,a,o,s)}function d(n,t,e,r,i,l,u,a,o){var s=(n=this).ea.Va?n.ea.Va(t,e,r,i,l,u,a,o):n.ea.call(null,t,e,r,i,l,u,a,o),c=_o(this,s);return zn(c)||bo(n.name,s),c.Va?c.Va(t,e,r,i,l,u,a,o):c.call(null,t,e,r,i,l,u,a,o)}function p(n,t,e,r,i,l,u,a){var o=(n=this).ea.mb?n.ea.mb(t,e,r,i,l,u,a):n.ea.call(null,t,e,r,i,l,u,a),s=_o(this,o);return zn(s)||bo(n.name,o),s.mb?s.mb(t,e,r,i,l,u,a):s.call(null,t,e,r,i,l,u,a)}function g(n,t,e,r,i,l,u){var a=(n=this).ea.Ta?n.ea.Ta(t,e,r,i,l,u):n.ea.call(null,t,e,r,i,l,u),o=_o(this,a);return zn(o)||bo(n.name,a),o.Ta?o.Ta(t,e,r,i,l,u):o.call(null,t,e,r,i,l,u)}function m(n,t,e,r,i,l){var u=(n=this).ea.za?n.ea.za(t,e,r,i,l):n.ea.call(null,t,e,r,i,l),a=_o(this,u);return zn(a)||bo(n.name,u),a.za?a.za(t,e,r,i,l):a.call(null,t,e,r,i,l)}function v(n,t,e,r,i){var l=(n=this).ea.aa?n.ea.aa(t,e,r,i):n.ea.call(null,t,e,r,i),u=_o(this,l);return zn(u)||bo(n.name,l),u.aa?u.aa(t,e,r,i):u.call(null,t,e,r,i)}function w(n,t,e,r){var i=(n=this).ea.j?n.ea.j(t,e,r):n.ea.call(null,t,e,r),l=_o(this,i);return zn(l)||bo(n.name,i),l.j?l.j(t,e,r):l.call(null,t,e,r)}function y(n,t,e){var r=(n=this).ea.a?n.ea.a(t,e):n.ea.call(null,t,e),i=_o(this,r);return zn(i)||bo(n.name,r),i.a?i.a(t,e):i.call(null,t,e)}function b(n,t){var e=(n=this).ea.g?n.ea.g(t):n.ea.call(null,t),r=_o(this,e);return zn(r)||bo(n.name,e),r.g?r.g(t):r.call(null,t)}function x(n){var t=(n=this).ea.L?n.ea.L():n.ea.call(null),e=_o(this,t);return zn(e)||bo(n.name,t),e.L?e.L():e.call(null)}var _;return(_=function(_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U,q){switch(arguments.length){case 1:return x.call(this,_);case 2:return b.call(this,_,k);case 3:return y.call(this,_,k,j);case 4:return w.call(this,_,k,j,O);case 5:return v.call(this,_,k,j,O,A);case 6:return m.call(this,_,k,j,O,A,E);case 7:return g.call(this,_,k,j,O,A,E,S);case 8:return p.call(this,_,k,j,O,A,E,S,C);case 9:return d.call(this,_,k,j,O,A,E,S,C,D);case 10:return h.call(this,_,k,j,O,A,E,S,C,D,M);case 11:return f.call(this,_,k,j,O,A,E,S,C,D,M,F);case 12:return c.call(this,_,k,j,O,A,E,S,C,D,M,F,T);case 13:return s.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N);case 14:return o.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B);case 15:return a.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z);case 16:return u.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P);case 17:return l.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$);case 18:return i.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R);case 19:return r.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I);case 20:return e.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L);case 21:return t.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U);case 22:return n.call(this,_,k,j,O,A,E,S,C,D,M,F,T,N,B,z,P,$,R,I,L,U,q)}throw Error("Invalid arity: "+(arguments.length-1))}).g=x,_.a=b,_.j=y,_.aa=w,_.za=v,_.Ta=m,_.mb=g,_.Va=p,_.Wa=d,_.lb=h,_.pb=f,_.qb=c,_.rb=s,_.sb=o,_.tb=a,_.ub=u,_.vb=l,_.wb=i,_.Db=r,_.Lb=e,_.je=t,_.dh=n,_}(),i.apply=function(n,t){return this.call.apply(this,[this].concat(Yn(t)))},i.L=function(){var n=this.ea.L?this.ea.L():this.ea.call(null),t=_o(this,n);return zn(t)||bo(this.name,n),t.L?t.L():t.call(null)},i.g=function(n){var t=this.ea.g?this.ea.g(n):this.ea.call(null,n),e=_o(this,t);return zn(e)||bo(this.name,t),e.g?e.g(n):e.call(null,n)},i.a=function(n,t){var e=this.ea.a?this.ea.a(n,t):this.ea.call(null,n,t),r=_o(this,e);return zn(r)||bo(this.name,e),r.a?r.a(n,t):r.call(null,n,t)},i.j=function(n,t,e){var r=this.ea.j?this.ea.j(n,t,e):this.ea.call(null,n,t,e),i=_o(this,r);return zn(i)||bo(this.name,r),i.j?i.j(n,t,e):i.call(null,n,t,e)},i.aa=function(n,t,e,r){var i=this.ea.aa?this.ea.aa(n,t,e,r):this.ea.call(null,n,t,e,r),l=_o(this,i);return zn(l)||bo(this.name,i),l.aa?l.aa(n,t,e,r):l.call(null,n,t,e,r)},i.za=function(n,t,e,r,i){var l=this.ea.za?this.ea.za(n,t,e,r,i):this.ea.call(null,n,t,e,r,i),u=_o(this,l);return zn(u)||bo(this.name,l),u.za?u.za(n,t,e,r,i):u.call(null,n,t,e,r,i)},i.Ta=function(n,t,e,r,i,l){var u=this.ea.Ta?this.ea.Ta(n,t,e,r,i,l):this.ea.call(null,n,t,e,r,i,l),a=_o(this,u);return zn(a)||bo(this.name,u),a.Ta?a.Ta(n,t,e,r,i,l):a.call(null,n,t,e,r,i,l)},i.mb=function(n,t,e,r,i,l,u){var a=this.ea.mb?this.ea.mb(n,t,e,r,i,l,u):this.ea.call(null,n,t,e,r,i,l,u),o=_o(this,a);return zn(o)||bo(this.name,a),o.mb?o.mb(n,t,e,r,i,l,u):o.call(null,n,t,e,r,i,l,u)},i.Va=function(n,t,e,r,i,l,u,a){var o=this.ea.Va?this.ea.Va(n,t,e,r,i,l,u,a):this.ea.call(null,n,t,e,r,i,l,u,a),s=_o(this,o);return zn(s)||bo(this.name,o),s.Va?s.Va(n,t,e,r,i,l,u,a):s.call(null,n,t,e,r,i,l,u,a)},i.Wa=function(n,t,e,r,i,l,u,a,o){var s=this.ea.Wa?this.ea.Wa(n,t,e,r,i,l,u,a,o):this.ea.call(null,n,t,e,r,i,l,u,a,o),c=_o(this,s);return zn(c)||bo(this.name,s),c.Wa?c.Wa(n,t,e,r,i,l,u,a,o):c.call(null,n,t,e,r,i,l,u,a,o)},i.lb=function(n,t,e,r,i,l,u,a,o,s){var c=this.ea.lb?this.ea.lb(n,t,e,r,i,l,u,a,o,s):this.ea.call(null,n,t,e,r,i,l,u,a,o,s),f=_o(this,c);return zn(f)||bo(this.name,c),f.lb?f.lb(n,t,e,r,i,l,u,a,o,s):f.call(null,n,t,e,r,i,l,u,a,o,s)},i.pb=function(n,t,e,r,i,l,u,a,o,s,c){var f=this.ea.pb?this.ea.pb(n,t,e,r,i,l,u,a,o,s,c):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c),h=_o(this,f);return zn(h)||bo(this.name,f),h.pb?h.pb(n,t,e,r,i,l,u,a,o,s,c):h.call(null,n,t,e,r,i,l,u,a,o,s,c)},i.qb=function(n,t,e,r,i,l,u,a,o,s,c,f){var h=this.ea.qb?this.ea.qb(n,t,e,r,i,l,u,a,o,s,c,f):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f),d=_o(this,h);return zn(d)||bo(this.name,h),d.qb?d.qb(n,t,e,r,i,l,u,a,o,s,c,f):d.call(null,n,t,e,r,i,l,u,a,o,s,c,f)},i.rb=function(n,t,e,r,i,l,u,a,o,s,c,f,h){var d=this.ea.rb?this.ea.rb(n,t,e,r,i,l,u,a,o,s,c,f,h):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h),p=_o(this,d);return zn(p)||bo(this.name,d),p.rb?p.rb(n,t,e,r,i,l,u,a,o,s,c,f,h):p.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h)},i.sb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d){var p=this.ea.sb?this.ea.sb(n,t,e,r,i,l,u,a,o,s,c,f,h,d):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d),g=_o(this,p);return zn(g)||bo(this.name,p),g.sb?g.sb(n,t,e,r,i,l,u,a,o,s,c,f,h,d):g.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d)},i.tb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){var g=this.ea.tb?this.ea.tb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p),m=_o(this,g);return zn(m)||bo(this.name,g),m.tb?m.tb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p):m.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p)},i.ub=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){var m=this.ea.ub?this.ea.ub(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g),v=_o(this,m);return zn(v)||bo(this.name,m),v.ub?v.ub(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g):v.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g)},i.vb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){var v=this.ea.vb?this.ea.vb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m),w=_o(this,v);return zn(w)||bo(this.name,v),w.vb?w.vb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):w.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m)},i.wb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){var w=this.ea.wb?this.ea.wb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v),y=_o(this,w);return zn(y)||bo(this.name,w),y.wb?y.wb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):y.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v)},i.Db=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){var y=this.ea.Db?this.ea.Db(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w),b=_o(this,y);return zn(b)||bo(this.name,y),b.Db?b.Db(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):b.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w)},i.Lb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){var b=this.ea.Lb?this.ea.Lb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):this.ea.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y),x=_o(this,b);return zn(x)||bo(this.name,b),x.Lb?x.Lb(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y):x.call(null,n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y)},i.je=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b){var x=Pi.l(this.ea,n,t,e,r,ur([i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b])),_=_o(this,x);return zn(_)||bo(this.name,x),Pi.l(_,n,t,e,r,ur([i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b]))},i.Jb=function(n,t,e){return hl.aa(this.xf,mr,t,e),vo(this.wf,this.xf,this.Ne,this.rf),this},i.ke=function(){return ae(this.name)},i.le=function(){return oe(this.name)},i.la=function(){return d(this)},(i=ko.prototype).toString=function(){return this.kd},i.equiv=function(n){return this.ga(null,n)},i.ga=function(n,t){return t instanceof ko&&this.kd===t.kd},i.ka=function(n,t){return Gt(t,['#uuid "',ii.g(this.kd),'"'].join(""))},i.la=function(){return null==this.G&&(this.G=je(this.kd)),this.G},void 0===jn||void 0===On||void 0===jo)var jo=null;if("undefined"!=typeof console&&(Dn=!1,Sn=function(){return console.log.apply(console,A(arguments))},Cn=function(){return console.error.apply(console,A(arguments))}),void 0===jn||void 0===On||void 0===Oo)var Oo=function(){throw Error("cljs.core/*eval* not bound")};u=window;var Ao=new pi(null,"response","response",-1068424192),Eo=new pi(null,"XRL-COLOR","XRL-COLOR",376187936),So=new pi(null,"transform-style","transform-style",-1887177696),Co=new pi(null,"y","y",-1757859776),Do=new pi(null,"border-image","border-image",-230471616),Mo=new pi(null,"above-left","above-left",-1593975744),Fo=new pi(null,"on-key-down-capture","on-key-down-capture",-1395197888),To=new pi(null,"mm","mm",-1652850560),No=new pi(null,"hyphenate-limit-lines","hyphenate-limit-lines",-850645888),Bo=new pi(null,"border-image-slice","border-image-slice",-4957056),zo=new pi(null,"role","role",-736691072),Po=new Ae(null,"index-nav","index-nav",-157001568,null),$o=new pi(null,"above-center","above-center",1960103104),Ro=new pi(null,"defaultStyle","defaultStyle",-1871684416),Io=new pi(null,"fr","fr",1577713888),Lo=new Ae(null,"meta27675","meta27675",765695200,null),Uo=new Ae(null,"localTimeParser","localTimeParser",-1738135328,null),qo=new Ae(null,"meta26488","meta26488",-585439968,null),Ho=new pi(null,"rel","rel",1378823488),Wo=new pi(null,"arg13","arg13",1606275392),Go=new Ae(null,"com.rpl.specter","com.rpl.specter",-2029095616,null),Yo=new pi(null,"border-style","border-style",-485574304),Vo=new pi(null,"description","description",-1428560544),Jo=new pi(null,"text-anchor","text-anchor",585613696),Xo=new pi(null,"mandatory","mandatory",542802336),Ko=new Ae(null,"&","&",-2144855648,null),Zo=new pi(null,"zero","zero",-858964576),Qo=new pi(null,"large","large",-196820544),ns=new pi(null,"on-composition-end","on-composition-end",581757376),ts=new pi(null,"CSCALE","CSCALE",-2068741664),es=new pi(null,"on-drop-capture","on-drop-capture",1615153632),rs=new pi(null,"line-height","line-height",1870784992),is=new Ae("sp","AFTER-ELEM","sp/AFTER-ELEM",-2084540960,null),ls=new pi(null,"divisor","divisor",-25029120),us=new pi(null,"binary","binary",-1802232288),as=new pi(null,"on-drag-exit","on-drag-exit",2762272),os=new pi(null,"footnote-display","footnote-display",1635659296),ss=new pi(null,"thead","thead",-291875296),cs=new Ae(null,"uuid","uuid",-504564192,null),fs=new pi(null,"text-rendering","text-rendering",872518208),hs=new pi(null,"on-suspend","on-suspend",-740218304),ds=new Ae(null,"meta16098","meta16098",-463720896,null),ps=new pi(null,"min-width","min-width",1926193728),gs=new pi(null,"path","path",-188191168),ms=new pi(null,"logical-blocks","logical-blocks",-1466339776),vs=new Ae("cljs.core","unquote","cljs.core/unquote",1013085760,null),ws=new Ae(null,"when-first","when-first",821699168,null),ys=new pi(null,"font-style","font-style",-773672352),bs=new pi(null,"text-spacing","text-spacing",-144753056),xs=new pi(null,"spread-method","spread-method",-1720392096),_s=new pi(null,"block-size","block-size",-1062272384),ks=new pi(null,"splitter-size","splitter-size",245247616),js=new pi(null,"date-element-parser","date-element-parser",2072167040),Os=new pi(null,"auto-complete","auto-complete",244958848),As=new pi(null,"reversed","reversed",-286659968),Es=new pi(null,"inline-size","inline-size",-2060171616),Ss=new pi(null,"animation-delay","animation-delay",-488570176),Cs=new pi(null,"vis-list","vis-list",-1367033152),Ds=new pi(null,"encoding","encoding",1728578272),Ms=new pi(null,"on-can-play-capture","on-can-play-capture",-754836736),Fs=new pi(null,"SDATA","SDATA",-1802577152),Ts=new Ae(null,"case*","case*",-1938255072,null),Ns=new pi(null,"wrap-nicely?","wrap-nicely?",85012288),Bs=new pi(null,"hour-minute","hour-minute",-1164421312),zs=new pi(null,"autosize","autosize",-724145344),Ps=new pi(null,"open","open",-1763596448),$s=new Ae(null,"x","x",-555367584,null),Rs=new pi(null,"line-grid","line-grid",258958176),Is=new pi(null,"vmin","vmin",446546816),Ls=new pi(null,"focusable","focusable",1031236480),Us=new pi(null,"arg3","arg3",-1486822496),qs=new pi(null,"baseline","baseline",1151033280),Hs=new pi(null,"transition-delay","transition-delay",-235557887),Ws=new pi(null,"COLUMN","COLUMN",-1610260479),Gs=new pi(null,"mask","mask",-585748447),Ys=new Ae(null,"meta19995","meta19995",1829169217,null),Vs=new pi(null,"image-rendering","image-rendering",770251905),Js=new pi(null,"tab-index","tab-index",895755393),Xs=new Ae(null,"row-button","row-button",780391553,null),Ks=new pi(null,"ordinal-suffix","ordinal-suffix",-1311843199),Zs=new pi(null,"stroke-dasharray","stroke-dasharray",-942933855),Qs=new pi(null,"image-orientation","image-orientation",614962369),nc=new pi(null,"bold","bold",-116809535),tc=new pi(null,"strikethrough-thickness","strikethrough-thickness",2087500993),ec=new pi("aerial.hanami.common","rmv-empty?","aerial.hanami.common/rmv-empty?",1038218433),rc=new pi(null,"async","async",1050769601),ic=new pi(null,"mask-size","mask-size",-1707013919),lc=new pi(null,"on-pointer-move","on-pointer-move",-775121695),uc=new pi(null,"accumulate","accumulate",-887744287),ac=new Ae(null,"end","end",1372345569,null),oc=new pi(null,"border-top-style","border-top-style",-668961567),sc=new pi(null,"box-decoration-break","box-decoration-break",-566185727),cc=new pi(null,"spec-frame-pairs","spec-frame-pairs",-1457788671),fc=new Ae(null,"h-box","h-box",1637186817,null),hc=new pi(null,"li.no-results","li.no-results",-717682399),dc=new pi(null,"on-input-capture","on-input-capture",2039664929),pc=new pi(null,"x-height","x-height",1735436609),gc=new pi(null,"popover-color","popover-color",-2019049119),mc=new pi(null,"attribute-name","attribute-name",463128929),vc=new pi(null,"Mo","Mo",706762113),wc=new Ae(null,"defrecord*","defrecord*",-1936366207,null),yc=new pi(null,"on-play-capture","on-play-capture",1664522657),bc=new pi(null,"finally","finally",1589088705),xc=new pi(null,"exponent","exponent",2083463617),_c=new pi(null,"MARK","MARK",-80659007),kc=new pi(null,"mask-type","mask-type",-1876682271),jc=new pi(null,"TTTYPE","TTTYPE",1845973505),Oc=new pi(null,"on-key-press-capture","on-key-press-capture",1439709729),Ac=new Ae(null,"temp__5733__auto__","temp__5733__auto__",484944449,null),Ec=new pi(null,"offset-position","offset-position",-1148887487),Sc=new pi(null,"on-rate-change-capture","on-rate-change-capture",1461353025),Cc=new pi(null,"bbox","bbox",678077025),Dc=new pi(null,"color-rendering","color-rendering",-891830687),Mc=new pi(null,"label-fn","label-fn",-860923263),Fc=new pi(null,"box-sizing","box-sizing",-1956090239),Tc=new pi(null,"i.zmdi.zmdi-apps","i.zmdi.zmdi-apps",-641069407),Nc=new pi(null,"spatial-navigation-action","spatial-navigation-action",-1234462047),Bc=new pi(null,"XUNIT","XUNIT",739683009),zc=new Ae(null,"meta19493","meta19493",1346209505,null),Pc=new pi(null,"TOP","TOP",1572578049),$c=new pi(null,"suffix","suffix",367373057),Rc=new pi(null,"font-variant-numeric","font-variant-numeric",-749791),Ic=new pi(null,"chan","chan",-2103021695),Lc=new Ae(null,"try","try",-1273693247,null),Uc=new pi(null,"caret","caret",-1275001854),qc=new Ae(null,"border","border",-1209448446,null),Hc=new Ae(null,"modal-panel","modal-panel",941313026,null),Wc=new pi(null,"min","min",444991522),Gc=new pi(null,"bwin","bwin",1641695266),Yc=new pi(null,"short-name","short-name",-1767085022),Vc=new pi(null,"inset-inline-end","inset-inline-end",1438187586),Jc=new pi(null,"mask-units","mask-units",1670452290),Xc=new pi(null,"YTITLE","YTITLE",-225471422),Kc=new pi(null,"month-name","month-name",-605509534),Zc=new pi(null,"selector","selector",762528866),Qc=new pi(null,"required?","required?",-872514462),nf=new pi(null,"formatters","formatters",-1875637118),tf=new pi(null,"fill-rule","fill-rule",-1824841598),ef=new pi(null,"on-set","on-set",-140953470),rf=new pi(null,"XTITLE","XTITLE",-288601982),lf=new pi(null,"string-set","string-set",1991666818),uf=new pi(null,"on-blur-capture","on-blur-capture",2031809666),af=new pi(null,"xlink-role","xlink-role",2044836002),of=new Ae(null,"submap","submap",1676729506,null),sf=new pi(null,"font-stretch","font-stretch",-1432788830),cf=new pi(null,"gradient-transform","gradient-transform",-1737815870),ff=new pi(null,"text-decoration-style","text-decoration-style",1254269122),hf=new pi(null,"day","day",-274800446),df=new pi(null,"-webkit-flex-basis","-webkit-flex-basis",1359112386),pf=new pi(null,"mask-composite","mask-composite",128478402),gf=new pi(null,"dbg","dbg",202767554),mf=new pi(null,"radio-group","radio-group",1791520002),vf=new pi(null,"format","format",-1306924766),wf=new pi(null,"hanging","hanging",1618688322),yf=new pi(null,"else-params","else-params",-832171646),bf=new pi(null,"children","children",-940561982),xf=new pi(null,"on-lost-pointer-capture","on-lost-pointer-capture",-1554883134),_f=new pi(null,"t-time","t-time",-42016318),kf=new Ae(null,"timeParser","timeParser",1585048034,null),jf=new pi(null,"ruby-overhang","ruby-overhang",337737218),Of=new pi(null,"instrumentor","instrumentor",1436235298),Af=new pi(null,"border-block-end","border-block-end",-2082909662),Ef=new pi(null,"align-items","align-items",-267946462),Sf=new pi(null,"old-header-1","old-header-1",-1585186270),Cf=new pi(null,"align","align",1964212802),Df=new Ae(null,"nav1","nav1",-228471230,null),Mf=new pi(null,"bar-class","bar-class",1668073058),Ff=new Ae(null,"meta26429","meta26429",2057542274,null),Tf=new pi(null,"block","block",664686210),Nf=new pi(null,"discreteBandSize","discreteBandSize",1284989570),Bf=new pi(null,"regular","regular",-1153375582),zf=new pi(null,"basic-ordinal-date","basic-ordinal-date",243220162),Pf=new pi(null,"sizes","sizes",-273528126),$f=new pi(null,"inherit","inherit",-1840815422),Rf=new Ae("com.rpl.specter","nthpath","com.rpl.specter/nthpath",2085224162,null),If=new pi(null,"left-center","left-center",374119202),Lf=new pi(null,"rx","rx",1627208482),Uf=new pi(null,"date","date",-1463434462),qf=new pi(null,"hour","hour",-555989214),Hf=new pi(null,"word-boundary-detection","word-boundary-detection",-1136523454),Wf=new pi(null,"allows-separator","allows-separator",-818967742),Gf=new pi(null,"content-style-type","content-style-type",238503778),Yf=new pi(null,"padding-inline-end","padding-inline-end",-647416958),Vf=new pi(null,"r","r",-471384190),Jf=new pi(null,"object-fit","object-fit",-429593694),Xf=new pi(null,"text-overflow","text-overflow",-1022366814),Kf=new pi(null,"on-touch-cancel","on-touch-cancel",1125389250),Zf=new pi(null,"YUNIT","YUNIT",1636716514),Qf=new Ae(null,"meta19504","meta19504",-938380318,null),nh=new pi(null,"KEY","KEY",-1510136829),th=new pi(null,"position-offset","position-offset",1257061411),eh=new Ae(null,"meta16287","meta16287",-2042701789,null),rh=new pi(null,"will-change","will-change",-152752061),ih=new pi(null,"on-split-change","on-split-change",-1635241917),lh=new pi(null,"ws","ws",86841443),uh=new pi(null,"bookmark-label","bookmark-label",-2003819421),ah=new pi(null,"on-key-press","on-key-press",-399563677),oh=new Ae(null,"last-was-whitespace?","last-was-whitespace?",-1073928093,null),sh=new pi(null,"timezone","timezone",1831928099),ch=new pi(null,"hr","hr",1377740067),fh=new pi(null,"indent","indent",-148200125),hh=new pi(null,"outline-offset","outline-offset",1155254595),dh=new Ae(null,"=","=",-1501502141,null),ph=new pi(null,"max-length","max-length",-254826109),gh=new pi(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),mh=new pi(null,"on-composition-start","on-composition-start",-1518620253),vh=new pi(null,"vector-effect","vector-effect",-616736349),wh=new pi(null,"make","make",-1284043325),yh=new pi(null,"BOTTOM","BOTTOM",923343299),bh=new pi(null,"right-below","right-below",586981827),xh=new Ae(null,"meta16112","meta16112",-599451165,null),_h=new pi(null,"align-content","align-content",-990200349),kh=new pi(null,"old-header-2","old-header-2",972017123),jh=new pi(null,"bk-color","bk-color",2004848163),Oh=new pi(null,"COLTYPE","COLTYPE",1924640291),Ah=new pi(null,"stroke","stroke",1741823555),Eh=new Ae(null,"p1__28635#","p1__28635#",-861329853,null),Sh=new pi(null,"legends","legends",-1346216381),Ch=new pi(null,"MDWN-MARK","MDWN-MARK",-141223325),Dh=new pi(null,"arrow-length","arrow-length",934916707),Mh=new Ae(null,"meta16109","meta16109",-570310045,null),Fh=new pi(null,"text-underline-offset","text-underline-offset",1190933123),Th=new pi(null,"xmlns-xlink","xmlns-xlink",1410687619),Nh=new pi(null,"stop-color","stop-color",316173955),Bh=new pi(null,"end-of-file","end-of-file",501920419),zh=new pi(null,"stitch-tiles","stitch-tiles",1351704227),Ph=new Ae(null,"key-path","key-path",-1775962461,null),$h=new Ae(null,"cell","cell",-1890190685,null),Rh=new pi(null,"UDATA","UDATA",1971878563),Ih=new pi(null,"time-no-ms","time-no-ms",870271683),Lh=new pi(null,"grid-column-end","grid-column-end",592662211),Uh=new pi(null,"weekyear-week-day","weekyear-week-day",-740233533),qh=new pi(null,"on-pointer-down-capture","on-pointer-down-capture",239237827),Hh=new pi(null,"as-exclusions?","as-exclusions?",-55596285),Wh=new Ae(null,"AFTER-ELEM","AFTER-ELEM",-2084545789,null),Gh=new pi(null,"overrides","overrides",1738628867),Yh=new pi(null,"horizontal","horizontal",2062109475),Vh=new pi(null,"png","png",551930691),Jh=new pi(null,"pt","pt",556460867),Xh=new pi(null,"footnote-policy","footnote-policy",386931555),Kh=new pi(null,"miser-width","miser-width",-1310049437),Zh=new pi(null,"initial-letters-align","initial-letters-align",20928387),Qh=new pi(null,"on-load-capture","on-load-capture",166061955),nd=new pi(null,"box-shadow","box-shadow",1600206755),td=new pi(null,"on-mouse-enter","on-mouse-enter",-1664921661),ed=new Ae(null,"struct","struct",325972931,null),rd=new pi(null,"clip","clip",830998499),id=new pi(null,"wrap","wrap",851669987),ld=new pi(null,"padding-block-start","padding-block-start",1054404612),ud=new pi(null,"dynamicnav","dynamicnav",1267703844),ad=new pi(null,"glyph-orientation-horizontal","glyph-orientation-horizontal",436217892),od=new pi(null,"on-emptied","on-emptied",757015652),sd=new pi(null,"fn","fn",-1175266204),cd=new pi(null,"inset","inset",-396367740),fd=new pi(null,"max-height","max-height",-612563804),hd=new pi(null,"offset-block-end","offset-block-end",1207635172),dd=new pi(null,"week-date-time","week-date-time",540228836),pd=new pi(null,"isolation","isolation",-1230029596),gd=new pi(null,"TTTITLE","TTTITLE",-301684476),md=new pi(null,"border-right","border-right",-668932860),vd=new Ae(null,"srange","srange",-1324254972,null),wd=new pi(null,"date-hour-minute-second-fraction","date-hour-minute-second-fraction",1937143076),yd=new pi(null,"elevation","elevation",-1609348796),bd=new pi(null,"payload","payload",-383036092),xd=new Ae(null,"i","i",253690212,null),_d=new pi(null,"POS","POS",-185748124),kd=new pi(null,"marker-width","marker-width",-1086737020),jd=new pi(null,"bookmark-state","bookmark-state",1096615332),Od=new pi(null,"api","api",-899839580),Ad=new pi(null,"restart","restart",-1779883612),Ed=new pi(null,"_margin","_margin",1508241828),Sd=new pi(null,"on-drag-over-capture","on-drag-over-capture",552548804),Cd=new pi(null,"original-text","original-text",744448452),Dd=new pi(null,"FDATA","FDATA",-263125532),Md=new pi(null,"text-transform","text-transform",1685000676),Fd=new pi(null,"intercept","intercept",-2141938204),Td=new pi(null,"transform","transform",1381301764),Nd=new pi(null,"MCOLOR","MCOLOR",-1187895772),Bd=new pi(null,"group","group",582596132),zd=new pi(null,"border-inline-end-style","border-inline-end-style",60342820),Pd=new pi(null,"target-x","target-x",-1562024412),$d=new pi(null,"border-bottom-style","border-bottom-style",925668932),Rd=new pi(null,"meta","meta",1499536964),Id=new pi(null,"grid-template","grid-template",-268181948),Ld=new pi(null,"on-pointer-leave","on-pointer-leave",253985380),Ud=new pi(null,"selected","selected",574897764),qd=new pi(null,"i.zmdi.zmdi-chevron-right","i.zmdi.zmdi-chevron-right",1358259812),Hd=new pi(null,"tbody","tbody",-80678300),Wd=new pi(null,"animation","animation",-1248293244),Gd=new Ae(null,"nav2","nav2",2108276356,null),Yd=new pi(null,"dx","dx",-381796732),Vd=new Ae(null,"p","p",1791580836,null),Jd=new Ae(null,"..","..",-300507420,null),Xd=new pi(null,"basic-date-time","basic-date-time",1525413604),Kd=new pi(null,"hconcat","hconcat",633077476),Zd=new pi(null,"date-time","date-time",177938180),Qd=new pi(null,"basic-time-no-ms","basic-time-no-ms",-1720654076),np=new Ae(null,"input-textarea","input-textarea",-286187740,null),tp=new Ae(null,"meta16281","meta16281",1271195428,null),ep=new pi(null,"table","table",-564943036),rp=new pi(null,"column-count","column-count",1235131236),ip=new pi(null,"-webkit-align-content","-webkit-align-content",246986596),lp=new pi(null,"required-extensions","required-extensions",1193231204),up=new pi(null,"on-invalid","on-invalid",-1807799420),ap=new pi(null,"place-items","place-items",-1530443900),op=new pi(null,"TOPTS","TOPTS",828471172),sp=new pi(null,"on-seeked-capture","on-seeked-capture",-1414283356),cp=new Ae(null,"ALL-WITH-META","ALL-WITH-META",250401700,null),fp=new pi(null,"frame","frame",-1711082588),hp=new pi(null,"nav-left","nav-left",845947876),dp=new pi(null,"ul","ul",-1349521403),pp=new pi(null,"buffer-block","buffer-block",-10937307),gp=new pi(null,"on-double-click-capture","on-double-click-capture",-28858331),mp=new pi(null,"sports-interaction","sports-interaction",-207475675),vp=new pi(null,"title?","title?",-1510254555),wp=new pi(null,"color","color",1011675173),yp=new pi(null,"list-style-position","list-style-position",-335344571),bp=new pi(null,"arg7","arg7",932157509),xp=new pi(null,"margin-inline-end","margin-inline-end",-1696808891),_p=new pi(null,"usermeta","usermeta",1301566533),kp=new pi(null,"preserve-aspect-ratio","preserve-aspect-ratio",-1746347963),jp=new pi(null,"json-verbose","json-verbose",-542533531),Op=new pi(null,"-webkit-align-self","-webkit-align-self",-34524059),Ap=new pi(null,"MPTYPE","MPTYPE",1021762661),Ep=new Ae(null,"max-columns","max-columns",-912112507,null),Sp=new pi(null,"date-parser","date-parser",-981534587),Cp=new pi(null,"on-scroll","on-scroll",1590848677),Dp=new pi(null,"keywords?","keywords?",764949733),Mp=new pi(null,"CTYPE","CTYPE",1195151621),Fp=new Ae(null,"blockable","blockable",-28395259,null),Tp=new pi(null,"dup","dup",556298533),Np=new pi(null,"text-align","text-align",1786091845),Bp=new pi(null,"border-block-style","border-block-style",-632117947),zp=new pi(null,"vertical-align","vertical-align",651007333),Pp=new pi(null,"on-can-play-through-capture","on-can-play-through-capture",350920037),$p=new pi(null,"dir","dir",1734754661),Rp=new pi(null,"ref-x","ref-x",155306341),Ip=new Ae(null,"a","a",-482876059,null),Lp=new pi(null,"basic-week-date","basic-week-date",1775847845),Up=new pi(null,"tab-size","tab-size",-1265790523),qp=new Ae(null,"meta19699","meta19699",-585450043,null),Hp=new pi(null,"min-length","min-length",-325792315),Wp=new pi(null,"min-height","min-height",398480837),Gp=new pi(null,"brush","brush",498034117),Yp=new pi(null,"heatmap","heatmap",-7865851),Vp=new pi(null,"pre","pre",2118456869),Jp=new pi(null,"read","read",1140058661),Xp=new pi(null,"font-language-override","font-language-override",-1059219899),Kp=new pi(null,"backdrop-opacity","backdrop-opacity",1467395653),Zp=new pi(null,"on-composition-update","on-composition-update",-337521083),Qp=new pi(null,"arg2","arg2",1729550917),ng=new pi(null,"commainterval","commainterval",-1980061083),tg=new pi(null,"page-break-inside","page-break-inside",-1878278555),eg=new pi(null,"font-variant-emoji","font-variant-emoji",1940645477),rg=new pi(null,"MODE","MODE",20805221),ig=new pi(null,"ruby-merge","ruby-merge",1832161925),lg=new Ae(null,"ATOM","ATOM",-2063219067,null),ug=new pi(null,"grid-auto-position","grid-auto-position",-1160742267),ag=new pi(null,"key","key",-1516042587),og=new pi(null,"pattern-transform","pattern-transform",1169361573),sg=new pi(null,"muted","muted",1275109029),cg=new Ae(null,"BEGINNING","BEGINNING",789208805,null),fg=new pi(null,"on-abort","on-abort",-1364844795),hg=new pi(null,"border-left-width","border-left-width",2037218085),dg=new pi(null,"timer","timer",-1266967739),pg=new pi(null,"li.loading","li.loading",1659621189),gg=new pi(null,"amplitude","amplitude",-1387734203),mg=new pi(null,"validated-args","validated-args",278814533),vg=new pi(null,"seamless","seamless",-1120344251),wg=new pi(null,"left-offset","left-offset",-331155643),yg=new pi(null,"ORDER","ORDER",-495177883),bg=new pi(null,"set-session-name","set-session-name",161221509),xg=new pi(null,"on-pause-capture","on-pause-capture",-92370043),_g=new pi(null,"placeholder","placeholder",-104873083),kg=new pi(null,"-ms-user-select","-ms-user-select",953709445),jg=new Ae(null,"m-keys","m-keys",-197459035,null),Og=new pi(null,"pretty-writer","pretty-writer",-1222834267),Ag=new pi(null,"COLDEF","COLDEF",-255469659),Eg=new pi(null,"initial-letters-wrap","initial-letters-wrap",-1227693147),Sg=new pi(null,"empth","empth",1557405637),Cg=new pi(null,"parent","parent",-878878779),Dg=new pi(null,"vid","vid",-2034096155),Mg=new pi(null,"bottom","bottom",-1550509018),Fg=new Ae(null,"late-then","late-then",1623904294,null),Tg=new pi(null,"disabled","disabled",-1529784218),Ng=new pi(null,"sections","sections",-886710106),Bg=new pi(null,"binSpacing","binSpacing",-1285212986),zg=new Ae(null,"md","md",-1947149114,null),Pg=new pi(null,"text-decoration-skip-self","text-decoration-skip-self",1263335622),$g=new pi(null,"private","private",-558947994),Rg=new Ae(null,"dateOptionalTimeParser","dateOptionalTimeParser",1783230854,null),Ig=new pi(null,"_width","_width",-75982426),Lg=new pi(null,"not-initialized","not-initialized",-1937378906),Ug=new pi(null,"else","else",-1508377146),qg=new pi(null,"miser","miser",-556060186),Hg=new pi(null,"bars","bars",-586907130),Wg=new Ae(null,"h-split","h-split",-437374458,null),Gg=new pi(null,"tabs","tabs",-779855354),Yg=new Ae(null,"meta22939","meta22939",-371681754,null),Vg=new pi(null,"line-break","line-break",908969510),Jg=new pi(null,"outline-style","outline-style",227043878),Xg=new pi(null,"mask-repeat","mask-repeat",939485734),Kg=new pi(null,"is","is",369128998),Zg=new pi(null,"x-channel-selector","x-channel-selector",-1025939898),Qg=new pi(null,"smaller","smaller",-1619801498),nm=new pi(null,"TREESIZE","TREESIZE",-650207610),tm=new pi(null,"white-space","white-space",-707351930),em=new pi(null,"text-emphasis-position","text-emphasis-position",-100647290),rm=new pi(null,"basic-t-time-no-ms","basic-t-time-no-ms",-424650106),im=new pi(null,"font-synthesis-small-caps","font-synthesis-small-caps",1625711238),lm=new pi(null,"frameid","frameid",1179545222),um=new pi(null,"on-pointer-cancel","on-pointer-cancel",-1642281306),am=new pi(null,"a.chosen-single.chosen-default","a.chosen-single.chosen-default",-2089562458),om=new Ae(null,"meta19717","meta19717",1034056358,null),sm=new pi(null,"render-fn","render-fn",398796518),cm=new pi(null,"local-time","local-time",-1873195290),fm=new pi(null,"symxlate-cb","symxlate-cb",-785415418),hm=new pi(null,"right-margin","right-margin",-810413306),dm=new pi(null,"font-size","font-size",-1847940346),pm=new pi(null,"wrap-after","wrap-after",1582344998),gm=new pi(null,"on-rate-change","on-rate-change",1741929286),mm=new pi(null,"arg17","arg17",-1072183482),vm=new Ae(null,"meta26423","meta26423",1184927622,null),wm=new Ae(null,"slider","slider",1167862662,null),ym=new pi(null,"on-pointer-over","on-pointer-over",-1395937402),bm=new pi(null,"alt","alt",-3214426),xm=new pi(null,"_on-split-change","_on-split-change",1230437286),_m=new pi(null,"cell-padding","cell-padding",978029542),km=new pi(null,"ref","ref",1289896967),jm=new pi(null,"dynamic?","dynamic?",680592423),Om=new pi(null,"scroll-snap-type","scroll-snap-type",-850828249),Am=new Ae(null,"if-not","if-not",-265415609,null),Em=new Ae("cljs.core","deref","cljs.core/deref",1901963335,null),Sm=new Ae(null,"tid","tid",739180647,null),Cm=new pi(null,"transition","transition",765692007),Dm=new pi(null,"logo","logo",1237980263),Mm=new pi(null,"YSORT","YSORT",864147559),Fm=new pi(null,"continue","continue",-207346553),Tm=new Ae(null,"ns*","ns*",1840949383,null),Nm=new pi(null,"failure","failure",720415879),Bm=new pi(null,"offset","offset",296498311),zm=new Ae(null,"path","path",1452340359,null),Pm=new pi(null,"border-inline-color","border-inline-color",-2118090585),$m=new pi(null,"app-init","app-init",-1642346297),Rm=new pi(null,"WIDTH","WIDTH",-532650809),Im=new pi(null,"XSORT","XSORT",950969607),Lm=new pi(null,"date-time-no-ms","date-time-no-ms",1655953671),Um=new pi(null,"speed","speed",1257663751),qm=new pi(null,"childContextTypes","childContextTypes",578717991),Hm=new pi(null,"stemv","stemv",-157426393),Wm=new pi(null,"scale","scale",-230427353),Gm=new pi(null,"year-month-day","year-month-day",-415594169),Ym=new pi(null,"animation-direction","animation-direction",-362912441),Vm=new pi(null,"button","button",1456579943),Jm=new pi(null,"config","config",994861415),Xm=new pi(null,"kerning","kerning",702175623),Km=new pi(null,"LINKSHAPE","LINKSHAPE",-1462538873),Zm=new pi(null,"top","top",-1856271961),Qm=new pi(null,"xlink-title","xlink-title",811720103),nv=new pi(null,"clip-path-units","clip-path-units",1978916263),tv=new pi(null,"level3","level3",1192475079),ev=new pi(null,"on-loaded-data","on-loaded-data",1855185351),rv=new pi(null,"emphasise?","emphasise?",1618294247),iv=new pi(null,"font-variant","font-variant",1251503591),lv=new pi(null,"writing-mode","writing-mode",-1707110905),uv=new pi(null,"r-border","r-border",610773511),av=new pi(null,"md-icon-name","md-icon-name",681785863),ov=new pi(null,"password","password",417022471),sv=new Ae("sp","submap","sp/submap",1676726791,null),cv=new pi(null,"font-weight","font-weight",2085804583),fv=new Ae(null,"meta26420","meta26420",-697965017,null),hv=new Ae(null,"meta19471","meta19471",-1029932505,null),dv=new pi(null,"word-boundary-expansion","word-boundary-expansion",-2085426617),pv=new pi(null,"AGG","AGG",618036807),gv=new pi(null,"frame-border","frame-border",-1868748185),mv=new Ae(null,"doseq","doseq",221164135,null),vv=new pi(null,"offset-inline-end","offset-inline-end",1318051431),wv=new pi(null,"date-opt-time","date-opt-time",-1507102105),yv=new Ae(null,"y","y",-117328249,null),bv=new pi(null,"text-space-collapse","text-space-collapse",1247036039),xv=new pi(null,"spatial-navigation-function","spatial-navigation-function",1484220039),_v=new Ae("cljs.core","apply","cljs.core/apply",1757277831,null),kv=new pi(null,"LAYOUT","LAYOUT",-1277779257),jv=new pi("com.rpl.specter.impl","cell","com.rpl.specter.impl/cell",223913671),Ov=new pi(null,"cur","cur",1153190599),Av=new pi(null,"border-end-start-radius","border-end-start-radius",-251560249),Ev=new pi(null,"on-pointer-leave-capture","on-pointer-leave-capture",-443475225),Sv=new pi(null,"queue","queue",1455835879),Cv=new pi(null,"displayName","displayName",-809144601),Dv=new pi(null,"on-composition-end-capture","on-composition-end-capture",-1471972633),Mv=new pi(null,"YAXIS","YAXIS",-1290165497),Fv=new pi(null,"li.group-result","li.group-result",1074686727),Tv=new pi(null,"border-inline-style","border-inline-style",664666919),Nv=new pi(null,"-webkit-flex-grow","-webkit-flex-grow",949294887),Bv=new pi(null,"content-editable","content-editable",636764967),zv=new Ae(null,"args","args",-1338879193,null),Pv=new pi(null,"rfc822","rfc822",-404628697),$v=new pi(null,"on-mouse-out","on-mouse-out",643448647),Rv=new pi(null,"validator","validator",-1966190681),Iv=new pi(null,"mark","mark",-373816345),Lv=new pi(null,"repeat-dur","repeat-dur",-366990361),Uv=new Ae(null,"finally","finally",-1065347064,null),qv=new pi(null,"coords","coords",-599429112),Hv=new pi(null,"method","method",55703592),Wv=new pi(null,"table-values","table-values",-1257377720),Gv=new pi(null,"justify","justify",-722524056),Yv=new pi(null,"content","content",15833224),Vv=new Ae("sp","BEGINNING","sp/BEGINNING",789205128,null),Jv=new pi(null,"margin-width","margin-width",-1252353816),Xv=new pi(null,"raw","raw",1604651272),Kv=new pi(null,"axes","axes",1970866440),Zv=new Ae(null,"meta19765","meta19765",-229139192,null),Qv=new pi(null,"block-overflow","block-overflow",-400116472),nw=new pi(null,"default","default",-1987822328),tw=new pi(null,"parentKey","parentKey",443641160),ew=new pi(null,"max-block-size","max-block-size",-1751985816),rw=new pi(null,"on-focus","on-focus",-13737624),iw=new pi(null,"bodog","bodog",-674978392),lw=new pi(null,"session-name","session-name",-167167576),uw=new pi(null,"u1","u1",-1841624632),aw=new pi(null,"on-playing","on-playing",1378487752),ow=new pi(null,"bpsize","bpsize",2057311752),sw=new pi("aerial.hanami.common","use-defaults?","aerial.hanami.common/use-defaults?",551168520),cw=new pi(null,"float","float",-1732389368),fw=new pi(null,"access-key","access-key",914744840),hw=new pi(null,"on-got-pointer-capture-capture","on-got-pointer-capture-capture",982969864),dw=new pi(null,"bar","bar",-1386246584),pw=new pi(null,"border-right-style","border-right-style",-1606013368),gw=new pi(null,"border-top-right-radius","border-top-right-radius",1678770792),mw=new Ae(null,"when-let","when-let",-1383043480,null),vw=new pi(null,"func","func",-238706040),ww=new pi(null,"grid-gap","grid-gap",1083581064),yw=new Ae(null,"loop*","loop*",615029416,null),bw=new pi(null,"font-variant-ligatures","font-variant-ligatures",-181253464),xw=new pi(null,"overflow","overflow",2058931880),_w=new pi(null,"uid","uid",-1447769400),kw=new pi(null,"escapes","escapes",-1020629272),jw=new pi(null,"TTFMT","TTFMT",1975956232),Ow=new pi(null,"ns","ns",441598760),Aw=new pi(null,"POINT","POINT",1616571176),Ew=new pi(null,"grid","grid",402978600),Sw=new pi(null,"on-stalled","on-stalled",1480279880),Cw=new pi(null,"RIGHT","RIGHT",-956441784),Dw=new pi(null,"on-composition-update-capture","on-composition-update-capture",432836456),Mw=new pi(null,"symbol","symbol",-1038572696),Fw=new pi(null,"ROWTYPE","ROWTYPE",1434568552),Tw=new pi(null,"warn","warn",-436710552),Nw=new pi(null,"server","server",1499190120),Bw=new pi(null,"generator-fn","generator-fn",811851656),zw=new pi(null,"strong","strong",269529e3),Pw=new pi(null,"position-injected","position-injected",205959080),$w=new pi(null,"columns","columns",1998437288),Rw=new pi(null,"shape-outside","shape-outside",-830371896),Iw=new pi(null,"inset-block-start","inset-block-start",654322632),Lw=new pi(null,"popover","popover",-1809582136),Uw=new pi(null,"div.chosen-drop","div.chosen-drop",-1110109208),qw=new pi(null,"marker-units","marker-units",-1919701016),Hw=new pi(null,"-moz-user-select","-moz-user-select",-342302744),Ww=new pi(null,"ideographic","ideographic",-335748120),Gw=new pi(null,"specular-exponent","specular-exponent",373200905),Yw=new pi(null,"day-of-week","day-of-week",1639326729),Vw=new pi(null,"date-hour-minute-second-ms","date-hour-minute-second-ms",-425334775),Jw=new Ae(null,"meta19477","meta19477",593472553,null),Xw=new pi(null,"name","name",1843675177),Kw=new pi(null,"loading?","loading?",1905707049),Zw=new pi(null,"no-clip?","no-clip?",-188884951),Qw=new pi(null,"padding-block-end","padding-block-end",923602025),ny=new pi(null,"clip-rule","clip-rule",335492201),ty=new pi(null,"on-mouse-enter-capture","on-mouse-enter-capture",-862465943),ey=new pi(null,"panose1","panose1",1116592233),ry=new pi(null,"n","n",562130025),iy=new pi(null,"on-composition-start-capture","on-composition-start-capture",357266537),ly=new pi(null,"close-button?","close-button?",-1030817687),uy=new Ae(null,"<=","<=",1244895369,null),ay=new pi(null,"required-args","required-args",1225806985),oy=new pi(null,"w","w",354169001),sy=new pi(null,"basic-ordinal-date-time","basic-ordinal-date-time",1054564521),cy=new pi(null,"YFORMAT","YFORMAT",-140896055),fy=new pi(null,"frames","frames",1765687497),hy=new pi(null,"as","as",1148689641),dy=new pi(null,"on-mouse-down-capture","on-mouse-down-capture",1176660233),py=new pi(null,"border-block-width","border-block-width",928441641),gy=new Ae(null,"timeElementParser","timeElementParser",302132553,null),my=new pi(null,"ordinal-date","ordinal-date",-77899447),vy=new pi(null,"backface-visibility","backface-visibility",-367721111),wy=new pi(null,"meridiem","meridiem",1668960617),yy=new pi(null,"mix-blend-mode","mix-blend-mode",-1150163607),by=new Ae(null,"cond-p","cond-p",695068009,null),xy=new pi(null,"on-progress-capture","on-progress-capture",-283565687),_y=new Ae(null,"newi","newi",857919881,null),ky=new pi(null,"SESSION-NAME","SESSION-NAME",866201001),jy=new pi(null,"arrow-width","arrow-width",1926673833),Oy=new pi(null,"not-delivered","not-delivered",1599158697),Ay=new pi(null,"xlink-href","xlink-href",244956585),Ey=new pi(null,"td","td",1479933353),Sy=new pi(null,"on-pointer-enter","on-pointer-enter",199832041),Cy=new pi(null,"TID","TID",897566185),Dy=new pi(null,"remaining-arg-count","remaining-arg-count",-1216589335),My=new pi(null,"li","li",723558921),Fy=new pi(null,"color-scheme","color-scheme",-903842295),Ty=new pi(null,"hour-minute-second-fraction","hour-minute-second-fraction",-1253038551),Ny=new pi(null,"stroke-opacity","stroke-opacity",-1191543159),By=new pi(null,"min-inline-size","min-inline-size",-2050841943),zy=new pi(null,"horiz-origin-x","horiz-origin-x",1522984617),Py=new pi(null,"hyphens","hyphens",2113533609),$y=new pi(null,"inset-block","inset-block",1179586249),Ry=new pi(null,"form-action","form-action",-1436001591),Iy=new pi(null,"fill","fill",883462889),Ly=new pi(null,"break-inside","break-inside",310021897),Uy=new pi(null,"border-block-end-width","border-block-end-width",-1045470455),qy=new pi(null,"margin-left","margin-left",2015598377),Hy=new pi(null,"text-decoration-line","text-decoration-line",1905751849),Wy=new pi(null,"surface-scale","surface-scale",1674847049),Gy=new Ae("cljs.core","lift-ns","cljs.core/lift-ns",463499081,null),Yy=new pi(null,"NSPEC","NSPEC",1817243465),Vy=new pi(null,"value","value",305978217),Jy=new pi(null,"left-above","left-above",1205957481),Xy=new pi(null,"mask-image","mask-image",-1593213047),Ky=new Ae(null,"progress-bar","progress-bar",1516654505,null),Zy=new pi(null,"border-left-color","border-left-color",-1166146583),Qy=new pi(null,"ARGV1","ARGV1",938840074),nb=new pi(null,"marker-side","marker-side",1494787082),tb=new pi(null,"YGRID","YGRID",-1043540982),eb=new pi(null,"section","section",-300141526),rb=new pi(null,"chart-data","chart-data",-1181877206),ib=new pi(null,"biden","biden",-1456657334),lb=new Ae(null,"meta19511","meta19511",1561360458,null),ub=new pi(null,"date-hour-minute","date-hour-minute",1629918346),ab=new pi(null,"th","th",-545608566),ob=new pi(null,"time","time",1385887882),sb=new pi(null,"level2","level2",-2044031830),cb=new pi(null,"VCONCAT","VCONCAT",1541869738),fb=new pi(null,"list-style","list-style",-809622358),hb=new pi(null,"contextTypes","contextTypes",-2023853910),db=new pi(null,"compiled","compiled",850043082),pb=new pi(null,"-webkit-flex-flow","-webkit-flex-flow",667076810),gb=new pi(null,"vis","vis",1600557322),mb=new pi(null,"optimum","optimum",292484362),vb=new pi(null,"-webkit-flex-wrap","-webkit-flex-wrap",-628183766),wb=new pi(null,"margin-block-end","margin-block-end",-1287470806),yb=new pi(null,"SHAPE","SHAPE",996071722),bb=new pi(null,"list-style-type","list-style-type",-1703248598),xb=new pi(null,"ref-y","ref-y",-1766645430),_b=new pi(null,"on-reset-capture","on-reset-capture",-800989878),kb=new Ae(null,"cljs.core","cljs.core",770546058,null),jb=new pi(null,"maximum","maximum",573880714),Ob=new pi(null,"scroll-snap-coordinate","scroll-snap-coordinate",703792554),Ab=new pi(null,"-webkit-user-select","-webkit-user-select",-651687510),Eb=new pi(null,"color-profile","color-profile",1755323818),Sb=new pi(null,"response-format","response-format",1664465322),Cb=new Ae(null,"miser-width","miser-width",330482090,null),Db=new pi(null,"status-text","status-text",-1834235478),Mb=new pi(null,"forced-color-adjust","forced-color-adjust",-1100194390),Fb=new Ae(null,"let","let",358118826,null),Tb=new pi(null,"component-did-mount","component-did-mount",-1126910518),Nb=new pi(null,"file","file",-1269645878),Bb=new pi(null,"ROW","ROW",-403584566),zb=new pi(null,"vert-origin-y","vert-origin-y",-1770906134),Pb=new pi(null,"background-color","background-color",570434026),$b=new pi(null,"tr","tr",-1424774646),Rb=new Ae(null,"v","v",1661996586,null),Ib=new pi(null,"overflow-wrap","overflow-wrap",-60289494),Lb=new pi(null,"negative","negative",-1562068438),Ub=new pi(null,"hide-border?","hide-border?",1792698922),qb=new pi(null,"fields","fields",-1932066230),Hb=new pi(null,"on-progress","on-progress",1196110410),Wb=new Ae(null,"->","->",-2139605430,null),Gb=new pi(null,"stroke-linejoin","stroke-linejoin",-1810816406),Yb=new pi(null,"end-pos","end-pos",-1643883926),Vb=new pi(null,"on-submit-capture","on-submit-capture",2089939562),Jb=new pi(null,"word-wrap","word-wrap",-1700975926),Xb=new pi(null,"arg6","arg6",-2052656438),Kb=new pi(null,"on-transition-end","on-transition-end",-1169027318),Zb=new Ae(null,"js","js",-886355190,null),Qb=new pi(null,"circle","circle",1903212362),nx=new pi(null,"basic-week-date-time","basic-week-date-time",-502077622),tx=new Ae(null,"path1","path1",-2002517142,null),ex=new pi(null,"h-scroll","h-scroll",-1200000150),rx=new pi(null,"strikethrough-position","strikethrough-position",402256746),ix=new pi(null,"href-lang","href-lang",1832618890),lx=new Ae(null,"meta19694","meta19694",-1481592950,null),ux=new pi(null,"y1","y1",589123466),ax=new pi(null,"on-toggle","on-toggle",-695538774),ox=new pi(null,"end-column","end-column",1425389514),sx=new pi(null,"margin-top","margin-top",392161226),cx=new pi(null,"book","book",-918152214),fx=new pi(null,"scoped","scoped",1906888682),hx=new pi(null,"margin-block","margin-block",1690397674),dx=new pi(null,"on-load","on-load",1415151594),px=new pi(null,"-webkit-flex","-webkit-flex",-1736517621),gx=new pi(null,"flex-grow","flex-grow",1865160747),mx=new pi(null,"XTYPE","XTYPE",1711947851),vx=new pi(null,"mode","mode",654403691),wx=new pi(null,"-webkit-justify-content","-webkit-justify-content",205818059),yx=new pi(null,"width","width",-384071477),bx=new pi(null,"client","client",-1323448117),xx=new Ae(null,"before-index","before-index",-407870261,null),_x=new pi(null,"px","px",281329899),kx=new pi(null,"start","start",-355208981),jx=new pi(null,"background","background",-863952629),Ox=new pi(null,"aborted","aborted",1775972619),Ax=new pi(null,"LAYER","LAYER",272184587),Ex=new pi(null,"TTFIELD","TTFIELD",1379516683),Sx=new pi(null,"on-ended","on-ended",428118347),Cx=new pi(null,"justify-self","justify-self",-2135975605),Dx=new Ae("com.rpl.specter","pred","com.rpl.specter/pred",1192968523,null),Mx=new pi(null,"tab-biden-brushable","tab-biden-brushable",1131107659),Fx=new Ae(null,"meta19490","meta19490",-1272422069,null),Tx=new pi(null,"on-drop","on-drop",1867868491),Nx=new pi(null,"text-decoration-thickness","text-decoration-thickness",1831416171),Bx=new pi(null,"auto-reverse","auto-reverse",1757163883),zx=new pi(null,"dy","dy",1719547243),Px=new pi(null,"lines","lines",-700165781),$x=new pi(null,"top-fn","top-fn",-2056129173),Rx=new pi(null,"hz","hz",-1450739349),Ix=new Ae(null,"afn","afn",216963467,null),Lx=new pi(null,"page-break-after","page-break-after",1723909515),Ux=new pi(null,"g2","g2",-479351381),qx=new pi(null,"eltsper","eltsper",-1690119765),Hx=new pi(null,"months","months",-45571637),Wx=new pi(null,"vgviews","vgviews",-1015786037),Gx=new Ae(null,"meta27022","meta27022",-1165465141,null),Yx=new pi(null,"YTTITLE","YTTITLE",227352043),Vx=new pi(null,"processing-request","processing-request",-264947221),Jx=new pi(null,"trump","trump",-603437589),Xx=new pi(null,"below-center","below-center",-2126885397),Kx=new pi(null,"inset-block-end","inset-block-end",-668054037),Zx=new pi(null,"params","params",710516235),Qx=new pi(null,"TOFFSET","TOFFSET",2024930827),n_=new Ae(null,"meta19668","meta19668",-1087362517,null),t_=new pi(null,"background-blend-mode","background-blend-mode",-1923706293),e_=new pi(null,"on-blur","on-blur",814300747),r_=new pi(null,"defer","defer",-40276405),i_=new pi(null,"rem","rem",-976484757),l_=new Ae(null,"start-index-fn","start-index-fn",-344842645,null),u_=new pi(null,"points-at-y","points-at-y",-1154851221),a_=new pi(null,"div-size","div-size",1661625995),o_=new pi(null,"shape-rendering","shape-rendering",955846315),s_=new pi(null,"avar","avar",1316861611),c_=new pi(null,"em","em",707813035),f_=new Ae(null,"fn","fn",465265323,null),h_=new Ae("com.rpl.specter","submap","com.rpl.specter/submap",-146720053,null),d_=new pi(null,"on-loaded-data-capture","on-loaded-data-capture",675534539),p_=new pi(null,"ul.chosen-results","ul.chosen-results",-932618517),g_=new pi(null,"show-weeks?","show-weeks?",-1563135221),m_=new pi(null,"font-feature-settings","font-feature-settings",-1311751381),v_=new pi(null,"FID","FID",144656171),w_=new pi(null,"month","month",-1960248533),y_=new pi(null,"DHEIGHT","DHEIGHT",1128617803),b_=new pi(null,"num-octaves","num-octaves",-150470805),x_=new pi(null,"dppx","dppx",1920508843),__=new pi(null,"max-iterations","max-iterations",2021275563),k_=new pi(null,"grid-auto-rows","grid-auto-rows",-113194069),j_=new pi(null,"background-attachment","background-attachment",-885303381),O_=new pi(null,"flex-wrap","flex-wrap",455413707),A_=new pi(null,"component-did-update","component-did-update",-1468549173),E_=new pi(null,"orientation","orientation",623557579),S_=new pi(null,"grid-template-rows","grid-template-rows",-372292629),C_=new pi(null,"pos","pos",-864607220),D_=new pi(null,"days","days",-1394072564),M_=new pi(null,"grid-row-start","grid-row-start",-1827627988),F_=new Ae("com.rpl.specter","BEGINNING","com.rpl.specter/BEGINNING",-1816610740,null),T_=new pi(null,"IRESOLVE","IRESOLVE",-1022115764),N_=new pi(null,"between","between",1131099276),B_=new pi(null,"dpcm","dpcm",-1187601236),z_=new pi(null,"grid-auto-flow","grid-auto-flow",-1754873684),P_=new Ae("com.rpl.specter","AFTER-ELEM","com.rpl.specter/AFTER-ELEM",202491052,null),$_=new pi(null,"key-type","key-type",-1494232916),R_=new pi(null,"val","val",128701612),I_=new pi(null,"cursor","cursor",1011937484),L_=new pi(null,"empty-line","empty-line",1962442988),U_=new Ae(null,"key","key",124488940,null),q_=new pi(null,"font-synthesis-style","font-synthesis-style",-494688020),H_=new pi(null,"inline-sizing","inline-sizing",-279521044),W_=new pi(null,"format-str","format-str",695206156),G_=new pi(null,"line-snap","line-snap",-864209652),Y_=new pi(null,"writing","writing",-1486865108),V_=new pi(null,"stroke-dashoffset","stroke-dashoffset",-782320340),J_=new pi(null,"vertical","vertical",718696748),X_=new Ae(null,"inst","inst",-2008473268,null),K_=new pi(null,"border-right-width","border-right-width",750273868),Z_=new Ae(null,"p1__19589#","p1__19589#",1164171596,null),Q_=new pi(null,"form-target","form-target",1549802860),nk=new pi(null,"recur","recur",-437573268),tk=new pi(null,"msg","msg",-1386103444),ek=new pi(null,"field","field",-1302436500),rk=new pi(null,"margin-inline","margin-inline",-1340302964),ik=new pi(null,"on-wheel","on-wheel",-1971630708),lk=new pi(null,"below-left","below-left",1233934732),uk=new pi(null,"weekyear","weekyear",-74064500),ak=new pi(null,"type","type",1174270348),ok=new pi(null,"border-inline-start-width","border-inline-start-width",874415532),sk=new pi(null,"ENCODINGS","ENCODINGS",21188044),ck=new pi(null,"YRL-COLOR","YRL-COLOR",1177795052),fk=new pi(null,"VID","VID",-693408276),hk=new Ae(null,"vid","vid",-393564628,null),dk=new Ae(null,"index","index",108845612,null),pk=new Ae(null,"late-cond","late-cond",1031862828,null),gk=new Ae(null,"selection-list","selection-list",640875052,null),mk=new pi(null,"request-received","request-received",2110590540),vk=new pi(null,"update","update",1045576396),wk=new pi(null,"flex","flex",-1425124628),yk=new pi(null,"continuousBandSize","continuousBandSize",1046060812),bk=new pi(null,"controls","controls",1340701452),xk=new pi(null,"regex-filter?","regex-filter?",-824895668),_k=new pi(null,"SIGNALS","SIGNALS",1958129484),kk=new pi(null,"vert-origin-x","vert-origin-x",1437952844),jk=new pi(null,"_size","_size",-746489012),Ok=new pi(null,"on-waiting-capture","on-waiting-capture",-1085823124),Ak=new pi(null,"parameter-from-args","parameter-from-args",-758446196),Ek=new Ae(null,"do","do",1686842252,null),Sk=new pi(null,"done-nl","done-nl",-381024340),Ck=new Ae(null,"when-not","when-not",-1223136340,null),Dk=new pi(null,"BACKGROUND","BACKGROUND",677182380),Mk=new pi(null,"color-adjust","color-adjust",-1642401844),Fk=new pi(null,"span.dropdown-button.activator.input-group-addon","span.dropdown-button.activator.input-group-addon",-1049661492),Tk=new pi(null,"border-inline-end-color","border-inline-end-color",144511980),Nk=new Ae(null,"pred","pred",-727012372,null),Bk=new pi(null,"suppress-namespaces","suppress-namespaces",2130686956),zk=new pi(null,"manifest","manifest",-1386791956),Pk=new pi(null,"li.error","li.error",534172652),$k=new pi(null,"on-context-menu","on-context-menu",-1330744340),Rk=new Ae(null,"meta27687","meta27687",2127124493,null),Ik=new pi(null,"ruby-position","ruby-position",-1367543795),Lk=new pi(null,"src","src",-1651076051),Uk=new Ae(null,"when","when",1064114221,null),qk=new pi(null,"pc","pc",512913453),Hk=new pi(null,"pinnacle","pinnacle",-513572787),Wk=new pi(null,"contain","contain",-692843443),Gk=new pi(null,"basic-time","basic-time",-923134899),Yk=new pi(null,"LEFT","LEFT",1005963341),Vk=new pi(null,"inset-inline-start","inset-inline-start",24042573),Jk=new pi(null,"on-can-play-through","on-can-play-through",-1707144051),Xk=new pi(null,"method-params","method-params",-980792179),Kk=new pi(null,"xml-lang","xml-lang",697555117),Zk=new Ae(null,"localDateParser","localDateParser",477820077,null),Qk=new pi(null,"implied-trump","implied-trump",873173197),nj=new pi(null,"box-snap","box-snap",897606861),tj=new pi(null,"fillOpacity","fillOpacity",619211981),ej=new pi(null,"xlink-type","xlink-type",-144814867),rj=new pi(null,"points","points",-1486596883),ij=new pi(null,"h3.popover-title","h3.popover-title",126205197),lj=new pi(null,"page","page",849072397),uj=new pi(null,"xmlns","xmlns",-1862095571),aj=new pi(null,"choices","choices",1385611597),oj=new pi(null,"on-wheel-capture","on-wheel-capture",-950568595),sj=new pi(null,"SCALEFACTOR","SCALEFACTOR",886308205),cj=new pi(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),fj=new pi(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),hj=new pi(null,"vspecs","vspecs",-1322282579),dj=new pi(null,"fallback-impl","fallback-impl",-1501286995),pj=new pi(null,"y-channel-selector","y-channel-selector",-1933215315),gj=new pi(null,"orient","orient",1933743565),mj=new pi(null,"underline?","underline?",-1123247603),vj=new pi(null,"view-box","view-box",-1792199155),wj=new Ae(null,"meta27681","meta27681",1597195789,null),yj=new pi(null,"fixed-arity","fixed-arity",1586445869),bj=new pi(null,"backdrop-color","backdrop-color",1921200717),xj=new pi(null,"op","op",-1882987955),_j=new pi(null,"underline-thickness","underline-thickness",1528492621),kj=new pi(null,"text-orientation","text-orientation",561880685),jj=new pi(null,"border-block-start-style","border-block-start-style",255834733),Oj=new pi(null,"keyword-fn","keyword-fn",-64566675),Aj=new pi(null,"form-no-validate","form-no-validate",-1832208755),Ej=new pi(null,"points-at-z","points-at-z",1246841485),Sj=new pi(null,"b-border","b-border",-1277965683),Cj=new pi(null,"on-pointer-enter-capture","on-pointer-enter-capture",-288123187),Dj=new Ae(null,"late","late",-666327347,null),Mj=new pi(null,"source","source",-433931539),Fj=new pi(null,"hyphenate-limit-zone","hyphenate-limit-zone",544993005),Tj=new pi(null,"list-style-image","list-style-image",-1093077267),Nj=new pi(null,"on-animation-iteration","on-animation-iteration",784117517),Bj=new pi(null,"icon","icon",1679606541),zj=new pi(null,"handlers","handlers",79528781),Pj=new pi(null,"on-drag","on-drag",-69159091),$j=new pi(null,"multiple","multiple",1244445549),Rj=new pi(null,"flush-on-newline","flush-on-newline",-151457939),Ij=new pi(null,"horiz-adv-x","horiz-adv-x",1555956653),Lj=new pi(null,"max-width","max-width",-1939924051),Uj=new Ae(null,"input-text","input-text",304234413,null),qj=new pi(null,"relative-to","relative-to",-470100051),Hj=new pi(null,"on-reset","on-reset",1057446829),Wj=new pi(null,"font-palette","font-palette",356078541),Gj=new pi(null,"preserve-alpha","preserve-alpha",-1965515795),Yj=new Ae(null,"meta19751","meta19751",-815073266,null),Vj=new pi(null,"on-paste-capture","on-paste-capture",664699950),Jj=new pi(null,"scope","scope",-439358418),Xj=new pi(null,"MD","MD",2038444110),Kj=new pi(null,"XTFMT","XTFMT",-1255192498),Zj=new pi(null,"border-bottom-left-radius","border-bottom-left-radius",-76446610),Qj=new pi(null,"ACTIVE-TABS","ACTIVE-TABS",-513226642),nO=new pi(null,"componentWillUnmount","componentWillUnmount",1573788814),tO=new pi(null,"sandbox","sandbox",-54636402),eO=new pi(null,"ROWDEF","ROWDEF",1135435918),rO=new pi(null,"text-combine-upright","text-combine-upright",1934643374),iO=new pi(null,"on-mouse-leave-capture","on-mouse-leave-capture",-251526962),lO=new Ae(null,"scroller","scroller",-97166130,null),uO=new pi(null,"scales","scales",-1197224722),aO=new pi(null,"string","string",-1989541586),oO=new pi(null,"ascent","ascent",-1986032338),sO=new Ae(null,"queue","queue",-1198599890,null),cO=new pi(null,"id-fn","id-fn",316222798),fO=new pi(null,"vh","vh",79552846),hO=new Ae(null,"meta19545","meta19545",1569883502,null),dO=new Ae(null,"meta19564","meta19564",-1306881682,null),pO=new pi(null,"ime-mode","ime-mode",1418620270),gO=new pi(null,"vector","vector",1902966158),mO=new Ae(null,"radio-button","radio-button",-1478167122,null),vO=new pi(null,"hour-minute-second","hour-minute-second",-1906654770),wO=new pi(null,"all","all",892129742),yO=new pi(null,"on-error-capture","on-error-capture",-1613428178),bO=new Ae(null,"checkbox","checkbox",-1041820114,null),xO=new pi(null,"border-image-source","border-image-source",1924962862),_O=new pi(null,"radius","radius",-2073122258),kO=new pi(null,"outline-width","outline-width",-381531602),jO=new pi(null,"resize","resize",297367086),OO=new pi(null,"transform-box","transform-box",599037518),AO=new Ae(null,"defn","defn",-126010802,null),EO=new pi(null,"ordinal-date-time","ordinal-date-time",-1386753458),SO=new Ae(null,"letfn*","letfn*",-110097810,null),CO=new pi(null,"auto-link","auto-link",544034414),DO=new pi(null,"export","export",214356590),MO=new pi(null,"border-inline-end","border-inline-end",1529961070),FO=new pi("cljs.analyzer","analyzed","cljs.analyzer/analyzed",-735094162),TO=new pi(null,"on-pointer-out","on-pointer-out",-1087872370),NO=new Ae(null,"capped","capped",-1650988402,null),BO=new pi(null,"border-block-end-style","border-block-end-style",-936122706),zO=new pi(null,"sent","sent",-1537501490),PO=new pi(null,"perspective","perspective",1459886798),$O=new pi(null,"e","e",1381269198),RO=new pi(null,"header","header",119441134),IO=new pi(null,"seconds","seconds",-445266194),LO=new pi(null,"close-callback","close-callback",651188974),UO=new pi(null,"FONTSIZE","FONTSIZE",622092014),qO=new Ae(null,"if","if",1181717262,null),HO=new pi(null,"parse-error","parse-error",255902478),WO=new pi(null,"border-left","border-left",-1150760178),GO=new pi(null,"actions","actions",-812656882),YO=new pi(null,"length-adjust","length-adjust",773679982),VO=new pi(null,"border-top-left-radius","border-top-left-radius",1361811342),JO=new Ae(null,"dateParser","dateParser",-1248418930,null),XO=new pi(null,"word-spacing","word-spacing",-1211711602),KO=new pi(null,"arglists-meta","arglists-meta",1944829838),ZO=new Ae(null,"button","button",-1197855826,null),QO=new pi(null,"s","s",1705939918),nA=new pi(null,"ordinal-date-time-no-ms","ordinal-date-time-no-ms",-1539005490),tA=new pi(null,"betsson","betsson",1673899982),eA=new pi(null,"on-mouse-down","on-mouse-down",1147755470),rA=new pi(null,"char-format","char-format",-1016499218),iA=new pi(null,"flex-shrink","flex-shrink",1481146383),lA=new pi(null,"start-col","start-col",668080143),uA=new pi(null,"animation-timing-function","animation-timing-function",-1186881521),aA=new pi(null,"spill","spill",-1725816817),oA=new pi(null,"RTYPE","RTYPE",-909496305),sA=new pi(null,"encodings","encodings",228644879),cA=new pi(null,"padding-right","padding-right",-1250249681),fA=new pi(null,"radix","radix",857016463),hA=new Ae(null,"new","new",-444906321,null),dA=new pi(null,"xml-base","xml-base",1909907631),pA=new pi(null,"on-click","on-click",1632826543),gA=new pi(null,"strable","strable",1877668047),mA=new pi(null,"seed","seed",68613327),vA=new pi(null,"stop-opacity","stop-opacity",-2018003729),wA=new pi(null,"descendants","descendants",1824886031),yA=new pi(null,"colon-up-arrow","colon-up-arrow",244853007),bA=new pi(null,"hour-minute-second-ms","hour-minute-second-ms",1209749775),xA=new pi(null,"ch","ch",-554717905),_A=new pi(null,"border-bottom-width","border-bottom-width",-1417262769),kA=new Ae(null,"path2","path2",-1937913521,null),jA=new pi(null,"renderer","renderer",336841071),OA=new Ae(null,"ns","ns",2082130287,null),AA=new pi(null,"font","font",-1506159249),EA=new pi(null,"offset-anchor","offset-anchor",-206719601),SA=new pi(null,"size","size",1098693007),CA=new pi(null,"arg9","arg9",-95117905),DA=new pi(null,"font-variant-alternates","font-variant-alternates",2146842031),MA=new pi(null,"use-map","use-map",705810863),FA=new pi(null,"k","k",-2146297393),TA=new pi(null,"title","title",636505583),NA=new pi(null,"on-seeking","on-seeking",-1860722161),BA=new pi(null,"kernel-matrix","kernel-matrix",165302799),zA=new pi(null,"running","running",1554969103),PA=new pi(null,"border-block-color","border-block-color",-132574641),$A=new Ae(null,"meta19707","meta19707",1678952015,null),RA=new pi(null,"XFORM-EXPR","XFORM-EXPR",-1498524081),IA=new pi(null,"column-gap","column-gap",384822863),LA=new pi(null,"allow-full-screen","allow-full-screen",-1219396017),UA=new pi(null,"sym","sym",-1444860305),qA=new pi(null,"level4","level4",1467985519),HA=new pi(null,"wrap-before","wrap-before",158125711),WA=new pi(null,"Frame-Maker","Frame-Maker",-1817533777),GA=new Ae("com.rpl.specter","index-nav","com.rpl.specter/index-nav",2054501071,null),YA=new pi(null,"TOOLTIP","TOOLTIP",643272431),VA=new pi(null,"prefix","prefix",-265908465),JA=new pi(null,"column","column",2078222095),XA=new pi(null,"on-mouse-out-capture","on-mouse-out-capture",-1317872881),KA=new pi(null,"border-block-start-width","border-block-start-width",989693743),ZA=new pi(null,"vw","vw",1941049135),QA=new pi(null,"border-collapse","border-collapse",919100239),nE=new pi(null,"validating","validating",1866468207),tE=new pi(null,"arabic-form","arabic-form",-246736017),eE=new pi(null,"on-loaded-metadata","on-loaded-metadata",1770177391),rE=new pi(null,"deg","deg",-681556081),iE=new pi(null,"headers","headers",-835030129),lE=new pi(null,"-webkit-flex-shrink","-webkit-flex-shrink",1567519631),uE=new pi(null,"orphans","orphans",1913357231),aE=new pi(null,"loop","loop",-395552849),oE=new pi(null,"glyph-ref","glyph-ref",2123396015),sE=new pi(null,"scaleFactor","scaleFactor",738753455),cE=new pi(null,"colon","colon",-965200945),fE=new pi(null,"RESOLVE","RESOLVE",-164169777),hE=new pi(null,"border-right-color","border-right-color",2017953775),dE=new pi(null,"center","center",-748944368),pE=new pi(null,"on-pointer-up","on-pointer-up",385194e3),gE=new pi(null,"high","high",2027297808),mE=new pi(null,"enter","enter",1792452624),vE=new Ae(null,"parse-fn","parse-fn",-836029424,null),wE=new pi(null,"XTTITLE","XTTITLE",1363820560),yE=new Ae(null,"meta19671","meta19671",-1017398224,null),bE=new pi(null,"widths","widths",-1467327440),xE=new pi(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),_E=new pi(null,"on-load-start","on-load-start",73295952),kE=new pi(null,"error-handler","error-handler",-484945776),jE=new pi(null,"ancestors","ancestors",-776045424),OE=new pi(null,"div.popover.fade.in","div.popover.fade.in",-106226512),AE=new pi(null,"font-optical-sizing","font-optical-sizing",-229848912),EE=new pi(null,"background-clip","background-clip",1705503920),SE=new pi(null,"on-paste","on-paste",-50859856),CE=new pi(null,"time-parser","time-parser",-1636511536),DE=new pi(null,"round","round",2009433328),ME=new pi(null,"html-for","html-for",594503920),FE=new Ae(null,"meta19481","meta19481",-1658186480,null),TE=new pi(null,"background-image","background-image",-1142314704),NE=new pi(null,"small","small",2133478704),BE=new pi(null,"style","style",-496642736),zE=new pi(null,"textarea","textarea",-650375824),PE=new pi(null,"dpi","dpi",-986162832),$E=new pi(null,"on-time-update-capture","on-time-update-capture",213296528),RE=new pi(null,"unicode-range","unicode-range",-2014392944),IE=new pi(null,"wrap-inside","wrap-inside",-728797808),LE=new pi(null,"clip-path","clip-path",-439959120),UE=new pi(null,"cm","cm",540591536),qE=new pi(null,"grid-column-gap","grid-column-gap",-1342199344),HE=new pi(null,"stream","stream",1534941648),WE=new pi(null,"write","write",-1857649168),GE=new pi(null,"SIZE","SIZE",1671548432),YE=new pi(null,"points-at-x","points-at-x",1619352080),VE=new pi(null,"input-type","input-type",856973840),JE=new pi(null,"level","level",1290497552),XE=new pi(null,"zoom-and-pan","zoom-and-pan",-599601616),KE=new pi(null,"lang","lang",-1819677104),ZE=new pi(null,"stroke-linecap","stroke-linecap",-1201103248),QE=new pi(null,"_height","_height",133867120),nS=new pi(null,"src-set","src-set",1389408880),tS=new Ae(null,"meta19649","meta19649",34982512,null),eS=new pi(null,"rows","rows",850049680),rS=new pi(null,"flood-opacity","flood-opacity",-479030608),iS=new pi(null,"on-copy-capture","on-copy-capture",-988406096),lS=new pi(null,"day-name","day-name",1806125744),uS=new pi(null,"on-key-up","on-key-up",884441808),aS=new pi(null,"external-resources-required","external-resources-required",-757648688),oS=new pi(null,"div","div",1057191632),sS=new pi(null,"turn","turn",75759344),cS=new pi(null,"in2","in2",782506768),fS=new pi(null,"readably","readably",1129599760),hS=new pi(null,"showing?","showing?",2094921488),dS=new pi("aerial.hanami.common","spec","aerial.hanami.common/spec",-682510544),pS=new pi(null,"summary","summary",380847952),gS=new pi(null,"ruby-align","ruby-align",-479045808),mS=new Ae(null,"m","m",-1021758608,null),vS=new pi(null,"filter-res","filter-res",-755681424),wS=new pi(null,"elem","elem",618631056),yS=new pi(null,"date-time-parser","date-time-parser",-656147568),bS=new pi(null,"right-bracket","right-bracket",951856080),xS=new pi(null,"start-of-week","start-of-week",-1590603824),_S=new pi(null,"text-align-last","text-align-last",1401448400),kS=new Ae(null,"box","box",-1123515375,null),jS=new pi(null,"LTITLE","LTITLE",-826758127),OS=new pi(null,"more-marker","more-marker",-14717935),AS=new pi(null,"text-decoration-skip-box","text-decoration-skip-box",-390138863),ES=new pi(null,"_initial-split","_initial-split",2145793073),SS=new pi(null,"on-cut","on-cut",-1019124687),CS=new pi(null,"begin","begin",-319034319),DS=new pi(null,"dispatch","dispatch",1319337009),MS=new pi("com.rpl.specter.impl","NONE","com.rpl.specter.impl/NONE",1085349969),FS=new pi(null,"grid-column-start","grid-column-start",718549073),TS=new pi(null,"on-animation-iteration-capture","on-animation-iteration-capture",376540273),NS=new pi(null,"enc-type","enc-type",-1746291599),BS=new Ae(null,"fields","fields",-291534703,null),zS=new pi(null,"g1","g1",1986774193),PS=new Ae(null,"re","re",1869207729,null),$S=new pi(null,"base-profile","base-profile",-29066063),RS=new pi(null,"border-block-start-color","border-block-start-color",690898129),IS=new pi(null,"lighting-color","lighting-color",-1324714767),LS=new pi(null,"PARENTKEY","PARENTKEY",-762645199),US=new Ae("com.rpl.specter","STAY","com.rpl.specter/STAY",-176499375,null),qS=new pi(null,"z","z",-789527183),HS=new pi(null,"spec","spec",347520401),WS=new pi(null,"year","year",335913393),GS=new pi(null,"reagentRender","reagentRender",-358306383),YS=new pi(null,"azimuth","azimuth",-165971535),VS=new pi(null,"token","token",-1211463215),JS=new Ae(null,"datepicker","datepicker",-1832694319,null),XS=new pi(null,"TRANSFORM","TRANSFORM",753998353),KS=new pi(null,"border-image-repeat","border-image-repeat",-1007131119),ZS=new pi(null,"arrow-gap","arrow-gap",1490206257),QS=new pi(null,"XBIN","XBIN",509765169),nC=new pi(null,"alphabetic","alphabetic",1536352849),tC=new pi(null,"alignment-baseline","alignment-baseline",-311060879),eC=new pi(null,"t-time-no-ms","t-time-no-ms",990689905),rC=new pi(null,"java","java",1958249105),iC=new pi(null,"on-encrypted","on-encrypted",-278636879),lC=new Ae(null,"meta19644","meta19644",1541232305,null),uC=new Ae(null,"dateElementParser","dateElementParser",984800945,null),aC=new pi(null,"on-transition-end-capture","on-transition-end-capture",-318050607),oC=new pi(null,"rgap","rgap",663943889),sC=new pi(null,"warning","warning",-1685650671),cC=new pi(null,"span.bold","span.bold",636457745),fC=new pi(null,"YTFMT","YTFMT",728451857),hC=new pi(null,"basic-week-date-time-no-ms","basic-week-date-time-no-ms",-2043113679),dC=new pi(null,"hover","hover",-341141711),pC=new Ae(null,"localDateOptionalTimeParser","localDateOptionalTimeParser",435955537,null),gC=new pi(null,"http-equiv","http-equiv",-433976463),mC=new pi(null,"on-volume-change","on-volume-change",84155249),vC=new pi(null,"text-emphasis-skip","text-emphasis-skip",-524499087),wC=new pi(null,"cols","cols",-1914801295),yC=new pi(null,"on-pointer-over-capture","on-pointer-over-capture",303774641),bC=new pi(null,"grid-row","grid-row",-1737175087),xC=new pi(null,"widows","widows",1989591025),_C=new pi(null,"<>","<>",1280186386),kC=new pi(null,"YAGG","YAGG",1383578674),jC=new pi(null,"variadic?","variadic?",584179762),OC=new pi(null,"scrolling","scrolling",349011090),AC=new pi(null,"betway","betway",1567498418),EC=new pi(null,"XSCALE","XSCALE",1762865330),SC=new pi(null,"edge-mode","edge-mode",1902361778),CC=new Ae(null,"meta19567","meta19567",68192498,null),DC=new pi(null,"new-name","new-name",1288355058),MC=new pi(null,"Th","Th",1409372402),FC=new pi(null,"preload","preload",1646824722),TC=new pi(null,"on-waiting","on-waiting",332105010),NC=new pi(null,"dominant-baseline","dominant-baseline",609259826),BC=new pi(null,"units-per-em","units-per-em",1845580082),zC=new pi(null,"no-cache","no-cache",1588056370),PC=new pi(null,"border-width","border-width",-1512605390),$C=new pi(null,"render","render",-1408033454),RC=new Ae(null,"meta16095","meta16095",-919396014,null),IC=new pi(null,"on-drag-leave","on-drag-leave",-373180078),LC=new pi(null,"marker-start","marker-start",-56273582),UC=new pi(null,"overline-position","overline-position",1793937810),qC=new pi(null,"TLBL","TLBL",758028722),HC=new pi(null,"debounce-delay","debounce-delay",-608187982),WC=new pi(null,"filter","filter",-948537934),GC=new pi(null,"ELTSPER","ELTSPER",2062945746),YC=new pi(null,"basic-date","basic-date",1566551506),VC=new Ae(null,"input-password","input-password",1358841298,null),JC=new pi(null,"on-animation-start","on-animation-start",923687410),XC=new pi(null,"mask-mode","mask-mode",1954608626),KC=new Ae(null,"meta19552","meta19552",-2038324718,null),ZC=new Ae(null,"deftype*","deftype*",962659890,null),QC=new Ae(null,"let*","let*",1920721458,null),nD=new pi(null,"quotes","quotes",-844987790),tD=new pi(null,"on-select","on-select",-192407950),eD=new pi(null,"text-justify","text-justify",583748210),rD=new Ae(null,"struct-map","struct-map",-1387540878,null),iD=new Ae("com.rpl.specter","MAP-VALS","com.rpl.specter/MAP-VALS",1866158706,null),lD=new pi(null,"offset-block-start","offset-block-start",-188512622),uD=new pi(null,"blockquote-em","blockquote-em",-1667874126),aD=new pi(null,"after","after",594996914),oD=new pi(null,"DFMT","DFMT",-1006424366),sD=new pi(null,"on-touch-cancel-capture","on-touch-cancel-capture",282949330),cD=new pi(null,"ENCODING","ENCODING",2126915346),fD=new pi(null,"inline-code","inline-code",416196370),hD=new Ae(null,"start","start",1285322546,null),dD=new Ae("com.rpl.specter","before-index","com.rpl.specter/before-index",1952616274,null),pD=new pi(null,"right-center","right-center",2147253074),gD=new pi(null,"poster","poster",-1616913550),mD=new pi(null,"offset-inline-start","offset-inline-start",-1043134574),vD=new pi(null,"direct-nav","direct-nav",-2100776046),wD=new pi(null,"danger","danger",-624338030),yD=new pi(null,"success","success",1890645906),bD=new pi(null,"text-indent","text-indent",-1987214414),xD=new pi(null,"kernel-unit-length","kernel-unit-length",-176217166),_D=new pi(null,"padchar","padchar",2018584530),kD=new pi(null,"z-index","z-index",1892827090),jD=new pi(null,"hanging-punctuation","hanging-punctuation",72740818),OD=new Ae(null,"js*","js*",-1134233646,null),AD=new pi(null,"ol","ol",932524051),ED=new pi(null,"system-language","system-language",-520364013),SD=new pi(null,"aria","aria",1737868339),CD=new pi(null,"on-drag-start","on-drag-start",-47712205),DD=new Ae(null,"dotimes","dotimes",-818708397,null),MD=new pi(null,"layer","layer",-1601820589),FD=new pi(null,"on-touch-move-capture","on-touch-move-capture",2112992339),TD=new pi(null,"buffer-blob","buffer-blob",-1830112173),ND=new pi(null,"reagent-render","reagent-render",-985383853),BD=new pi(null,"draggable","draggable",1676206163),zD=new pi(null,"arg10","arg10",-1230917517),PD=new pi(null,"cgap","cgap",-551329677),$D=new pi(null,"margin-block-start","margin-block-start",1770237075),RD=new pi(null,"glyph-name","glyph-name",-1290126189),ID=new pi(null,"padding-top","padding-top",1929675955),LD=new pi(null,"auto-play","auto-play",-645319501),UD=new pi(null,"vgl","vgl",-1414689581),qD=new pi(null,"revert","revert",-983985933),HD=new pi(null,"nav-up","nav-up",-1565336333),WD=new pi(null,"on-scroll-capture","on-scroll-capture",537214227),GD=new Ae(null,"meta19636","meta19636",-450190029,null),YD=new Ae(null,"cond-path","cond-path",-1167797965,null),VD=new pi(null,"border-left-style","border-left-style",65166675),JD=new pi(null,"YTYPE","YTYPE",-1777821325),XD=new pi(null,"dynamic","dynamic",704819571),KD=new pi(null,"buffering","buffering",-876713613),ZD=new pi(null,"line","line",212345235),QD=new pi(null,"key-params","key-params",1987800467),nM=new pi(null,"on-playing-capture","on-playing-capture",-1248344653),tM=new pi(null,"expr","expr",745722291),eM=new Ae(null,"p1__28636#","p1__28636#",1906201075,null),rM=new pi(null,"descent","descent",1331783219),iM=new pi(null,"stroke-width","stroke-width",716836435),lM=new pi(null,"challenge","challenge",1302148691),uM=new Ae(null,"p1__28654#","p1__28654#",-612554125,null),aM=new pi(null,"text-emphasis-style","text-emphasis-style",1293728371),oM=new Ae(null,"with-open","with-open",172119667,null),sM=new pi(null,"list","list",765357683),cM=new pi(null,"div.rc-backdrop.noselect","div.rc-backdrop.noselect",-530372973),fM=new pi(null,"Sa","Sa",1909936819),hM=new Ae(null,"fn*","fn*",-752876845,null),dM=new pi(null,"cap-height","cap-height",1034322643),pM=new pi(null,"view-target","view-target",-2146114861),gM=new pi(null,"nav-right","nav-right",591041267),mM=new Ae(null,"val","val",1769233139,null),vM=new pi(null,"on-write","on-write",31519475),wM=new pi(null,"right-params","right-params",-1790676237),yM=new Ae(null,"defonce","defonce",-1681484013,null),bM=new pi(null,"msgsnt","msgsnt",-272622829),xM=new Ae(null,"curri","curri",347667219,null),_M=new pi(null,"empty-cells","empty-cells",306849587),kM=new pi(null,"padding-left","padding-left",-1180879053),jM=new pi(null,"YSCALE","YSCALE",-1340392653),OM=new pi(null,"offset-distance","offset-distance",1283958643),AM=new Ae(null,"p1__28711#","p1__28711#",1327103859,null),EM=new pi(null,"ex","ex",-1413771341),SM=new Ae(null,"meta19518","meta19518",133240755,null),CM=new Ae(null,"recur","recur",1202958259,null),DM=new pi(null,"weekyear-week","weekyear-week",795291571),MM=new pi(null,"on-mouse-up-capture","on-mouse-up-capture",-1098004557),FM=new pi(null,"arg0","arg0",1629842355),TM=new Ae(null,"field","field",338095027,null),NM=new Ae(null,"late1","late1",-1413016621,null),BM=new pi(null,"key-times","key-times",478549971),zM=new pi(null,"status","status",-1997798413),PM=new pi(null,"text-wrap","text-wrap",1566347251),$M=new pi(null,"result","result",1415092211),RM=new pi(null,"scroll","scroll",971553779),IM=new pi(null,"larger","larger",1304935444),LM=new pi(null,"hyphenate-character","hyphenate-character",-99205100),UM=new pi(null,"on-animation-start-capture","on-animation-start-capture",560396340),qM=new pi(null,"from","from",1815293044),HM=new pi(null,"font-variant-caps","font-variant-caps",-1493584780),WM=new pi(null,"l-border","l-border",383143028),GM=new pi(null,"text-decoration-color","text-decoration-color",853200020),YM=new Ae(null,"defn-","defn-",1097765044,null),VM=new pi(null,"hyphenate-limit-chars","hyphenate-limit-chars",-1619979084),JM=new Ae(null,"info-button","info-button",-1659523916,null),XM=new pi(null,"on-animation-end-capture","on-animation-end-capture",-951923532),KM=new pi(null,"vertical?","vertical?",-1522630444),ZM=new pi(null,"response-ready","response-ready",245208276),QM=new pi(null,"u2","u2",1850032340),nF=new pi(null,"src-lang","src-lang",254495956),tF=new pi(null,"flow-from","flow-from",-1214636812),eF=new pi(null,"print-length","print-length",1931866356),rF=new Ae(null,"vertical-bar-tabs","vertical-bar-tabs",-734433036,null),iF=new pi(null,"hidden","hidden",-312506092),lF=new pi(null,"writer","writer",-277568236),uF=new Ae(null,"meta19376","meta19376",-922460908,null),aF=new pi(null,"max","max",61366548),oF=new pi(null,"link","link",-1769163468),sF=new pi(null,"word-break","word-break",-407281356),cF=new pi(null,"border-start-end-radius","border-start-end-radius",867698004),fF=new pi(null,"border-top-width","border-top-width",1612782932),hF=new pi(null,"background-origin","background-origin",79411540),dF=new pi(null,"trailing-white-space","trailing-white-space",1496006996),pF=new pi(null,"wrap-flow","wrap-flow",822398292),gF=new pi(null,"column-width","column-width",405119380),mF=new pi(null,"min-block-size","min-block-size",2039624084),vF=new pi(null,"local-date","local-date",1829761428),wF=new pi(null,"media-group","media-group",1155749300),yF=new pi(null,"strokeWidth","strokeWidth",-2130848332),bF=new pi(null,"active","active",1895962068),xF=new pi(null,"Y","Y",-560717356),_F=new Ae(null,"meta19561","meta19561",2071612884,null),kF=new pi(null,"CSCHEME","CSCHEME",-1438230060),jF=new pi(null,"border-spacing","border-spacing",-1602200108),OF=new pi(null,"opacity","opacity",397153780),AF=new pi(null,"col","col",-1959363084),EF=new pi(null,"on-double-click","on-double-click",1434856980),SF=new pi(null,"basic-ordinal-date-time-no-ms","basic-ordinal-date-time-no-ms",-395135436),CF=new pi(null,"cx","cx",1272694324),DF=new pi(null,"label","label",1718410804),MF=new pi(null,"id","id",-1388402092),FF=new pi(null,"div.chosen-search","div.chosen-search",-210987404),TF=new pi(null,"accept-charset","accept-charset",-1667839372),NF=new pi(null,"std-deviation","std-deviation",-891200908),BF=new pi(null,"on-key-up-capture","on-key-up-capture",798383732),zF=new pi(null,"condition","condition",1668437652),PF=new pi(null,"page-break-before","page-break-before",-944104780),$F=new pi(null,"values","values",372645556),RF=new pi(null,"class","class",-2030961996),IF=new pi(null,"dur","dur",1464522452),LF=new pi(null,"on-stalled-capture","on-stalled-capture",1710011124),UF=new pi(null,"arg-names","arg-names",1632831252),qF=new pi(null,"text-length","text-length",1833660212),HF=new pi(null,"vgl-as-vg","vgl-as-vg",1615887156),WF=new pi(null,"on-abort-capture","on-abort-capture",-179468428),GF=new pi(null,"YTTIP","YTTIP",80646004),YF=new pi(null,"wmode","wmode",661021556),VF=new Ae(null,"reduce-fn","reduce-fn",-1484020844,null),JF=new pi(null,"MPFIELD","MPFIELD",1901614996),XF=new pi(null,"getInitialState","getInitialState",1541760916),KF=new pi(null,"offset-rotate","offset-rotate",-1143165004),ZF=new pi(null,"extent","extent",-186399820),QF=new pi(null,"no-validate","no-validate",72997812),nT=new pi(null,"k3","k3",1937862580),tT=new pi(null,"region-fragment","region-fragment",611028948),eT=new pi(null,"cy","cy",755331060),rT=new pi(null,"underline-position","underline-position",2105325589),iT=new pi(null,"mincol","mincol",1230695445),lT=new pi(null,"on-can-play","on-can-play",1481578549),uT=new Ae("clojure.core","deref","clojure.core/deref",188719157,null),aT=new pi(null,"on-drag-capture","on-drag-capture",1336556597),oT=new pi(null,"opts","opts",155075701),sT=new pi(null,"nil","nil",99600501),cT=new pi(null,"implied-biden","implied-biden",1627345013),fT=new pi(null,"kind","kind",-717265803),hT=new pi(null,"arg15","arg15",1451926677),dT=new pi(null,"year-month","year-month",735283381),pT=new pi(null,"progress-handler","progress-handler",333585589),gT=new pi(null,"k4","k4",-899960619),mT=new pi(null,"minpad","minpad",323570901),vT=new Ae(null,"MAP-VALS","MAP-VALS",-471141163,null),wT=new pi(null,"char-set","char-set",-155556619),yT=new pi(null,"minimum","minimum",-1621006059),bT=new pi(null,"text-decoration-skip-inset","text-decoration-skip-inset",766341397),xT=new pi(null,"padding","padding",1660304693),_T=new pi(null,"current","current",-1088038603),kT=new pi(null,"baseline-shift","baseline-shift",-2068063947),jT=new pi(null,"at","at",1476951349),OT=new pi(null,"off","off",606440789),AT=new pi(null,"on-pointer-out-capture","on-pointer-out-capture",-1060203179),ET=new pi(null,"content-script-type","content-script-type",-764886699),ST=new pi(null,"deref","deref",-145586795),CT=new pi(null,"on-lost-pointer-capture-capture","on-lost-pointer-capture-capture",-462517867),DT=new pi(null,"constructor","constructor",-1953928811),MT=new pi(null,"xml-space","xml-space",1409379733),FT=new pi(null,"font-kerning","font-kerning",-638989899),TT=new pi(null,"auto-run","auto-run",1958400437),NT=new pi(null,"reader","reader",169660853),BT=new pi(null,"checked","checked",-50955819),zT=new pi(null,"specs","specs",1426570741),PT=new pi(null,"parents","parents",-2027538891),$T=new pi(null,"grid-area","grid-area",-1829717451),RT=new pi(null,"border-inline-start","border-inline-start",957988437),IT=new Ae("com.rpl.specter","keypath","com.rpl.specter/keypath",1115771477,null),LT=new Ae(null,"single-dropdown-args-desc","single-dropdown-args-desc",1154344533,null),UT=new pi(null,"count","count",2139924085),qT=new pi(null,"parse","parse",-1162164619),HT=new pi(null,"per-line-prefix","per-line-prefix",846941813),WT=new pi(null,"border-top-color","border-top-color",-804629899),GT=new pi(null,"border-image-outset","border-image-outset",-335977867),YT=new pi(null,"v-mathematical","v-mathematical",-639453547),VT=new pi(null,"context-menu","context-menu",-1002713451),JT=new pi(null,"change-on-blur?","change-on-blur?",854283925),XT=new pi(null,"on-drag-enter","on-drag-enter",-1692112235),KT=new pi(null,"slope","slope",-1227938123),ZT=new Ae(null,"traverser","traverser",1631431381,null),QT=new pi(null,"right-above","right-above",832458485),nN=new pi(null,"caret-color","caret-color",997187317),tN=new pi(null,"font-variant-position","font-variant-position",783614741),eN=new pi(null,"mask-position","mask-position",-342553835),rN=new pi(null,"top-offset","top-offset",1235816245),iN=new pi(null,"color-interpolation-filters","color-interpolation-filters",-519168139),lN=new pi(null,"tooltip-position","tooltip-position",936197013),uN=new Ae(null,"meta19371","meta19371",-68301931,null),aN=new pi(null,"key-points","key-points",-1704741963),oN=new pi(null,"div.popover-content","div.popover-content",1045719989),sN=new pi(null,"text-decoration-skip","text-decoration-skip",1234241493),cN=new pi(null,"justify-content","justify-content",-1990475787),fN=new Ae(null,"k","k",-505765866,null),hN=new pi(null,"CLEGEND","CLEGEND",-1128182762),dN=new pi(null,"on-mouse-move","on-mouse-move",-1386320874),pN=new Ae(null,"popover-content-wrapper","popover-content-wrapper",-560365514,null),gN=new pi(null,"component-will-unmount","component-will-unmount",-2058314698),mN=new Ae(null,"title","title",-2017930186,null),vN=new Ae(null,">=",">=",1016916022,null),wN=new pi(null,"RENDERER","RENDERER",-1707531178),yN=new pi(null,"shape","shape",1190694006),bN=new pi(null,"cross-origin","cross-origin",-2100195210),xN=new pi(null,"colnum","colnum",2023796854),_N=new pi(null,"svg","svg",856789142),kN=new pi(null,"start-offset","start-offset",1295473814),jN=new pi(null,"caret-shape","caret-shape",-1529480042),ON=new pi(null,"COLOR","COLOR",-1254921034),AN=new pi(null,"arg16","arg16",-445557546),EN=new Ae(null,"lift-ns","lift-ns",602311926,null),SN=new pi(null,"tabid","tabid",-720881418),CN=new pi(null,"bin","bin",-200999690),DN=new pi(null,"gap","gap",80255254),MN=new Ae(null,"unparse-fn","unparse-fn",407187734,null),FN=new pi(null,"max-inline-size","max-inline-size",1870424342),TN=new pi(null,"wrap-through","wrap-through",-1266550506),NN=new pi(null,"info","info",-317069002),BN=new pi(null,"compvis","compvis",-1844045482),zN=new pi(null,"arg14","arg14",-1870980778),PN=new pi(null,"t-border","t-border",1110748502),$N=new pi(null,"transition-timing-function","transition-timing-function",-549540522),RN=new pi(null,"url","url",276297046),IN=new pi(null,"code","code",1586293142),LN=new pi(null,"col-span","col-span",-232603210),UN=new pi(null,"length","length",588987862),qN=new pi(null,"overflow-x","overflow-x",-26547754),HN=new pi(null,"predictit","predictit",1001329142),WN=new Ae(null,"loop","loop",1244978678,null),GN=new Ae(null,"meta19366","meta19366",376507926,null),YN=new pi(null,"selectable-fn","selectable-fn",-1997365738),VN=new pi(null,"additive","additive",-1654411690),JN=new pi(null,"AT","AT",-1100697994),XN=new pi(null,"on-mouse-move-capture","on-mouse-move-capture",-528714122),KN=new pi(null,"on-copy","on-copy",-227435882),ZN=new pi(null,"on-volume-change-capture","on-volume-change-capture",1886298774),QN=new pi(null,"on-drag-enter-capture","on-drag-enter-capture",955704982),nB=new Ae("clojure.core","unquote","clojure.core/unquote",843087510,null),tB=new Ae(null,"v-box","v-box",5238454,null),eB=new pi(null,"send","send",-652151114),rB=new Ae("sp","MAP-VALS","sp/MAP-VALS",-471139658,null),iB=new pi(null,"hover-color","hover-color",663962326),lB=new pi(null,"outline","outline",793464534),uB=new pi(null,"overflowchar","overflowchar",-1620088106),aB=new Ae(null,"dateTimeParser","dateTimeParser",-1493718282,null),oB=new pi(null,"mouse-over-row?","mouse-over-row?",-446703882),sB=new pi(null,"editor","editor",-989377770),cB=new Ae(null,"late2","late2",-681717994,null),fB=new Ae(null,"STAY","STAY",1628009270,null),hB=new pi(null,"animation-duration","animation-duration",-1261077706),dB=new pi(null,"content-type","content-type",-508222634),pB=new pi(null,"b","b",1482224470),gB=new pi(null,"initial","initial",1854648214),mB=new pi(null,"border-block-start","border-block-start",1160398742),vB=new pi(null,"YBIN","YBIN",1518924694),wB=new pi(null,"text-underline-position","text-underline-position",-1234733162),yB=new pi(null,"border-inline-start-style","border-inline-start-style",1730804630),bB=new pi(null,"animation-play-state","animation-play-state",655922102),xB=new Ae(null,"late-fn","late-fn",268309430,null),_B=new pi(null,"operator","operator",-1860875338),kB=new pi(null,"transform-origin","transform-origin",-586167370),jB=new pi(null,"HEIGHT","HEIGHT",-1398074410),OB=new pi(null,"resolve","resolve",-1584445482),AB=new pi(null,"backdrop-on-click","backdrop-on-click",-1460240426),EB=new Ae(null,"flex-child-style","flex-child-style",462107671,null),SB=new pi(null,"on-context-menu-capture","on-context-menu-capture",2060544023),CB=new pi(null,"local-date-opt-time","local-date-opt-time",1178432599),DB=new pi(null,"end-line","end-line",1837326455),MB=new pi(null,"label-style","label-style",-1703650121),FB=new pi(null,"xlink-arcrole","xlink-arcrole",-759567177),TB=new pi(null,"auto-focus","auto-focus",1250006231),NB=new pi(null,"precompiled","precompiled",-1683153609),BB=new pi(null,"shape-inside","shape-inside",-1347911337),zB=new pi(null,"on-touch-move","on-touch-move",1587118423),PB=new pi(null,"validation-regex","validation-regex",-197064361),$B=new pi(null,"timeUnit","timeUnit",-1287194281),RB=new pi(null,"left-below","left-below",1290111351),IB=new pi(null,"border-inline","border-inline",300622199),LB=new pi(null,"CGAP","CGAP",646279543),UB=new pi(null,"on-touch-end-capture","on-touch-end-capture",-635667049),qB=new pi(null,"src-doc","src-doc",-543683145),HB=new Ae(null,"condp","condp",1054325175,null),WB=new pi(null,"object-position","object-position",-598884937),GB=new Ae(null,"elem","elem",-2035804713,null),YB=new Ae(null,"meta19549","meta19549",2073156055,null),VB=new Ae(null,"filter-choices-by-keyword","filter-choices-by-keyword",-403592713,null),JB=new pi(null,"marks","marks",-1844991497),XB=new pi(null,"display-name","display-name",694513143),KB=new pi(null,"perspective-origin","perspective-origin",-1049394665),ZB=new Ae(null,"meta19734","meta19734",1080630807,null),QB=new pi(null,"low","low",-1601362409),nz=new pi(null,"MSIZE","MSIZE",-825992681),tz=new pi(null,"right","right",-452581833),ez=new pi(null,"hours","hours",58380855),rz=new pi(null,"colinc","colinc",-584873385),iz=new Ae(null,"meta11815","meta11815",-1563609513,null),lz=new Ae(null,"horizontal-bar-tabs","horizontal-bar-tabs",-1051779465,null),uz=new pi(null,"BASELINE","BASELINE",26167959),az=new pi(null,"on-drag-start-capture","on-drag-start-capture",-198934889),oz=new pi(null,"text-shadow","text-shadow",116733623),sz=new pi(null,"XFORMAT","XFORMAT",159318743),cz=new pi(null,"years","years",-1298579689),fz=new pi(null,"multi-select?","multi-select?",973156151),hz=new pi(null,"on-animation-end","on-animation-end",-1927132329),dz=new pi(null,"week-date","week-date",-1176745129),pz=new Ae(null,"cond","cond",1606708055,null),gz=new pi(null,"border-color","border-color",-2059162761),mz=new pi(null,"text-decoration","text-decoration",1836813207),vz=new Ae(null,"meta19487","meta19487",-466486377,null),wz=new pi(null,"transition-property","transition-property",2036650935),yz=new pi(null,"path-length","path-length",651940791),bz=new pi(null,"on-submit","on-submit",1227871159),xz=new pi(null,"olist","olist",677976023),_z=new pi(null,"rotate","rotate",152705015),kz=new pi(null,"diffuse-constant","diffuse-constant",-1427039241),jz=new pi(null,"shape-margin","shape-margin",358865911),Oz=new pi(null,"display","display",242065432),Az=new pi(null,"image-resolution","image-resolution",-1933945832),Ez=new pi(null,"on-touch-start-capture","on-touch-start-capture",126030904),Sz=new pi(null,"appearance","appearance",-216383432),Cz=new pi(null,"position","position",-2011731912),Dz=new Ae(null,"meta19657","meta19657",-1742489512,null),Mz=new Ae(null,"else-path","else-path",-2100209576,null),Fz=new pi(null,"on-click-capture","on-click-capture",-1777989448),Tz=new pi(null,"mathematical","mathematical",-944855880),Nz=new pi(null,"filter-box?","filter-box?",-1157583688),Bz=new pi(null,"border-inline-width","border-inline-width",1555047640),zz=new pi(null,"on-cut-capture","on-cut-capture",1724168408),Pz=new Ae("sp","ATOM","sp/ATOM",-2063216424,null),$z=new pi(null,"order","order",-1254677256),Rz=new pi(null,"on-dispose","on-dispose",2105306360),Iz=new pi(null,"grid-template-areas","grid-template-areas",-1162938120),Lz=new pi(null,"vmax","vmax",-1435213544),Uz=new Ae(null,"c","c",-122660552,null),qz=new pi(null,"both","both",-393648840),Hz=new pi(null,"nice","nice",1404040504),Wz=new pi(null,"d","d",1972142424),Gz=new pi(null,"f","f",-1597136552),Yz=new pi(null,"validate-fn","validate-fn",1430169944),Vz=new pi(null,"text-emphasis-color","text-emphasis-color",-1426881160),Jz=new pi(null,"border-end-end-radius","border-end-end-radius",670676344),Xz=new pi(null,"action","action",-811238024),Kz=new pi(null,"on-mouse-up","on-mouse-up",-1340533320),Zz=new pi(null,"target-y","target-y",266215864),Qz=new pi(null,"cell-spacing","cell-spacing",769666488),nP=new pi(null,"point","point",1813198264),tP=new pi(null,"on-mouse-leave","on-mouse-leave",-1864319528),eP=new Ae(null,"binding","binding",-2114503176,null),rP=new pi(null,"double-code","double-code",1573574136),iP=new pi(null,"line-padding","line-padding",736134680),lP=new pi(null,"spell-check","spell-check",-2060352968),uP=new pi(null,"error","error",-978969032),aP=new pi(null,"h2","h2",-372662728),oP=new Ae(null,"meta26426","meta26426",1327221304,null),sP=new pi(null,"text-align-all","text-align-all",-1477575112),cP=new pi(null,"regex","regex",939488856),fP=new pi(null,"$schema","$schema",1635092088),hP=new Ae("com.rpl.specter","ALL","com.rpl.specter/ALL",-1409005960,null),dP=new pi(null,"by","by",30600856),pP=new pi(null,"origin","origin",1037372088),gP=new pi(null,"i.zmdi.zmdi-chevron-left","i.zmdi.zmdi-chevron-left",-1877271880),mP=new pi(null,"quoted","quoted",2117344952),vP=new Ae(null,"v-split","v-split",1341411032,null),wP=new pi(null,"br","br",934104792),yP=new Ae(null,"single-dropdown","single-dropdown",-1422999816,null),bP=new pi(null,"on","on",173873944),xP=new Ae(null,"update-fn","update-fn",-1943348456,null),_P=new pi(null,"USERDATA","USERDATA",422573848),kP=new pi(null,"class-name","class-name",945142584),jP=new pi(null,"shape-image-threshold","shape-image-threshold",-1978694824),OP=new Ae(null,"with-local-vars","with-local-vars",837642072,null),AP=new pi(null,"def","def",-1043430536),EP=new pi(null,"componentFunction","componentFunction",825866104),SP=new pi(null,"fy","fy",550788984),CP=new pi(null,"TTEXT","TTEXT",-1919582344),DP=new pi(null,"on-drag-over","on-drag-over",-93410408),MP=new pi(null,"on-mouse-over","on-mouse-over",-858472552),FP=new pi(null,"stroke-miterlimit","stroke-miterlimit",1151270808),TP=new Ae(null,"z","z",851004344,null),NP=new pi(null,"border-inline-end-width","border-inline-end-width",1208892376),BP=new pi(null,"exception","exception",-335277064),zP=new pi(null,"key-splines","key-splines",-1981996040),PP=new pi(null,"column-fill","column-fill",1132872696),$P=new Ae(null,"late-else","late-else",1462724600,null),RP=new Ae(null,"defmacro","defmacro",2054157304,null),IP=new pi(null,"-webkit-order","-webkit-order",-1474851815),LP=new pi(null,"MFILLED","MFILLED",-177161191),UP=new pi(null,"X","X",1705996313),qP=new pi(null,"ORIENT","ORIENT",-1224446919),HP=new pi(null,"on-emptied-capture","on-emptied-capture",-1997072263),WP=new pi(null,"max-fixed-arity","max-fixed-arity",-690205543),GP=new pi(null,"options","options",99638489),YP=new pi(null,"msgop","msgop",1125180633),VP=new pi(null,"letter-spacing","letter-spacing",-948993767),JP=new pi(null,"x","x",2099068185),XP=new pi(null,"SMDWN-MARK","SMDWN-MARK",-485126855),KP=new pi(null,"on-duration-change","on-duration-change",815271225),ZP=new pi(null,"pattern-content-units","pattern-content-units",-776686279),QP=new pi(null,"child","child",623967545),n$=new pi(null,"open-chan","open-chan",-696265383),t$=new pi(null,"fontSize","fontSize",919623033),e$=new Ae("sp","keypath","sp/keypath",-688912999,null),r$=new Ae(null,"set!","set!",250714521,null),i$=new pi(null,"clauses","clauses",1454841241),l$=new pi(null,"vert-adv-y","vert-adv-y",-641097319),u$=new pi(null,"column-span","column-span",1302376857),a$=new pi(null,"arg5","arg5",-1648794215),o$=new pi(null,"div.md","div.md",1540365753),s$=new pi(null,"x1","x1",-1863922247),c$=new pi(null,"xlink-show","xlink-show",-816120391),f$=new pi(null,"uri","uri",-774711847),h$=new pi(null,"indent-t","indent-t",528318969),d$=new pi(null,"form","form",-1624062471),p$=new Ae(null,"meta23060","meta23060",1581173241,null),g$=new Ae(null,"hyperlink-href","hyperlink-href",-256296423,null),m$=new pi(null,"date-hour","date-hour",-344234471),v$=new pi(null,"overflow-block","overflow-block",-1594096999),w$=new pi(null,"idx","idx",1053688473),y$=new pi(null,"SELECTION","SELECTION",-2006093159),b$=new pi(null,"text-decoration-skip-ink","text-decoration-skip-ink",-1609364807),x$=new pi(null,"on-seeking-capture","on-seeking-capture",-1395183943),_$=new Ae(null,"meta19608","meta19608",-337717575,null),k$=new pi(null,"Su","Su",1604604633),j$=new pi(null,"initial-letters","initial-letters",1531500249),O$=new pi(null,"capture","capture",-677031143),A$=new pi(null,"interceptors","interceptors",-1546782951),E$=new Ae(null,"md-icon-button","md-icon-button",693452601,null),S$=new Ae(null,"inc","inc",324505433,null),C$=new pi(null,"anchor","anchor",1549638489),D$=new pi(null,"domain","domain",1847214937),M$=new pi(null,"background-repeat","background-repeat",-387201191),F$=new pi(null,"RGAP","RGAP",1523735385),T$=new pi(null,"input","input",556931961),N$=new pi(null,"padding-bottom","padding-bottom",-1899795591),B$=new pi(null,"linear","linear",872268697),z$=new Ae(null,"meta19742","meta19742",792301529,null),P$=new pi(null,"integrity","integrity",-562947111),$$=new pi(null,"break-before","break-before",-1036311591),R$=new pi(null,"We","We",-705480743),I$=new pi(null,"ARGV2","ARGV2",-598749223),L$=new pi(null,"on-encrypted-capture","on-encrypted-capture",-1535382567),U$=new pi(null,"uuid","uuid",-2145095719),q$=new pi(null,"seq","seq",-1817803783),H$=new pi(null,"target","target",253001721),W$=new Ae(null,"locking","locking",1542862874,null),G$=new pi(null,"on-error","on-error",1728533530),Y$=new pi(null,"arg11","arg11",-379524070),V$=new Ae(null,".",".",1975675962,null),J$=new pi(null,"flow-into","flow-into",2006555738),X$=new pi(null,"TITLE","TITLE",-120772486),K$=new pi(null,"first","first",-644103046),Z$=new pi(null,"on-duration-change-capture","on-duration-change-capture",-905092998),Q$=new Ae(null,"var","var",870848730,null),nR=new Ae("com.rpl.specter","cond-path","com.rpl.specter/cond-path",97137882,null),tR=new pi(null,"flood-color","flood-color",1622703322),eR=new pi(null,"_splitter-size","_splitter-size",-2092162822),rR=new pi(null,"rendering-intent","rendering-intent",-45468422),iR=new pi(null,"read-only","read-only",-191706886),lR=new pi(null,"Fr","Fr",1051514106),uR=new pi(null,"v-hanging","v-hanging",-956218086),aR=new pi(null,"allow-reorder","allow-reorder",-472942310),oR=new pi(null,"DATA","DATA",1093243194),sR=new Ae(null,"aset","aset",900773178,null),cR=new pi(null,"json","json",1279968570),fR=new pi(null,"encode","encode",-1753429702),hR=new Ae(null,"structure","structure",-1090603686,null),dR=new Ae(null,"quote","quote",1377916282,null),pR=new pi(null,"unicode-bidi","unicode-bidi",310629754),gR=new pi(null,"bracket-info","bracket-info",-1600092774),mR=new pi(null,"aggregate","aggregate",1511468442),vR=new pi(null,"set","set",304602554),wR=new pi(null,"minutes","minutes",1319166394),yR=new pi(null,"timeout","timeout",-318625318),bR=new pi(null,"above","above",-1286866470),xR=new pi(null,"base-args","base-args",-1268706822),_R=new pi(null,"margin-inline-start","margin-inline-start",320232954),kR=new pi(null,"pretty","pretty",-1916372486),jR=new pi(null,"align-self","align-self",1475936794),OR=new pi(null,"LTYPE","LTYPE",-933151206),AR=new pi(null,"on-got-pointer-capture","on-got-pointer-capture",2012896826),ER=new pi(null,"margin-right","margin-right",809689658),SR=new pi(null,"hyphenate-limit-last","hyphenate-limit-last",-1243934118),CR=new Ae(null,"lb","lb",950310490,null),DR=new pi(null,"span.rc-p","span.rc-p",1027752538),MR=new pi(null,"on-pointer-down","on-pointer-down",573334138),FR=new pi(null,"accentheight","accentheight",718345882),TR=new pi(null,"end","end",-268185958),NR=new pi(null,"grid-row-end","grid-row-end",-128277830),BR=new pi(null,"not-implemented","not-implemented",1918806714),zR=new pi(null,"on-input","on-input",-267523366),PR=new pi(null,"logical-block-callback","logical-block-callback",1612691194),$R=new pi(null,"counter-set","counter-set",1387918074),RR=new Ae(null,"meta19704","meta19704",-1724170470,null),IR=new pi(null,"background-position","background-position",1112702746),LR=new pi(null,"on-pointer-move-capture","on-pointer-move-capture",-45521094),UR=new pi(null,"scroll-behavior","scroll-behavior",1300031290),qR=new pi(null,"base","base",185279322),HR=new pi(null,"h1","h1",-1896887462),WR=new pi(null,"unicode","unicode",-542572710),GR=new pi(null,"bias","bias",-315297926),YR=new pi(null,"arglists","arglists",1661989754),VR=new pi(null,"axis","axis",-1215390822),JR=new pi(null,"table-layout","table-layout",-1260034150),XR=new pi(null,"version","version",425292698),KR=new pi(null,"arg8","arg8",123916218),ZR=new Ae(null,"meta19574","meta19574",-1006406726,null),QR=new Ae("cljs.core","coll?","cljs.core/coll?",1208130522,null),nI=new Ae(null,"line","line",1852876762,null),tI=new Ae(null,"if-let","if-let",1803593690,null),eI=new pi(null,"font-variation-settings","font-variation-settings",-1435039750),rI=new pi(null,"y2","y2",-718691301),iI=new Ae(null,"meta19727","meta19727",-1553488837,null),lI=new pi(null,"on-pause","on-pause",1839279163),uI=new pi(null,"border-inline-start-color","border-inline-start-color",392047707),aI=new pi(null,"panel-1","panel-1",998274139),oI=new Ae(null,"label","label",-936024965,null),sI=new pi(null,"form-method","form-method",1197598843),cI=new pi(null,"NDATA","NDATA",-1014894469),fI=new pi(null,"on-invalid-capture","on-invalid-capture",347540635),hI=new pi(null,"popover-border-color","popover-border-color",2142810267),dI=new pi(null,"grid-row-gap","grid-row-gap",-2068663141),pI=new Ae(null,"nthpath","nthpath",-400599909,null),gI=new pi(null,"on-time-update","on-time-update",-1701460805),mI=new pi(null,"on-change","on-change",-732046149),vI=new pi(null,"border-boundary","border-boundary",1883783387),wI=new pi(null,"on-pointer-cancel-capture","on-pointer-cancel-capture",1416535291),yI=new pi(null,"on-touch-start","on-touch-start",447239419),bI=new pi(null,"primitive-units","primitive-units",179991803),xI=new pi(null,"main","main",-2117802661),_I=new pi(null,"grid-template-columns","grid-template-columns",-594112133),kI=new pi(null,"hierarchy","hierarchy",-1053470341),jI=new pi(null,"allow-transparency","allow-transparency",-912588389),OI=new pi(null,"calc-mode","calc-mode",1979119003),AI=new Ae(null,"catch","catch",-1616370245,null),EI=new pi(null,"border","border",1444987323),SI=new pi(null,"buffer-level","buffer-level",928864731),CI=new pi(null,"intra-block-nl","intra-block-nl",1808826875),DI=new pi(null,"required-features","required-features",-1798960645),MI=new pi(null,"attribute-type","attribute-type",1937706491),FI=new pi(null,"panel-2","panel-2",244198907),TI=new pi(null,"place-content","place-content",-395756037),NI=new pi(null,"group-fn","group-fn",129203707),BI=new pi(null,"column-rule-width","column-rule-width",-305318373),zI=new pi(null,"place-self","place-self",-639907301),PI=new pi(null,"text-space-trim","text-space-trim",566712859),$I=new pi(null,"border-bottom-color","border-bottom-color",-208763333),RI=new pi(null,"on-key-down","on-key-down",-1374733765),II=new pi(null,"body","body",-2049205669),LI=new pi(null,"marker-mid","marker-mid",-505338277),UI=new pi(null,"border-top","border-top",-158897573),qI=new pi(null,"disabled?","disabled?",-1523234181),HI=new pi(null,"tab","tab",-559583621),WI=new pi(null,"on-play","on-play",-188934501),GI=new pi(null,"v-ideographic","v-ideographic",-1846578533),YI=new pi(null,"connection-established","connection-established",-1403749733),VI=new pi(null,"selection","selection",975998651),JI=new pi(null,"separator","separator",-1628749125),XI=new pi(null,"signal","signal",-1984951589),KI=new Ae(null,"meta27282","meta27282",-1790143781,null),ZI=new pi(null,"flags","flags",1775418075),QI=new pi(null,"wrapfn","wrapfn",-1467295013),nL=new pi(null,"column-rule-color","column-rule-color",525397723),tL=new pi(null,"alt-impl","alt-impl",670969595),eL=new Ae(null,"meta19538","meta19538",429372187,null),rL=new pi(null,"overflow-y","overflow-y",-1436589285),iL=new pi(null,"border-radius","border-radius",419594011),lL=new pi(null,"mask-clip","mask-clip",-1874001061),uL=new Ae(null,"writer","writer",1362963291,null),aL=new pi(null,"nonce","nonce",564330331),oL=new pi(null,"time-element-parser","time-element-parser",-2042883205),sL=new pi(null,"ms","ms",-1152709733),cL=new pi(null,"XTTIP","XTTIP",586687387),fL=new pi(null,"controls-list","controls-list",-1884270693),hL=new pi(null,"OPTS","OPTS",-1358328901),dL=new pi(null,"marker-height","marker-height",631099323),pL=new pi(null,"on-suspend-capture","on-suspend-capture",726683611),gL=new pi(null,"pointer-events","pointer-events",-1053858853),mL=new pi(null,"doc","doc",1913296891),vL=new pi(null,"flex-basis","flex-basis",983188475),wL=new pi(null,"caption-side","caption-side",500795420),yL=new pi(null,"-webkit-align-items","-webkit-align-items",1515523100),bL=new pi(null,"fx","fx",-1237829572),xL=new pi(null,"original-obj","original-obj",-1134279620),_L=new pi(null,"on-cancel","on-cancel",-2071892932),kL=new pi(null,"margin-height","margin-height",-711398340),jL=new pi(null,"directive","directive",793559132),OL=new pi(null,"font-synthesis","font-synthesis",-2125674372),AL=new pi(null,"date-hour-minute-second","date-hour-minute-second",-1565419364),EL=new pi(null,"logical-block","logical-block",-581022564),SL=new pi(null,"polyline","polyline",-1731551044),CL=new pi(null,"touch-action","touch-action",-128660292),DL=new pi(null,"local","local",-1497766724),ML=new pi(null,"SPEC","SPEC",1682631868),FL=new pi(null,"stretch","stretch",-1888837380),TL=new pi(null,"break-after","break-after",-1075423972),NL=new pi(null,"frame-cb","frame-cb",-150079204),BL=new pi(null,"week-date-time-no-ms","week-date-time-no-ms",-1226853060),zL=new Ae("sp","ALL","sp/ALL",866840892,null),PL=new pi(null,"CFIELD","CFIELD",1814391132),$L=new pi(null,"filled","filled",1908725116),RL=new Ae(null,"updater","updater",2107748764,null),IL=new pi(null,"font-size-adjust","font-size-adjust",-104156772),LL=new pi(null,"text-group-align","text-group-align",1343931804),UL=new Ae(null,"p1__19588#","p1__19588#",818216348,null),qL=new pi(null,"overflow-inline","overflow-inline",442475964),HL=new pi(null,"last","last",1105735132),WL=new pi(null,"rad","rad",-833983012),GL=new pi(null,"download","download",-300081668),YL=new pi(null,"vconcat","vconcat",-2012274180),VL=new pi(null,"cite","cite",1909439996),JL=new pi(null,"k1","k1",952658428),XL=new Ae(null,"apply","apply",-1334050276,null),KL=new pi(null,"on-mouse-over-capture","on-mouse-over-capture",-19370468),ZL=new pi(null,"transition-duration","transition-duration",85784092),QL=new pi(null,"arg4","arg4",-831640004),nU=new pi(null,"border-bottom-right-radius","border-bottom-right-radius",414899772),tU=new pi(null,"k2","k2",1429301820),eU=new pi(null,"v-scroll","v-scroll",-1842185668),rU=new pi(null,"arg12","arg12",290681436),iU=new pi(null,"khz","khz",507119228),lU=new pi(null,"counter-increment","counter-increment",-181725540),uU=new pi(null,"below-right","below-right",1598040732),aU=new pi(null,"status-icon?","status-icon?",1328423612),oU=new pi(null,"text-emphasis","text-emphasis",-1264768324),sU=new pi(null,"auto","auto",-566279492),cU=new pi(null,"handler","handler",-195596612),fU=new Ae(null,"meta19641","meta19641",1798968028,null),hU=new pi(null,"base-frequency","base-frequency",694845148),dU=new pi(null,"keywordize-keys","keywordize-keys",1310784252),pU=new Ae("com.rpl.specter","ATOM","com.rpl.specter/ATOM",827730716,null),gU=new Ae(null,"meta19535","meta19535",308918044,null),mU=new pi(null,"tab-biden-implied","tab-biden-implied",1949066012),vU=new pi(null,"input-mode","input-mode",1777008412),wU=new Ae(null,"apath","apath",567854908,null),yU=new pi(null,"step","step",1288888124),bU=new Ae(null,"then-path","then-path",1949536092,null),xU=new pi(null,"MSGOP","MSGOP",-390383780),_U=new pi(null,"vec-strategy","vec-strategy",1843221372),kU=new pi(null,"font-variant-east-asian","font-variant-east-asian",-992331876),jU=new pi(null,"inline-link","inline-link",-927542372),OU=new pi(null,"LOFFSET","LOFFSET",1811499964),AU=new pi(null,"XGRID","XGRID",1293200413),EU=new pi(null,"NAME","NAME",-1127916515),SU=new pi(null,"scroll-snap-destination","scroll-snap-destination",157820989),CU=new pi(null,"signals","signals",1732137021),DU=new pi(null,"fid","fid",-1000551331),MU=new pi(null,"p","p",151049309),FU=new pi(null,"up-arrow","up-arrow",1705310333),TU=new pi(null,"decelerate","decelerate",1942059197),NU=new pi(null,"media","media",-1066138403),BU=new pi(null,"on-change-capture","on-change-capture",-862104355),zU=new pi(null,"Tu","Tu",-1088052995),PU=new Ae(null,"meta27669","meta27669",-2135875299,null),$U=new Ae(null,"meta19346","meta19346",-562450147,null),RU=new pi(null,"glyph-orientation-vertical","glyph-orientation-vertical",1701745981),IU=new Ae("com.rpl.specter","ALL-WITH-META","com.rpl.specter/ALL-WITH-META",-1161868995,null),LU=new pi(null,"margin-bottom","margin-bottom",388334941),UU=new pi(null,"outline-color","outline-color",-804747875),qU=new pi(null,"below","below",-926774883),HU=new pi(null,"on-focus-capture","on-focus-capture",1657084317),WU=new pi(null,"type-tag","type-tag",-1873863267),GU=new pi(null,"weeks","weeks",1844596125),YU=new Ae(null,"b","b",-1172211299,null),VU=new pi(null,"x2","x2",-1362513475),JU=new pi(null,"level1","level1",813811133),XU=new pi(null,"color-interpolation","color-interpolation",-1276247587),KU=new pi(null,"HOURS","HOURS",-1611068963),ZU=new pi(null,"animation-iteration-count","animation-iteration-count",-1410888227),QU=new pi(null,"map","map",1371690461),nq=new pi(null,"on-loaded-metadata-capture","on-loaded-metadata-capture",227905021),tq=new pi(null,"line-clamp","line-clamp",-1079334403),eq=new pi(null,"inset-inline","inset-inline",451063293),rq=new pi(null,"on-seeked","on-seeked",-1704740355),iq=new pi(null,"background-size","background-size",-1248630243),lq=new pi(null,"with-credentials","with-credentials",-1163127235),uq=new pi(null,"basic-date-time-no-ms","basic-date-time-no-ms",-899402179),aq=new pi(null,"scheme","scheme",90199613),oq=new pi(null,"visibility","visibility",1338380893),sq=new Ae(null,"meta19484","meta19484",1793565277,null),cq=new pi(null,"contextType","contextType",1033066077),fq=new pi(null,"ry","ry",-334598563),hq=new pi(null,"paragraph","paragraph",296707709),dq=new pi(null,"url-params","url-params",-697567619),pq=new pi(null,"filter-units","filter-units",185161373),gq=new pi(null,"grad","grad",1125187229),mq=new pi(null,"min-remaining","min-remaining",962687677),vq=new pi(null,"millis","millis",-1338288387),wq=new pi(null,"striped?","striped?",-797214979),yq=new pi(null,"i","i",-1386841315),bq=new pi(null,"test","test",577538877),xq=new pi(null,"gradient-units","gradient-units",-1502403779),_q=new pi(null,"on-pointer-up-capture","on-pointer-up-capture",-1370147011),kq=new Ae(null,"gap","gap",1720786781,null),jq=new pi(null,"rest","rest",-1241696419),Oq=new pi(null,"limiting-cone-angle","limiting-cone-angle",1429669757),Aq=new Ae(null,"meta19474","meta19474",650793853,null),Eq=new pi(null,"column-rule","column-rule",121487261),Sq=new Ae("com.rpl.specter","srange","com.rpl.specter/srange",-978851939,null),Cq=new pi(null,"enable-background","enable-background",-858721379),Dq=new pi(null,"VALDATA","VALDATA",-2071915587),Mq=new pi(null,"on-toggle-capture","on-toggle-capture",-983845955),Fq=new pi(null,"on-touch-end","on-touch-end",1515667389),Tq=new pi(null,"animation-fill-mode","animation-fill-mode",1637181373),Nq=new pi(null,"direction","direction",-633359395),Bq=new pi(null,"sink","sink",186835933),zq=new Ae(null,"keypath","keypath",-688901058,null),Pq=new pi(null,"sort","sort",953465918),$q=new Ae(null,"meta19686","meta19686",-1018690466,null),Rq=new pi(null,"href","href",-793805698),Iq=new pi(null,"padding-inline","padding-inline",1950626974),Lq=new pi(null,"profile","profile",-545963874),Uq=new Ae(null,"throw","throw",595905694,null),qq=new pi(null,"fill-opacity","fill-opacity",-537571170),Hq=new pi(null,"item-renderer","item-renderer",-743065410),Wq=new pi(null,"arg1","arg1",951899358),Gq=new Ae(null,"meta19626","meta19626",-850891554,null),Yq=new pi(null,"tooltip","tooltip",-1809677058),Vq=new pi(null,"blockquote","blockquote",372264190),Jq=new pi(null,"on-load-start-capture","on-load-start-capture",-2090509058),Xq=new pi(null,"required","required",1807647006),Kq=new pi(null,"border-block","border-block",930652446),Zq=new pi(null,"user-select","user-select",-346451650),Qq=new pi(null,"none","none",1333468478),nH=new pi(null,"unset","unset",-513298114),tH=new pi(null,"nl-t","nl-t",-1608382114),eH=new pi(null,"buffer","buffer",617295198),rH=new pi(null,"start-pos","start-pos",668789086),iH=new pi(null,"nav-down","nav-down",2124030334),lH=new pi(null,"img","img",1442687358),uH=new pi(null,"column-rule-style","column-rule-style",547990910),aH=new pi(null,"animation-name","animation-name",-302195330),oH=new pi(null,"font-synthesis-weight","font-synthesis-weight",-663710306),sH=new pi(null,"failed","failed",-1397425762),cH=new pi(null,"XAGG","XAGG",-1268983362),fH=new pi(null,"v-alphabetic","v-alphabetic",-552236578),hH=new pi(null,"specular-constant","specular-constant",-360693250),dH=new pi(null,"extfn","extfn",-1633614274),pH=new pi(null,"padding-block","padding-block",-1320144322),gH=new pi(null,"max-columns","max-columns",1742323262),mH=new pi(null,"offset-path","offset-path",-484883874),vH=new Ae(null,"meta19527","meta19527",1799989886,null),wH=new pi(null,"above-right","above-right",791010942),yH=new Ae(null,"meta19532","meta19532",-773714274,null),bH=new pi(null,"mysql","mysql",-1431590210),xH=new pi(null,"start-block-t","start-block-t",-373430594),_H=new Ae(null,"end-index-fn","end-index-fn",1237092062,null),kH=new pi(null,"pattern-units","pattern-units",-1273751842),jH=new pi(null,"grid-column","grid-column",-1086912770),OH=new Ae(null,"throbber","throbber",-256145634,null),AH=new pi(null,"exponentchar","exponentchar",1986664222),EH=new pi(null,"label-class","label-class",-2068991202),SH=new pi(null,"text-decoration-skip-spaces","text-decoration-skip-spaces",1013537566),CH=new pi(null,"a","a",-2123407586),DH=new pi(null,"font-family","font-family",-667419874),MH=new pi(null,"grid-auto-columns","grid-auto-columns",-1346990274),FH=new pi(null,"on-drag-exit-capture","on-drag-exit-capture",1830296414),TH=new pi(null,"xlink-actuate","xlink-actuate",1131107166),NH=new pi(null,"showing-injected?","showing-injected?",-105733250),BH=new Ae(null,"getter","getter",1725376382,null),zH=new Ae(null,"datepicker-dropdown","datepicker-dropdown",436086654,null),PH=new pi(null,"filter-text","filter-text",-381699202),$H=new Ae(null,"meta19541","meta19541",-1595572354,null),RH=new pi(null,"flex-direction","flex-direction",364609438),IH=new pi(null,"message","message",-406056002),LH=new pi(null,"view","view",1247994814),UH=new pi(null,"-webkit-flex-direction","-webkit-flex-direction",1024372702),qH=new pi(null,"range","range",1639692286),HH=new pi(null,"form-enc-type","form-enc-type",-1649098754),WH=new pi(null,"ulist","ulist",-2067795970),GH=new pi(null,"height","height",1025178622),YH=new pi(null,"spacing","spacing",204422175),VH=new pi(null,"end-block-t","end-block-t",1544648735),JH=new pi(null,"border-bottom","border-bottom",2110948415),XH=new pi(null,"spatial-navigation-contain","spatial-navigation-contain",591409215),KH=new pi(null,"marker-end","marker-end",341488703),ZH=new pi(null,"bind","bind",-113428417),QH=new pi(null,"on-drag-end-capture","on-drag-end-capture",36069439),nW=new pi(null,"row-gap","row-gap",-1809905537),tW=new pi(null,"row","row",-570139521),eW=new pi(null,"initial-split","initial-split",2072601727),rW=new pi(null,"border-start-start-radius","border-start-start-radius",520714431),iW=new pi(null,"OPACITY","OPACITY",-569485089),lW=new pi(null,"around","around",-265975553),uW=new pi(null,"basic-t-time","basic-t-time",191791391),aW=new pi(null,"mask-content-units","mask-content-units",-1147421409),oW=new pi(null,"in","in",-1531184865),sW=new pi(null,"clear","clear",1877104959),cW=new pi(null,"max-lines","max-lines",-125998785),fW=new pi(null,"left","left",-399115937),hW=new pi(null,"mask-origin","mask-origin",-1021931137),dW=new pi(null,"repeat-count","repeat-count",-274354817),pW=new pi(null,"pattern","pattern",242135423),gW=new pi(null,"overline-thickness","overline-thickness",-1687103105),mW=new pi("cljs.core","not-found","cljs.core/not-found",-1572889185),vW=new pi(null,"conns","conns",-1475268193),wW=new pi(null,"padding-inline-start","padding-inline-start",1837266335),yW=new Ae(null,"def","def",597100991,null),bW=new pi(null,"row-span","row-span",-365554241),xW=new pi(null,"default-year","default-year",1658037695),_W=new pi(null,"bpwait","bpwait",-1205340737),kW=new pi(null,"on-select-capture","on-select-capture",2093373951),jW=new pi(null,"TREEAS","TREEAS",1905744383),OW=new pi(null,"accept","accept",1874130431),AW=new pi(null,"counter-reset","counter-reset",1170260511),EW=new pi(null,"text","text",-1790561697),SW=new pi(null,"rm","rm",-1641953697),CW=new pi(null,"md","md",707286655),DW=new pi(null,"span","span",1394872991),MW=new pi(null,"show-today?","show-today?",513056415),FW=new pi(null,"on-drag-leave-capture","on-drag-leave-capture",-1751732545),TW=new pi(null,"to","to",192099007),NW=new pi(null,"paint-order","paint-order",1313558207),BW=new pi(null,"domainWidth","domainWidth",2049565375),zW=new Ae(null,"coll?","coll?",-1874821441,null),PW=new pi(null,"on-drag-end","on-drag-end",520272671),$W=new pi(null,"status-tooltip","status-tooltip",1912159007),RW=new pi(null,"flex-flow","flex-flow",544537375),IW=new pi(null,"border-image-width","border-image-width",-478445793),LW=new pi(null,"margin","margin",-995903681),UW=new pi(null,"data","data",-232669377),qW=new pi(null,"model","model",331153215),HW=new pi(null,"XAXIS","XAXIS",-191606945),WW=new pi(null,"stemh","stemh",1705215871),GW=new pi(null,"bookmark-level","bookmark-level",1133976447),YW=new pi(null,"justify-items","justify-items",1638310783),VW=new Ae(null,"d","d",-682293345,null),JW=new Ae(null,"popover-anchor-wrapper","popover-anchor-wrapper",1076206495,null),XW=new pi(null,"border-block-end-color","border-block-end-color",1571299231),KW=new Ae(null,"f","f",43394975,null),ZW=new Ae(null,"ALL","ALL",866837407,null),QW=new pi(null,"HCONCAT","HCONCAT",1725295519),nG=new Ae(null,"meta19754","meta19754",-407595073,null),tG=new pi(null,"commachar","commachar",652859327),eG=new Ae(null,"md-circle-icon-button","md-circle-icon-button",759968735,null),rG=new pi(null,"tooltip-style?","tooltip-style?",1188162527),iG=new pi(null,"attr","attr",-604132353),lG={};function uG(n,t,e){if(null!=n&&null!=n.Qf)n=n.Qf(n,t,e);else{var r=uG[s(null==n?null:n)];if(null!=r)n=r.j?r.j(n,t,e):r.call(null,n,t,e);else{if(null==(r=uG._))throw Hn("AjaxImpl.-js-ajax-request",n);n=r.j?r.j(n,t,e):r.call(null,n,t,e)}}return n}function aG(n){if(null!=n&&null!=n.Uf)n=n.Uf(n);else{var t=aG[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=aG._))throw Hn("AjaxResponse.-status",n);n=t.g?t.g(n):t.call(null,n)}}return n}function oG(n){if(null!=n&&null!=n.Vf)n=n.Vf(n);else{var t=oG[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=oG._))throw Hn("AjaxResponse.-status-text",n);n=t.g?t.g(n):t.call(null,n)}}return n}function sG(n){if(null!=n&&null!=n.Sf)n=n.Sf(n);else{var t=sG[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=sG._))throw Hn("AjaxResponse.-get-all-headers",n);n=t.g?t.g(n):t.call(null,n)}}return n}function cG(n){if(null!=n&&null!=n.Rf)n=n.Rf(n);else{var t=cG[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=cG._))throw Hn("AjaxResponse.-body",n);n=t.g?t.g(n):t.call(null,n)}}return n}function fG(n){if(null!=n&&null!=n.Tf)n=n.Tf(n,"Content-Type");else{var t=fG[s(null==n?null:n)];if(null!=t)n=t.a?t.a(n,"Content-Type"):t.call(null,n,"Content-Type");else{if(null==(t=fG._))throw Hn("AjaxResponse.-get-response-header",n);n=t.a?t.a(n,"Content-Type"):t.call(null,n,"Content-Type")}}return n}function hG(n){if(null!=n&&null!=n.Wf)n=n.Wf(n);else{var t=hG[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=hG._))throw Hn("AjaxResponse.-was-aborted",n);n=t.g?t.g(n):t.call(null,n)}}return n}function dG(n,t){if(null!=n&&null!=n.ee)n=n.ee(n,t);else{var e=dG[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=dG._))throw Hn("Interceptor.-process-request",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function pG(n,t){if(null!=n&&null!=n.fe)n=n.fe(n,t);else{var e=pG[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=pG._))throw Hn("Interceptor.-process-response",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function gG(n){throw Error(ii.g(n))}var mG=new ba(null,new ku(null,7,[206,null,204,null,304,null,1223,null,201,null,202,null,200,null],null),null);function vG(n,t,e){var r=zn(t.ignoreCase)?"gi":"g";return r=zn(t.multiline)?[r,"m"].join(""):r,n.replace(new RegExp(t.source,zn(t.Pk)?[r,"u"].join(""):r),e)}function wG(n,t,e){if("string"==typeof t)return n.replace(new RegExp(String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),e);if(t instanceof RegExp)return vG(n,t,"string"==typeof e?e:function(n){return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=wl(2,t),Ne.a(hr(t),1)?(t=Me(t),n.g?n.g(t):n.call(null,t)):(t=nu(t),n.g?n.g(t):n.call(null,t))}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}(e));throw["Invalid match arg: ",ii.g(t)].join("")}function yG(n,t){var e=new cn;for(t=De(t);;){if(null==t)return e.toString();e.append(ii.g(Me(t))),null!=(t=Te(t))&&e.append(n)}}function bG(n,t){return xG(n,t,0)}function xG(n,t,e){if("/(?:)/"===ii.g(t))t=function(n,t){return 0>=t||t>=2+hr(n)?cr.a(nu(di("",pl.a(ii,De(n)))),""):zn(ri?Pt(1,t):ei.call(null,1,t))?new Xl(null,1,5,Kl,[n],null):zn(ri?Pt(2,t):ei.call(null,2,t))?new Xl(null,2,5,Kl,["",n],null):(t-=2,cr.a(nu(di("",lu(nu(pl.a(ii,De(n))),0,t))),n.substring(t)))}(n,e);else if(1>e)t=nu(ii.g(n).split(t));else n:for(var r=e,i=Zl;;){if(1===r){t=cr.a(i,n);break n}var l=Ra(t,n);if(null==l){t=cr.a(i,n);break n}var u=n.indexOf(l);l=n.substring(u+hr(l)),--r,i=cr.a(i,n.substring(0,u)),n=l}if(0===e&&1<hr(t))n:for(e=t;""===(null==e?null:kt(e));)e=null==e?null:jt(e);else e=t;return e}function _G(n){return n instanceof pi?Ea(n):n}var kG=encodeURIComponent;function jG(n){var t=pr(n,0);return n=pr(n,1),[ii.g(_G(t)),"=",ii.g(kG.g?kG.g(n):kG.call(null,n))].join("")}function OG(n){return function(n){return function(t,e){return new Xl(null,2,5,Kl,[n.g?n.g(t):n.call(null,t),e],null)}}(function(){var t=zn(n)?n:rC;switch(t=t instanceof pi?t.qa:null){case"java":return function(){return null};case"rails":return function(){return""};case"indexed":return Gr;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}())}function AG(n,t){var e=pr(t,0);t=pr(t,1);var r=_G(e);return r=function n(t,e){return function(r){var i=pr(r,0);r=pr(r,1);var l=_G(i);return i=zn(e)?zn(i)?[ii.g(e),"[",ii.g(l),"]"].join(""):e:l,l=n(t,i),"string"==typeof r?new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[i,r],null)],null):r instanceof pi?new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[i,Ea(r)],null)],null):Er(r)?Ol(l,ur([De(r)])):Ar(r)||Or(r)?Ol(l,ur([ol(t,De(r))])):new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[i,r],null)],null)}}(n,e=zn(null)?zn(e)?[ii.g(null),"[",ii.g(r),"]"].join(""):null:r),"string"==typeof t?new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[e,t],null)],null):t instanceof pi?new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[e,Ea(t)],null)],null):Er(t)?Ol(r,ur([De(t)])):Ar(t)||Or(t)?Ol(r,ur([ol(n,De(t))])):new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[e,t],null)],null)}function EG(n,t){return yG("&",pl.a(jG,AG(OG(n),new Xl(null,2,5,Kl,[null,t],null))))}function SG(n){return function(t){return yG("&",pl.a(jG,AG(OG(n),new Xl(null,2,5,Kl,[null,t],null))))}}function CG(n){return n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,n=gr.a(n,_U),new ku(null,2,[WE,SG(n),dB,"application/x-www-form-urlencoded; charset=utf-8"],null)}var DG=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],3<e.length?new lr(e.slice(3),0,null):null)};function MG(n){return yG(", ","string"==typeof n?new Xl(null,1,5,Kl,[n],null):n)}function FG(n,t,e,r,i,l){this.read=n,this.description=t,this.Ic=e,this.o=r,this.h=i,this.G=l,this.B=2230716170,this.U=139264}function TG(n){var t=vr.l(n,Jp,ur([Vo,dB]));return t=Sr(n)?Dl.a(ju,t):t,new FG(Jp.g(n),Vo.g(n),dB.g(n),null,Ii(t),null)}function NG(n,t,e){this.o=n,this.h=t,this.G=e,this.B=2230716170,this.U=139264}function BG(n,t,e){this.o=n,this.h=t,this.G=e,this.B=2230716170,this.U=139264}function zG(n,t,e){this.o=n,this.h=t,this.G=e,this.B=2230716170,this.U=139264}DG.l=function(n,t,e,r){return new Xl(null,2,5,Kl,[!1,Hr(cr,new ku(null,3,[zM,n,Db,t,Nm,e],null),pl.a(nu,Tl(2,2,r)))],null)},DG.R=3,DG.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);return e=Me(r),r=Te(r),this.l(t,n,e,r)},(i=FG.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"read":return this.read;case"description":return this.description;case"content-type":return this.Ic;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ee=function(n,t){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,gr.a(n,dB),n=null!=this&&(64&this.B||An===this.ja)?Pi.a(sa,this):this;var e=gr.a(n,dB);return $l(t,iE,(function(n){return ma.l(ur([new ku(null,1,["Accept",MG(e)],null),zn(n)?n:ju]))}))},i.fe=function(n,t){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,gr.a(n,Jp),n=null!=this&&(64&this.B||An===this.ja)?Pi.a(sa,this):this;var e=gr.a(n,Jp);try{var r=aG(t),i=al.a(DG,r);switch(r){case 0:return i.a?i.a("Request failed.",sH):i.call(null,"Request failed.",sH);case-1:return zn(hG(t))?i.a?i.a("Request aborted by client.",Ox):i.call(null,"Request aborted by client.",Ox):i.a?i.a("Request timed out.",yR):i.call(null,"Request timed out.",yR);case 204:case 205:return new Xl(null,2,5,Kl,[!0,null],null);default:try{var l=e.g?e.g(t):e.call(null,t);if($r(mG,r))return new Xl(null,2,5,Kl,[!0,l],null);var u=oG(t);return i.aa?i.aa(u,uP,Ao,l):i.call(null,u,uP,Ao,l)}catch(e){if(e instanceof Object){l=e,i=Kl;var a=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,o=gr.a(a,Vo),s=new ku(null,3,[zM,r,Nm,uP,Ao,null],null),c=[ii.g(l.message),"  Format should have been ",ii.g(o)].join(""),f=mr.l(s,Db,c,ur([Nm,qT,Cd,cG(t)]));return new Xl(null,2,5,i,[!1,$r(mG,r)?f:mr.l(s,Db,oG(t),ur([HO,f]))],null)}throw e}}}catch(n){if(n instanceof Object)return DG.l(0,(l=n).message,BP,ur([BP,l]));throw n}},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#ajax.interceptors.ResponseFormat{",", ","}",e,Si.a(new Xl(null,3,5,Kl,[new Xl(null,2,5,Kl,[Jp,this.read],null),new Xl(null,2,5,Kl,[Vo,this.description],null),new Xl(null,2,5,Kl,[dB,this.Ic],null)],null),this.h))},i.Ca=function(){return new gu(this,3,new Xl(null,3,5,Kl,[Jp,Vo,dB],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new FG(this.read,this.description,this.Ic,this.o,this.h,this.G)},i.na=function(){return 3+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-2103965186^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.read,t.read)&&Ne.a(this.description,t.description)&&Ne.a(this.Ic,t.Ic)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,3,[Vo,null,Jp,null,dB,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new FG(this.read,this.description,this.Ic,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(Jp,t):gi.call(null,Jp,t))?new FG(e,this.description,this.Ic,this.o,this.h,null):zn(gi.a?gi.a(Vo,t):gi.call(null,Vo,t))?new FG(this.read,e,this.Ic,this.o,this.h,null):zn(gi.a?gi.a(dB,t):gi.call(null,dB,t))?new FG(this.read,this.description,e,this.o,this.h,null):new FG(this.read,this.description,this.Ic,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,3,5,Kl,[new yu(Jp,this.read,null),new yu(Vo,this.description,null),new yu(dB,this.Ic,null)],null),this.h))},i.Y=function(n,t){return new FG(this.read,this.description,this.Ic,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=NG.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return gr.j(this.h,t,e)},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ee=function(n,t){n=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,gr.a(n,f$),gr.a(n,Hv);var e=gr.a(n,vf),r=gr.a(n,Zx);t=gr.a(n,iE);var i=Er(e)?e:e instanceof pi?gG(new Xl(null,2,5,Kl,["keywords are not allowed as request formats in ajax calls: ",e],null)):zr(e)?new ku(null,2,[WE,e,dB,"text/plain"],null):ju;i=null!=i&&(64&i.B||An===i.ja)?Pi.a(sa,i):i;var l=gr.a(i,WE);return i=gr.a(i,dB),e=null!=l?l.g?l.g(r):l.call(null,r):gG(new Xl(null,2,5,Kl,["unrecognized request format: ",e],null)),t=zn(t)?t:ju,mr.l(n,II,e,ur([iE,zn(i)?mr.j(t,"Content-Type",MG(i)):t]))},i.fe=function(n,t){return t},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#ajax.interceptors.ApplyRequestFormat{",", ","}",e,Si.a(Zl,this.h))},i.Ca=function(){return new gu(this,0,Zl,zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new NG(this.o,this.h,this.G)},i.na=function(){return 0+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1698259290^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(xa,t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new NG(this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return new NG(this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(Zl,this.h))},i.Y=function(n,t){return new NG(t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=BG.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return gr.j(this.h,t,e)},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ee=function(n,t){return n=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,t=gr.a(n,Hv),t=Ne.a(t,"GET")?Ge:Gr,n=$l(n,f$,function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,_U),e=gr.a(n,Zx),r=gr.a(n,Hv),i=gr.a(n,dq);return function(n){var l=Ne.a(r,"GET")&&null==i?e:i;return zn(l)?[ii.g(n),zn(Ra(/\?/,n))?"&":"?",EG(t,l)].join(""):n}}(n)),t.g?t.g(n):t.call(null,n)},i.fe=function(n,t){return t},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#ajax.interceptors.ProcessUrlParameters{",", ","}",e,Si.a(Zl,this.h))},i.Ca=function(){return new gu(this,0,Zl,zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new BG(this.o,this.h,this.G)},i.na=function(){return 0+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-516728758^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(xa,t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new BG(this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return new BG(this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(Zl,this.h))},i.Y=function(n,t){return new BG(t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=zG.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){return gr.j(this.h,t,e)},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ee=function(n,t){return n=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,null==gr.a(n,II)?n:Ge(n)},i.fe=function(n,t){return t},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#ajax.interceptors.DirectSubmission{",", ","}",e,Si.a(Zl,this.h))},i.Ca=function(){return new gu(this,0,Zl,zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new zG(this.o,this.h,this.G)},i.na=function(){return 0+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1077152635^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(xa,t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new zG(this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return new zG(this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(Zl,this.h))},i.Y=function(n,t){return new zG(t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)};var PG=new Xl(null,3,5,Kl,[new BG(null,null,null),new zG(null,null,null),new NG(null,null,null)],null);var $G,RG=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function IG(n,t){return null==t||Er(t)?t:Cr(t)?IG(n,or(t)):t.g?t.g(n):t.call(null,n)}function LG(n,t){return null==(n=Cr(t)?Me(t):dB.g(IG(n,t)))?new Xl(null,1,5,Kl,["*/*"],null):"string"==typeof n?new Xl(null,1,5,Kl,[n],null):n}function UG(n,t){return function(e){return e=LG(t,e),rl(function(n){return function(t){return Ne.a(t,"*/*")||0<=n.indexOf(t)}}(n),e)}}function qG(n){return function(t){var e=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,r=gr.a(e,Sb),i=fG(t);return e=IG(e,Me(El(UG(zn(i)?i:"",e),r))),(e=Jp.g(e)).g?e.g(t):e.call(null,t)}}function HG(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,Sb);return t=Cr(e)?Ol(function(n){return function(t){return null==(t=Cr(t)?Me(t):dB.g(IG(n,t)))?new Xl(null,1,5,Kl,["*/*"],null):"string"==typeof t?new Xl(null,1,5,Kl,[t],null):t}}(t),ur([e])):LG(t,e),TG(new ku(null,3,[Jp,qG(n),vf,["(from ",ii.g(t),")"].join(""),dB,t],null))}function WG(n,t){return zn(n)?[ii.g(n),", ",ii.g(t)].join(""):t}function GG(n){return zn(n)?Hr((function(n,t){return R(t)?n:function(n,t,e){var r,i=WG;return mr.j(n,t,(r=gr.a(n,t),i.a?i.a(r,e):i.call(null,r,e)))}(n,(t=en(t,": ",2))[0],t[1])}),ju,n.split("\r\n")):ju}if(RG.L=function(){return TG(new ku(null,3,[Jp,cG,Vo,"raw text",dB,new Xl(null,1,5,Kl,["*/*"],null)],null))},RG.g=function(){return RG.L()},RG.R=1,void 0!==l&&void 0!==u&&void 0!==u.XMLHttpRequest)$G=u.XMLHttpRequest;else{$G=(e(12).g?e(12).g("xmlhttprequest"):e(12).call(null,"xmlhttprequest")).XMLHttpRequest}(i=$G.prototype).Qf=function(n,t,e){var r=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,i=gr.a(r,f$),l=gr.a(r,Hv);n=gr.a(r,II),t=gr.a(r,iE);var u=gr.j(r,yR,0),a=gr.j(r,lq,!1);r=gr.a(r,Sb);var o=this;for(o.withCredentials=a,o.onreadystatechange=function(n){return Ne.a(ZM,function(n){n=n.target.readyState;var t=new ku(null,6,[0,Lg,1,YI,2,mk,3,Vx,4,ZM,FO,!0],null);return t.g?t.g(n):t.call(null,n)}(n))?e.g?e.g(o):e.call(null,o):null},o.open(l,i,!0),o.timeout=u,zn(i=ak.g(r))&&(o.responseType=Ea(i)),t=De(t),i=null,u=l=0;;)if(u<l)a=pr(r=i.Aa(null,u),0),r=pr(r,1),o.setRequestHeader(a,r),u+=1;else{if(!(t=De(t)))break;Dr(t)?(l=le(t),t=ue(t),i=l,l=hr(l)):(i=pr(l=Me(t),0),l=pr(l,1),o.setRequestHeader(i,l),t=Te(t),i=null,l=0),u=0}return o.send(zn(n)?n:""),o},i.Rf=function(){return this.response},i.Uf=function(){return this.status},i.Vf=function(){return this.statusText},i.Sf=function(){return GG(this.getAllResponseHeaders())},i.Tf=function(n,t){return this.getResponseHeader(t)},i.Wf=function(){return Ne.a(0,this.readyState)};var YG={},VG=void 0!==Object.keys?function(n){return Object.keys(n)}:function(n){return E(n)},JG=void 0!==Array.isArray?function(n){return Array.isArray(n)}:function(n){return"array"===s(n)};function XG(){return Math.round(15*Math.random()).toString(16)}var KG=1;function ZG(n,t){if(null==n)return null==t;if(n===t)return!0;if("object"==typeof n){if(JG(n)){if(JG(t)&&n.length===t.length){for(var e=0;e<n.length;e++)if(!ZG(n[e],t[e]))return!1;return!0}return!1}if(n.xc)return n.xc(t);if(null!=t&&"object"==typeof t){if(t.xc)return t.xc(n);e=0;var r,i=VG(t).length;for(r in n)if(n.hasOwnProperty(r)&&(e++,!t.hasOwnProperty(r)||!ZG(n[r],t[r])))return!1;return e===i}}return!1}function QG(n,t){return n^t+2654435769+(n<<6)+(n>>2)}var nY={},tY=0;function eY(n){var t=0;if(null!=n.forEach)n.forEach((function(n,e){t=(t+(rY(e)^rY(n)))%4503599627370496}));else for(var e=VG(n),r=0;r<e.length;r++){var i=e[r],l=n[i];t=(t+(rY(i)^rY(l)))%4503599627370496}return t}function rY(n){if(null==n)return 0;switch(typeof n){case"number":return n;case"boolean":return!0===n?1:0;case"string":var t=nY[n];if(null!=t)n=t;else{for(var e=t=0;e<n.length;++e)t=31*t+n.charCodeAt(e),t%=4294967296;256<=++tY&&(nY={},tY=1),n=nY[n]=t}return n;case"function":return(t=n.transit$hashCode$)||(t=KG,void 0!==Object.defineProperty?Object.defineProperty(n,"transit$hashCode$",{value:t,enumerable:!1}):n.transit$hashCode$=t,KG++),t;default:return n instanceof Date?n.valueOf():JG(n)?function(n){var t=0;if(JG(n))for(var e=0;e<n.length;e++)t=QG(t,rY(n[e]));else n.forEach&&n.forEach((function(n){t=QG(t,rY(n))}));return t}(n):n.Hc?n.Hc():eY(n)}}var iY="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function lY(n,t){this.tag=n,this.Sa=t,this.zb=-1}function uY(n,t){return new lY(n,t)}lY.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.Sa+"]"},lY.prototype.equiv=function(n){return ZG(this,n)},lY.prototype.equiv=lY.prototype.equiv,lY.prototype.xc=function(n){return n instanceof lY&&(this.tag===n.tag&&ZG(this.Sa,n.Sa))},lY.prototype.Hc=function(){return-1===this.zb&&(this.zb=QG(rY(this.tag),rY(this.Sa))),this.zb};var aY=dn("9007199254740991"),oY=dn("-9007199254740991");function sY(n){this.Pb=n,this.zb=-1}function cY(n){this.Pb=n,this.zb=-1}function fY(n,t,e){var r="";e=e||t+1;for(var i=8*(7-t),l=new vn(255,0).shiftLeft(i);t<e;t++,i-=8,l=mn(l,8)){var u=mn(n.and(l),i).toString(16);1==u.length&&(u="0"+u),r+=u}return r}function hY(n,t){this.high=n,this.low=t,this.zb=-1}function dY(n,t){this.entries=n,this.type=t||0,this.Qa=0}function pY(n,t){this.map=n,this.type=t||0,this.keys=this.map.Uc(),this.Qa=0,this.sd=null,this.ld=0}function gY(n,t){if(n instanceof bY&&(t instanceof wY||t instanceof bY)){if(n.size!==t.size)return!1;for(var e in n.map)for(var r=n.map[e],i=0;i<r.length;i+=2)if(!ZG(r[i+1],t.get(r[i])))return!1;return!0}if(n instanceof wY&&(t instanceof wY||t instanceof bY)){if(n.size!==t.size)return!1;for(n=n.yb,i=0;i<n.length;i+=2)if(!ZG(n[i+1],t.get(n[i])))return!1;return!0}if(null!=t&&"object"==typeof t&&(e=(i=VG(t)).length,n.size===e)){for(r=0;r<e;r++){var l=i[r];if(!n.has(l)||!ZG(t[l],n.get(l)))return!1}return!0}return!1}function mY(n){return null==n?"null":"array"==s(n)?"["+n.toString()+"]":a(n)?'"'+n+'"':n.toString()}function vY(n){var t=0,e="TransitMap {";return n.forEach((function(r,i){e+=mY(i)+" => "+mY(r),t<n.size-1&&(e+=", "),t++})),e+"}"}function wY(n){this.yb=n,this.ob=null,this.zb=-1,this.size=n.length/2,this.Tg=0}function yY(n){if(n.ob)throw Error("Invalid operation, already converted");return!(8>n.size)&&(n.Tg++,32<n.Tg&&(n.ob=xY(n.yb,!1,!0),n.yb=[],!0))}function bY(n,t,e){this.map=t||{},this.Md=n||[],this.size=e||0,this.zb=-1}function xY(n,t,e){if(n=n||[],t=!1!==t||t,(!0!==e||!e)&&64>=n.length){if(t){var r=n;for(n=[],t=0;t<r.length;t+=2){var i=!1;for(e=0;e<n.length;e+=2)if(ZG(n[e],r[t])){n[e+1]=r[t+1],i=!0;break}i||(n.push(r[t]),n.push(r[t+1]))}}return new wY(n)}r={},i=[];var l=0;for(t=0;t<n.length;t+=2){var u=r[e=rY(n[t])];if(null==u)i.push(e),r[e]=[n[t],n[t+1]],l++;else{var a=!0;for(e=0;e<u.length;e+=2)if(ZG(u[e],n[t])){u[e+1]=n[t+1],a=!1;break}a&&(u.push(n[t]),u.push(n[t+1]),l++)}}return new bY(i,r,l)}function _Y(n){this.map=n,this.size=n.size}function kY(n){n=n||[];for(var t={},e=[],r=0,i=0;i<n.length;i++){var l=rY(n[i]),u=t[l];if(null==u)e.push(l),t[l]=[n[i],n[i]],r++;else{l=!0;for(var a=0;a<u.length;a+=2)if(ZG(u[a],n[i])){l=!1;break}l&&(u.push(n[i]),u.push(n[i]),r++)}}return new _Y(new bY(e,t,r))}function jY(n,t){return 3<n.length&&(!!t||(t=n.charAt(1),"~"===n.charAt(0)&&(":"===t||"$"===t||"#"===t)))}function OY(n){var t=Math.floor(n/44);return n=String.fromCharCode(n%44+48),0===t?"^"+n:"^"+String.fromCharCode(t+48)+n}function AY(){this.gi=this.se=this.Qa=0,this.cache={}}function EY(){this.Qa=0,this.cache=[]}function SY(n){this.lc=n}function CY(n){for(var t in this.options=n||{},this.handlers={},this.qe.handlers)this.handlers[t]=this.qe.handlers[t];for(t in this.options.handlers){n:{switch(t){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":n=!0;break n}n=!1}if(n)throw Error('Cannot override handler for ground type "'+t+'"');this.handlers[t]=this.options.handlers[t]}this.Bf=null!=this.options.preferStrings?this.options.preferStrings:this.qe.Bf,this.Hg=null!=this.options.preferBuffers?this.options.preferBuffers:this.qe.Hg,this.sg=this.options.defaultHandler||this.qe.sg,this.Dc=this.options.mapBuilder,this.Od=this.options.arrayBuilder}function DY(n,t){if("~"===t.charAt(0)){var e=t.charAt(1);if("~"===e||"^"===e||"`"===e)return t.substring(1);if("#"===e)return new SY(t.substring(2));var r=n.handlers[e];return null==r?n.sg(e,t.substring(2)):r(t.substring(2),n)}return t}function MY(n){this.vi=new CY(n)}function FY(n,t){this.$j=n,this.options=t||{},this.cache=this.options.cache?this.options.cache:new EY}vn.prototype.equiv=function(n){return ZG(this,n)},vn.prototype.equiv=vn.prototype.equiv,vn.prototype.xc=function(n){return n instanceof vn&&this.equals(n)},vn.prototype.Hc=function(){return this.Ab},sY.prototype.toString=function(){return":"+this.Pb},sY.prototype.namespace=function(){var n=this.Pb.indexOf("/");return-1!=n?this.Pb.substring(0,n):null},sY.prototype.name=function(){var n=this.Pb.indexOf("/");return-1!=n?this.Pb.substring(n+1,this.Pb.length):this.Pb},sY.prototype.equiv=function(n){return ZG(this,n)},sY.prototype.equiv=sY.prototype.equiv,sY.prototype.xc=function(n){return n instanceof sY&&this.Pb==n.Pb},sY.prototype.Hc=function(){return-1===this.zb&&(this.zb=rY(this.Pb)),this.zb},cY.prototype.namespace=function(){var n=this.Pb.indexOf("/");return-1!=n?this.Pb.substring(0,n):null},cY.prototype.name=function(){var n=this.Pb.indexOf("/");return-1!=n?this.Pb.substring(n+1,this.Pb.length):this.Pb},cY.prototype.toString=function(){return this.Pb},cY.prototype.equiv=function(n){return ZG(this,n)},cY.prototype.equiv=cY.prototype.equiv,cY.prototype.xc=function(n){return n instanceof cY&&this.Pb==n.Pb},cY.prototype.Hc=function(){return-1===this.zb&&(this.zb=rY(this.Pb)),this.zb},hY.prototype.toString=function(){var n=this.high,t=this.low,e=fY(n,0,4)+"-";return e+=fY(n,4,6)+"-",e+=fY(n,6,8)+"-",(e+=fY(t,0,2)+"-")+fY(t,2,8)},hY.prototype.equiv=function(n){return ZG(this,n)},hY.prototype.equiv=hY.prototype.equiv,hY.prototype.xc=function(n){return n instanceof hY&&this.high.equals(n.high)&&this.low.equals(n.low)},hY.prototype.Hc=function(){return-1===this.zb&&(this.zb=rY(this.toString())),this.zb},Date.prototype.xc=function(n){return n instanceof Date&&this.valueOf()===n.valueOf()},Date.prototype.Hc=function(){return this.valueOf()},dY.prototype.next=function(){if(this.Qa<this.entries.length){var n={value:0===this.type?this.entries[this.Qa]:1===this.type?this.entries[this.Qa+1]:[this.entries[this.Qa],this.entries[this.Qa+1]],done:!1};return this.Qa+=2,n}return{value:null,done:!0}},dY.prototype.next=dY.prototype.next,dY.prototype[iY]=function(){return this},pY.prototype.next=function(){if(this.Qa<this.map.size){null!=this.sd&&this.ld<this.sd.length||(this.sd=this.map.map[this.keys[this.Qa]],this.ld=0);var n={value:0===this.type?this.sd[this.ld]:1===this.type?this.sd[this.ld+1]:[this.sd[this.ld],this.sd[this.ld+1]],done:!1};return this.Qa++,this.ld+=2,n}return{value:null,done:!0}},pY.prototype.next=pY.prototype.next,pY.prototype[iY]=function(){return this},wY.prototype.toString=function(){return vY(this)},wY.prototype.inspect=function(){return this.toString()},wY.prototype.clear=function(){this.zb=-1,this.ob?this.ob.clear():this.yb=[],this.size=0},wY.prototype.clear=wY.prototype.clear,wY.prototype.keys=function(){return this.ob?this.ob.keys():new dY(this.yb,0)},wY.prototype.keys=wY.prototype.keys,wY.prototype.zd=function(){if(this.ob)return this.ob.zd();for(var n=[],t=0,e=0;e<this.yb.length;t++,e+=2)n[t]=this.yb[e];return n},wY.prototype.keySet=wY.prototype.zd,wY.prototype.entries=function(){return this.ob?this.ob.entries():new dY(this.yb,2)},wY.prototype.entries=wY.prototype.entries,wY.prototype.values=function(){return this.ob?this.ob.values():new dY(this.yb,1)},wY.prototype.values=wY.prototype.values,wY.prototype.forEach=function(n){if(this.ob)this.ob.forEach(n);else for(var t=0;t<this.yb.length;t+=2)n(this.yb[t+1],this.yb[t])},wY.prototype.forEach=wY.prototype.forEach,wY.prototype.get=function(n,t){if(this.ob)return this.ob.get(n);if(yY(this))return this.get(n);for(var e=0;e<this.yb.length;e+=2)if(ZG(this.yb[e],n))return this.yb[e+1];return t},wY.prototype.get=wY.prototype.get,wY.prototype.has=function(n){if(this.ob)return this.ob.has(n);if(yY(this))return this.has(n);for(var t=0;t<this.yb.length;t+=2)if(ZG(this.yb[t],n))return!0;return!1},wY.prototype.has=wY.prototype.has,wY.prototype.set=function(n,t){if(this.zb=-1,this.ob)this.ob.set(n,t),this.size=this.ob.size;else{for(var e=0;e<this.yb.length;e+=2)if(ZG(this.yb[e],n))return void(this.yb[e+1]=t);this.yb.push(n),this.yb.push(t),this.size++,32<this.size&&(this.ob=xY(this.yb,!1,!0),this.yb=null)}},wY.prototype.set=wY.prototype.set,wY.prototype.delete=function(n){if(this.zb=-1,this.ob)return n=this.ob.delete(n),this.size=this.ob.size,n;for(var t=0;t<this.yb.length;t+=2)if(ZG(this.yb[t],n))return n=this.yb[t+1],this.yb.splice(t,2),this.size--,n},wY.prototype.clone=function(){var n=xY();return this.forEach((function(t,e){n.set(e,t)})),n},wY.prototype.clone=wY.prototype.clone,wY.prototype[iY]=function(){return this.entries()},wY.prototype.Hc=function(){return this.ob?this.ob.Hc():(-1===this.zb&&(this.zb=eY(this)),this.zb)},wY.prototype.xc=function(n){return this.ob?gY(this.ob,n):gY(this,n)},bY.prototype.toString=function(){return vY(this)},bY.prototype.inspect=function(){return this.toString()},bY.prototype.clear=function(){this.zb=-1,this.map={},this.Md=[],this.size=0},bY.prototype.clear=bY.prototype.clear,bY.prototype.Uc=function(){return null!=this.Md?this.Md:VG(this.map)},bY.prototype.delete=function(n){this.zb=-1,this.Md=null;for(var t=rY(n),e=this.map[t],r=0;r<e.length;r+=2)if(ZG(n,e[r]))return n=e[r+1],e.splice(r,2),0===e.length&&delete this.map[t],this.size--,n},bY.prototype.entries=function(){return new pY(this,2)},bY.prototype.entries=bY.prototype.entries,bY.prototype.forEach=function(n){for(var t=this.Uc(),e=0;e<t.length;e++)for(var r=this.map[t[e]],i=0;i<r.length;i+=2)n(r[i+1],r[i],this)},bY.prototype.forEach=bY.prototype.forEach,bY.prototype.get=function(n,t){var e=rY(n);if(null==(e=this.map[e]))return t;for(t=0;t<e.length;t+=2)if(ZG(n,e[t]))return e[t+1]},bY.prototype.get=bY.prototype.get,bY.prototype.has=function(n){var t=rY(n);if(null!=(t=this.map[t]))for(var e=0;e<t.length;e+=2)if(ZG(n,t[e]))return!0;return!1},bY.prototype.has=bY.prototype.has,bY.prototype.keys=function(){return new pY(this,0)},bY.prototype.keys=bY.prototype.keys,bY.prototype.zd=function(){for(var n=this.Uc(),t=[],e=0;e<n.length;e++)for(var r=this.map[n[e]],i=0;i<r.length;i+=2)t.push(r[i]);return t},bY.prototype.keySet=bY.prototype.zd,bY.prototype.set=function(n,t){this.zb=-1;var e=rY(n),r=this.map[e];if(null==r)this.Md&&this.Md.push(e),this.map[e]=[n,t],this.size++;else{e=!0;for(var i=0;i<r.length;i+=2)if(ZG(t,r[i])){e=!1,r[i]=t;break}e&&(r.push(n),r.push(t),this.size++)}},bY.prototype.set=bY.prototype.set,bY.prototype.values=function(){return new pY(this,1)},bY.prototype.values=bY.prototype.values,bY.prototype.clone=function(){var n=xY();return this.forEach((function(t,e){n.set(e,t)})),n},bY.prototype.clone=bY.prototype.clone,bY.prototype[iY]=function(){return this.entries()},bY.prototype.Hc=function(){return-1===this.zb&&(this.zb=eY(this)),this.zb},bY.prototype.xc=function(n){return gY(this,n)},_Y.prototype.toString=function(){return function(n){var t=0,e="TransitSet {";return n.forEach((function(r){e+=mY(r),t<n.size-1&&(e+=", "),t++})),e+"}"}(this)},_Y.prototype.inspect=function(){return this.toString()},_Y.prototype.add=function(n){this.map.set(n,n),this.size=this.map.size},_Y.prototype.add=_Y.prototype.add,_Y.prototype.clear=function(){this.map=new bY,this.size=0},_Y.prototype.clear=_Y.prototype.clear,_Y.prototype.delete=function(n){return n=this.map.delete(n),this.size=this.map.size,n},_Y.prototype.entries=function(){return this.map.entries()},_Y.prototype.entries=_Y.prototype.entries,_Y.prototype.forEach=function(n){var t=this;this.map.forEach((function(e,r){n(r,t)}))},_Y.prototype.forEach=_Y.prototype.forEach,_Y.prototype.has=function(n){return this.map.has(n)},_Y.prototype.has=_Y.prototype.has,_Y.prototype.keys=function(){return this.map.keys()},_Y.prototype.keys=_Y.prototype.keys,_Y.prototype.zd=function(){return this.map.zd()},_Y.prototype.keySet=_Y.prototype.zd,_Y.prototype.values=function(){return this.map.values()},_Y.prototype.values=_Y.prototype.values,_Y.prototype.clone=function(){var n=kY();return this.forEach((function(t){n.add(t)})),n},_Y.prototype.clone=_Y.prototype.clone,_Y.prototype[iY]=function(){return this.values()},_Y.prototype.xc=function(n){return n instanceof _Y&&(this.size===n.size?ZG(this.map,n.map):void 0)},_Y.prototype.Hc=function(){return rY(this.map)},AY.prototype.write=function(n,t){return jY(n,t)?(4096===this.gi?(this.clear(),this.se=0,this.cache={}):1936===this.Qa&&this.clear(),null==(t=this.cache[n])?(this.cache[n]=[OY(this.Qa),this.se],this.Qa++,n):t[1]!=this.se?(t[1]=this.se,t[0]=OY(this.Qa),this.Qa++,n):t[0]):n},AY.prototype.clear=function(){this.Qa=0,this.se++},EY.prototype.write=function(n){return 1936==this.Qa&&(this.Qa=0),this.cache[this.Qa]=n,this.Qa++,n},EY.prototype.read=function(n){return this.cache[2===n.length?n.charCodeAt(1)-48:44*(n.charCodeAt(1)-48)+(n.charCodeAt(2)-48)]},EY.prototype.clear=function(){this.Qa=0},CY.prototype.qe={handlers:{_:function(){return null},"?":function(n){return"t"===n},b:function(n,t){if(t&&!1===t.Hg||void 0===u.Of)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var e=atob(n);else{if(1==(n=String(n).replace(/=+$/,"")).length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");t=0;for(var r,i=0,l="";r=n.charAt(i++);~r&&(e=t%4?64*e+r:r,t++%4)?l+=String.fromCharCode(255&e>>(-2*t&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);e=l}for(n=e.length,t=new Uint8Array(n),r=0;r<n;r++)t[r]=e.charCodeAt(r);e=t}else e=uY("b",n);else e=new u.Of(n,"base64");return e},i:function(n){return"number"==typeof n||n instanceof vn||(n=0<(n=dn(n,10)).compare(aY)||0>n.compare(oY)?n:n.toNumber()),n},n:function(n){return uY("n",n)},d:function(n){return parseFloat(n)},f:function(n){return uY("f",n)},c:function(n){return n},":":function(n){return new sY(n)},$:function(n){return new cY(n)},r:function(n){return uY("r",n)},z:function(n){n:switch(n){case"-INF":n=-1/0;break n;case"INF":n=1/0;break n;case"NaN":n=NaN;break n;default:throw Error("Invalid special double value "+n)}return n},"'":function(n){return n},m:function(n){return n="number"==typeof n?n:parseInt(n,10),new Date(n)},t:function(n){return new Date(n)},u:function(n){var t,e;n=n.replace(/-/g,"");var r=t=0;for(e=24;8>r;r+=2,e-=8)t|=parseInt(n.substring(r,r+2),16)<<e;var i=0;for(r=8,e=24;16>r;r+=2,e-=8)i|=parseInt(n.substring(r,r+2),16)<<e;var l=fn(i,t);for(t=0,r=16,e=24;24>r;r+=2,e-=8)t|=parseInt(n.substring(r,r+2),16)<<e;for(i=0,e=r=24;32>r;r+=2,e-=8)i|=parseInt(n.substring(r,r+2),16)<<e;return new hY(l,fn(i,t))},set:function(n){return kY(n)},list:function(n){return uY("list",n)},link:function(n){return uY("link",n)},cmap:function(n){return xY(n,!1)}},sg:function(n,t){return uY(n,t)},Bf:!0,Hg:!0},CY.prototype.decode=function(n,t,e,r){if(null==n)return null;switch(typeof n){case"string":return jY(n,e)?(n=DY(this,n),t&&t.write(n,e),t=n):t="^"===n.charAt(0)&&" "!==n.charAt(1)?t.read(n,e):DY(this,n),t;case"object":if(JG(n))if("^ "===n[0])if(this.Dc)if(17>n.length&&this.Dc.xd){for(r=[],e=1;e<n.length;e+=2)r.push(this.decode(n[e],t,!0,!1)),r.push(this.decode(n[e+1],t,!1,!1));t=this.Dc.xd(r,n)}else{for(r=this.Dc.init(n),e=1;e<n.length;e+=2)r=this.Dc.add(r,this.decode(n[e],t,!0,!1),this.decode(n[e+1],t,!1,!1),n);t=this.Dc.finalize(r,n)}else{for(r=[],e=1;e<n.length;e+=2)r.push(this.decode(n[e],t,!0,!1)),r.push(this.decode(n[e+1],t,!1,!1));t=xY(r,!1)}else t=function(n,t,e,r,i){if(i){var l=[];for(i=0;i<t.length;i++)l.push(n.decode(t[i],e,r,!1));return l}if(l=e&&e.Qa,2===t.length&&"string"==typeof t[0]&&(i=n.decode(t[0],e,!1,!1))&&i instanceof SY)return t=t[1],null!=(l=n.handlers[i.lc])?l=l(n.decode(t,e,r,!0),n):uY(i.lc,n.decode(t,e,r,!1));if(e&&l!=e.Qa&&(e.Qa=l),n.Od){if(32>=t.length&&n.Od.xd){for(l=[],i=0;i<t.length;i++)l.push(n.decode(t[i],e,r,!1));return n.Od.xd(l,t)}for(l=n.Od.init(t),i=0;i<t.length;i++)l=n.Od.add(l,n.decode(t[i],e,r,!1),t);return n.Od.finalize(l,t)}for(l=[],i=0;i<t.length;i++)l.push(n.decode(t[i],e,r,!1));return l}(this,n,t,e,r);else{var i=(e=VG(n))[0];if((r=1==e.length?this.decode(i,t,!1,!1):null)&&r instanceof SY)n=n[i],t=null!=(e=this.handlers[r.lc])?e(this.decode(n,t,!1,!0),this):uY(r.lc,this.decode(n,t,!1,!1));else if(this.Dc)if(16>e.length&&this.Dc.xd){var l=[];for(r=0;r<e.length;r++)i=e[r],l.push(this.decode(i,t,!0,!1)),l.push(this.decode(n[i],t,!1,!1));t=this.Dc.xd(l,n)}else{for(l=this.Dc.init(n),r=0;r<e.length;r++)i=e[r],l=this.Dc.add(l,this.decode(i,t,!0,!1),this.decode(n[i],t,!1,!1),n);t=this.Dc.finalize(l,n)}else{for(l=[],r=0;r<e.length;r++)i=e[r],l.push(this.decode(i,t,!0,!1)),l.push(this.decode(n[i],t,!1,!1));t=xY(l,!1)}}return t}return n},CY.prototype.decode=CY.prototype.decode,FY.prototype.read=function(n){var t=this.cache;return n=this.$j.vi.decode(JSON.parse(n),t),this.cache.clear(),n},FY.prototype.read=FY.prototype.read;var TY=0,NY=(8|3&Math.round(14*Math.random())).toString(16),BY="transit$guid$"+(XG()+XG()+XG()+XG()+XG()+XG()+XG()+XG())+"-"+XG()+XG()+XG()+XG()+"-4"+XG()+XG()+XG()+"-"+NY+XG()+XG()+XG()+"-"+XG()+XG()+XG()+XG()+XG()+XG()+XG()+XG()+XG()+XG()+XG()+XG();function zY(n){if(null==n)return"null";if(n===String)return"string";if(n===Boolean)return"boolean";if(n===Number)return"number";if(n===Array)return"array";if(n===Object)return"map";var t=n[BY];return null==t&&(void 0!==Object.defineProperty?(t=++TY,Object.defineProperty(n,BY,{value:t,enumerable:!1})):n[BY]=t=++TY),t}function PY(n,t){for(var e=(n=n.toString()).length;e<t;e++)n="0"+n;return n}function $Y(){}function RY(){}function IY(){}function LY(){}function UY(){}function qY(){}function HY(){}function WY(){}function GY(){}function YY(){}function VY(){}function JY(){}function XY(){}function KY(){}function ZY(){}function QY(){}function nV(){}function tV(){}function eV(){this.handlers={},this.set(null,new $Y),this.set(String,new RY),this.set(Number,new IY),this.set(vn,new LY),this.set(Boolean,new UY),this.set(Array,new qY),this.set(Object,new HY),this.set(Date,new GY),this.set(hY,new YY),this.set(sY,new VY),this.set(cY,new JY),this.set(lY,new XY),this.set(_Y,new KY),this.set(wY,new ZY),this.set(bY,new QY),void 0!==u.Of&&this.set(u.Of,new nV),"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new tV)}function rV(n){if(this.hd=n||{},this.Bf=null==this.hd.preferStrings||this.hd.preferStrings,this.Hh=this.hd.objectBuilder||null,this.transform=this.hd.transform||null,this.handlers=new eV,n=this.hd.handlers){if(JG(n)||!n.forEach)throw Error('transit writer "handlers" option must be a map');var t=this;n.forEach((function(n,e){if(void 0===e)throw Error("Cannot create handler for JavaScript undefined");t.handlers.set(e,n)}))}this.ue=this.hd.handlerForForeign,this.Gf=this.hd.unpack||function(n){return n instanceof wY&&null===n.ob&&n.yb},this.Je=this.hd&&this.hd.verbose||!1}function iV(n,t,e,r,i){return n=n+t+e,i?i.write(n,r):n}function lV(n,t){return"string"==typeof t||(n=n.mc(t))&&1===n.tag(t).length}function uV(n,t){var e=n.Gf(t),r=!0;if(e){for(t=0;t<e.length&&(r=lV(n,e[t]));t+=2);return r}if(t.keys){var i=null;if((e=t.keys()).next){for(i=e.next();!i.done&&(r=lV(n,i.value));)i=e.next();return r}}if(t.forEach)return t.forEach((function(t,e){r=r&&lV(n,e)})),r;throw Error("Cannot walk keys of object type "+(null==t?null:t.constructor).name)}function aV(n,t,e){var r=null,i=null,l=null;r=null;var u=0;if(t.constructor===Object||null!=t.forEach||n.ue&&function(n){if(n.constructor.transit$isObject)return!0;var t=n.constructor.toString();return t="Object"==(t=(t=t.substr(9)).substr(0,t.indexOf("("))),void 0!==Object.defineProperty?Object.defineProperty(n.constructor,"transit$isObject",{value:t,enumerable:!1}):n.constructor.transit$isObject=t,t}(t)){if(n.Je){if(null!=t.forEach)if(uV(n,t)){var a={};t.forEach((function(t,r){a[oV(n,r,!0,!1)]=oV(n,t,!1,e)}))}else{if(r=n.Gf(t),i=[],l=iV("~#","cmap","",!0,e),r)for(;u<r.length;u+=2)i.push(oV(n,r[u],!1,!1)),i.push(oV(n,r[u+1],!1,e));else t.forEach((function(t,r){i.push(oV(n,r,!1,!1)),i.push(oV(n,t,!1,e))}));(a={})[l]=i}else for(r=VG(t),a={};u<r.length;u++)a[oV(n,r[u],!0,!1)]=oV(n,t[r[u]],!1,e);return a}if(null!=t.forEach){if(uV(n,t)){if(r=n.Gf(t),a=["^ "],r)for(;u<r.length;u+=2)a.push(oV(n,r[u],!0,e)),a.push(oV(n,r[u+1],!1,e));else t.forEach((function(t,r){a.push(oV(n,r,!0,e)),a.push(oV(n,t,!1,e))}));return a}if(r=n.Gf(t),i=[],l=iV("~#","cmap","",!0,e),r)for(;u<r.length;u+=2)i.push(oV(n,r[u],!1,e)),i.push(oV(n,r[u+1],!1,e));else t.forEach((function(t,r){i.push(oV(n,r,!1,e)),i.push(oV(n,t,!1,e))}));return[l,i]}for(a=["^ "],r=VG(t);u<r.length;u++)a.push(oV(n,r[u],!0,e)),a.push(oV(n,t[r[u]],!1,e));return a}if(null!=n.Hh)return n.Hh(t,(function(t){return oV(n,t,!0,e)}),(function(t){return oV(n,t,!1,e)}));throw u=(null==t?null:t.constructor).name,(r=Error("Cannot write "+u)).data={Fg:t,type:u},r}function oV(n,t,e,r){null!==n.transform&&(t=n.transform(t));var i=n.mc(t)||(n.ue?n.ue(t,n.handlers):null),l=i?i.tag(t):null,u=i?i.Sa(t):null;if(null==i||null==l)throw r=(null==t?null:t.constructor).name,(n=Error("Cannot write "+r)).data={Fg:t,type:r},n;switch(l){case"_":return e?iV("~","_","",e,r):null;case"s":return 0<u.length?n="~"===(n=u.charAt(0))||"^"===n||"`"===n?"~"+u:u:n=u,iV("","",n,e,r);case"?":return e?iV("~","?",u.toString()[0],e,r):u;case"i":return 1/0===u?iV("~","z","INF",e,r):-1/0===u?iV("~","z","-INF",e,r):isNaN(u)?iV("~","z","NaN",e,r):e||"string"==typeof u||u instanceof vn?iV("~","i",u.toString(),e,r):u;case"d":return e?iV(u.gk,"d",u,e,r):u;case"b":return iV("~","b",u,e,r);case"'":return n.Je?((e={})[t=iV("~#","'","",!0,r)]=oV(n,u,!1,r),r=e):r=[iV("~#","'","",!0,r),oV(n,u,!1,r)],r;case"array":return function(n,t,e){var r=[];if(JG(t))for(var i=0;i<t.length;i++)r.push(oV(n,t[i],!1,e));else t.forEach((function(t){r.push(oV(n,t,!1,e))}));return r}(n,u,r);case"map":return aV(n,u,r);default:n:{if(1===l.length){if("string"==typeof u){r=iV("~",l,u,e,r);break n}if(e||n.Bf){if((n=n.Je&&new WY)?(l=n.tag(t),u=n.Gb(t,n)):u=i.Gb(t,i),null!==u){r=iV("~",l,u,e,r);break n}throw(r=Error('Tag "'+l+'" cannot be encoded as string')).data={tag:l,Sa:u,Fg:t},r}}e=l,t=u,n.Je?((i={})[iV("~#",e,"",!0,r)]=oV(n,t,!1,r),r=i):r=[iV("~#",e,"",!0,r),oV(n,t,!1,r)]}return r}}function sV(n,t){this.ce=n,this.options=t||{},this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new AY}function cV(n,t){for(var e=De(E(t)),r=null,i=0,l=0;;)if(l<i){var u=r.Aa(null,l);n[u]=t[u],l+=1}else{if(!(e=De(e)))break;Dr(r=e)?(e=le(r),l=ue(r),r=e,i=hr(e),e=l):(n[e=Me(r)]=t[e],e=Te(r),r=null,i=0),l=0}return n}function fV(){}function hV(){}function dV(n){return function(n,t){if("json"===n||"json-verbose"===n||null==n)return new FY(n=new MY(t),t);throw Error("Cannot create reader of type "+n)}(Ea(cR),n=cV({handlers:oo(ma.l(ur([new ku(null,6,["$",function(n){return Ee.g(n)},":",function(n){return vi.g(n)},"set",function(n){return Dl.a(xa,n)},"list",function(n){return Dl.a(si,n.reverse())},"cmap",function(n){for(var t=0,e=ne(ju);;){if(!(t<n.length))return ee(e);var r=t+2;e=re(e,n[t],n[t+1]),t=r}},"with-meta",function(n){return br(n[0],n[1])}],null),vr.a(zj.g(n),nw)]))),defaultHandler:nw.g(zj.g(n)),mapBuilder:new fV,arrayBuilder:new hV,prefersStrings:!1},oo(vr.a(n,zj))))}function pV(){}function gV(){}function mV(){}function vV(){}function wV(){}function yV(){}function bV(){}function xV(n,t){this.value=n,this.ba=t}function _V(){}function kV(n,t){var e,r=new mV,i=new vV,l=new wV,u=new yV,a=ma.l(ur([Vu([Gu,hi,ku,Lu,cu,lr,pi,oi,wi,ru,su,qu,pa,xV,xu,Xl,ui,ar,ba,aa,fa,eu,ja,ki,Ae,ko,Na,Zu],[i,r,i,r,r,r,new pV,r,r,u,r,r,r,new _V,r,u,r,r,l,i,r,r,l,r,new gV,new bV,r,r]),void 0!==jn&&void 0!==On&&void 0!==io?Au([io,r]):null,void 0!==jn&&void 0!==On&&void 0!==xl?Au([xl,r]):null,void 0!==jn&&void 0!==On&&void 0!==yu?Au([yu,u]):null,zj.g(t)]));return function(n,t){if("json"===n||"json-verbose"===n||null==n)return"json-verbose"===n&&(null==t&&(t={}),t.verbose=!0),new sV(n=new rV(t),t);throw(t=Error('Type must be "json"')).data={type:n},t}(n=Ea(n),t=cV({objectBuilder:function(n,t,e){return Wr((function(n,r,i){return n.push(t.g?t.g(r):t.call(null,r),e.g?e.g(i):e.call(null,i)),n}),["^ "],n)},handlers:(e=Kn(a),e.forEach=function(n){for(var t=De(this),e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i),u=pr(l,0);l=pr(l,1),Ne.a(nw,u)?n.a?n.a(l,"default"):n.call(null,l,"default"):n.a?n.a(l,u):n.call(null,l,u),i+=1}else{if(!(t=De(t)))return null;Dr(t)?(e=le(t),t=ue(t),u=e,r=hr(e),e=u):(u=pr(e=Me(t),0),l=pr(e,1),Ne.a(nw,u)?n.a?n.a(l,"default"):n.call(null,l,"default"):n.a?n.a(l,u):n.call(null,l,u),t=Te(t),e=null,r=0),i=0}},e),unpack:function(n){return n instanceof ku&&n.O}},oo(vr.a(t,zj))))}function jV(n){return n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,zn(n=gr.a(n,ak))?n:cR}function OV(n,t){var e,r=zn(e=lF.g(t))?e:kV(n,t);return function(n){return r.write(n)}}function AV(n){var t=jV(n),e=Ne.a(t,cR)||Ne.a(t,jp)?"json":"msgpack";return new ku(null,2,[WE,OV(t,n),dB,["application/transit+",e].join("")],null)}function EV(n){var t,e=zn(t=NT.g(n))?t:dV(n);return function(n){return n=cG(n),e.read(n)}}$Y.prototype.tag=function(){return"_"},$Y.prototype.Sa=function(){return null},$Y.prototype.Gb=function(){return"null"},RY.prototype.tag=function(){return"s"},RY.prototype.Sa=function(n){return n},RY.prototype.Gb=function(n){return n},IY.prototype.tag=function(){return"i"},IY.prototype.Sa=function(n){return n},IY.prototype.Gb=function(n){return n.toString()},LY.prototype.tag=function(){return"i"},LY.prototype.Sa=function(n){return n.toString()},LY.prototype.Gb=function(n){return n.toString()},UY.prototype.tag=function(){return"?"},UY.prototype.Sa=function(n){return n},UY.prototype.Gb=function(n){return n.toString()},qY.prototype.tag=function(){return"array"},qY.prototype.Sa=function(n){return n},qY.prototype.Gb=function(){return null},HY.prototype.tag=function(){return"map"},HY.prototype.Sa=function(n){return n},HY.prototype.Gb=function(){return null},WY.prototype.tag=function(){return"t"},WY.prototype.Sa=function(n){return n.getUTCFullYear()+"-"+PY(n.getUTCMonth()+1,2)+"-"+PY(n.getUTCDate(),2)+"T"+PY(n.getUTCHours(),2)+":"+PY(n.getUTCMinutes(),2)+":"+PY(n.getUTCSeconds(),2)+"."+PY(n.getUTCMilliseconds(),3)+"Z"},WY.prototype.Gb=function(n,t){return t.Sa(n)},GY.prototype.tag=function(){return"m"},GY.prototype.Sa=function(n){return n.valueOf()},GY.prototype.Gb=function(n){return n.valueOf().toString()},YY.prototype.tag=function(){return"u"},YY.prototype.Sa=function(n){return n.toString()},YY.prototype.Gb=function(n){return n.toString()},VY.prototype.tag=function(){return":"},VY.prototype.Sa=function(n){return n.Pb},VY.prototype.Gb=function(n,t){return t.Sa(n)},JY.prototype.tag=function(){return"$"},JY.prototype.Sa=function(n){return n.Pb},JY.prototype.Gb=function(n,t){return t.Sa(n)},XY.prototype.tag=function(n){return n.tag},XY.prototype.Sa=function(n){return n.Sa},XY.prototype.Gb=function(){return null},KY.prototype.tag=function(){return"set"},KY.prototype.Sa=function(n){var t=[];return n.forEach((function(n){t.push(n)})),uY("array",t)},KY.prototype.Gb=function(){return null},ZY.prototype.tag=function(){return"map"},ZY.prototype.Sa=function(n){return n},ZY.prototype.Gb=function(){return null},QY.prototype.tag=function(){return"map"},QY.prototype.Sa=function(n){return n},QY.prototype.Gb=function(){return null},nV.prototype.tag=function(){return"b"},nV.prototype.Sa=function(n){return n.toString("base64")},nV.prototype.Gb=function(){return null},tV.prototype.tag=function(){return"b"},tV.prototype.Sa=function(n){for(var t,e,r=0,i=n.length,l="";r<i;)e=n.subarray(r,Math.min(r+32768,i)),l+=String.fromCharCode.apply(null,e),r+=32768;if("undefined"!=typeof btoa)t=btoa(l);else{for(n=String(l),i=0,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";n.charAt(0|i)||(l="=",i%1);e+=l.charAt(63&t>>8-i%1*8)){if(255<(r=n.charCodeAt(i+=.75)))throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|r}t=e}return t},tV.prototype.Gb=function(){return null},eV.prototype.get=function(n){return null!=(n="string"==typeof n?this.handlers[n]:this.handlers[zY(n)])?n:this.handlers.default},eV.prototype.get=eV.prototype.get,eV.prototype.set=function(n,t){var e;if(e="string"==typeof n)n:{switch(n){case"null":case"string":case"boolean":case"number":case"array":case"map":e=!1;break n}e=!0}e?this.handlers[n]=t:this.handlers[zY(n)]=t},rV.prototype.mc=function(n){var t=this.handlers.get(null==n?null:n.constructor);return null!=t?t:(n=n&&n.transitTag)?this.handlers.get(n):null},sV.prototype.yi=function(){return this.ce},sV.prototype.marshaller=sV.prototype.yi,sV.prototype.write=function(n,t){var e=t||{};t=e.asMapKey||!1;var r=!this.ce.Je&&this.cache;return!1===e.marshalTop?n=oV(this.ce,n,t,r):(e=this.ce,n=JSON.stringify(oV(e,function(n,t){if(null!=(n=n.mc(t)||(n.ue?n.ue(t,n.handlers):null)))return 1===n.tag(t).length?uY("'",t):t;n=(null==t?null:t.constructor).name;var e=Error("Cannot write "+n);throw e.data={Fg:t,type:n},e}(e,n),t,r))),null!=this.cache&&this.cache.clear(),n},sV.prototype.write=sV.prototype.write,sV.prototype.register=function(n,t){this.ce.handlers.set(n,t)},sV.prototype.register=sV.prototype.register,ko.prototype.ga=function(n,t){return t instanceof ko?this.kd===t.kd:t instanceof hY&&this.kd===t.toString()},vn.prototype.ga=function(n,t){return this.equiv(t)},hY.prototype.ga=function(n,t){return t instanceof ko?t.ga(null,this):this.equiv(t)},lY.prototype.ga=function(n,t){return this.equiv(t)},vn.prototype.cg=An,vn.prototype.la=function(){return rY(this)},hY.prototype.cg=An,hY.prototype.la=function(){return je(this.toString())},lY.prototype.cg=An,lY.prototype.la=function(){return rY(this)},hY.prototype.Xa=An,hY.prototype.ka=function(n,t){return Gt(t,['#uuid "',ii.g(this.toString()),'"'].join(""))},fV.prototype.init=function(){return ne(ju)},fV.prototype.add=function(n,t,e){return re(n,t,e)},fV.prototype.finalize=function(n){return ee(n)},fV.prototype.xd=function(n){return new ku(null,n.length/2,n,null)},hV.prototype.init=function(){return ne(Zl)},hV.prototype.add=function(n,t){return Ci.a(n,t)},hV.prototype.finalize=function(n){return ee(n)},hV.prototype.xd=function(n){return Ql.call(null,n,!0)},pV.prototype.tag=function(){return":"},pV.prototype.Sa=function(n){return n.qa},pV.prototype.Gb=function(n){return n.qa},gV.prototype.tag=function(){return"$"},gV.prototype.Sa=function(n){return n.lc},gV.prototype.Gb=function(n){return n.lc},mV.prototype.tag=function(){return"list"},mV.prototype.Sa=function(n){var t=[];n=De(n);for(var e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i);t.push(l),i+=1}else{if(!(n=De(n)))break;Dr(e=n)?(n=le(e),i=ue(e),e=n,r=hr(n),n=i):(n=Me(e),t.push(n),n=Te(e),e=null,r=0),i=0}return uY("array",t)},mV.prototype.Gb=function(){return null},vV.prototype.tag=function(){return"map"},vV.prototype.Sa=function(n){return n},vV.prototype.Gb=function(){return null},wV.prototype.tag=function(){return"set"},wV.prototype.Sa=function(n){var t=[];n=De(n);for(var e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i);t.push(l),i+=1}else{if(!(n=De(n)))break;Dr(e=n)?(n=le(e),i=ue(e),e=n,r=hr(n),n=i):(n=Me(e),t.push(n),n=Te(e),e=null,r=0),i=0}return uY("array",t)},wV.prototype.Gb=function(){return null},yV.prototype.tag=function(){return"array"},yV.prototype.Sa=function(n){var t=[];n=De(n);for(var e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i);t.push(l),i+=1}else{if(!(n=De(n)))break;Dr(e=n)?(n=le(e),i=ue(e),e=n,r=hr(n),n=i):(n=Me(e),t.push(n),n=Te(e),e=null,r=0),i=0}return t},yV.prototype.Gb=function(){return null},bV.prototype.tag=function(){return"u"},bV.prototype.Sa=function(n){return n.kd},bV.prototype.Gb=function(n){return this.Sa(n)},_V.prototype.tag=function(){return"with-meta"},_V.prototype.Sa=function(n){return uY("array",[n.value,n.ba])},_V.prototype.Gb=function(){return null};var SV=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function CV(n,t,e){if(ai(e)){var r=Pi.a(fi,pl.a(n,e));return t.g?t.g(r):t.call(null,r)}return bu(e)?(r=new yu((i=yt(e),n.g?n.g(i):n.call(null,i)),function(){var t=bt(e);return n.g?n.g(t):n.call(null,t)}(),null),t.g?t.g(r):t.call(null,r)):Nr(e)?(r=Pa(pl.a(n,e)),t.g?t.g(r):t.call(null,r)):Sr(e)?(r=Hr((function(t,e){return cr.a(t,n.g?n.g(e):n.call(null,e))}),e,e),t.g?t.g(r):t.call(null,r)):jr(e)?(r=Dl.a(fr(e),pl.a(n,e)),t.g?t.g(r):t.call(null,r)):t.g?t.g(e):t.call(null,e);var i}SV.L=function(){return SV.g(ju)},SV.g=function(n){return SV.a(jV(n),n)},SV.a=function(n,t){return TG(new ku(null,3,[Jp,EV(t),Vo,"Transit",dB,new Xl(null,1,5,Kl,["application/transit+json"],null)],null))},SV.R=2;var DV=function(n){return function(){function t(t){t=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;var e=gr.a(t,VA),r=gr.a(t,Dp),i=gr.a(t,Xv);return TG(new ku(null,3,[Jp,function(t){return t=cG(t),t=zn(zn(e)?Ne.a(0,t.indexOf(e)):e)?t.substring(e.length):t,n.j?n.j(i,r,t):n.call(null,i,r,t)},Vo,["JSON",zn(e)?[" prefix '",ii.g(e),"'"].join(""):null,zn(r)?" keywordize":null].join(""),dB,new Xl(null,1,5,Kl,["application/json"],null)],null))}function e(){return r.g(ju)}var r=null;return(r=function(n){switch(arguments.length){case 0:return e.call(this);case 1:return t.call(this,n)}throw Error("Invalid arity: "+arguments.length)}).L=e,r.g=t,r}()}((function(n,t,e){return e=JSON.parse(e),zn(n)?e:fo(e,ur([dU,t]))})),MV=function(n){return function(){return new ku(null,2,[WE,n,dB,"application/json"],null)}}((function(n){return JSON.stringify(oo(n))}));function FV(n){return function(t){return new ku(null,3,[zM,aG(t),iE,sG(t),II,n.g?n.g(t):n.call(null,t)],null)}}function TV(){return V("iPhone")&&!V("iPod")&&!V("iPad")}var NV=V("Opera"),BV=V("Trident")||V("MSIE"),zV=V("Edge"),PV=V("Gecko")&&!(U("WebKit")&&!V("Edge"))&&!(V("Trident")||V("MSIE"))&&!V("Edge"),$V=U("WebKit")&&!V("Edge");$V&&V("Mobile"),V("Macintosh"),V("Windows"),V("Linux")||V("CrOS");var RV,IV=u.navigator||null;function LV(){var n=u.document;return n?n.documentMode:void 0}IV&&(IV.appVersion||"").indexOf("X11"),V("Android"),TV(),V("iPad"),V("iPod"),TV()||V("iPad")||V("iPod"),U("KaiOS"),U("GAFP");n:{var UV="",qV=function(){var n=I;return PV?/rv:([^\);]+)(\)|;)/.exec(n):zV?/Edge\/([\d\.]+)/.exec(n):BV?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$V?/WebKit\/(\S+)/.exec(n):NV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(qV&&(UV=qV?qV[1]:""),BV){var HV=LV();if(null!=HV&&HV>parseFloat(UV)){RV=String(HV);break n}}RV=UV}var WV,GV,YV={};function VV(n){return function(n,t){var e=YV;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,(function(){{var t=0;const i=L(String(RV)).split("."),l=L(String(n)).split("."),u=Math.max(i.length,l.length);for(let n=0;0==t&&n<u;n++){var e=i[n]||"",r=l[n]||"";do{if(e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],0==e[0].length&&0==r[0].length)break;t=q(0==e[1].length?0:parseInt(e[1],10),0==r[1].length?0:parseInt(r[1],10))||q(0==e[2].length,0==r[2].length)||q(e[2],r[2]),e=e[3],r=r[3]}while(0==t)}}return 0<=t}))}function JV(n){var t=document;return n=String(n),"application/xhtml+xml"===t.contentType&&(n=n.toLowerCase()),t.createElement(n)}function XV(){var n=u.MessageChannel;if(void 0===n&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!V("Presto")&&(n=function(){var n=JV("IFRAME");n.style.display="none",function(n){if(N instanceof M&&N.constructor===M&&N.ci===F)var t=N.Wh;else k("expected object of type Const, got '"+N+"'"),t="type_error:Const";t=new z($,t);n:{try{var e=n&&n.ownerDocument,r=e&&(e.defaultView||e.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break n}}catch(n){}i=null}if(i&&void 0!==i.HTMLIFrameElement&&(!n||!(n instanceof i.HTMLIFrameElement)&&(n instanceof i.Location||n instanceof i.Element))){if(h(n))try{var l=n.constructor.displayName||n.constructor.name||Object.prototype.toString.call(n)}catch(n){l="<object could not be stringified>"}else l=void 0===n?"undefined":null===n?"null":typeof n;k("Argument is not a %s (or a non-Element, non-Location mock); got: %s","HTMLIFrameElement",l)}t instanceof z&&t.constructor===z&&t.di===P?i=t.Rh:(k("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),i="type_error:TrustedResourceUrl"),n.src=i.toString()}(n),document.documentElement.appendChild(n);var t=n.contentWindow;(n=t.document).open(),n.write(function(){var n=K;return n instanceof J&&n.constructor===J&&n.bi===X?n.Ig:(k("expected object of type SafeHtml, got '"+n+"' of type "+s(n)),"type_error:SafeHtml")}()),n.close();var e="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;n=w((function(n){"*"!=r&&n.origin!=r||n.data!=e||this.port1.onmessage()}),this),t.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(e,r)}}}),void 0!==n&&!V("Trident")&&!V("MSIE")){var t=new n,e={},r=e;return t.port1.onmessage=function(){if(void 0!==e.next){var n=(e=e.next).ah;e.ah=null,n()}},function(n){r.next={ah:n},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in JV("SCRIPT")?function(n){var t=JV("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,n(),n=null},document.documentElement.appendChild(t)}:function(n){u.setTimeout(n,0)}}function KV(){0!=ZV&&d(this),this.tg=this.tg}WV=u.document&&BV?LV():void 0;var ZV=0;KV.prototype.tg=!1;var QV,nJ=Object.freeze||function(n){return n};(QV=!BV)||(QV=9<=Number(WV));var tJ=QV,eJ=BV&&!VV("9"),rJ=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{u.addEventListener("test",o,t),u.removeEventListener("test",o,t)}catch(n){}return n}();function iJ(n,t){this.type=n,this.currentTarget=this.target=t,this.defaultPrevented=this.Ed=!1,this.Th=!0}function lJ(n,t){iJ.call(this,n?n.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.re=null,n&&this.init(n,t)}iJ.prototype.stopPropagation=function(){this.Ed=!0},iJ.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Th=!1},b(lJ,iJ);var uJ=nJ({2:"touch",3:"pen",4:"mouse"});lJ.prototype.init=function(n,t){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.currentTarget=t,t=n.relatedTarget){if(PV){n:{try{sn(t.nodeName);var i=!0;break n}catch(n){}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.offsetX=$V||void 0!==n.offsetX?n.offsetX:n.layerX,this.offsetY=$V||void 0!==n.offsetY?n.offsetY:n.layerY,this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.keyCode=n.keyCode||0,this.key=n.key||"",this.charCode=n.charCode||("keypress"==e?n.keyCode:0),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uJ[n.pointerType]||"",this.state=n.state,this.re=n,n.defaultPrevented&&this.preventDefault()},lJ.prototype.stopPropagation=function(){lJ.Xh.stopPropagation.call(this),this.re.stopPropagation?this.re.stopPropagation():this.re.cancelBubble=!0},lJ.prototype.preventDefault=function(){lJ.Xh.preventDefault.call(this);var n=this.re;if(n.preventDefault)n.preventDefault();else if(n.returnValue=!1,eJ)try{(n.ctrlKey||112<=n.keyCode&&123>=n.keyCode)&&(n.keyCode=-1)}catch(n){}};var aJ="closure_listenable_"+(1e6*Math.random()|0),oJ=0;function sJ(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.mc=i,this.key=++oJ,this.ae=this.Oe=!1}function cJ(n){n.ae=!0,n.listener=null,n.proxy=null,n.src=null,n.mc=null}function fJ(n){this.src=n,this.Cc={},this.Ff=0}function hJ(n,t){var e=t.type;if(e in n.Cc){var r,i=n.Cc[e],l=j(i,t);(r=0<=l)&&Array.prototype.splice.call(i,l,1),r&&(cJ(t),0==n.Cc[e].length&&(delete n.Cc[e],n.Ff--))}}function dJ(n,t,e,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ae&&l.listener==t&&l.capture==!!e&&l.mc==r)return i}return-1}fJ.prototype.add=function(n,t,e,r,i){var l=n.toString();(n=this.Cc[l])||(n=this.Cc[l]=[],this.Ff++);var u=dJ(n,t,r,i);return-1<u?(t=n[u],e||(t.Oe=!1)):((t=new sJ(t,this.src,l,!!r,i)).Oe=e,n.push(t)),t},fJ.prototype.remove=function(n,t,e,r){if(!((n=n.toString())in this.Cc))return!1;var i=this.Cc[n];return-1<(t=dJ(i,t,e,r))&&(cJ(i[t]),Array.prototype.splice.call(i,t,1),0==i.length&&(delete this.Cc[n],this.Ff--),!0)},fJ.prototype.xg=function(n,t,e,r){var i=-1;return(n=this.Cc[n.toString()])&&(i=dJ(n,t,e,r)),-1<i?n[i]:null};var pJ="closure_lm_"+(1e6*Math.random()|0),gJ={};function mJ(n,t,e,r,i){if(r&&r.once)!function n(t,e,r,i,l){if("array"==s(e))for(var u=0;u<e.length;u++)n(t,e[u],r,i,l);else r=OJ(r),t&&t[aJ]?t.wd.add(String(e),r,!0,h(i)?!!i.capture:!!i,l):vJ(t,e,r,!0,i,l)}(n,t,e,r,i);else if("array"==s(t))for(var l=0;l<t.length;l++)mJ(n,t[l],e,r,i);else e=OJ(e),n&&n[aJ]?n.wd.add(String(t),e,!1,h(r)?!!r.capture:!!r,i):vJ(n,t,e,!1,r,i)}function vJ(n,t,e,r,i,l){if(!t)throw Error("Invalid event type");var u=h(i)?!!i.capture:!!i,a=kJ(n);if(a||(n[pJ]=a=new fJ(n)),!(e=a.add(t,e,r,u,l)).proxy){if(r=function(){var n=_J,t=tJ?function(e){return n.call(t.src,t.listener,e)}:function(e){if(!(e=n.call(t.src,t.listener,e)))return e};return t}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)rJ||(i=u),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(yJ(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}0}}function wJ(n){if("number"!=typeof n&&n&&!n.ae){var t=n.src;if(t&&t[aJ])hJ(t.wd,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(yJ(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=kJ(t))?(hJ(e,n),0==e.Ff&&(e.src=null,t[pJ]=null)):cJ(n)}}}function yJ(n){return n in gJ?gJ[n]:gJ[n]="on"+n}function bJ(n,t,e,r){var i=!0;if((n=kJ(n))&&(t=n.Cc[t.toString()]))for(t=t.concat(),n=0;n<t.length;n++){var l=t[n];l&&l.capture==e&&!l.ae&&(l=xJ(l,r),i=i&&!1!==l)}return i}function xJ(n,t){var e=n.listener,r=n.mc||n.src;return n.Oe&&wJ(n),e.call(r,t)}function _J(n,t){if(n.ae)return!0;if(!tJ){if(!t)n:{t=["window","event"];for(var e=u,r=0;r<t.length;r++)if(null==(e=e[t[r]])){t=null;break n}t=e}if(t=new lJ(r=t,this),e=!0,!(0>r.keyCode||null!=r.returnValue)){n:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break n}catch(n){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.currentTarget;i;i=i.parentNode)r.push(i);for(n=n.type,i=r.length-1;!t.Ed&&0<=i;i--){t.currentTarget=r[i];var l=bJ(r[i],n,!0,t);e=e&&l}for(i=0;!t.Ed&&i<r.length;i++)t.currentTarget=r[i],l=bJ(r[i],n,!1,t),e=e&&l}return e}return xJ(n,new lJ(t,this))}function kJ(n){return(n=n[pJ])instanceof fJ?n:null}var jJ="__closure_events_fn_"+(1e9*Math.random()>>>0);function OJ(n){return f(n)?n:(n[jJ]||(n[jJ]=function(t){return n.handleEvent(t)}),n[jJ])}function AJ(){KV.call(this),this.wd=new fJ(this),this.ei=this,this.Mh=null}function EJ(n,t,e,r){if(!(t=n.wd.Cc[String(t)]))return!0;t=t.concat();for(var i=!0,l=0;l<t.length;++l){var u=t[l];if(u&&!u.ae&&u.capture==e){var a=u.listener,o=u.mc||u.src;u.Oe&&hJ(n.wd,u),i=!1!==a.call(o,r)&&i}}return i&&0!=r.Th}b(AJ,KV),AJ.prototype[aJ]=!0,AJ.prototype.addEventListener=function(n,t,e,r){mJ(this,n,t,e,r)},AJ.prototype.removeEventListener=function(n,t,e,r){!function n(t,e,r,i,l){if("array"==s(e))for(var u=0;u<e.length;u++)n(t,e[u],r,i,l);else i=h(i)?!!i.capture:!!i,r=OJ(r),t&&t[aJ]?t.wd.remove(String(e),r,i,l):t&&(t=kJ(t))&&(e=t.xg(e,r,i,l))&&wJ(e)}(this,n,t,e,r)},AJ.prototype.dispatchEvent=function(n){var t,e=this.Mh;if(e)for(t=[];e;e=e.Mh)t.push(e);e=this.ei;var r=n.type||n;if("string"==typeof n)n=new iJ(n,e);else if(n instanceof iJ)n.target=n.target||e;else{var i=n;D(n=new iJ(r,e),i)}if(i=!0,t)for(var l=t.length-1;!n.Ed&&0<=l;l--){var u=n.currentTarget=t[l];i=EJ(u,r,!0,n)&&i}if(n.Ed||(i=EJ(u=n.currentTarget=e,r,!0,n)&&i,n.Ed||(i=EJ(u,r,!1,n)&&i)),t)for(l=0;!n.Ed&&l<t.length;l++)i=EJ(u=n.currentTarget=t[l],r,!1,n)&&i;return i},AJ.prototype.xg=function(n,t,e,r){return this.wd.xg(String(n),t,e,r)};var SJ=u;function CJ(n,t,e){if(f(n))e&&(n=w(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=w(n.handleEvent,n)}return 2147483647<Number(t)?-1:SJ.setTimeout(n,t||0)}function DJ(n,t,e){this.reset(n,t,e,void 0,void 0)}DJ.prototype.th=null;function MJ(n){this.Rj=n,this.vh=this.Zf=this.Ce=this.Af=null}function FJ(n,t){this.name=n,this.value=t}DJ.prototype.reset=function(n,t,e,r,i){"number"==typeof i||0,r||y(),this.Ce=n,delete this.th},DJ.prototype.Vh=function(n){this.Ce=n},FJ.prototype.toString=function(){return this.name};var TJ=new FJ("SEVERE",1e3),NJ=new FJ("INFO",800),BJ=new FJ("CONFIG",700),zJ=new FJ("FINE",500);MJ.prototype.getParent=function(){return this.Af},MJ.prototype.Vh=function(n){this.Ce=n},MJ.prototype.log=function(n,t,e){if(n.value>=function n(t){return t.Ce?t.Ce:t.Af?n(t.Af):(k("Root logger has no level set."),null)}(this).value)for(f(t)&&(t=t()),n=new DJ(n,String(t),this.Rj),e&&(n.th=e),e=this;e;){var r=e,i=n;if(r.vh)for(var l=0;t=r.vh[l];l++)t(i);e=e.getParent()}},MJ.prototype.info=function(n,t){this.log(NJ,n,t)};var PJ,$J={},RJ=null;function IJ(n,t){n&&n.log(zJ,t,void 0)}function LJ(){}function UJ(n){var t;return(t=n.$g)||(t={},WJ(n)&&(t[0]=!0,t[1]=!0),t=n.$g=t),t}function qJ(){}function HJ(n){return(n=WJ(n))?new ActiveXObject(n):new XMLHttpRequest}function WJ(n){if(!n.wh&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<t.length;e++){var r=t[e];try{return new ActiveXObject(r),n.wh=r}catch(n){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return n.wh}function GJ(n){AJ.call(this),this.headers=new ln,this.Nf=n||null,this.Nd=!1,this.Mf=this.Pa=null,this.xh=this.uf="",this.Zd=0,this.Ae="",this.ve=this.yg=this.sf=this.wg=!1,this.be=0,this.Ef=null,this.Ge=YJ,this.Jf=this.Sh=this.Sg=!1}LJ.prototype.$g=null,b(qJ,LJ),PJ=new qJ,b(GJ,AJ);var YJ="",VJ=GJ.prototype,JJ=function n(t){var e;if(RJ||(RJ=new MJ(""),$J[""]=RJ,RJ.Vh(BJ)),!(e=$J[t])){e=new MJ(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=n(t.substr(0,r))).Zf||(r.Zf={}),r.Zf[i]=e,e.Af=r,$J[t]=e}return e}("goog.net.XhrIo");VJ.pc=JJ;var XJ=/^https?$/i,KJ=["POST","PUT"];function ZJ(n){return"content-type"==n.toLowerCase()}function QJ(n,t){n.Nd=!1,n.Pa&&(n.ve=!0,n.Pa.abort(),n.ve=!1),n.Ae=t,n.Zd=5,nX(n),rX(n)}function nX(n){n.wg||(n.wg=!0,n.dispatchEvent("complete"),n.dispatchEvent("error"))}function tX(n){if(n.Nd&&void 0!==l)if(n.Mf[1]&&4==lX(n)&&2==uX(n))IJ(n.pc,oX(n,"Local request error detected and ignored"));else if(n.sf&&4==lX(n))CJ(n.Jh,0,n);else if(n.dispatchEvent("readystatechange"),4==lX(n)){IJ(n.pc,oX(n,"Request complete")),n.Nd=!1;try{var t,e=uX(n);n:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break n;default:r=!1}if(!(t=r)){var i;if(i=0===e){var a=String(n.uf).match(on)[1]||null;if(!a&&u.self&&u.self.location){var o=u.self.location.protocol;a=o.substr(0,o.length-1)}i=!XJ.test(a?a.toLowerCase():"")}t=i}t?(n.dispatchEvent("complete"),n.dispatchEvent("success")):(n.Zd=6,n.Ae=aX(n)+" ["+uX(n)+"]",nX(n))}finally{rX(n)}}}function eX(n,t){return{type:t,lengthComputable:n.lengthComputable,loaded:n.loaded,total:n.total}}function rX(n){if(n.Pa){iX(n);var t=n.Pa,e=n.Mf[0]?o:null;n.Pa=null,n.Mf=null,n.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(n=n.pc)&&n.log(TJ,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function iX(n){n.Pa&&n.Jf&&(n.Pa.ontimeout=null),n.Ef&&(SJ.clearTimeout(n.Ef),n.Ef=null)}function lX(n){return n.Pa?n.Pa.readyState:0}function uX(n){try{return 2<lX(n)?n.Pa.status:-1}catch(n){return-1}}function aX(n){try{return 2<lX(n)?n.Pa.statusText:""}catch(t){return IJ(n.pc,"Can not get status: "+t.message),""}}function oX(n,t){return t+" ["+n.xh+" "+n.uf+" "+uX(n)+"]"}function sX(n){return n instanceof pi?Ea(n).toUpperCase():n}function cX(n,t){return pG(t,n)}(i=GJ.prototype).send=function(n,t,e,r){if(this.Pa)throw Error("[goog.net.XhrIo] Object is active with another request="+this.uf+"; newUri="+n);t=t?t.toUpperCase():"GET",this.uf=n,this.Ae="",this.Zd=0,this.xh=t,this.wg=!1,this.Nd=!0,this.Pa=this.Nf?HJ(this.Nf):HJ(PJ),this.Mf=this.Nf?UJ(this.Nf):UJ(PJ),this.Pa.onreadystatechange=w(this.Jh,this),this.Sh&&"onprogress"in this.Pa&&(this.Pa.onprogress=w((function(n){this.Ih(n,!0)}),this),this.Pa.upload&&(this.Pa.upload.onprogress=w(this.Ih,this)));try{IJ(this.pc,oX(this,"Opening Xhr")),this.yg=!0,this.Pa.open(t,String(n),!0),this.yg=!1}catch(n){return IJ(this.pc,oX(this,"Error opening Xhr: "+n.message)),void QJ(this,n)}n=e||"";var i=this.headers.clone();r&&rn(r,(function(n,t){i.set(t,n)})),r=function(n){n:{for(var t=ZJ,e=n.length,r="string"==typeof n?n.split(""):n,i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break n}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.Uc()),e=u.FormData&&n instanceof u.FormData,!(0<=j(KJ,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(n,t){this.Pa.setRequestHeader(t,n)}),this),this.Ge&&(this.Pa.responseType=this.Ge),"withCredentials"in this.Pa&&this.Pa.withCredentials!==this.Sg&&(this.Pa.withCredentials=this.Sg);try{iX(this),0<this.be&&(this.Jf=function(n){return BV&&VV(9)&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.Pa),IJ(this.pc,oX(this,"Will abort after "+this.be+"ms if incomplete, xhr2 "+this.Jf)),this.Jf?(this.Pa.timeout=this.be,this.Pa.ontimeout=w(this.Yh,this)):this.Ef=CJ(this.Yh,this.be,this)),IJ(this.pc,oX(this,"Sending request")),this.sf=!0,this.Pa.send(n),this.sf=!1}catch(n){IJ(this.pc,oX(this,"Send error: "+n.message)),QJ(this,n)}},i.Yh=function(){void 0!==l&&this.Pa&&(this.Ae="Timed out after "+this.be+"ms, aborting",this.Zd=8,IJ(this.pc,oX(this,this.Ae)),this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(n){this.Pa&&this.Nd&&(IJ(this.pc,oX(this,"Aborting")),this.Nd=!1,this.ve=!0,this.Pa.abort(),this.ve=!1,this.Zd=n||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rX(this))},i.Jh=function(){this.tg||(this.yg||this.sf||this.ve?tX(this):this.Tj())},i.Tj=function(){tX(this)},i.Ih=function(n,t){this.dispatchEvent(eX(n,"progress")),this.dispatchEvent(eX(n,t?"downloadprogress":"uploadprogress"))},i.getResponseHeader=function(n){if(this.Pa&&4==lX(this))return null===(n=this.Pa.getResponseHeader(n))?void 0:n},i.getAllResponseHeaders=function(){return this.Pa&&4==lX(this)&&this.Pa.getAllResponseHeaders()||""};var fX=cl(Zl);function hX(n){var t=function(n){var t=HG;n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var e=gr.a(n,Sb);return e instanceof FG?e:Cr(e)?t.g?t.g(n):t.call(null,n):Er(e)?TG(e):e instanceof pi?gG(new Xl(null,2,5,Kl,["keywords are not allowed as response formats in ajax calls: ",e],null)):zr(e)?TG(new ku(null,3,[Jp,e,Vo,"custom",dB,"*/*"],null)):gG(new Xl(null,2,5,Kl,["unrecognized response format: ",e],null))}(n);return $l($l(n,Hv,sX),A$,(function(n){return Si.l(new Xl(null,1,5,Kl,[t],null),zn(n)?n:St(fX),ur([PG]))}))}function dX(n,t){return dG(t,n)}var pX=cl(new Xl(null,6,5,Kl,[new Xl(null,2,5,Kl,["application/transit+json",SV],null),new Xl(null,2,5,Kl,["application/transit+transit",SV],null),new Xl(null,2,5,Kl,["application/json",DV],null),new Xl(null,2,5,Kl,["text/plain",RG],null),new Xl(null,2,5,Kl,["text/html",RG],null),new Xl(null,2,5,Kl,["*/*",RG],null)],null));var gX=function n(t,e){if(Cr(t)){var r=Kl,i=Me(t);return t=or(t),new Xl(null,2,5,r,[i,e=n.a?n.a(t,e):n.call(null,t,e)],null)}if(Er(t))return t;if(wr(t))return new ku(null,2,[Jp,t,Vo,"custom"],null);if(null==t)return HG(new ku(null,1,[Sb,St(pX)],null));switch(t instanceof pi?t.qa:null){case"transit":return SV.g(e);case"json":return DV.g?DV.g(e):DV.call(null,e);case"text":return RG.L?RG.L():RG.call(null);case"ring":return r=null!=(r=new ku(null,1,[vf,RG.L()],null))&&(64&r.B||An===r.ja)?Pi.a(sa,r):r,e=null!=(r=gr.a(r,vf))&&(64&r.B||An===r.ja)?Pi.a(sa,r):r,r=gr.a(e,Jp),i=gr.a(e,Vo),e=gr.a(e,dB),TG(new ku(null,3,[Jp,FV(r),Vo,["ring/",ii.g(i)].join(""),dB,e],null));case"raw":return RG.L();case"detect":return HG(new ku(null,1,[Sb,St(pX)],null));default:return null}};function mX(n,t){return Cr(n)?Pi.a(tu,pl.a((function(n){return gX(n,t)}),n)):gX(n,t)}var vX=cl((function(n){return Ka(ur(["CLJS-AJAX response:",n]))})),wX=cl((function(n){return"undefined"!=typeof console?console.error(n):"undefined"!=typeof window?window.alert(ii.g(n)):Ka(ur(["CLJS-AJAX ERROR:",n]))}));function yX(n,t){var e=Me(t);t=e instanceof pi?Pi.a(sa,t):e,n=null!=(n=mr.l(t,f$,n,ur([Hv,"GET"])))&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var r=gr.a(n,Hv);return e=gr.a(n,vf),t=gr.a(n,Sb),gr.a(n,Zx),r=null==gr.a(n,II)&&Ri.a(r,"GET"),e=zn(zn(e)?e:r)?function(n,t){if(Er(n))return n;if(wr(n))return new ku(null,1,[WE,n],null);if(null==n)return AV(t);switch(n instanceof pi?n.qa:null){case"transit":return AV(t);case"json":return MV.L?MV.L():MV.call(null);case"text":return new ku(null,2,[WE,Gr,dB,"text/plain; charset=utf-8"],null);case"raw":case"url":return CG(t);default:return null}}(e,n):null,n=Hr(dX,n=null!=(n=hX(n=mr.l(n,cU,function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,cU),e=gr.a(n,kE),r=gr.a(n,bc),i=zn(t)?t:St(vX),l=zn(e)?e:St(wX);return function(n){var t=pr(n,0);return n=pr(n,1),(t=zn(t)?i:l).g?t.g(n):t.call(null,n),wr(r)?r.L?r.L():r.call(null):null}}(n),ur([vf,e,Sb,mX(t,n)]))))&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,t=gr.a(n,A$)),t=ci(t),e=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,t=zn(e=gr.a(e,cU))?function(n,t){return function(e){return e=Hr(cX,e,t),n.g?n.g(e):n.call(null,e)}}(e,t):gG("No ajax handler provided."),uG(e=zn(e=Od.g(n))?e:new GJ,n,t)}(i=GJ.prototype).Qf=function(n,t,e){var r=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;n=gr.a(r,f$),t=gr.a(r,Hv);var i=gr.a(r,II),l=gr.a(r,iE),u=gr.j(r,yR,0),a=gr.j(r,lq,!1),o=gr.a(r,Sb);return r=gr.a(r,pT),zn(o=ak.g(o))&&function(n,t){n.Ge=t}(this,Ea(o)),wr(r)&&(this.Sh=!0,mJ(this,"uploadprogress",r)),mJ(this,"complete",(function(n){return n=n.target,e.g?e.g(n):e.call(null,n)})),this.be=Math.max(0,u),this.Sg=a,this.send(n,t,i,oo(l)),this},i.Rf=function(){return function(n){try{if(!n.Pa)return null;if("response"in n.Pa)return n.Pa.response;switch(n.Ge){case YJ:case"text":return n.Pa.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.Pa)return n.Pa.mozResponseArrayBuffer}var t=n.pc;return t&&t.log(TJ,"Response type "+n.Ge+" is not supported on this browser",void 0),null}catch(t){return IJ(n.pc,"Can not get response: "+t.message),null}}(this)},i.Uf=function(){return uX(this)},i.Vf=function(){return aX(this)},i.Sf=function(){return fo(function(n){var t={};n=n.getAllResponseHeaders().split("\r\n");for(var e=0;e<n.length;e++)if(!R(n[e])){var r=en(n[e],":",1),i=r[0];if("string"==typeof(r=r[1])){r=r.trim();var l=t[i]||[];t[i]=l,l.push(r)}}return function(n,t){const e={};for(const r in n)e[r]=t.call(void 0,n[r],r,n);return e}(t,(function(n){return n.join(", ")}))}(this),ur([dU,!1]))},i.Tf=function(n,t){return this.getResponseHeader(t)},i.Wf=function(){return Ne.a(this.Zd,7)};var bX={},xX={},_X="undefined"!=typeof window&&null!=window.document,kX=new ba(null,new ku(null,2,["aria",null,"data",null],null),null);function jX(n){return 2>hr(n)?n.toUpperCase():[n.substring(0,1).toUpperCase(),n.substring(1)].join("")}function OX(n){if("string"==typeof n)return n;var t=bG(n=Ea(n),/-/),e=De(t);return t=Me(e),e=Te(e),zn(kX.g?kX.g(t):kX.call(null,t))?n:Pi.j(ii,t,pl.a(jX,e))}function AX(n){var t=function(){if(wr(n)){var t=n.displayName;zn(t)||(t="string"==typeof(t=n.name)&&De(t)?t:null)}else t=!1;return zn(t)||zn(t=!(null==n||!(4096&n.U||An===n.fh))&&Ea(n))?t:Er(t=xr(n))?Xw.g(t):null}();return zn(t)?wG(ii.g(t),"$","."):null}function EX(n){return n instanceof pi||n instanceof Ae}var SX=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};SX.L=function(){return null},SX.g=function(n){return jr(n)?(n=function n(t,e){return new wi(null,(function(){var r,i=De(e);if(i){if(Dr(i)){for(var l=le(i),u=hr(l),a=xi(u),o=0;o<u;){var s=(r=void 0,r=ut.a(l,o),t.g?t.g(r):t.call(null,r));null!=s&&a.add(s),o+=1}return ji(a.Na(),n(t,ue(i)))}return null==(u=function(){var n=Me(i);return t.g?t.g(n):t.call(null,n)}())?n(t,Fe(i)):di(u,n(t,Fe(i)))}return null}),null,null)}((function(n){return zn(n)?EX(n)?Ea(n):n:null}),n),De(n)?yG(" ",n):null):EX(n)?Ea(n):n},SX.a=function(n,t){return zn(n)?zn(t)?[ii.g(SX.g(n))," ",ii.g(SX.g(t))].join(""):SX.g(n):SX.g(t)},SX.l=function(n,t,e){return Hr(SX,SX.a(n,t),e)},SX.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},SX.R=2;var CX=!1,DX={},MX="undefined"!=typeof console;if(void 0===bX||void 0===DX||void 0===FX)var FX=cl(null);if(void 0===bX||void 0===DX||void 0===TX)var TX=function(){var n={};return n.warn=function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return hl.l(FX,Pl,new Xl(null,1,5,Kl,[Tw],null),cr,ur([Pi.a(ii,n)]))}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}(),n.error=function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return hl.l(FX,Pl,new Xl(null,1,5,Kl,[uP],null),cr,ur([Pi.a(ii,n)]))}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}(),n}();var NX={};if(void 0===bX||void 0===xX||void 0===NX||void 0===BX)var BX=0;function zX(n){return setTimeout(n,16)}var PX,$X=_X?function(){var n=window,t=n.requestAnimationFrame;return zn(t)||zn(t=n.webkitRequestAnimationFrame)||zn(t=n.mozRequestAnimationFrame)?t:zn(n=n.msRequestAnimationFrame)?n:zX}():zX;function RX(n,t){return n.lh-t.lh}if(void 0===bX||void 0===xX||void 0===NX||void 0===IX)var IX=function(){return null};function LX(n){for(var t=n.length,e=0;;){if(!(e<t))return null;var r=n[e];r.L?r.L():r.call(null),e+=1}}function UX(n,t,e){if(!zn(e))throw Error("Assert failed: Enqueued function must not be nil\nf");return t.push(e),HX(n)}function qX(n){var t=n.Ke;return null==t?null:(n.Ke=null,LX(t))}function HX(n){function t(){n.Cf=!1;var t=n.fi;if(null!=t&&(n.fi=null,LX(t)),IX(),null!=(t=n.mf))n:{n.mf=null,t.sort(RX);for(var e=t.length,r=0;;){if(!(r<e))break n;var i=t[r];!0===i.cljsIsDirty&&i.forceUpdate(),r+=1}}return qX(n)}return n.Cf?null:(n.Cf=!0,$X.g?$X.g(t):$X.call(null,t))}function WX(n){var t=PX;return null==t.Ke&&(t.Ke=[]),UX(t,t.Ke,n)}void 0!==bX&&void 0!==xX&&void 0!==NX&&void 0!==PX||(PX=new function(){this.Cf=!1});function GX(n){if(zn(n.cljsIsDirty))return null;n.cljsIsDirty=!0;var t=PX;return null==t.mf&&(t.mf=[]),UX(t,t.mf,n)}var YX=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};YX.g=function(n){return n},YX.a=function(n,t){for(;;){if(!(hr(t)<hr(n)))return Hr(function(n,t){return function(n,e){return $r(t,e)?n:_r.a(n,e)}}(0,t),n,n);var e=n;n=t,t=e}},YX.l=function(n,t,e){return n=function(n,t){var e=Pi.j(Ca,n,t);return di(e,Sl((function(n){return e===n}),t))}((function(n){return-hr(n)}),cr.l(e,t,ur([n]))),Hr(YX,Me(n),Fe(n))},YX.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},YX.R=2;var VX=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function JX(n,t){return hr(n)>=hr(t)&&el((function(t){return $r(n,t)}),t)}VX.g=function(n){return n},VX.a=function(n,t){return hr(n)<hr(t)?Hr((function(n,e){return $r(t,e)?_r.a(n,e):n}),n,n):Hr(_r,n,t)},VX.l=function(n,t,e){return Hr(VX,n,cr.a(e,t))},VX.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},VX.R=2;var XX,KX={};if(void 0===bX||void 0===KX||void 0===ZX)var ZX=!1;if(void 0===bX||void 0===KX||void 0===QX)var QX=0;if(void 0===bX||void 0===KX||void 0===nK)var nK=cl(0);function tK(n,t){var e=XX;XX=n;try{return t.L?t.L():t.call(null)}finally{XX=e}}function eK(n,t){t.Pe=null,t.Ok=QX+=1,n=tK(t,n);var e=t.Pe;t.pd=!1;n:{var r=t.Kd,i=null==e?0:e.length;if(i===(null==r?0:r.length))for(var l=0;;){var u=l===i;if(u){r=u;break n}if(e[l]!==r[l]){r=!1;break n}l+=1}else r=!1}if(!r)n:{r=Oa(e),i=Oa(t.Kd),t.Kd=e,e=De(VX.a(r,i)),l=null;for(var a=u=0;;)if(a<u){Zt(l.Aa(null,a),t),a+=1}else{if(!(e=De(e)))break;Dr(l=e)?(e=le(l),a=ue(l),l=e,u=hr(e),e=a):(Zt(e=Me(l),t),e=Te(l),l=null,u=0),a=0}for(r=De(VX.a(i,r)),i=null,u=l=0;;)if(u<l)Qt(e=i.Aa(null,u),t),u+=1;else{if(!(r=De(r)))break n;Dr(i=r)?(r=le(i),l=ue(i),i=r,e=hr(r),r=l,l=e):(Qt(e=Me(i),t),r=Te(i),i=null,l=0),u=0}}return n}function rK(n){var t=XX;if(null!=t){var e=t.Pe;null==e?t.Pe=[n]:e.push(n)}}function iK(n,t){return ZX&&hl.j(nK,Jr,hr(t)-hr(n)),t}function lK(n,t,e){var r=n.Sb;return n.Sb=iK(r,mr.j(r,t,e)),n.Rg=null}function uK(n,t){var e=n.Sb;return n.Sb=iK(e,vr.a(e,t)),n.Rg=null}function aK(n,t,e){for(var r=n.Rg,i=(r=null==r?n.Rg=Wr((function(n,t,e){return n.push(t),n.push(e),n}),[],n.Sb):r).length,l=0;l<i;){var u=r[l],a=r[l+1];a.aa?a.aa(u,n,t,e):a.call(null,u,n,t,e),l=2+l}}function oK(n,t,e,r){Gt(t,["#<",ii.g(r)," "].join(""));n:{r=XX,XX=null;try{var i=St(n);break n}finally{XX=r}i=void 0}return Ya(i,t,e),Gt(t,">")}if(void 0===bX||void 0===KX||void 0===sK)var sK=null;function cK(){for(;;){var n=sK;if(null==n)return null;sK=null;for(var t=n.length,e=0;e<t;){var r=n[e];r.pd&&null!=r.Kd&&_K(r,!0),e+=1}}}function fK(){}function hK(n,t,e,r){this.state=n,this.ba=t,this.Jd=e,this.Sb=r,this.B=2154201088,this.U=114690}IX=cK,(i=hK.prototype).Ng=An,i.ka=function(n,t,e){return oK(this,t,e,"Atom:")},i.X=function(){return this.ba},i.la=function(){return d(this)},i.ga=function(n,t){return this===t},i.hc=function(n,t){if(null!=this.Jd&&!zn(this.Jd.g?this.Jd.g(t):this.Jd.call(null,t)))throw Error("Assert failed: Validator rejected reference state\n(validator new-value)");return n=this.state,this.state=t,null!=this.Sb&&aK(this,n,t),t},i.Se=function(n,t){return this.hc(null,t.g?t.g(this.state):t.call(null,this.state))},i.Te=function(n,t,e){return this.hc(null,t.a?t.a(this.state,e):t.call(null,this.state,e))},i.Ue=function(n,t,e,r){return this.hc(null,t.j?t.j(this.state,e,r):t.call(null,this.state,e,r))},i.Ve=function(n,t,e,r,i){return this.hc(null,Pi.za(t,this.state,e,r,i))},i.We=function(n,t){aK(this,n,t)},i.oe=function(n,t,e){return lK(this,t,e)},i.pe=function(n,t){return uK(this,t)},i.Y=function(n,t){return new hK(this.state,t,this.Jd,this.Sb)},i.wc=function(){return rK(this),this.state};var dK=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],new lr(e.slice(1),0,null))}};function pK(n,t){this.Ob=n,this.path=t,this.Sb=this.state=this.Kg=null,this.B=2153807872,this.U=114690}function gK(n){var t=XX;XX=null;try{return n.wc(null)}finally{XX=t}}function mK(n,t,e){t!==e&&(n.state=e,null!=n.Sb&&aK(n,t,e))}function vK(n){var t=den;if(!((null!=t?An===t.Ng||!t.od&&Un(fK,t):Un(fK,t))||zr(t)&&!Cr(t)))throw Error(["Assert failed: ",["src must be a reactive atom or a function, not ",Ja.l(ur([t]))," while attempting to get path: ",Ja.l(ur([n]))].join(""),"\n(or (satisfies? IReactiveAtom src) (and (ifn? src) (not (vector? src))))"].join(""));return new pK(t,n)}function wK(n){if(null!=n&&null!=n.Mg)n.Mg(n);else{var t=wK[s(null==n?null:n)];if(null!=t)t.g?t.g(n):t.call(null,n);else{if(null==(t=wK._))throw Hn("IDisposable.dispose!",n);t.g?t.g(n):t.call(null,n)}}}function yK(n,t,e,r){return e===r||n.pd?n=null:null==n.Sc?(n.pd=!0,null==sK&&(sK=[],!1===PX.Cf&&HX(PX)),n=sK.push(n)):n=!0===n.Sc?_K(n,!1):n.Sc.g?n.Sc.g(n):n.Sc.call(null,n),n}function bK(n){this.Tb=n,this.state=null,this.pd=!0,this.Gh=!1,this.Yf=this.Sc=this.Sb=this.Kd=null,this.B=2153807872,this.U=114690}function xK(n){var t=XX;XX=null;try{return n.wc(null)}finally{XX=t}}function _K(n,t){var e=n.state;if(zn(t)){t=n.Tb;try{n.Yf=null;var r=eK(t,n)}catch(t){r=t,n.state=r,n.Yf=r,r=n.pd=!1}}else r=eK(n.Tb,n);return n.Gh||(n.state=r,null==n.Sb||Ne.a(e,r)||aK(n,e,r)),r}function kK(n,t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;t=gr.a(e,TT);var r=gr.a(e,ef),i=gr.a(e,Rz);e=gr.a(e,zC),null!=t&&(n.Sc=t),null!=r&&(n.Lh=r),null!=i&&(n.Kh=i),null!=e&&(n.Gh=e)}function jK(n){for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;e=arguments[0];var i=null!=(t=1<t.length?new lr(t.slice(1),0,null):null)&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;return t=gr.a(i,TT),r=gr.a(i,ef),i=gr.a(i,Rz),kK(e=new bK(e),new ku(null,3,[TT,t,ef,r,Rz,i],null)),e}dK.g=function(n){return new hK(n,null,null,null)},dK.l=function(n,t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;return new hK(n,t=gr.a(e,Rd),e=gr.a(e,Rv),null)},dK.S=function(n){var t=Me(n);return n=Te(n),this.l(t,n)},dK.R=1,(i=pK.prototype).Ng=An,i.ka=function(n,t,e){return oK(this,t,e,["Cursor: ",ii.g(this.path)].join(""))},i.la=function(){return je(new Xl(null,2,5,Kl,[this.Ob,this.path],null))},i.ga=function(n,t){return t instanceof pK&&Ne.a(this.path,t.path)&&Ne.a(this.Ob,t.Ob)},i.hc=function(n,t){return mK(this,this.state,t),(null!=this.Ob?32768&this.Ob.B||An===this.Ob.Qd||!this.Ob.B&&Un(Et,this.Ob):Un(Et,this.Ob))?Ne.a(this.path,Zl)?fl(this.Ob,t):hl.aa(this.Ob,zl,this.path,t):this.Ob.a?this.Ob.a(this.path,t):this.Ob.call(null,this.path,t),t},i.Se=function(n,t){var e,r=this;return r.hc(null,(e=gK(r),t.g?t.g(e):t.call(null,e)))},i.Te=function(n,t,e){var r,i=this;return i.hc(null,(r=gK(i),t.a?t.a(r,e):t.call(null,r,e)))},i.Ue=function(n,t,e,r){var i,l=this;return l.hc(null,(i=gK(l),t.j?t.j(i,e,r):t.call(null,i,e,r)))},i.Ve=function(n,t,e,r,i){return this.hc(null,Pi.za(t,gK(this),e,r,i))},i.We=function(n,t){aK(this,n,t)},i.oe=function(n,t,e){return lK(this,t,e)},i.pe=function(n,t){return uK(this,t)},i.wc=function(){var n,t=this,e=this,r=t.state,i=null==(n=t.Kg)?function(n,t,e,r){var i=t.Lg,l=(i=null==i?ju:i).a?i.a(e,null):i.call(null,e,null);if(null!=l)return St(l);if(null==XX)return n.L?n.L():n.call(null);var u=St(l=function(){function i(){ZX&&hl.a(nK,Kr);var n=vr.a(t.Lg,e);return t.Lg=n,null!=r&&(r.Kg=null),null}return jK.j?jK.j(n,Rz,i):jK.call(null,n,Rz,i)}());return t.Lg=mr.j(i,e,l),ZX&&hl.a(nK,He),null!=r&&(r.Kg=l),u}(n=(null!=t.Ob?32768&t.Ob.B||An===t.Ob.Qd||!t.Ob.B&&Un(Et,t.Ob):Un(Et,t.Ob))?function(){return Nl(St(t.Ob),t.path)}:function(){return t.Ob.g?t.Ob.g(t.path):t.Ob.call(null,t.path)},t.Ob,t.path,e):St(n);return mK(e,r,i),i},(i=bK.prototype).Ng=An,i.ka=function(n,t,e){return oK(this,t,e,["Reaction ",ii.g(je(this)),":"].join(""))},i.la=function(){return d(this)},i.ga=function(n,t){return this===t},i.Mg=function(){var n=this.state,t=this.Kd;this.Sc=this.state=this.Kd=null,this.pd=!0,t=De(Oa(t));for(var e=null,r=0,i=0;;)if(i<r){Qt(e.Aa(null,i),this),i+=1}else{if(!(t=De(t)))break;Dr(e=t)?(t=le(e),i=ue(e),e=t,r=hr(t),t=i):(Qt(t=Me(e),this),t=Te(e),e=null,r=0),i=0}if(null!=this.Kh&&this.Kh(n),null==(n=this.Nk))return null;for(t=n.length,e=0;;){if(!(e<t))return null;(r=n[e]).g?r.g(this):r.call(null,this),e+=1}},i.hc=function(n,t){if(!wr(this.Lh))throw Error("Assert failed: Reaction is read only; on-set is not allowed\n(fn? (.-on-set a))");return n=this.state,this.state=t,this.Lh(n,t),aK(this,n,t),t},i.Se=function(n,t){var e,r=this;return r.hc(null,(e=xK(r),t.g?t.g(e):t.call(null,e)))},i.Te=function(n,t,e){var r,i=this;return i.hc(null,(r=xK(i),t.a?t.a(r,e):t.call(null,r,e)))},i.Ue=function(n,t,e,r){var i,l=this;return l.hc(null,(i=xK(l),t.j?t.j(i,e,r):t.call(null,i,e,r)))},i.Ve=function(n,t,e,r,i){return this.hc(null,Pi.za(t,xK(this),e,r,i))},i.We=function(n,t){aK(this,n,t)},i.oe=function(n,t,e){return lK(this,t,e)},i.pe=function(n,t){return n=kr(this.Sb),uK(this,t),!n&&kr(this.Sb)&&null==this.Sc?this.Mg(null):null},i.wc=function(){var n=this.Yf;if(null!=n)throw n;return(n=null==XX)&&cK(),n&&null==this.Sc?this.pd&&(n=this.state,this.state=this.Tb.L?this.Tb.L():this.Tb.call(null),null==this.Sb||Ne.a(n,this.state)||aK(this,n,this.state)):(rK(this),this.pd&&_K(this,!1)),this.state};var OK=jK(null);var AK,EK=e(7);function SK(n,t){var e=t.argv;if(null==e){e=Kl,n=n.constructor;n:for(var r=E(t),i=r.length,l=ju,u=0;u<i;){var a=r[u];l=mr.j(l,vi.g(a),S(t,a)),u+=1}t=new Xl(null,2,5,e,[n,l],null)}else t=e;return t}function CK(n){var t;return(t=wr(n))&&(t=null!=(null==(n=null==n?null:n.prototype)?null:n.Fd)),t}function DK(n){var t=n.ti;return null!=t?t:n.ti=dK.g(null)}if(void 0===bX||void 0===xX||void 0==={}||void 0===MK)var MK=null;function FK(){var n=AK;return null==(n=null==n?null:n.constructor)?null:n.displayName}function TK(){var n=FK();return kr(n)?"":[" (in ",ii.g(n),")"].join("")}var NK=new ku(null,1,[zC,!0],null),BK=new ku(null,1,[$C,function(){var n=this,t=S(n,"cljsRatom");return n.cljsIsDirty=!1,null==t?function(n,t){var e=NK,r=OK,i=eK(n,r);return null!=r.Kd&&(OK=jK(null),kK(r,e),r.Tb=n,r.Sc=function(){return GX.g?GX.g(t):GX.call(null,t)},t.cljsRatom=r),i}((function(){n:{var t=AK;AK=n;try{var e=[!1];try{var r=function(n){for(;;){var t=n.Fd;if(!zr(t))throw Error(["Assert failed: ",["Expected something callable, not ",Ja.l(ur([t]))].join(""),"\n(clojure.core/ifn? f)"].join(""));var e=null,r=!0===n.ri?t.call(n,n):function(){var e=SK(n,n.props);switch(hr(e)){case 1:return t.call(n);case 2:return t.call(n,dr(e,1));case 3:return t.call(n,dr(e,1),dr(e,2));case 4:return t.call(n,dr(e,1),dr(e,2),dr(e,3));case 5:return t.call(n,dr(e,1),dr(e,2),dr(e,3),dr(e,4));default:return t.apply(n,Vn(e).slice(1))}}();if(Cr(r))return MK.g?MK.g(r):MK.call(null,r);if(!zr(r))return r;e=CK(r)?function(n,t,e,r){return function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=Pi.j(tu,r,n),MK.g?MK.g(n):MK.call(null,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()}(0,0,0,r):r,n.Fd=e}}(n);e[0]=!0;var i=r;break n}finally{zn(e[0])||zn(MX)&&(zn(!1)?TX:console).error(["Error rendering component",TK()].join(""))}}finally{AK=t}i=void 0}return i}),n):_K(t,!1)}],null);function zK(n,t){if(n=function(n,t){switch(n instanceof pi?n.qa:null){case"getDefaultProps":throw Error("getDefaultProps not supported");case"getDerivedStateFromProps":return function(n,e){return t.call(null,r=null==(r=n.argv)?n:Er(r=pr(r,1))?r:null,e);var r};case"getInitialState":return function(n){return fl(DK(n),t.call(n,n))};case"getSnapshotBeforeUpdate":return function(n,e){return t.call(this,this,SK(this,n),e)};case"componentWillReceiveProps":case"UNSAFE_componentWillReceiveProps":return function(n){return t.call(this,this,SK(this,n))};case"shouldComponentUpdate":return function(n){var e=CX;if(zn(e))return e;e=this.props.argv;var r=n.argv,i=null==e||null==r;if(null!=t)return i?t.call(this,this,SK(this,this.props),SK(this,n)):t.call(this,this,e,r);if(i)return i;try{return Ri.a(e,r)}catch(t){return n=t,zn(MX)&&(zn(!1)?TX:console).warn(["Warning: Exception thrown while comparing argv's in shouldComponentUpdate: ",ii.g(e)," ",ii.g(r)," ",ii.g(n)].join("")),!1}};case"componentWillUpdate":case"UNSAFE_componentWillUpdate":return function(n,e){return t.call(this,this,SK(this,n),e)};case"componentDidUpdate":return function(n,e,r){return t.call(this,this,SK(this,n),e,r)};case"componentWillMount":case"UNSAFE_componentWillMount":case"componentDidMount":return function(){return t.call(this,this)};case"componentWillUnmount":return function(){var n=S(this,"cljsRatom");return null!=n&&wK(n),this.cljsIsDirty=!1,null==t?null:t.call(this,this)};case"componentDidCatch":return function(n,e){return t.call(this,this,n,e)};default:return null}}(n,t),zn(zn(n)?t:n)&&!zr(t))throw Error(["Assert failed: ",["Expected something callable, not ",Ja.l(ur([t]))].join(""),"\n(clojure.core/ifn? f)"].join(""));return zn(n)?n:t}var PK=new ku(null,2,[xE,null,nO,null],null),$K=function(n){var t=cl(ju);return function(e){var r=gr.a(St(t),e);return null!=r||(r=n.g?n.g(e):n.call(null,e),hl.aa(t,mr,e,r)),r}}((function(n){if("string"==typeof n)return n;var t=De(n=bG(n=wG(n=Ea(n),/(unsafe|UNSAFE)[-_]/,"UNSAFE_"),/-/));return n=Me(t),t=Te(t),Pi.j(ii,n,pl.a(jX,t))}));function RK(n){return Wr((function(n,t,e){return mr.j(n,vi.g($K.g?$K.g(t):$K.call(null,t)),e)}),ju,n)}function IK(n){return Wr((function(n,t,e){return n[t=Ea(t)]=e,n}),{},n)}var LK=new Xl(null,5,5,Kl,[qm,hb,cq,cj,fj],null);function UK(n){function t(n,t,e){return EK.Component.call(this,n,t,e),zn(u)&&(u.a?u.a(this,n):u.call(null,this,n)),zn(l)&&(this.state=l.g?l.g(this):l.call(null,this)),this.lh=BX+=1,this}if(!Er(n))throw Error("Assert failed: (map? body)");n=function(n){var t=wa(n,new Xl(null,2,5,Kl,[$C,GS],null)),e=Me(ga(t));if(!In(EP.g(n)))throw Error("Assert failed: :component-function is no longer supported, use :reagent-render instead.\n(not (:componentFunction fmap))");if(!(0<hr(t)))throw Error("Assert failed: Missing reagent-render\n(pos? (count renders))");if(1!==hr(t))throw Error("Assert failed: Too many render functions supplied\n(== 1 (count renders))");if(!zr(e))throw Error(["Assert failed: ",["Expected something callable, not ",Ja.l(ur([e]))].join(""),"\n(clojure.core/ifn? render-fun)"].join(""));var r,i=zn(r=GS.g(n))?r:$C.g(n);t=null==GS.g(n),e=function(){var t=Cv.g(n);return zn(t)||zn(t=AX(i))?t:ii.g(ro.g("reagent"))}();var l=Wr((function(n,t,e){return mr.j(n,t,zK(t,e))}),ju,n);return mr.l(l,Cv,e,ur([gh,t,GS,i,$C,$C.g(BK)]))}(ma.l(ur([PK,RK(n)])));var e=IK(Pi.l(vr,n,Cv,XF,DT,ur([$C,GS,LK]))),r=IK(wa(n,LK)),i=Cv.g(n),l=XF.g(n),u=DT.g(n);return D(t.prototype,EK.Component.prototype,e),zn($C.g(n))&&(t.prototype.render=$C.g(n)),zn(GS.g(n))&&(t.prototype.Fd=GS.g(n)),zn(gh.g(n))&&(t.prototype.ri=gh.g(n)),D(t,EK.Component,r),zn(i)&&(t.displayName=i,t.sa=i,t.ua=function(n){return Gt(n,i)}),t.ta=!0,t.prototype.constructor=t}function qK(n){if(!zr(n))throw Error(["Assert failed: ",["Expected something callable, not ",Ja.l(ur([n]))].join(""),"\n(clojure.core/ifn? f)"].join(""));var t;if(function(n){var t;return(t=wr(n))&&(t=null!=(null==(n=null==n?null:n.prototype)?null:n.render)),t}(n)&&!CK(n)&&zn(MX)&&(zn(!1)?TX:console).warn(["Warning: Using native React classes directly in Hiccup forms is not supported. Use create-element or adapt-react-class instead: ",ii.g((t=AX(n),zn(t)?t:n)),TK()].join("")),CK(n))return n.mh=n;var e=xr(n);return e=UK(e=mr.j(e,ND,n)),n.mh=e}var HK=e(7),WK=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;function GK(n){return EX(n)||"string"==typeof n}var YK={class:"className",for:"htmlFor",charset:"charSet"};function VK(n,t){return n.hasOwnProperty(t)?S(n,t):null}function JK(n,t,e){if(EX(t)){var r=VK(YK,Ea(t));null==r?(r=OX(t),t=Ea(t),t=YK[t]=r):t=r}return e=XK.g?XK.g(e):XK.call(null,e),n[t]=e,n}function XK(n){return"object"!==s(n)?n:EX(n)?Ea(n):Er(n)?Wr(JK,{},n):jr(n)?oo(n):zr(n)?function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return Pi.a(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}():oo(n)}var KK={};function ZK(n,t,e){if(EX(t)){var r=VK(KK,Ea(t));null==r?(r=OX(t),t=Ea(t),t=KK[t]=r):t=r}return e=XK(e),n[t]=e,n}if(void 0===bX||void 0===xX||void 0==={}||void 0===QK)var QK=null;var nZ=new ba(null,new ku(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);function tZ(n){if(zn(n.jg)){n.kh=!1;var t=n.si,e=n.Ze,r=QK.g?QK.g(n):QK.call(null,n);return Ri.a(t,e)?function(n,t,e,r){var i=ju;if(i=null!=i&&(64&i.B||An===i.ja)?Pi.a(sa,i):i,i=gr.a(i,vM),n===document.activeElement&&$r(nZ,n.type)&&"string"==typeof t&&"string"==typeof e){var l=n.value;return Ri.a(l,e)?WX((function(){return tZ.g?tZ.g(r):tZ.call(null,r)})):(e=hr(l)-n.selectionStart,e=hr(t)-e,r.Ze=t,n.value=t,wr(i)&&(i.g?i.g(t):i.call(null,t)),n.selectionStart=e,n.selectionEnd=e)}return r.Ze=t,n.value=t,wr(i)?i.g?i.g(t):i.call(null,t):null}(r,t,e,n):null}return null}function eZ(n){var t,e=AK;if(zn(null!=n&&(zn(t=n.hasOwnProperty("onChange"))?n.hasOwnProperty("value"):t))){if(!zn(QK))throw Error("Assert failed: reagent.dom needs to be loaded for controlled input to work\nfind-dom-node");var r=n.value;r=null==r?"":r;var i=n.onChange;zn(e.jg)||(e.jg=!0,e.Ze=r),e.si=r,delete n.value,n.defaultValue=r,n.onChange=function(n){return function(n,t,e){return n.Ze=e.target.value,zn(n.kh)||(n.kh=!0,WX((function(){return tZ(n)}))),t.g?t.g(e):t.call(null,e)}(e,i,n)}}}var rZ=null,iZ=new ku(null,4,[XB,"ReagentInput",A_,tZ,gN,function(n){return n.jg=null},ND,function(n,t,e,r){return eZ(e),pZ.aa?pZ.aa(n,t,e,r):pZ.call(null,n,t,e,r)}],null);function lZ(n,t,e,r){this.tag=n,this.id=t,this.className=e,this.ui=r}function uZ(n){if(Er(n))try{var t=gr.a(n,ag)}catch(n){t=null}else t=null;return t}function aZ(n){var t=uZ(xr(n));return null==t?uZ(pr(n,1)):t}var oZ={};function sZ(n,t,e){var r=n.tag,i=pr(t,e),l=null==i||Er(i);i=l?i:null;var u=RF.g(i);i=zn(u)?mr.j(i,RF,SX.g(u)):i;var a=n.id;u=n.className,a=null!=a&&null==MF.g(i)?mr.j(i,MF,a):i,i=zn(u)?mr.j(a,RF,SX.a(u,RF.g(i))):a,n=zn(n.ui)?function(n){return"object"!==s(n)?n:EX(n)?Ea(n):Er(n)?Wr(ZK,{},n):jr(n)?oo(n):zr(n)?function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return Pi.a(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}():oo(n)}(i):XK(i),n=zn(n)?n:{},e+=l?1:0;n:switch(r){case"input":case"textarea":l=!0;break n;default:l=!1}return l?(l=Kl,null==rZ&&(rZ=UK(iZ)),t=br(new Xl(null,5,5,l,[rZ,t,r,n,e],null),xr(t)),hZ.g?hZ.g(t):hZ.call(null,t)):(null!=(l=uZ(xr(t)))&&(n.key=l),pZ.aa?pZ.aa(t,r,n,e):pZ.call(null,t,r,n,e))}function cZ(n){return ii.g(function n(t,e){return CV(al.a(n,t),Gr,t.g?t.g(e):t.call(null,e))}((function(n){if(wr(n)){var t=AX(n);return Ne.a("",t)||Ne.a(null,t)?n:Ee.g(t)}return n}),n))}function fZ(n,t){return[ii.g(Pi.a(ii,t)),": ",cZ(n),"\n",TK()].join("")}function hZ(n){return"object"!==s(n)?n:Cr(n)?function(n){for(;;){if(!(0<hr(n)))throw Error(["Assert failed: ",fZ(n,ur(["Hiccup form should not be empty"])),"\n(pos? (count v))"].join(""));var t=pr(n,0);if(!GK(t)&&!zr(t))throw Error(["Assert failed: ",fZ(n,ur(["Invalid Hiccup form"])),"\n(valid-tag? tag)"].join(""));if(gi(_C,t)){var e=null==(t=pr(n,1))||Er(t);t=zn(t=XK(e?t:null))?t:{},e=1+(e?1:0);var r=aZ(n);return null!=r&&(t.key=r),pZ.aa?pZ.aa(n,HK.Fragment,t,e):pZ.call(null,n,HK.Fragment,t,e)}if(!GK(t))return t=null==(e=t.mh)?qK(t):e,(e={}).argv=n,null!=(n=aZ(n))&&(e.key=n),HK.createElement(t,e);switch(e=(t=Ea(t)).indexOf(">")){case-1:if(null==(e=VK(oZ,t))){var i=t,l=Te($a(WK,Ea(i)));if(e=pr(l,0),r=pr(l,1),l=null==(l=pr(l,2))?null:wG(l,/\./," "),!zn(e))throw Error(["Assert failed: ",["Invalid tag: '",ii.g(i),"'",TK()].join(""),"\ntag"].join(""));i=Ri.a(-1,e.indexOf("-")),e=new lZ(e,r,l,i),t=oZ[t]=e}else t=e;return sZ(t,n,1);case 0:if(e=pr(n,1),!Ne.a(">",t))throw Error(["Assert failed: ",fZ(n,ur(["Invalid Hiccup tag"])),'\n(= ">" n)'].join(""));return sZ(new lZ(e,null,null,null),n,2);default:n=br(new Xl(null,2,5,Kl,[t.substring(0,e),mr.j(br(n,null),0,t.substring(e+1))],null),xr(n))}}}(n):Nr(n)?dZ.g?dZ.g(n):dZ.call(null,n):EX(n)?Ea(n):(null!=n?2147483648&n.B||An===n.Xa||!n.B&&Un(Vt,n):Un(Vt,n))?Ja.l(ur([n])):n}function dZ(n){var t={},e=function(n){var t={};return n=tK(t,n),new Xl(null,2,5,Kl,[n,null!=t.Pe],null)}((function(){return function(n,t){return Vn(pl.a((function(n){return Cr(n)&&null==aZ(n)&&(t.Sj=!0),hZ(n)}),n))}(n,t)})),r=pr(e,0);return zn(e=pr(e,1))&&zn(MX)&&(zn(!1)?TX:console).warn(["Warning: ",fZ(n,ur(["Reactive deref not supported in lazy seq, ","it should be wrapped in doall"]))].join("")),zn(t.Sj)&&zn(MX)&&(zn(!1)?TX:console).warn(["Warning: ",fZ(n,ur(["Every element in a seq should have a unique :key"]))].join("")),r}function pZ(n,t,e,r){switch(hr(n)-r){case 0:return HK.createElement(t,e);case 1:return n=hZ(pr(n,r)),HK.createElement(t,e,n);default:return HK.createElement.apply(null,Wr((function(n,t,e){return t>=r&&n.push(hZ(e)),n}),[t,e],n))}}MK=hZ;var gZ=e(28);if(void 0===bX||void 0==={}||void 0===mZ)var mZ=cl(ju);function vZ(n){return gZ.findDOMNode(n)}function wZ(n){var t=AK;if(null==t.Fd)throw Error(["Assert failed: ",["Expected a reagent component, not ",Ja.l(ur([t]))].join(""),"\n(comp/reagent-component? this)"].join(""));if(null!=n&&!Er(n))throw Error(["Assert failed: ",["Expected a valid new state, not ",Ja.l(ur([n]))].join(""),"\n(clojure.core/or (clojure.core/nil? new-state) (clojure.core/map? new-state))"].join(""));hl.j(function(n){if(null==n.Fd)throw Error(["Assert failed: ",["Expected a reagent component, not ",Ja.l(ur([n]))].join(""),"\n(comp/reagent-component? this)"].join(""));return DK(n)}(t),ma,n)}function yZ(n){if(null==n.Fd)throw Error(["Assert failed: ",["Expected a reagent component, not ",Ja.l(ur([n]))].join(""),"\n(comp/reagent-component? this)"].join(""));return SK(n,n.props)}function bZ(n){return dK.g(n)}QK=vZ,e(7);var xZ,_Z={fk:["BC","AD"],ek:["Before Christ","Anno Domini"],ik:"JFMAMJJASOND".split(""),qk:"JFMAMJJASOND".split(""),hk:"January February March April May June July August September October November December".split(" "),pk:"January February March April May June July August September October November December".split(" "),lk:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sk:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),wk:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),uk:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),nk:"Sun Mon Tue Wed Thu Fri Sat".split(" "),tk:"Sun Mon Tue Wed Thu Fri Sat".split(" "),jk:"SMTWTFS".split(""),rk:"SMTWTFS".split(""),mk:["Q1","Q2","Q3","Q4"],kk:["1st quarter","2nd quarter","3rd quarter","4th quarter"],bk:["AM","PM"],ck:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],vk:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],dk:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],$h:6,xk:[5,6],ai:5};function kZ(n,t){switch(t){case 1:return 0!=n%4||0==n%100&&0!=n%400?28:29;case 5:case 8:case 10:case 3:return 30}return 31}function jZ(n,t,e){return n=(n=new Date(n,t,e)).valueOf()+864e5*(3-((n.getDay()+6)%7+7)%7),Math.floor(Math.round((n-new Date(new Date(n).getFullYear(),0,1).valueOf())/864e5)/7)+1}function OZ(n,t,e,r,i,l){"string"==typeof n?(this.jb=n==AZ?t:0,this.gb=n==EZ?t:0,this.kb=n==SZ?t:0,this.eb=n==CZ?t:0,this.fb=n==DZ?t:0,this.hb=n==MZ?t:0):(this.jb=n||0,this.gb=t||0,this.kb=e||0,this.eb=r||0,this.fb=i||0,this.hb=l||0)}xZ=_Z,OZ.prototype.Ie=function(n){var t=Math.min(this.jb,this.gb,this.kb,this.eb,this.fb,this.hb),e=Math.max(this.jb,this.gb,this.kb,this.eb,this.fb,this.hb);return 0>t&&0<e?null:n||0!=t||0!=e?(e=[],0>t&&e.push("-"),e.push("P"),(this.jb||n)&&e.push(Math.abs(this.jb)+"Y"),(this.gb||n)&&e.push(Math.abs(this.gb)+"M"),(this.kb||n)&&e.push(Math.abs(this.kb)+"D"),(this.eb||this.fb||this.hb||n)&&(e.push("T"),(this.eb||n)&&e.push(Math.abs(this.eb)+"H"),(this.fb||n)&&e.push(Math.abs(this.fb)+"M"),(this.hb||n)&&e.push(Math.abs(this.hb)+"S")),e.join("")):"PT0S"},OZ.prototype.equals=function(n){return n.jb==this.jb&&n.gb==this.gb&&n.kb==this.kb&&n.eb==this.eb&&n.fb==this.fb&&n.hb==this.hb},OZ.prototype.clone=function(){return new OZ(this.jb,this.gb,this.kb,this.eb,this.fb,this.hb)};var AZ="y",EZ="m",SZ="d",CZ="h",DZ="n",MZ="s";function FZ(n,t,e){"number"==typeof n?(this.date=TZ(n,t||0,e||1),zZ(this,e||1)):h(n)?(this.date=TZ(n.getFullYear(),n.getMonth(),n.getDate()),zZ(this,n.getDate())):(this.date=new Date(y()),n=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),zZ(this,n))}function TZ(n,t,e){return t=new Date(n,t,e),0<=n&&100>n&&t.setFullYear(t.getFullYear()-1900),t}function NZ(n){var t=n.getDate(),e=n.getFullYear();for(n=n.getMonth()-1;0<=n;n--)t+=kZ(e,n);return t}function BZ(n){if(0==(n=n.getTimezoneOffset()))n="Z";else{var t=Math.abs(n)/60,e=Math.floor(t);t=60*(t-e),n=(0<n?"-":"+")+tn(e)+":"+tn(t)}return n}function zZ(n,t){n.getDate()!=t&&(t=n.getDate()<t?1:-1,n.date.setUTCHours(n.date.getUTCHours()+t))}function PZ(n,t,e,r,i,l,u){this.date="number"==typeof n?new Date(n,t||0,e||1,r||0,i||0,l||0,u||0):new Date(n&&n.getTime?n.getTime():y())}function $Z(n,t,e,r,i,l,u){n="number"==typeof n?Date.UTC(n,t||0,e||1,r||0,i||0,l||0,u||0):n?n.getTime():y(),this.date=new Date(n)}function RZ(n){var t=new $Z;return t.setTime(n),t}function IZ(n){var t=UZ;return Dl.a(ju,function n(e){return new wi(null,(function(){for(;;){var r=De(e);if(r){if(Dr(r)){var i=le(r),l=hr(i),u=xi(l);n:for(var a=0;;){if(!(a<l)){i=!0;break n}var o=ut.a(i,a),s=pr(o,0);o=pr(o,1),s=new Xl(null,2,5,Kl,[s,t.g?t.g(o):t.call(null,o)],null),u.add(s),a+=1}return ji(u.Na(),i?n(ue(r)):null)}return u=pr(i=Me(r),0),i=pr(i,1),di(new Xl(null,2,5,Kl,[u,t.g?t.g(i):t.call(null,i)],null),n(Fe(r)))}return null}}),null,null)}(n))}OZ.prototype.Yd=function(){return 0==this.jb&&0==this.gb&&0==this.kb&&0==this.eb&&0==this.fb&&0==this.hb},OZ.prototype.add=function(n){this.jb+=n.jb,this.gb+=n.gb,this.kb+=n.kb,this.eb+=n.eb,this.fb+=n.fb,this.hb+=n.hb},(i=FZ.prototype).Vd=xZ.$h,i.Wd=xZ.ai,i.clone=function(){var n=new FZ(this.date);return n.Vd=this.Vd,n.Wd=this.Wd,n},i.getFullYear=function(){return this.date.getFullYear()},i.getYear=function(){return this.getFullYear()},i.getMonth=function(){return this.date.getMonth()},i.getDate=function(){return this.date.getDate()},i.getTime=function(){return this.date.getTime()},i.getDay=function(){return this.date.getDay()},i.getUTCFullYear=function(){return this.date.getUTCFullYear()},i.getUTCMonth=function(){return this.date.getUTCMonth()},i.getUTCDate=function(){return this.date.getUTCDate()},i.getUTCDay=function(){return this.date.getDay()},i.getUTCHours=function(){return this.date.getUTCHours()},i.getUTCMinutes=function(){return this.date.getUTCMinutes()},i.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},i.set=function(n){this.date=new Date(n.getFullYear(),n.getMonth(),n.getDate())},i.setFullYear=function(n){this.date.setFullYear(n)},i.setYear=function(n){this.setFullYear(n)},i.setMonth=function(n){this.date.setMonth(n)},i.setDate=function(n){this.date.setDate(n)},i.setTime=function(n){this.date.setTime(n)},i.setUTCFullYear=function(n){this.date.setUTCFullYear(n)},i.setUTCMonth=function(n){this.date.setUTCMonth(n)},i.setUTCDate=function(n){this.date.setUTCDate(n)},i.add=function(n){if(n.jb||n.gb){var t=this.getMonth()+n.gb+12*n.jb,e=this.getYear()+Math.floor(t/12);0>(t%=12)&&(t+=12);var r=Math.min(kZ(e,t),this.getDate());this.setDate(1),this.setFullYear(e),this.setMonth(t),this.setDate(r)}n.kb&&(t=new Date(this.getYear(),this.getMonth(),this.getDate(),12),n=new Date(t.getTime()+864e5*n.kb),this.setDate(1),this.setFullYear(n.getFullYear()),this.setMonth(n.getMonth()),this.setDate(n.getDate()),zZ(this,n.getDate()))},i.Ie=function(n){return[this.getFullYear(),tn(this.getMonth()+1),tn(this.getDate())].join(n?"-":"")+""},i.equals=function(n){return!(!n||this.getYear()!=n.getYear()||this.getMonth()!=n.getMonth()||this.getDate()!=n.getDate())},i.toString=function(){return this.Ie()},i.valueOf=function(){return this.date.valueOf()},b(PZ,FZ),(i=PZ.prototype).getHours=function(){return this.date.getHours()},i.getMinutes=function(){return this.date.getMinutes()},i.getSeconds=function(){return this.date.getSeconds()},i.getMilliseconds=function(){return this.date.getMilliseconds()},i.getUTCDay=function(){return this.date.getUTCDay()},i.getUTCHours=function(){return this.date.getUTCHours()},i.getUTCMinutes=function(){return this.date.getUTCMinutes()},i.getUTCSeconds=function(){return this.date.getUTCSeconds()},i.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},i.setHours=function(n){this.date.setHours(n)},i.setMinutes=function(n){this.date.setMinutes(n)},i.setSeconds=function(n){this.date.setSeconds(n)},i.setMilliseconds=function(n){this.date.setMilliseconds(n)},i.setUTCHours=function(n){this.date.setUTCHours(n)},i.setUTCMinutes=function(n){this.date.setUTCMinutes(n)},i.setUTCSeconds=function(n){this.date.setUTCSeconds(n)},i.setUTCMilliseconds=function(n){this.date.setUTCMilliseconds(n)},i.add=function(n){FZ.prototype.add.call(this,n),n.eb&&this.setUTCHours(this.date.getUTCHours()+n.eb),n.fb&&this.setUTCMinutes(this.date.getUTCMinutes()+n.fb),n.hb&&this.setUTCSeconds(this.date.getUTCSeconds()+n.hb)},i.Ie=function(n){var t=FZ.prototype.Ie.call(this,n);return n?t+"T"+tn(this.getHours())+":"+tn(this.getMinutes())+":"+tn(this.getSeconds()):t+"T"+tn(this.getHours())+tn(this.getMinutes())+tn(this.getSeconds())},i.equals=function(n){return this.getTime()==n.getTime()},i.toString=function(){return this.Ie()},i.clone=function(){var n=new PZ(this.date);return n.Vd=this.Vd,n.Wd=this.Wd,n},b($Z,PZ),(i=$Z.prototype).clone=function(){var n=new $Z(this.date);return n.Vd=this.Vd,n.Wd=this.Wd,n},i.add=function(n){(n.jb||n.gb)&&FZ.prototype.add.call(this,new OZ(n.jb,n.gb)),this.date=new Date(this.date.getTime()+1e3*(n.hb+60*(n.fb+60*(n.eb+24*n.kb))))},i.getTimezoneOffset=function(){return 0},i.getFullYear=PZ.prototype.getUTCFullYear,i.getMonth=PZ.prototype.getUTCMonth,i.getDate=PZ.prototype.getUTCDate,i.getHours=PZ.prototype.getUTCHours,i.getMinutes=PZ.prototype.getUTCMinutes,i.getSeconds=PZ.prototype.getUTCSeconds,i.getMilliseconds=PZ.prototype.getUTCMilliseconds,i.getDay=PZ.prototype.getUTCDay,i.setFullYear=PZ.prototype.setUTCFullYear,i.setMonth=PZ.prototype.setUTCMonth,i.setDate=PZ.prototype.setUTCDate,i.setHours=PZ.prototype.setUTCHours,i.setMinutes=PZ.prototype.setUTCMinutes,i.setSeconds=PZ.prototype.setUTCSeconds,i.setMilliseconds=PZ.prototype.setUTCMilliseconds;var LZ=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function UZ(n){return(null!=n?32768&n.B||An===n.Qd||!n.B&&Un(Et,n):Un(Et,n))?St(n):n}function qZ(n){if(null!=n?32768&n.B||An===n.Qd||!n.B&&Un(Et,n):Un(Et,n)){if(n instanceof hK)return n.state;if(n instanceof bK)return xK(n);if(n instanceof pK)return gK(n);throw Error("Unknown reactive data type")}return n}function HZ(n){for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;return WZ(arguments[0],1<t.length?new lr(t.slice(1),0,null):null)}function WZ(n,t){return[ii.g(zn(t)?-n:n),"px"].join("")}function GZ(n){n=n.parentNode;for(var t=0,e=0;;){if(!Ri.a(n.tagName,"BODY"))return new ku(null,2,[fW,t,Zm,e],null);t+=n.scrollLeft,e+=n.scrollTop,n=n.parentNode}}function YZ(){var n=new PZ;return new $Z(n.getYear(),n.getMonth(),n.getDate(),0,0,0,0)}function VZ(n,t){var e=Array.prototype.slice.call(arguments),r=e.shift();if(void 0===r)throw Error("[goog.string.format] Template required");return r.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,(function(n,t,r,i,l,u,a,o){if("%"==u)return"%";var s=e.shift();if(void 0===s)throw Error("[goog.string.format] Not enough arguments");return arguments[0]=s,VZ.dd[u].apply(null,arguments)}))}LZ.l=function(n){return el(Er,n)?Pi.j(va,LZ,n):sr(n)},LZ.R=0,LZ.S=function(n){return this.l(De(n))},VZ.dd={},VZ.dd.s=function(n,t,e){return isNaN(e)||""==e||n.length>=Number(e)?n:n=-1<t.indexOf("-",0)?n+nn(" ",Number(e)-n.length):nn(" ",Number(e)-n.length)+n},VZ.dd.f=function(n,t,e,r,i){r=n.toString(),isNaN(i)||""==i||(r=parseFloat(n).toFixed(i));var l=0>Number(n)?"-":0<=t.indexOf("+")?"+":0<=t.indexOf(" ")?" ":"";return 0<=Number(n)&&(r=l+r),isNaN(e)||r.length>=Number(e)||(r=isNaN(i)?Math.abs(Number(n)).toString():Math.abs(Number(n)).toFixed(i),n=Number(e)-r.length-l.length,0<=t.indexOf("-",0)?r=l+r+nn(" ",n):(t=0<=t.indexOf("0",0)?"0":" ",r=l+nn(t,n)+r)),r},VZ.dd.d=function(n,t,e,r,i,l,u,a){return VZ.dd.f(parseInt(n,10),t,e,r,0,l,u,a)},VZ.dd.i=VZ.dd.d,VZ.dd.u=VZ.dd.d;var JZ=new Xl(null,12,5,Kl,"January February March April May June July August September October November December".split(" "),null),XZ=new Xl(null,7,5,Kl,"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),null);function KZ(n){for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;return ZZ(0<t.length?new lr(t.slice(0),0,null):null)}function ZZ(n){return el((function(n){return n instanceof FZ}),n)?Pi.a(Ne,pl.a((function(n){return n.getTime()}),n)):Pi.a(Ne,n)}function QZ(n){return n=pl.a((function(n){return n instanceof pi||n instanceof Ae?ii.g(n):n}),n),Pi.j(VZ,"%s not implemented yet",n)}function nQ(){}function tQ(n){if(null!=n&&null!=n.hf)n=n.hf(n);else{var t=tQ[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=tQ._))throw Hn("DateTimeProtocol.year",n);n=t.g?t.g(n):t.call(null,n)}}return n}function eQ(n){if(null!=n&&null!=n.ff)n=n.ff(n);else{var t=eQ[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=eQ._))throw Hn("DateTimeProtocol.month",n);n=t.g?t.g(n):t.call(null,n)}}return n}function rQ(n){if(null!=n&&null!=n.bf)n=n.bf(n);else{var t=rQ[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=rQ._))throw Hn("DateTimeProtocol.day",n);n=t.g?t.g(n):t.call(null,n)}}return n}function iQ(n){if(null!=n&&null!=n.cf)n=n.cf(n);else{var t=iQ[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=iQ._))throw Hn("DateTimeProtocol.day-of-week",n);n=t.g?t.g(n):t.call(null,n)}}return n}function lQ(n,t){if(null!=n&&null!=n.$e)n=n.$e(n,t);else{var e=lQ[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=lQ._))throw Hn("DateTimeProtocol.after?",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function uQ(n,t){if(null!=n&&null!=n.af)n=n.af(n,t);else{var e=uQ[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=uQ._))throw Hn("DateTimeProtocol.before?",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function aQ(n,t){if(null!=n&&null!=n.gf)n=n.gf(n,t);else{var e=aQ[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=aQ._))throw Hn("DateTimeProtocol.plus-",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function oQ(n,t){if(null!=n&&null!=n.ef)n=n.ef(n,t);else{var e=oQ[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=oQ._))throw Hn("DateTimeProtocol.minus-",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function sQ(n){if(null!=n&&null!=n.df)n=n.df(n);else{var t=sQ[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=sQ._))throw Hn("DateTimeProtocol.first-day-of-the-month-",n);n=t.g?t.g(n):t.call(null,n)}}return n}function cQ(n,t,e,r,i,l,u,a,o,s,c){this.jb=n,this.gb=t,this.jc=e,this.kb=r,this.eb=i,this.fb=l,this.hb=u,this.ic=a,this.o=o,this.h=s,this.G=c,this.B=2230716170,this.U=139264}function fQ(n){var t=vr.l(n,cz,ur([Hx,GU,D_,ez,wR,IO,vq]));return t=Sr(n)?Dl.a(ju,t):t,new cQ(cz.g(n),Hx.g(n),GU.g(n),D_.g(n),ez.g(n),wR.g(n),IO.g(n),vq.g(n),null,Ii(t),null)}(i=cQ.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"years":return this.jb;case"months":return this.gb;case"weeks":return this.jc;case"days":return this.kb;case"hours":return this.eb;case"minutes":return this.fb;case"seconds":return this.hb;case"millis":return this.ic;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs-time.core.Period{",", ","}",e,Si.a(new Xl(null,8,5,Kl,[new Xl(null,2,5,Kl,[cz,this.jb],null),new Xl(null,2,5,Kl,[Hx,this.gb],null),new Xl(null,2,5,Kl,[GU,this.jc],null),new Xl(null,2,5,Kl,[D_,this.kb],null),new Xl(null,2,5,Kl,[ez,this.eb],null),new Xl(null,2,5,Kl,[wR,this.fb],null),new Xl(null,2,5,Kl,[IO,this.hb],null),new Xl(null,2,5,Kl,[vq,this.ic],null)],null),this.h))},i.Ca=function(){return new gu(this,8,new Xl(null,8,5,Kl,[cz,Hx,GU,D_,ez,wR,IO,vq],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new cQ(this.jb,this.gb,this.jc,this.kb,this.eb,this.fb,this.hb,this.ic,this.o,this.h,this.G)},i.na=function(){return 8+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1393857022^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.jb,t.jb)&&Ne.a(this.gb,t.gb)&&Ne.a(this.jc,t.jc)&&Ne.a(this.kb,t.kb)&&Ne.a(this.eb,t.eb)&&Ne.a(this.fb,t.fb)&&Ne.a(this.hb,t.hb)&&Ne.a(this.ic,t.ic)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,8,[Hx,null,D_,null,IO,null,ez,null,cz,null,wR,null,GU,null,vq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new cQ(this.jb,this.gb,this.jc,this.kb,this.eb,this.fb,this.hb,this.ic,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(cz,t):gi.call(null,cz,t))?new cQ(e,this.gb,this.jc,this.kb,this.eb,this.fb,this.hb,this.ic,this.o,this.h,null):zn(gi.a?gi.a(Hx,t):gi.call(null,Hx,t))?new cQ(this.jb,e,this.jc,this.kb,this.eb,this.fb,this.hb,this.ic,this.o,this.h,null):zn(gi.a?gi.a(GU,t):gi.call(null,GU,t))?new cQ(this.jb,this.gb,e,this.kb,this.eb,this.fb,this.hb,this.ic,this.o,this.h,null):zn(gi.a?gi.a(D_,t):gi.call(null,D_,t))?new cQ(this.jb,this.gb,this.jc,e,this.eb,this.fb,this.hb,this.ic,this.o,this.h,null):zn(gi.a?gi.a(ez,t):gi.call(null,ez,t))?new cQ(this.jb,this.gb,this.jc,this.kb,e,this.fb,this.hb,this.ic,this.o,this.h,null):zn(gi.a?gi.a(wR,t):gi.call(null,wR,t))?new cQ(this.jb,this.gb,this.jc,this.kb,this.eb,e,this.hb,this.ic,this.o,this.h,null):zn(gi.a?gi.a(IO,t):gi.call(null,IO,t))?new cQ(this.jb,this.gb,this.jc,this.kb,this.eb,this.fb,e,this.ic,this.o,this.h,null):zn(gi.a?gi.a(vq,t):gi.call(null,vq,t))?new cQ(this.jb,this.gb,this.jc,this.kb,this.eb,this.fb,this.hb,e,this.o,this.h,null):new cQ(this.jb,this.gb,this.jc,this.kb,this.eb,this.fb,this.hb,this.ic,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,8,5,Kl,[new yu(cz,this.jb,null),new yu(Hx,this.gb,null),new yu(GU,this.jc,null),new yu(D_,this.kb,null),new yu(ez,this.eb,null),new yu(wR,this.fb,null),new yu(IO,this.hb,null),new yu(vq,this.ic,null)],null),this.h))},i.Y=function(n,t){return new cQ(this.jb,this.gb,this.jc,this.kb,this.eb,this.fb,this.hb,this.ic,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)};var hQ=new ku(null,2,[vq,function(n,t,e){var r=n.getTime();return t=t.a?t.a(r,e):t.call(null,r,e),n.setTime(t),n},GU,function(n,t,e){return e*=7,t=t.a?t.a(0,e):t.call(null,0,e),n.add(new OZ(SZ,t)),n}],null),dQ=new ku(null,6,[IO,MZ,wR,DZ,ez,CZ,D_,SZ,Hx,EZ,cz,AZ],null);function pQ(n){return function(t,e){function r(n,t,e){return zn(zn(t)?e:t)?new OZ(t,n.a?n.a(0,e):n.call(null,0,e)):null}e=e.clone();for(var i=De(n),l=null,u=0,a=0;;)if(a<u){var o=l.Aa(null,a),s=pr(o,0);o=pr(o,1);var c=dQ.g?dQ.g(s):dQ.call(null,s);zn(c)?zn(o=r(t,c,o))&&e.add(o):zn(s=hQ.g?hQ.g(s):hQ.call(null,s))&&(s.j?s.j(e,t,o):s.call(null,e,t,o)),a+=1}else{if(!(i=De(i)))break;Dr(i)?(u=le(i),i=ue(i),l=u,u=hr(u)):(u=pr(l=Me(i),0),l=pr(l,1),zn(a=dQ.g?dQ.g(u):dQ.call(null,u))?zn(l=r(t,a,l))&&e.add(l):zn(u=hQ.g?hQ.g(u):hQ.call(null,u))&&(u.j?u.j(e,t,l):u.call(null,e,t,l)),i=Te(i),l=null,u=0),a=0}return e}}function gQ(n,t){var e=n.getYear(),r=t.getYear();return n=NZ(n),t=NZ(t),Ri.a(e,r)?e-r:Ri.a(n,t)?n-t:0}(i=$Z.prototype).kg=An,i.hf=function(){return this.getYear()},i.ff=function(){return this.getMonth()+1},i.bf=function(){return this.getDate()},i.cf=function(){var n=this.getDay();return zn(KZ.a?KZ.a(n,0):KZ.call(null,n,0))?7:n},i.$e=function(n,t){return this.getTime()>t.getTime()},i.af=function(n,t){return this.getTime()<t.getTime()},i.gf=function(n,t){return(n=pQ(t)).a?n.a(Jr,this):n.call(null,Jr,this)},i.ef=function(n,t){return(n=pQ(t)).a?n.a(Xr,this):n.call(null,Xr,this)},i.df=function(){return new $Z(this.getYear(),this.getMonth(),1,0,0,0,0)},(i=PZ.prototype).kg=An,i.hf=function(){return this.getYear()},i.ff=function(){return this.getMonth()+1},i.bf=function(){return this.getDate()},i.cf=function(){var n=this.getDay();return zn(KZ.a?KZ.a(n,0):KZ.call(null,n,0))?7:n},i.$e=function(n,t){return this.getTime()>t.getTime()},i.af=function(n,t){return this.getTime()<t.getTime()},i.gf=function(n,t){return(n=pQ(t)).a?n.a(Jr,this):n.call(null,Jr,this)},i.ef=function(n,t){return(n=pQ(t)).a?n.a(Xr,this):n.call(null,Xr,this)},i.df=function(){return new PZ(this.getYear(),this.getMonth(),1,0,0,0,0)},(i=FZ.prototype).kg=An,i.hf=function(){return this.getYear()},i.ff=function(){return this.getMonth()+1},i.bf=function(){return this.getDate()},i.cf=function(){var n=this.getDay();return zn(KZ.a?KZ.a(n,0):KZ.call(null,n,0))?7:n},i.$e=function(n,t){return 0<gQ(this,t)},i.af=function(n,t){return 0>gQ(this,t)},i.gf=function(n,t){return(n=pQ(t)).a?n.a(Jr,this):n.call(null,Jr,this)},i.ef=function(n,t){return(n=pQ(t)).a?n.a(Xr,this):n.call(null,Xr,this)},i.df=function(){return new FZ(this.getYear(),this.getMonth(),1)};var mQ={id:"UTC",std_offset:0,names:new Xl(null,1,5,Kl,["UTC"],null),transitions:Zl},vQ=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],new lr(e.slice(2),0,null))}};function wQ(n){return oQ(n,fQ(Au([Hx,1])))}vQ.a=function(n,t){return aQ(n,t)},vQ.l=function(n,t,e){return Hr(aQ,aQ(n,t),e)},vQ.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)},vQ.R=2;var yQ=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};yQ.l=function(n){return console.error(Pi.a(ii,n)),!1},yQ.R=0,yQ.S=function(n){return this.l(De(n))};var bQ=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function xQ(n){var t=Oa(pl.a(Xw,n)),e=Oa(pl.a(Xw,El(Xq,n)));return n=nu(El(Yz,n)),n=Sa(pl.a(Xw,n),n),new ku(null,3,[UF,t,ay,e,mg,n],null)}function _Q(n,t,e){var r=Oa(ha(t)),i=UF.g(n),l=JX(i,r);return(i=l||yQ.l(ur(["Invalid argument(s): ",Sl(i,r)])))&&(i=(l=JX(r,i=ay.g(n)))?l:yQ.l(ur(["Missing required argument(s): ",Sl(r,i)]))),i&&function(n,t,e){return el(Tr,pl.a((function(n){pr(n,0);var r=pr(n,1),i=qZ((n=Xw.g(r)).g?n.g(t):n.call(null,t)),l=Xq.g(r),u=Yz.g(r),a=u.g?u.g(i):u.call(null,i);n=["Validation failed for argument '",ii.g(n),"' in component '",ii.g(e),"': "].join("");var o=[" at ",ii.g(FK())].join("");return u=Ne.a(zM.g(a),sC),!!(!0===a||null==i&&In(l))||(!1===a?yQ.l(ur([n,"Expected '",ak.g(r),"'. Got '",null==i?"nil":Q(ii.g(i),60),"'",o])):Er(a)?(r=IH.g(a),i=u?o:null,(l=u?bQ:yQ).j?l.j(n,r,i):l.call(null,n,r,i)):yQ.l(ur(["Invalid return from validate-fn: ",a,o])))}),wa(n,nu(ha(t)))))}(mg.g(n),t,Me(e))}bQ.l=function(n){return console.warn(Pi.a(ii,n)),!0},bQ.R=0,bQ.S=function(n){return this.l(De(n))};var kQ=new Xl(null,5,5,Kl,[kx,TR,dE,N_,lW],null),jQ=new Xl(null,5,5,Kl,[kx,TR,dE,qs,FL],null),OQ=new Xl(null,4,5,Kl,[sU,OT,bP,aA],null),AQ=new Xl(null,4,5,Kl,[Qq,NN,sC,wD],null),EQ=new Xl(null,3,5,Kl,[Bf,Qg,IM],null),SQ=new Xl(null,4,5,Kl,[Bf,Qg,NE,Qo],null),CQ=new Xl(null,4,5,Kl,[yD,sC,uP,nE],null),DQ=new Xl(null,5,5,Kl,[yD,sC,uP,nE,NN],null),MQ=new Xl(null,4,5,Kl,[JU,sb,tv,qA],null),FQ=new Xl(null,12,5,Kl,[Mo,$o,wH,lk,Xx,uU,Jy,If,RB,QT,pD,bh],null);function TQ(n,t,e){n=qZ(n);var r=Ri.a(rl(_a([n]),e),null);return r||["Invalid ",ii.g(t),". Expected one of ",ii.g(e),". Got '",Q(ii.g(n),40),"'"].join("")}function NQ(n){return TQ(n,":justify-style",kQ)}function BQ(n){return TQ(n,":align-style",jQ)}function zQ(n){return TQ(n,":scroll-style",OQ)}function PQ(n){return TQ(n,":size",EQ)}function $Q(n){return TQ(n,":position",FQ)}function RQ(n){return Dl.a(new Xl(null,1,5,Kl,[DW],null),jl(", ",pl.a((function(n){return new Xl(null,2,5,Kl,[IN,ii.g(n)],null)}),n)))}var IQ=RQ(kQ),LQ=RQ(jQ);RQ(OQ),RQ(AQ);var UQ=RQ(EQ),qQ=RQ(SQ),HQ=RQ(CQ),WQ=RQ(DQ),GQ=RQ(MQ),YQ=RQ(FQ),VQ=new ba(null,new ku(null,522,[Co,null,Fo,null,zo,null,Ho,null,Jo,null,ns,null,es,null,ls,null,as,null,fs,null,hs,null,ys,null,xs,null,Os,null,As,null,Ms,null,Ps,null,Ls,null,Gs,null,Vs,null,Js,null,Zs,null,tc,null,rc,null,lc,null,uc,null,dc,null,pc,null,mc,null,yc,null,xc,null,Oc,null,Sc,null,Cc,null,Dc,null,Wc,null,Jc,null,tf,null,uf,null,af,null,sf,null,cf,null,mf,null,vf,null,wf,null,xf,null,Pf,null,Lf,null,Gf,null,Vf,null,Kf,null,ah,null,ph,null,mh,null,vh,null,Ah,null,Th,null,Nh,null,zh,null,qh,null,Qh,null,td,null,rd,null,id,null,ad,null,od,null,yd,null,kd,null,Ad,null,Sd,null,Fd,null,Td,null,Pd,null,Ld,null,Ud,null,Yd,null,Zd,null,lp,null,up,null,sp,null,gp,null,kp,null,Cp,null,Pp,null,$p,null,Rp,null,Hp,null,Zp,null,ag,null,og,null,sg,null,fg,null,gg,null,vg,null,xg,null,_g,null,Tg,null,Kg,null,Zg,null,um,null,dm,null,gm,null,ym,null,bm,null,_m,null,km,null,Bm,null,Um,null,Hm,null,Wm,null,Xm,null,Qm,null,nv,null,ev,null,iv,null,lv,null,cv,null,gv,null,Ev,null,Dv,null,Bv,null,$v,null,Lv,null,qv,null,Hv,null,Wv,null,Yv,null,Jv,null,nw,null,rw,null,uw,null,aw,null,fw,null,hw,null,xw,null,Sw,null,Dw,null,qw,null,Ww,null,Gw,null,Xw,null,ny,null,ty,null,ey,null,iy,null,dy,null,xy,null,Ay,null,Sy,null,Ny,null,zy,null,Ry,null,Iy,null,Wy,null,Vy,null,mb,null,xb,null,_b,null,Eb,null,zb,null,Hb,null,Gb,null,Vb,null,Kb,null,rx,null,ix,null,ux,null,ax,null,fx,null,dx,null,vx,null,yx,null,kx,null,Sx,null,Tx,null,Bx,null,zx,null,Ux,null,e_,null,r_,null,u_,null,o_,null,d_,null,b_,null,E_,null,$_,null,I_,null,V_,null,Q_,null,ik,null,ak,null,bk,null,kk,null,Ok,null,zk,null,$k,null,Lk,null,Jk,null,Kk,null,ej,null,rj,null,uj,null,oj,null,pj,null,gj,null,vj,null,_j,null,Aj,null,Ej,null,Cj,null,Nj,null,Bj,null,Pj,null,$j,null,Ij,null,Hj,null,Gj,null,Vj,null,Jj,null,tO,null,iO,null,aO,null,oO,null,yO,null,_O,null,TO,null,YO,null,XO,null,eA,null,dA,null,pA,null,mA,null,vA,null,SA,null,MA,null,FA,null,TA,null,NA,null,BA,null,LA,null,XA,null,tE,null,eE,null,iE,null,aE,null,oE,null,pE,null,gE,null,bE,null,_E,null,SE,null,ME,null,$E,null,RE,null,LE,null,YE,null,XE,null,KE,null,ZE,null,nS,null,eS,null,rS,null,iS,null,uS,null,aS,null,cS,null,pS,null,vS,null,SS,null,CS,null,TS,null,NS,null,zS,null,$S,null,IS,null,qS,null,YS,null,nC,null,tC,null,iC,null,aC,null,gC,null,mC,null,wC,null,yC,null,OC,null,SC,null,FC,null,TC,null,NC,null,BC,null,IC,null,LC,null,UC,null,WC,null,JC,null,tD,null,sD,null,gD,null,xD,null,ED,null,CD,null,FD,null,BD,null,RD,null,LD,null,WD,null,QD,null,nM,null,rM,null,iM,null,lM,null,sM,null,dM,null,pM,null,MM,null,BM,null,$M,null,UM,null,qM,null,XM,null,QM,null,nF,null,iF,null,aF,null,wF,null,OF,null,EF,null,CF,null,DF,null,MF,null,TF,null,NF,null,BF,null,$F,null,IF,null,LF,null,qF,null,WF,null,YF,null,QF,null,nT,null,eT,null,rT,null,lT,null,aT,null,fT,null,gT,null,wT,null,kT,null,AT,null,ET,null,CT,null,MT,null,BT,null,YT,null,VT,null,XT,null,KT,null,iN,null,aN,null,dN,null,yN,null,bN,null,kN,null,LN,null,VN,null,XN,null,KN,null,ZN,null,QN,null,_B,null,SB,null,FB,null,TB,null,zB,null,UB,null,qB,null,QB,null,az,null,hz,null,mz,null,yz,null,bz,null,_z,null,kz,null,Oz,null,Ez,null,Fz,null,Tz,null,zz,null,$z,null,Wz,null,Xz,null,Kz,null,Zz,null,Qz,null,tP,null,lP,null,dP,null,pP,null,kP,null,SP,null,DP,null,MP,null,FP,null,zP,null,HP,null,VP,null,JP,null,KP,null,ZP,null,l$,null,s$,null,c$,null,d$,null,x$,null,O$,null,P$,null,L$,null,H$,null,G$,null,Z$,null,tR,null,rR,null,iR,null,uR,null,aR,null,pR,null,AR,null,MR,null,FR,null,TR,null,zR,null,LR,null,WR,null,GR,null,XR,null,rI,null,lI,null,sI,null,fI,null,gI,null,mI,null,wI,null,yI,null,bI,null,jI,null,OI,null,DI,null,MI,null,RI,null,LI,null,WI,null,GI,null,aL,null,fL,null,dL,null,pL,null,gL,null,bL,null,kL,null,DL,null,IL,null,GL,null,VL,null,JL,null,KL,null,tU,null,hU,null,vU,null,yU,null,TU,null,NU,null,BU,null,RU,null,HU,null,VU,null,XU,null,nq,null,rq,null,oq,null,fq,null,pq,null,xq,null,_q,null,Oq,null,Cq,null,Mq,null,Fq,null,Nq,null,Rq,null,Lq,null,qq,null,Jq,null,Xq,null,fH,null,hH,null,kH,null,DH,null,FH,null,TH,null,HH,null,GH,null,YH,null,KH,null,QH,null,aW,null,oW,null,dW,null,pW,null,gW,null,bW,null,kW,null,OW,null,DW,null,FW,null,TW,null,NW,null,PW,null,UW,null,WW,null],null),null),JQ=new ba(null,new ku(null,2,[SD,null,UW,null],null),null),XQ=new ba(null,new ku(null,456,[So,null,Do,null,To,null,No,null,Bo,null,Io,null,Yo,null,rs,null,os,null,fs,null,ps,null,ys,null,bs,null,_s,null,Es,null,Ss,null,Rs,null,Is,null,Hs,null,Gs,null,Vs,null,Qs,null,ic,null,oc,null,sc,null,kc,null,Ec,null,Fc,null,Nc,null,Rc,null,Uc,null,Vc,null,lf,null,sf,null,ff,null,df,null,pf,null,jf,null,Af,null,Ef,null,$f,null,Hf,null,Yf,null,Jf,null,Xf,null,rh,null,uh,null,hh,null,_h,null,Fh,null,Lh,null,Jh,null,Xh,null,Zh,null,nd,null,rd,null,ld,null,cd,null,fd,null,hd,null,pd,null,md,null,jd,null,Md,null,Td,null,zd,null,$d,null,Id,null,Wd,null,rp,null,ip,null,ap,null,hp,null,wp,null,yp,null,xp,null,Op,null,Np,null,Bp,null,zp,null,Up,null,Wp,null,Xp,null,tg,null,eg,null,ig,null,ug,null,hg,null,kg,null,Eg,null,Mg,null,Pg,null,Vg,null,Jg,null,Xg,null,tm,null,em,null,im,null,dm,null,pm,null,Om,null,Cm,null,Fm,null,Bm,null,Pm,null,Ym,null,Zm,null,iv,null,lv,null,cv,null,dv,null,vv,null,bv,null,xv,null,Av,null,Tv,null,Nv,null,Yv,null,Qv,null,ew,null,cw,null,pw,null,gw,null,ww,null,bw,null,xw,null,Ew,null,$w,null,Rw,null,Iw,null,Hw,null,Qw,null,py,null,vy,null,yy,null,Fy,null,By,null,Py,null,$y,null,Ly,null,Uy,null,qy,null,Hy,null,Xy,null,Zy,null,nb,null,fb,null,pb,null,vb,null,wb,null,bb,null,Ob,null,Ab,null,Mb,null,Pb,null,Ib,null,Jb,null,sx,null,hx,null,px,null,gx,null,wx,null,yx,null,_x,null,jx,null,Cx,null,Nx,null,Rx,null,Lx,null,Kx,null,t_,null,i_,null,c_,null,m_,null,x_,null,k_,null,j_,null,O_,null,S_,null,M_,null,B_,null,z_,null,I_,null,q_,null,H_,null,G_,null,K_,null,rk,null,ok,null,wk,null,Mk,null,Tk,null,Ik,null,qk,null,Wk,null,Vk,null,nj,null,lj,null,kj,null,jj,null,Fj,null,Tj,null,Lj,null,Wj,null,Zj,null,rO,null,fO,null,pO,null,wO,null,xO,null,kO,null,jO,null,OO,null,MO,null,BO,null,PO,null,WO,null,VO,null,XO,null,QO,null,iA,null,uA,null,cA,null,xA,null,_A,null,AA,null,EA,null,DA,null,zA,null,PA,null,IA,null,HA,null,KA,null,ZA,null,QA,null,rE,null,lE,null,uE,null,hE,null,AE,null,EE,null,TE,null,PE,null,RE,null,IE,null,LE,null,UE,null,qE,null,rS,null,sS,null,gS,null,_S,null,AS,null,FS,null,RS,null,IS,null,KS,null,tC,null,vC,null,bC,null,xC,null,NC,null,PC,null,WC,null,XC,null,nD,null,eD,null,lD,null,mD,null,bD,null,kD,null,jD,null,$D,null,ID,null,qD,null,HD,null,VD,null,aM,null,gM,null,_M,null,kM,null,OM,null,EM,null,PM,null,LM,null,HM,null,GM,null,VM,null,tF,null,sF,null,cF,null,fF,null,hF,null,pF,null,gF,null,mF,null,jF,null,OF,null,PF,null,KF,null,tT,null,bT,null,xT,null,kT,null,FT,null,$T,null,RT,null,WT,null,GT,null,nN,null,tN,null,eN,null,iN,null,sN,null,cN,null,jN,null,DN,null,FN,null,TN,null,$N,null,qN,null,lB,null,hB,null,gB,null,mB,null,wB,null,yB,null,bB,null,kB,null,BB,null,IB,null,WB,null,JB,null,KB,null,tz,null,oz,null,gz,null,mz,null,wz,null,jz,null,Oz,null,Az,null,Sz,null,Cz,null,Bz,null,$z,null,Iz,null,Lz,null,Vz,null,Jz,null,iP,null,sP,null,jP,null,NP,null,PP,null,IP,null,VP,null,u$,null,v$,null,b$,null,j$,null,M$,null,N$,null,$$,null,J$,null,tR,null,pR,null,_R,null,jR,null,ER,null,SR,null,NR,null,$R,null,IR,null,UR,null,JR,null,eI,null,uI,null,dI,null,vI,null,_I,null,EI,null,TI,null,BI,null,zI,null,PI,null,$I,null,UI,null,nL,null,rL,null,iL,null,lL,null,sL,null,gL,null,vL,null,wL,null,yL,null,OL,null,CL,null,TL,null,IL,null,LL,null,qL,null,WL,null,ZL,null,nU,null,iU,null,lU,null,oU,null,kU,null,SU,null,LU,null,UU,null,ZU,null,tq,null,eq,null,iq,null,oq,null,gq,null,Eq,null,Tq,null,Nq,null,Iq,null,Kq,null,Zq,null,nH,null,iH,null,uH,null,aH,null,oH,null,pH,null,mH,null,jH,null,SH,null,DH,null,MH,null,RH,null,UH,null,GH,null,JH,null,XH,null,nW,null,rW,null,oW,null,sW,null,cW,null,fW,null,hW,null,wW,null,AW,null,RW,null,IW,null,LW,null,GW,null,YW,null,XW,null],null),null);function KQ(n){return GK(n=qZ(n))||zr(n)||!1}function ZQ(n){return Ar(n=qZ(n))&&(kr(n)||Er(Me(n)))}function QQ(n){if(Er(n=qZ(n))){n=ha(n);var t=JX(XQ,n);return t||new ku(null,2,[zM,sC,IH,["Unknown CSS style(s): ",ii.g(Sl(XQ,n))].join("")],null)}return!1}function n0(n){return Sl((function(n){var t=VQ.g?VQ.g(n):VQ.call(null,n);return zn(t)?t:function(n){var t=Ea(n);return rl(ul.j((function(n){return Ne.a(t.indexOf(n),0)&&t.length>hr(n)}),(function(n){return[ii.g(n),"-"].join("")}),Ea),JQ)}(n)}),n)}function t0(n){if(Er(n=qZ(n))){var t=Oa(ha(n));n=$r(t,RF);var e=$r(t,BE);n?t=":class not allowed in :attr argument":e?t=":style not allowed in :attr argument":t=zn(t=Ii(n0(t)))?["Unknown HTML attribute(s): ",ii.g(t)].join(""):null;var r=null==t;return r||new ku(null,2,[zM,n||e?uP:sC,IH,t],null)}return!1}function e0(n){return null!=(n=qZ(n))?An===n.kg||!n.od&&Un(nQ,n):Un(nQ,n)}function r0(n){return"number"==typeof(n=qZ(n))||"string"==typeof n}function i0(n){return"string"==typeof qZ(n)}function l0(n){var t=bG(L(n),/\s+/),e=hr(t);if(!$r(new ba(null,new ku(null,2,[1,null,3,null],null),null),e))throw Error("Assert failed: Must pass either 1 or 3 words to flex-child-style\n(contains? #{1 3} split-count)");e=zn(t=Ne.a(e,1)?Me(t):null)?bG(t,/(\d+)(.*)/):null;var r=zn(t)?e:null;pr(r,0),e=pr(r,1);var i=pr(r,2);r=null==e;var l=(i=Ne.a(i,"%")||Ne.a(i,"")||null==i)?"1":"0",u=i?"0px":n;return n=zn(zn(t)?!r:t)?[ii.g(i?e:"0")," ",l," ",ii.g(u)].join(""):n,new ku(null,2,[px,n,wk,n],null)}function u0(n){return new ku(null,2,[pb,n,RW,n],null)}function a0(n){var t=function(){var t=n instanceof pi?n.qa:null;switch(t){case"start":return"flex-start";case"end":return"flex-end";case"center":return"center";case"between":return"space-between";case"around":return"space-around";default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}();return new ku(null,2,[wx,t,cN,t],null)}function o0(n,t){var e=vi.g(["-webkit-",Ea(n)].join("")),r=function(){var n=t instanceof pi?t.qa:null;switch(n){case"start":return"flex-start";case"end":return"flex-end";case"center":return"center";case"baseline":return"baseline";case"stretch":return"stretch";default:throw Error(["No matching clause: ",ii.g(n)].join(""))}}();return Au([e,r,n,r])}function s0(n,t){return Au([n,function(){var n=t instanceof pi?t.qa:null;switch(n){case"auto":return"auto";case"off":return"hidden";case"on":return"scroll";case"spill":return"visible";default:throw Error(["No matching clause: ",ii.g(n)].join(""))}}()])}function c0(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,QP);var e=gr.a(t,jR),r=gr.a(t,EI),i=gr.a(t,eU),l=gr.a(t,GH),u=gr.a(t,LW),a=gr.a(t,iG),o=gr.a(t,ps),s=gr.a(t,Cf),c=gr.a(t,jh),f=gr.a(t,fd),h=gr.a(t,Wp),d=gr.a(t,uv),p=gr.a(t,Gv),g=gr.a(t,ex),m=gr.a(t,yx),v=gr.a(t,Sj),w=gr.a(t,Lj),y=gr.a(t,_O),b=gr.a(t,SA),x=gr.a(t,BE),_=gr.a(t,RM),k=gr.a(t,RF),j=gr.a(t,WM),O=gr.a(t,xT),A=gr.a(t,PN);return t=gr.a(t,kP),e=ma.l(ur([u0("inherit"),l0(b),zn(_)?s0(xw,_):null,zn(g)?s0(qN,g):null,zn(i)?s0(rL,i):null,zn(m)?new ku(null,1,[yx,m],null):null,zn(l)?new ku(null,1,[GH,l],null):null,zn(o)?new ku(null,1,[ps,o],null):null,zn(h)?new ku(null,1,[Wp,h],null):null,zn(w)?new ku(null,1,[Lj,w],null):null,zn(f)?new ku(null,1,[fd,f],null):null,zn(p)?a0(p):null,zn(s)?o0(Ef,s):null,zn(e)?o0(jR,e):null,zn(u)?new ku(null,1,[LW,u],null):null,zn(O)?new ku(null,1,[xT,O],null):null,zn(r)?new ku(null,1,[EI,r],null):null,zn(j)?new ku(null,1,[WO,j],null):null,zn(d)?new ku(null,1,[md,d],null):null,zn(A)?new ku(null,1,[UI,A],null):null,zn(v)?new ku(null,1,[JH,v],null):null,zn(y)?new ku(null,1,[iL,y],null):null,zn(c)?new ku(null,1,[Pb,c],null):ju,x])),new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,[ii.g(t),"display-flex ",ii.g(k)].join(""),BE,e],null),a])),n],null)}var f0=new Xl(null,6,5,Kl,[new ku(null,5,[Xw,SA,Xq,!0,ak,"string",Yz,Ln,Vo,"the length of the whitespace.  Typically, an absolute CSS length like 10px or 10em, but can be a stretchy proportional amount like 2"],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed"],null)],null)],null),h0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};h0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,SA),r=gr.a(t,yx),i=gr.a(t,GH);n=gr.a(t,RF);var l=gr.a(t,BE),u=gr.a(t,iG);if(!_Q(xQ(f0),t,ur(["gap"])))throw Error('Assert failed: (validate-args-macro gap-args-desc args "gap")');return t=ma.l(ur([zn(e)?l0(e):null,zn(r)?new ku(null,1,[yx,r],null):null,zn(i)?new ku(null,1,[GH,i],null):null,null,l])),new Xl(null,2,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-gap ",ii.g(n)].join(""),BE,t],null),u]))],null)},h0.R=0,h0.S=function(n){return this.l(De(n))};var d0=new Xl(null,5,5,Kl,[new ku(null,6,[Xw,SA,Xq,!1,nw,"1px",ak,"string",Yz,Ln,Vo,"a CSS style for the thickness of the line. Usually px, % or em"],null),new ku(null,6,[Xw,wp,Xq,!1,nw,"lightgray",ak,"string",Yz,Ln,Vo,"a CSS color"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed"],null)],null)],null),p0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};p0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.j(t,SA,"1px"),r=gr.j(t,wp,"lightgray");n=gr.a(t,RF);var i=gr.a(t,BE),l=gr.a(t,iG);if(!_Q(xQ(d0),t,ur(["line"])))throw Error('Assert failed: (validate-args-macro line-args-desc args "line")');return t=ma.l(ur([l0(["0 0 ",ii.g(e)].join("")),new ku(null,1,[Pb,r],null),i])),new Xl(null,2,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-line ",ii.g(n)].join(""),BE,t],null),l]))],null)},p0.R=0,p0.S=function(n){return this.l(De(n))};var g0=new Xl(null,17,5,Kl,[new ku(null,5,[Xw,bf,Xq,!0,ak,"vector",Yz,Ar,Vo,"a vector (or list) of components"],null),new ku(null,6,[Xw,SA,Xq,!1,nw,"none",ak,"string",Yz,Ln,Vo,new Xl(null,17,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"flex"],null),".",new Xl(null,1,5,Kl,[wP],null),"Examples: ",new Xl(null,2,5,Kl,[IN,"initial"],null),", ",new Xl(null,2,5,Kl,[IN,"auto"],null),", ",new Xl(null,2,5,Kl,[IN,"none"],null),", ",new Xl(null,2,5,Kl,[IN,"100px"],null),", ",new Xl(null,2,5,Kl,[IN,"2"],null)," or a generic triple of ",new Xl(null,2,5,Kl,[IN,"grow shrink basis"],null)],null)],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style"],null),new ku(null,5,[Xw,ps,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The minimum width to which the box can shrink"],null),new ku(null,5,[Xw,Wp,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The minimum height to which the box can shrink"],null),new ku(null,5,[Xw,Lj,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The maximum width to which the box can grow"],null),new ku(null,5,[Xw,fd,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The maximum height to which the box can grow"],null),new ku(null,6,[Xw,Gv,Xq,!1,nw,kx,ak,"keyword",Yz,NQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"justify-content"],null),".",new Xl(null,1,5,Kl,[wP],null),"One of ",IQ],null)],null),new ku(null,6,[Xw,Cf,Xq,!1,nw,FL,ak,"keyword",Yz,BQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-items"],null),".",new Xl(null,1,5,Kl,[wP],null)," One of ",LQ],null)],null),new ku(null,5,[Xw,jR,Xq,!1,ak,"keyword",Yz,BQ,Vo,new Xl(null,6,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-self"],null),".",new Xl(null,1,5,Kl,[wP],null),"Used when a child must override the parent's align-items setting."],null)],null),new ku(null,5,[Xw,LW,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS margin style"],null),new ku(null,5,[Xw,xT,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS padding style"],null),new ku(null,5,[Xw,DN,Xq,!1,ak,"string",Yz,Ln,Vo,"the amount of whitespace to put between each child. Typically, an absolute CSS length like 10px or 10em, but can be a stretchy proportional amount like 2"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed"],null)],null)],null),m0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};m0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,jR),r=gr.a(t,GH),i=gr.a(t,LW);n=gr.a(t,iG);var l=gr.a(t,ps),u=gr.a(t,bf),a=gr.j(t,Cf,FL),o=gr.a(t,fd),s=gr.a(t,Wp),c=gr.j(t,Gv,kx),f=gr.a(t,yx),h=gr.a(t,Lj),d=gr.j(t,SA,"none"),p=gr.a(t,BE),g=gr.a(t,RF),m=gr.a(t,xT),v=gr.a(t,DN);if(!_Q(xQ(g0),t,ur(["h-box"])))throw Error('Assert failed: (validate-args-macro h-box-args-desc args "h-box")');return t=ma.l(ur([u0("row nowrap"),l0(d),zn(f)?new ku(null,1,[yx,f],null):null,zn(r)?new ku(null,1,[GH,r],null):null,zn(l)?new ku(null,1,[ps,l],null):null,zn(s)?new ku(null,1,[Wp,s],null):null,zn(h)?new ku(null,1,[Lj,h],null):null,zn(o)?new ku(null,1,[fd,o],null):null,a0(c),o0(Ef,a),zn(e)?o0(jR,e):null,zn(i)?new ku(null,1,[LW,i],null):null,zn(m)?new ku(null,1,[xT,m],null):null,null,p])),e=zn(v)?new Xl(null,5,5,Kl,[h0,SA,v,yx,v],null):null,u=zn(v)?jl(e,El(Gr,u)):u,Dl.a(new Xl(null,2,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-h-box display-flex ",ii.g(g)].join(""),BE,t],null),n]))],null),u)},m0.R=0,m0.S=function(n){return this.l(De(n))};var v0=new Xl(null,17,5,Kl,[new ku(null,5,[Xw,bf,Xq,!0,ak,"vector",Yz,Ar,Vo,"a vector (or list) of components"],null),new ku(null,6,[Xw,SA,Xq,!1,nw,"none",ak,"string",Yz,Ln,Vo,new Xl(null,17,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"flex"],null),".",new Xl(null,1,5,Kl,[wP],null),"Examples: ",new Xl(null,2,5,Kl,[IN,"initial"],null),", ",new Xl(null,2,5,Kl,[IN,"auto"],null),", ",new Xl(null,2,5,Kl,[IN,"none"],null),", ",new Xl(null,2,5,Kl,[IN,"100px"],null),", ",new Xl(null,2,5,Kl,[IN,"2"],null)," or a generic triple of ",new Xl(null,2,5,Kl,[IN,"grow shrink basis"],null)],null)],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style"],null),new ku(null,5,[Xw,ps,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The minimum width to which the box can shrink"],null),new ku(null,5,[Xw,Wp,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The minimum height to which the box can shrink"],null),new ku(null,5,[Xw,Lj,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The maximum width to which the box can grow"],null),new ku(null,5,[Xw,fd,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The maximum height to which the box can grow"],null),new ku(null,6,[Xw,Gv,Xq,!1,nw,kx,ak,"keyword",Yz,NQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"justify-content"],null),".",new Xl(null,1,5,Kl,[wP],null),"One of ",IQ],null)],null),new ku(null,6,[Xw,Cf,Xq,!1,nw,FL,ak,"keyword",Yz,BQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-items"],null),".",new Xl(null,1,5,Kl,[wP],null)," One of ",LQ],null)],null),new ku(null,5,[Xw,jR,Xq,!1,ak,"keyword",Yz,BQ,Vo,new Xl(null,6,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-self"],null),".",new Xl(null,1,5,Kl,[wP],null),"Used when a child must override the parent's align-items setting."],null)],null),new ku(null,5,[Xw,LW,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS margin style"],null),new ku(null,5,[Xw,xT,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS padding style"],null),new ku(null,5,[Xw,DN,Xq,!1,ak,"string",Yz,Ln,Vo,"the amount of whitespace to put between each child. Typically, an absolute CSS length like 10px or 10em, but can be a stretchy proportional amount like 2"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed"],null)],null)],null),w0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};w0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,jR),r=gr.a(t,GH),i=gr.a(t,LW);n=gr.a(t,iG);var l=gr.a(t,ps),u=gr.a(t,bf),a=gr.j(t,Cf,FL),o=gr.a(t,fd),s=gr.a(t,Wp),c=gr.j(t,Gv,kx),f=gr.a(t,yx),h=gr.a(t,Lj),d=gr.j(t,SA,"none"),p=gr.a(t,BE),g=gr.a(t,RF),m=gr.a(t,xT),v=gr.a(t,DN);if(!_Q(xQ(v0),t,ur(["v-box"])))throw Error('Assert failed: (validate-args-macro v-box-args-desc args "v-box")');return t=ma.l(ur([u0("column nowrap"),l0(d),zn(f)?new ku(null,1,[yx,f],null):null,zn(r)?new ku(null,1,[GH,r],null):null,zn(l)?new ku(null,1,[ps,l],null):null,zn(s)?new ku(null,1,[Wp,s],null):null,zn(h)?new ku(null,1,[Lj,h],null):null,zn(o)?new ku(null,1,[fd,o],null):null,a0(c),o0(Ef,a),zn(e)?o0(jR,e):null,zn(i)?new ku(null,1,[LW,i],null):null,zn(m)?new ku(null,1,[xT,m],null):null,null,p])),e=zn(v)?new Xl(null,5,5,Kl,[h0,SA,v,GH,v],null):null,u=zn(v)?jl(e,El(Gr,u)):u,Dl.a(new Xl(null,2,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-v-box display-flex ",ii.g(g)].join(""),BE,t],null),n]))],null),u)},w0.R=0,w0.S=function(n){return this.l(De(n))};var y0=new Xl(null,16,5,Kl,[new ku(null,5,[Xw,QP,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"a component (or string)"],null),new ku(null,6,[Xw,SA,Xq,!1,nw,"none",ak,"string",Yz,Ln,Vo,new Xl(null,17,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"flex"],null),".",new Xl(null,1,5,Kl,[wP],null),"Examples: ",new Xl(null,2,5,Kl,[IN,"initial"],null),", ",new Xl(null,2,5,Kl,[IN,"auto"],null),", ",new Xl(null,2,5,Kl,[IN,"none"],null),", ",new Xl(null,2,5,Kl,[IN,"100px"],null),", ",new Xl(null,2,5,Kl,[IN,"2"],null)," or a generic triple of ",new Xl(null,2,5,Kl,[IN,"grow shrink basis"],null)],null)],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style"],null),new ku(null,5,[Xw,ps,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The minimum width to which the box can shrink"],null),new ku(null,5,[Xw,Wp,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The minimum height to which the box can shrink"],null),new ku(null,5,[Xw,Lj,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The maximum width to which the box can grow"],null),new ku(null,5,[Xw,fd,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The maximum height to which the box can grow"],null),new ku(null,6,[Xw,Gv,Xq,!1,nw,kx,ak,"keyword",Yz,NQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"justify-content"],null),".",new Xl(null,1,5,Kl,[wP],null),"One of ",IQ],null)],null),new ku(null,6,[Xw,Cf,Xq,!1,nw,FL,ak,"keyword",Yz,BQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-items"],null),".",new Xl(null,1,5,Kl,[wP],null)," One of ",LQ],null)],null),new ku(null,5,[Xw,jR,Xq,!1,ak,"keyword",Yz,BQ,Vo,new Xl(null,6,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-self"],null),".",new Xl(null,1,5,Kl,[wP],null),"Used when a child must override the parent's align-items setting."],null)],null),new ku(null,5,[Xw,LW,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS margin style"],null),new ku(null,5,[Xw,xT,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS padding style"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed"],null)],null)],null),b0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};b0.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,QP),e=gr.a(n,jR),r=gr.a(n,GH),i=gr.a(n,LW),l=gr.a(n,iG),u=gr.a(n,ps),a=gr.a(n,Cf),o=gr.a(n,fd),s=gr.a(n,Wp),c=gr.a(n,Gv),f=gr.a(n,yx),h=gr.a(n,Lj),d=gr.j(n,SA,"none"),p=gr.a(n,BE),g=gr.a(n,RF),m=gr.a(n,xT);if(!_Q(xQ(y0),n,ur(["box"])))throw Error('Assert failed: (validate-args-macro box-args-desc args "box")');return c0(ur([SA,d,yx,f,GH,r,ps,u,Wp,s,Lj,h,fd,o,Gv,c,Cf,a,jR,e,LW,i,xT,m,QP,t,kP,"rc-box ",RF,g,BE,p,iG,l]))},b0.R=0,b0.S=function(n){return this.l(De(n))};var x0=new Xl(null,19,5,Kl,[new ku(null,5,[Xw,QP,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"a component (or string)"],null),new ku(null,6,[Xw,SA,Xq,!1,nw,"auto",ak,"string",Yz,Ln,Vo,new Xl(null,17,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"flex"],null),".",new Xl(null,1,5,Kl,[wP],null),"Examples: ",new Xl(null,2,5,Kl,[IN,"initial"],null),", ",new Xl(null,2,5,Kl,[IN,"auto"],null),", ",new Xl(null,2,5,Kl,[IN,"none"],null),", ",new Xl(null,2,5,Kl,[IN,"100px"],null),", ",new Xl(null,2,5,Kl,[IN,"2"],null)," or a generic triple of ",new Xl(null,2,5,Kl,[IN,"grow shrink basis"],null)],null)],null),new ku(null,6,[Xw,RM,Xq,!1,nw,"auto",ak,"keyword",Yz,zQ,Vo,new Xl(null,14,5,Kl,[DW,"Sets both h-scroll and v-scroll at once: ",new Xl(null,1,5,Kl,[wP],null),new Xl(null,2,5,Kl,[IN,":auto"],null),": only show scroll bar(s) if the content is larger than the scroller",new Xl(null,1,5,Kl,[wP],null),new Xl(null,2,5,Kl,[IN,":on"],null),": always show scroll bars",new Xl(null,1,5,Kl,[wP],null),new Xl(null,2,5,Kl,[IN,":off"],null),": never show scroll bar(s). Content which is not in the bounds of the scroller can not be seen",new Xl(null,1,5,Kl,[wP],null),new Xl(null,2,5,Kl,[IN,":spill"],null),": never show scroll bar(s). Content which is not in the bounds of the scroller spills all over the place"],null)],null),new ku(null,5,[Xw,ex,Xq,!1,ak,"keyword",Yz,zQ,Vo,new Xl(null,4,5,Kl,[DW,"see ",new Xl(null,2,5,Kl,[IN,":scroll"],null),". Overrides that setting"],null)],null),new ku(null,5,[Xw,eU,Xq,!1,ak,"keyword",Yz,zQ,Vo,new Xl(null,4,5,Kl,[DW,"see ",new Xl(null,2,5,Kl,[IN,":scroll"],null),". Overrides that setting"],null)],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"initial width"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"initial height"],null),new ku(null,5,[Xw,ps,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The minimum width to which the box can shrink"],null),new ku(null,5,[Xw,Wp,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The minimum height to which the box can shrink"],null),new ku(null,5,[Xw,Lj,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The maximum width to which the box can grow"],null),new ku(null,5,[Xw,fd,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The maximum height to which the box can grow"],null),new ku(null,6,[Xw,Gv,Xq,!1,nw,kx,ak,"keyword",Yz,NQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"justify-content"],null),".",new Xl(null,1,5,Kl,[wP],null),"One of ",IQ],null)],null),new ku(null,6,[Xw,Cf,Xq,!1,nw,FL,ak,"keyword",Yz,BQ,Vo,new Xl(null,7,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-items"],null),".",new Xl(null,1,5,Kl,[wP],null)," One of ",LQ],null)],null),new ku(null,5,[Xw,jR,Xq,!1,ak,"keyword",Yz,BQ,Vo,new Xl(null,6,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"align-self"],null),".",new Xl(null,1,5,Kl,[wP],null),"Used when a child must override the parent's align-items setting."],null)],null),new ku(null,5,[Xw,LW,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS margin style"],null),new ku(null,5,[Xw,xT,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS padding style"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed"],null)],null)],null),_0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};_0.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,QP),e=gr.a(n,jR),r=gr.a(n,eU),i=gr.a(n,GH),l=gr.a(n,LW),u=gr.a(n,iG),a=gr.a(n,ps),o=gr.a(n,Cf),s=gr.a(n,fd),c=gr.a(n,Wp),f=gr.a(n,Gv),h=gr.a(n,ex),d=gr.a(n,yx),p=gr.a(n,Lj),g=gr.j(n,SA,"auto"),m=gr.a(n,BE),v=gr.a(n,RM),w=gr.a(n,RF),y=gr.a(n,xT);if(!_Q(xQ(x0),n,ur(["scroller"])))throw Error('Assert failed: (validate-args-macro scroller-args-desc args "scroller")');return c0(ur([SA,g,RM,null==v&&null==r&&null==h?sU:v,ex,h,eU,r,yx,d,GH,i,ps,a,Wp,c,Lj,p,fd,s,Gv,f,Cf,o,jR,e,LW,l,xT,y,QP,t,kP,"rc-scroller ",RF,w,BE,m,iG,u]))},_0.R=0,_0.S=function(n){return this.l(De(n))};var k0=new Xl(null,19,5,Kl,[new ku(null,5,[Xw,QP,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"a component (or string)"],null),new ku(null,6,[Xw,EI,Xq,!1,nw,"1px solid lightgrey",ak,"string",Yz,Ln,Vo,"a CSS border style. A convenience to describe all borders in one parameter"],null),new ku(null,5,[Xw,WM,Xq,!1,ak,"string",Yz,Ln,Vo,new Xl(null,3,5,Kl,[DW,"a CSS border style for the left border. Overrides ",new Xl(null,2,5,Kl,[IN,":border"],null)],null)],null),new ku(null,5,[Xw,uv,Xq,!1,ak,"string",Yz,Ln,Vo,new Xl(null,3,5,Kl,[DW,"a CSS border style for the right border. Overrides ",new Xl(null,2,5,Kl,[IN,":border"],null)],null)],null),new ku(null,5,[Xw,PN,Xq,!1,ak,"string",Yz,Ln,Vo,new Xl(null,3,5,Kl,[DW,"a CSS border style for the top border. Overrides ",new Xl(null,2,5,Kl,[IN,":border"],null)],null)],null),new ku(null,5,[Xw,Sj,Xq,!1,ak,"string",Yz,Ln,Vo,new Xl(null,3,5,Kl,[DW,"a CSS border style for the bottom. Overrides ",new Xl(null,2,5,Kl,[IN,":border"],null)],null)],null),new ku(null,5,[Xw,_O,Xq,!1,ak,"string",Yz,Ln,Vo,'a CSS radius style eg."2px"'],null),new ku(null,6,[Xw,SA,Xq,!1,nw,"none",ak,"string",Yz,Ln,Vo,new Xl(null,17,5,Kl,[DW,"equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"flex"],null),".",new Xl(null,1,5,Kl,[wP],null),"Examples: ",new Xl(null,2,5,Kl,[IN,"initial"],null),", ",new Xl(null,2,5,Kl,[IN,"auto"],null),", ",new Xl(null,2,5,Kl,[IN,"none"],null),", ",new Xl(null,2,5,Kl,[IN,"100px"],null),", ",new Xl(null,2,5,Kl,[IN,"2"],null)," or a generic triple of ",new Xl(null,2,5,Kl,[IN,"grow shrink basis"],null)],null)],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style describing the initial width"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style describing the initial height"],null),new ku(null,5,[Xw,ps,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The minimum width to which the box can shrink"],null),new ku(null,5,[Xw,Wp,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The minimum height to which the box can shrink"],null),new ku(null,5,[Xw,Lj,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width style. The maximum width to which the box can grow"],null),new ku(null,5,[Xw,fd,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS height style. The maximum height to which the box can grow"],null),new ku(null,5,[Xw,LW,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS margin style"],null),new ku(null,5,[Xw,xT,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS padding style"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed"],null)],null)],null),j0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};j0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,QP);var e=gr.a(t,EI),r=gr.a(t,GH),i=gr.a(t,LW),l=gr.a(t,iG),u=gr.a(t,ps),a=gr.a(t,fd),o=gr.a(t,Wp),s=gr.a(t,uv),c=gr.a(t,yx),f=gr.a(t,Sj),h=gr.a(t,Lj),d=gr.a(t,_O),p=gr.j(t,SA,"none"),g=gr.a(t,BE),m=gr.a(t,RF),v=gr.a(t,WM),w=gr.a(t,xT),y=gr.a(t,PN);if(!_Q(xQ(k0),t,ur(["border"])))throw Error('Assert failed: (validate-args-macro border-args-desc args "border")');return t=el(Pn,new Xl(null,5,5,Kl,[e,v,s,y,f],null)),c0(ur([SA,p,yx,c,GH,r,ps,u,Wp,o,Lj,h,fd,a,LW,i,xT,w,EI,t?"1px solid lightgrey":e,WM,v,uv,s,PN,y,Sj,f,_O,d,QP,n,kP,"rc-border ",RF,m,BE,g,iG,l]))},j0.R=0,j0.S=function(n){return this.l(De(n))};var O0=new Xl(null,12,5,Kl,[new ku(null,5,[Xw,pA,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the button is clicked"],null),new ku(null,6,[Xw,a_,Xq,!1,nw,16,ak,"number",Yz,Rn,Vo,"numeric px size of the div containing the close button (can be 0 because the 'x' button text is absolutely positioned and centered within the div)"],null),new ku(null,6,[Xw,dm,Xq,!1,nw,16,ak,"number",Yz,Rn,Vo,"numeric px font size of the 'x' button text"],null),new ku(null,6,[Xw,wp,Xq,!1,nw,"#ccc",ak,"string",Yz,Ln,Vo,"HTML color of the 'x' button text"],null),new ku(null,6,[Xw,iB,Xq,!1,nw,"#999",ak,"string",Yz,Ln,Vo,"HTML color of the button text when the mouse is hovering over it"],null),new ku(null,5,[Xw,Yq,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"what to show in the tooltip"],null),new ku(null,5,[Xw,rN,Xq,!1,ak,"number",Yz,Rn,Vo,"offset the 'x' button text up or down from it's default position in the containing div (can be positive or negative)"],null),new ku(null,5,[Xw,wg,Xq,!1,ak,"number",Yz,Rn,Vo,"offset the 'x' button text left or right from it's default position in the containing div (can be positive or negative)"],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, the user can't click the button"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the button, not the wrapping div)"],null)],null)],null);function A0(){var n=bZ(!1);return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){t=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;var e=gr.a(t,qI),r=gr.a(t,Yq),i=gr.a(t,iG),l=gr.a(t,wg),u=gr.j(t,wp,"#ccc"),a=gr.j(t,dm,16),o=gr.j(t,a_,16),s=gr.a(t,pA),c=gr.a(t,BE),f=gr.a(t,RF),h=gr.a(t,rN),d=gr.j(t,iB,"#999");if(!_Q(xQ(O0),t,ur(["close-button"])))throw Error('Assert failed: (validate-args-macro close-button-args-desc args "close-button")');var p=UZ(e);return new Xl(null,7,5,Kl,[b0,RF,"rc-close-button",BE,new ku(null,4,[Oz,"inline-block",Cz,"relative",yx,HZ(o),GH,HZ(o)],null),QP,new Xl(null,9,5,Kl,[b0,RF,f,BE,ma.l(ur([new ku(null,6,[Cz,"absolute",I_,zn(p)?null:"pointer",dm,HZ(a),wp,zn(St(n))?d:u,Zm,WZ((a-o)/2-h,ur([Lb])),fW,WZ((a-o)/2-l,ur([Lb]))],null),c])),iG,ma.l(ur([new ku(null,4,[TA,r,pA,function(n){return zn(zn(s)?In(p):s)&&(s.g?s.g(n):s.call(null,n),n.stopPropagation()),null},td,function(){return fl(n,!0),null},tP,function(){return fl(n,!1),null}],null),i])),QP,new Xl(null,2,5,Kl,[yq,new ku(null,1,[RF,"zmdi zmdi-hc-fw-rc zmdi zmdi-close"],null)],null)],null)],null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}function E0(n,t){return[ii.g(n),",",ii.g(t)," "].join("")}function S0(n){return n=bG(ii.g(n),La(["[",ii.g("-"),":]"].join(""))),new Xl(null,2,5,Kl,[vi.g(n.g?n.g(1):n.call(null,1)),vi.g(n.g?n.g(2):n.call(null,2))],null)}function C0(n,t,e,r,i,l){var u=i+l;i=function(){var e=n instanceof pi?n.qa:null;switch(e){case"left":return"initial";case"right":return HZ(u);case"above":case"below":return WZ(zn(r)?r:t/2,ur([Lb]));default:throw Error(["No matching clause: ",ii.g(e)].join(""))}}(),l=function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":case"right":return WZ(zn(r)?r:e/2,ur([Lb]));case"above":return"initial";case"below":return HZ(u);default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}();var a=function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":return HZ(u);case"right":case"above":case"below":return null;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}(),o=function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":case"right":return null;case"above":return HZ(u);case"below":return null;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}();return new ku(null,4,[fW,i,Zm,l,tz,a,Mg,o],null)}function D0(n,t,e,r,i,l,u,a){var o=r/2,s=new ku(null,4,[fW,[E0(0,0),E0(e,o),E0(0,r)].join(""),tz,[E0(e,0),E0(0,o),E0(e,r)].join(""),bR,[E0(0,0),E0(o,e),E0(r,0)].join(""),qU,[E0(0,e),E0(o,0),E0(r,e)].join("")],null);return new Xl(null,3,5,Kl,[_N,new ku(null,2,[RF,"popover-arrow",BE,Au([Cz,"absolute",function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":return tz;case"right":return fW;case"above":return Mg;case"below":return Zm;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}(),WZ(e,ur([Lb])),function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":case"right":return Zm;case"above":case"below":return fW;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}(),null==t?"50%":HZ(t),function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":case"right":return sx;case"above":case"below":return qy;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}(),WZ(o,ur([Lb])),yx,HZ(function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":case"right":return e;case"above":case"below":return r;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}()),GH,HZ(function(){var t=n instanceof pi?n.qa:null;switch(t){case"left":case"right":return r;case"above":case"below":return e;default:throw Error(["No matching clause: ",ii.g(t)].join(""))}}())])],null),new Xl(null,2,5,Kl,[SL,new ku(null,2,[rj,s.g?s.g(n):s.call(null,n),BE,new ku(null,3,[Iy,zn(u)?u:zn(i)?"#f7f7f7":"white",Ah,zn(a)?a:zn(l)?null:"rgba(0, 0, 0, .2)",iM,"1"],null)],null)],null)],null)}var M0=new Xl(null,2,5,Kl,[new ku(null,6,[Xw,OF,Xq,!1,nw,0,ak,"double | string",Yz,r0,Vo,new Xl(null,4,5,Kl,[DW,"opacity of backdrop from:",new Xl(null,1,5,Kl,[wP],null),"0.0 (transparent) to 1.0 (opaque)"],null)],null),new ku(null,5,[Xw,pA,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the backdrop is clicked"],null)],null),F0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};F0.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,OF),e=gr.a(n,pA);if(!_Q(xQ(M0),n,ur(["backdrop"])))throw Error('Assert failed: (validate-args-macro backdrop-args-desc args "backdrop")');return new Xl(null,2,5,Kl,[cM,new ku(null,2,[BE,new ku(null,7,[Cz,"fixed",fW,"0px",Zm,"0px",yx,"100%",GH,"100%",Pb,"black",OF,zn(t)?t:0],null),pA,function(){return e.L?e.L():e.call(null),null}],null)],null)},F0.R=0,F0.S=function(n){return this.l(De(n))};var T0=new Xl(null,4,5,Kl,[new ku(null,4,[Xw,hS,Xq,!0,ak,"boolean atom",Vo,"an atom. When the value is true, the popover shows."],null),new ku(null,5,[Xw,TA,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"describes the title of the popover. Default font size is 18px to make it stand out"],null),new ku(null,5,[Xw,ly,Xq,!1,nw,!0,ak,"boolean",Vo,"when true, displays the close button"],null),new ku(null,5,[Xw,LO,Xq,!1,ak,"-> nil",Yz,wr,Vo,new Xl(null,6,5,Kl,[DW,"a function which takes no params and returns nothing. Called when the close button is pressed. Not required if ",new Xl(null,2,5,Kl,[IN,":showing?"],null)," atom passed in OR ",new Xl(null,2,5,Kl,[IN,":close-button?"],null)," is set to false"],null)],null)],null),N0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};N0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,hS);n=gr.a(t,TA);var r,i=gr.a(t,ly),l=gr.a(t,LO);if(!_Q(xQ(T0),t,ur(["popover-title"])))throw Error('Assert failed: (validate-args-macro popover-title-args-desc args "popover-title")');if(!zn((r=il(Pn),zn(r=r.g?r.g(e):r.call(null,e))?r:(r=il(Pn)).g?r.g(l):r.call(null,l))))throw Error("Assert failed: Must specify either showing? OR close-callback\n(or ((complement nil?) showing?) ((complement nil?) close-callback))");return t=null==i||i,new Xl(null,3,5,Kl,[ij,new ku(null,1,[BE,ma.l(ur([l0("inherit"),new ku(null,1,[dm,"18px"],null)]))],null),new Xl(null,7,5,Kl,[m0,Gv,N_,Cf,dE,bf,new Xl(null,2,5,Kl,[n,zn(t)?new Xl(null,11,5,Kl,[A0,pA,function(){return zn(l)?l.L?l.L():l.call(null):fl(e,!1)},a_,0,dm,26,rN,-1,wg,-5],null):null],null)],null)],null)},N0.R=0,N0.S=function(n){return this.l(De(n))};var B0=new Xl(null,15,5,Kl,[new ku(null,5,[Xw,bf,Xq,!0,ak,"vector",Yz,Ar,Vo,"a vector of component markups"],null),new ku(null,5,[Xw,Cz,Xq,!0,ak,"keyword atom",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,th,Xq,!1,ak,"integer",Yz,Rn,Vo,new Xl(null,8,5,Kl,[DW,"px offset of the arrow from its default ",new Xl(null,2,5,Kl,[IN,":position"],null)," along the popover border. Is ignored when ",new Xl(null,2,5,Kl,[IN,":position"],null)," is one of the ",new Xl(null,2,5,Kl,[IN,":xxx-center"],null)," variants. Positive numbers slide the popover toward its center"],null)],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style describing the popover width"],null),new ku(null,6,[Xw,GH,Xq,!1,nw,"auto",ak,"string",Yz,Ln,Vo,"a CSS style describing the popover height"],null),new ku(null,6,[Xw,gc,Xq,!1,nw,"white",ak,"string",Yz,Ln,Vo,"fill color of the popover"],null),new ku(null,5,[Xw,hI,Xq,!1,ak,"string",Yz,Ln,Vo,"color of the popover border, including the arrow"],null),new ku(null,6,[Xw,Dh,Xq,!1,nw,11,ak,"integer | string",Yz,r0,Vo,"the length in pixels of the arrow (from pointy part to middle of arrow base)"],null),new ku(null,6,[Xw,jy,Xq,!1,nw,22,ak,"integer | string",Yz,r0,Vo,"the width in pixels of arrow base"],null),new ku(null,6,[Xw,ZS,Xq,!1,nw,-1,ak,"integer",Yz,Rn,Vo,"px gap between the anchor and the arrow tip. Positive numbers push the popover away from the anchor"],null),new ku(null,5,[Xw,xT,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style which overrides the inner padding of the popover"],null),new ku(null,5,[Xw,qy,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style describing the horiztonal offset from anchor after position"],null),new ku(null,5,[Xw,sx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style describing the vertical offset from anchor after position"],null),new ku(null,5,[Xw,rG,Xq,!1,nw,!1,ak,"boolean",Vo,"setup popover styles for a tooltip"],null),new ku(null,4,[Xw,TA,Xq,!1,ak,"string | markup",Vo,"describes a title"],null)],null),z0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};z0.l=function(n){function t(n){var t=document.getElementById(l),e=S0(n);n=pr(e,0);var u=pr(e,1);e=zn(i)?Ne.a(n,qU)||Ne.a(u,qU):i,fl(o,zn(t)?2*((t.clientWidth+1)/2|0):0),fl(s,zn(t)?2*((t.clientHeight+1)/2|0):0);n:{t=St(o);var a=St(s);switch(u=u instanceof pi?u.qa:null){case"center":t=null;break n;case"right":case"below":t=20+r;break n;case"left":t=zn(t)?t-25-r:t;break n;case"above":t=zn(a)?a-25-r:a;break n;default:throw Error(["No matching clause: ",ii.g(u)].join(""))}}return fl(c,t),new Xl(null,2,5,Kl,[n,e],null)}n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var e=gr.a(n,Cz),r=gr.a(n,th),i=gr.a(n,TA);if(!_Q(xQ(B0),n,ur(["popover-border"])))throw Error('Assert failed: (validate-args-macro popover-border-args-desc args "popover-border")');var l=ro.g("popover-"),u=bZ(!1),a=bZ(!1),o=bZ(0),s=bZ(0),c=bZ(0),f=bZ(!1);return UK(new ku(null,4,[XB,"popover-border",Tb,function(){return fl(u,!0)},A_,function(n){var r=vZ(n);n=window.innerWidth;var i=window.innerHeight,l=r.getBoundingClientRect(),u=l.left,o=l.right,s=l.top;return l=l.bottom,r=r.parentNode.parentNode.parentNode,null==(0>u?-u:null)&&null==(o>n?o-n:null)&&null==(0>s?-s:null)&&null==(l>i?l-i:null)||!In(St(f))||(n=r.getBoundingClientRect(),n=pr(i=new Xl(null,2,5,Kl,[(n.right+n.left)/2,(n.bottom+n.top)/2],null),0),i=pr(i,1),u=Qr(window.innerWidth,3),n=vi.g([i<Qr(window.innerHeight,2)?"below":"above","-",n<u?"right":n<2*u?"center":"left"].join("")),fl(e,n),fl(f,!0)),t(St(e)),fl(a,!0)},ND,function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(n){var e=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(e,hI);var r=gr.a(e,GH),i=gr.a(e,rG),f=gr.a(e,gc),h=gr.a(e,bf),d=gr.j(e,Dh,11);gr.a(e,th);var p=gr.a(e,qy),g=gr.j(e,jy,22),m=gr.a(e,sx),v=gr.a(e,yx),w=gr.a(e,TA),y=gr.j(e,ZS,-1),b=gr.a(e,xT),x=gr.a(e,Cz);if(!_Q(xQ(B0),e,ur(["popover-border"])))throw Error('Assert failed: (validate-args-macro popover-border-args-desc args "popover-border")');var _=pr(e=t(St(x)),0);return e=pr(e,1),new Xl(null,5,5,Kl,[OE,new ku(null,2,[MF,l,BE,ma.l(ur([zn(St(u))?zn(l)?C0(_,St(o),St(s),St(c),d,y):null:new ku(null,2,[Zm,"-10000px",fW,"-10000px"],null),zn(v)?new ku(null,1,[yx,v],null):null,zn(r)?new ku(null,1,[GH,r],null):null,zn(f)?new ku(null,1,[Pb,f],null):null,zn(n)?new ku(null,1,[gz,n],null):null,zn(i)?new ku(null,3,[iL,"4px",nd,"none",EI,"none"],null):null,function(){var n=_ instanceof pi?_.qa:null;switch(n){case"left":return new ku(null,1,[qy,"-2000px"],null);case"right":case"above":case"below":return new ku(null,1,[ER,"-2000px"],null);default:throw Error(["No matching clause: ",ii.g(n)].join(""))}}(),zn(p)?new ku(null,1,[qy,p],null):null,zn(m)?new ku(null,1,[sx,m],null):null,new ku(null,4,[Oz,"block",OF,zn(St(a))?"1":"0",Lj,"none",xT,"0px"],null)]))],null),new Xl(null,9,5,Kl,[D0,_,St(c),d,g,e,i,f,n],null),zn(w)?w:null,Dl.a(new Xl(null,2,5,Kl,[oN,new ku(null,1,[BE,new ku(null,1,[xT,b],null)],null)],null),h)],null)}return n.R=0,n.S=function(n){return e(n=De(n))},n.l=e,n}()],null))},z0.R=0,z0.S=function(n){return this.l(De(n))};var P0=new Xl(null,21,5,Kl,[new ku(null,4,[Xw,NH,Xq,!0,ak,"boolean atom",Vo,new Xl(null,7,5,Kl,[DW,"an atom. When the value is true, the popover shows.",new Xl(null,1,5,Kl,[wP],null),new Xl(null,2,5,Kl,[zw,"NOTE: "],null),"When used as direct ",new Xl(null,2,5,Kl,[IN,":popover"],null)," arg in popover-anchor-wrapper, this arg will be injected automatically by popover-anchor-wrapper. If using your own popover function, you must add this yourself"],null)],null),new ku(null,5,[Xw,Pw,Xq,!0,ak,"keyword atom",Yz,$Q,Vo,new Xl(null,8,5,Kl,[DW,"relative to this anchor. One of ",YQ,new Xl(null,1,5,Kl,[wP],null),new Xl(null,2,5,Kl,[zw,"NOTE: "],null),"See above NOTE for ",new Xl(null,2,5,Kl,[IN,":showing-injected?"],null),". Same applies"],null)],null),new ku(null,5,[Xw,th,Xq,!1,ak,"integer",Yz,Rn,Vo,new Xl(null,8,5,Kl,[DW,"px offset of the arrow from its default ",new Xl(null,2,5,Kl,[IN,":position"],null)," along the popover border. Is ignored when ",new Xl(null,2,5,Kl,[IN,":position"],null)," is one of the ",new Xl(null,2,5,Kl,[IN,":xxx-center"],null)," variants. Positive numbers slide the popover toward its center"],null)],null),new ku(null,5,[Xw,Zw,Xq,!1,nw,!1,ak,"boolean",Vo,"when an anchor is in a scrolling region (e.g. scroller component), the popover can sometimes be clipped. By passing true for this parameter, re-com will use a different CSS method to show the popover. This method is slightly inferior because the popover can't track the anchor if it is repositioned"],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style representing the popover width"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style representing the popover height"],null),new ku(null,6,[Xw,Kp,Xq,!1,nw,0,ak,"double | string",Yz,r0,Vo,"indicates the opacity of the backdrop where 0.0=transparent, 1.0=opaque"],null),new ku(null,5,[Xw,_L,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the popover is cancelled (e.g. user clicks away)"],null),new ku(null,5,[Xw,TA,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"describes the title of the popover. The default font size is 18px to make it stand out"],null),new ku(null,5,[Xw,ly,Xq,!1,nw,!0,ak,"boolean",Vo,"when true, displays the close button"],null),new ku(null,5,[Xw,II,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"describes the popover body. Must be a single component"],null),new ku(null,5,[Xw,rG,Xq,!1,nw,!1,ak,"boolean",Vo,"setup popover styles for a tooltip"],null),new ku(null,6,[Xw,gc,Xq,!1,nw,"white",ak,"string",Yz,Ln,Vo,"fill color of the popover"],null),new ku(null,5,[Xw,hI,Xq,!1,ak,"string",Yz,Ln,Vo,"color of the popover border, including the arrow"],null),new ku(null,6,[Xw,Dh,Xq,!1,nw,11,ak,"integer | string",Yz,r0,Vo,"the length in pixels of the arrow (from pointy part to middle of arrow base)"],null),new ku(null,6,[Xw,jy,Xq,!1,nw,22,ak,"integer | string",Yz,r0,Vo,"the width in pixels of arrow base"],null),new ku(null,6,[Xw,ZS,Xq,!1,nw,-1,ak,"integer",Yz,Rn,Vo,"px gap between the anchor and the arrow tip. Positive numbers push the popover away from the anchor"],null),new ku(null,5,[Xw,xT,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS style which overrides the inner padding of the popover"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer container)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"override component style(s) with a style map, only use in case of emergency (applies to the outer container)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the outer container)"],null)],null)],null),$0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};$0.l=function(n){function t(n){return zn(e)?(n=vZ(n).parentNode.getBoundingClientRect(),fl(r,n.left),fl(i,n.top)):null}n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var e=gr.a(n,Zw);if(!_Q(xQ(P0),n,ur(["popover-content-wrapper"])))throw Error('Assert failed: (validate-args-macro popover-content-wrapper-args-desc args "popover-content-wrapper")');var r=bZ(0),i=bZ(0);return UK(new ku(null,4,[XB,"popover-content-wrapper",Tb,function(n){return t(n)},A_,function(n){return t(n)},ND,function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,II);var e=gr.a(t,hI),l=gr.a(t,_L),u=gr.a(t,NH),a=gr.a(t,GH),o=gr.a(t,rG),s=gr.a(t,iG),c=gr.a(t,gc),f=gr.j(t,Dh,11),h=gr.a(t,th),d=gr.a(t,Kp),p=gr.a(t,Pw),g=gr.a(t,Zw),m=gr.a(t,ly),v=gr.j(t,jy,22),w=gr.a(t,yx),y=gr.a(t,TA),b=gr.a(t,BE),x=gr.j(t,ZS,-1),_=gr.a(t,RF),k=gr.a(t,xT);if(!_Q(xQ(P0),t,ur(["popover-content-wrapper"])))throw Error('Assert failed: (validate-args-macro popover-content-wrapper-args-desc args "popover-content-wrapper")');return St(p),t=Kl,s=ma.l(ur([new ku(null,2,[RF,["popover-content-wrapper ",ii.g(_)].join(""),BE,ma.l(ur([l0("inherit"),zn(g)?new ku(null,3,[Cz,"fixed",fW,HZ(St(r)),Zm,HZ(St(i))],null):null,b]))],null),s])),g=St(u),new Xl(null,4,5,t,[oS,s,zn(zn(g)?l:g)?new Xl(null,5,5,Kl,[F0,OF,d,pA,l],null):null,new Xl(null,27,5,Kl,[z0,Cz,p,th,h,yx,w,GH,a,rG,o,gc,c,hI,e,Dh,f,jy,v,ZS,x,xT,k,TA,zn(y)?new Xl(null,9,5,Kl,[N0,TA,y,hS,u,ly,m,LO,l],null):null,bf,new Xl(null,1,5,Kl,[n],null)],null)],null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()],null))},$0.R=0,$0.S=function(n){return this.l(De(n))};var R0=new Xl(null,7,5,Kl,[new ku(null,4,[Xw,hS,Xq,!0,ak,"boolean atom",Vo,"an atom. When the value is true, the popover shows"],null),new ku(null,5,[Xw,Cz,Xq,!0,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,C$,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"the component the popover is attached to"],null),new ku(null,5,[Xw,Lw,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"the popover body component"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer container)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"override component style(s) with a style map, only use in case of emergency (applies to the outer container)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the outer container)"],null)],null)],null),I0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};I0.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,hS),e=gr.a(n,Cz);if(!_Q(xQ(R0),n,ur(["popover-anchor-wrapper"])))throw Error('Assert failed: (validate-args-macro popover-anchor-wrapper-args-desc args "popover-anchor-wrapper")');var r=bZ(e),i=bZ(St(r)),l=jK((function(){return zn(St(t))?null:fl(i,St(r))}));return UK(new ku(null,2,[XB,"popover-anchor-wrapper",ND,function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,hS);var e=gr.a(t,Cz),u=gr.a(t,C$),a=gr.a(t,Lw),o=gr.a(t,RF),s=gr.a(t,BE),c=gr.a(t,iG);if(!_Q(xQ(R0),t,ur(["popover-anchor-wrapper"])))throw Error('Assert failed: (validate-args-macro popover-anchor-wrapper-args-desc args "popover-anchor-wrapper")');St(l),Ri.a(St(r),e)&&(fl(r,e),fl(i,St(r))),t=pr(e=S0(St(i)),0),pr(e,1);n:switch(t instanceof pi?t.qa:null){case"left":case"above":e=!1;break n;default:e=!0}n:switch(t instanceof pi?t.qa:null){case"left":case"right":t="row";break n;default:t="column"}return new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-popover-anchor-wrapper display-inline-flex ",ii.g(o)].join(""),BE,ma.l(ur([l0("inherit"),s]))],null),c])),new Xl(null,5,5,Kl,[oS,new ku(null,2,[RF,"rc-point-wrapper display-inline-flex",BE,ma.l(ur([l0("auto"),u0(t),o0(Ef,dE)]))],null),zn(e)?u:null,zn(St(n))?new Xl(null,3,5,Kl,[oS,new ku(null,2,[RF,"rc-popover-point display-inline-flex",BE,ma.l(ur([l0("auto"),new ku(null,2,[Cz,"relative",kD,4],null)]))],null),Dl.a(a,new Xl(null,4,5,Kl,[NH,n,Pw,i],null))],null):null,zn(e)?null:u],null)],null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()],null))},I0.R=0,I0.S=function(n){return this.l(De(n))};var L0=new Xl(null,12,5,Kl,[new ku(null,5,[Xw,DF,Xq,!0,ak,"string | hiccup | atom",Yz,KQ,Vo,"the text (or component) for the tooltip"],null),new ku(null,4,[Xw,hS,Xq,!0,ak,"boolean atom",Vo,"an atom. When the value is true, the tooltip shows"],null),new ku(null,5,[Xw,_L,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the popover is cancelled (e.g. user clicks away)"],null),new ku(null,5,[Xw,ly,Xq,!1,nw,!1,ak,"boolean",Vo,"when true, displays the close button"],null),new ku(null,5,[Xw,zM,Xq,!1,ak,"keyword",Yz,function(n){return TQ(n,":status",DQ)},Vo,new Xl(null,8,5,Kl,[DW,"controls background color of the tooltip. ",new Xl(null,2,5,Kl,[IN,"nil/omitted"],null)," for black or one of ",WQ," (although ",new Xl(null,2,5,Kl,[IN,":validating"],null)," is only used by the input-text component)"],null)],null),new ku(null,5,[Xw,C$,Xq,!0,ak,"hiccup",Yz,KQ,Vo,"the component the tooltip is attached to"],null),new ku(null,6,[Xw,Cz,Xq,!1,nw,Xx,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,Zw,Xq,!1,nw,!0,ak,"boolean",Vo,"when an anchor is in a scrolling region (e.g. scroller component), the popover can sometimes be clipped. When this parameter is true (which is the default), re-com will use a different CSS method to show the popover. This method is slightly inferior because the popover can't track the anchor if it is repositioned"],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"specifies width of the tooltip"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to popover-anchor-wrapper component)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"override component style(s) with a style map, only use in case of emergency (applies to popover-anchor-wrapper component)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to popover-anchor-wrapper component)"],null)],null)],null),U0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};U0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,C$);var e=gr.a(t,_L),r=gr.a(t,iG),i=gr.j(t,Zw,!0),l=gr.a(t,ly),u=gr.a(t,yx),a=gr.a(t,hS),o=gr.a(t,BE),s=gr.a(t,zM),c=gr.a(t,DF),f=gr.a(t,RF),h=gr.a(t,Cz);if(!_Q(xQ(L0),t,ur(["popover-tooltip"])))throw Error('Assert failed: (validate-args-macro popover-tooltip-args-desc args "popover-tooltip")');return t=UZ(c),c=function(){switch(s instanceof pi?s.qa:null){case"warning":return"#f57c00";case"error":return"#d50000";case"info":return"#333333";case"success":return"#13C200";default:return"black"}}(),new Xl(null,15,5,Kl,[I0,hS,a,Cz,zn(h)?h:Xx,C$,n,RF,["rc-popover-tooltip ",ii.g(f)].join(""),BE,o,iG,r,Lw,new Xl(null,21,5,Kl,[$0,Zw,i,_L,e,yx,u,rG,!0,gc,c,xT,"3px 8px",Dh,6,jy,12,ZS,4,II,new Xl(null,5,5,Kl,[w0,BE,Ne.a(s,NN)?new ku(null,3,[wp,"white",dm,"14px",xT,"4px"],null):new ku(null,4,[wp,"white",dm,"12px",cv,"bold",Np,"center"],null),bf,new Xl(null,2,5,Kl,[zn(l)?new Xl(null,5,5,Kl,[b0,jR,TR,QP,new Xl(null,9,5,Kl,[A0,pA,function(){return zn(e)?e.L?e.L():e.call(null):fl(a,!1)},a_,15,dm,20,wg,5],null)],null):null,t],null)],null)],null)],null)},U0.R=0,U0.S=function(n){return this.l(De(n))};var q0=new Xl(null,6,5,Kl,[new ku(null,4,[Xw,DF,Xq,!0,ak,"anything",Vo,"text or hiccup or whatever to display"],null),new ku(null,5,[Xw,pA,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the label is clicked"],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"a CSS width"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the label, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"additional CSS styles (applies to the label, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the label, not the wrapping div)"],null)],null)],null),H0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};H0.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,DF),e=gr.a(n,pA),r=gr.a(n,yx),i=gr.a(n,RF),l=gr.a(n,BE),u=gr.a(n,iG);if(!_Q(xQ(q0),n,ur(["label"])))throw Error('Assert failed: (validate-args-macro label-args-desc args "label")');return new Xl(null,9,5,Kl,[b0,RF,"rc-label-wrapper display-inline-flex",yx,r,Cf,kx,QP,new Xl(null,3,5,Kl,[DW,ma.l(ur([new ku(null,2,[RF,["rc-label ",ii.g(i)].join(""),BE,ma.l(ur([l0("none"),l]))],null),zn(e)?new ku(null,1,[pA,function(){return e.L?e.L():e.call(null),null}],null):null,u])),t],null)],null)},H0.R=0,H0.S=function(n){return this.l(De(n))};var W0=new Xl(null,8,5,Kl,[new ku(null,4,[Xw,DF,Xq,!0,ak,"anything",Vo,"title or hiccup or anything to display"],null),new ku(null,5,[Xw,JE,Xq,!1,ak,"keyword",Yz,function(n){return TQ(n,":level",MQ)},Vo,new Xl(null,7,5,Kl,[DW,"one of ",GQ,". If not provided then style the title using ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null)],null)],null),new ku(null,5,[Xw,mj,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, the title is underlined"],null),new ku(null,6,[Xw,sx,Xq,!1,nw,"0.4em",ak,"string",Yz,Ln,Vo,"CSS size for space above the title"],null),new ku(null,6,[Xw,LU,Xq,!1,nw,"0.1em",ak,"string",Yz,Ln,Vo,"CSS size for space below the title"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the title, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the title, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the title, not the wrapping div)"],null)],null)],null),G0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};G0.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,DF);var e=gr.a(t,JE),r=gr.a(t,mj),i=gr.j(t,sx,"0.6em"),l=gr.j(t,LU,"0.3em"),u=gr.a(t,RF),a=gr.a(t,BE),o=gr.a(t,iG);if(!_Q(xQ(W0),t,ur(["title"])))throw Error('Assert failed: (validate-args-macro title-args-desc args "title")');return t=null==e?"":Ea(e),new Xl(null,5,5,Kl,[w0,RF,["rc-title-wrapper ",t].join(""),bf,new Xl(null,2,5,Kl,[new Xl(null,3,5,Kl,[DW,ma.l(ur([new ku(null,2,[RF,["rc-title display-flex ",t," ",ii.g(u)].join(""),BE,ma.l(ur([l0("none"),new ku(null,1,[sx,i],null),new ku(null,1,[rs,1],null),zn(r)?null:new ku(null,1,[LU,l],null),a]))],null),o])),n],null),zn(r)?new Xl(null,5,5,Kl,[p0,SA,"1px",BE,new ku(null,1,[LU,l],null)],null):null],null)],null)},G0.R=0,G0.S=function(n){return this.l(De(n))};var Y0=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};Y0.l=function(n){var t=Me(n);return n=pr(t=Er(t)?new Xl(null,2,5,Kl,[t,Fe(n)],null):new Xl(null,2,5,Kl,[ju,n],null),0),t=pr(t,1),n=LZ.l(ur([new ku(null,1,[BE,new ku(null,3,[wk,"none",yx,"450px",ps,"450px"],null)],null),n])),new Xl(null,3,5,Kl,[DR,n,Dl.a(new Xl(null,1,5,Kl,[MU],null),t)],null)},Y0.R=0,Y0.S=function(n){return this.l(De(n))};var V0,J0={},X0={};function K0(n){var t=sen,e=N1;if(null!=t&&null!=t.Ye)n=t.Ye(t,n,e);else{var r=K0[s(null==t?null:t)];if(null!=r)n=r.j?r.j(t,n,e):r.call(null,t,n,e);else{if(null==(r=K0._))throw Hn("WritePort.put!",t);n=r.j?r.j(t,n,e):r.call(null,t,n,e)}}return n}function Z0(n){if(null!=n&&null!=n.ih)n=!0;else{var t=Z0[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Z0._))throw Hn("Handler.active?",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Q0(n){if(null!=n&&null!=n.jh)n=n.Tb;else{var t=Q0[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Q0._))throw Hn("Handler.commit",n);n=t.g?t.g(n):t.call(null,n)}}return n}function n1(n,t){if(null!=n&&null!=n.gg)n=n.gg(n,t);else{var e=n1[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=n1._))throw Hn("Buffer.add!*",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}var t1=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};t1.g=function(n){return n},t1.a=function(n,t){if(null==t)throw Error("Assert failed: (not (nil? itm))");return n1(n,t)},t1.R=2;function e1(n,t,e,r,i){for(var l=0;l<i;)e[r+l]=n[t+l],l+=1}function r1(n){this.length=this.ib=this.head=0,this.O=n}function i1(n,t){n.length+1===n.O.length&&n.resize(),n.unshift(t)}function l1(n,t){for(var e=n.length,r=0;r<e;){var i=n.pop();(t.g?t.g(i):t.call(null,i))&&n.unshift(i),r+=1}}function u1(n){if(!(0<n))throw Error("Assert failed: Can't create a ring buffer of size 0\n(> n 0)");return new r1(Array(n))}function a1(n,t){this.Ma=n,this.n=t,this.B=2,this.U=0}function o1(){this.Ma=u1(10),this.n=10,this.B=2,this.U=0}if(r1.prototype.pop=function(){if(0===this.length)return null;var n=this.O[this.ib];return this.O[this.ib]=null,this.ib=(this.ib+1)%this.O.length,--this.length,n},r1.prototype.unshift=function(n){return this.O[this.head]=n,this.head=(this.head+1)%this.O.length,this.length+=1,null},r1.prototype.resize=function(){var n=Array(2*this.O.length);return this.ib<this.head?(e1(this.O,this.ib,n,0,this.length),this.ib=0,this.head=this.length,this.O=n):this.ib>this.head?(e1(this.O,this.ib,n,0,this.O.length-this.ib),e1(this.O,0,n,this.O.length-this.ib,this.head),this.ib=0,this.head=this.length,this.O=n):this.ib===this.head?(this.head=this.ib=0,this.O=n):null},a1.prototype.Xe=function(){return this.Ma.length>=this.n},a1.prototype.gg=function(n,t){return i1(this.Ma,t),this},a1.prototype.na=function(){return this.Ma.length},o1.prototype.Xe=function(){return!1},o1.prototype.gg=function(n,t){return this.Ma.length===this.n&&this.Ma.pop(),this.Ma.unshift(t),this},o1.prototype.na=function(){return this.Ma.length},void 0===jn||void 0===On||void 0===J0||void 0===X0||void 0==={}||void 0===s1)var s1={};var c1=u1(32),f1=!1,h1=!1;function d1(){f1=!0,h1=!1;for(var n=0;;){var t=c1.pop();if(!(null!=t&&(t.L?t.L():t.call(null),1024>n)))break;n+=1}return f1=!1,0<c1.length?p1.L?p1.L():p1.call(null):null}function p1(){if(h1&&f1)return null;h1=!0,!f(u.setImmediate)||u.Window&&u.Window.prototype&&!V("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(GV||(GV=XV()),GV(d1)):u.setImmediate(d1)}function g1(n){i1(c1,n),p1()}var m1,v1={};function w1(n){return void 0!==jn&&void 0!==On&&void 0!==J0&&void 0!==X0&&void 0!==v1&&void 0!==m1||((m1=function(n,t){this.F=n,this.Bj=t,this.B=425984,this.U=0}).prototype.Y=function(n,t){return new m1(this.F,t)},m1.prototype.X=function(){return this.Bj},m1.prototype.wc=function(){return this.F},m1.wa=function(){return new Xl(null,2,5,Kl,[mM,Ys],null)},m1.ta=!0,m1.sa="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels19994",m1.ua=function(n){return Gt(n,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels19994")}),new m1(n,ju)}function y1(n,t){this.mc=n,this.F=t}function b1(n){return Z0(n.mc)}function x1(n,t,e,r){this.Hd=n,this.pf=0,this.Wc=t,this.nf=0,this.Ma=e,this.closed=!1,this.tc=r}function _1(n){for(;;){var t=n.Wc.pop();if(null!=t){var e=t.mc;g1(function(n){return function(){return n.g?n.g(!0):n.call(null,!0)}}(e.Tb,t.F))}break}l1(n.Wc,ll(!1)),k1(n)}function k1(n){if(!n.closed)for(n.closed=!0,zn((e=void 0,zn(e=n.Ma)?0===n.Wc.length:e))&&(n.tc.g?n.tc.g(n.Ma):n.tc.call(null,n.Ma));;){var t=n.Hd.pop();if(null==t)break;g1(function(n,t){return function(){return n.g?n.g(t):n.call(null,t)}}(t.Tb,zn(function(){var t=n.Ma;return zn(t)?0<hr(n.Ma):t}())?n.Ma.Ma.pop():null))}var e}function j1(n){return console.log(n),null}function O1(n,t,e){return null==(e=(t=zn(t)?t:j1).g?t.g(e):t.call(null,e))?n:t1.a(n,e)}x1.prototype.Ye=function(n,t,e){var r=this,i=this;if(null==t)throw Error("Assert failed: Can't put nil on a channel\n(not (nil? val))");var l,u=r.closed;if(u)return w1(!u);if(zn(zn(l=r.Ma)?In(r.Ma.Xe()):l)){var a=Ye(r.tc.a?r.tc.a(r.Ma,t):r.tc.call(null,r.Ma,t));if(e=function(){for(var n=Zl;;){if(!(0<r.Hd.length&&0<hr(r.Ma)))return n;var t=r.Hd.pop(),e=t.Tb,i=r.Ma.Ma.pop();n=cr.a(n,function(n,t,e){return function(){return t.g?t.g(e):t.call(null,e)}}(0,e,i))}}(),a&&_1(i),De(e)){e=De(e),n=null;for(var o=0,s=0;;)if(s<o){g1(n.Aa(null,s)),s+=1}else{if(!(e=De(e)))break;Dr(n=e)?(e=le(n),s=ue(n),n=e,o=hr(e),e=s):(g1(e=Me(n)),e=Te(n),n=null,o=0),s=0}}return w1(!0)}if(n=function(){for(;;){var n=r.Hd.pop();if(!zn(n))return null;if(zn(!0))return n}}(),zn(n)){var c=n.Tb;return g1((function(){return c.g?c.g(t):c.call(null,t)})),w1(!0)}if(64<r.nf?(r.nf=0,l1(r.Wc,b1)):r.nf+=1,zn(e.hg())){if(!(1024>r.Wc.length))throw Error(["Assert failed: ",["No more than ",ii.g(1024)," pending puts are allowed on a single channel. Consider using a windowed buffer."].join(""),"\n(< (.-length puts) impl/MAX-QUEUE-SIZE)"].join(""));i1(r.Wc,new y1(e,t))}return null};var A1,E1={};function S1(n){return void 0!==jn&&void 0!==On&&void 0!==J0&&void 0!==X0&&void 0!==E1&&void 0!==A1||((A1=function(n,t){this.Tb=n,this.Cj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new A1(this.Tb,t)},A1.prototype.X=function(){return this.Cj},A1.prototype.ih=function(){return!0},A1.prototype.hg=function(){return!0},A1.prototype.jh=function(){return this.Tb},A1.wa=function(){return new Xl(null,2,5,Kl,[KW,Yg],null)},A1.ta=!0,A1.sa="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers22938",A1.ua=function(n){return Gt(n,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers22938")}),new A1(n,ju)}function C1(n){try{var t=n[0];return t.g?t.g(n):t.call(null,n)}catch(e){if(e instanceof Object)throw t=e,k1(n[6]),t;throw e}}function D1(n,t){var e=function(n,t){if(null!=n.Ma&&0<hr(n.Ma)){if(zn(t=t.Tb)){var e=n.Ma.Ma.pop(),r=In(n.Ma.Xe())&&0<n.Wc.length?function(){for(var t=Zl;;){var e=n.Wc.pop(),r=e.F;if(t=zn(e=e.mc.Tb)?cr.a(t,e):t,!(In(r=zn(e)?Ye(n.tc.a?n.tc.a(n.Ma,r):n.tc.call(null,n.Ma,r)):null)&&In(n.Ma.Xe())&&0<n.Wc.length))return new Xl(null,2,5,Kl,[r,t],null)}}():null,i=pr(r,0),l=pr(r,1);zn(i)&&_1(n);for(var u=De(l),a=null,o=0,s=0;;)if(s<o){var c=a.Aa(null,s);g1(function(n,t,e,r,i){return function(){return i.g?i.g(!0):i.call(null,!0)}}(0,0,0,0,c)),s+=1}else{var f=De(u);if(!f)break;Dr(c=f)?(u=le(c),s=ue(c),a=u,o=hr(u),u=s):(g1(function(n,t,e,r,i){return function(){return i.g?i.g(!0):i.call(null,!0)}}(0,0,0,0,Me(c))),u=Te(c),a=null,o=0),s=0}return w1(e)}return null}if(e=function(){for(;;){var t=n.Wc.pop();if(!zn(t))return null;if(Z0(t.mc))return t}}(),zn(e)){var h=Q0(e.mc);return g1((function(){return h.g?h.g(!0):h.call(null,!0)})),w1(e.F)}if(zn(n.closed))return zn(n.Ma)&&(n.tc.g?n.tc.g(n.Ma):n.tc.call(null,n.Ma)),zn(!zn(!0)||t.Tb)?(t=zn(d=n.Ma)?0<hr(n.Ma):d,w1(e=zn(t)?n.Ma.Ma.pop():null)):null;var d;if(64<n.pf?(n.pf=0,l1(n.Hd,Z0)):n.pf+=1,zn(t.hg())){if(!(1024>n.Hd.length))throw Error(["Assert failed: ",["No more than ",ii.g(1024)," pending takes are allowed on a single channel."].join(""),"\n(< (.-length takes) impl/MAX-QUEUE-SIZE)"].join(""));i1(n.Hd,t)}return null}(sen,S1((function(e){return n[2]=e,n[1]=t,C1(n)})));return zn(e)?(n[2]=St(e),n[1]=t,nk):null}function M1(n,t,e){return zn(t=t.Ye(null,e,S1((function(t){return n[2]=t,n[1]=2,C1(n)}))))?(n[2]=St(t),n[1]=2,nk):null}function F1(n,t){return n=n[6],null!=t&&n.Ye(null,t,S1((function(){return null}))),k1(n),n}var T1=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};T1.L=function(){return T1.g(null)},T1.g=function(n){return T1.j(n,null,null)},T1.a=function(n,t){return T1.j(n,t,null)},T1.j=function(n,t,e){if(n=Ne.a(n,0)?null:n,zn(t)&&!zn(n))throw Error("Assert failed: buffer must be supplied when transducer is\nbuf-or-n");return function(n,t,e){return new x1(u1(32),u1(32),n,(r=zn(t)?t.g?t.g(t1):t.call(null,t1):t1,function(){function n(n,t){try{return r.a?r.a(n,t):r.call(null,n,t)}catch(t){return O1(n,e,t)}}function t(n){try{return r.g?r.g(n):r.call(null,n)}catch(t){return O1(n,e,t)}}var i;return(i=function(e,r){switch(arguments.length){case 1:return t.call(this,e);case 2:return n.call(this,e,r)}throw Error("Invalid arity: "+arguments.length)}).g=t,i.a=n,i}()));var r}(n="number"==typeof n?new a1(u1(n),n):n,t,e)},T1.R=3;var N1=(void 0!==jn&&void 0!==On&&void 0!==J0&&void 0!==V0||((V0=function(n,t,e){this.Tb=n,this.Zg=t,this.Dj=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new V0(this.Tb,this.Zg,t)},V0.prototype.X=function(){return this.Dj},V0.prototype.ih=function(){return!0},V0.prototype.hg=function(){return this.Zg},V0.prototype.jh=function(){return this.Tb},V0.wa=function(){return new Xl(null,3,5,Kl,[KW,Fp,p$],null)},V0.ta=!0,V0.sa="cljs.core.async/t_cljs$core$async23059",V0.ua=function(n){return Gt(n,"cljs.core.async/t_cljs$core$async23059")}),new V0((function(){return null}),!0,ju)),B1=new Xl(null,5,5,Kl,[new ku(null,6,[Xw,SA,Xq,!1,nw,Bf,ak,"keyword",Yz,function(n){return TQ(n,":size",SQ)},Vo,new Xl(null,3,5,Kl,[DW,"one of ",qQ],null)],null),new ku(null,6,[Xw,wp,Xq,!1,nw,"#999",ak,"string",Yz,Ln,Vo,"CSS color"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the throbber, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the throbber, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the throbber, not the wrapping div)"],null)],null)],null),z1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};z1.l=function(n){function t(){return new Xl(null,2,5,Kl,[My,zn(r)?new ku(null,1,[BE,new ku(null,1,[Pb,r],null)],null):null],null)}n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var e=gr.a(n,SA),r=gr.a(n,wp),i=gr.a(n,RF),l=gr.a(n,BE),u=gr.a(n,iG);if(!_Q(xQ(B1),n,ur(["throbber"])))throw Error('Assert failed: (validate-args-macro throbber-args-desc args "throbber")');return new Xl(null,7,5,Kl,[b0,RF,"rc-throbber-wrapper",Cf,kx,QP,new Xl(null,10,5,Kl,[dp,ma.l(ur([new ku(null,2,[RF,["rc-throbber loader ",ii.g(function(){switch(e instanceof pi?e.qa:null){case"regular":return"";case"smaller":return"smaller ";case"small":return"small ";case"large":return"large ";default:return""}}()),ii.g(i)].join(""),BE,l],null),u])),new Xl(null,1,5,Kl,[t],null),new Xl(null,1,5,Kl,[t],null),new Xl(null,1,5,Kl,[t],null),new Xl(null,1,5,Kl,[t],null),new Xl(null,1,5,Kl,[t],null),new Xl(null,1,5,Kl,[t],null),new Xl(null,1,5,Kl,[t],null),new Xl(null,1,5,Kl,[t],null)],null)],null)},z1.R=0,z1.S=function(n){return this.l(De(n))};var P1=new Xl(null,16,5,Kl,[new ku(null,5,[Xw,qW,Xq,!0,ak,"string/nil | atom",Yz,function(n){return"string"==typeof(n=qZ(n))||null==n},Vo,"text of the input (can be atom or value/nil)"],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"string -> nil",Yz,wr,Vo,new Xl(null,3,5,Kl,[DW,new Xl(null,2,5,Kl,[IN,":change-on-blur?"],null)," controls when it is called. Passed the current input string"],null)],null),new ku(null,5,[Xw,zM,Xq,!1,ak,"keyword",Yz,function(n){return TQ(n,":status",CQ)},Vo,new Xl(null,5,5,Kl,[DW,"validation status. ",new Xl(null,2,5,Kl,[IN,"nil/omitted"],null)," for normal status or one of: ",HQ],null)],null),new ku(null,5,[Xw,aU,Xq,!1,nw,!1,ak,"boolean",Vo,new Xl(null,4,5,Kl,[DW,"when true, display an icon to match ",new Xl(null,2,5,Kl,[IN,":status"],null)," (no icon for nil)"],null)],null),new ku(null,5,[Xw,$W,Xq,!1,ak,"string",Yz,Ln,Vo,"displayed in status icon's tooltip"],null),new ku(null,5,[Xw,_g,Xq,!1,ak,"string",Yz,Ln,Vo,"background text shown when empty"],null),new ku(null,6,[Xw,yx,Xq,!1,nw,"250px",ak,"string",Yz,Ln,Vo,"standard CSS width setting for this input"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"standard CSS height setting for this input"],null),new ku(null,6,[Xw,eS,Xq,!1,nw,3,ak,"integer | string",Yz,r0,Vo,"ONLY applies to 'input-textarea': the number of rows of text to show"],null),new ku(null,5,[Xw,JT,Xq,!1,nw,!0,ak,"boolean | atom",Vo,new Xl(null,4,5,Kl,[DW,"when true, invoke ",new Xl(null,2,5,Kl,[IN,":on-change"],null)," function on blur, otherwise on every change (character by character)"],null)],null),new ku(null,5,[Xw,PB,Xq,!1,ak,"regex",Yz,function(n){return qZ(n)instanceof RegExp},Vo,"user input is only accepted if it would result in a string that matches this regular expression"],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, the user can't interact (input anything)"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the textbox, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the textbox, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the textbox, not the wrapping div)"],null)],null),new ku(null,5,[Xw,VE,Xq,!1,ak,"keyword",Yz,function(n){return n instanceof pi},Vo,new Xl(null,7,5,Kl,[DW,"ONLY applies to super function 'base-input-text': either ",new Xl(null,2,5,Kl,[IN,":input"],null),", ",new Xl(null,2,5,Kl,[IN,":password"],null)," or ",new Xl(null,2,5,Kl,[IN,":textarea"],null)],null)],null)],null),$1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};$1.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,qW),e=gr.a(n,VE);if(!_Q(xQ(P1),n,ur(["input-text"])))throw Error('Assert failed: (validate-args-macro input-text-args-desc args "input-text")');var r=bZ(UZ(t)),i=bZ(null==St(r)?"":St(r));return function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,qI);var l=gr.a(t,mI),u=gr.a(t,aU),a=gr.a(t,GH),o=gr.a(t,$W),s=gr.a(t,qW),c=gr.a(t,iG),f=gr.a(t,_g),h=gr.a(t,yx),d=gr.a(t,eS),p=gr.a(t,BE),g=gr.a(t,zM),m=gr.a(t,RF),v=gr.j(t,JT,!0),w=gr.a(t,PB);if(!_Q(xQ(P1),t,ur(["input-text"])))throw Error('Assert failed: (validate-args-macro input-text-args-desc args "input-text")');t=UZ(s);var y,b=UZ(n),x=UZ(v),_=bZ(!1);return Ri.a(St(r),t)&&(fl(r,t),fl(i,t)),new Xl(null,9,5,Kl,[m0,RF,"rc-input-text ",Cf,kx,yx,zn(h)?h:"250px",bf,new Xl(null,2,5,Kl,[new Xl(null,3,5,Kl,[oS,new ku(null,2,[RF,["rc-input-text-inner ",ii.g(function(){switch(g instanceof pi?g.qa:null){case"success":return"has-success ";case"warning":return"has-warning ";case"error":return"has-error ";default:return""}}()),zn(zn(g)?u:g)?"has-feedback":null].join(""),BE,l0("auto")],null),new Xl(null,2,5,Kl,[Ne.a(e,ov)?T$:e,ma.l(ur([Vu([_g,Tg,Vy,e_,ak,BE,eS,uS,RF,mI],[f,b,St(i),function(){if(zn(zn(l)?zn(x)?Ri.a(St(i),St(r)):x:l)){fl(r,St(i));var n=St(i);l.g?l.g(n):l.call(null,n)}return null},function(){switch(e instanceof pi?e.qa:null){case"input":return"text";case"password":return"password";default:return null}}(),ma.l(ur([l0("none"),new ku(null,2,[GH,a,cA,"12px"],null),p])),Ne.a(e,zE)?zn(d)?d:3:null,function(n){if(zn(b))n.preventDefault();else switch(n.which){case 13:zn(l)&&(fl(r,St(i)),n=St(i),l.g?l.g(n):l.call(null,n));break;case 27:fl(i,St(r))}return null},["form-control ",ii.g(m)].join(""),function(n){return n=n.target.value,zn(zn(l)?!!In(b)&&(!zn(w)||Ra(w,n)):l)&&(fl(i,n),zn(x)||(fl(r,St(i)),n=St(i),l.g?l.g(n):l.call(null,n))),null}]),c]))],null)],null),zn(zn(u)?g:u)?(y=function(){var n=g instanceof pi?g.qa:null;switch(n){case"success":return"zmdi-check-circle";case"warning":return"zmdi-alert-triangle";case"error":return"zmdi-alert-circle zmdi-spinner";case"validating":return"zmdi-hc-spin zmdi-rotate-right zmdi-spinner";default:throw Error(["No matching clause: ",ii.g(n)].join(""))}}(),zn(o)?new Xl(null,13,5,Kl,[U0,DF,o,Cz,pD,zM,g,hS,_,C$,Ne.a(nE,g)?new Xl(null,7,5,Kl,[z1,SA,Bf,RF,"smaller",iG,new ku(null,2,[MP,function(){return zn(zn(u)?g:u)&&fl(_,!0),null},$v,function(){return fl(_,!1),null}],null)],null):new Xl(null,2,5,Kl,[yq,new ku(null,4,[RF,["zmdi zmdi-hc-fw ",ii.g(y)," form-control-feedback"].join(""),BE,new ku(null,3,[Cz,"static",GH,"auto",OF,zn(zn(u)?g:u)?"1":"0"],null),MP,function(){return zn(zn(u)?g:u)&&fl(_,!0),null},$v,function(){return fl(_,!1),null}],null)],null),BE,ma.l(ur([l0("none"),o0(jR,dE),new ku(null,2,[dm,"130%",qy,"4px"],null)]))],null):Ne.a(nE,g)?new Xl(null,5,5,Kl,[z1,SA,Bf,RF,"smaller"],null):new Xl(null,2,5,Kl,[yq,new ku(null,3,[RF,["zmdi zmdi-hc-fw ",ii.g(y)," form-control-feedback"].join(""),BE,ma.l(ur([l0("none"),o0(jR,dE),new ku(null,5,[Cz,"static",dm,"130%",qy,"4px",OF,zn(zn(u)?g:u)?"1":"0",GH,"auto"],null)])),TA,o],null)],null)):null],null)],null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()},$1.R=0,$1.S=function(n){return this.l(De(n))};var R1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};R1.l=function(n){return Pi.aa($1,VE,T$,n)},R1.R=0,R1.S=function(n){return this.l(De(n))};var I1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};I1.l=function(n){return Pi.aa($1,VE,ov,n)},I1.R=0,I1.S=function(n){return this.l(De(n))};var L1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};L1.l=function(n){return Pi.aa($1,VE,zE,n)},L1.R=0,L1.S=function(n){return this.l(De(n))};var U1=new Xl(null,9,5,Kl,[new ku(null,4,[Xw,qW,Xq,!0,ak,"boolean | atom",Vo,"holds state of the checkbox when it is called"],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"boolean -> nil",Yz,wr,Vo,"called when the checkbox is clicked. Passed the new value of the checkbox"],null),new ku(null,5,[Xw,DF,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"the label shown to the right"],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, user interaction is disabled"],null),new ku(null,5,[Xw,EH,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names (applies to the label)"],null),new ku(null,5,[Xw,MB,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS style map (applies to the label)"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the checkbox, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS style map (applies to the checkbox, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the checkbox, not the wrapping div)"],null)],null)],null),q1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};q1.l=function(n){function t(){if(zn(zn(r)?In(h):r)){var n=In(f);return r.g?r.g(n):r.call(null,n)}return null}n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var e=gr.a(n,qI),r=gr.a(n,mI),i=gr.a(n,EH),l=gr.a(n,qW),u=gr.a(n,iG),a=gr.a(n,BE),o=gr.a(n,DF),s=gr.a(n,RF),c=gr.a(n,MB);if(!_Q(xQ(U1),n,ur(["checkbox"])))throw Error('Assert failed: (validate-args-macro checkbox-args-desc args "checkbox")');var f=UZ(l),h=UZ(e);return new Xl(null,7,5,Kl,[m0,RF,"rc-checkbox-wrapper noselect",Cf,kx,bf,new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[T$,ma.l(ur([new ku(null,6,[RF,["rc-checkbox ",ii.g(s)].join(""),ak,"checkbox",BE,ma.l(ur([l0("none"),new ku(null,1,[I_,"default"],null),a])),Tg,h,BT,Br(f),mI,function(){return t(),null}],null),u]))],null),zn(o)?new Xl(null,3,5,Kl,[DW,new ku(null,3,[RF,i,BE,ma.l(ur([l0("none"),new ku(null,2,[kM,"8px",I_,"default"],null),c])),pA,function(){return t(),null}],null),o],null):null],null)],null)},q1.R=0,q1.S=function(n){return this.l(De(n))};var H1=new Xl(null,10,5,Kl,[new ku(null,4,[Xw,qW,Xq,!0,ak,"anything | atom",Vo,new Xl(null,3,5,Kl,[DW,"selected value of the radio button group. See also ",new Xl(null,2,5,Kl,[IN,":value"],null)],null)],null),new ku(null,4,[Xw,Vy,Xq,!1,ak,"anything",Vo,new Xl(null,6,5,Kl,[DW,"if ",new Xl(null,2,5,Kl,[IN,":model"],null)," equals ",new Xl(null,2,5,Kl,[IN,":value"],null)," then this radio button is selected"],null)],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"anything -> nil",Yz,wr,Vo,new Xl(null,3,5,Kl,[DW,"called when the radio button is clicked. Passed ",new Xl(null,2,5,Kl,[IN,":value"],null)],null)],null),new ku(null,5,[Xw,DF,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"the label shown to the right"],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, the user can't click the radio button"],null),new ku(null,5,[Xw,EH,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names (applies to the label)"],null),new ku(null,5,[Xw,MB,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS style map (applies to the label)"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the radio-button, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS style map (applies to the radio-button, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the radio-button, not the wrapping div)"],null)],null)],null),W1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};W1.l=function(n){function t(){return zn(zn(r)?In(h):r)?r.g?r.g(a):r.call(null,a):null}var e=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(e,qI);var r=gr.a(e,mI),i=gr.a(e,EH),l=gr.a(e,qW),u=gr.a(e,iG),a=gr.a(e,Vy),o=gr.a(e,BE),s=gr.a(e,DF),c=gr.a(e,RF),f=gr.a(e,MB);if(!_Q(xQ(H1),e,ur(["radio-button"])))throw Error('Assert failed: (validate-args-macro radio-button-args-desc args "radio-button")');e=UZ(l);var h=UZ(n);return new Xl(null,7,5,Kl,[m0,RF,"rc-radio-button-wrapper noselect",Cf,kx,bf,new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[T$,ma.l(ur([new ku(null,6,[RF,["rc-radio-button ",ii.g(c)].join(""),BE,ma.l(ur([l0("none"),new ku(null,1,[I_,"default"],null),o])),ak,"radio",Tg,h,BT,Ne.a(e,a),mI,function(){return t(),null}],null),u]))],null),zn(s)?new Xl(null,3,5,Kl,[DW,new ku(null,3,[RF,i,BE,ma.l(ur([l0("none"),new ku(null,2,[kM,"8px",I_,"default"],null),f])),pA,function(){return t(),null}],null),s],null):null],null)],null)},W1.R=0,W1.S=function(n){return this.l(De(n))};var G1=new Xl(null,10,5,Kl,[new ku(null,5,[Xw,qW,Xq,!0,ak,"double | string | atom",Yz,r0,Vo,"current value of the slider"],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"double -> nil",Yz,wr,Vo,"called when the slider is moved. Passed the new value of the slider"],null),new ku(null,6,[Xw,Wc,Xq,!1,nw,0,ak,"double | string | atom",Yz,r0,Vo,"the minimum value of the slider"],null),new ku(null,6,[Xw,aF,Xq,!1,nw,100,ak,"double | string | atom",Yz,r0,Vo,"the maximum value of the slider"],null),new ku(null,6,[Xw,yU,Xq,!1,nw,1,ak,"double | string | atom",Yz,r0,Vo,"step value between min and max"],null),new ku(null,6,[Xw,yx,Xq,!1,nw,"400px",ak,"string",Yz,Ln,Vo,"standard CSS width setting for the slider"],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, the user can't change the slider"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the slider, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the slider, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the slider, not the wrapping div)"],null)],null)],null),Y1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};Y1.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,qI),r=gr.a(t,mI),i=gr.a(t,yU),l=gr.a(t,qW);n=gr.a(t,iG);var u=gr.j(t,Wc,0),a=gr.a(t,yx),o=gr.a(t,BE),s=gr.a(t,RF),c=gr.j(t,aF,100);if(!_Q(xQ(G1),t,ur(["slider"])))throw Error('Assert failed: (validate-args-macro slider-args-desc args "slider")');return t=UZ(l),u=UZ(u),c=UZ(c),i=UZ(i),e=UZ(e),new Xl(null,7,5,Kl,[b0,RF,"rc-slider-wrapper",Cf,kx,QP,new Xl(null,2,5,Kl,[T$,ma.l(ur([Vu([Wc,Tg,Vy,ak,BE,aF,RF,mI,yU],[u,e,t,"range",ma.l(ur([l0("none"),new ku(null,2,[yx,zn(a)?a:"400px",I_,zn(e)?"not-allowed":"default"],null),o])),c,["rc-slider ",ii.g(s)].join(""),function(n){return n=Number(n.target.value),r.g?r.g(n):r.call(null,n),null},i]),n]))],null)],null)},Y1.R=0,Y1.S=function(n){return this.l(De(n))};var V1=new Xl(null,7,5,Kl,[new ku(null,5,[Xw,qW,Xq,!0,ak,"double | string | atom",Yz,r0,Vo,"current value of the slider. A number between 0 and 100"],null),new ku(null,6,[Xw,yx,Xq,!1,nw,"100%",ak,"string",Yz,Ln,Vo,"a CSS width"],null),new ku(null,5,[Xw,wq,Xq,!1,nw,!1,ak,"boolean",Vo,"when true, the progress section is a set of animated stripes"],null),new ku(null,5,[Xw,Mf,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class name(s) for the actual progress bar itself, space separated"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the progress-bar, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the progress-bar, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the progress-bar, not the wrapping div)"],null)],null)],null),J1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};J1.l=function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,qW);n=gr.j(t,yx,"100%");var r=gr.a(t,wq),i=gr.a(t,RF),l=gr.a(t,Mf),u=gr.a(t,BE),a=gr.a(t,iG);if(!_Q(xQ(V1),t,ur(["progress-bar"])))throw Error('Assert failed: (validate-args-macro progress-bar-args-desc args "progress-bar")');return t=UZ(e),new Xl(null,7,5,Kl,[b0,RF,"rc-progress-bar-wrapper",Cf,kx,QP,new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-progress-bar progress ",ii.g(i)].join(""),BE,ma.l(ur([l0("none"),new ku(null,1,[yx,n],null),u]))],null),a])),new Xl(null,3,5,Kl,[oS,new ku(null,3,[RF,["progress-bar ",zn(r)?"progress-bar-striped active ":null,ii.g(l)].join(""),zo,"progressbar",BE,new ku(null,2,[yx,[ii.g(t),"%"].join(""),Cm,"none"],null)],null),[ii.g(t),"%"].join("")],null)],null)],null)},J1.R=0,J1.S=function(n){return this.l(De(n))},Au([Xw,qW,Xq,!1,nw,null,ak,"object | atom",Vo,"the initial value of the typeahead (should match the suggestion objects returned by ",new Xl(null,2,5,Kl,[IN,":data-source"],null),")."]);var X1=new Xl(null,8,5,Kl,[new ku(null,4,[Xw,qW,Xq,!0,ak,"unique-id | atom",Vo,"the unique identifier of the currently selected tab"],null),new ku(null,5,[Xw,Gg,Xq,!0,ak,"vector of tabs | atom",Yz,ZQ,Vo,"one element in the vector for each tab. Typically, each element is a map with :id and :label keys"],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"unique-id -> nil",Yz,wr,Vo,"called when user alters the selection. Passed the unique identifier of the selection"],null),new ku(null,6,[Xw,cO,Xq,!1,nw,MF,ak,"tab -> anything",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":tabs"],null),", returns its unique identifier (aka id)"],null)],null),new ku(null,6,[Xw,Mc,Xq,!1,nw,DF,ak,"tab -> string | hiccup",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":tabs"],null),", returns its displayable label"],null)],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer container)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,new Xl(null,4,5,Kl,[DW,"CSS styles to add or override (aplies to ",new Xl(null,2,5,Kl,[cC,"each individual tab"],null)," rather than the container)"],null)],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the outer container)"],null)],null)],null);function K1(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,mI),r=gr.a(t,qW),i=gr.a(t,iG),l=gr.a(t,Mc),u=gr.a(t,Gg),a=gr.a(t,cO),o=gr.a(t,BE),s=gr.a(t,RF),c=gr.a(t,KM),f=UZ(r),h=UZ(u);if(!zn(Ii(El((function(n){return Ne.a(f,a.g?a.g(n):a.call(null,n))}),h))))throw Error("Assert failed: model not found in tabs vector\n(not-empty (filter (fn* [p1__25339#] (= current (id-fn p1__25339#))) tabs))");return new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-tabs noselect btn-group",zn(c)?"-vertical":null," ",ii.g(s)].join(""),BE,l0("none")],null),i])),function n(t){return new wi(null,(function(){for(;;){var r=De(t);if(r){var i=r;if(Dr(i)){var u=le(i),s=hr(u),c=xi(s);return function(){for(var n=0;;){if(!(n<s))return!0;var t=ut.a(u,n);Oi(c,function(){var n,r,i=a.g?a.g(t):a.call(null,t),u=l.g?l.g(t):l.call(null,t),s=Ne.a(i,f);return new Xl(null,3,5,Kl,[Vm,new ku(null,5,[ak,"button",ag,ii.g(i),RF,["btn btn-default ",s?"active":null].join(""),BE,o,pA,zn(e)?(n=i,r=e,function(){return r.g?r.g(n):r.call(null,n),null}):null],null),u],null)}()),n+=1}}()?ji(c.Na(),n(ue(i))):ji(c.Na(),null)}var h=Me(i);return di(function(){var n,t,r=a.g?a.g(h):a.call(null,h),i=l.g?l.g(h):l.call(null,h),u=Ne.a(r,f);return new Xl(null,3,5,Kl,[Vm,new ku(null,5,[ak,"button",ag,ii.g(r),RF,["btn btn-default ",u?"active":null].join(""),BE,o,pA,zn(e)?(n=r,t=e,function(){return t.g?t.g(n):t.call(null,n),null}):null],null),i],null)}(),n(Fe(i)))}return null}}),null,null)}(h)],null)}var Z1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};Z1.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,qW),e=gr.a(n,Gg),r=gr.a(n,mI),i=gr.j(n,cO,MF),l=gr.j(n,Mc,DF),u=gr.a(n,RF),a=gr.a(n,BE),o=gr.a(n,iG);if(!_Q(xQ(X1),n,ur(["tabs"])))throw Error('Assert failed: (validate-args-macro tabs-args-desc args "tabs")');return K1(ur([qW,t,Gg,e,mI,r,cO,i,Mc,l,KM,!1,RF,u,BE,a,iG,o]))},Z1.R=0,Z1.S=function(n){return this.l(De(n))};var Q1=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};Q1.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,qW),e=gr.a(n,Gg),r=gr.a(n,mI),i=gr.j(n,cO,MF),l=gr.j(n,Mc,DF),u=gr.a(n,RF),a=gr.a(n,BE),o=gr.a(n,iG);if(!_Q(xQ(X1),n,ur(["tabs"])))throw Error('Assert failed: (validate-args-macro tabs-args-desc args "tabs")');return K1(ur([qW,t,Gg,e,mI,r,cO,i,Mc,l,KM,!0,RF,u,BE,a,iG,o]))},Q1.R=0,Q1.S=function(n){return this.l(De(n))};var n2=new Xl(null,8,5,Kl,[new ku(null,5,[Xw,DF,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"label for the button"],null),new ku(null,5,[Xw,pA,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the button is clicked"],null),new ku(null,5,[Xw,Yq,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"what to show in the tooltip"],null),new ku(null,6,[Xw,lN,Xq,!1,nw,Xx,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, the user can't click the button"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the button, not the wrapping div)"],null)],null)],null),t2=new Xl(null,10,5,Kl,[new ku(null,6,[Xw,av,Xq,!0,nw,"zmdi-plus",ak,"string",Yz,Ln,Vo,new Xl(null,7,5,Kl,[DW,"the name of the icon.",new Xl(null,1,5,Kl,[wP],null),"For example, ",new Xl(null,2,5,Kl,[IN,'"zmdi-plus"'],null)," or ",new Xl(null,2,5,Kl,[IN,'"zmdi-undo"'],null)],null)],null),new ku(null,5,[Xw,pA,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the button is clicked"],null),new ku(null,6,[Xw,SA,Xq,!1,nw,Bf,ak,"keyword",Yz,PQ,Vo,new Xl(null,3,5,Kl,[DW,"one of ",UQ],null)],null),new ku(null,5,[Xw,Yq,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"what to show in the tooltip"],null),new ku(null,6,[Xw,lN,Xq,!1,nw,Xx,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,rv,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, use emphasised styling so the button really stands out"],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, the user can't click the button"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the button, not the wrapping div)"],null)],null)],null),e2=new Xl(null,10,5,Kl,[new ku(null,6,[Xw,av,Xq,!0,nw,"zmdi-plus",ak,"string",Yz,Ln,Vo,new Xl(null,7,5,Kl,[DW,"the name of the icon.",new Xl(null,1,5,Kl,[wP],null),"For example, ",new Xl(null,2,5,Kl,[IN,'"zmdi-plus"'],null)," or ",new Xl(null,2,5,Kl,[IN,'"zmdi-undo"'],null)],null)],null),new ku(null,5,[Xw,pA,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the button is clicked"],null),new ku(null,6,[Xw,SA,Xq,!1,nw,Bf,ak,"keyword",Yz,PQ,Vo,new Xl(null,3,5,Kl,[DW,"one of ",UQ],null)],null),new ku(null,5,[Xw,Yq,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"what to show in the tooltip"],null),new ku(null,6,[Xw,lN,Xq,!1,nw,Xx,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,rv,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, use emphasised styling so the button really stands out"],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, the user can't click the button"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the button, not the wrapping div)"],null)],null)],null),r2=new Xl(null,6,5,Kl,[new ku(null,5,[Xw,NN,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"what's shown in the popover"],null),new ku(null,6,[Xw,Cz,Xq,!1,nw,bh,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,6,[Xw,yx,Xq,!1,nw,"250px",ak,"string",Yz,Ln,Vo,"width in px"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the button, not the popover wrapper)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the button, not the popover wrapper)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the button, not the popover wrapper)"],null)],null)],null),i2=new Xl(null,9,5,Kl,[new ku(null,6,[Xw,av,Xq,!0,nw,"zmdi-plus",ak,"string",Yz,Ln,Vo,new Xl(null,7,5,Kl,[DW,"the name of the icon.",new Xl(null,1,5,Kl,[wP],null),"For example, ",new Xl(null,2,5,Kl,[IN,'"zmdi-plus"'],null)," or ",new Xl(null,2,5,Kl,[IN,'"zmdi-undo"'],null)],null)],null),new ku(null,5,[Xw,pA,Xq,!1,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the button is clicked"],null),new ku(null,5,[Xw,oB,Xq,!1,nw,!1,ak,"boolean",Vo,"true if the mouse is hovering over the row"],null),new ku(null,5,[Xw,Yq,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"what to show in the tooltip"],null),new ku(null,6,[Xw,lN,Xq,!1,nw,Xx,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, the user can't click the button"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the button, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the button, not the wrapping div)"],null)],null)],null),l2=new Xl(null,8,5,Kl,[new ku(null,5,[Xw,DF,Xq,!0,ak,"string | hiccup | atom",Yz,KQ,Vo,"label/hiccup for the button"],null),new ku(null,5,[Xw,Rq,Xq,!0,ak,"string | atom",Yz,i0,Vo,"if specified, the link target URL"],null),new ku(null,6,[Xw,H$,Xq,!1,nw,"_self",ak,"string | atom",Yz,i0,Vo,'one of "_self" or "_blank"'],null),new ku(null,5,[Xw,Yq,Xq,!1,ak,"string | hiccup",Yz,KQ,Vo,"what to show in the tooltip"],null),new ku(null,6,[Xw,lN,Xq,!1,nw,Xx,ak,"keyword",Yz,$Q,Vo,new Xl(null,3,5,Kl,[DW,"relative to this anchor. One of ",YQ],null)],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the hyperlink, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the hyperlink, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the hyperlink, not the wrapping div)"],null)],null)],null);function u2(n){return new Xl(null,2,5,Kl,[mP,n],null)}function a2(n,t){var e=De(t);for(Me(e),Te(e),e=Zl;;){var r=t,i=De(r);t=Me(i),i=Te(i);var l=t;if(l=zn(l)?n.g?n.g(t):n.call(null,t):l,!zn(l))return new Xl(null,2,5,Kl,[e,r],null);e=cr.a(e,t),t=i}}function o2(n,t){var e=a2(_a([n]),t);return t=pr(e,0),e=pr(e,1),new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[VS,Pi.j(ii,n,t)],null),e],null)}function s2(n,t){var e=De(t);return n=Me(e),e=Te(e),Ne.a(n,"'")?new Xl(null,2,5,Kl,[u2("'"),e],null):(t=pr(n=a2(il(new ba(null,new ku(null,1,["'",null],null),null)),t),0),n=pr(n,1),new Xl(null,2,5,Kl,[u2(t),Fe(n)],null))}function c2(n,t){var e=a2((function(n){return In(Ra(/[a-zA-Z']/,n))}),t);return t=pr(e,0),e=pr(e,1),new Xl(null,2,5,Kl,[u2(Pi.j(ii,n,t)),e],null)}function f2(n,t,e,r,i){if(1>r)e=ii.g(e);else{n:{var l=gl(r-ii.g(e).length,new xl(null,-1,"0",null,null));for(r=new cn,l=De(l);;){if(null==l){r=r.toString();break n}r=r.append(ii.g(Me(l))),l=Te(l)}}e=[r,ii.g(e)].join("")}return i=e.substring(e.length-i),new Xl(null,2,5,Kl,[[ii.g(n),i].join(""),t],null)}var h2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};h2.g=function(n){return h2.a(n,n)},h2.a=function(n,t){return function(e,r){return f2(e,r,r.getMilliseconds(),n,t)}},h2.R=2;var d2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};d2.g=function(n){return d2.a(n,n)},d2.a=function(n,t){return function(e,r){return f2(e,r,r.getSeconds(),n,t)}},d2.R=2;var p2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};p2.g=function(n){return p2.a(n,n)},p2.a=function(n,t){return function(e,r){return f2(e,r,r.getMinutes(),n,t)}},p2.R=2;var g2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};g2.g=function(n){return g2.a(n,n)},g2.a=function(n,t){return function(e,r){var i=(r.getHours()%12+12)%12;return f2(e,r,0===i?12:i,n,t)}},g2.R=2;var m2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};m2.g=function(n){return m2.a(n,n)},m2.a=function(n,t){return function(e,r){return f2(e,r,r.getHours(),n,t)}},m2.R=2;var v2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};v2.g=function(n){return v2.a(n,n)},v2.a=function(n,t){return function(e,r){return f2(e,r,r.getDate(),n,t)}},v2.R=2;var w2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};w2.g=function(n){return w2.a(n,n)},w2.a=function(n,t){return function(e,r){var i=r.getDay();return f2(e,r,i=Ne.a(i,0)?7:i,n,t)}},w2.R=2;var y2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};y2.g=function(n){return y2.a(n,n)},y2.a=function(n,t){return function(e,r){return f2(e,r,r.getMonth()+1,n,t)}},y2.R=2;var b2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function x2(n){return function(t,e){return new Xl(null,2,5,Kl,[Pi.j(ii,t,n),e],null)}}function _2(n,t,e,r,i){var l=nu(zn(i)?pl.a((function(n){return n.substring(0,3)}),r):r);return new Xl(null,2,5,Kl,[[ii.g(n),ii.g(l.g?l.g(e):l.call(null,e))].join(""),t],null)}function k2(n){return function(t,e){return _2(t,e,e.getMonth(),JZ,n)}}function j2(n){return function(t,e){return _2(t,e,e.getDay(),XZ,n)}}b2.g=function(n){return b2.a(n,n)},b2.a=function(n,t){return function(e,r){return f2(e,r,r.getYear(),n,t)}},b2.R=2;var O2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};O2.g=function(n){return O2.a(n,n)},O2.a=function(n,t){return function(e,r){var i=r.getYear(),l=r.getMonth(),u=r.getDate(),a=ZZ(ur([l,0])),o=ZZ(ur([l,11]));return l=jZ(i,l,u),f2(e,r,i=zn(zn(a)?52<=l:a)?i-1:zn(zn(o)?ZZ(ur([l,1])):o)?i+1:i,n,t)}},O2.R=2;var A2=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function E2(n){return function(t,e){var r=e.getHours();return r=zn(n)?12>r?"AM":"PM":12>r?"am":"pm",new Xl(null,2,5,Kl,[[ii.g(t),r].join(""),e],null)}}function S2(){return function(n,t){return new Xl(null,2,5,Kl,t instanceof $Z?[[ii.g(n),ii.g(BZ(t))].join(""),t]:[n,t],null)}}function C2(n){var t=pr(n,0);if(n=pr(n,1),!Ne.a(t,VS))return new Xl(null,2,5,Kl,[mP,n],null);switch(n){case"S":return new Xl(null,3,5,Kl,[vq,1,2],null);case"SSS":return new Xl(null,3,5,Kl,[vq,3,3],null);case"s":return new Xl(null,3,5,Kl,[IO,1,2],null);case"ss":return new Xl(null,3,5,Kl,[IO,2,2],null);case"m":return new Xl(null,3,5,Kl,[wR,1,2],null);case"mm":return new Xl(null,3,5,Kl,[wR,2,2],null);case"h":return new Xl(null,3,5,Kl,[ez,1,2],null);case"hh":return new Xl(null,3,5,Kl,[ez,2,2],null);case"H":return new Xl(null,3,5,Kl,[KU,1,2],null);case"HH":return new Xl(null,3,5,Kl,[KU,2,2],null);case"d":return new Xl(null,3,5,Kl,[hf,1,2],null);case"dd":return new Xl(null,3,5,Kl,[hf,2,2],null);case"D":return new Xl(null,3,5,Kl,[hf,1,3],null);case"DD":return new Xl(null,3,5,Kl,[hf,2,3],null);case"DDD":return new Xl(null,3,5,Kl,[hf,3,3],null);case"M":return new Xl(null,3,5,Kl,[w_,1,2],null);case"MM":return new Xl(null,3,5,Kl,[w_,2,2],null);case"MMM":return new Xl(null,2,5,Kl,[Kc,!0],null);case"MMMM":return new Xl(null,2,5,Kl,[Kc,!1],null);case"y":return new Xl(null,3,5,Kl,[WS,1,4],null);case"yy":return new Xl(null,3,5,Kl,[WS,2,2],null);case"yyyy":return new Xl(null,3,5,Kl,[WS,4,4],null);case"Y":return new Xl(null,3,5,Kl,[WS,1,4],null);case"YY":return new Xl(null,3,5,Kl,[WS,2,2],null);case"YYYY":return new Xl(null,3,5,Kl,[WS,4,4],null);case"x":return new Xl(null,3,5,Kl,[uk,1,4],null);case"xx":return new Xl(null,3,5,Kl,[uk,2,2],null);case"xxxx":return new Xl(null,3,5,Kl,[uk,4,4],null);case"w":return new Xl(null,3,5,Kl,[DM,1,2],null);case"ww":return new Xl(null,3,5,Kl,[DM,2,2],null);case"e":return new Xl(null,3,5,Kl,[Yw,1,1],null);case"E":case"EEE":return new Xl(null,2,5,Kl,[lS,!0],null);case"EEEE":return new Xl(null,2,5,Kl,[lS,!1],null);case"a":return new Xl(null,2,5,Kl,[wy,!1],null);case"A":return new Xl(null,2,5,Kl,[wy,!0],null);case"Z":case"ZZ":return new Xl(null,1,5,Kl,[sh],null);case"o":return new Xl(null,1,5,Kl,[Ks],null);default:throw Error(["No matching clause: ",ii.g(n)].join(""))}}function D2(n,t,e){var r=De(e);switch(e=Me(r),r=Te(r),e=e instanceof pi?e.qa:null){case"millis":return Pi.a(h2,r);case"seconds":return Pi.a(d2,r);case"minutes":return Pi.a(p2,r);case"hours":return Pi.a(g2,r);case"HOURS":return Pi.a(m2,r);case"day":return Pi.a(v2,r);case"month":return Pi.a(y2,r);case"month-name":return Pi.a(k2,r);case"year":return Pi.a(b2,r);case"weekyear":return Pi.a(O2,r);case"weekyear-week":return Pi.a(A2,r);case"day-name":return Pi.a(j2,r);case"day-of-week":return Pi.a(w2,r);case"meridiem":return Pi.a(E2,r);case"timezone":return Pi.a(S2,r);case"ordinal-suffix":return--t,function(n){return function(t,e){var r=n.g?n.g(e):n.call(null,e),i=function(){switch(r){case 1:return"st";case 2:return"nd";case 3:return"rd";case 21:return"st";case 22:return"nd";case 23:return"rd";case 31:return"st";default:return"th"}}();return new Xl(null,2,5,Kl,[[ii.g(t),ii.g(i)].join(""),e],null)}}(function(n){switch(n=n instanceof pi?n.qa:null){case"millis":return function(n){return n.getMilliseconds()};case"seconds":return function(n){return n.getSeconds()};case"minutes":return function(n){return n.getMinutes()};case"hours":case"HOURS":return function(n){return n.getHours()};case"day":return function(n){return n.getDate()};case"month":return function(n){return n.getMonth()};case"year":return function(n){return n.getYear()};default:throw Error(["No matching clause: ",ii.g(n)].join(""))}}(n=pr(n=n.g?n.g(t):n.call(null,t),0)));case"quoted":return Pi.a(x2,r);default:throw Error(["No matching clause: ",ii.g(e)].join(""))}}function M2(n,t,e,r,i,l,u){this.Ac=n,this.Ec=t,this.zc=e,this.Fc=r,this.o=i,this.h=l,this.G=u,this.B=2230716170,this.U=139264}function F2(n){n=new ku(null,2,[W_,n,sh,mQ],null);var t=vr.l(n,W_,ur([Gh,xW,sh]));return t=Sr(n)?Dl.a(ju,t):t,new M2(W_.g(n),Gh.g(n),xW.g(n),sh.g(n),null,Ii(t),null)}function T2(n){return function(){throw{name:BR,message:QZ(ur([Ea(n)]))}}}A2.g=function(n){return A2.a(n,n)},A2.a=function(n,t){return function(e,r){var i=r.getYear(),l=r.getMonth(),u=r.getDate();return f2(e,r,jZ(i,l,u),n,t)}},A2.R=2,(i=M2.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"format-str":return this.Ac;case"overrides":return this.Ec;case"default-year":return this.zc;case"timezone":return this.Fc;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs-time.format.Formatter{",", ","}",e,Si.a(new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[W_,this.Ac],null),new Xl(null,2,5,Kl,[Gh,this.Ec],null),new Xl(null,2,5,Kl,[xW,this.zc],null),new Xl(null,2,5,Kl,[sh,this.Fc],null)],null),this.h))},i.Ca=function(){return new gu(this,4,new Xl(null,4,5,Kl,[W_,Gh,xW,sh],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new M2(this.Ac,this.Ec,this.zc,this.Fc,this.o,this.h,this.G)},i.na=function(){return 4+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-987738732^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.Ac,t.Ac)&&Ne.a(this.Ec,t.Ec)&&Ne.a(this.zc,t.zc)&&Ne.a(this.Fc,t.Fc)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,4,[sh,null,Gh,null,W_,null,xW,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new M2(this.Ac,this.Ec,this.zc,this.Fc,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(W_,t):gi.call(null,W_,t))?new M2(e,this.Ec,this.zc,this.Fc,this.o,this.h,null):zn(gi.a?gi.a(Gh,t):gi.call(null,Gh,t))?new M2(this.Ac,e,this.zc,this.Fc,this.o,this.h,null):zn(gi.a?gi.a(xW,t):gi.call(null,xW,t))?new M2(this.Ac,this.Ec,e,this.Fc,this.o,this.h,null):zn(gi.a?gi.a(sh,t):gi.call(null,sh,t))?new M2(this.Ac,this.Ec,this.zc,e,this.o,this.h,null):new M2(this.Ac,this.Ec,this.zc,this.Fc,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,4,5,Kl,[new yu(W_,this.Ac,null),new yu(Gh,this.Ec,null),new yu(xW,this.zc,null),new yu(sh,this.Fc,null)],null),this.h))},i.Y=function(n,t){return new M2(this.Ac,this.Ec,this.zc,this.Fc,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)};var N2=Vu([js,Bs,_f,zf,Uf,qf,Ih,Uh,dd,wd,Xd,Zd,Qd,Sp,Lp,rm,cm,Lm,Gm,wv,Pv,Vw,sy,my,Ty,ub,ob,nx,uk,Gk,vO,EO,nA,bA,CE,yS,WS,eC,hC,YC,DM,vF,SF,dT,CB,dz,m$,oL,AL,BL,uq,bH,uW],[T2(uC),F2("HH:mm"),F2("'T'HH:mm:ss.SSSZZ"),F2("yyyyDDD"),F2("yyyy-MM-dd"),F2("HH"),F2("HH:mm:ssZZ"),F2("xxxx-'W'ww-e"),F2("xxxx-'W'ww-e'T'HH:mm:ss.SSSZZ"),F2("yyyy-MM-dd'T'HH:mm:ss.SSS"),F2("yyyyMMdd'T'HHmmss.SSSZ"),F2("yyyy-MM-dd'T'HH:mm:ss.SSSZZ"),F2("HHmmssZ"),T2(JO),F2("xxxx'W'wwe"),F2("'T'HHmmssZ"),T2(Uo),F2("yyyy-MM-dd'T'HH:mm:ssZZ"),F2("yyyy-MM-dd"),T2(Rg),F2("EEE, dd MMM yyyy HH:mm:ss Z"),F2("yyyy-MM-dd'T'HH:mm:ss.SSS"),F2("yyyyDDD'T'HHmmss.SSSZ"),F2("yyyy-DDD"),F2("HH:mm:ss.SSS"),F2("yyyy-MM-dd'T'HH:mm"),F2("HH:mm:ss.SSSZZ"),F2("xxxx'W'wwe'T'HHmmss.SSSZ"),F2("xxxx"),F2("HHmmss.SSSZ"),F2("HH:mm:ss"),F2("yyyy-DDD'T'HH:mm:ss.SSSZZ"),F2("yyyy-DDD'T'HH:mm:ssZZ"),F2("HH:mm:ss.SSS"),F2(kf),T2(aB),F2("yyyy"),F2("'T'HH:mm:ssZZ"),F2("xxxx'W'wwe'T'HHmmssZ"),F2("yyyyMMdd"),F2("xxxx-'W'ww"),T2(Zk),F2("yyyyDDD'T'HHmmssZ"),F2("yyyy-MM"),T2(pC),F2("xxxx-'W'ww-e"),F2("yyyy-MM-dd'T'HH"),T2(gy),F2("yyyy-MM-dd'T'HH:mm:ss"),F2("xxxx-'W'ww-e'T'HH:mm:ssZZ"),F2("yyyyMMdd'T'HHmmssZ"),F2("yyyy-MM-dd HH:mm:ss"),F2("'T'HHmmss.SSSZ")]),B2=new ba(null,new ku(null,9,[js,null,Sp,null,cm,null,wv,null,CE,null,yS,null,vF,null,CB,null,oL,null],null),null);function z2(n,t){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var e=gr.a(n,W_);if(gr.a(n,nf),null==t)throw Error("Assert failed: (not (nil? dt))");if(!(t instanceof FZ))throw Error("Assert failed: (instance? goog.date.Date dt)");n:{t:for(n=Zl;;){var r=De(e);e=Me(r),r=Te(r);var i=Ne.a(e,"'")?s2:zn(Ra(/[a-zA-Z]/,ii.g(e)))?o2:c2;if(r=pr(e=i.a?i.a(e,r):i.call(null,e,r),0),e=pr(e,1),n=cr.a(n,r),!De(e))break t}for(n=Ml(C2,n),Me(n=De(e=ol(al.a(D2,n),n))),Te(n),n=t,t="";;){if(e=Me(r=De(e)),i=Te(r),r=e,e=i,null==r)break n;t=pr(n=r.a?r.a(t,n):r.call(null,t,n),0),n=pr(n,1)}}return t}VX.a(Oa(ha(N2)),B2),Date.prototype.cljs_time$coerce$ICoerce$=An,Date.prototype.cljs_time$coerce$ICoerce$to_date_time$arity$1=function(){var n=null==this?null:this.getTime();return null==n||null==n?null:RZ.call(null,n)},FZ.prototype.cljs_time$coerce$ICoerce$=An,FZ.prototype.cljs_time$coerce$ICoerce$to_date_time$arity$1=function(){return zn(this)?RZ(this.getTime()):null},PZ.prototype.cljs_time$coerce$ICoerce$=An,PZ.prototype.cljs_time$coerce$ICoerce$to_date_time$arity$1=function(){return zn(this)?RZ(this.getTime()):null},$Z.prototype.cljs_time$coerce$ICoerce$=An,$Z.prototype.cljs_time$coerce$ICoerce$to_date_time$arity$1=function(){return this};var P2=F2("MMMM yyyy"),$2=F2("ww"),R2=F2("yyyy MMM dd");function I2(n,t){return Ne.a(tQ(n),tQ(t))&&Ne.a(eQ(n),eQ(t))&&Ne.a(rQ(n),rQ(t))}var L2=new Xl(null,7,5,Kl,[new ku(null,3,[ag,vc,Yc,"M",Xw,"MON"],null),new ku(null,3,[ag,zU,Yc,"T",Xw,"TUE"],null),new ku(null,3,[ag,R$,Yc,"W",Xw,"WED"],null),new ku(null,3,[ag,MC,Yc,"T",Xw,"THU"],null),new ku(null,3,[ag,lR,Yc,"F",Xw,"FRI"],null),new ku(null,3,[ag,fM,Yc,"S",Xw,"SAT"],null),new ku(null,3,[ag,k$,Yc,"S",Xw,"SUN"],null)],null);function U2(n,t,e,r,i){return new Xl(null,5,5,Kl,[m0,RF,"rc-datepicker-wrapper",bf,new Xl(null,1,5,Kl,[new Xl(null,9,5,Kl,[j0,_O,"4px",SA,"none",EI,zn(t)?"none":null,QP,new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-datepicker datepicker noselect ",ii.g(e)].join(""),BE,ma.l(ur([new ku(null,2,[dm,"13px",Cz,"static"],null),r]))],null),i])),n],null)],null)],null)],null)}function q2(n,t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;t=gr.a(e,g_);var r=gr.a(e,yT),i=gr.a(e,jb),l=gr.a(e,xS),u=wQ(St(n));e=UZ(r),i=UZ(i);var a=!zn(e)||lQ(u,wQ(e)),o=vQ.a(St(n),fQ(Au([Hx,1]))),s=!zn(i)||uQ(o,i);return t=zn(t)?new Xl(null,2,5,Kl,[$b,new Xl(null,1,5,Kl,[ab],null)],null):new Xl(null,1,5,Kl,[$b],null),new Xl(null,3,5,Kl,[ss,cr.l(t,new Xl(null,3,5,Kl,[ab,new ku(null,3,[RF,["prev ",zn(a)?"available selectable":"disabled"].join(""),BE,new ku(null,1,[xT,"0px"],null),pA,function(){return zn(a)&&fl(n,u),null}],null),new Xl(null,2,5,Kl,[gP,new ku(null,1,[BE,new ku(null,1,[dm,"24px"],null)],null)],null)],null),ur([new Xl(null,3,5,Kl,[ab,new ku(null,2,[RF,"month",LN,"5"],null),z2(P2,St(n))],null),new Xl(null,3,5,Kl,[ab,new ku(null,3,[RF,["next ",zn(s)?"available selectable":"disabled"].join(""),BE,new ku(null,1,[xT,"0px"],null),pA,function(){return zn(s)&&fl(n,o),null}],null),new Xl(null,2,5,Kl,[qd,new ku(null,1,[BE,new ku(null,1,[dm,"24px"],null)],null)],null)],null)])),cr.a(t,function n(t){return new wi(null,(function(){for(;;){var e=De(t);if(e){if(Dr(e)){var r=le(e),i=hr(r),l=xi(i);n:for(var u=0;;){if(!(u<i)){r=!0;break n}var a=ut.a(r,u);a=br(new Xl(null,3,5,Kl,[ab,new ku(null,1,[RF,"day-enabled"],null),ii.g(Xw.g(a))],null),new ku(null,1,[ag,ag.g(a)],null)),l.add(a),u+=1}return ji(l.Na(),r?n(ue(e)):null)}return l=Me(e),di(br(new Xl(null,3,5,Kl,[ab,new ku(null,1,[RF,"day-enabled"],null),ii.g(Xw.g(l))],null),new ku(null,1,[ag,ag.g(l)],null)),n(Fe(e)))}return null}}),null,null)}(function(n){var t=hr(L2),e=gl;n=(n%t+t)%t;var r=De(L2);return e(t,ml(n,r?new yl(null,r,null,r,null):si))}(l)))],null)}function H2(n,t,e,r,i,l,u){var a=null!=i&&(64&i.B||An===i.ja)?Pi.a(sa,i):i,o=gr.a(a,yT);i=gr.a(a,jb),o=UZ(o),i=UZ(i),o=!zn(o)||function(n,t){var e=I2(n,t);return e||lQ(n,t)}(n,o),i=!zn(i)||function(n,t){var e=I2(n,t);return e||uQ(n,t)}(n,i);var s,c=!zn(zn(o)?i:o)||In((s=YN.g(a)).g?s.g(n):s.call(null,n));return t=zn(l)||c?"off":Ne.a(t,eQ(n))?"available":"available off",e=zn(zn(e)?I2(e,n):e)?[t," active start-date end-date"].join(""):zn(zn(r)?I2(n,r):r)?[t," today"].join(""):t,new Xl(null,3,5,Kl,[Ey,new ku(null,2,[RF,e,pA,function(){return zn(zn(l)?l:c)||(u.g?u.g(n):u.call(null,n)),null}],null),rQ(n)],null)}function W2(n,t,e,r,i){var l=function(n,t){for(var e=fQ(Au([D_,1]));;){if(zn(n.g?n.g(t):n.call(null,t)))return t;t=oQ(t,e)}}(function(n){return function(t){return Ne.a(iQ(t),n+1)}}(xS.g(e)),n),u=eQ(n);return n=pl.a((function(n){return vQ.a(l,fQ(Au([D_,7*n])))}),za(0,6)),Dl.a(new Xl(null,1,5,Kl,[Hd],null),pl.a((function(n){return function(n,t,e,r,i,l){var u=zn(g_.g(r))?new Xl(null,2,5,Kl,[$b,new Xl(null,3,5,Kl,[Ey,new ku(null,1,[RF,"week"],null),z2($2,n)],null)],null):new Xl(null,1,5,Kl,[$b],null),a=pl.a((function(t){return vQ.a(n,fQ(Au([D_,t])))}),za(0,7)),o=zn(MW.g(r))?YZ():null;return Dl.a(u,pl.a((function(n){return H2(n,t,e,o,r,i,l)}),a))}(n,u,t,e,r,i)}),n))}var G2=new Xl(null,13,5,Kl,[new ku(null,5,[Xw,qW,Xq,!1,ak,"satisfies DateTimeProtocol | atom",Yz,e0,Vo,new Xl(null,5,5,Kl,[DW,"the selected date. If provided, should pass pred ",new Xl(null,2,5,Kl,[IN,":selectable-fn"],null),". If not provided, (now->utc) will be used and the returned date will be a ",new Xl(null,2,5,Kl,[IN,"goog.date.UtcDateTime"],null)],null)],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"satisfies DateTimeProtocol -> nil",Yz,wr,Vo,new Xl(null,4,5,Kl,[DW,"called when a new selection is made. Returned type is the same as model (unless model is nil, in which case it will be ",new Xl(null,2,5,Kl,[IN,"goog.date.UtcDateTime"],null),")"],null)],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"when true, the user can't select dates but can navigate"],null),new ku(null,6,[Xw,YN,Xq,!1,nw,"(fn [date] true)",ak,"pred",Yz,wr,Vo,"Predicate is passed a date. If it answers false, day will be shown disabled and can't be selected."],null),new ku(null,5,[Xw,g_,Xq,!1,nw,!1,ak,"boolean",Vo,"when true, week numbers are shown to the left"],null),new ku(null,5,[Xw,MW,Xq,!1,nw,!1,ak,"boolean",Vo,"when true, today's date is highlighted"],null),new ku(null,5,[Xw,yT,Xq,!1,ak,"satisfies DateTimeProtocol | atom",Yz,e0,Vo,"no selection or navigation before this date"],null),new ku(null,5,[Xw,jb,Xq,!1,ak,"satisfies DateTimeProtocol | atom",Yz,e0,Vo,"no selection or navigation after this date"],null),new ku(null,5,[Xw,xS,Xq,!1,nw,6,ak,"int",Vo,"first day of week (Monday = 0 ... Sunday = 6)"],null),new ku(null,5,[Xw,Ub,Xq,!1,nw,!1,ak,"boolean",Vo,"when true, the border is not displayed"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer border div, not the wrapping div)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the outer border div, not the wrapping div)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null)," allowed (applies to the outer border div, not the wrapping div)"],null)],null)],null),Y2=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function V2(n,t,e,r){return new Xl(null,3,5,Kl,[oS,new ku(null,3,[RF,"rc-datepicker-dropdown-anchor input-group display-flex noselect",BE,l0("none"),pA,function(){return hl.a(n,In),null}],null),new Xl(null,11,5,Kl,[m0,Cf,dE,RF,"noselect",ps,"10em",Lj,"10em",bf,new Xl(null,2,5,Kl,[new Xl(null,3,5,Kl,[DF,new ku(null,1,[RF,"form-control dropdown-button"],null),e0(UZ(t))?z2(De(e)?F2(e):R2,UZ(t)):new Xl(null,3,5,Kl,[DW,new ku(null,1,[BE,new ku(null,1,[wp,"#bbb"],null)],null),r],null)],null),new Xl(null,3,5,Kl,[Fk,new ku(null,1,[BE,new ku(null,1,[xT,"3px 0px 0px 0px"],null)],null),new Xl(null,2,5,Kl,[Tc,new ku(null,1,[BE,new ku(null,1,[dm,"24px"],null)],null)],null)],null)],null)],null)],null)}Y2.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,qW);if(!_Q(xQ(G2),n,ur(["datepicker"])))throw Error('Assert failed: (validate-args-macro datepicker-args-desc args "datepicker")');var e,r=bZ(UZ(t)),i=bZ(St(r)),l=bZ(sQ(zn(e=St(i))?e:YZ()));return function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,qW);n=gr.a(t,mI);var u=gr.a(t,qI),a=gr.j(t,xS,6),o=gr.a(t,Ub),s=gr.a(t,RF),c=gr.a(t,BE),f=gr.a(t,iG);if(!_Q(xQ(G2),t,ur(["datepicker"])))throw Error('Assert failed: (validate-args-macro datepicker-args-desc args "datepicker")');return e=UZ(e),u=UZ(u),t=ma.l(ur([t,new ku(null,1,[xS,a],null)])),a=wr(YN.g(t))?YN.g(t):ll(!0),t=ma.l(ur([t,new ku(null,1,[YN,a],null)])),Ri.a(St(r),e)&&(fl(r,e),fl(i,e),e=zn(e=St(i))?e:YZ(),fl(l,sQ(e))),new Xl(null,6,5,Kl,[U2,new Xl(null,4,5,Kl,[ep,new ku(null,1,[RF,"table-condensed"],null),new Xl(null,3,5,Kl,[q2,l,t],null),new Xl(null,6,5,Kl,[W2,St(l),St(i),t,u,n],null)],null),o,s,c,f],null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()},Y2.R=0,Y2.S=function(n){return this.l(De(n))};var J2=cr.l(G2,new ku(null,5,[Xw,vf,Xq,!1,nw,"yyyy MMM dd",ak,"string",Vo,"[datepicker-dropdown only] a representation of a date format. See cljs_time.format"],null),ur([new ku(null,5,[Xw,Zw,Xq,!1,nw,!0,ak,"boolean",Vo,"[datepicker-dropdown only] when an anchor is in a scrolling region (e.g. scroller component), the popover can sometimes be clipped. When this parameter is true (which is the default), re-com will use a different CSS method to show the popover. This method is slightly inferior because the popover can't track the anchor if it is repositioned"],null),new ku(null,4,[Xw,_g,Xq,!1,ak,"string",Vo,"[datepicker-dropdown only] placeholder text for when a date is not selected."],null)])),X2=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function K2(n,t){var e=new ku(null,1,[sx,"1px"],null);return t=zn(zn(n)?t:n)?ma.l(ur([e,new ku(null,1,[mz,"line-through"],null)])):e,zn(zn(n)?null:n)?ma.l(ur([t,new ku(null,1,[wp,null],null)])):t}X2.l=function(n){function t(){return fl(e,!1)}if(n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,!_Q(xQ(J2),n,ur(["datepicker-dropdown"])))throw Error('Assert failed: (validate-args-macro datepicker-dropdown-args-desc args "datepicker-dropdown")');var e=bZ(!1);return function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var e=Array(arguments.length-0);t<e.length;)e[t]=arguments[t+0],++t;t=new lr(e,0,null)}return r.call(this,t)}function r(n){var r=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(r,qW);var i=gr.a(r,g_),l=gr.a(r,mI),u=gr.a(r,vf),a=gr.j(r,Zw,!0),o=gr.a(r,_g);return r=vr.l(r,vf,ur([Zw,_g])),r=Cl(nu(ma.l(ur([new ku(null,1,[Ub,!0],null),mr.j(r,mI,(function(n){return fl(e,!1),zn(l)?l.g?l.g(n):l.call(null,n):null}))])))),new Xl(null,11,5,Kl,[I0,RF,"rc-datepicker-dropdown-wrapper",hS,e,Cz,lk,C$,new Xl(null,5,5,Kl,[V2,e,n,u,o],null),Lw,new Xl(null,17,5,Kl,[$0,th,zn(i)?43:44,Zw,a,Dh,0,jy,0,ZS,3,xT,"0px",_L,t,II,Dl.a(new Xl(null,1,5,Kl,[Y2],null),r)],null)],null)}return n.R=0,n.S=function(n){return r(n=De(n))},n.l=r,n}()},X2.R=0,X2.S=function(n){return this.l(De(n))};var Z2=new ku(null,2,[qN,"hidden",rL,"auto"],null),Q2=new ku(null,6,[ID,"0px",N$,"0px",kM,"5px",cA,"5px",sx,"5px",LU,"5px"],null),n5=new ku(null,6,[kM,"0px",cA,"5px",ID,"0px",N$,"0px",sx,"0px",LU,"0px"],null),t5=new Xl(null,17,5,Kl,[new ku(null,5,[Xw,aj,Xq,!0,ak,"vector of choices | atom",Yz,ZQ,Vo,new Xl(null,4,5,Kl,[DW,'the selectable items. Elements can be strings or more interesting data items like {:label "some name" :sort 5}. Also see ',new Xl(null,2,5,Kl,[IN,":label-fn"],null)," below (list of maps also allowed)"],null)],null),new ku(null,5,[Xw,qW,Xq,!0,ak,"set of :ids within :choices | atom",Yz,function(n){return Or(qZ(n))},Vo,"the currently selected items. Note: items are considered distinct"],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"set of :ids -> nil | atom",Yz,wr,Vo,new Xl(null,4,5,Kl,[DW,"a callback which will be passed set of the ids (as defined by ",new Xl(null,2,5,Kl,[IN,":id-fn"],null),") of the selected items"],null)],null),new ku(null,6,[Xw,cO,Xq,!1,nw,MF,ak,"choice -> anything",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":choices"],null),", returns its unique identifier (aka id)"],null)],null),new ku(null,6,[Xw,Mc,Xq,!1,nw,DF,ak,"choice -> anything",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":choices"],null),", returns its displayable label"],null)],null),new ku(null,5,[Xw,fz,Xq,!1,nw,!0,ak,"boolean | atom",Vo,"when true, use check boxes, otherwise radio buttons"],null),new ku(null,5,[Xw,Hh,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"when true, selected items are shown with struck-out labels"],null),new ku(null,5,[Xw,Qc,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"when true, at least one item must be selected. Note: being able to un-select a radio button is not a common use case, so this should probably be set to true when in single select mode"],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string | atom",Yz,i0,Vo,'a CSS style e.g. "250px". When specified, item labels may be clipped. Otherwise based on widest label'],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string | atom",Yz,i0,Vo,'a CSS style e.g. "150px". Size beyond which items will scroll'],null),new ku(null,5,[Xw,fd,Xq,!1,ak,"string | atom",Yz,i0,Vo,'a CSS style e.g. "150px". If there are less items then this height, box will shrink. If there are more, items will scroll'],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"when true, the time input will be disabled. Can be atom or value"],null),new ku(null,5,[Xw,Ub,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"when true, the list will be displayed without a border"],null),new ku(null,5,[Xw,Hq,Xq,!1,ak,"-> nil | atom",Yz,wr,Vo,"a function which takes no params and returns nothing. Called for each element during setup, the returned component renders the element, responds to clicks etc."],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer container)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the outer container)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the outer container)"],null)],null)],null);function e5(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,e=gr.a(t,qI),r=gr.a(t,mI);gr.a(t,GH);var i=gr.a(t,Hq),l=gr.a(t,qW);n=gr.a(t,iG);var u=gr.a(t,Mc),a=gr.a(t,Qc),o=gr.a(t,Hh);gr.a(t,fd);var s=gr.a(t,Ub);gr.a(t,yx);var c=gr.a(t,aj),f=gr.a(t,cO),h=gr.a(t,BE),d=gr.a(t,RF),p=gr.a(t,fz);if(!_Q(xQ(t5),t,ur(["selection-list"])))throw Error('Assert failed: (validate-args-macro selection-list-args-desc args "selection-list")');var g=zn(p)?l:Oa(new Xl(null,1,5,Kl,[Me(l)],null));return l=pl.a(zn(i)?function(n){return i.Va?i.Va(n,f,g,r,e,u,a,o):i.call(null,n,f,g,r,e,u,a,o)}:zn(p)?function(n){return function(n,t,e,r,i,l,u,a){var o=t.g?t.g(n):t.call(null,n);return new Xl(null,7,5,Kl,[b0,RF,"list-group-item compact",iG,new ku(null,1,[pA,function(){if(!zn(i)){var n=In(e.g?e.g(o):e.call(null,o)),t=hr(e);t=Ne.a(1,t)?Me(e):null,n=zn(zn(u)?Ne.a(t,o):u)?e:zn(n)?cr.a(e,o):_r.a(e,o),r.g?r.g(n):r.call(null,n)}return null}],null),QP,new Xl(null,11,5,Kl,[q1,qW,null!=(e.g?e.g(o):e.call(null,o)),mI,function(){return si},qI,i,MB,K2(e.g?e.g(o):e.call(null,o),a),DF,l.g?l.g(n):l.call(null,n)],null)],null)}(n,f,g,r,e,u,a,o)}:function(n){return function(n,t,e,r,i,l,u,a){var o=t.g?t.g(n):t.call(null,n);return new Xl(null,7,5,Kl,[b0,RF,"list-group-item compact",iG,new ku(null,1,[pA,function(){if(!zn(i)){var n=zn(zn(u)?e.g?e.g(o):e.call(null,o):u)?e:zn(e.g?e.g(o):e.call(null,o))?xa:_a([o]);r.g?r.g(n):r.call(null,n)}return null}],null),QP,new Xl(null,13,5,Kl,[W1,qW,Me(e),Vy,o,mI,function(){return si},qI,i,MB,K2(e.g?e.g(o):e.call(null,o),a),DF,l.g?l.g(n):l.call(null,n)],null)],null)}(n,f,g,r,e,u,a,o)},c),t=wa(t,new Xl(null,3,5,Kl,[yx,GH,fd],null)),c=zn(s)?n5:Q2,new Xl(null,13,5,Kl,[j0,RF,["rc-selection-list ",ii.g(d)].join(""),BE,h,iG,n,_O,"4px",EI,zn(s)?"none":null,QP,Dl.a(new Xl(null,2,5,Kl,[oS,new ku(null,2,[RF,"list-group noselect",BE,ma.l(ur([Z2,t,c]))],null)],null),l)],null)}var r5=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function i5(n,t,e,r){if(e=function(n,t,e){e=null!=e&&(64&e.B||An===e.ja)?Pi.a(sa,e):e;var r=gr.j(e,cO,MF);return Me(dl((function(t,e){return Ne.a(r.g?r.g(e):r.call(null,e),n)?t:null}),t))}(e,n,ur([cO,t])),Ne.a(r,kx))r=0;else if(Ne.a(r,TR))r=hr(n)-1;else if(null==e)r=0;else{var i=hr(n);r=((e+r)%i+i)%i}return zn(zn(r)?0<hr(n):r)?(n=dr(n,r),t.g?t.g(n):t.call(null,n)):null}function l5(n,t){return n=function n(t,e){return new wi(null,(function(){var r=De(e);if(r){var i=Me(r),l=t.g?t.g(i):t.call(null,i),u=di(i,Ma((function(n){return Ne.a(l,t.g?t.g(n):t.call(null,n))}),Te(r)));return di(u,n(t,new wi(null,(function(){return ml(hr(u),r)}),null,null)))}return null}),null,null)}(t,n),t=pl.a((function(n){return Vu([MF,Bd],[ro.L(),n])}),pl.a(t,pl.a(Me,n))),new Xl(null,2,5,Kl,[t,n],null)}function u5(n){var t=n.offsetTop,e=t+n.clientHeight,r=(n=n.parentNode).clientHeight,i=n.scrollTop;return e>i+r?t=0<(t=e-r)?t:0:t=t<i?t:null,zn(t)?n.scrollTop=t:null}function a5(n,t,e,r){var i=bZ(!1);return UK(new ku(null,4,[Tb,function(t){return t=vZ(t),Ne.a(St(r),n)?u5(t):null},A_,function(t){return t=vZ(t),Ne.a(St(r),n)?u5(t):null},XB,"choice-item",ND,function(n,t,e,r){return r=Ne.a(St(r),n)?"highlighted":zn(St(i))?"mouseover":null,new Xl(null,3,5,Kl,[My,new ku(null,4,[RF,["active-result group-option ",r].join(""),MP,function(){return fl(i,!0),null},$v,function(){return fl(i,!1),null},eA,function(){return e.g?e.g(n):e.call(null,n),null}],null),t],null)}],null))}function o5(n,t,e,r,i){return n=n.g?n.g(i):n.call(null,i),t=t.g?t.g(i):t.call(null,i),br(new Xl(null,5,5,Kl,[a5,n,t,e,r],null),new ku(null,1,[ag,ii.g(n)],null))}r5.l=function(n){if(n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,!_Q(xQ(t5),n,ur(["selection-list"])))throw Error('Assert failed: (validate-args-macro selection-list-args-desc args "selection-list")');return function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,new Xl(null,2,5,Kl,[e5,ma.l(ur([new ku(null,7,[fz,!0,Hh,!1,Qc,!1,qI,!1,Ub,!1,cO,MF,Mc,DF],null),IZ(n)]))],null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()},r5.R=0,r5.S=function(n){return this.l(De(n))};var s5=br((function(n,t,e,r,i){return new Xl(null,2,5,Kl,[FF,new Xl(null,2,5,Kl,[T$,new ku(null,7,[ak,"text",Os,"off",BE,zn(n)?null:new ku(null,4,[Cz,"absolute",yx,"0px",xT,"0px",EI,"none"],null),Vy,St(t),mI,function(n){return n=n.target.value,i.g?i.g(n):i.call(null,n),null},RI,function(n){return zn(e.g?e.g(n):e.call(null,n))||n.preventDefault(),null},e_,function(){return fl(r,!1),null}],null)],null)],null)}),new ku(null,2,[Tb,function(n){return vZ(n).firstChild.focus()},A_,function(n){return vZ(n).firstChild.focus()}],null));function c5(){var n=cl(!1);return function(t,e,r,i,l,u,a,o,s,c,f){var h;return wZ(new ku(null,1,[Nz,s],null)),u=zn(St(t))?(h=function(n,t,e){e=null!=e&&(64&e.B||An===e.ja)?Pi.a(sa,e):e;var r=gr.j(e,cO,MF);return Me(El((function(t){return Ne.a(r.g?r.g(t):r.call(null,t),n)}),t))}(St(t),e,ur([cO,r])),i.g?i.g(h):i.call(null,h)):u,new Xl(null,4,5,Kl,[am,new ku(null,4,[Js,zn(l)?l:0,pA,function(){return zn(St(n))?fl(n,!1):a.L?a.L():a.call(null),null},eA,function(){return zn(St(c))&&fl(n,!0),null},RI,function(t){return o.g?o.g(t):o.call(null,t),Ne.a(t.which,13)&&fl(n,!0),null}],null),new Xl(null,3,5,Kl,[DW,zn(f)?new ku(null,1,[TA,u],null):null,u],null),new Xl(null,2,5,Kl,[oS,new Xl(null,1,5,Kl,[pB],null)],null)],null)}}function f5(n,t,e,r){function i(n){return u(new ku(null,1,[uP,n],null))}function l(n){return u(new ku(null,1,[$M,n],null))}function u(t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;return t=gr.a(e,$M),e=gr.a(e,uP),Ne.a(a,MF.g(St(n)))?hl.l(n,mr,Kw,!1,ur([uP,e,aj,t])):null}var a=MF.g(St(n))+1;return hl.l(n,mr,Kw,!0,ur([uP,null,MF,a,dg,null])),e=new ku(null,2,[PH,e,xk,r],null),t.j?t.j(e,l,i):t.call(null,e,l,i)}function h5(n,t,e,r,i,l){if(wr(t)){var u=dg.g(St(n));return zn(u)&&clearTimeout(u),zn(l)?(e=setTimeout((function(){return f5(n,t,r,i)}),e),hl.aa(n,mr,dg,e)):f5(n,t,r,i)}return null}var d5=new Xl(null,19,5,Kl,[new ku(null,5,[Xw,aj,Xq,!0,ak,"vector of choices | atom | (opts, done, fail) -> nil",Yz,function(n){return wr(n)||ZQ(n)},Vo,new Xl(null,13,5,Kl,[DW,"Each is expected to have an id, label and, optionally, a group, provided by ",new Xl(null,2,5,Kl,[IN,":id-fn"],null),", ",new Xl(null,2,5,Kl,[IN,":label-fn"],null)," & ",new Xl(null,2,5,Kl,[IN,":group-fn"],null),". May also be a callback ",new Xl(null,2,5,Kl,[IN,"(opts, done, fail)"],null)," where opts is map of ",new Xl(null,2,5,Kl,[IN,":filter-text"],null)," and ",new Xl(null,2,5,Kl,[IN,":regex-filter?."],null)],null)],null),new ku(null,4,[Xw,qW,Xq,!0,ak,"the id of a choice | atom",Vo,new Xl(null,4,5,Kl,[DW,"the id of the selected choice. If nil, ",new Xl(null,2,5,Kl,[IN,":placeholder"],null)," text is shown"],null)],null),new ku(null,5,[Xw,mI,Xq,!0,ak,"id -> nil",Yz,wr,Vo,new Xl(null,2,5,Kl,[DW,"called when a new choice is selected. Passed the id of new choice"],null)],null),new ku(null,6,[Xw,cO,Xq,!1,nw,MF,ak,"choice -> anything",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":choices"],null),", returns its unique identifier (aka id)"],null)],null),new ku(null,6,[Xw,Mc,Xq,!1,nw,DF,ak,"choice -> string",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":choices"],null),", returns its displayable label."],null)],null),new ku(null,6,[Xw,NI,Xq,!1,nw,Bd,ak,"choice -> anything",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":choices"],null),", returns its group identifier"],null)],null),new ku(null,5,[Xw,sm,Xq,!1,ak,"choice -> string | hiccup",Yz,zr,Vo,new Xl(null,4,5,Kl,[DW,"given an element of ",new Xl(null,2,5,Kl,[IN,":choices"],null),", returns the markup that will be rendered for that choice. Defaults to the label if no custom markup is required."],null)],null),new ku(null,5,[Xw,qI,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, no user selection is allowed"],null),new ku(null,5,[Xw,Nz,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, a filter text field is placed at the top of the dropdown"],null),new ku(null,5,[Xw,xk,Xq,!1,nw,!1,ak,"boolean | atom",Vo,"if true, the filter text field will support JavaScript regular expressions. If false, just plain text"],null),new ku(null,5,[Xw,_g,Xq,!1,ak,"string",Yz,Ln,Vo,"background text when no selection"],null),new ku(null,5,[Xw,vp,Xq,!1,nw,!1,ak,"boolean",Vo,"if true, allows the title for the selected dropdown to be displayed via a mouse over. Handy when dropdown width is small and text is truncated"],null),new ku(null,6,[Xw,yx,Xq,!1,nw,"100%",ak,"string",Yz,Ln,Vo,'the CSS width. e.g.: "500px" or "20em"'],null),new ku(null,6,[Xw,fd,Xq,!1,nw,"240px",ak,"string",Yz,Ln,Vo,"the maximum height of the dropdown part"],null),new ku(null,6,[Xw,Js,Xq,!1,nw,0,ak,"integer | string",Yz,r0,Vo,"component's tabindex. A value of -1 removes from order"],null),new ku(null,5,[Xw,HC,Xq,!1,ak,"integer",Yz,Rn,Vo,new Xl(null,3,5,Kl,[DW,"delay to debounce loading requests when using callback ",new Xl(null,2,5,Kl,[IN,":choices"],null)],null)],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer container)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the outer container)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the outer container)"],null)],null)],null),p5=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function g5(n,t){return n=Ne.a(n,J_),t=["solid 1px ",zn(t)?"#999":"#ccc"].join(""),new Xl(null,4,5,Kl,[oS,new ku(null,2,[RF,"display-flex",BE,ma.l(ur([u0([n?"row":"column"," nowrap"].join("")),new ku(null,3,[yx,n?"8px":"20px",GH,n?"20px":"8px",LW,"auto"],null)]))],null),new Xl(null,2,5,Kl,[oS,new ku(null,1,[BE,new ku(null,3,n?[yx,"3px",GH,"20px",md,t]:[yx,"20px",GH,"3px",JH,t],null)],null)],null),new Xl(null,2,5,Kl,[oS,new ku(null,1,[BE,new ku(null,3,n?[yx,"3px",GH,"20px",md,t]:[yx,"20px",GH,"3px",JH,t],null)],null)],null)],null)}p5.l=function(n){function t(n,t,e){return t=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,t=gr.a(t,xk),h.j?h.j(n,t,e):h.call(null,n,t,e),fl(s,n)}n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var e=gr.a(n,aj),r=gr.a(n,qW),i=gr.a(n,xk),l=gr.j(n,HC,250);if(!_Q(xQ(d5),n,ur(["single-dropdown"])))throw Error('Assert failed: (validate-args-macro single-dropdown-args-desc args "single-dropdown")');var u=bZ(UZ(r)),a=bZ(St(u)),o=bZ(!1),s=bZ(""),c=wr(e),f=bZ(new ku(null,5,[Kw,c,uP,null,aj,Zl,MF,0,dg,null],null)),h=al.aa(h5,f,e,l);return h.j?h.j("",i,!1):h.call(null,"",i,!1),function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(n){function e(n){if(zn(C))return!1;switch(n.which){case 13:return zn(C)?r():i(St(a)),!0;case 27:return r(),!0;case 9:return zn(C)?r():(zn(F)&&(fl(u,St(a)),n=St(a),p.g?p.g(n):p.call(null,n)),fl(o,!1),t("",l,!1)),fl(o,!1),!0;case 38:return zn(St(o))?fl(a,i5(T,O,St(a),-1)):fl(o,!0),!0;case 40:return zn(St(o))?fl(a,i5(T,O,St(a),1)):fl(o,!0),!0;case 36:return fl(a,i5(T,O,St(a),kx)),!0;case 35:return fl(a,i5(T,O,St(a),TR)),!0;default:return S}}function r(){return fl(o,!1),t("",l,!1),fl(a,St(u))}function i(n){return fl(a,n),zn(zn(F)?Ri.a(St(a),St(D)):F)&&(fl(u,St(a)),n=St(a),p.g?p.g(n):p.call(null,n)),hl.a(o,In),t("",l,!1)}var l=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,h=gr.j(l,NI,Bd),d=gr.a(l,qI),p=gr.a(l,mI);n=gr.a(l,qW);var g=gr.a(l,iG),m=gr.j(l,Mc,DF),v=gr.a(l,Js),w=gr.a(l,fd),y=gr.a(l,_g),b=gr.a(l,vp),x=gr.j(l,sm,m),_=gr.a(l,yx),k=gr.a(l,xk),j=gr.a(l,aj),O=gr.j(l,cO,MF),A=gr.a(l,BE);gr.a(l,HC);var E=gr.a(l,RF),S=gr.a(l,Nz);if(!_Q(xQ(d5),l,ur(["single-dropdown"])))throw Error('Assert failed: (validate-args-macro single-dropdown-args-desc args "single-dropdown")');j=c?aj.g(St(f)):UZ(j);var C=UZ(d);d=UZ(k);var D=bZ(UZ(n));Ri.a(St(u),St(D))&&(fl(u,St(D)),fl(a,St(D)));var M,F=zn(p)?In(C):p,T=c?j:zn(d)?function(n,t,e,r){try{var i=new RegExp(r,"i")}catch(n){if(!(n instanceof Object))throw n;i=null}return El(r=al.a((function(n,r){if(null==n)return null;var i=n.test(t.g?t.g(r):t.call(null,r));return zn(i)?i:n.test(e.g?e.g(r):e.call(null,r))}),i),n)}(j,h,m,St(s)):function(n,t,e,r){var i=r.toLowerCase();return El((function(n){var r=null==(t.g?t.g(n):t.call(null,n))?"":t.g?t.g(n):t.call(null,n);return n=ii.g(e.g?e.g(n):e.call(null,n)),0<=r.toLowerCase().indexOf(i)||0<=n.toLowerCase().indexOf(i)}),n)}(j,h,m,St(s));return new Xl(null,4,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-dropdown chosen-container chosen-container-single noselect ",zn(St(o))?"chosen-container-active chosen-with-drop ":null,ii.g(E)].join(""),BE,ma.l(ur([l0(zn(_)?"0 0 auto":"auto"),o0(jR,kx),new ku(null,1,[yx,_],null),A]))],null),g])),new Xl(null,12,5,Kl,[c5,a,j,O,m,v,y,function(){return zn(C)?null:hl.a(o,In)},e,S,o,b],null),zn((M=St(o),zn(M)?In(C):M))?new Xl(null,3,5,Kl,[Uw,new Xl(null,6,5,Kl,[s5,S,s,e,o,function(n){return t(n,l,!0)}],null),new Xl(null,3,5,Kl,[p_,zn(w)?new ku(null,1,[BE,new ku(null,1,[fd,w],null)],null):null,zn(!!c&&Kw.g(St(f)))?new Xl(null,2,5,Kl,[pg,"Loading..."],null):zn(!!c&&uP.g(St(f)))?new Xl(null,2,5,Kl,[Pk,uP.g(St(f))],null):0<hr(T)?function(){var n=l5(T,h),t=pr(n,0);n=pr(n,1);var e=al.l(o5,O,x,i,ur([a])),r=null==Bd.g(Me(t));return Ne.a(1,hr(n))&&r?pl.a(e,Me(n)):Pi.a(Si,pl.j((function(n,t){return di(n=br(new Xl(null,2,5,Kl,[Fv,Bd.g(n)],null),new ku(null,1,[ag,MF.g(n)],null)),pl.a(e,t))}),t,n))}():new Xl(null,2,5,Kl,[hc,['No results match "',ii.g(St(s)),'"'].join("")],null)],null)],null):null],null)}return n.R=0,n.S=function(n){return e(n=De(n))},n.l=e,n}()},p5.R=0,p5.S=function(n){return this.l(De(n))};var m5=new Xl(null,12,5,Kl,[new ku(null,5,[Xw,aI,Xq,!0,ak,"hiccup",Yz,KQ,Vo,"markup to go in the left (or top) panel"],null),new ku(null,5,[Xw,FI,Xq,!0,ak,"hiccup",Yz,KQ,Vo,"markup to go in the right (or bottom) panel"],null),new ku(null,6,[Xw,SA,Xq,!1,nw,"auto",ak,"string",Yz,Ln,Vo,new Xl(null,17,5,Kl,[DW,"applied to the outer container of the two panels. Equivalent to CSS style ",new Xl(null,2,5,Kl,[cC,"flex"],null),".",new Xl(null,1,5,Kl,[wP],null),"Examples: ",new Xl(null,2,5,Kl,[IN,"initial"],null),", ",new Xl(null,2,5,Kl,[IN,"auto"],null),", ",new Xl(null,2,5,Kl,[IN,"none"],null),", ",new Xl(null,2,5,Kl,[IN,"100px"],null),", ",new Xl(null,2,5,Kl,[IN,"2"],null)," or a generic triple of ",new Xl(null,2,5,Kl,[IN,"grow shrink basis"],null)],null)],null),new ku(null,5,[Xw,yx,Xq,!1,ak,"string",Yz,Ln,Vo,"width of the outer container of the two panels. A CSS width style"],null),new ku(null,5,[Xw,GH,Xq,!1,ak,"string",Yz,Ln,Vo,"height of the outer container of the two panels. A CSS height style"],null),new ku(null,5,[Xw,ih,Xq,!1,ak,"double -> nil",Yz,wr,Vo,new Xl(null,4,5,Kl,[DW,"called when the user moves the splitter bar (on mouse up, not on each mouse move). Given the new ",new Xl(null,2,5,Kl,[IN,":panel-1"],null)," percentage split"],null)],null),new ku(null,6,[Xw,eW,Xq,!1,nw,50,ak,"double | string",Yz,r0,Vo,new Xl(null,4,5,Kl,[DW,"initial split percentage for ",new Xl(null,2,5,Kl,[IN,":panel-1"],null),". Can be double value or string (with/without percentage sign)"],null)],null),new ku(null,6,[Xw,ks,Xq,!1,nw,"8px",ak,"string",Yz,Ln,Vo,"thickness of the splitter"],null),new ku(null,6,[Xw,LW,Xq,!1,nw,"8px",ak,"string",Yz,Ln,Vo,"thickness of the margin around the panels"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer container)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the outer container)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the outer container)"],null)],null)],null),v5=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};v5.l=function(n){function t(n){return new ku(null,5,[RF,["display-flex ",ii.g(n)].join(""),eA,function(n){return n.preventDefault(),fl(p,!0),null},MP,function(){return fl(g,!0),null},$v,function(){return fl(g,!1),null},BE,ma.l(ur([l0(["0 0 ",ii.g(c)].join("")),new ku(null,1,[I_,"col-resize"],null),zn(St(g))?new ku(null,1,[Pb,"#f8f8f8"],null):null]))],null)}function e(n,t,e){return new ku(null,2,[RF,["display-flex ",ii.g(n)].join(""),BE,ma.l(ur([l0([ii.g(e)," 1 0px"].join("")),new ku(null,1,[xw,"hidden"],null),zn(t)?new ku(null,1,[gL,"none"],null):null]))],null)}function r(n,t,e,r){return ma.l(ur([new ku(null,3,[RF,["rc-h-split display-flex ",ii.g(n)].join(""),MF,h,BE,ma.l(ur([l0(l),u0("row nowrap"),new ku(null,3,[LW,f,yx,u,GH,a],null),t]))],null),zn(r)?new ku(null,3,[Kz,function(){return i(),null},dN,function(n){n=n.clientX;var t=document.getElementById(h),e=GZ(t),r=t.clientWidth;return n=(n-t.offsetLeft+fW.g(e))/r*100,fl(d,n),null},$v,function(n){return Ne.a(n.relatedTarget,document.documentElement)&&i(),null}],null):null,e]))}function i(){if(zn(o)){var n=St(d);o.g?o.g(n):o.call(null,n)}return fl(p,!1)}n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var l=gr.j(n,SA,"auto"),u=gr.a(n,yx),a=gr.a(n,GH),o=gr.a(n,ih),s=gr.j(n,eW,50),c=gr.j(n,ks,"8px"),f=gr.j(n,LW,"8px");if(!_Q(xQ(m5),n,ur(["h-split"])))throw Error('Assert failed: (validate-args-macro hv-split-args-desc args "h-split")');var h=ro.g("h-split-"),d=bZ(parseInt(s)),p=bZ(!1),g=bZ(!1);return function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var e=Array(arguments.length-0);t<e.length;)e[t]=arguments[t+0],++t;t=new lr(e,0,null)}return i.call(this,t)}function i(n){var i=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;gr.a(i,eR),n=gr.a(i,FI);var l=gr.a(i,aI),u=gr.a(i,iG);gr.a(i,Ed),gr.a(i,xm),gr.a(i,Ig),gr.a(i,jk),gr.a(i,QE);var a=gr.a(i,BE);return gr.a(i,ES),i=gr.a(i,RF),new Xl(null,5,5,Kl,[oS,r(i,a,u,St(p)),new Xl(null,3,5,Kl,[oS,e("rc-h-split-top",St(p),St(d)),l],null),new Xl(null,3,5,Kl,[oS,t("rc-h-split-splitter"),new Xl(null,3,5,Kl,[g5,J_,St(g)],null)],null),new Xl(null,3,5,Kl,[oS,e("rc-h-split-bottom",St(p),100-St(d)),n],null)],null)}return n.R=0,n.S=function(n){return i(n=De(n))},n.l=i,n}()},v5.R=0,v5.S=function(n){return this.l(De(n))};var w5=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};w5.l=function(n){function t(n){return new ku(null,5,[RF,["display-flex ",ii.g(n)].join(""),eA,function(n){return n.preventDefault(),fl(p,!0),null},MP,function(){return fl(g,!0),null},$v,function(){return fl(g,!1),null},BE,ma.l(ur([l0(["0 0 ",ii.g(c)].join("")),new ku(null,1,[I_,"row-resize"],null),zn(St(g))?new ku(null,1,[Pb,"#f8f8f8"],null):null]))],null)}function e(n,t,e){return new ku(null,2,[RF,["display-flex ",ii.g(n)].join(""),BE,ma.l(ur([l0([ii.g(e)," 1 0px"].join("")),new ku(null,1,[xw,"hidden"],null),zn(t)?new ku(null,1,[gL,"none"],null):null]))],null)}function r(n,t,e,r){return ma.l(ur([new ku(null,3,[RF,["rc-v-split display-flex ",ii.g(n)].join(""),MF,h,BE,ma.l(ur([l0(l),u0("column nowrap"),new ku(null,3,[LW,f,yx,u,GH,a],null),t]))],null),zn(r)?new ku(null,3,[Kz,function(){return i(),null},dN,function(n){n=n.clientY;var t=document.getElementById(h),e=GZ(t),r=t.clientHeight;return n=(n-t.offsetTop+Zm.g(e))/r*100,fl(d,n),null},$v,function(n){return Ne.a(n.relatedTarget,document.documentElement)&&i(),null}],null):null,e]))}function i(){if(zn(o)){var n=St(d);o.g?o.g(n):o.call(null,n)}return fl(p,!1)}n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var l=gr.j(n,SA,"auto"),u=gr.a(n,yx),a=gr.a(n,GH),o=gr.a(n,ih),s=gr.j(n,eW,50),c=gr.j(n,ks,"8px"),f=gr.j(n,LW,"8px");if(!_Q(xQ(m5),n,ur(["v-split"])))throw Error('Assert failed: (validate-args-macro hv-split-args-desc args "v-split")');var h=ro.g("v-split-"),d=bZ(parseInt(s)),p=bZ(!1),g=bZ(!1);return function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var e=Array(arguments.length-0);t<e.length;)e[t]=arguments[t+0],++t;t=new lr(e,0,null)}return i.call(this,t)}function i(n){var i=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;gr.a(i,eR),n=gr.a(i,FI);var l=gr.a(i,aI),u=gr.a(i,iG);gr.a(i,Ed),gr.a(i,xm),gr.a(i,Ig),gr.a(i,jk),gr.a(i,QE);var a=gr.a(i,BE);return gr.a(i,ES),i=gr.a(i,RF),new Xl(null,5,5,Kl,[oS,r(i,a,u,St(p)),new Xl(null,3,5,Kl,[oS,e("re-v-split-top",St(p),St(d)),l],null),new Xl(null,3,5,Kl,[oS,t("re-v-split-splitter"),new Xl(null,3,5,Kl,[g5,Yh,St(g)],null)],null),new Xl(null,3,5,Kl,[oS,e("re-v-split-bottom",St(p),100-St(d)),n],null)],null)}return n.R=0,n.S=function(n){return i(n=De(n))},n.l=i,n}()},w5.R=0,w5.S=function(n){return this.l(De(n))};var y5=new Xl(null,8,5,Kl,[new ku(null,5,[Xw,QP,Xq,!0,ak,"string | hiccup",Yz,KQ,Vo,"hiccup to be centered within in the browser window"],null),new ku(null,5,[Xw,Ns,Xq,!1,nw,!0,ak,"boolean",Vo,new Xl(null,4,5,Kl,[DW,"if true, wrap ",new Xl(null,2,5,Kl,[IN,":child"],null)," in a white, rounded panel"],null)],null),new ku(null,6,[Xw,bj,Xq,!1,nw,"black",ak,"string",Yz,Ln,Vo,"CSS color of backdrop"],null),new ku(null,6,[Xw,Kp,Xq,!1,nw,.6,ak,"double | string",Yz,r0,Vo,new Xl(null,4,5,Kl,[DW,"opacity of backdrop from:",new Xl(null,1,5,Kl,[wP],null),"0.0 (transparent) to 1.0 (opaque)"],null)],null),new ku(null,6,[Xw,AB,Xq,!1,nw,null,ak,"-> nil",Yz,wr,Vo,"a function which takes no params and returns nothing. Called when the backdrop is clicked"],null),new ku(null,5,[Xw,RF,Xq,!1,ak,"string",Yz,Ln,Vo,"CSS class names, space separated (applies to the outer container)"],null),new ku(null,5,[Xw,BE,Xq,!1,ak,"CSS style map",Yz,QQ,Vo,"CSS styles to add or override (applies to the outer container)"],null),new ku(null,5,[Xw,iG,Xq,!1,ak,"HTML attr map",Yz,t0,Vo,new Xl(null,9,5,Kl,[DW,"HTML attributes, like ",new Xl(null,2,5,Kl,[IN,":on-mouse-move"],null),new Xl(null,1,5,Kl,[wP],null),"No ",new Xl(null,2,5,Kl,[IN,":class"],null)," or ",new Xl(null,2,5,Kl,[IN,":style"],null),"allowed (applies to the outer container)"],null)],null)],null),b5=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};b5.l=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;var t=gr.a(n,QP),e=gr.j(n,Ns,!0),r=gr.j(n,bj,"black"),i=gr.j(n,Kp,.6),l=gr.a(n,AB),u=gr.a(n,RF),a=gr.a(n,BE),o=gr.a(n,iG);if(!_Q(xQ(y5),n,ur(["modal-panel"])))throw Error('Assert failed: (validate-args-macro modal-panel-args-desc args "modal-panel")');return new Xl(null,4,5,Kl,[oS,ma.l(ur([new ku(null,2,[RF,["rc-modal-panel display-flex ",ii.g(u)].join(""),BE,ma.l(ur([new ku(null,6,[Cz,"fixed",fW,"0px",Zm,"0px",yx,"100%",GH,"100%",kD,1020],null),a]))],null),o])),new Xl(null,2,5,Kl,[oS,new ku(null,3,[RF,"rc-modal-panel-backdrop",BE,new ku(null,6,[Cz,"fixed",yx,"100%",GH,"100%",Pb,r,OF,i,kD,1],null),pA,function(n){return zn(l)&&(l.L?l.L():l.call(null)),n.preventDefault(),n.stopPropagation(),null}],null)],null),new Xl(null,3,5,Kl,[oS,new ku(null,2,[RF,"rc-modal-panel-container",BE,ma.l(ur([new ku(null,2,[LW,"auto",kD,2],null),zn(e)?new ku(null,3,[Pb,"white",xT,"16px",iL,"6px"],null):null]))],null),t],null)],null)},b5.R=0,b5.S=function(n){return this.l(De(n))};var x5,_5,k5,j5,O5,A5,E5={},S5=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};S5.l=function(n){return Gt(En,Pi.a(Xa,n))},S5.R=0,S5.S=function(n){return this.l(De(n))};var C5=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};function D5(n){for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;Pi.a(C5,0<t.length?new lr(t.slice(0),0,null):null),Gt(En,"\n")}function M5(n){if("number"==typeof n)return n;if("string"==typeof n&&1===n.length)return n.charCodeAt(0);throw Error("Argument to char must be a character or number")}function F5(n,t,e){var r=e;for(e=Zl;;){if(kr(r))return new Xl(null,2,5,Kl,[e,t],null);var i=Me(r);r=Te(r),t=pr(i=Pi.a(n,new Xl(null,2,5,Kl,[i,t],null)),0),i=pr(i,1),e=cr.a(e,t),t=i}}function T5(n,t){var e=t;for(t=Zl;;){var r=Pi.a(n,new Xl(null,1,5,Kl,[e],null));if(e=pr(r,0),r=pr(r,1),In(e))return new Xl(null,2,5,Kl,[t,r],null);t=cr.a(t,e),e=r}}function N5(n){return new Xl(null,2,5,Kl,[Dl.a(ju,function n(t){return new wi(null,(function(){for(;;){var e=De(t);if(e){if(Dr(e)){var r=le(e),i=hr(r),l=xi(i);n:for(var u=0;;){if(!(u<i)){r=!0;break n}var a=ut.a(r,u),o=pr(a,0);a=pr(a,1);var s=pr(a,0);pr(a,1),l.add(new Xl(null,2,5,Kl,[o,s],null)),u+=1}return ji(l.Na(),r?n(ue(e)):null)}return l=pr(r=Me(e),0),r=pr(r,1),i=pr(r,0),pr(r,1),di(new Xl(null,2,5,Kl,[l,i],null),n(Fe(e)))}return null}}),null,null)}(n)),Dl.a(ju,function n(t){return new wi(null,(function(){for(;;){var e=De(t);if(e){if(Dr(e)){var r=le(e),i=hr(r),l=xi(i);n:for(var u=0;;){if(!(u<i)){r=!0;break n}var a=ut.a(r,u),o=pr(a,0);a=pr(a,1),pr(a,0),a=pr(a,1),l.add(new Xl(null,2,5,Kl,[o,a],null)),u+=1}return ji(l.Na(),r?n(ue(e)):null)}return l=pr(r=Me(e),0),r=pr(r,1),pr(r,0),r=pr(r,1),di(new Xl(null,2,5,Kl,[l,r],null),n(Fe(e)))}return null}}),null,null)}(n))],null)}function B5(n,t){return Dl.a(ju,function n(e){return new wi(null,(function(){for(;;){var r=De(e);if(r){if(Dr(r)){var i=le(r),l=hr(i),u=xi(l);n:for(var a=0;;){if(!(a<l)){i=!0;break n}var o=ut.a(i,a),s=pr(o,0);o=pr(o,1),u.add(new Xl(null,2,5,Kl,[s,new Xl(null,2,5,Kl,[o,t],null)],null)),a+=1}return ji(u.Na(),i?n(ue(r)):null)}return u=pr(i=Me(r),0),i=pr(i,1),di(new Xl(null,2,5,Kl,[u,new Xl(null,2,5,Kl,[i,t],null)],null),n(Fe(r)))}return null}}),null,null)}(n))}function z5(){var n=En;if(null!=n&&null!=n.ig)n.ig(n);else{var t=z5[s(null==n?null:n)];if(null!=t)t.g?t.g(n):t.call(null,n);else{if(null==(t=z5._))throw Hn("IPrettyFlush.-ppflush",n);t.g?t.g(n):t.call(null,n)}}}function P5(n,t){return n=St(St(n)),t.g?t.g(n):t.call(null,n)}function $5(n,t,e){hl.aa(St(n),mr,t,e)}function R5(n,t){var e=cl(new ku(null,4,[aF,t,Ov,0,ZD,0,qR,n],null));return void 0!==jn&&void 0!==E5&&void 0!==x5||((x5=function(n,t,e,r){this.Ib=n,this.Cg=t,this.fields=e,this.Jj=r,this.B=1074167808,this.U=0}).prototype.Y=function(n,t){return new x5(this.Ib,this.Cg,this.fields,t)},x5.prototype.X=function(){return this.Jj},x5.prototype.wc=function(){return this.fields},x5.prototype.Tc=function(){return Yt(this.Ib)},x5.prototype.nd=function(n,t){if(n=qn(t),zn(Ne.a?Ne.a(String,n):Ne.call(null,String,n)))return 0>(n=t.lastIndexOf("\n"))?$5(this,Ov,P5(this,Ov)+hr(t)):($5(this,Ov,hr(t)-n-1),$5(this,ZD,P5(this,ZD)+hr(El((function(n){return Ne.a(n,"\n")}),t)))),Gt(P5(this,qR),t);if(zn(Ne.a?Ne.a(Number,n):Ne.call(null,Number,n)))return function(n,t){return Ne.a(t,"\n")?($5(n,Ov,0),$5(n,ZD,P5(n,ZD)+1)):$5(n,Ov,P5(n,Ov)+1),Gt(P5(n,qR),t)}(this,t);throw Error(["No matching clause: ",ii.g(n)].join(""))},x5.wa=function(){return new Xl(null,4,5,Kl,[uL,Ep,BS,Gx],null)},x5.ta=!0,x5.sa="cljs.pprint/t_cljs$pprint27021",x5.ua=function(n){return Gt(n,"cljs.pprint/t_cljs$pprint27021")}),new x5(n,t,e,ju)}function I5(n,t,e,r,i,l,u,a,o,s,c,f,h){this.parent=n,this.cc=t,this.Xb=e,this.Wb=r,this.Zb=i,this.$b=l,this.prefix=u,this.bc=a,this.dc=o,this.ac=s,this.o=c,this.h=f,this.G=h,this.B=2230716170,this.U=139264}function L5(n,t){for(t=Cg.g(t);;){if(null==t)return!1;if(n===t)return!0;t=Cg.g(t)}}function U5(n,t,e,r,i,l,u,a){this.ya=n,this.data=t,this.qc=e,this.xa=r,this.va=i,this.o=l,this.h=u,this.G=a,this.B=2230716170,this.U=139264}function q5(n,t,e,r,i,l,u,a){this.ya=n,this.type=t,this.Ga=e,this.xa=r,this.va=i,this.o=l,this.h=u,this.G=a,this.B=2230716170,this.U=139264}function H5(n,t,e,r,i,l,u){this.ya=n,this.Ga=t,this.xa=e,this.va=r,this.o=i,this.h=l,this.G=u,this.B=2230716170,this.U=139264}function W5(n,t,e,r,i,l,u){this.ya=n,this.Ga=t,this.xa=e,this.va=r,this.o=i,this.h=l,this.G=u,this.B=2230716170,this.U=139264}function G5(n,t,e,r,i,l,u,a,o){this.ya=n,this.Ga=t,this.nc=e,this.offset=r,this.xa=i,this.va=l,this.o=u,this.h=a,this.G=o,this.B=2230716170,this.U=139264}if(C5.l=function(n){return Gt(En,Pi.a(Ja,n))},C5.R=0,C5.S=function(n){return this.l(De(n))},(i=I5.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"parent":return this.parent;case"section":return this.cc;case"start-col":return this.Xb;case"indent":return this.Wb;case"done-nl":return this.Zb;case"intra-block-nl":return this.$b;case"prefix":return this.prefix;case"per-line-prefix":return this.bc;case"suffix":return this.dc;case"logical-block-callback":return this.ac;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.logical-block{",", ","}",e,Si.a(new Xl(null,10,5,Kl,[new Xl(null,2,5,Kl,[Cg,this.parent],null),new Xl(null,2,5,Kl,[eb,this.cc],null),new Xl(null,2,5,Kl,[lA,this.Xb],null),new Xl(null,2,5,Kl,[fh,this.Wb],null),new Xl(null,2,5,Kl,[Sk,this.Zb],null),new Xl(null,2,5,Kl,[CI,this.$b],null),new Xl(null,2,5,Kl,[VA,this.prefix],null),new Xl(null,2,5,Kl,[HT,this.bc],null),new Xl(null,2,5,Kl,[$c,this.dc],null),new Xl(null,2,5,Kl,[PR,this.ac],null)],null),this.h))},i.Ca=function(){return new gu(this,10,new Xl(null,10,5,Kl,[Cg,eb,lA,fh,Sk,CI,VA,HT,$c,PR],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,this.h,this.G)},i.na=function(){return 10+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1977012399^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.parent,t.parent)&&Ne.a(this.cc,t.cc)&&Ne.a(this.Xb,t.Xb)&&Ne.a(this.Wb,t.Wb)&&Ne.a(this.Zb,t.Zb)&&Ne.a(this.$b,t.$b)&&Ne.a(this.prefix,t.prefix)&&Ne.a(this.bc,t.bc)&&Ne.a(this.dc,t.dc)&&Ne.a(this.ac,t.ac)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,10,[$c,null,fh,null,Cg,null,eb,null,Sk,null,lA,null,VA,null,HT,null,PR,null,CI,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(Cg,t):gi.call(null,Cg,t))?new I5(e,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a(eb,t):gi.call(null,eb,t))?new I5(this.parent,e,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a(lA,t):gi.call(null,lA,t))?new I5(this.parent,this.cc,e,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a(fh,t):gi.call(null,fh,t))?new I5(this.parent,this.cc,this.Xb,e,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a(Sk,t):gi.call(null,Sk,t))?new I5(this.parent,this.cc,this.Xb,this.Wb,e,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a(CI,t):gi.call(null,CI,t))?new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,e,this.prefix,this.bc,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a(VA,t):gi.call(null,VA,t))?new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,e,this.bc,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a(HT,t):gi.call(null,HT,t))?new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,e,this.dc,this.ac,this.o,this.h,null):zn(gi.a?gi.a($c,t):gi.call(null,$c,t))?new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,e,this.ac,this.o,this.h,null):zn(gi.a?gi.a(PR,t):gi.call(null,PR,t))?new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,e,this.o,this.h,null):new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,10,5,Kl,[new yu(Cg,this.parent,null),new yu(eb,this.cc,null),new yu(lA,this.Xb,null),new yu(fh,this.Wb,null),new yu(Sk,this.Zb,null),new yu(CI,this.$b,null),new yu(VA,this.prefix,null),new yu(HT,this.bc,null),new yu($c,this.dc,null),new yu(PR,this.ac,null)],null),this.h))},i.Y=function(n,t){return new I5(this.parent,this.cc,this.Xb,this.Wb,this.Zb,this.$b,this.prefix,this.bc,this.dc,this.ac,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=U5.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"type-tag":return this.ya;case"data":return this.data;case"trailing-white-space":return this.qc;case"start-pos":return this.xa;case"end-pos":return this.va;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.buffer-blob{",", ","}",e,Si.a(new Xl(null,5,5,Kl,[new Xl(null,2,5,Kl,[WU,this.ya],null),new Xl(null,2,5,Kl,[UW,this.data],null),new Xl(null,2,5,Kl,[dF,this.qc],null),new Xl(null,2,5,Kl,[rH,this.xa],null),new Xl(null,2,5,Kl,[Yb,this.va],null)],null),this.h))},i.Ca=function(){return new gu(this,5,new Xl(null,5,5,Kl,[WU,UW,dF,rH,Yb],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new U5(this.ya,this.data,this.qc,this.xa,this.va,this.o,this.h,this.G)},i.na=function(){return 5+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1809113693^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.ya,t.ya)&&Ne.a(this.data,t.data)&&Ne.a(this.qc,t.qc)&&Ne.a(this.xa,t.xa)&&Ne.a(this.va,t.va)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,5,[Yb,null,dF,null,WU,null,rH,null,UW,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new U5(this.ya,this.data,this.qc,this.xa,this.va,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(WU,t):gi.call(null,WU,t))?new U5(e,this.data,this.qc,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(UW,t):gi.call(null,UW,t))?new U5(this.ya,e,this.qc,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(dF,t):gi.call(null,dF,t))?new U5(this.ya,this.data,e,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(rH,t):gi.call(null,rH,t))?new U5(this.ya,this.data,this.qc,e,this.va,this.o,this.h,null):zn(gi.a?gi.a(Yb,t):gi.call(null,Yb,t))?new U5(this.ya,this.data,this.qc,this.xa,e,this.o,this.h,null):new U5(this.ya,this.data,this.qc,this.xa,this.va,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,5,5,Kl,[new yu(WU,this.ya,null),new yu(UW,this.data,null),new yu(dF,this.qc,null),new yu(rH,this.xa,null),new yu(Yb,this.va,null)],null),this.h))},i.Y=function(n,t){return new U5(this.ya,this.data,this.qc,this.xa,this.va,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=q5.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"type-tag":return this.ya;case"type":return this.type;case"logical-block":return this.Ga;case"start-pos":return this.xa;case"end-pos":return this.va;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.nl-t{",", ","}",e,Si.a(new Xl(null,5,5,Kl,[new Xl(null,2,5,Kl,[WU,this.ya],null),new Xl(null,2,5,Kl,[ak,this.type],null),new Xl(null,2,5,Kl,[EL,this.Ga],null),new Xl(null,2,5,Kl,[rH,this.xa],null),new Xl(null,2,5,Kl,[Yb,this.va],null)],null),this.h))},i.Ca=function(){return new gu(this,5,new Xl(null,5,5,Kl,[WU,ak,EL,rH,Yb],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new q5(this.ya,this.type,this.Ga,this.xa,this.va,this.o,this.h,this.G)},i.na=function(){return 5+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1640656800^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.ya,t.ya)&&Ne.a(this.type,t.type)&&Ne.a(this.Ga,t.Ga)&&Ne.a(this.xa,t.xa)&&Ne.a(this.va,t.va)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,5,[Yb,null,ak,null,EL,null,WU,null,rH,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new q5(this.ya,this.type,this.Ga,this.xa,this.va,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(WU,t):gi.call(null,WU,t))?new q5(e,this.type,this.Ga,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(ak,t):gi.call(null,ak,t))?new q5(this.ya,e,this.Ga,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(EL,t):gi.call(null,EL,t))?new q5(this.ya,this.type,e,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(rH,t):gi.call(null,rH,t))?new q5(this.ya,this.type,this.Ga,e,this.va,this.o,this.h,null):zn(gi.a?gi.a(Yb,t):gi.call(null,Yb,t))?new q5(this.ya,this.type,this.Ga,this.xa,e,this.o,this.h,null):new q5(this.ya,this.type,this.Ga,this.xa,this.va,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,5,5,Kl,[new yu(WU,this.ya,null),new yu(ak,this.type,null),new yu(EL,this.Ga,null),new yu(rH,this.xa,null),new yu(Yb,this.va,null)],null),this.h))},i.Y=function(n,t){return new q5(this.ya,this.type,this.Ga,this.xa,this.va,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=H5.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"type-tag":return this.ya;case"logical-block":return this.Ga;case"start-pos":return this.xa;case"end-pos":return this.va;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.start-block-t{",", ","}",e,Si.a(new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[WU,this.ya],null),new Xl(null,2,5,Kl,[EL,this.Ga],null),new Xl(null,2,5,Kl,[rH,this.xa],null),new Xl(null,2,5,Kl,[Yb,this.va],null)],null),this.h))},i.Ca=function(){return new gu(this,4,new Xl(null,4,5,Kl,[WU,EL,rH,Yb],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new H5(this.ya,this.Ga,this.xa,this.va,this.o,this.h,this.G)},i.na=function(){return 4+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-414877272^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.ya,t.ya)&&Ne.a(this.Ga,t.Ga)&&Ne.a(this.xa,t.xa)&&Ne.a(this.va,t.va)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,4,[Yb,null,EL,null,WU,null,rH,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new H5(this.ya,this.Ga,this.xa,this.va,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(WU,t):gi.call(null,WU,t))?new H5(e,this.Ga,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(EL,t):gi.call(null,EL,t))?new H5(this.ya,e,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(rH,t):gi.call(null,rH,t))?new H5(this.ya,this.Ga,e,this.va,this.o,this.h,null):zn(gi.a?gi.a(Yb,t):gi.call(null,Yb,t))?new H5(this.ya,this.Ga,this.xa,e,this.o,this.h,null):new H5(this.ya,this.Ga,this.xa,this.va,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,4,5,Kl,[new yu(WU,this.ya,null),new yu(EL,this.Ga,null),new yu(rH,this.xa,null),new yu(Yb,this.va,null)],null),this.h))},i.Y=function(n,t){return new H5(this.ya,this.Ga,this.xa,this.va,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=W5.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"type-tag":return this.ya;case"logical-block":return this.Ga;case"start-pos":return this.xa;case"end-pos":return this.va;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.end-block-t{",", ","}",e,Si.a(new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[WU,this.ya],null),new Xl(null,2,5,Kl,[EL,this.Ga],null),new Xl(null,2,5,Kl,[rH,this.xa],null),new Xl(null,2,5,Kl,[Yb,this.va],null)],null),this.h))},i.Ca=function(){return new gu(this,4,new Xl(null,4,5,Kl,[WU,EL,rH,Yb],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new W5(this.ya,this.Ga,this.xa,this.va,this.o,this.h,this.G)},i.na=function(){return 4+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1365867980^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.ya,t.ya)&&Ne.a(this.Ga,t.Ga)&&Ne.a(this.xa,t.xa)&&Ne.a(this.va,t.va)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,4,[Yb,null,EL,null,WU,null,rH,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new W5(this.ya,this.Ga,this.xa,this.va,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(WU,t):gi.call(null,WU,t))?new W5(e,this.Ga,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(EL,t):gi.call(null,EL,t))?new W5(this.ya,e,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(rH,t):gi.call(null,rH,t))?new W5(this.ya,this.Ga,e,this.va,this.o,this.h,null):zn(gi.a?gi.a(Yb,t):gi.call(null,Yb,t))?new W5(this.ya,this.Ga,this.xa,e,this.o,this.h,null):new W5(this.ya,this.Ga,this.xa,this.va,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,4,5,Kl,[new yu(WU,this.ya,null),new yu(EL,this.Ga,null),new yu(rH,this.xa,null),new yu(Yb,this.va,null)],null),this.h))},i.Y=function(n,t){return new W5(this.ya,this.Ga,this.xa,this.va,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=G5.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"type-tag":return this.ya;case"logical-block":return this.Ga;case"relative-to":return this.nc;case"offset":return this.offset;case"start-pos":return this.xa;case"end-pos":return this.va;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.indent-t{",", ","}",e,Si.a(new Xl(null,6,5,Kl,[new Xl(null,2,5,Kl,[WU,this.ya],null),new Xl(null,2,5,Kl,[EL,this.Ga],null),new Xl(null,2,5,Kl,[qj,this.nc],null),new Xl(null,2,5,Kl,[Bm,this.offset],null),new Xl(null,2,5,Kl,[rH,this.xa],null),new Xl(null,2,5,Kl,[Yb,this.va],null)],null),this.h))},i.Ca=function(){return new gu(this,6,new Xl(null,6,5,Kl,[WU,EL,qj,Bm,rH,Yb],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new G5(this.ya,this.Ga,this.nc,this.offset,this.xa,this.va,this.o,this.h,this.G)},i.na=function(){return 6+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1602780238^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.ya,t.ya)&&Ne.a(this.Ga,t.Ga)&&Ne.a(this.nc,t.nc)&&Ne.a(this.offset,t.offset)&&Ne.a(this.xa,t.xa)&&Ne.a(this.va,t.va)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,6,[Bm,null,Yb,null,qj,null,EL,null,WU,null,rH,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new G5(this.ya,this.Ga,this.nc,this.offset,this.xa,this.va,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(WU,t):gi.call(null,WU,t))?new G5(e,this.Ga,this.nc,this.offset,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(EL,t):gi.call(null,EL,t))?new G5(this.ya,e,this.nc,this.offset,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(qj,t):gi.call(null,qj,t))?new G5(this.ya,this.Ga,e,this.offset,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(Bm,t):gi.call(null,Bm,t))?new G5(this.ya,this.Ga,this.nc,e,this.xa,this.va,this.o,this.h,null):zn(gi.a?gi.a(rH,t):gi.call(null,rH,t))?new G5(this.ya,this.Ga,this.nc,this.offset,e,this.va,this.o,this.h,null):zn(gi.a?gi.a(Yb,t):gi.call(null,Yb,t))?new G5(this.ya,this.Ga,this.nc,this.offset,this.xa,e,this.o,this.h,null):new G5(this.ya,this.Ga,this.nc,this.offset,this.xa,this.va,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,6,5,Kl,[new yu(WU,this.ya,null),new yu(EL,this.Ga,null),new yu(qj,this.nc,null),new yu(Bm,this.offset,null),new yu(rH,this.xa,null),new yu(Yb,this.va,null)],null),this.h))},i.Y=function(n,t){return new G5(this.ya,this.Ga,this.nc,this.offset,this.xa,this.va,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},void 0===jn||void 0===E5||void 0===Y5)var Y5=function(){var n=cl(ju),t=cl(ju),e=cl(ju),r=cl(ju),i=gr.j(ju,kI,po.L?po.L():po.call(null));return new xo(Ee.a("cljs.pprint","write-token"),(function(n,t){return WU.g(t)}),i,n,t,e,r)}();function V5(n,t,e){t=De(t);for(var r=null,i=0,l=0;;)if(l<i){var u=r.Aa(null,l);if(!Ne.a(WU.g(u),tH)){var a=dF.g(St(St(n)));zn(a)&&Gt(qR.g(St(St(n))),a)}Y5.a?Y5.a(n,u):Y5.call(null,n,u),hl.aa(St(n),mr,dF,dF.g(u)),u=dF.g(St(St(n))),zn(zn(e)?u:e)&&(Gt(qR.g(St(St(n))),u),hl.aa(St(n),mr,dF,null)),l+=1}else{if(!(t=De(t)))break;Dr(t)?(r=le(t),t=ue(t),u=r,i=hr(r),r=u):(u=Me(t),Ne.a(WU.g(u),tH)||zn(r=dF.g(St(St(n))))&&Gt(qR.g(St(St(n))),r),Y5.a?Y5.a(n,u):Y5.call(null,n,u),hl.aa(St(n),mr,dF,dF.g(u)),u=dF.g(St(St(n))),zn(zn(e)?u:e)&&(Gt(qR.g(St(St(n))),u),hl.aa(St(n),mr,dF,null)),t=Te(t),r=null,i=0),l=0}}function J5(n,t){var e,r=P5(qR.g(St(St(n))),aF);return(e=null==r)||(e=(n=P5(qR.g(St(St(n))),Ov))+(t=(t=De(t))?Yb.g(sr(t))-rH.g(Me(t)):0)<r),e}function X5(n,t,e){return zn(t=St(Sk.g(t)))?t:!J5(n,e)}function K5(n,t,e){var r=Kh.g(St(St(n))),i=P5(qR.g(St(St(n))),aF);return zn(r)?zn(i)?St(lA.g(t))>=i-r&&X5(n,t,e):i:r}if(Y5.Jb(null,xH,(function(n,t){var e=PR.g(St(St(n)));return zn(e)&&(e.g?e.g(kx):e.call(null,kx)),t=EL.g(t),zn(e=VA.g(t))&&Gt(qR.g(St(St(n))),e),n=P5(qR.g(St(St(n))),Ov),fl(lA.g(t),n),fl(fh.g(t),n)})),Y5.Jb(null,VH,(function(n,t){var e=PR.g(St(St(n)));return zn(e)&&(e.g?e.g(TR):e.call(null,TR)),zn(t=$c.g(EL.g(t)))?Gt(qR.g(St(St(n))),t):null})),Y5.Jb(null,h$,(function(n,t){var e=EL.g(t),r=fh.g(e),i=Bm.g(t);if(t=qj.g(t),zn(Ne.a?Ne.a(Tf,t):Ne.call(null,Tf,t)))n=St(lA.g(e));else{if(!zn(Ne.a?Ne.a(_T,t):Ne.call(null,_T,t)))throw Error(["No matching clause: ",ii.g(t)].join(""));n=P5(qR.g(St(St(n))),Ov)}return fl(r,i+n)})),Y5.Jb(null,TD,(function(n,t){return Gt(qR.g(St(St(n))),UW.g(t))})),Y5.Jb(null,tH,(function(n,t){var e=(e=Ne.a(ak.g(t),Xo))?e:!Ne.a(ak.g(t),Iy)&&St(Sk.g(EL.g(t)));return zn(e)?Q5.a?Q5.a(n,t):Q5.call(null,n,t):zn(t=dF.g(St(St(n))))&&Gt(qR.g(St(St(n))),t),hl.aa(St(n),mr,dF,null)})),void 0===jn||void 0===E5||void 0===Z5)var Z5=function(){var n=cl(ju),t=cl(ju),e=cl(ju),r=cl(ju),i=gr.j(ju,kI,po.L?po.L():po.call(null));return new xo(Ee.a("cljs.pprint","emit-nl?"),(function(n){return ak.g(n)}),i,n,t,e,r)}();function Q5(n,t){Gt(qR.g(St(St(n))),"\n"),hl.aa(St(n),mr,dF,null),t=EL.g(t);var e=HT.g(t);zn(e)&&Gt(qR.g(St(St(n))),e),e=Pi.a(ii,_l(St(fh.g(t))-hr(e)," ")),Gt(qR.g(St(St(n))),e);n:for(fl(CI.g(t),!0),fl(Sk.g(t),!0),n=Cg.g(t);zn(n);)fl(Sk.g(n),!0),fl(CI.g(n),!0),n=Cg.g(n);return null}Z5.Jb(null,B$,(function(n,t,e){return X5(t,n=EL.g(n),e)})),Z5.Jb(null,qg,(function(n,t,e){return K5(t,n=EL.g(n),e)})),Z5.Jb(null,Iy,(function(n,t,e,r){n=EL.g(n);var i=St(CI.g(n));return zn(i)?i:(r=!J5(t,r))?r:K5(t,n,e)})),Z5.Jb(null,Xo,(function(){return!0}));var n3=function n(t,e){var r,i=pr(e=function(n){var t=De(Ma((function(n){return!Ne.a(WU.g(n),tH)}),n));return new Xl(null,2,5,Kl,[t,De(ml(hr(t),n))],null)}(e),0),l=pr(e,1);if(zn(i)&&V5(t,i,!1),zn(l)){var u=pr(e=function(n){var t=Me(n),e=EL.g(t);return t=De(Ma((function(n){return!(Ne.a(WU.g(n),tH)&&L5(EL.g(n),e))}),Te(n))),new Xl(null,2,5,Kl,[t,De(ml(hr(t)+1,n))],null)}(l),0),a=pr(e,1),o=Me(l);return r=function(n){var t=Me(n),e=EL.g(t);return De(Ma((function(n){var t=EL.g(n);return!(Ne.a(WU.g(n),tH)&&(Ne.a(t,e)||L5(t,e)))}),Te(n)))}(l),zn(e=Z5.aa?Z5.aa(o,t,u,r):Z5.call(null,o,t,u,r))?(Q5(t,o),e=Te(l)):e=l,J5(t,e)?e:function(){var e=n.a?n.a(t,u):n.call(null,t,u);return Ne.a(e,u)?(V5(t,u,!1),a):Dl.a(Zl,Si.a(e,a))}()}return null};function t3(n){for(var t=eH.g(St(St(n)));;){if(hl.aa(St(n),mr,eH,Dl.a(Zl,t)),J5(n,t))return null;var e=n3(n,t);if(t===e)return null;t=e}}function e3(n,t){return hl.aa(St(n),mr,eH,cr.a(eH.g(St(St(n))),t)),J5(n,eH.g(St(St(n))))?null:t3(n)}function r3(n){var t=dF.g(St(St(n)));return zn(t)?(Gt(qR.g(St(St(n))),t),hl.aa(St(n),mr,dF,null)):null}function i3(n,t){var e=xG(t,"\n",-1);if(Ne.a(hr(e),1))return t;t=HT.g(Me(ms.g(St(St(n)))));var r=Me(e);if(Ne.a(KD,vx.g(St(St(n))))){var i=C_.g(St(St(n))),l=i+hr(r);hl.aa(St(n),mr,C_,l),e3(n,new U5(TD,r,null,i,l,null,null,null)),t3(n),zn(r=eH.g(St(St(n))))&&(V5(n,r,!0),hl.aa(St(n),mr,eH,Zl))}else r3(n),Gt(qR.g(St(St(n))),r);Gt(qR.g(St(St(n))),"\n"),r=De(Te(Aa(e))),i=null;for(var u=l=0;;)if(u<l){var a=i.Aa(null,u);Gt(qR.g(St(St(n))),a),Gt(qR.g(St(St(n))),"\n"),zn(t)&&Gt(qR.g(St(St(n))),t),u+=1}else{if(!(r=De(r)))break;Dr(i=r)?(r=le(i),u=ue(i),i=r,l=hr(r),r=u):(r=Me(i),Gt(qR.g(St(St(n))),r),Gt(qR.g(St(St(n))),"\n"),zn(t)&&Gt(qR.g(St(St(n))),t),r=Te(i),i=null,l=0),u=0}return hl.aa(St(n),mr,KD,Y_),sr(e)}function l3(n){var t=c3,e=f3,r=new I5(null,null,cl(0),cl(0),cl(!1),cl(!1),null,null,null,null,null,null,null),i=cl(Vu([ms,Kh,pp,Og,Ng,vx,C_,dF,qR,SI,eH],[r,e,r,!0,null,Y_,0,null,R5(n,t),1,Zl]));return void 0!==jn&&void 0!==E5&&void 0!==_5||((_5=function(n,t,e,r,i,l){this.Ib=n,this.Cg=t,this.Pj=e,this.xi=r,this.fields=i,this.Kj=l,this.B=1074167808,this.U=0}).prototype.Y=function(n,t){return new _5(this.Ib,this.Cg,this.Pj,this.xi,this.fields,t)},_5.prototype.X=function(){return this.Kj},_5.prototype.wc=function(){return this.fields},_5.prototype.nd=function(n,t){if(n=qn(t),zn(Ne.a?Ne.a(String,n):Ne.call(null,String,n))){var e=i3(this,t);t=e.replace(/\s+$/,""),n=e.substring(t.length);var r=vx.g(St(St(this)));return Ne.a(r,Y_)?(r3(this),Gt(qR.g(St(St(this))),t),hl.aa(St(this),mr,dF,n)):(e=(r=C_.g(St(St(this))))+hr(e),hl.aa(St(this),mr,C_,e),e3(this,new U5(TD,t,n,r,e,null,null,null)))}if(zn(Ne.a?Ne.a(Number,n):Ne.call(null,Number,n)))return Ne.a(vx.g(St(St(this))),Y_)?(r3(this),t=Gt(qR.g(St(St(this))),t)):Ne.a(t,"\n")?t=i3(this,"\n"):(e=(n=C_.g(St(St(this))))+1,hl.aa(St(this),mr,C_,e),t=Zr(t),t=e3(this,new U5(TD,t,null,n,e,null,null,null))),t;throw Error(["No matching clause: ",ii.g(n)].join(""))},_5.prototype.Tc=function(){return this.ig(null),Yt(qR.g(St(St(this))))},_5.prototype.ig=function(){return Ne.a(vx.g(St(St(this))),KD)?(V5(this,eH.g(St(St(this))),!0),hl.aa(St(this),mr,eH,Zl)):r3(this)},_5.wa=function(){return new Xl(null,6,5,Kl,[uL,Ep,Cb,CR,BS,KI],null)},_5.ta=!0,_5.sa="cljs.pprint/t_cljs$pprint27281",_5.ua=function(n){return Gt(n,"cljs.pprint/t_cljs$pprint27281")}),new _5(n,t,e,r,i,ju)}function u3(n,t){var e=En;if(t=new I5(ms.g(St(St(e))),null,cl(0),cl(0),cl(!1),cl(!1),n,null,t,null,null,null,null),hl.aa(St(e),mr,ms,t),Ne.a(vx.g(St(St(e))),Y_)){r3(e);var r=PR.g(St(St(e)));zn(r)&&(r.g?r.g(kx):r.call(null,kx)),zn(n)&&Gt(qR.g(St(St(e))),n),e=P5(qR.g(St(St(e))),Ov),fl(t.Xb,e),fl(t.Wb,e)}else n=(r=C_.g(St(St(e))))+(zn(n)?hr(n):0),hl.aa(St(e),mr,C_,n),e3(e,new H5(xH,t,r,n,null,null,null))}function a3(){var n=En,t=ms.g(St(St(n))),e=$c.g(t);if(Ne.a(vx.g(St(St(n))),Y_)){r3(n),zn(e)&&Gt(qR.g(St(St(n))),e);var r=PR.g(St(St(n)));zn(r)&&(r.g?r.g(TR):r.call(null,TR))}else e=(r=C_.g(St(St(n))))+(zn(e)?hr(e):0),hl.aa(St(n),mr,C_,e),e3(n,new W5(VH,t,r,e,null,null,null));hl.aa(St(n),mr,ms,Cg.g(t))}var o3=!0;if(void 0===jn||void 0===E5||void 0===s3)var s3=null;var c3=72,f3=40,h3=null,d3=null,p3=null,g3=null,m3=10,v3=0,w3=null;function y3(n){return!!(null!=n?32768&n.B||An===n.Qd||!n.B&&Un(Et,n):Un(Et,n))&&Og.g(St(St(n)))}function b3(n){var t=w3;return zn(t)&&(t=zn(t=Fn)?w3>=Fn:t),In(o3)?C5.g?C5.g(n):C5.call(null,n):zn(t)?Gt(En,"..."):(zn(w3)&&(w3+=1),s3.g?s3.g(n):s3.call(null,n)),t}var x3=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],1<e.length?new lr(e.slice(1),0,null):null)};function _3(n,t){if(In(t.g?t.g(n):t.call(null,n)))throw Error(["Bad argument: ",ii.g(n),". It must be one of ",ii.g(t)].join(""))}function k3(){var n=Tn;return zn(n)?v3>=Tn:n}function j3(n){_3(n,new ba(null,new ku(null,4,[Xo,null,qg,null,Iy,null,B$,null],null),null));var t=En;hl.aa(St(t),mr,vx,KD);var e=C_.g(St(St(t))),r=ms.g(St(St(t)));e3(t,new q5(tH,n,r,e,e,null,null,null))}function O3(n,t){_3(n,new ba(null,new ku(null,2,[Tf,null,_T,null],null),null));var e=En,r=ms.g(St(St(e)));if(Ne.a(vx.g(St(St(e))),Y_)){r3(e);var i=fh.g(r);if(zn(Ne.a?Ne.a(Tf,n):Ne.call(null,Tf,n)))n=St(lA.g(r));else{if(!zn(Ne.a?Ne.a(_T,n):Ne.call(null,_T,n)))throw Error(["No matching clause: ",ii.g(n)].join(""));n=P5(qR.g(St(St(e))),Ov)}fl(i,t+n)}else i=C_.g(St(St(e))),e3(e,new G5(h$,r,n,t,i,i,null,null,null))}x3.l=function(n,t){var e=ma.l(ur([new ku(null,1,[HE,!0],null),Pi.a(sa,t)]));t=m3;var r=d3,i=Fn,l=Tn,u=h3,a=f3,o=s3,s=o3,c=g3,f=Mn,h=c3,d=p3,p=qR.a(e,m3),g=Qb.a(e,d3),m=UN.a(e,Fn),v=JE.a(e,Tn),w=Px.a(e,h3),y=Kh.a(e,f3),b=DS.a(e,s3),x=kR.a(e,o3),_=fA.a(e,g3),k=fS.a(e,Mn),j=hm.a(e,c3),O=Bk.a(e,p3);m3=p,d3=g,Fn=m,Tn=v,h3=w,f3=y,s3=b,o3=x,g3=_,Mn=k,c3=j,p3=O;try{var A=new cn,E=!$r(e,HE)||HE.g(e),S=!0===E||null==E?new pe(A):E;if(zn(o3)){var C=In(y3(S));e=En,En=C?l3(S):S;try{b3(n),z5()}finally{En=e}}else{C=En,En=S;try{C5.g?C5.g(n):C5.call(null,n)}finally{En=C}}return!0===E&&Ha(ii.g(A)),null==E?ii.g(A):null}finally{p3=d,c3=h,Mn=f,g3=c,o3=s,s3=o,f3=a,h3=u,Tn=l,Fn=i,d3=r,m3=t}},x3.R=1,x3.S=function(n){var t=Me(n);return n=Te(n),this.l(t,n)};var A3=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],2<e.length?new lr(e.slice(2),0,null):null)};A3.l=function(n,t,e){t="string"==typeof t?$6(t):t,e=D3(e);n:{var r=new cn,i=In(n)||!0===n?new pe(r):n,l=R6(t)&&In(y3(i))?zn(y3(i))?i:l3(i):i,u=En;En=l;try{try{I6(t,e)}finally{i!==l&&Yt(l)}var a=In(n)?ii.g(r):!0===n?Ha(ii.g(r)):null;break n}finally{En=u}a=void 0}return a},A3.R=2,A3.S=function(n){var t=Me(n),e=Te(n);return n=Me(e),e=Te(e),this.l(t,n,e)};var E3=null;function S3(n,t){throw n=[ii.g(n),"\n",ii.g(E3),"\n",ii.g(Pi.a(ii,_l(t," "))),"^\n"].join(""),Error(n)}function C3(n,t,e,r,i,l){this.Pc=n,this.Qb=t,this.Oc=e,this.o=r,this.h=i,this.G=l,this.B=2230716170,this.U=139264}function D3(n){return new C3(n=De(n),n,0,null,null,null)}function M3(n){var t=jq.g(n);if(zn(t))return new Xl(null,2,5,Kl,[Me(t),new C3(q$.g(n),Te(t),C_.g(n)+1,null,null,null)],null);throw Error("Not enough arguments for format definition")}function F3(n){var t=M3(n);return n=pr(t,0),t=pr(t,1),n="string"==typeof n?$6(n):n,new Xl(null,2,5,Kl,[n,t],null)}function T3(n,t){return t>=C_.g(n)?(t=C_.g(n)-t,N3.a?N3.a(n,t):N3.call(null,n,t)):new C3(q$.g(n),ml(t,q$.g(n)),t,null,null,null)}function N3(n,t){var e=C_.g(n)+t;return 0>t?T3(n,e):new C3(q$.g(n),ml(t,jq.g(n)),e,null,null,null)}function B3(n,t,e,r,i,l,u){this.Bc=n,this.yc=t,this.params=e,this.offset=r,this.o=i,this.h=l,this.G=u,this.B=2230716170,this.U=139264}function z3(n,t){var e=pr(n,0);n=pr(n,1);var r=pr(n,0);return n=pr(n,1),t=pr(r=$r(new ba(null,new ku(null,2,[cE,null,jT,null],null),null),e)?new Xl(null,2,5,Kl,[r,t],null):Ne.a(r,Ak)?M3(t):Ne.a(r,Dy)?new Xl(null,2,5,Kl,[hr(jq.g(t)),t],null):new Xl(null,2,5,Kl,[r,t],null),0),r=pr(r,1),new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[e,new Xl(null,2,5,Kl,[t,n],null)],null),r],null)}function P3(n,t){return n=pr(t=F5(z3,t,n),0),t=pr(t,1),new Xl(null,2,5,Kl,[Dl.a(ju,n),t],null)}(i=C3.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"seq":return this.Pc;case"rest":return this.Qb;case"pos":return this.Oc;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.arg-navigator{",", ","}",e,Si.a(new Xl(null,3,5,Kl,[new Xl(null,2,5,Kl,[q$,this.Pc],null),new Xl(null,2,5,Kl,[jq,this.Qb],null),new Xl(null,2,5,Kl,[C_,this.Oc],null)],null),this.h))},i.Ca=function(){return new gu(this,3,new Xl(null,3,5,Kl,[q$,jq,C_],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new C3(this.Pc,this.Qb,this.Oc,this.o,this.h,this.G)},i.na=function(){return 3+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-402038447^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.Pc,t.Pc)&&Ne.a(this.Qb,t.Qb)&&Ne.a(this.Oc,t.Oc)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,3,[C_,null,q$,null,jq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new C3(this.Pc,this.Qb,this.Oc,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(q$,t):gi.call(null,q$,t))?new C3(e,this.Qb,this.Oc,this.o,this.h,null):zn(gi.a?gi.a(jq,t):gi.call(null,jq,t))?new C3(this.Pc,e,this.Oc,this.o,this.h,null):zn(gi.a?gi.a(C_,t):gi.call(null,C_,t))?new C3(this.Pc,this.Qb,e,this.o,this.h,null):new C3(this.Pc,this.Qb,this.Oc,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,3,5,Kl,[new yu(q$,this.Pc,null),new yu(jq,this.Qb,null),new yu(C_,this.Oc,null)],null),this.h))},i.Y=function(n,t){return new C3(this.Pc,this.Qb,this.Oc,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=B3.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"func":return this.Bc;case"def":return this.yc;case"params":return this.params;case"offset":return this.offset;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#cljs.pprint.compiled-directive{",", ","}",e,Si.a(new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[vw,this.Bc],null),new Xl(null,2,5,Kl,[AP,this.yc],null),new Xl(null,2,5,Kl,[Zx,this.params],null),new Xl(null,2,5,Kl,[Bm,this.offset],null)],null),this.h))},i.Ca=function(){return new gu(this,4,new Xl(null,4,5,Kl,[vw,AP,Zx,Bm],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new B3(this.Bc,this.yc,this.params,this.offset,this.o,this.h,this.G)},i.na=function(){return 4+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-829256337^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.Bc,t.Bc)&&Ne.a(this.yc,t.yc)&&Ne.a(this.params,t.params)&&Ne.a(this.offset,t.offset)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,4,[Bm,null,vw,null,Zx,null,AP,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new B3(this.Bc,this.yc,this.params,this.offset,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(vw,t):gi.call(null,vw,t))?new B3(e,this.yc,this.params,this.offset,this.o,this.h,null):zn(gi.a?gi.a(AP,t):gi.call(null,AP,t))?new B3(this.Bc,e,this.params,this.offset,this.o,this.h,null):zn(gi.a?gi.a(Zx,t):gi.call(null,Zx,t))?new B3(this.Bc,this.yc,e,this.offset,this.o,this.h,null):zn(gi.a?gi.a(Bm,t):gi.call(null,Bm,t))?new B3(this.Bc,this.yc,this.params,e,this.o,this.h,null):new B3(this.Bc,this.yc,this.params,this.offset,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,4,5,Kl,[new yu(vw,this.Bc,null),new yu(AP,this.yc,null),new yu(Zx,this.params,null),new yu(Bm,this.offset,null)],null),this.h))},i.Y=function(n,t){return new B3(this.Bc,this.yc,this.params,this.offset,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)};var $3=new ku(null,3,[2,"#b",8,"#o",16,"#x"],null);function R3(n,t,e){var r=pr(e=M3(e),0);e=pr(e,1);var i=function(n){return Pr(n)?Ne.a(m3,10)?[ii.g(n),zn(g3)?".":null].join(""):[ii.g(zn(g3)?(t=gr.a($3,m3),zn(t)?t:["#",ii.g(m3),"r"].join("")):null),ii.g(L3(m3,n))].join(""):null;var t}(r);return i=(i=(r=(n=zn(i)?i:n.g?n.g(r):n.call(null,r)).length)+mT.g(t))>=iT.g(t)?i:i+(Qr(iT.g(t)-i-1,rz.g(t))+1)*rz.g(t),r=Pi.a(ii,_l(i-r,_D.g(t))),zn(jT.g(t))?S5.l(ur([[ii.g(r),ii.g(n)].join("")])):S5.l(ur([[ii.g(n),ii.g(r)].join("")])),e}function I3(n,t){return ci(Me(T5((function(t){return new Xl(null,2,5,Kl,0<t?[ni(t,n),Qr(t,n)]:[null,null],null)}),t)))}function L3(n,t){return 0===t?"0":Pi.a(ii,pl.a((function(n){return Zr(10>n?M5("0")+n:M5("a")+(n-10))}),I3(n,t)))}function U3(n,t,e){var r,i,l=pr(e=M3(e),0);if(e=pr(e,1),Pr(l)||"number"==typeof l&&!isNaN(l)&&1/0!==l&&parseFloat(l)!==parseInt(l,10)&&Ne.a(l,Math.floor(l))){var u=0>l,a=L3(n,u?-l:l);n=zn(cE.g(t))?(r=pl.a((function(n){return Pi.a(ii,n)}),function(n,t){return ci(Me(T5((function(t){return new Xl(null,2,5,Kl,[De(ci(gl(n,t))),De(ml(n,t))],null)}),ci(t))))}(ng.g(t),a)),i=_l(hr(r),tG.g(t)),Pi.a(ii,Te(kl.a(i,r)))):a,n=(n=u?["-",ii.g(n)].join(""):zn(jT.g(t))?["+",ii.g(n)].join(""):n).length<iT.g(t)?[ii.g(Pi.a(ii,_l(iT.g(t)-n.length,_D.g(t)))),ii.g(n)].join(""):n,S5.l(ur([n]))}else R3(Xa,new ku(null,5,[iT,iT.g(t),rz,1,mT,0,_D,_D.g(t),jT,!0],null),D3(new Xl(null,1,5,Kl,[l],null)));return e}var q3=new Xl(null,20,5,Kl,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),H3=new Xl(null,20,5,Kl,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),W3=new Xl(null,10,5,Kl,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),G3=new Xl(null,10,5,Kl,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),null),Y3=new Xl(null,22,5,Kl," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);function V3(n){var t,e,r=Qr(n,100),i=ni(n,100);return[0<r?[ii.g(dr(q3,r))," hundred"].join(""):null,0<r&&0<i?" ":null,ii.g(0<i?20>i?dr(q3,i):(t=Qr(i,10),e=ni(i,10),[ii.g(0<t?dr(W3,t):null),0<t&&0<e?"-":null,ii.g(0<e?dr(q3,e):null)].join("")):null)].join("")}function J3(n,t){var e=hr(n),r=Zl;--e;var i=Me(n);for(n=Te(n);;){if(null==n)return[ii.g(Pi.a(ii,jl(", ",r))),kr(i)||kr(r)?null:", ",ii.g(i),!kr(i)&&0<e+t?[" ",ii.g(dr(Y3,e+t))].join(""):null].join("");r=kr(i)?r:cr.a(r,[ii.g(i)," ",ii.g(dr(Y3,e+t))].join("")),--e,i=Me(n),n=Te(n)}}var X3=new Xl(null,4,5,Kl,[new Xl(null,9,5,Kl,"I II III IIII V VI VII VIII VIIII".split(" "),null),new Xl(null,9,5,Kl,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new Xl(null,9,5,Kl,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new Xl(null,3,5,Kl,["M","MM","MMM"],null)],null),K3=new Xl(null,4,5,Kl,[new Xl(null,9,5,Kl,"I II III IV V VI VII VIII IX".split(" "),null),new Xl(null,9,5,Kl,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new Xl(null,9,5,Kl,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new Xl(null,3,5,Kl,["M","MM","MMM"],null)],null);function Z3(n,t){var e=pr(t=M3(t),0);if(t=pr(t,1),"number"==typeof e&&0<e&&4e3>e){var r=I3(10,e);e=Zl;for(var i=hr(r)-1;;){if(kr(r)){S5.l(ur([Pi.a(ii,e)]));break}var l=Me(r);e=Ne.a(0,l)?e:cr.a(e,dr(dr(n,i),l-1)),--i,r=Te(r)}}else U3(10,new ku(null,5,[iT,0,_D," ",tG,",",ng,3,cE,!0],null),D3(new Xl(null,1,5,Kl,[e],null)));return t}var Q3=new ku(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);function n6(n,t){t=pr(n=M3(t),0),n=pr(n,1);var e=M5(t);t=127&e,e&=128;var r=gr.a(Q3,t);return 0<e&&S5.l(ur(["Meta-"])),S5.l(ur([zn(r)?r:32>t?["Control-",ii.g(Zr(t+64))].join(""):Ne.a(t,127)?"Control-?":Zr(t)])),n}function t6(n,t){var e=M3(t);if(t=pr(e,0),e=pr(e,1),n=rA.g(n),zn(Ne.a?Ne.a("o",n):Ne.call(null,"o",n)))A3.l(!0,"\\o~3, '0o",ur([M5(t)]));else if(zn(Ne.a?Ne.a("u",n):Ne.call(null,"u",n)))A3.l(!0,"\\u~4, '0x",ur([M5(t)]));else{if(!zn(Ne.a?Ne.a(null,n):Ne.call(null,null,n)))throw Error(["No matching clause: ",ii.g(n)].join(""));Gt(En,zn(Ne.a?Ne.a("\b",t):Ne.call(null,"\b",t))?"\\backspace":zn(Ne.a?Ne.a(" ",t):Ne.call(null," ",t))?"\\space":zn(Ne.a?Ne.a("\t",t):Ne.call(null,"\t",t))?"\\tab":zn(Ne.a?Ne.a("\n",t):Ne.call(null,"\n",t))?"\\newline":zn(Ne.a?Ne.a("\f",t):Ne.call(null,"\f",t))?"\\formfeed":zn(Ne.a?Ne.a("\r",t):Ne.call(null,"\r",t))?"\\return":zn(Ne.a?Ne.a('"',t):Ne.call(null,'"',t))?'\\"':zn(Ne.a?Ne.a("\\",t):Ne.call(null,"\\",t))?"\\\\":["\\",ii.g(t)].join(""))}return e}function e6(n,t){return n=pr(t=M3(t),0),t=pr(t,1),S5.l(ur([n])),t}function r6(n){return n=Me(n),Ne.a(FU,n)||Ne.a(yA,n)}function i6(n,t,e){return or(F5((function(n,t){if(r6(t))return new Xl(null,2,5,Kl,[null,t],null);var r=pr(t=P3(Zx.g(n),t),0);t=pr(t,1);var i=N5(r);return r=pr(i,0),i=pr(i,1),r=mr.j(r,xR,e),new Xl(null,2,5,Kl,[null,Pi.a(vw.g(n),new Xl(null,3,5,Kl,[r,t,i],null))],null)}),t,n))}function l6(n){var t=(n=ii.g(n).toLowerCase()).indexOf("e"),e=n.indexOf(".");t=pr(n=new Xl(null,2,5,Kl,0>t?0>e?[n,ii.g(n.length-1)]:[[n.substring(0,e),n.substring(e+1)].join(""),ii.g(e-1)]:0>e?[n.substring(0,t),n.substring(t+1)]:[[n.substring(0,1),n.substring(2,t)].join(""),n.substring(t+1)],null),0),n=pr(n,1);n:if(e=hr(t),0<e&&Ne.a(dr(t,hr(t)-1),"0"))for(--e;;){if(0>e){t="";break n}if(!Ne.a(dr(t,e),"0")){t=t.substring(0,e+1);break n}--e}n:{var r=hr(e=t);if(0<r&&Ne.a(dr(e,0),"0"))for(var i=0;;){if(Ne.a(i,r)||!Ne.a(dr(e,i),"0")){e=e.substring(i);break n}i+=1}}return t=hr(t)-hr(e),n=0<hr(n)&&Ne.a(dr(n,0),"+")?n.substring(1):n,kr(e)?new Xl(null,2,5,Kl,["0",0],null):new Xl(null,2,5,Kl,[e,parseInt(n,10)-t],null)}function u6(n,t,e,r){if(zn(zn(e)?e:r)){var i=hr(n);r=zn(r)?2>r?2:r:0,zn(e)?e=t+e+1:0<=t?e=(e=t+1)>--r?e:r:e=r+t;var l=Ne.a(e,0)?new Xl(null,4,5,Kl,[["0",ii.g(n)].join(""),t+1,1,i+1],null):new Xl(null,4,5,Kl,[n,t,e,i],null);if(e=pr(l,0),i=pr(l,1),r=pr(l,2),l=pr(l,3),zn(r)){if(0>r)return new Xl(null,3,5,Kl,["0",0,!1],null);if(l>r){if(t=dr(e,r),n=e.substring(0,r),M5(t)>=M5("5")){n:for(t=hr(n)-1,e=0|t;;){if(0>e){t=Pi.j(ii,"1",_l(t+1,"0"));break n}if(!Ne.a("9",n.charAt(e))){t=Pi.aa(ii,n.substring(0,e),Zr(M5(n.charAt(e))+1),_l(t-e,"0"));break n}--e}return n=hr(t)>n.length,e=Kl,n&&(r=hr(t)-1,t=t.substring(0,r)),new Xl(null,3,5,e,[t,i,n],null)}return new Xl(null,3,5,Kl,[n,i,!1],null)}}}return new Xl(null,3,5,Kl,[n,t,!1],null)}function a6(n,t,e){var r=new Xl(null,2,5,Kl,0>t?[[ii.g(Pi.a(ii,_l(-t-1,"0"))),ii.g(n)].join(""),-1]:[n,t],null);n=pr(r,0);var i=pr(r,1);return e=(r=hr(n))<(e=zn(e)?i+e+1:i+1)?[ii.g(n),ii.g(Pi.a(ii,_l(e-r,"0")))].join(""):n,0>t?t=[".",ii.g(e)].join(""):(t+=1,t=[e.substring(0,t),".",e.substring(t)].join("")),t}function o6(n,t){return 0>t?[".",ii.g(n)].join(""):[n.substring(0,t),".",n.substring(t)].join("")}function s6(n,t){var e=oy.g(n),r=Wz.g(n),i=pr(t=M3(t),0);t=pr(t,1);var l=new Xl(null,2,5,Kl,0>i?["-",-i]:["+",i],null),u=pr(l,0);l=pr(l,1);var a=pr(l=l6(l),0),o=pr(l,1)+FA.g(n);i=zn(l=jT.g(n))?l:0>i,l=In(r)&&hr(a)-1<=o;var s=u6(a,o,r,zn(e)?e-(zn(i)?1:0):null);return a=pr(s,0),o=pr(s,1),a=a6(a,zn(s=pr(s,2))?o+1:o,r),r=zn(zn(e)?zn(r)?1<=r&&Ne.a(a.charAt(0),"0")&&Ne.a(a.charAt(1),".")&&a.length>e-(zn(i)?1:0):r:e)?a.substring(1):a,o=Ne.a(Me(r),"."),zn(e)?(a=r.length,a=zn(i)?a+1:a,l=l&&!(a>=e),zn((a=(o=o&&!(a>=e))||l?a+1:a)>e&&uB.g(n))?S5.l(ur([Pi.a(ii,_l(e,uB.g(n)))])):S5.l(ur([[ii.g(Pi.a(ii,_l(e-a,_D.g(n)))),ii.g(zn(i)?u:null),o?"0":null,r,l?"0":null].join("")]))):S5.l(ur([[ii.g(zn(i)?u:null),o?"0":null,r,l?"0":null].join("")])),t}function c6(n,t){var e=pr(t=M3(t),0);t=pr(t,1);var r,i=l6(0>e?-e:e);for(pr(i,0),pr(i,1);;){var l=pr(i,0),u=pr(i,1),a=oy.g(n),o=Wz.g(n),s=$O.g(n),c=FA.g(n),f=(r=void 0,zn(r=AH.g(n))?r:"E");i=function(){var t=jT.g(n);return zn(t)?t:0>e}();var h=0>=c,d=u-(c-1),p=ii.g(Math.abs(d)),g=(f=[ii.g(f),0>d?"-":"+",ii.g(zn(s)?Pi.a(ii,_l(s-p.length,"0")):null),p].join("")).length;if(d=hr(l),l=[ii.g(Pi.a(ii,_l(-c,"0"))),ii.g(l),ii.g(zn(o)?Pi.a(ii,_l(o-(d-1)-(0>c?-c:0),"0")):null)].join(""),d=zn(a)?a-g:null,d=pr(l=u6(l,0,Ne.a(c,0)?o-1:0<c?o:0>c?o-1:null,zn(d)?d-(zn(i)?1:0):null),0),pr(l,1),p=pr(l,2),l=o6(d,c),o=Ne.a(c,hr(d))&&null==o,In(p)){if(zn(a)){u=l.length+g,u=zn(i)?u+1:u;var m=(h=h&&!Ne.a(u,a))?u+1:u;u=o&&m<a,zn(function(){var t=m>a;return t||(t=zn(t=s)?g-2>s:t),zn(t)?uB.g(n):t}())?S5.l(ur([Pi.a(ii,_l(a,uB.g(n)))])):S5.l(ur([[ii.g(Pi.a(ii,_l(a-m-(u?1:0),_D.g(n)))),zn(i)?0>e?"-":"+":null,h?"0":null,l,u?"0":null,f].join("")]))}else S5.l(ur([[zn(i)?0>e?"-":"+":null,h?"0":null,l,o?"0":null,f].join("")]));break}i=new Xl(null,2,5,Kl,[d,u+1],null)}return t}function f6(n,t,e){var r=M3(t),i=pr(r,0);pr(r,1);var l=pr(r=l6(0>i?-i:i),0);r=pr(r,1);var u=oy.g(n),a=Wz.g(n),o=$O.g(n);return r=Ne.a(i,0)?0:r+1,i=zn(o)?o+2:4,u=zn(u)?u-i:null,zn(a)?l=a:l=(l=hr(l))>(a=7>r?r:7)?l:a,0<=(r=l-r)&&r<=l?(n=s6(new ku(null,6,[oy,u,Wz,r,FA,0,uB,uB.g(n),_D,_D.g(n),jT,jT.g(n)],null),t),S5.l(ur([Pi.a(ii,_l(i," "))])),n):c6(n,t)}function h6(n,t){var e=pr(t=M3(t),0);t=pr(t,1);var r=l6(Math.abs(e)),i=pr(r,0),l=pr(r,1),u=Wz.g(n),a=ry.g(n);r=oy.g(n);var o,s=zn(o=jT.g(n))?o:0>e,c=u6(i,l,u,null);return i=pr(c,0),l=pr(c,1),u=a6(i,zn(c=pr(c,2))?l+1:l,u),a=[ii.g(Pi.a(ii,_l(a-u.indexOf("."),"0"))),u].join(""),u=a.length+(zn(s)?1:0),S5.l(ur([[zn(function(){var t=cE.g(n);return zn(t)?s:t}())?0>e?"-":"+":null,ii.g(Pi.a(ii,_l(r-u,_D.g(n)))),zn(!!In(cE.g(n))&&s)?0>e?"-":"+":null,a].join("")])),t}function d6(n,t){var e=Zc.g(n);t=pr(e=zn(e)?new Xl(null,2,5,Kl,[e,t],null):M3(t),0),e=pr(e,1);var r=i$.g(n);return zn(t=0>t||t>=hr(r)?Me(Ug.g(n)):dr(r,t))?i6(t,e,xR.g(n)):e}function p6(n,t){var e=M3(t);t=pr(e,0),e=pr(e,1);var r=i$.g(n);return t=zn(t)?or(r):Me(r),zn(t)?i6(t,e,xR.g(n)):e}function g6(n,t){var e=M3(t),r=pr(e,0);e=pr(e,1);var i=i$.g(n);return i=zn(r)?Me(i):null,zn(r)?zn(i)?i6(i,t,xR.g(n)):t:e}function m6(n,t){var e=__.g(n),r=Me(i$.g(n));t=pr(r=kr(r)?F3(t):new Xl(null,2,5,Kl,[r,t],null),0),r=pr(r,1);var i=pr(r=M3(r),0);r=pr(r,1);var l=0;i=D3(i);for(var u=-1;;){if(In(e)&&Ne.a(C_.g(i),u)&&1<l)throw Error("%{ construct not consuming any arguments: Infinite loop!");if(zn((u=kr(jq.g(i))&&(In(cE.g(wM.g(n)))||0<l))||(zn(e)?l>=e:e)))return r;if(u=i6(t,i,xR.g(n)),Ne.a(FU,Me(u)))return r;l+=1;var a=C_.g(i);i=u,u=a}}function v6(n,t){var e=__.g(n),r=Me(i$.g(n));t=pr(r=kr(r)?F3(t):new Xl(null,2,5,Kl,[r,t],null),0),r=pr(r,1);var i=pr(r=M3(r),0);r=pr(r,1);for(var l=0;;){var u=kr(i)&&(In(cE.g(wM.g(n)))||0<l);if(zn(u||(zn(e)?l>=e:e)))return r;if(u=i6(t,D3(Me(i)),D3(Te(i))),Ne.a(yA,Me(u)))return r;l+=1,i=Te(i)}}function w6(n,t){var e=__.g(n),r=Me(i$.g(n)),i=kr(r)?F3(t):new Xl(null,2,5,Kl,[r,t],null);t=pr(i,0),r=0,i=pr(i,1);for(var l=-1;;){if(In(e)&&Ne.a(C_.g(i),l)&&1<r)throw Error("%@{ construct not consuming any arguments: Infinite loop!");if(zn((l=kr(jq.g(i))&&(In(cE.g(wM.g(n)))||0<r))||(zn(e)?r>=e:e)))return i;if(l=i6(t,i,xR.g(n)),Ne.a(FU,Me(l)))return or(l);r+=1;var u=C_.g(i);i=l,l=u}}function y6(n,t){var e=__.g(n),r=Me(i$.g(n)),i=kr(r)?F3(t):new Xl(null,2,5,Kl,[r,t],null);for(t=pr(i,0),r=0,i=pr(i,1);;){var l=kr(jq.g(i))&&(In(cE.g(wM.g(n)))||0<r);if(zn(l||(zn(e)?r>=e:e)))return i;if(i=pr(l=zn(l=jq.g(i))?new Xl(null,2,5,Kl,[Me(l),new C3(q$.g(i),Te(l),C_.g(i)+1,null,null,null)],null):new Xl(null,2,5,Kl,[null,i],null),0),l=pr(l,1),i=i6(t,D3(i),l),Ne.a(yA,Me(i)))return l;i=l,r+=1}}function b6(n,t){if(zn(cE.g(wM.g(n)))){var e=i$.g(n),r=hr(e),i=1<r?aO.g(Zx.g(Me(Me(e)))):zn(cE.g(n))?"(":null,l=dr(e,1<r?1:0);if(e=2<r?aO.g(Zx.g(Me(dr(e,2)))):zn(cE.g(n))?")":null,t=pr(r=M3(t),0),r=pr(r,1),zn(k3()))Gt(En,"#");else{var u=v3,a=w3;v3+=1,w3=0;try{u3(i,e),i6(l,D3(t),xR.g(n)),a3()}finally{w3=a,v3=u}}n=r}else n=function(n,t){var e=(i=Ug.g(n),zn(i)?x6(i,t,xR.g(n)):null),r=pr(e,0);var i;r=pr(r,0);var l=zn(e=pr(e,1))?e:t,u=pr(e=function(){var t=yf.g(n);return zn(t)?P3(t,l):null}(),0),a=zn(e=pr(e,1))?e:l;e=function(){var n=Me(mq.g(u));return zn(n)?n:0}();var o=function(){var n=Me(gH.g(u));return zn(n)?n:P5(En,aF)}(),s=i$.g(n),c=pr(a=x6(s,a,xR.g(n)),0);a=pr(a,1);var f=function(){var t=hr(c)-1+(zn(cE.g(n))?1:0)+(zn(jT.g(n))?1:0);return 1>t?1:t}();s=qr(Jr,pl.a(hr,c));var h=iT.g(n),d=mT.g(n),p=rz.g(n),g=s+f*d,m=(h=g<=h?h:h+p*(1+Qr(g-h-1,p)))-s;s=function(){var n=Qr(m,f);return d>n?d:n}(),p=m-s*f,s=Pi.a(ii,_l(s,_D.g(n))),zn(zn(r)?P5(qR.g(St(St(En))),Ov)+e+h>o:r)&&S5.l(ur([r])),e=p;for(var v=c,w=function(){var t=cE.g(n);return zn(t)?t:Ne.a(hr(v),1)&&In(jT.g(n))}();De(v);)S5.l(ur([[ii.g(In(w)?Me(v):null),ii.g(zn(function(){var t=w;return zn(t)||(t=Te(v))?t:jT.g(n)}())?s:null),ii.g(0<e?_D.g(n):null)].join("")])),--e,v=r=zn(w)?v:Te(v),w=!1;return a}(n,t);return n}function x6(n,t,e){for(var r=Zl;;){if(kr(n))return new Xl(null,2,5,Kl,[r,t],null);var i=Me(n);n:{var l=new cn,u=En;En=new pe(l);try{var a=new Xl(null,2,5,Kl,[i6(i,t,e),ii.g(l)],null);break n}finally{En=u}a=void 0}if(t=pr(a,0),i=pr(a,1),Ne.a(FU,Me(t)))return new Xl(null,2,5,Kl,[r,or(t)],null);n=Te(n),r=cr.a(r,i)}}function _6(n){return void 0!==jn&&void 0!==E5&&void 0!==k5||((k5=function(n,t){this.Ib=n,this.Lj=t,this.B=1074135040,this.U=0}).prototype.Y=function(n,t){return new k5(this.Ib,t)},k5.prototype.X=function(){return this.Lj},k5.prototype.Tc=function(){return Yt(this.Ib)},k5.prototype.nd=function(n,t){if(n=qn(t),zn(Ne.a?Ne.a(String,n):Ne.call(null,String,n)))return Gt(this.Ib,t.toLowerCase());if(zn(Ne.a?Ne.a(Number,n):Ne.call(null,Number,n)))return Gt(this.Ib,Zr(t).toLowerCase());throw Error(["No matching clause: ",ii.g(n)].join(""))},k5.wa=function(){return new Xl(null,2,5,Kl,[uL,PU],null)},k5.ta=!0,k5.sa="cljs.pprint/t_cljs$pprint27668",k5.ua=function(n){return Gt(n,"cljs.pprint/t_cljs$pprint27668")}),new k5(n,ju)}function k6(n){return void 0!==jn&&void 0!==E5&&void 0!==j5||((j5=function(n,t){this.Ib=n,this.Mj=t,this.B=1074135040,this.U=0}).prototype.Y=function(n,t){return new j5(this.Ib,t)},j5.prototype.X=function(){return this.Mj},j5.prototype.Tc=function(){return Yt(this.Ib)},j5.prototype.nd=function(n,t){if(n=qn(t),zn(Ne.a?Ne.a(String,n):Ne.call(null,String,n)))return Gt(this.Ib,t.toUpperCase());if(zn(Ne.a?Ne.a(Number,n):Ne.call(null,Number,n)))return Gt(this.Ib,Zr(t).toUpperCase());throw Error(["No matching clause: ",ii.g(n)].join(""))},j5.wa=function(){return new Xl(null,2,5,Kl,[uL,Lo],null)},j5.ta=!0,j5.sa="cljs.pprint/t_cljs$pprint27674",j5.ua=function(n){return Gt(n,"cljs.pprint/t_cljs$pprint27674")}),new j5(n,ju)}function j6(n){var t=cl(!0);return void 0!==jn&&void 0!==E5&&void 0!==O5||((O5=function(n,t,e){this.Ib=n,this.Be=t,this.Nj=e,this.B=1074135040,this.U=0}).prototype.Y=function(n,t){return new O5(this.Ib,this.Be,t)},O5.prototype.X=function(){return this.Nj},O5.prototype.Tc=function(){return Yt(this.Ib)},O5.prototype.nd=function(n,t){if(n=qn(t),zn(Ne.a?Ne.a(String,n):Ne.call(null,String,n)))return Gt(this.Ib,function(n,t){var e=Me(n);return Pi.a(ii,Me(T5((function(n){if(kr(n))return new Xl(null,2,5,Kl,[null,null],null);var t=/\W\w/g.exec(n);return t=zn(t)?t.index+1:t,zn(t)?new Xl(null,2,5,Kl,[[n.substring(0,t),dr(n,t).toUpperCase()].join(""),n.substring(t+1)],null):new Xl(null,2,5,Kl,[n,null],null)}),zn(zn(t)?zn(e)?Z(e):e:t)?[e.toUpperCase(),n.substring(1)].join(""):n)))}(t.toLowerCase(),St(this.Be))),0<t.length?fl(this.Be,R(dr(t,hr(t)-1))):null;if(zn(Ne.a?Ne.a(Number,n):Ne.call(null,Number,n)))return t=Zr(t),n=zn(St(this.Be))?t.toUpperCase():t,Gt(this.Ib,n),fl(this.Be,R(t));throw Error(["No matching clause: ",ii.g(n)].join(""))},O5.wa=function(){return new Xl(null,3,5,Kl,[uL,oh,wj],null)},O5.ta=!0,O5.sa="cljs.pprint/t_cljs$pprint27680",O5.ua=function(n){return Gt(n,"cljs.pprint/t_cljs$pprint27680")}),new O5(n,t,ju)}function O6(n){var t=cl(!1);return void 0!==jn&&void 0!==E5&&void 0!==A5||((A5=function(n,t,e){this.Ib=n,this.ge=t,this.Oj=e,this.B=1074135040,this.U=0}).prototype.Y=function(n,t){return new A5(this.Ib,this.ge,t)},A5.prototype.X=function(){return this.Oj},A5.prototype.Tc=function(){return Yt(this.Ib)},A5.prototype.nd=function(n,t){if(n=qn(t),zn(Ne.a?Ne.a(String,n):Ne.call(null,String,n)))return t=t.toLowerCase(),In(St(this.ge))?(n=zn(n=/\S/g.exec(t))?n.index:n,zn(n)?(Gt(this.Ib,[t.substring(0,n),dr(t,n).toUpperCase(),t.substring(n+1).toLowerCase()].join("")),fl(this.ge,!0)):Gt(this.Ib,t)):Gt(this.Ib,t.toLowerCase());if(zn(Ne.a?Ne.a(Number,n):Ne.call(null,Number,n)))return t=Zr(t),In(St(this.ge))&&Z(t)?(fl(this.ge,!0),Gt(this.Ib,t.toUpperCase())):Gt(this.Ib,t.toLowerCase());throw Error(["No matching clause: ",ii.g(n)].join(""))},A5.wa=function(){return new Xl(null,3,5,Kl,[uL,NO,Rk],null)},A5.ta=!0,A5.sa="cljs.pprint/t_cljs$pprint27686",A5.ua=function(n){return Gt(n,"cljs.pprint/t_cljs$pprint27686")}),new A5(n,t,ju)}function A6(n,t){return O3(zn(cE.g(n))?_T:Tf,ry.g(n)),t}function E6(n,t){return j3(n=zn(cE.g(n))?zn(jT.g(n))?Xo:Iy:zn(jT.g(n))?qg:B$),t}var S6=Vu("ASDBOXRPCFEG$%&|~\nT*?()[;]{}<>^W_I".split(""),[new ku(null,5,[jL,"A",Zx,new ku(null,4,[iT,new Xl(null,2,5,Kl,[0,Number],null),rz,new Xl(null,2,5,Kl,[1,Number],null),mT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return function(n,t){return R3(Xa,n,t)}}],null),new ku(null,5,[jL,"S",Zx,new ku(null,4,[iT,new Xl(null,2,5,Kl,[0,Number],null),rz,new Xl(null,2,5,Kl,[1,Number],null),mT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return function(n,t){return R3(Ja,n,t)}}],null),new ku(null,5,[jL,"D",Zx,new ku(null,4,[iT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null),tG,new Xl(null,2,5,Kl,[",",String],null),ng,new Xl(null,2,5,Kl,[3,Number],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return function(n,t){return U3(10,n,t)}}],null),new ku(null,5,[jL,"B",Zx,new ku(null,4,[iT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null),tG,new Xl(null,2,5,Kl,[",",String],null),ng,new Xl(null,2,5,Kl,[3,Number],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return function(n,t){return U3(2,n,t)}}],null),new ku(null,5,[jL,"O",Zx,new ku(null,4,[iT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null),tG,new Xl(null,2,5,Kl,[",",String],null),ng,new Xl(null,2,5,Kl,[3,Number],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return function(n,t){return U3(8,n,t)}}],null),new ku(null,5,[jL,"X",Zx,new ku(null,4,[iT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null),tG,new Xl(null,2,5,Kl,[",",String],null),ng,new Xl(null,2,5,Kl,[3,Number],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return function(n,t){return U3(16,n,t)}}],null),new ku(null,5,[jL,"R",Zx,new ku(null,5,[qR,new Xl(null,2,5,Kl,[null,Number],null),iT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null),tG,new Xl(null,2,5,Kl,[",",String],null),ng,new Xl(null,2,5,Kl,[3,Number],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(n){return zn(Me(qR.g(n)))?function(n,t){return U3(qR.g(n),n,t)}:zn(zn(t=jT.g(n))?cE.g(n):t)?function(n,t){return Z3(X3,t)}:zn(jT.g(n))?function(n,t){return Z3(K3,t)}:zn(cE.g(n))?function(n,t){if(t=pr(n=M3(t),0),n=pr(n,1),Ne.a(0,t))S5.l(ur(["zeroth"]));else{var e=I3(1e3,0>t?-t:t);if(hr(e)<=hr(Y3)){var r=pl.a(V3,wl(1,e));r=J3(r,1),e=function(n){var t,e,r=Qr(n,100),i=ni(n,100);return[0<r?[ii.g(dr(q3,r))," hundred"].join(""):null,0<r&&0<i?" ":null,ii.g(0<i?20>i?dr(H3,i):(t=Qr(i,10),e=ni(i,10),0<t&&!(0<e)?dr(G3,t):[ii.g(0<t?dr(W3,t):null),0<t&&0<e?"-":null,ii.g(0<e?dr(H3,e):null)].join("")):0<r?"th":null)].join("")}(sr(e)),S5.l(ur([[0>t?"minus ":null,kr(r)||kr(e)?kr(r)?e:[r,"th"].join(""):[r,", ",e].join("")].join("")]))}else U3(10,new ku(null,5,[iT,0,_D," ",tG,",",ng,3,cE,!0],null),D3(new Xl(null,1,5,Kl,[t],null))),t=11<(e=ni(t,100))||19>e,e=ni(e,10),S5.l(ur([1===e&&t?"st":2===e&&t?"nd":3===e&&t?"rd":"th"]))}return n}:function(n,t){if(n=pr(t=M3(t),0),t=pr(t,1),Ne.a(0,n))S5.l(ur(["zero"]));else{var e=I3(1e3,0>n?-n:n);hr(e)<=hr(Y3)?(e=J3(e=pl.a(V3,e),0),S5.l(ur([[0>n?"minus ":null,e].join("")]))):U3(10,new ku(null,5,[iT,0,_D," ",tG,",",ng,3,cE,!0],null),D3(new Xl(null,1,5,Kl,[n],null)))}return t};var t}],null),new ku(null,5,[jL,"P",Zx,ju,ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return function(n,t){t=zn(cE.g(n))?N3(t,-1):t,n=zn(jT.g(n))?new Xl(null,2,5,Kl,["y","ies"],null):new Xl(null,2,5,Kl,["","s"],null);var e=M3(t);return t=pr(e,0),e=pr(e,1),S5.l(ur([Ne.a(t,1)?Me(n):or(n)])),e}}],null),new ku(null,5,[jL,"C",Zx,new ku(null,1,[rA,new Xl(null,2,5,Kl,[null,String],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(n){return zn(cE.g(n))?n6:zn(jT.g(n))?t6:e6}],null),new ku(null,5,[jL,"F",Zx,new ku(null,5,[oy,new Xl(null,2,5,Kl,[null,Number],null),Wz,new Xl(null,2,5,Kl,[null,Number],null),FA,new Xl(null,2,5,Kl,[0,Number],null),uB,new Xl(null,2,5,Kl,[null,String],null),_D,new Xl(null,2,5,Kl,[" ",String],null)],null),ZI,new ba(null,new ku(null,1,[jT,null],null),null),gR,ju,Bw,function(){return s6}],null),new ku(null,5,[jL,"E",Zx,new ku(null,7,[oy,new Xl(null,2,5,Kl,[null,Number],null),Wz,new Xl(null,2,5,Kl,[null,Number],null),$O,new Xl(null,2,5,Kl,[null,Number],null),FA,new Xl(null,2,5,Kl,[1,Number],null),uB,new Xl(null,2,5,Kl,[null,String],null),_D,new Xl(null,2,5,Kl,[" ",String],null),AH,new Xl(null,2,5,Kl,[null,String],null)],null),ZI,new ba(null,new ku(null,1,[jT,null],null),null),gR,ju,Bw,function(){return c6}],null),new ku(null,5,[jL,"G",Zx,new ku(null,7,[oy,new Xl(null,2,5,Kl,[null,Number],null),Wz,new Xl(null,2,5,Kl,[null,Number],null),$O,new Xl(null,2,5,Kl,[null,Number],null),FA,new Xl(null,2,5,Kl,[1,Number],null),uB,new Xl(null,2,5,Kl,[null,String],null),_D,new Xl(null,2,5,Kl,[" ",String],null),AH,new Xl(null,2,5,Kl,[null,String],null)],null),ZI,new ba(null,new ku(null,1,[jT,null],null),null),gR,ju,Bw,function(){return f6}],null),new ku(null,5,[jL,"$",Zx,new ku(null,4,[Wz,new Xl(null,2,5,Kl,[2,Number],null),ry,new Xl(null,2,5,Kl,[1,Number],null),oy,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return h6}],null),new ku(null,5,[jL,"%",Zx,new ku(null,1,[UT,new Xl(null,2,5,Kl,[1,Number],null)],null),ZI,xa,gR,ju,Bw,function(){return function(n,t){n=UT.g(n);for(var e=0;e<n;)D5(),e+=1;return t}}],null),new ku(null,5,[jL,"&",Zx,new ku(null,1,[UT,new Xl(null,2,5,Kl,[1,Number],null)],null),ZI,new ba(null,new ku(null,1,[kR,null],null),null),gR,ju,Bw,function(){return function(n,t){0<(n=UT.g(n))&&((null!=En?32768&En.B||An===En.Qd||!En.B&&Un(Et,En):Un(Et,En))&&Ne.a(0,P5(qR.g(St(St(En))),Ov))||D5()),--n;for(var e=0;e<n;)D5(),e+=1;return t}}],null),new ku(null,5,[jL,"|",Zx,new ku(null,1,[UT,new Xl(null,2,5,Kl,[1,Number],null)],null),ZI,xa,gR,ju,Bw,function(){return function(n,t){n=UT.g(n);for(var e=0;e<n;)S5.l(ur(["\f"])),e+=1;return t}}],null),new ku(null,5,[jL,"~",Zx,new ku(null,1,[ry,new Xl(null,2,5,Kl,[1,Number],null)],null),ZI,xa,gR,ju,Bw,function(){return function(n,t){return n=ry.g(n),S5.l(ur([Pi.a(ii,_l(n,"~"))])),t}}],null),new ku(null,5,[jL,"\n",Zx,ju,ZI,new ba(null,new ku(null,2,[cE,null,jT,null],null),null),gR,ju,Bw,function(){return function(n,t){return zn(jT.g(n))&&D5(),t}}],null),new ku(null,5,[jL,"T",Zx,new ku(null,2,[xN,new Xl(null,2,5,Kl,[1,Number],null),rz,new Xl(null,2,5,Kl,[1,Number],null)],null),ZI,new ba(null,new ku(null,2,[jT,null,kR,null],null),null),gR,ju,Bw,function(n){return zn(jT.g(n))?function(n,t){var e=xN.g(n);n=rz.g(n);var r=e+P5(qR.g(St(St(En))),Ov);return r=0<n?ni(r,n):0,e+=Ne.a(0,r)?0:n-r,S5.l(ur([Pi.a(ii,_l(e," "))])),t}:function(n,t){var e=xN.g(n);n=rz.g(n);var r=P5(qR.g(St(St(En))),Ov);return e=r<e?e-r:Ne.a(n,0)?0:n-ni(r-e,n),S5.l(ur([Pi.a(ii,_l(e," "))])),t}}],null),new ku(null,5,[jL,"*",Zx,new ku(null,1,[ry,new Xl(null,2,5,Kl,[1,Number],null)],null),ZI,new ba(null,new ku(null,2,[cE,null,jT,null],null),null),gR,ju,Bw,function(){return function(n,t){var e=ry.g(n);return zn(jT.g(n))?T3(t,e):N3(t,zn(cE.g(n))?-e:e)}}],null),new ku(null,5,[jL,"?",Zx,ju,ZI,new ba(null,new ku(null,1,[jT,null],null),null),gR,ju,Bw,function(n){return zn(jT.g(n))?function(n,t){var e=F3(t);return i6(t=pr(e,0),e=pr(e,1),xR.g(n))}:function(n,t){var e=F3(t);t=pr(e,0);var r=M3(e=pr(e,1));return e=pr(r,0),r=pr(r,1),i6(t,e=D3(e),xR.g(n)),r}}],null),new ku(null,5,[jL,"(",Zx,ju,ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,new ku(null,3,[tz,")",Wf,null,Ug,null],null),Bw,function(n){var t,e=zn(zn(t=jT.g(n))?cE.g(n):t)?k6:zn(cE.g(n))?j6:zn(jT.g(n))?O6:_6;return function(n,t){n:{var r=Me(i$.g(n)),i=En;En=e.g?e.g(En):e.call(null,En);try{var l=i6(r,t,xR.g(n));break n}finally{En=i}l=void 0}return l}}],null),new ku(null,5,[jL,")",Zx,ju,ZI,xa,gR,ju,Bw,function(){return null}],null),new ku(null,5,[jL,"[",Zx,new ku(null,1,[Zc,new Xl(null,2,5,Kl,[null,Number],null)],null),ZI,new ba(null,new ku(null,2,[cE,null,jT,null],null),null),gR,new ku(null,3,[tz,"]",Wf,!0,Ug,HL],null),Bw,function(n){return zn(cE.g(n))?p6:zn(jT.g(n))?g6:d6}],null),new ku(null,5,[jL,";",Zx,new ku(null,2,[mq,new Xl(null,2,5,Kl,[null,Number],null),gH,new Xl(null,2,5,Kl,[null,Number],null)],null),ZI,new ba(null,new ku(null,1,[cE,null],null),null),gR,new ku(null,1,[JI,!0],null),Bw,function(){return null}],null),new ku(null,5,[jL,"]",Zx,ju,ZI,xa,gR,ju,Bw,function(){return null}],null),new ku(null,5,[jL,"{",Zx,new ku(null,1,[__,new Xl(null,2,5,Kl,[null,Number],null)],null),ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,new ku(null,2,[tz,"}",Wf,!1],null),Bw,function(n){var t=jT.g(n);return t=zn(t)?cE.g(n):t,zn(t)?y6:zn(cE.g(n))?v6:zn(jT.g(n))?w6:m6}],null),new ku(null,5,[jL,"}",Zx,ju,ZI,new ba(null,new ku(null,1,[cE,null],null),null),gR,ju,Bw,function(){return null}],null),new ku(null,5,[jL,"<",Zx,new ku(null,4,[iT,new Xl(null,2,5,Kl,[0,Number],null),rz,new Xl(null,2,5,Kl,[1,Number],null),mT,new Xl(null,2,5,Kl,[0,Number],null),_D,new Xl(null,2,5,Kl,[" ",String],null)],null),ZI,new ba(null,new ku(null,4,[cE,null,jT,null,qz,null,kR,null],null),null),gR,new ku(null,3,[tz,">",Wf,!0,Ug,K$],null),Bw,function(){return b6}],null),new ku(null,5,[jL,">",Zx,ju,ZI,new ba(null,new ku(null,1,[cE,null],null),null),gR,ju,Bw,function(){return null}],null),new ku(null,5,[jL,"^",Zx,new ku(null,3,[Wq,new Xl(null,2,5,Kl,[null,Number],null),Qp,new Xl(null,2,5,Kl,[null,Number],null),Us,new Xl(null,2,5,Kl,[null,Number],null)],null),ZI,new ba(null,new ku(null,1,[cE,null],null),null),gR,ju,Bw,function(){return function(n,t){var e=Wq.g(n),r=Qp.g(n),i=Us.g(n),l=zn(cE.g(n))?yA:FU;return zn(zn(e)?zn(r)?i:r:e)?e<=r&&r<=i?new Xl(null,2,5,Kl,[l,t],null):t:zn(zn(e)?r:e)?Ne.a(e,r)?new Xl(null,2,5,Kl,[l,t],null):t:zn(e)?Ne.a(e,0)?new Xl(null,2,5,Kl,[l,t],null):t:(zn(cE.g(n))?kr(jq.g(xR.g(n))):kr(jq.g(t)))?new Xl(null,2,5,Kl,[l,t],null):t}}],null),new ku(null,5,[jL,"W",Zx,ju,ZI,new ba(null,new ku(null,4,[cE,null,jT,null,qz,null,kR,null],null),null),gR,ju,Bw,function(n){if(zn(zn(e=jT.g(n))?e:cE.g(n))){var t=Si.a(zn(jT.g(n))?new Xl(null,4,5,Kl,[JE,null,UN,null],null):Zl,zn(cE.g(n))?new Xl(null,2,5,Kl,[kR,!0],null):Zl);return function(n,e){return n=pr(e=M3(e),0),e=pr(e,1),zn(Pi.j(x3,n,t))?new Xl(null,2,5,Kl,[FU,e],null):e}}var e;return function(n,t){return n=pr(t=M3(t),0),t=pr(t,1),zn(b3(n))?new Xl(null,2,5,Kl,[FU,t],null):t}}],null),new ku(null,5,[jL,"_",Zx,ju,ZI,new ba(null,new ku(null,3,[cE,null,jT,null,qz,null],null),null),gR,ju,Bw,function(){return E6}],null),new ku(null,5,[jL,"I",Zx,new ku(null,1,[ry,new Xl(null,2,5,Kl,[0,Number],null)],null),ZI,new ba(null,new ku(null,1,[cE,null],null),null),gR,ju,Bw,function(){return A6}],null)]),C6=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,D6=new ba(null,new ku(null,2,[Dy,null,Ak,null],null),null);function M6(n){var t=pr(n,0),e=pr(n,1),r=pr(n,2),i=(n=new RegExp(C6.source,"g")).exec(t);return zn(i)?(r=Me(i),t=t.substring(n.lastIndex),n=e+n.lastIndex,Ne.a(",",dr(t,0))?new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[r,e],null),new Xl(null,3,5,Kl,[t.substring(1),n+1,!0],null)],null):new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[r,e],null),new Xl(null,3,5,Kl,[t,n,!1],null)],null)):zn(r)?S3("Badly formed parameters in format directive",e):new Xl(null,2,5,Kl,[null,new Xl(null,2,5,Kl,[t,e],null)],null)}function F6(n){var t=pr(n,0);return n=pr(n,1),new Xl(null,2,5,Kl,[Ne.a(t.length,0)?null:Ne.a(t.length,1)&&$r(new ba(null,new ku(null,2,["V",null,"v",null],null),null),dr(t,0))?Ak:Ne.a(t.length,1)&&Ne.a("#",dr(t,0))?Dy:Ne.a(t.length,2)&&Ne.a("'",dr(t,0))?dr(t,1):parseInt(t,10),n],null)}var T6=new ku(null,2,[":",cE,"@",jT],null);function N6(n,t,e,r){return function(n,t){var e,r=ZI.g(n);zn(!!In(jT.g(r))&&jT.g(t))&&S3(['"@" is an illegal flag for format directive "',ii.g(jL.g(n)),'"'].join(""),dr(jT.g(t),1)),zn(!!In(cE.g(r))&&cE.g(t))&&S3(['":" is an illegal flag for format directive "',ii.g(jL.g(n)),'"'].join(""),dr(cE.g(t),1)),zn(!!In(qz.g(r))&&(zn(e=jT.g(t))?cE.g(t):e))&&S3(['Cannot combine "@" and ":" flags for format directive "',ii.g(jL.g(n)),'"'].join(""),function(){var n=dr(cE.g(t),1),e=dr(jT.g(t),1);return n<e?n:e}())}(n,e),hr(t)>hr(Zx.g(n))&&S3(A3.l(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',ur([jL.g(n),hr(t),hr(Zx.g(n))])),or(Me(t))),Pa(pl.j((function(t,e){var r=Me(t);return null==r||$r(D6,r)||Ne.a(or(or(e)),qn(r))?null:S3(["Parameter ",Ea(Me(e)),' has bad type in directive "',ii.g(jL.g(n)),'": ',ii.g(qn(r))].join(""),or(t))}),t,Zx.g(n))),ma.l(ur([Dl.a(ju,ci(function n(t){return new wi(null,(function(){for(;;){var e=De(t);if(e){if(Dr(e)){var i=le(e),l=hr(i),u=xi(l);n:for(var a=0;;){if(!(a<l)){i=!0;break n}var o=ut.a(i,a),s=pr(o,0);o=pr(o,1),o=pr(o,0),u.add(new Xl(null,2,5,Kl,[s,new Xl(null,2,5,Kl,[o,r],null)],null)),a+=1}return ji(u.Na(),i?n(ue(e)):null)}return u=pr(i=Me(e),0),i=pr(i,1),i=pr(i,0),di(new Xl(null,2,5,Kl,[u,new Xl(null,2,5,Kl,[i,r],null)],null),n(Fe(e)))}return null}}),null,null)}(Zx.g(n)))),Hr((function(n,t){return Pi.j(mr,n,t)}),ju,El((function(n){return Me(dr(n,1))}),Sa(ha(Zx.g(n)),t))),e]))}function B6(n,t){n=pr(t=T5(M6,new Xl(null,3,5,Kl,[n,t,!1],null)),0);var e=pr(t,1);t=function(n,t){return T5((function(n){var t=pr(n,0),e=pr(n,1);if(n=pr(n,2),kr(t))return new Xl(null,2,5,Kl,[null,new Xl(null,3,5,Kl,[t,e,n],null)],null);var r=gr.a(T6,Me(t));return zn(r)?$r(n,r)?S3(['Flag "',ii.g(Me(t)),'" appears more than once in a directive'].join(""),e):new Xl(null,2,5,Kl,[!0,new Xl(null,3,5,Kl,[t.substring(1),e+1,mr.j(n,r,new Xl(null,2,5,Kl,[!0,e],null))],null)],null):new Xl(null,2,5,Kl,[null,new Xl(null,3,5,Kl,[t,e,n],null)],null)}),new Xl(null,3,5,Kl,[n,t,ju],null))}(t=pr(e,0),e=pr(e,1)),pr(t,0),t=pr(t,1);var r=pr(t,0),i=pr(t,1);t=pr(t,2),e=Me(r);var l,u=gr.a(S6,e.toUpperCase()),a=zn(u)?N6(u,pl.a(F6,n),t,i):null;return In(e)&&S3("Format string ended in the middle of a directive",i),In(u)&&S3(['Directive "',ii.g(e),'" is undefined'].join(""),i),new Xl(null,2,5,Kl,[new B3((l=Bw.g(u),l.a?l.a(a,i):l.call(null,a,i)),u,a,i,null,null,null),function(){var n=r.substring(1),t=i+1;if(Ne.a("\n",jL.g(u))&&In(cE.g(a)))n:{var e=new Xl(null,2,5,Kl,[" ","\t"],null);e=jr(e)?Oa(e):_a([e]);for(var l=0;;){var o;if((o=Ne.a(l,hr(n)))||(o=dr(n,l),o=In(o=e.g?e.g(o):e.call(null,o))),o){e=l;break n}l+=1}}else e=0;return new Xl(null,2,5,Kl,[n.substring(e),t+e],null)}()],null)}function z6(n,t){return new B3((function(t,e){return S5.l(ur([n])),e}),null,new ku(null,1,[aO,n],null),t,null,null,null)}function P6(n,t){var e=function(n,t,e){return or(T5((function(e){var r=pr(e,0),i=pr(e,1);e=pr(e,2);var l=function(n,t,e){return T5((function(e){if(kr(e))return S3("No closing bracket found.",t);var r=Me(e);if(e=Te(e),zn(tz.g(gR.g(AP.g(r)))))r=P6(r,e);else if(Ne.a(tz.g(n),jL.g(AP.g(r))))r=new Xl(null,2,5,Kl,[null,new Xl(null,4,5,Kl,[bS,Zx.g(r),null,e],null)],null);else{var i=JI.g(gR.g(AP.g(r)));i=zn(i)?cE.g(Zx.g(r)):i,r=zn(i)?new Xl(null,2,5,Kl,[null,new Xl(null,4,5,Kl,[Ug,null,Zx.g(r),e],null)],null):zn(JI.g(gR.g(AP.g(r))))?new Xl(null,2,5,Kl,[null,new Xl(null,4,5,Kl,[JI,null,null,e],null)],null):new Xl(null,2,5,Kl,[r,e],null)}return r}),e)}(n,t,e);e=pr(l,0);var u=pr(l,1);l=pr(u,0);var a=pr(u,1),o=pr(u,2);return u=pr(u,3),Ne.a(l,bS)?new Xl(null,2,5,Kl,[null,new Xl(null,2,5,Kl,[va.l(Si,ur([r,Au([zn(i)?Ug:i$,new Xl(null,1,5,Kl,[e],null),wM,a])])),u],null)],null):Ne.a(l,Ug)?zn(Ug.g(r))?S3('Two else clauses ("~:;") inside bracket construction.',t):In(Ug.g(n))?S3('An else clause ("~:;") is in a bracket type that doesn\'t support it.',t):Ne.a(K$,Ug.g(n))&&De(i$.g(r))?S3('The else clause ("~:;") is only allowed in the first position for this directive.',t):Ne.a(K$,Ug.g(n))?new Xl(null,2,5,Kl,[!0,new Xl(null,3,5,Kl,[va.l(Si,ur([r,new ku(null,2,[Ug,new Xl(null,1,5,Kl,[e],null),yf,o],null)])),!1,u],null)],null):new Xl(null,2,5,Kl,[!0,new Xl(null,3,5,Kl,[va.l(Si,ur([r,new ku(null,1,[i$,new Xl(null,1,5,Kl,[e],null)],null)])),!0,u],null)],null):Ne.a(l,JI)?zn(i)?S3('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',t):In(Wf.g(n))?S3('A separator ("~;") is in a bracket type that doesn\'t support it.',t):new Xl(null,2,5,Kl,[!0,new Xl(null,3,5,Kl,[va.l(Si,ur([r,new ku(null,1,[i$,new Xl(null,1,5,Kl,[e],null)],null)])),!1,u],null)],null):null}),new Xl(null,3,5,Kl,[new ku(null,1,[i$,Zl],null),!1,e],null)))}(gR.g(AP.g(n)),Bm.g(n),t);return t=pr(e,0),e=pr(e,1),new Xl(null,2,5,Kl,[new B3(vw.g(n),AP.g(n),ma.l(ur([Zx.g(n),B5(t,Bm.g(n))])),Bm.g(n),null,null,null),e],null)}function $6(n){var t=E3;E3=n;try{return function(n){return Me(T5((function(n){var t=Me(n);n=Te(n);var e=gR.g(AP.g(t));return zn(tz.g(e))?P6(t,n):new Xl(null,2,5,Kl,[t,n],null)}),n))}(Me(T5((function(n){var t=pr(n,0);if(n=pr(n,1),kr(t))return new Xl(null,2,5,Kl,[null,t],null);var e=t.indexOf("~");return 0>e?new Xl(null,2,5,Kl,[z6(t,n),new Xl(null,2,5,Kl,["",n+t.length],null)],null):0===e?B6(t.substring(1),n+1):new Xl(null,2,5,Kl,[z6(t.substring(0,e),n),new Xl(null,2,5,Kl,[t.substring(e),e+n],null)],null)}),new Xl(null,2,5,Kl,[n,0],null))))}finally{E3=t}}var R6=function n(t){for(;;){if(kr(t))return!1;var e=kR.g(ZI.g(AP.g(Me(t))));if(zn(e)||(e=zn(e=rl(n,Me(i$.g(Zx.g(Me(t))))))?e:rl(n,Me(Ug.g(Zx.g(Me(t)))))),zn(e))return!0;t=Te(t)}};function I6(n,t){return F5((function(n,t){if(r6(t))return new Xl(null,2,5,Kl,[null,t],null);var e=pr(t=P3(Zx.g(n),t),0);t=pr(t,1);var r=N5(e);return e=pr(r,0),r=pr(r,1),e=mr.j(e,xR,t),new Xl(null,2,5,Kl,[null,Pi.a(vw.g(n),new Xl(null,3,5,Kl,[e,t,r],null))],null)}),t,n),null}var L6=function(n){var t=cl(ju);return function(){function e(n){var t=null;if(0<arguments.length){t=0;for(var e=Array(arguments.length-0);t<e.length;)e[t]=arguments[t+0],++t;t=new lr(e,0,null)}return r.call(this,t)}function r(e){var r=gr.j(St(t),e,Fr);return r===Fr&&(r=Pi.a(n,e),hl.aa(t,mr,e,r)),r}return e.R=0,e.S=function(n){return r(n=De(n))},e.l=r,e}()}($6),U6=new ku(null,6,[dR,"'",Q$,"#'",uT,"@",nB,"~",Em,"@",vs,"~"],null);function q6(n){var t=Me(n);return zn(zn(t=U6.g?U6.g(t):U6.call(null,t))?Ne.a(2,hr(n)):t)?(Gt(En,t),b3(or(n)),!0):null}function H6(n){if(zn(k3()))Gt(En,"#");else{var t=v3,e=w3;v3+=1,w3=0;try{u3("[","]");for(var r=0,i=De(n);;){if(In(Fn)||r<Fn){if(i&&(b3(Me(i)),Te(i))){Gt(En," "),j3(B$),n=r+1;var l=Te(i);r=n,i=l;continue}}else Gt(En,"...");break}a3()}finally{w3=e,v3=t}}return null}function W6(n){var t,e=Sr(n)?null:(t=new Se((function(){return Qa}),Gy,Vu([$g,Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[!0,kb,EN,"cljs/core.cljs",15,1,10307,10307,fi(new Xl(null,1,5,Kl,[mS],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",zn(Qa)?Qa.Ia:null]))).g?t.g(n):t.call(null,n),r=pr(e,0),i=zn(e=pr(e,1))?e:n,l=zn(r)?["#:",ii.g(r),"{"].join(""):"{";if(zn(k3()))Gt(En,"#");else{r=v3,e=w3,v3+=1,w3=0;try{u3(l,"}"),l=0;for(var u=De(i);;){if(In(Fn)||l<Fn){if(u){if(zn(k3()))Gt(En,"#");else{i=v3;var a=w3;v3+=1,w3=0;try{u3(null,null),b3(Me(Me(u))),Gt(En," "),j3(B$),w3=0,b3(Me(Te(Me(u)))),a3()}finally{w3=a,v3=i}}if(Te(u)){Gt(En,", "),j3(B$),i=l+1;var o=Te(u);l=i,u=o;continue}}}else Gt(En,"...");break}a3()}finally{w3=e,v3=r}}return null}function G6(n){return Gt(En,Ja.l(ur([n])))}!function(){var n=L6.g?L6.g("~<[~;~@{~w~^, ~:_~}~;]~:>"):L6.call(null,"~<[~;~@{~w~^, ~:_~}~;]~:>");(function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}t.R=0,t.S=function(n){return e(n=De(n))},t.l=e})()}();var Y6=function(){var n=L6.g?L6.g("~<#{~;~@{~w~^ ~:_~}~;}~:>"):L6.call(null,"~<#{~;~@{~w~^ ~:_~}~;}~:>");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}(),V6=new ku(null,2,["core$future_call","Future","core$promise","Promise"],null);function J6(n){var t=Ra(/^[^$]+\$[^$]+/,n);return t=zn(t)?V6.g?V6.g(t):V6.call(null,t):null,zn(t)?t:n}var X6=function(){var n=L6.g?L6.g("~<<-(~;~@{~w~^ ~_~}~;)-<~:>"):L6.call(null,"~<<-(~;~@{~w~^ ~_~}~;)-<~:>");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();function K6(n){return n instanceof cu?Sv:(null!=n?32768&n.B||An===n.Qd||!n.B&&Un(Et,n):Un(Et,n))?ST:n instanceof Ae?Mw:Nr(n)?sM:Er(n)?QU:Cr(n)?gO:Or(n)?vR:null==n?null:nw}if(void 0===jn||void 0===E5||void 0===Z6){var Z6,Q6=cl(ju),n4=cl(ju),t4=cl(ju),e4=cl(ju),r4=gr.j(ju,kI,po.L?po.L():po.call(null));Z6=new xo(Ee.a("cljs.pprint","simple-dispatch"),K6,r4,Q6,n4,t4,e4)}function i4(n){return Cr(n)?new Xl(null,2,5,Kl,["[","]"],null):new Xl(null,2,5,Kl,["(",")"],null)}function l4(n){if(Ar(n)){var t=i4(n),e=pr(t,0),r=pr(t,1),i=De(n),l=Me(i),u=Te(i);if(zn(k3()))Gt(En,"#");else{var a=v3,o=w3,s=v3+1;v3=s,w3=0;try{u3(e,r);var c=(S=L6.g?L6.g("~w~:i"):L6.call(null,"~w~:i"),function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=D3(n),I6(S,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}());c.g?c.g(l):c.call(null,l);for(var f=u;De(f);){var h=function(){var n,t=L6.g?L6.g(" "):L6.call(null," ");return n=t,function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();h.L?h.L():h.call(null);var d=Me(f);if(Ar(d)){var p=i4(d),g=pr(p,0),m=pr(p,1);if(zn(k3()))Gt(En,"#");else{var v=v3,w=w3,y=v3+1;v3=y,w3=0;try{if(u3(g,m),Ne.a(hr(d),3)&&or(d)instanceof pi){var b=d,x=pr(b,0),_=pr(b,1),k=pr(b,2),j=function(){var n,t=L6.g?L6.g("~w ~w "):L6.call(null,"~w ~w ");return n=t,function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();if(j.a?j.a(x,_):j.call(null,x,_),Ar(k)){var O=function(){var n,t=Cr(k)?"~<[~;~@{~w~^ ~:_~}~;]~:>":"~<(~;~@{~w~^ ~:_~}~;)~:>",e="string"==typeof t?L6.g?L6.g(t):L6.call(null,t):t;return n=e,function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();O.g?O.g(k):O.call(null,k)}else b3(k)}else Pi.a(function(){var n,t=L6.g?L6.g("~w ~:i~@{~w~^ ~:_~}"):L6.call(null,"~w ~:i~@{~w~^ ~:_~}");return n=t,function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}(),d);a3()}finally{w3=w,v3=v}}if(Te(f)){var A=function(){var n,t=L6.g?L6.g("~_"):L6.call(null,"~_");return n=t,function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();A.L?A.L():A.call(null)}}else if(b3(d),Te(f)){var E=function(){var n,t=L6.g?L6.g("~:_"):L6.call(null,"~:_");return n=t,function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();E.L?E.L():E.call(null)}f=Te(f)}a3()}finally{w3=o,v3=a}}}else b3(n);var S}yo(Z6,sM,(function(n){if(In(q6(n)))if(zn(k3()))Gt(En,"#");else{var t=v3,e=w3;v3+=1,w3=0;try{u3("(",")");for(var r=0,i=De(n);;){if(In(Fn)||r<Fn){if(i&&(b3(Me(i)),Te(i))){Gt(En," "),j3(B$),n=r+1;var l=Te(i);r=n,i=l;continue}}else Gt(En,"...");break}a3()}finally{w3=e,v3=t}}return null})),yo(Z6,gO,H6),yo(Z6,QU,W6),yo(Z6,vR,Y6),yo(Z6,null,(function(){return Gt(En,Ja.l(ur([null])))})),yo(Z6,nw,G6),s3=Z6;var u4=function(){var n=L6.g?L6.g("~:<~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:>"):L6.call(null,"~:<~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:>");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();function a4(n){if(Te(n)){var t=De(n);n=Me(t);var e=Te(t);t=Me(e);var r="string"==typeof Me(e=Te(e))?new Xl(null,2,5,Kl,[Me(e),Te(e)],null):new Xl(null,2,5,Kl,[null,e],null);e=pr(r,0);var i=Er(Me(r=pr(r,1)))?new Xl(null,2,5,Kl,[Me(r),Te(r)],null):new Xl(null,2,5,Kl,[null,r],null);if(r=pr(i,0),i=pr(i,1),zn(k3()))Gt(En,"#");else{var l=v3,u=w3;v3+=1,w3=0;try{u3("(",")");var a=(c=L6.g?L6.g("~w ~1I~@_~w"):L6.call(null,"~w ~1I~@_~w"),function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=D3(n),I6(c,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}());if(a.a?a.a(n,t):a.call(null,n,t),zn(e)){var o=function(){var n=L6.g?L6.g(" ~_~w"):L6.call(null," ~_~w");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();o.g?o.g(e):o.call(null,e)}if(zn(r)){var s=function(){var n=L6.g?L6.g(" ~_~w"):L6.call(null," ~_~w");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();s.g?s.g(r):s.call(null,r)}Cr(Me(i))?function(n,t){var e;De(n)&&(zn(t)?(e=L6.g?L6.g(" ~_"):L6.call(null," ~_"),(t=function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=D3(n),I6(e,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()).L?t.L():t.call(null)):(t=function(){var n=L6.g?L6.g(" ~@_"):L6.call(null," ~@_");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}()).L?t.L():t.call(null),(t=function(){var n=L6.g?L6.g("~{~w~^ ~_~}"):L6.call(null,"~{~w~^ ~_~}");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}()).g?t.g(n):t.call(null,n))}(i,zn(e)?e:r):function(n){if(De(n)){var t=(e=L6.g?L6.g(" ~_~{~w~^ ~_~}"):L6.call(null," ~_~{~w~^ ~_~}"),function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=D3(n),I6(e,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}());t.g?t.g(n):t.call(null,n)}var e}(i),a3()}finally{w3=u,v3=l}}return null}var c;return f4(n)}function o4(n){var t,e=Me(n);if(zn(k3()))Gt(En,"#");else{var r=v3,i=w3;v3+=1,w3=0;try{if(u3("(",")"),Te(n)&&Cr(or(n))){var l=(t=L6.g?L6.g("~w ~1I~@_"):L6.call(null,"~w ~1I~@_"),function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(n){return n=D3(n),I6(t,n)}return n.R=0,n.S=function(n){return e(n=De(n))},n.l=e,n}());l.g?l.g(e):l.call(null,e),function(n){if(zn(k3()))Gt(En,"#");else{var t=v3,e=w3;v3+=1,w3=0;try{u3("[","]");for(var r=0;;){if(In(Fn)||r<Fn){if(De(n)){if(zn(k3()))Gt(En,"#");else{var i=v3,l=w3;v3+=1,w3=0;try{u3(null,null),b3(Me(n)),Te(n)&&(Gt(En," "),j3(qg),b3(or(n))),a3()}finally{w3=l,v3=i}}if(Te(Fe(n))){Gt(En," "),j3(B$),i=r+1;var u=Te(Fe(n));r=i,n=u;continue}}}else Gt(En,"...");break}a3()}finally{w3=e,v3=t}}}(or(n));var u=Te(Fe(n)),a=function(){var n=L6.g?L6.g(" ~_~{~w~^ ~_~}"):L6.call(null," ~_~{~w~^ ~_~}");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();a.g?a.g(u):a.call(null,u)}else f4(n);a3()}finally{w3=i,v3=r}}return null}var s4=function(){var n=L6.g?L6.g("~:<~1I~w~^ ~@_~w~@{ ~_~w~}~:>"):L6.call(null,"~:<~1I~w~^ ~@_~w~@{ ~_~w~}~:>");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}(),c4=ju;function f4(n){if(zn(k3()))Gt(En,"#");else{var t=v3,e=w3;v3+=1,w3=0;try{u3("(",")"),O3(Tf,1);for(var r=0,i=De(n);;){if(In(Fn)||r<Fn){if(i&&(b3(Me(i)),Te(i))){Gt(En," "),j3(B$),n=r+1;var l=Te(i);r=n,i=l;continue}}else Gt(En,"...");break}a3()}finally{w3=e,v3=t}}return null}var h4=function(n){return Dl.a(ju,Ol(Gr,ur([function n(t){return new wi(null,(function(){for(;;){var e=De(t);if(e){if(Dr(e)){var r=le(e),i=hr(r),l=xi(i);n:for(var u=0;;){if(!(u<i)){r=!0;break n}var a=ut.a(r,u);a=new Xl(null,2,5,Kl,[a,new Xl(null,2,5,Kl,[Ee.g(Ea(Me(a))),or(a)],null)],null),l.add(a),u+=1}return ji(l.Na(),r?n(ue(e)):null)}return l=Me(e),di(new Xl(null,2,5,Kl,[l,new Xl(null,2,5,Kl,[Ee.g(Ea(Me(l))),or(l)],null)],null),n(Fe(e)))}return null}}),null,null)}(n)])))}(function(n){return Dl.a(ju,pl.a((function(n){var t=pr(n,0),e=pr(n,1),r=mi(t);return In(r=zn(r)?r:$r(new ba(null,new ku(null,24,[Ko,"null",Ts,"null",wc,"null",Lc,"null",Tm,"null",Uv,"null",yw,"null",Ek,"null",SO,"null",qO,"null",hA,"null",OA,"null",ZC,"null",QC,"null",OD,"null",hM,"null",CM,"null",r$,"null",V$,"null",Q$,"null",dR,"null",AI,"null",Uq,"null",yW,"null"],null),null),t))?new Xl(null,2,5,Kl,[Ee.a("clojure.core",Ea(t)),e],null):n}),n))}(Vu([V$,hM,ws,qO,HB,Jd,RP,AO,WN,ed,mv,Am,Ck,yW,Uk,oM,OP,yM,mw,OA,DD,pz,Fb,f_,YM,W$,Wb,tI,eP,rD],[u4,function(n){var t,e=or(n),r=Me(Fe(Fe(n)));if(!Cr(e))return f4(n);n=c4,c4=Ne.a(1,hr(e))?Au([Me(e),"%"]):Dl.a(ju,pl.j((function(n,t){return new Xl(null,2,5,Kl,[n,["%",ii.g(t)].join("")],null)}),e,za(1,hr(e)+1)));try{var i=(t=L6.g?L6.g("~<#(~;~@{~w~^ ~_~}~;)~:>"):L6.call(null,"~<#(~;~@{~w~^ ~_~}~;)~:>"),function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(n){return n=D3(n),I6(t,n)}return n.R=0,n.S=function(n){return e(n=De(n))},n.l=e,n}());return i.g?i.g(r):i.call(null,r)}finally{c4=n}},o4,s4,function(n){if(3<hr(n)){if(zn(k3()))Gt(En,"#");else{var t=v3,e=w3;v3+=1,w3=0;try{u3("(",")"),O3(Tf,1),Pi.a((a=L6.g?L6.g("~w ~@_~w ~@_~w ~_"):L6.call(null,"~w ~@_~w ~@_~w ~_"),function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=D3(n),I6(a,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),n);for(var r=0,i=De(ml(3,n));;){if(In(Fn)||r<Fn){if(i){if(zn(k3()))Gt(En,"#");else{n=v3;var l=w3;v3+=1,w3=0;try{u3(null,null),b3(Me(i)),Te(i)&&(Gt(En," "),j3(qg),b3(or(i))),a3()}finally{w3=l,v3=n}}if(Te(Fe(i))){Gt(En," "),j3(B$),n=r+1;var u=Te(Fe(i));r=n,i=u;continue}}}else Gt(En,"...");break}a3()}finally{w3=e,v3=t}}return null}var a;return f4(n)},u4,a4,a4,o4,u4,o4,s4,s4,u4,s4,o4,o4,u4,o4,function(n){if(Te(n)){var t=De(n);n=Me(t);var e=Te(t);t=Me(e);var r="string"==typeof Me(e=Te(e))?new Xl(null,2,5,Kl,[Me(e),Te(e)],null):new Xl(null,2,5,Kl,[null,e],null);e=pr(r,0),r=pr(r,1);var i=pr(r=Er(Me(r))?new Xl(null,2,5,Kl,[Me(r),Te(r)],null):new Xl(null,2,5,Kl,[null,r],null),0),l=pr(r,1);if(zn(k3()))Gt(En,"#");else{r=v3;var u=w3;v3+=1,w3=0;try{u3("(",")");var a=(h=L6.g?L6.g("~w ~1I~@_~w"):L6.call(null,"~w ~1I~@_~w"),function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=D3(n),I6(h,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}());if(a.a?a.a(n,t):a.call(null,n,t),zn(zn(e)?e:zn(i)?i:De(l))){var o=function(){var n=L6.g?L6.g("~@:_"):L6.call(null,"~@:_");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();o.L?o.L():o.call(null)}if(zn(e)&&A3.l(!0,'"~a"~:[~;~:@_~]',ur([e,zn(i)?i:De(l)])),zn(i)){var s=De(l),c=function(){var n=L6.g?L6.g("~w~:[~;~:@_~]"):L6.call(null,"~w~:[~;~:@_~]");return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return t=D3(t),I6(n,t)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}();c.a?c.a(i,s):c.call(null,i,s)}for(a=l;;){l4(Me(a));var f=Te(a);if(!f)break;o=f,j3(B$),a=o}a3()}finally{w3=u,v3=r}}return null}var h;return b3(n)},o4,function(n){if(zn(k3()))Gt(En,"#");else{var t=v3,e=w3;v3+=1,w3=0;try{if(u3("(",")"),O3(Tf,1),b3(Me(n)),Te(n)){Gt(En," "),j3(B$);for(var r=0,i=Te(n);;){if(In(Fn)||r<Fn){if(i){if(zn(k3()))Gt(En,"#");else{n=v3;var l=w3;v3+=1,w3=0;try{u3(null,null),b3(Me(i)),Te(i)&&(Gt(En," "),j3(qg),b3(or(i))),a3()}finally{w3=l,v3=n}}if(Te(Fe(i))){Gt(En," "),j3(B$),n=r+1;var u=Te(Fe(i));r=n,i=u;continue}}}else Gt(En,"...");break}}a3()}finally{w3=e,v3=t}}return null},o4,a4,a4,u4,u4,o4,o4,u4])));if(void 0===jn||void 0===E5||void 0===d4){var d4,p4=cl(ju),g4=cl(ju),m4=cl(ju),v4=cl(ju),w4=gr.j(ju,kI,po.L?po.L():po.call(null));d4=new xo(Ee.a("cljs.pprint","code-dispatch"),K6,w4,p4,g4,m4,v4)}yo(d4,sM,(function(n){if(In(q6(n))){var t=Me(n);return zn(t=h4.g?h4.g(t):h4.call(null,t))?t.g?t.g(n):t.call(null,n):f4(n)}return null})),yo(d4,Mw,(function(n){var t=n.g?n.g(c4):n.call(null,c4);return zn(t)?S5.l(ur([t])):zn(p3)?S5.l(ur([Ea(n)])):C5.g?C5.g(n):C5.call(null,n)})),yo(d4,gO,H6),yo(d4,QU,W6),yo(d4,vR,Y6),yo(d4,Sv,X6),yo(d4,ST,(function(n){var t=["#<",ii.g(J6(qn(n).name)),"@",ii.g(d(n)),": "].join("");if(zn(k3()))Gt(En,"#");else{var e=v3,r=w3;v3+=1,w3=0;try{u3(t,">"),O3(Tf,-(t.length-2)),j3(B$),b3((null!=n?1&n.U||An===n.Ik||!n.U&&Un(Xt,n):Un(Xt,n))&&!Kt(n)?Oy:St(n)),a3()}finally{w3=r,v3=e}}return null})),yo(d4,null,C5),yo(d4,nw,G6),s3=Z6;var y4={},b4={};function x4(n,t){return n=wG(n,/%s/,"~a"),Pi.aa(A3,null,n,t)}var _4=new ku(null,4,[ek,Ex,ak,jc,TA,gd,vf,jw],null),k4=new Xl(null,2,5,Kl,[new ku(null,4,[ek,UP,ak,mx,TA,wE,vf,Kj],null),new ku(null,4,[ek,xF,ak,JD,TA,Yx,vf,fC],null)],null),j4=new ku(null,2,[ek,JF,ak,Ap],null),O4=new ku(null,2,[EW,CP,Bm,Qx],null),A4=new ku(null,2,[ek,Bb,ak,Fw],null),E4=new ku(null,2,[ek,Ws,ak,Oh],null),S4=new ku(null,4,[$F,Dq,RN,Rh,Xw,cI,vf,oD],null),C4=Vu([Co,wp,SA,JA,OF,yN,JP,Yq,tW],[new ku(null,8,[ek,xF,ak,JD,CN,vB,$B,Zf,VR,Mv,Wm,jM,Pq,Mm,mR,kC],null),ON,GE,Ag,iW,yb,new ku(null,8,[ek,UP,ak,mx,CN,QS,$B,Bc,VR,HW,Wm,EC,Pq,Im,mR,cH],null),YA,eO]),D4=Vu([Ds,Td,_p,yx,jx,TA,VI,GH,UW],[cD,XS,_P,Rm,Dk,X$,y$,jB,S4]),M4=new ku(null,5,[ak,_c,nP,Aw,SA,nz,wp,Nd,$L,LP],null);mr.j(D4,Iv,ma.l(ur([M4,new ku(null,1,[ak,"bar"],null)]))),mr.j(D4,Iv,ma.l(ur([M4,new ku(null,1,[ak,"line"],null)]))),mr.j(D4,Iv,ma.l(ur([M4,new ku(null,1,[ak,"circle"],null)]))),mr.j(D4,Iv,ma.l(ur([M4,new ku(null,1,[ak,"area"],null)]))),Vu([_p,Jm,yx,jx,TA,MD,OB,GH,UW],[_P,new ku(null,1,[dw,new ku(null,3,[Bg,1,Nf,5,yk,5],null)],null),Rm,Dk,X$,Ax,fE,jB,S4]),Vu([Kd,_p,Jm,yx,jx,TA,OB,GH,UW],[QW,_P,new ku(null,1,[dw,new ku(null,3,[Bg,1,Nf,5,yk,5],null)],null),Rm,Dk,X$,fE,jB,S4]);var F4=Vu([_p,Jm,yx,jx,TA,OB,YL,GH,UW],[_P,new ku(null,1,[dw,new ku(null,3,[Bg,1,Nf,5,yk,5],null)],null),Rm,Dk,X$,fE,cb,jB,S4]);Vu([Ds,_p,Jm,Iv,yx,jx,TA,VI,GH,UW],[cD,_P,new ku(null,3,[dw,new ku(null,3,[Bg,0,Nf,1,yk,1],null),LH,new ku(null,1,[Ah,"transparent"],null),VR,new ku(null,1,[BW,1],null)],null),"bar",Rm,Dk,X$,y$,jB,S4]),Vu([zs,Sh,_p,Jm,Kv,yx,uO,xT,JB,fP,CU,GH,UW],["pad",new Xl(null,1,5,Kl,[new ku(null,2,[Iy,"color",ak,"gradient"],null)],null),_P,new ku(null,1,[qH,new ku(null,1,[Yp,new ku(null,1,[aq,"greenblue"],null)],null)],null),new Xl(null,2,5,Kl,[new ku(null,5,[Wm,"x",Ew,!0,D$,!1,gj,"bottom",TA,rf],null),new ku(null,5,[Wm,"y",Ew,!0,D$,!1,gj,"left",TA,Xc],null)],null),Rm,new Xl(null,3,5,Kl,[new ku(null,7,[Xw,"x",ak,"linear",DE,!0,Hz,!0,Zo,!1,D$,new ku(null,2,[UW,"source",ek,UP],null),qH,"width"],null),new ku(null,7,[Xw,"y",ak,"linear",DE,!0,Hz,!0,Zo,!1,D$,new ku(null,2,[UW,"source",ek,xF],null),qH,"height"],null),new ku(null,5,[Xw,"color",ak,"sequential",Zo,!0,D$,new ku(null,2,[UW,"contours",ek,"value"],null),qH,"heatmap"],null)],null),5,new Xl(null,2,5,Kl,[new ku(null,4,[ak,"path",qM,new ku(null,1,[UW,"contours"],null),fR,new ku(null,1,[mE,new ku(null,4,[Ah,new ku(null,1,[Vy,"#888"],null),yF,new ku(null,1,[Vy,1],null),Iy,new ku(null,2,[Wm,"color",ek,"value"],null),tj,new ku(null,1,[Vy,.35],null)],null)],null),Td,new Xl(null,1,5,Kl,[new ku(null,2,[ak,"geopath",ek,"datum"],null)],null)],null),new ku(null,4,[Xw,"marks",ak,"symbol",qM,new ku(null,1,[UW,"source"],null),fR,new ku(null,1,[vk,new ku(null,4,[JP,new ku(null,2,[Wm,"x",ek,UP],null),Co,new ku(null,2,[Wm,"y",ek,xF],null),SA,new ku(null,1,[Vy,4],null),Iy,new Xl(null,2,5,Kl,[new ku(null,2,[bq,"points",Vy,"black"],null),new ku(null,1,[Vy,"transparent"],null)],null)],null)],null)],null)],null),"https://vega.github.io/schema/vega/v4.json",new Xl(null,2,5,Kl,[new ku(null,3,[Xw,"count",Vy,10,ZH,new ku(null,2,[T$,"select",GP,new Xl(null,4,5,Kl,[1,5,10,20],null)],null)],null),new ku(null,3,[Xw,"points",Vy,!0,ZH,new ku(null,1,[T$,"checkbox"],null)],null)],null),jB,new Xl(null,2,5,Kl,[new ku(null,4,[Xw,"source",$F,oR,RN,Rh,Td,new Xl(null,1,5,Kl,[new ku(null,2,[ak,"filter",tM,RA],null)],null)],null),new ku(null,3,[Xw,"contours",Mj,"source",Td,new Xl(null,1,5,Kl,[new ku(null,5,[ak,"contour",JP,new ku(null,1,[tM,function(n){return x4("scale('x', datum.%s)",ur([n.g?n.g(UP):n.call(null,UP)]))}],null),Co,new ku(null,1,[tM,function(n){return x4("scale('y', datum.%s)",ur([n.g?n.g(xF):n.call(null,xF)]))}],null),SA,new Xl(null,2,5,Kl,[new ku(null,1,[XI,"width"],null),new ku(null,1,[XI,"height"],null)],null),UT,new ku(null,1,[XI,"count"],null)],null)],null)],null)],null)]),Vu([_p,yx,uO,xT,JB,fP,CU,GH,UW],[_P,Rm,new Xl(null,1,5,Kl,[new ku(null,5,[Xw,"color",ak,"sequential",qH,new ku(null,1,[aq,kF],null),D$,new ku(null,2,[UW,"tree",ek,PL],null),Zo,!0],null)],null),5,new Xl(null,3,5,Kl,[new ku(null,3,[ak,"path",qM,new ku(null,1,[UW,"links"],null),fR,new ku(null,1,[vk,new ku(null,2,[gs,new ku(null,1,[ek,"path"],null),Ah,new ku(null,1,[Vy,"#ccc"],null)],null)],null)],null),new ku(null,3,[ak,"symbol",qM,new ku(null,1,[UW,"tree"],null),fR,new ku(null,2,[mE,new ku(null,2,[SA,new ku(null,1,[Vy,100],null),Ah,new ku(null,1,[Vy,"#fff"],null)],null),vk,new ku(null,3,[JP,new ku(null,1,[ek,UP],null),Co,new ku(null,1,[ek,xF],null),Iy,new ku(null,2,[Wm,"color",ek,PL],null)],null)],null)],null),new ku(null,3,[ak,"text",qM,new ku(null,1,[UW,"tree"],null),fR,new ku(null,2,[mE,new ku(null,3,[EW,new ku(null,1,[ek,EU],null),t$,new ku(null,1,[Vy,UO],null),qs,new ku(null,1,[Vy,uz],null)],null),vk,new ku(null,5,[JP,new ku(null,1,[ek,UP],null),Co,new ku(null,1,[ek,xF],null),Yd,new ku(null,1,[XI,"datum.children ? -7 : 7"],null),Cf,new ku(null,1,[XI,"datum.children ? 'right' : 'left'"],null),OF,iW],null)],null)],null)],null),"https://vega.github.io/schema/vega/v4.json",_k,jB,new Xl(null,2,5,Kl,[new ku(null,4,[Xw,"tree",$F,Dq,RN,Rh,Td,new Xl(null,2,5,Kl,[new ku(null,3,[ak,"stratify",ag,nh,tw,LS],null),new ku(null,4,[ak,"tree",Hv,kv,SA,nm,hy,jW],null)],null)],null),new ku(null,3,[Xw,"links",Mj,"tree",Td,new Xl(null,2,5,Kl,[new ku(null,1,[ak,"treelinks"],null),new ku(null,3,[ak,"linkpath",gj,qP,yN,Km],null)],null)],null)],null)]);var T4,N4,B4,z4,P4,$4,R4,I4,L4,U4,q4,H4,W4,G4,Y4,V4,J4,X4,K4,Z4,Q4,n9,t9,e9,r9,i9,l9,u9,a9,o9,s9,c9,f9,h9,d9,p9,g9,m9,v9,w9,y9,b9,x9,_9,k9,j9,O9,A9,E9,S9,C9,D9,M9={},F9={};function T9(){}function N9(n,t,e,r){if(null!=n&&null!=n.Ea)n=n.Ea(n,t,e,r);else{var i=N9[s(null==n?null:n)];if(null!=i)n=i.aa?i.aa(n,t,e,r):i.call(null,n,t,e,r);else{if(null==(i=N9._))throw Hn("RichNavigator.select*",n);n=i.aa?i.aa(n,t,e,r):i.call(null,n,t,e,r)}}return n}function B9(n,t,e,r){if(null!=n&&null!=n.Fa)n=n.Fa(n,t,e,r);else{var i=B9[s(null==n?null:n)];if(null!=i)n=i.aa?i.aa(n,t,e,r):i.call(null,n,t,e,r);else{if(null==(i=B9._))throw Hn("RichNavigator.transform*",n);n=i.aa?i.aa(n,t,e,r):i.call(null,n,t,e,r)}}return n}function z9(){}function P9(n){if(null!=n&&null!=n.com$rpl$specter$protocols$ImplicitNav$implicit_nav$arity$1)n=n.com$rpl$specter$protocols$ImplicitNav$implicit_nav$arity$1(n);else{var t=P9[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=P9._))throw Hn("ImplicitNav.implicit-nav",n);n=t.g?t.g(n):t.call(null,n)}}return n}var $9,R9,I9,L9,U9,q9,H9,W9={};function G9(n){return e=function(){function t(t,e,r,i,l,u,a,o,s,c,f){if(10<arguments.length)for(var h=0,d=Array(arguments.length-10);h<d.length;)d[h]=arguments[h+10],++h;return n}return t.R=10,t.S=function(t){return Me(t),Me(t=Te(t)),Me(t=Te(t)),Me(t=Te(t)),Me(t=Te(t)),Me(t=Te(t)),Me(t=Te(t)),Me(t=Te(t)),Me(t=Te(t)),Me(t=Te(t)),Fe(t),n},t.l=function(){return n},t}(),(t=function(t,r,i,l,u,a,o,s,c,f,h){switch(arguments.length){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return n;default:var d=null;if(10<arguments.length){d=0;for(var p=Array(arguments.length-10);d<p.length;)p[d]=arguments[d+10],++d;d=new lr(p,0,null)}return e.l(t,r,i,l,u,a,o,s,c,f,d)}throw Error("Invalid arity: "+arguments.length)}).R=10,t.S=e.S,t.L=function(){return n},t.g=function(){return n},t.a=function(){return n},t.j=function(){return n},t.aa=function(){return n},t.za=function(){return n},t.Ta=function(){return n},t.mb=function(){return n},t.Va=function(){return n},t.Wa=function(){return n},t.lb=function(){return n},t.l=e.l,t;var t,e}function Y9(n){throw Error(Pi.a(ii,n))}function V9(n,t,e,r){return n.Ea(null,t,e,r)}function J9(n,t,e,r){return n.Fa(null,t,e,r)}function X9(n){if(null!=n&&null!=n.oh)n=n.oh(n);else{var t=X9[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=X9._))throw Hn("PathComposer.do-comp-paths",n);n=t.g?t.g(n):t.call(null,n)}}return n}function K9(n){return null!=n?An===n.Ha||!n.od&&Un(T9,n):Un(T9,n)}function Z9(n){return K9(n)?n:X9(n)}function Q9(n){return K9(n)?n:(null!=n?An===n.com$rpl$specter$protocols$ImplicitNav$||!n.od&&Un(z9,n):Un(z9,n))?P9(n):Y9(ur(["Not a navigator: ",n," ",Ja.l(ur([qn(n)]))]))}function n8(n){if(null!=n&&null!=n.td)n=n.td(n);else{var t=n8[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=n8._))throw Hn("CoercePath.coerce-path",n);n=t.g?t.g(n):t.call(null,n)}}return n}function t8(n,t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==W9&&void 0!==R9||((R9=function(n,t,e){this.Dg=n,this.Eg=t,this.Bi=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new R9(this.Dg,this.Eg,t)},R9.prototype.X=function(){return this.Bi},R9.prototype.Ha=An,R9.prototype.Ea=function(n,t,e,r){var i=this;return V9(i.Dg,t,e,(function(n,t){return V9(i.Eg,n,t,r)}))},R9.prototype.Fa=function(n,t,e,r){var i=this;return J9(i.Dg,t,e,(function(n,t){return J9(i.Eg,n,t,r)}))},R9.wa=function(){return new Xl(null,3,5,Kl,[Df,Gd,ds],null)},R9.ta=!0,R9.sa="com.rpl.specter.impl/t_com$rpl$specter$impl16097",R9.ua=function(n){return Gt(n,"com.rpl.specter.impl/t_com$rpl$specter$impl16097")}),new R9(n,t,ju)}function e8(n,t){if(null!=n&&null!=n.nh)n=n.nh(n,t);else{var e=e8[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=e8._))throw Hn("PMutableCell.set_cell",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function r8(n){this.q=n}function i8(n,t){var e=n.q;e8(n,t=t.g?t.g(e):t.call(null,e))}function l8(n,t,e,r){return V9(n,e,r,(function(n,e){return n===Zl?t.g?t.g(e):t.call(null,e):(n=cr.a(n,e),t.g?t.g(n):t.call(null,n))}))}function u8(n,t,e){l8(n,t,Zl,e)}function a8(n,t){var e=function(n,t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==W9&&void 0!==I9||((I9=function(n,t,e){this.Le=n,this.Df=t,this.Ci=e,this.B=917504,this.U=0}).prototype.Y=function(n,t){return new I9(this.Le,this.Df,t)},I9.prototype.X=function(){return this.Ci},I9.prototype.Eb=function(n,t){return this.nb(null,t,t.L?t.L():t.call(null))},I9.prototype.nb=function(n,t,e){var r=new r8(e);return u8(this.Le,(function(n){var e=r.q;return n=t.a?t.a(e,n):t.call(null,e,n),e8(r,n),n}),this.Df),r.q},I9.wa=function(){return new Xl(null,3,5,Kl,[wU,hR,Mh],null)},I9.ta=!0,I9.sa="com.rpl.specter.impl/t_com$rpl$specter$impl16108",I9.ua=function(n){return Gt(n,"com.rpl.specter.impl/t_com$rpl$specter$impl16108")}),new I9(n,t,ju)}(n,t);return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==W9&&void 0!==L9||((L9=function(n,t,e,r){this.Le=n,this.Df=t,this.Zh=e,this.Di=r,this.B=917504,this.U=0}).prototype.Y=function(n,t){return new L9(this.Le,this.Df,this.Zh,t)},L9.prototype.X=function(){return this.Di},L9.prototype.Eb=function(n,t){return this.nb(null,t,t.L?t.L():t.call(null))},L9.prototype.nb=function(n,t,e){return Ve(this.Zh.nb(null,t,e))},L9.wa=function(){return new Xl(null,4,5,Kl,[wU,hR,ZT,xh],null)},L9.ta=!0,L9.sa="com.rpl.specter.impl/t_com$rpl$specter$impl16111",L9.ua=function(n){return Gt(n,"com.rpl.specter.impl/t_com$rpl$specter$impl16111")}),new L9(n,t,e,ju)}function o8(n,t){var e=new r8(ne(Zl));return u8(n,(function(n){return n=Ci.a(e.q,n),e8(e,n)}),t),ee(e.q)}function s8(n,t){var e=new r8(MS);return u8(n,(function(n){return e.q===MS?e8(e,n):Y9(ur(["More than one element found in structure: ",n]))}),t),(n=e.q)===MS?null:n}function c8(n,t,e){return t===Zl?n.g?n.g(e):n.call(null,e):Pi.a(n,cr.a(t,e))}function f8(n,t,e){return J9(n,Zl,e,(function(n,e){return c8(t,n,e)}))}function h8(n,t,e,r,i){this.F=n,this.ab=t,this.o=e,this.h=r,this.G=i,this.B=2230716170,this.U=139264}function d8(n,t){return new h8(n,t,null,null,null)}function p8(n,t,e,r,i,l){this.F=n,this.uc=t,this.ab=e,this.o=r,this.h=i,this.G=l,this.B=2230716170,this.U=139264}function g8(n,t,e){return new p8(n,t,e,null,null,null)}function m8(n,t,e,r,i){this.F=n,this.code=t,this.o=e,this.h=r,this.G=i,this.B=2230716170,this.U=139264}function v8(n,t){return new m8(n,t,null,null,null)}function w8(n,t,e,r,i,l){this.Fb=n,this.params=t,this.code=e,this.o=r,this.h=i,this.G=l,this.B=2230716170,this.U=139264}function y8(n,t,e){return new w8(n,t,e,null,null,null)}function b8(n,t,e,r){this.code=n,this.o=t,this.h=e,this.G=r,this.B=2230716170,this.U=139264}function x8(n,t,e,r){this.path=n,this.o=t,this.h=e,this.G=r,this.B=2230716170,this.U=139264}function _8(n,t,e,r,i,l){this.Fb=n,this.params=t,this.code=e,this.o=r,this.h=i,this.G=l,this.B=2230716170,this.U=139264}function k8(n,t,e){return new _8(n,t,e,null,null,null)}function j8(n){return $r(_a([x8,_8,b8]),qn(n))}n8.null=function(n){return Q9(n)},Xl.prototype.td=function(){return X9(this)},lr.prototype.td=function(){return n8(nu(this))},oi.prototype.td=function(){return n8(nu(this))},ui.prototype.td=function(){return n8(nu(this))},wi.prototype.td=function(){return n8(nu(this))},ru.prototype.td=function(){return n8(Dl.a(Zl,this))},n8._=function(n){return Q9(n)},void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==W9&&void 0!==$9||((i=($9=function(n){this.Ai=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new $9(t)},i.X=function(){return this.Ai},i.Ha=An,i.Ea=function(n,t,e,r){return r.a?r.a(t,e):r.call(null,t,e)},i.Fa=function(n,t,e,r){return r.a?r.a(t,e):r.call(null,t,e)},$9.wa=function(){return new Xl(null,1,5,Kl,[RC],null)},$9.ta=!0,$9.sa="com.rpl.specter.impl/t_com$rpl$specter$impl16094",$9.ua=function(n){return Gt(n,"com.rpl.specter.impl/t_com$rpl$specter$impl16094")}),H9=new $9(ju),X9.null=function(n){return n8(n)},X9._=function(n){return n8(n)},Xl.prototype.oh=function(){var n=pl.a(n8,this);return kr(n)?H9:Ne.a(1,hr(n))?Me(n):qr(t8,n)},r8.prototype.nh=function(n,t){return this.q=t},(i=h8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"val":return this.F;case"sym":return this.ab;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LocalSym{",", ","}",e,Si.a(new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[R_,this.F],null),new Xl(null,2,5,Kl,[UA,this.ab],null)],null),this.h))},i.Ca=function(){return new gu(this,2,new Xl(null,2,5,Kl,[R_,UA],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new h8(this.F,this.ab,this.o,this.h,this.G)},i.na=function(){return 2+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1023826277^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.F,t.F)&&Ne.a(this.ab,t.ab)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,2,[R_,null,UA,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new h8(this.F,this.ab,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(R_,t):gi.call(null,R_,t))?new h8(e,this.ab,this.o,this.h,null):zn(gi.a?gi.a(UA,t):gi.call(null,UA,t))?new h8(this.F,e,this.o,this.h,null):new h8(this.F,this.ab,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,2,5,Kl,[new yu(R_,this.F,null),new yu(UA,this.ab,null)],null),this.h))},i.Y=function(n,t){return new h8(this.F,this.ab,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=p8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"val":return this.F;case"avar":return this.uc;case"sym":return this.ab;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.VarUse{",", ","}",e,Si.a(new Xl(null,3,5,Kl,[new Xl(null,2,5,Kl,[R_,this.F],null),new Xl(null,2,5,Kl,[s_,this.uc],null),new Xl(null,2,5,Kl,[UA,this.ab],null)],null),this.h))},i.Ca=function(){return new gu(this,3,new Xl(null,3,5,Kl,[R_,s_,UA],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new p8(this.F,this.uc,this.ab,this.o,this.h,this.G)},i.na=function(){return 3+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1211237282^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.F,t.F)&&Ne.a(this.uc,t.uc)&&Ne.a(this.ab,t.ab)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,3,[s_,null,R_,null,UA,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new p8(this.F,this.uc,this.ab,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(R_,t):gi.call(null,R_,t))?new p8(e,this.uc,this.ab,this.o,this.h,null):zn(gi.a?gi.a(s_,t):gi.call(null,s_,t))?new p8(this.F,e,this.ab,this.o,this.h,null):zn(gi.a?gi.a(UA,t):gi.call(null,UA,t))?new p8(this.F,this.uc,e,this.o,this.h,null):new p8(this.F,this.uc,this.ab,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,3,5,Kl,[new yu(R_,this.F,null),new yu(s_,this.uc,null),new yu(UA,this.ab,null)],null),this.h))},i.Y=function(n,t){return new p8(this.F,this.uc,this.ab,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=m8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"val":return this.F;case"code":return this.code;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.SpecialFormUse{",", ","}",e,Si.a(new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[R_,this.F],null),new Xl(null,2,5,Kl,[IN,this.code],null)],null),this.h))},i.Ca=function(){return new gu(this,2,new Xl(null,2,5,Kl,[R_,IN],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new m8(this.F,this.code,this.o,this.h,this.G)},i.na=function(){return 2+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1595666739^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.F,t.F)&&Ne.a(this.code,t.code)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,2,[R_,null,IN,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new m8(this.F,this.code,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(R_,t):gi.call(null,R_,t))?new m8(e,this.code,this.o,this.h,null):zn(gi.a?gi.a(IN,t):gi.call(null,IN,t))?new m8(this.F,e,this.o,this.h,null):new m8(this.F,this.code,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,2,5,Kl,[new yu(R_,this.F,null),new yu(IN,this.code,null)],null),this.h))},i.Y=function(n,t){return new m8(this.F,this.code,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=w8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"op":return this.Fb;case"params":return this.params;case"code":return this.code;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.FnInvocation{",", ","}",e,Si.a(new Xl(null,3,5,Kl,[new Xl(null,2,5,Kl,[xj,this.Fb],null),new Xl(null,2,5,Kl,[Zx,this.params],null),new Xl(null,2,5,Kl,[IN,this.code],null)],null),this.h))},i.Ca=function(){return new gu(this,3,new Xl(null,3,5,Kl,[xj,Zx,IN],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new w8(this.Fb,this.params,this.code,this.o,this.h,this.G)},i.na=function(){return 3+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-350872877^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.Fb,t.Fb)&&Ne.a(this.params,t.params)&&Ne.a(this.code,t.code)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,3,[Zx,null,xj,null,IN,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new w8(this.Fb,this.params,this.code,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(xj,t):gi.call(null,xj,t))?new w8(e,this.params,this.code,this.o,this.h,null):zn(gi.a?gi.a(Zx,t):gi.call(null,Zx,t))?new w8(this.Fb,e,this.code,this.o,this.h,null):zn(gi.a?gi.a(IN,t):gi.call(null,IN,t))?new w8(this.Fb,this.params,e,this.o,this.h,null):new w8(this.Fb,this.params,this.code,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,3,5,Kl,[new yu(xj,this.Fb,null),new yu(Zx,this.params,null),new yu(IN,this.code,null)],null),this.h))},i.Y=function(n,t){return new w8(this.Fb,this.params,this.code,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=b8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"code":return this.code;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.DynamicVal{",", ","}",e,Si.a(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[IN,this.code],null)],null),this.h))},i.Ca=function(){return new gu(this,1,new Xl(null,1,5,Kl,[IN],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new b8(this.code,this.o,this.h,this.G)},i.na=function(){return 1+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=531988365^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.code,t.code)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,1,[IN,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new b8(this.code,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(IN,t):gi.call(null,IN,t))?new b8(e,this.o,this.h,null):new b8(this.code,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,1,5,Kl,[new yu(IN,this.code,null)],null),this.h))},i.Y=function(n,t){return new b8(this.code,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=x8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"path":return this.path;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.DynamicPath{",", ","}",e,Si.a(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[gs,this.path],null)],null),this.h))},i.Ca=function(){return new gu(this,1,new Xl(null,1,5,Kl,[gs],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new x8(this.path,this.o,this.h,this.G)},i.na=function(){return 1+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=297748926^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.path,t.path)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,1,[gs,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new x8(this.path,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(gs,t):gi.call(null,gs,t))?new x8(e,this.o,this.h,null):new x8(this.path,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,1,5,Kl,[new yu(gs,this.path,null)],null),this.h))},i.Y=function(n,t){return new x8(this.path,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=_8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"op":return this.Fb;case"params":return this.params;case"code":return this.code;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.DynamicFunction{",", ","}",e,Si.a(new Xl(null,3,5,Kl,[new Xl(null,2,5,Kl,[xj,this.Fb],null),new Xl(null,2,5,Kl,[Zx,this.params],null),new Xl(null,2,5,Kl,[IN,this.code],null)],null),this.h))},i.Ca=function(){return new gu(this,3,new Xl(null,3,5,Kl,[xj,Zx,IN],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new _8(this.Fb,this.params,this.code,this.o,this.h,this.G)},i.na=function(){return 3+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1045900877^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.Fb,t.Fb)&&Ne.a(this.params,t.params)&&Ne.a(this.code,t.code)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,3,[Zx,null,xj,null,IN,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new _8(this.Fb,this.params,this.code,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(xj,t):gi.call(null,xj,t))?new _8(e,this.params,this.code,this.o,this.h,null):zn(gi.a?gi.a(Zx,t):gi.call(null,Zx,t))?new _8(this.Fb,e,this.code,this.o,this.h,null):zn(gi.a?gi.a(IN,t):gi.call(null,IN,t))?new _8(this.Fb,this.params,e,this.o,this.h,null):new _8(this.Fb,this.params,this.code,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,3,5,Kl,[new yu(xj,this.Fb,null),new yu(Zx,this.params,null),new yu(IN,this.code,null)],null),this.h))},i.Y=function(n,t){return new _8(this.Fb,this.params,this.code,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)};function O8(n){return function n(t){return Ar(t)?el(n,t):!j8(t)}(n)?Z9(n):new x8(n,null,null,null)}function A8(n,t,e,r,i){this.Ya=n,this.$a=t,this.o=e,this.h=r,this.G=i,this.B=2230716170,this.U=139264}function E8(n,t,e,r){return zn(n.g?n.g(e):n.call(null,e))?r.a?r.a(t,e):r.call(null,t,e):MS}function S8(n,t,e,r){return zn(n.g?n.g(e):n.call(null,e))?r.a?r.a(t,e):r.call(null,t,e):e}function C8(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==W9&&void 0!==U9||((U9=function(n,t){this.W=n,this.Ei=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new U9(this.W,t)},U9.prototype.X=function(){return this.Ei},U9.prototype.Ha=An,U9.prototype.Ea=function(n,t,e,r){return zn(this.W.g?this.W.g(e):this.W.call(null,e))?r.a?r.a(t,e):r.call(null,t,e):MS},U9.prototype.Fa=function(n,t,e,r){return zn(this.W.g?this.W.g(e):this.W.call(null,e))?r.a?r.a(t,e):r.call(null,t,e):e},U9.wa=function(){return new Xl(null,2,5,Kl,[Ix,tp],null)},U9.ta=!0,U9.sa="com.rpl.specter.impl/t_com$rpl$specter$impl16280",U9.ua=function(n){return Gt(n,"com.rpl.specter.impl/t_com$rpl$specter$impl16280")}),new U9(n,ju)}function D8(){var n=new r8(null);return $i(function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==W9&&void 0!==q9||((q9=function(n,t){this.cell=n,this.Fi=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new q9(this.cell,t)},q9.prototype.X=function(){return this.Fi},q9.prototype.Ha=An,q9.prototype.Ea=function(n,t,e,r){return V9(this.cell.q,t,e,r)},q9.prototype.Fa=function(n,t,e,r){return J9(this.cell.q,t,e,r)},q9.wa=function(){return new Xl(null,2,5,Kl,[$h,eh],null)},q9.ta=!0,q9.sa="com.rpl.specter.impl/t_com$rpl$specter$impl16286",q9.ua=function(n){return Gt(n,"com.rpl.specter.impl/t_com$rpl$specter$impl16286")}),new q9(n,ju)}(n),jv,n)}function M8(n,t){e8(n=jv.g(xr(n)),t)}(i=A8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"dynamic?":return this.Ya;case"precompiled":return this.$a;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.CachedPathInfo{",", ","}",e,Si.a(new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[jm,this.Ya],null),new Xl(null,2,5,Kl,[NB,this.$a],null)],null),this.h))},i.Ca=function(){return new gu(this,2,new Xl(null,2,5,Kl,[jm,NB],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new A8(this.Ya,this.$a,this.o,this.h,this.G)},i.na=function(){return 2+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=626511117^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.Ya,t.Ya)&&Ne.a(this.$a,t.$a)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,2,[jm,null,NB,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new A8(this.Ya,this.$a,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(jm,t):gi.call(null,jm,t))?new A8(e,this.$a,this.o,this.h,null):zn(gi.a?gi.a(NB,t):gi.call(null,NB,t))?new A8(this.Ya,e,this.o,this.h,null):new A8(this.Ya,this.$a,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,2,5,Kl,[new yu(jm,this.Ya,null),new yu(NB,this.$a,null)],null),this.h))},i.Y=function(n,t){return new A8(this.Ya,this.$a,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)};var F8=function n(t){switch(arguments.length){case 0:return n.L();case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);case 4:return n.aa(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return n.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return n.Ta(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return n.mb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 8:return n.Va(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 9:return n.Wa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 10:return n.lb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 11:return n.pb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);case 12:return n.qb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 13:return n.rb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 14:return n.sb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13]);case 15:return n.tb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 16:return n.ub(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 17:return n.vb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 18:return n.wb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 19:return n.Db(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],new lr(e.slice(19),0,null))}};function T8(n,t,e,r){if("string"==typeof n){var i=(l=n.substring(t,e),r.g?r.g(l):r.call(null,l));return[n.substring(0,t),ii.g(i),n.substring(e,n.length)].join("")}var l,u=nu(n);return i=function(){var n=lu(u,t,e);return r.g?r.g(n):r.call(null,n)}(),i=Si.l(lu(u,0,t),i,ur([lu(u,e,hr(n))])),Cr(n)?nu(i):i}function N8(n,t){return Me(Hr((function(n,t){var e=pr(n,0),r=pr(n,1);return n=pr(n,2),null==r?new Xl(null,3,5,Kl,[e,t,t],null):Ne.a(t,n+1)?new Xl(null,3,5,Kl,[e,r,t],null):new Xl(null,3,5,Kl,[cr.a(e,new Xl(null,2,5,Kl,[r,n+1],null)),t,t],null)}),new Xl(null,3,5,Kl,[Zl,null,null],null),Si.a(function(n,t){return dl((function(n,e){return zn(t.g?t.g(e):t.call(null,e))?n:null}),n)}(n,t),new Xl(null,1,5,Kl,[-1],null))))}function B8(n,t,e){return Hr((function(n,t){return T8(n,pr(t,0),t=pr(t,1),e)}),t,ci(N8(t,n)))}function z8(n){var t=new r8(MS);return function n(e){return zn(j8.g?j8.g(e):j8.call(null,e))?((e=Gr.g?Gr.g(e):Gr.call(null,e))!==MS&&e8(t,e),e):CV(n,Gr,e)}(n),t.q}F8.L=function(){return H9},F8.g=function(n){return n},F8.a=function(n,t){return t8(n,t)},F8.j=function(n,t,e){return F8.a(n,F8.a(t,e))},F8.aa=function(n,t,e,r){return F8.a(n,F8.j(t,e,r))},F8.za=function(n,t,e,r,i){return F8.a(n,F8.aa(t,e,r,i))},F8.Ta=function(n,t,e,r,i,l){return F8.a(n,F8.za(t,e,r,i,l))},F8.mb=function(n,t,e,r,i,l,u){return F8.a(n,F8.Ta(t,e,r,i,l,u))},F8.Va=function(n,t,e,r,i,l,u,a){return F8.a(n,F8.mb(t,e,r,i,l,u,a))},F8.Wa=function(n,t,e,r,i,l,u,a,o){return F8.a(n,F8.Va(t,e,r,i,l,u,a,o))},F8.lb=function(n,t,e,r,i,l,u,a,o,s){return F8.a(n,F8.Wa(t,e,r,i,l,u,a,o,s))},F8.pb=function(n,t,e,r,i,l,u,a,o,s,c){return F8.a(n,F8.lb(t,e,r,i,l,u,a,o,s,c))},F8.qb=function(n,t,e,r,i,l,u,a,o,s,c,f){return F8.a(n,F8.pb(t,e,r,i,l,u,a,o,s,c,f))},F8.rb=function(n,t,e,r,i,l,u,a,o,s,c,f,h){return F8.a(n,F8.qb(t,e,r,i,l,u,a,o,s,c,f,h))},F8.sb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d){return F8.a(n,F8.rb(t,e,r,i,l,u,a,o,s,c,f,h,d))},F8.tb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){return F8.a(n,F8.sb(t,e,r,i,l,u,a,o,s,c,f,h,d,p))},F8.ub=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){return F8.a(n,F8.tb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g))},F8.vb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){return F8.a(n,F8.ub(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m))},F8.wb=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){return F8.a(n,F8.vb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v))},F8.Db=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){return F8.a(n,F8.wb(t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w))},F8.l=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){return F8.a(F8.Db(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w),qr(F8,y))},F8.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);e=Me(r);var i=Te(r);r=Me(i);var l=Te(i);i=Me(l);var u=Te(l);l=Me(u);var a=Te(u);u=Me(a);var o=Te(a);a=Me(o);var s=Te(o);o=Me(s);var c=Te(s);s=Me(c);var f=Te(c);c=Me(f);var h=Te(f);f=Me(h);var d=Te(h);h=Me(d);var p=Te(d);d=Me(p);var g=Te(p);p=Me(g);var m=Te(g);g=Me(m);var v=Te(m);m=Me(v);var w=Te(v);v=Me(w);var y=Te(w);return w=Me(y),y=Te(y),this.l(t,n,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y)},F8.R=19;function P8(n){return(null!=n?An===n.Ha||!n.od&&Un(T9,n):Un(T9,n))?n:Ar(n)?Z9(n):P9(n)}function $8(n){var t=new ku(null,2,[vD,!0,xL,n],null),e=xr(n);return br(n,t=ma.a?ma.a(e,t):ma.call(null,e,t))}function R8(n,t){return zn(t)?$8(n):n}function I8(n){return vD.g(xr(n))}function L8(n){return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return MS===z8(t)?Pi.a(n,t):k8(n,t,null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}function U8(n,t){return ai(t)||Nr(t)?pl.a(n,t):Dl.a(fr(t),pl.a(n,t))}var q8=function n(t){switch(arguments.length){case 1:return n.g(arguments[0]);case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function H8(n,t){if(null!=n&&null!=n.Rb)n=n.Rb(n,t);else{var e=H8[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=H8._))throw Hn("LateResolve.late-resolve",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function W8(n,t,e,r){this.Qa=n,this.o=t,this.h=e,this.G=r,this.B=2230716170,this.U=139264}function G8(n,t,e,r){this.F=n,this.o=t,this.h=e,this.G=r,this.B=2230716170,this.U=139264}function Y8(n,t,e,r){this.v=n,this.o=t,this.h=e,this.G=r,this.B=2230716170,this.U=139264}function V8(n,t,e,r,i){this.v=n,this.w=t,this.o=e,this.h=r,this.G=i,this.B=2230716170,this.U=139264}function J8(n,t,e,r,i,l){this.v=n,this.w=t,this.A=e,this.o=r,this.h=i,this.G=l,this.B=2230716170,this.U=139264}function X8(n,t,e,r,i,l,u){this.v=n,this.w=t,this.A=e,this.C=r,this.o=i,this.h=l,this.G=u,this.B=2230716170,this.U=139264}function K8(n,t,e,r,i,l,u,a){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.o=l,this.h=u,this.G=a,this.B=2230716170,this.U=139264}function Z8(n,t,e,r,i,l,u,a,o){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.o=u,this.h=a,this.G=o,this.B=2230716170,this.U=139264}function Q8(n,t,e,r,i,l,u,a,o,s){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.o=a,this.h=o,this.G=s,this.B=2230716170,this.U=139264}function n7(n,t,e,r,i,l,u,a,o,s,c){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.o=o,this.h=s,this.G=c,this.B=2230716170,this.U=139264}function t7(n,t,e,r,i,l,u,a,o,s,c,f){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.o=s,this.h=c,this.G=f,this.B=2230716170,this.U=139264}function e7(n,t,e,r,i,l,u,a,o,s,c,f,h){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.o=c,this.h=f,this.G=h,this.B=2230716170,this.U=139264}function r7(n,t,e,r,i,l,u,a,o,s,c,f,h,d){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.o=f,this.h=h,this.G=d,this.B=2230716170,this.U=139264}function i7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.o=h,this.h=d,this.G=p,this.B=2230716170,this.U=139264}function l7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.T=h,this.o=d,this.h=p,this.G=g,this.B=2230716170,this.U=139264}function u7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.T=h,this.V=d,this.o=p,this.h=g,this.G=m,this.B=2230716170,this.U=139264}function a7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.T=h,this.V=d,this.ca=p,this.o=g,this.h=m,this.G=v,this.B=2230716170,this.U=139264}function o7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.T=h,this.V=d,this.ca=p,this.ha=g,this.o=m,this.h=v,this.G=w,this.B=2230716170,this.U=139264}function s7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.T=h,this.V=d,this.ca=p,this.ha=g,this.ma=m,this.o=v,this.h=w,this.G=y,this.B=2230716170,this.U=139264}function c7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.T=h,this.V=d,this.ca=p,this.ha=g,this.ma=m,this.Da=v,this.o=w,this.h=y,this.G=b,this.B=2230716170,this.U=139264}function f7(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w,y,b,x){this.v=n,this.w=t,this.A=e,this.C=r,this.D=i,this.H=l,this.I=u,this.J=a,this.K=o,this.M=s,this.N=c,this.P=f,this.T=h,this.V=d,this.ca=p,this.ha=g,this.ma=m,this.Da=v,this.Bb=w,this.o=y,this.h=b,this.G=x,this.B=2230716170,this.U=139264}function h7(n,t){switch(hr(t)){case 0:return new Y8(n,null,null,null);case 1:return new V8(n,dr(t,0),null,null,null);case 2:return new J8(n,dr(t,0),dr(t,1),null,null,null);case 3:return new X8(n,dr(t,0),dr(t,1),dr(t,2),null,null,null);case 4:return new K8(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),null,null,null);case 5:return new Z8(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),null,null,null);case 6:return new Q8(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),null,null,null);case 7:return new n7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),null,null,null);case 8:return new t7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),null,null,null);case 9:return new e7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),null,null,null);case 10:return new r7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),null,null,null);case 11:return new i7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),null,null,null);case 12:return new l7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),dr(t,11),null,null,null);case 13:return new u7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),dr(t,11),dr(t,12),null,null,null);case 14:return new a7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),dr(t,11),dr(t,12),dr(t,13),null,null,null);case 15:return new o7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),dr(t,11),dr(t,12),dr(t,13),dr(t,14),null,null,null);case 16:return new s7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),dr(t,11),dr(t,12),dr(t,13),dr(t,14),dr(t,15),null,null,null);case 17:return new c7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),dr(t,11),dr(t,12),dr(t,13),dr(t,14),dr(t,15),dr(t,16),null,null,null);case 18:return new f7(n,dr(t,0),dr(t,1),dr(t,2),dr(t,3),dr(t,4),dr(t,5),dr(t,6),dr(t,7),dr(t,8),dr(t,9),dr(t,10),dr(t,11),dr(t,12),dr(t,13),dr(t,14),dr(t,15),dr(t,16),dr(t,17),null,null,null);default:return Y9(ur(["Cannot have late function with more than 18 args"]))}}function d7(n,t){return h7(new G8(n,null,null,null),t)}function p7(n,t){var e=pr(dl((function(t,e){return Ne.a(e,n)?t:null}),t),0);return null==e&&Y9(ur(["Could not find ",n," in possible params ",t])),R8(new W8(e,null,null,null),I8(n))}function g7(n){return R8(new G8(n,null,null,null),I8(n))}q8.g=function(n){return q8.a(n,!0)},q8.a=function(n,t){return Ar(n)?zn(t)?(n=B8(K9,Pa(pl.a(q8,Cl(n))),(function(n){return new Xl(null,1,5,Kl,[Z9(n)],null)})),Ne.a(1,hr(n))?Me(n):n):U8((function(n){return q8.a(n,!1)}),n):n instanceof _8?k8(q8.a(n.Fb,!1),Pa(pl.a((function(n){return q8.a(n,!1)}),n.params)),n.code):n instanceof x8?new x8(q8.g(n.path),null,null,null):n instanceof b8?n:zn(t)?P8(n):n},q8.R=2,(i=W8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"idx":return this.Qa;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){return dr(t,this.Qa)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LocalParam{",", ","}",e,Si.a(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[w$,this.Qa],null)],null),this.h))},i.Ca=function(){return new gu(this,1,new Xl(null,1,5,Kl,[w$],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new W8(this.Qa,this.o,this.h,this.G)},i.na=function(){return 1+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-301692215^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.Qa,t.Qa)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,1,[w$,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new W8(this.Qa,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(w$,t):gi.call(null,w$,t))?new W8(e,this.o,this.h,null):new W8(this.Qa,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,1,5,Kl,[new yu(w$,this.Qa,null)],null),this.h))},i.Y=function(n,t){return new W8(this.Qa,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=G8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"val":return this.F;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(){return this.F},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.StaticParam{",", ","}",e,Si.a(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[R_,this.F],null)],null),this.h))},i.Ca=function(){return new gu(this,1,new Xl(null,1,5,Kl,[R_],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new G8(this.F,this.o,this.h,this.G)},i.na=function(){return 1+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=787001817^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.F,t.F)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,1,[R_,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new G8(this.F,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(R_,t):gi.call(null,R_,t))?new G8(e,this.o,this.h,null):new G8(this.F,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,1,5,Kl,[new yu(R_,this.F,null)],null),this.h))},i.Y=function(n,t){return new G8(this.F,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=Y8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){return(n=H8(this.v,t)).L?n.L():n.call(null)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn0{",", ","}",e,Si.a(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null)],null),this.h))},i.Ca=function(){return new gu(this,1,new Xl(null,1,5,Kl,[sd],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new Y8(this.v,this.o,this.h,this.G)},i.na=function(){return 1+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1214220781^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,1,[sd,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new Y8(this.v,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new Y8(e,this.o,this.h,null):new Y8(this.v,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,1,5,Kl,[new yu(sd,this.v,null)],null),this.h))},i.Y=function(n,t){return new Y8(this.v,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=V8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){return n=H8(this.w,t),(t=H8(this.v,t)).g?t.g(n):t.call(null,n)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn1{",", ","}",e,Si.a(new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null)],null),this.h))},i.Ca=function(){return new gu(this,2,new Xl(null,2,5,Kl,[sd,FM],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new V8(this.v,this.w,this.o,this.h,this.G)},i.na=function(){return 2+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1315140313^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,2,[sd,null,FM,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new V8(this.v,this.w,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new V8(e,this.w,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new V8(this.v,e,this.o,this.h,null):new V8(this.v,this.w,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,2,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null)],null),this.h))},i.Y=function(n,t){return new V8(this.v,this.w,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=J8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t);return(t=H8(this.v,t)).a?t.a(n,e):t.call(null,n,e)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn2{",", ","}",e,Si.a(new Xl(null,3,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null)],null),this.h))},i.Ca=function(){return new gu(this,3,new Xl(null,3,5,Kl,[sd,FM,Wq],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new J8(this.v,this.w,this.A,this.o,this.h,this.G)},i.na=function(){return 3+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1833421521^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,3,[sd,null,FM,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new J8(this.v,this.w,this.A,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new J8(e,this.w,this.A,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new J8(this.v,e,this.A,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new J8(this.v,this.w,e,this.o,this.h,null):new J8(this.v,this.w,this.A,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,3,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null)],null),this.h))},i.Y=function(n,t){return new J8(this.v,this.w,this.A,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=X8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t);return(t=H8(this.v,t)).j?t.j(n,e,r):t.call(null,n,e,r)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn3{",", ","}",e,Si.a(new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null)],null),this.h))},i.Ca=function(){return new gu(this,4,new Xl(null,4,5,Kl,[sd,FM,Wq,Qp],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new X8(this.v,this.w,this.A,this.C,this.o,this.h,this.G)},i.na=function(){return 4+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1966076701^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,4,[sd,null,Qp,null,FM,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new X8(this.v,this.w,this.A,this.C,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new X8(e,this.w,this.A,this.C,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new X8(this.v,e,this.A,this.C,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new X8(this.v,this.w,e,this.C,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new X8(this.v,this.w,this.A,e,this.o,this.h,null):new X8(this.v,this.w,this.A,this.C,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,4,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null)],null),this.h))},i.Y=function(n,t){return new X8(this.v,this.w,this.A,this.C,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=K8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t);return(t=H8(this.v,t)).aa?t.aa(n,e,r,i):t.call(null,n,e,r,i)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn4{",", ","}",e,Si.a(new Xl(null,5,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null)],null),this.h))},i.Ca=function(){return new gu(this,5,new Xl(null,5,5,Kl,[sd,FM,Wq,Qp,Us],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new K8(this.v,this.w,this.A,this.C,this.D,this.o,this.h,this.G)},i.na=function(){return 5+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1293239800^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,5,[Us,null,sd,null,Qp,null,FM,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new K8(this.v,this.w,this.A,this.C,this.D,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new K8(e,this.w,this.A,this.C,this.D,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new K8(this.v,e,this.A,this.C,this.D,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new K8(this.v,this.w,e,this.C,this.D,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new K8(this.v,this.w,this.A,e,this.D,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new K8(this.v,this.w,this.A,this.C,e,this.o,this.h,null):new K8(this.v,this.w,this.A,this.C,this.D,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,5,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null)],null),this.h))},i.Y=function(n,t){return new K8(this.v,this.w,this.A,this.C,this.D,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=Z8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t);return(t=H8(this.v,t)).za?t.za(n,e,r,i,l):t.call(null,n,e,r,i,l)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn5{",", ","}",e,Si.a(new Xl(null,6,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null)],null),this.h))},i.Ca=function(){return new gu(this,6,new Xl(null,6,5,Kl,[sd,FM,Wq,Qp,Us,QL],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new Z8(this.v,this.w,this.A,this.C,this.D,this.H,this.o,this.h,this.G)},i.na=function(){return 6+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-686294298^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,6,[Us,null,sd,null,Qp,null,FM,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new Z8(this.v,this.w,this.A,this.C,this.D,this.H,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new Z8(e,this.w,this.A,this.C,this.D,this.H,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new Z8(this.v,e,this.A,this.C,this.D,this.H,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new Z8(this.v,this.w,e,this.C,this.D,this.H,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new Z8(this.v,this.w,this.A,e,this.D,this.H,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new Z8(this.v,this.w,this.A,this.C,e,this.H,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new Z8(this.v,this.w,this.A,this.C,this.D,e,this.o,this.h,null):new Z8(this.v,this.w,this.A,this.C,this.D,this.H,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,6,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null)],null),this.h))},i.Y=function(n,t){return new Z8(this.v,this.w,this.A,this.C,this.D,this.H,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=Q8.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t);return(t=H8(this.v,t)).Ta?t.Ta(n,e,r,i,l,u):t.call(null,n,e,r,i,l,u)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn6{",", ","}",e,Si.a(new Xl(null,7,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null)],null),this.h))},i.Ca=function(){return new gu(this,7,new Xl(null,7,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new Q8(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.o,this.h,this.G)},i.na=function(){return 7+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1454341741^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,7,[Us,null,sd,null,Qp,null,FM,null,a$,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new Q8(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new Q8(e,this.w,this.A,this.C,this.D,this.H,this.I,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new Q8(this.v,e,this.A,this.C,this.D,this.H,this.I,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new Q8(this.v,this.w,e,this.C,this.D,this.H,this.I,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new Q8(this.v,this.w,this.A,e,this.D,this.H,this.I,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new Q8(this.v,this.w,this.A,this.C,e,this.H,this.I,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new Q8(this.v,this.w,this.A,this.C,this.D,e,this.I,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new Q8(this.v,this.w,this.A,this.C,this.D,this.H,e,this.o,this.h,null):new Q8(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,7,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null)],null),this.h))},i.Y=function(n,t){return new Q8(this.v,this.w,this.A,this.C,this.D,this.H,this.I,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=n7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t);return(t=H8(this.v,t)).mb?t.mb(n,e,r,i,l,u,a):t.call(null,n,e,r,i,l,u,a)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn7{",", ","}",e,Si.a(new Xl(null,8,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null)],null),this.h))},i.Ca=function(){return new gu(this,8,new Xl(null,8,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new n7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.o,this.h,this.G)},i.na=function(){return 8+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=2042831251^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,8,[Us,null,sd,null,Qp,null,Xb,null,FM,null,a$,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new n7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new n7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new n7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new n7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new n7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new n7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new n7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new n7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new n7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.o,this.h,null):new n7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,8,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null)],null),this.h))},i.Y=function(n,t){return new n7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=t7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t);return(t=H8(this.v,t)).Va?t.Va(n,e,r,i,l,u,a,o):t.call(null,n,e,r,i,l,u,a,o)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn8{",", ","}",e,Si.a(new Xl(null,9,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null)],null),this.h))},i.Ca=function(){return new gu(this,9,new Xl(null,9,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new t7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.o,this.h,this.G)},i.na=function(){return 9+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=170516454^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,9,[Us,null,sd,null,bp,null,Qp,null,Xb,null,FM,null,a$,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new t7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new t7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new t7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new t7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new t7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new t7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new t7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new t7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new t7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new t7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.o,this.h,null):new t7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,9,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null)],null),this.h))},i.Y=function(n,t){return new t7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=e7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t);return(t=H8(this.v,t)).Wa?t.Wa(n,e,r,i,l,u,a,o,s):t.call(null,n,e,r,i,l,u,a,o,s)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn9{",", ","}",e,Si.a(new Xl(null,10,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null)],null),this.h))},i.Ca=function(){return new gu(this,10,new Xl(null,10,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new e7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.o,this.h,this.G)},i.na=function(){return 10+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=840896307^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,10,[Us,null,sd,null,bp,null,Qp,null,Xb,null,FM,null,a$,null,KR,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new e7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new e7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new e7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new e7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new e7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new e7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new e7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new e7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new e7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new e7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new e7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.o,this.h,null):new e7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,10,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null)],null),this.h))},i.Y=function(n,t){return new e7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=r7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t);return(t=H8(this.v,t)).lb?t.lb(n,e,r,i,l,u,a,o,s,c):t.call(null,n,e,r,i,l,u,a,o,s,c)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn10{",", ","}",e,Si.a(new Xl(null,11,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null)],null),this.h))},i.Ca=function(){return new gu(this,11,new Xl(null,11,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.o,this.h,this.G)},i.na=function(){return 11+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1353979086^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,11,[Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,FM,null,a$,null,KR,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new r7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new r7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new r7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new r7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new r7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new r7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new r7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.o,this.h,null):new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,11,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null)],null),this.h))},i.Y=function(n,t){return new r7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=i7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t);return(t=H8(this.v,t)).pb?t.pb(n,e,r,i,l,u,a,o,s,c,f):t.call(null,n,e,r,i,l,u,a,o,s,c,f)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn11{",", ","}",e,Si.a(new Xl(null,12,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null)],null),this.h))},i.Ca=function(){return new gu(this,12,new Xl(null,12,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,this.h,this.G)},i.na=function(){return 12+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=180129418^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,12,[Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,zD,null,FM,null,a$,null,KR,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new i7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new i7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new i7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new i7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new i7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new i7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new i7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.o,this.h,null):new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,12,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null)],null),this.h))},i.Y=function(n,t){return new i7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=l7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;case"arg11":return this.T;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t),h=H8(this.T,t);return(t=H8(this.v,t)).qb?t.qb(n,e,r,i,l,u,a,o,s,c,f,h):t.call(null,n,e,r,i,l,u,a,o,s,c,f,h)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn12{",", ","}",e,Si.a(new Xl(null,13,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null),new Xl(null,2,5,Kl,[Y$,this.T],null)],null),this.h))},i.Ca=function(){return new gu(this,13,new Xl(null,13,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD,Y$],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,this.G)},i.na=function(){return 13+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1789372539^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.T,t.T)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,13,[Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,zD,null,FM,null,a$,null,Y$,null,KR,null,QL,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new l7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new l7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new l7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new l7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new l7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new l7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new l7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.T,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.T,this.o,this.h,null):zn(gi.a?gi.a(Y$,t):gi.call(null,Y$,t))?new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,e,this.o,this.h,null):new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,13,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null),new yu(Y$,this.T,null)],null),this.h))},i.Y=function(n,t){return new l7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=u7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;case"arg11":return this.T;case"arg12":return this.V;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t),h=H8(this.T,t),d=H8(this.V,t);return(t=H8(this.v,t)).rb?t.rb(n,e,r,i,l,u,a,o,s,c,f,h,d):t.call(null,n,e,r,i,l,u,a,o,s,c,f,h,d)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn13{",", ","}",e,Si.a(new Xl(null,14,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null),new Xl(null,2,5,Kl,[Y$,this.T],null),new Xl(null,2,5,Kl,[rU,this.V],null)],null),this.h))},i.Ca=function(){return new gu(this,14,new Xl(null,14,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD,Y$,rU],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,this.G)},i.na=function(){return 14+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=1059049277^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.T,t.T)&&Ne.a(this.V,t.V)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,14,[Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,zD,null,FM,null,a$,null,Y$,null,KR,null,QL,null,rU,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new u7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new u7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new u7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new u7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new u7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new u7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.T,this.V,this.o,this.h,null):zn(gi.a?gi.a(Y$,t):gi.call(null,Y$,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,e,this.V,this.o,this.h,null):zn(gi.a?gi.a(rU,t):gi.call(null,rU,t))?new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,e,this.o,this.h,null):new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,14,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null),new yu(Y$,this.T,null),new yu(rU,this.V,null)],null),this.h))},i.Y=function(n,t){return new u7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=a7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;case"arg11":return this.T;case"arg12":return this.V;case"arg13":return this.ca;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t),h=H8(this.T,t),d=H8(this.V,t),p=H8(this.ca,t);return(t=H8(this.v,t)).sb?t.sb(n,e,r,i,l,u,a,o,s,c,f,h,d,p):t.call(null,n,e,r,i,l,u,a,o,s,c,f,h,d,p)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn14{",", ","}",e,Si.a(new Xl(null,15,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null),new Xl(null,2,5,Kl,[Y$,this.T],null),new Xl(null,2,5,Kl,[rU,this.V],null),new Xl(null,2,5,Kl,[Wo,this.ca],null)],null),this.h))},i.Ca=function(){return new gu(this,15,new Xl(null,15,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD,Y$,rU,Wo],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,this.G)},i.na=function(){return 15+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=448885285^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.T,t.T)&&Ne.a(this.V,t.V)&&Ne.a(this.ca,t.ca)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,15,[Wo,null,Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,zD,null,FM,null,a$,null,Y$,null,KR,null,QL,null,rU,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new a7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new a7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new a7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new a7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new a7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new a7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.T,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(Y$,t):gi.call(null,Y$,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,e,this.V,this.ca,this.o,this.h,null):zn(gi.a?gi.a(rU,t):gi.call(null,rU,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,e,this.ca,this.o,this.h,null):zn(gi.a?gi.a(Wo,t):gi.call(null,Wo,t))?new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,e,this.o,this.h,null):new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,15,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null),new yu(Y$,this.T,null),new yu(rU,this.V,null),new yu(Wo,this.ca,null)],null),this.h))},i.Y=function(n,t){return new a7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=o7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;case"arg11":return this.T;case"arg12":return this.V;case"arg13":return this.ca;case"arg14":return this.ha;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t),h=H8(this.T,t),d=H8(this.V,t),p=H8(this.ca,t),g=H8(this.ha,t);return(t=H8(this.v,t)).tb?t.tb(n,e,r,i,l,u,a,o,s,c,f,h,d,p,g):t.call(null,n,e,r,i,l,u,a,o,s,c,f,h,d,p,g)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn15{",", ","}",e,Si.a(new Xl(null,16,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null),new Xl(null,2,5,Kl,[Y$,this.T],null),new Xl(null,2,5,Kl,[rU,this.V],null),new Xl(null,2,5,Kl,[Wo,this.ca],null),new Xl(null,2,5,Kl,[zN,this.ha],null)],null),this.h))},i.Ca=function(){return new gu(this,16,new Xl(null,16,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD,Y$,rU,Wo,zN],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,this.G)},i.na=function(){return 16+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=553496616^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.T,t.T)&&Ne.a(this.V,t.V)&&Ne.a(this.ca,t.ca)&&Ne.a(this.ha,t.ha)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,16,[Wo,null,Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,zD,null,FM,null,zN,null,a$,null,Y$,null,KR,null,QL,null,rU,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new o7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new o7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new o7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new o7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new o7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new o7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.T,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(Y$,t):gi.call(null,Y$,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,e,this.V,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(rU,t):gi.call(null,rU,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,e,this.ca,this.ha,this.o,this.h,null):zn(gi.a?gi.a(Wo,t):gi.call(null,Wo,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,e,this.ha,this.o,this.h,null):zn(gi.a?gi.a(zN,t):gi.call(null,zN,t))?new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,e,this.o,this.h,null):new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,16,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null),new yu(Y$,this.T,null),new yu(rU,this.V,null),new yu(Wo,this.ca,null),new yu(zN,this.ha,null)],null),this.h))},i.Y=function(n,t){return new o7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=s7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;case"arg11":return this.T;case"arg12":return this.V;case"arg13":return this.ca;case"arg14":return this.ha;case"arg15":return this.ma;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t),h=H8(this.T,t),d=H8(this.V,t),p=H8(this.ca,t),g=H8(this.ha,t),m=H8(this.ma,t);return(t=H8(this.v,t)).ub?t.ub(n,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m):t.call(null,n,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn16{",", ","}",e,Si.a(new Xl(null,17,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null),new Xl(null,2,5,Kl,[Y$,this.T],null),new Xl(null,2,5,Kl,[rU,this.V],null),new Xl(null,2,5,Kl,[Wo,this.ca],null),new Xl(null,2,5,Kl,[zN,this.ha],null),new Xl(null,2,5,Kl,[hT,this.ma],null)],null),this.h))},i.Ca=function(){return new gu(this,17,new Xl(null,17,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD,Y$,rU,Wo,zN,hT],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,this.G)},i.na=function(){return 17+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-280845773^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.T,t.T)&&Ne.a(this.V,t.V)&&Ne.a(this.ca,t.ca)&&Ne.a(this.ha,t.ha)&&Ne.a(this.ma,t.ma)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,17,[Wo,null,Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,zD,null,FM,null,hT,null,zN,null,a$,null,Y$,null,KR,null,QL,null,rU,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new s7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new s7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new s7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new s7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new s7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new s7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.T,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(Y$,t):gi.call(null,Y$,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,e,this.V,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(rU,t):gi.call(null,rU,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,e,this.ca,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(Wo,t):gi.call(null,Wo,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,e,this.ha,this.ma,this.o,this.h,null):zn(gi.a?gi.a(zN,t):gi.call(null,zN,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,e,this.ma,this.o,this.h,null):zn(gi.a?gi.a(hT,t):gi.call(null,hT,t))?new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,e,this.o,this.h,null):new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,17,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null),new yu(Y$,this.T,null),new yu(rU,this.V,null),new yu(Wo,this.ca,null),new yu(zN,this.ha,null),new yu(hT,this.ma,null)],null),this.h))},i.Y=function(n,t){return new s7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=c7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;case"arg11":return this.T;case"arg12":return this.V;case"arg13":return this.ca;case"arg14":return this.ha;case"arg15":return this.ma;case"arg16":return this.Da;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t),h=H8(this.T,t),d=H8(this.V,t),p=H8(this.ca,t),g=H8(this.ha,t),m=H8(this.ma,t),v=H8(this.Da,t);return(t=H8(this.v,t)).vb?t.vb(n,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v):t.call(null,n,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn17{",", ","}",e,Si.a(new Xl(null,18,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null),new Xl(null,2,5,Kl,[Y$,this.T],null),new Xl(null,2,5,Kl,[rU,this.V],null),new Xl(null,2,5,Kl,[Wo,this.ca],null),new Xl(null,2,5,Kl,[zN,this.ha],null),new Xl(null,2,5,Kl,[hT,this.ma],null),new Xl(null,2,5,Kl,[AN,this.Da],null)],null),this.h))},i.Ca=function(){return new gu(this,18,new Xl(null,18,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD,Y$,rU,Wo,zN,hT,AN],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,this.G)},i.na=function(){return 18+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=-1493409369^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.T,t.T)&&Ne.a(this.V,t.V)&&Ne.a(this.ca,t.ca)&&Ne.a(this.ha,t.ha)&&Ne.a(this.ma,t.ma)&&Ne.a(this.Da,t.Da)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,18,[Wo,null,Us,null,sd,null,bp,null,Qp,null,Xb,null,CA,null,zD,null,FM,null,hT,null,AN,null,zN,null,a$,null,Y$,null,KR,null,QL,null,rU,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new c7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new c7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new c7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new c7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new c7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new c7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(Y$,t):gi.call(null,Y$,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,e,this.V,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(rU,t):gi.call(null,rU,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,e,this.ca,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(Wo,t):gi.call(null,Wo,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,e,this.ha,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(zN,t):gi.call(null,zN,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,e,this.ma,this.Da,this.o,this.h,null):zn(gi.a?gi.a(hT,t):gi.call(null,hT,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,e,this.Da,this.o,this.h,null):zn(gi.a?gi.a(AN,t):gi.call(null,AN,t))?new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,e,this.o,this.h,null):new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,18,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null),new yu(Y$,this.T,null),new yu(rU,this.V,null),new yu(Wo,this.ca,null),new yu(zN,this.ha,null),new yu(hT,this.ma,null),new yu(AN,this.Da,null)],null),this.h))},i.Y=function(n,t){return new c7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=f7.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"fn":return this.v;case"arg0":return this.w;case"arg1":return this.A;case"arg2":return this.C;case"arg3":return this.D;case"arg4":return this.H;case"arg5":return this.I;case"arg6":return this.J;case"arg7":return this.K;case"arg8":return this.M;case"arg9":return this.N;case"arg10":return this.P;case"arg11":return this.T;case"arg12":return this.V;case"arg13":return this.ca;case"arg14":return this.ha;case"arg15":return this.ma;case"arg16":return this.Da;case"arg17":return this.Bb;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.Rb=function(n,t){n=H8(this.w,t);var e=H8(this.A,t),r=H8(this.C,t),i=H8(this.D,t),l=H8(this.H,t),u=H8(this.I,t),a=H8(this.J,t),o=H8(this.K,t),s=H8(this.M,t),c=H8(this.N,t),f=H8(this.P,t),h=H8(this.T,t),d=H8(this.V,t),p=H8(this.ca,t),g=H8(this.ha,t),m=H8(this.ma,t),v=H8(this.Da,t),w=H8(this.Bb,t);return(t=H8(this.v,t)).wb?t.wb(n,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w):t.call(null,n,e,r,i,l,u,a,o,s,c,f,h,d,p,g,m,v,w)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#com.rpl.specter.impl.LateFn18{",", ","}",e,Si.a(new Xl(null,19,5,Kl,[new Xl(null,2,5,Kl,[sd,this.v],null),new Xl(null,2,5,Kl,[FM,this.w],null),new Xl(null,2,5,Kl,[Wq,this.A],null),new Xl(null,2,5,Kl,[Qp,this.C],null),new Xl(null,2,5,Kl,[Us,this.D],null),new Xl(null,2,5,Kl,[QL,this.H],null),new Xl(null,2,5,Kl,[a$,this.I],null),new Xl(null,2,5,Kl,[Xb,this.J],null),new Xl(null,2,5,Kl,[bp,this.K],null),new Xl(null,2,5,Kl,[KR,this.M],null),new Xl(null,2,5,Kl,[CA,this.N],null),new Xl(null,2,5,Kl,[zD,this.P],null),new Xl(null,2,5,Kl,[Y$,this.T],null),new Xl(null,2,5,Kl,[rU,this.V],null),new Xl(null,2,5,Kl,[Wo,this.ca],null),new Xl(null,2,5,Kl,[zN,this.ha],null),new Xl(null,2,5,Kl,[hT,this.ma],null),new Xl(null,2,5,Kl,[AN,this.Da],null),new Xl(null,2,5,Kl,[mm,this.Bb],null)],null),this.h))},i.Ca=function(){return new gu(this,19,new Xl(null,19,5,Kl,[sd,FM,Wq,Qp,Us,QL,a$,Xb,bp,KR,CA,zD,Y$,rU,Wo,zN,hT,AN,mm],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,this.G)},i.na=function(){return 19+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=295131237^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.v,t.v)&&Ne.a(this.w,t.w)&&Ne.a(this.A,t.A)&&Ne.a(this.C,t.C)&&Ne.a(this.D,t.D)&&Ne.a(this.H,t.H)&&Ne.a(this.I,t.I)&&Ne.a(this.J,t.J)&&Ne.a(this.K,t.K)&&Ne.a(this.M,t.M)&&Ne.a(this.N,t.N)&&Ne.a(this.P,t.P)&&Ne.a(this.T,t.T)&&Ne.a(this.V,t.V)&&Ne.a(this.ca,t.ca)&&Ne.a(this.ha,t.ha)&&Ne.a(this.ma,t.ma)&&Ne.a(this.Da,t.Da)&&Ne.a(this.Bb,t.Bb)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,19,[Wo,null,Us,null,sd,null,bp,null,Qp,null,mm,null,Xb,null,CA,null,zD,null,FM,null,hT,null,AN,null,zN,null,a$,null,Y$,null,KR,null,QL,null,rU,null,Wq,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(sd,t):gi.call(null,sd,t))?new f7(e,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(FM,t):gi.call(null,FM,t))?new f7(this.v,e,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(Wq,t):gi.call(null,Wq,t))?new f7(this.v,this.w,e,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(Qp,t):gi.call(null,Qp,t))?new f7(this.v,this.w,this.A,e,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(Us,t):gi.call(null,Us,t))?new f7(this.v,this.w,this.A,this.C,e,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(QL,t):gi.call(null,QL,t))?new f7(this.v,this.w,this.A,this.C,this.D,e,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(a$,t):gi.call(null,a$,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,e,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(Xb,t):gi.call(null,Xb,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,e,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(bp,t):gi.call(null,bp,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,e,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(KR,t):gi.call(null,KR,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,e,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(CA,t):gi.call(null,CA,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,e,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(zD,t):gi.call(null,zD,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,e,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(Y$,t):gi.call(null,Y$,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,e,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(rU,t):gi.call(null,rU,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,e,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(Wo,t):gi.call(null,Wo,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,e,this.ha,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(zN,t):gi.call(null,zN,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,e,this.ma,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(hT,t):gi.call(null,hT,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,e,this.Da,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(AN,t):gi.call(null,AN,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,e,this.Bb,this.o,this.h,null):zn(gi.a?gi.a(mm,t):gi.call(null,mm,t))?new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,e,this.o,this.h,null):new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,19,5,Kl,[new yu(sd,this.v,null),new yu(FM,this.w,null),new yu(Wq,this.A,null),new yu(Qp,this.C,null),new yu(Us,this.D,null),new yu(QL,this.H,null),new yu(a$,this.I,null),new yu(Xb,this.J,null),new yu(bp,this.K,null),new yu(KR,this.M,null),new yu(CA,this.N,null),new yu(zD,this.P,null),new yu(Y$,this.T,null),new yu(rU,this.V,null),new yu(Wo,this.ca,null),new yu(zN,this.ha,null),new yu(hT,this.ma,null),new yu(AN,this.Da,null),new yu(mm,this.Bb,null)],null),this.h))},i.Y=function(n,t){return new f7(this.v,this.w,this.A,this.C,this.D,this.H,this.I,this.J,this.K,this.M,this.N,this.P,this.T,this.V,this.ca,this.ha,this.ma,this.Da,this.Bb,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)};var m7=function n(t,e){if(t instanceof _8){var r=(l=t.Fb,n.a?n.a(l,e):n.call(null,l,e)),i=pl.a((function(t){return n.a?n.a(t,e):n.call(null,t,e)}),t.params);return R8(function(n,t){return h7(n,t)}(function(n){for(;;){var t=xL.g(xr(n));if(!zn(t))return n;n=t}}(r),i),I8(t.Fb))}var l;return t instanceof b8?p7(t.code,e):t instanceof x8?v7.a?v7.a(t,e):v7.call(null,t,e):MS===z8(t)?g7(t):(r=new b8(function n(t,e,r){return zn(t.g?t.g(r):t.call(null,r))?e.g?e.g(r):e.call(null,r):CV(al.j(n,t,e),Gr,r)}(j8,IN,t),null,null,null),n.a?n.a(r,e):n.call(null,r,e))},v7=function n(t,e){if(t instanceof x8)return Ar(t=t.path)?kr(t=nu(pl.a((function(t){return n.a?n.a(t,e):n.call(null,t,e)}),t)))?g7(H9):Ne.a(1,hr(t))?Me(t):d7(F8,t):n.a?n.a(t,e):n.call(null,t,e);if(t instanceof b8){var r=p7(t=t.code,e);return zn(I8(t))?r:Or(t)||(t instanceof wi||ai(t))&&Ne.a(hM,Me(t))?d7(C8,new Xl(null,1,5,Kl,[r],null)):d7(P8,new Xl(null,1,5,Kl,[r],null))}return t instanceof _8?zn(I8(t=m7(t,e)))?t:d7(P8,new Xl(null,1,5,Kl,[t],null)):g7(P8(t))};function w7(n){return function n(t,e){return CV(al.a(n,t),t,e)}((function(n){return wr(n)?Ra(/ .*/,Ja.l(ur([n]))):n}),n)}function y7(n,t){return zn(!1)&&(Ka(ur(["Possible params:"])),Ka(ur([t])),Ka(ur(["\nProduced dynamic object:"])),Ka(ur([w7(n)])),function(n){for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;Ka(0<t.length?new lr(t.slice(0),0,null):null)}()),function(t){return H8(n,t)}}function b7(n,t){var e=q8.g(function n(t){if(Ar(t))return U8(n,t);if(t instanceof p8){var e=t.uc;return zn(zn(e)?XD.g(xr(e)):e)?new b8(R8(t.ab,zn(r=I8(e))?r:I8(t.ab)),null,null,null):R8(t.F,function(){var n=zn(e)?I8(e):e;return zn(n)||zn(n=I8(t.ab))?n:I8(t.F)}())}var r;if(t instanceof h8)return new b8(t.ab,null,null,null);if(t instanceof m8)return new b8(t.code,null,null,null);if(t instanceof w8){var i=function(){var e=t.Fb;return n.g?n.g(e):n.call(null,e)}(),l=Pa(pl.a(n,t.params));if(zn(function(){var n=ud.g(xr(i));return zn(n)?n:MS===z8(cr.a(l,i))}())){var u=Pi.a(i,l);return n.g?n.g(u):n.call(null,u)}return k8(i,l,t.code)}return t}(n));return zn(!1)&&(Ka(ur(["Inline caching debug information"])),Ka(ur(["--------------------------------"])),Ka(ur(["Input path:",n,"\n"])),Ka(ur(["Processed path:",e,"\n"]))),K9(e)?(zn(!1)&&Ka(ur(["Static result:",e])),new A8(!1,e,null,null,null)):new A8(!0,n=y7(v7(new x8(e,null,null,null),t),t),null,null,null)}function x7(n,t,e){return f8(n,G9(t),e)}var _7,k7,j7,O7,A7={};function E7(n,t){return Hr((function(n,e){return(e=t.g?t.g(e):t.call(null,e))===MS?n:Ye(e)?Ge(e):e}),MS,n)}function S7(n,t){if(null!=n&&null!=n.ud)n=n.ud(n,t);else{var e=S7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=S7._))throw Hn("AllTransformProtocol.all-transform",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function C7(n,t,e){return Wr((function(n,e,r){return e=new Xl(null,2,5,Kl,[e,r],null),(e=t.g?t.g(e):t.call(null,e))===MS||2>hr(e)?n:mr.j(n,dr(e,0),dr(e,1))}),e,n)}function D7(n){return n!==MS}function M7(n,t){if(null!=n&&null!=n.lf)n=n.lf(n,t);else{var e=M7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=M7._))throw Hn("MapTransformProtocol.map-vals-transform",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function F7(n,t){if(null!=n&&null!=n.kf)n=n.kf(n,t);else{var e=F7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=F7._))throw Hn("MapTransformProtocol.map-keys-transform",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function T7(n,t,e){return Wr((function(n,t,r){return(r=e.g?e.g(r):e.call(null,r))===MS?n:mr.j(n,t,r)}),t,n)}function N7(n,t,e){return Wr((function(n,t,r){return(t=e.g?e.g(t):e.call(null,t))===MS?n:mr.j(n,t,r)}),t,n)}function B7(n,t,e,r){return n="string"==typeof n?n.substring(t,e):lu(nu(n),t,e),r.g?r.g(n):r.call(null,n)}function z7(n){return wr(n)?n:jr(n)&&el(wr,n)?qr((function(n,t){return function(e){var r=n.g?n.g(e):n.call(null,e);return zn(r)?t.g?t.g(e):t.call(null,e):r}}),n):null}function P7(n,t,e,r,i,l){return N9(zn(r.g?r.g(t):r.call(null,t))?i:l,n,t,e)}function $7(n,t,e,r,i,l){return B9(zn(r.g?r.g(t):r.call(null,t))?i:l,n,t,e)}function R7(n,t){if(null!=n&&null!=n.ph)n=n.ph(n,t);else{var e=R7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=R7._))throw Hn("AddExtremes.append-all",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function I7(n,t){if(null!=n&&null!=n.rh)n=n.rh(n,t);else{var e=I7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=I7._))throw Hn("AddExtremes.prepend-all",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function L7(n,t){if(null!=n&&null!=n.qh)n=n.qh(n,t);else{var e=L7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=L7._))throw Hn("AddExtremes.append-one",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function U7(n,t){if(null!=n&&null!=n.sh)n=n.sh(n,t);else{var e=U7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=U7._))throw Hn("AddExtremes.prepend-one",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function q7(n,t){if(null!=n&&null!=n.og)n=n.og(n,t);else{var e=q7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=q7._))throw Hn("UpdateExtremes.update-first",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function H7(n,t){if(null!=n&&null!=n.pg)n=n.pg(n,t);else{var e=H7[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=H7._))throw Hn("UpdateExtremes.update-last",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function W7(n){if(null!=n&&null!=n.mg)n=n.mg(n);else{var t=W7[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=W7._))throw Hn("GetExtremes.get-first",n);n=t.g?t.g(n):t.call(null,n)}}return n}function G7(n){if(null!=n&&null!=n.ng)n=n.ng(n);else{var t=G7[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=G7._))throw Hn("GetExtremes.get-last",n);n=t.g?t.g(n):t.call(null,n)}}return n}function Y7(n){if(null!=n&&null!=n.lg)n=n.lg(n);else{var t=Y7[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Y7._))throw Hn("FastEmpty.fast-empty?",n);n=t.g?t.g(n):t.call(null,n)}}return n}S7.null=function(){return null},yu.prototype.ud=function(n,t){var e,r=this;return e=yt(r),new yu(t.g?t.g(e):t.call(null,e),function(){var n=bt(r);return t.g?t.g(n):t.call(null,n)}(),null)},Xl.prototype.ud=function(n,t){return Dl.j(Zl,ul.a(pl.g(t),Al()),this)},ba.prototype.ud=function(n,t){return Dl.j(xa,ul.a(pl.g(t),Al()),this)},ku.prototype.ud=function(n,t){return C7(this,t,ju)},aa.prototype.ud=function(n,t){return C7(this,t,fr(this))},Gu.prototype.ud=function(n,t){return ee(Wr((function(n,e,r){return e=new Xl(null,2,5,Kl,[e,r],null),(e=t.g?t.g(e):t.call(null,e))===MS||2>hr(e)?n:Di(n,dr(e,0),dr(e,1))}),ne(Yu),this))},S7._=function(n,t){if(Sr(n))return function(n,t){return Hr((function(n,e){return cr.a(n,t.g?t.g(e):t.call(null,e))}),n,n)}(n,t);var e=fr(n);return ai(e)&&!Ne.a(qn(e),qn(Dl.a(fu,Zl)))?function(n,t){return Pa(tl(ul.a(pl.g(t),Al()),n))}(n,t):Er(n)?Wr((function(n,e,r){return e=new Xl(null,2,5,Kl,[e,r],null),(e=t.g?t.g(e):t.call(null,e))===MS||2>hr(e)?n:mr.j(n,dr(e,0),dr(e,1))}),e,n):Dl.j(e,ul.a(pl.g(t),Al()),n)},M7.null=function(){return null},F7.null=function(){return null},ku.prototype.lf=function(n,t){return T7(this,ju,t)},ku.prototype.kf=function(n,t){return N7(this,ju,t)},aa.prototype.lf=function(n,t){return T7(this,fr(this),t)},aa.prototype.kf=function(n,t){return N7(this,fr(this),t)},Gu.prototype.lf=function(n,t){return ee(Wr((function(n,e,r){return(r=t.g?t.g(r):t.call(null,r))===MS?n:re(n,e,r)}),ne(Yu),this))},Gu.prototype.kf=function(n,t){return ee(Wr((function(n,e,r){return(e=t.g?t.g(e):t.call(null,e))===MS?n:re(n,e,r)}),ne(Yu),this))},M7._=function(n,t){return Wr((function(n,e,r){return(r=t.g?t.g(r):t.call(null,r))===MS?n:mr.j(n,e,r)}),fr(n),n)},F7._=function(n,t){return Wr((function(n,e,r){return(e=t.g?t.g(e):t.call(null,e))===MS?n:mr.j(n,e,r)}),fr(n),n)},R7.null=function(n,t){return t},I7.null=function(n,t){return t},L7.null=function(n,t){return new ui(null,t,null,1,null)},U7.null=function(n,t){return new ui(null,t,null,1,null)},Xl.prototype.ph=function(n,t){return Hr(cr,this,t)},Xl.prototype.rh=function(n,t){return n=ne(Zl),t=Hr(Ci,n,t),ee(t=Hr(Ci,t,this))},Xl.prototype.qh=function(n,t){return cr.a(this,t)},Xl.prototype.sh=function(n,t){return Dl.a(new Xl(null,1,5,Kl,[t],null),this)},R7._=function(n,t){return Si.a(n,t)},I7._=function(n,t){return Si.a(t,n)},L7._=function(n,t){return Si.a(n,new Xl(null,1,5,Kl,[t],null))},U7._=function(n,t){return di(t,n)};var V7=$8((function(n,t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==A7&&void 0!==_7||((_7=function(n,t,e){this.qf=n,this.If=t,this.Gi=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new _7(this.qf,this.If,t)},_7.prototype.X=function(){return this.Gi},_7.prototype.Ha=An,_7.prototype.Ea=function(n,t,e,r){return In(Y7(e))?(n=this.qf.g?this.qf.g(e):this.qf.call(null,e),t=r.a?r.a(t,n):r.call(null,t,n)):t=MS,t},_7.prototype.Fa=function(n,t,e,r){function i(n){return r.a?r.a(t,n):r.call(null,t,n)}return zn(Y7(e))?e:this.If.a?this.If.a(e,i):this.If.call(null,e,i)},_7.wa=function(){return new Xl(null,3,5,Kl,[BH,RL,$U],null)},_7.ta=!0,_7.sa="com.rpl.specter.navs/t_com$rpl$specter$navs19345",_7.ua=function(n){return Gt(n,"com.rpl.specter.navs/t_com$rpl$specter$navs19345")}),new _7(n,t,null)}));function J7(n,t,e,r){var i,l=(i=gr.a(t,e),r.a?r.a(n,i):r.call(null,n,i));return l===MS?Ar(t)?T8(t,e,e+1,(function(){return Zl})):vr.a(t,e):mr.j(t,e,l)}Xl.prototype.og=function(n,t){return n=dr(this,0),t=t.g?t.g(n):t.call(null,n),MS===t?lu(this,1,hr(this)):mr.j(this,0,t)},Xl.prototype.pg=function(n,t){switch(n=0|hr(this)){case 1:return n=pr(this,0),t=t.g?t.g(n):t.call(null,n),MS===t?Zl:new Xl(null,1,5,Kl,[t],null);case 2:n=pr(this,0);var e=pr(this,1);return t=t.g?t.g(e):t.call(null,e),MS===t?new Xl(null,1,5,Kl,[n],null):new Xl(null,2,5,Kl,[n,t],null);default:return e=dr(this,--n),t=t.g?t.g(e):t.call(null,e),MS===t?null==this?null:jt(this):mr.j(this,n,t)}},q7.string=function(n,t){var e=hr(n);return e=n.substring(1,e),n=dr(n,0),t=t.g?t.g(n):t.call(null,n),MS===t?e:[ii.g(t),e].join("")},H7.string=function(n,t){var e=hr(n)-1,r=dr(n,e);return t=t.g?t.g(r):t.call(null,r),n=n.substring(0,e),MS===t?n:[n,ii.g(t)].join("")},yu.prototype.og=function(n,t){return n=yt(this),new yu(t=t.g?t.g(n):t.call(null,n),n=bt(this),null)},yu.prototype.pg=function(n,t){n=yt(this);var e=bt(this);return new yu(n,t=t.g?t.g(e):t.call(null,e),null)},q7._=function(n,t){var e=Me(n);return t=t.g?t.g(e):t.call(null,e),n=Fe(n),MS===t?n:di(t,n)},H7._=function(n,t){var e=sr(n);return t=t.g?t.g(e):t.call(null,e),n=Aa(n),MS===t?null==n?si:n:Si.a(n,new Xl(null,1,5,Kl,[t],null))},Xl.prototype.mg=function(){return dr(this,0)},Xl.prototype.ng=function(){return null==this?null:kt(this)},W7._=function(n){return Me(n)},G7._=function(n){return sr(n)},yu.prototype.mg=function(){return yt(this)},yu.prototype.ng=function(){return bt(this)},W7.string=function(n){return dr(n,0)},G7.string=function(n){return dr(n,hr(n)-1)},Y7.null=function(){return!0},Xl.prototype.lg=function(){return Ne.a(0,hr(this))},au.prototype.lg=function(){return Ne.a(0,hr(this))},Y7._=function(n){return kr(n)};var X7=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==A7&&void 0!==k7||((k7=function(n,t){this.key=n,this.Hi=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new k7(this.key,t)},k7.prototype.X=function(){return this.Hi},k7.prototype.Ha=An,k7.prototype.Ea=function(n,t,e,r){return n=gr.a(e,this.key),r.a?r.a(t,n):r.call(null,t,n)},k7.prototype.Fa=function(n,t,e,r){return J7(t,e,this.key,r)},k7.wa=function(){return new Xl(null,2,5,Kl,[U_,GN],null)},k7.ta=!0,k7.sa="com.rpl.specter.navs/t_com$rpl$specter$navs19365",k7.ua=function(n){return Gt(n,"com.rpl.specter.navs/t_com$rpl$specter$navs19365")}),new k7(n,null)})),K7=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==A7&&void 0!==j7||((j7=function(n,t){this.k=n,this.Ii=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new j7(this.k,t)},j7.prototype.X=function(){return this.Ii},j7.prototype.Ha=An,j7.prototype.Ea=function(n,t,e,r){return $r(e,this.k)?(n=gr.a(e,this.k),r.a?r.a(t,n):r.call(null,t,n)):MS},j7.prototype.Fa=function(n,t,e,r){return $r(e,this.k)?J7(t,e,this.k,r):e},j7.wa=function(){return new Xl(null,2,5,Kl,[fN,uN],null)},j7.ta=!0,j7.sa="com.rpl.specter.navs/t_com$rpl$specter$navs19370",j7.ua=function(n){return Gt(n,"com.rpl.specter.navs/t_com$rpl$specter$navs19370")}),new j7(n,null)})),Z7=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==A7&&void 0!==O7||((O7=function(n,t){this.da=n,this.Ji=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new O7(this.da,t)},O7.prototype.X=function(){return this.Ji},O7.prototype.Ha=An,O7.prototype.Ea=function(n,t,e,r){return n=dr(e,this.da),r.a?r.a(t,n):r.call(null,t,n)},O7.prototype.Fa=function(n,t,e,r){var i,l=this;return Cr(e)?(i=dr(e,l.da),(n=r.a?r.a(t,i):r.call(null,t,i))===MS?T8(e,l.da,l.da+1,(function(){return Zl})):mr.j(e,l.da,n)):T8(e,l.da,l.da+1,(function(n){return n=pr(n,0),(n=r.a?r.a(t,n):r.call(null,t,n))===MS?Zl:new Xl(null,1,5,Kl,[n],null)}))},O7.wa=function(){return new Xl(null,2,5,Kl,[xd,uF],null)},O7.ta=!0,O7.sa="com.rpl.specter.navs/t_com$rpl$specter$navs19375",O7.ua=function(n){return Gt(n,"com.rpl.specter.navs/t_com$rpl$specter$navs19375")}),new O7(n,null)}));function Q7(n,t){return n.g?n.g(t):n.call(null,t)}function nnn(n){return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){return Ar(t=Pi.a(n,t))&&function n(t){return Ar(t)?el(n,t):!j8(t)}(t)?Z9(t):Ar(t)&&Ne.a(1,hr(t))?Me(t):t}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()}var tnn,enn=$i(nnn((function(n){var t=L8.g?L8.g(n):L8.call(null,n);return $i(nnn(function(){function n(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(n){return pl.a(t,n)}return n.R=0,n.S=function(n){return e(n=De(n))},n.l=e,n}()),ud,!0)})),ud,!0);void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==T4||((i=(T4=function(n){this.Ki=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new T4(t)},i.X=function(){return this.Ki},i.Ha=An,i.Ea=function(){return MS},i.Fa=function(n,t,e){return e},T4.wa=function(){return new Xl(null,1,5,Kl,[hv],null)},T4.ta=!0,T4.sa="com.rpl.specter/t_com$rpl$specter19470",T4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19470")}),tnn=new T4(null);var rnn,inn,lnn,unn=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==N4||((N4=function(n,t){this.W=n,this.Li=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new N4(this.W,t)},N4.prototype.X=function(){return this.Li},N4.prototype.Ha=An,N4.prototype.Ea=function(){return MS},N4.prototype.Fa=function(n,t,e){return c8(this.W,t,e)},N4.wa=function(){return new Xl(null,2,5,Kl,[Ix,Aq],null)},N4.ta=!0,N4.sa="com.rpl.specter/t_com$rpl$specter19473",N4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19473")}),new N4(n,null)}));$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==B4||((B4=function(n,t){this.W=n,this.Mi=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new B4(this.W,t)},B4.prototype.X=function(){return this.Mi},B4.prototype.Ha=An,B4.prototype.Ea=function(){return MS},B4.prototype.Fa=function(n,t,e){return this.W.a?this.W.a(t,e):this.W.call(null,t,e)},B4.wa=function(){return new Xl(null,2,5,Kl,[Ix,Jw],null)},B4.ta=!0,B4.sa="com.rpl.specter/t_com$rpl$specter19476",B4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19476")}),new B4(n,null)})),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==z4||((i=(z4=function(n){this.Ni=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new z4(t)},i.X=function(){return this.Ni},i.Ha=An,i.Ea=function(n,t,e,r){return E7(e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},i.Fa=function(n,t,e,r){return S7(e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},z4.wa=function(){return new Xl(null,1,5,Kl,[FE],null)},z4.ta=!0,z4.sa="com.rpl.specter/t_com$rpl$specter19480",z4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19480")}),rnn=new z4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==P4||((i=(P4=function(n){this.Oi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new P4(t)},i.X=function(){return this.Oi},i.Ha=An,i.Ea=function(n,t,e,r){return E7(e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},i.Fa=function(n,t,e,r){return n=xr(e),null!=(e=S7(e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)})))?br(e,n):null},P4.wa=function(){return new Xl(null,1,5,Kl,[sq],null)},P4.ta=!0,P4.sa="com.rpl.specter/t_com$rpl$specter19483",P4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19483")}),inn=new P4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==$4||((i=($4=function(n){this.Pi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new $4(t)},i.X=function(){return this.Pi},i.Ha=An,i.Ea=function(n,t,e,r){return Hr((function(n,e){return(e=r.a?r.a(t,e):r.call(null,t,e))===MS?n:Ye(e)?Ge(e):e}),MS,ga(e))},i.Fa=function(n,t,e,r){return M7(e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},$4.wa=function(){return new Xl(null,1,5,Kl,[vz],null)},$4.ta=!0,$4.sa="com.rpl.specter/t_com$rpl$specter19486",$4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19486")}),lnn=new $4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==R4||((i=(R4=function(n){this.Qi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new R4(t)},i.X=function(){return this.Qi},i.Ha=An,i.Ea=function(n,t,e,r){return Hr((function(n,e){return(e=r.a?r.a(t,e):r.call(null,t,e))===MS?n:Ye(e)?Ge(e):e}),MS,ha(e))},i.Fa=function(n,t,e,r){return F7(e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},R4.wa=function(){return new Xl(null,1,5,Kl,[Fx],null)},R4.ta=!0,R4.sa="com.rpl.specter/t_com$rpl$specter19489",R4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19489")}),new R4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==I4||((i=(I4=function(n){this.Ri=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new I4(t)},i.X=function(){return this.Ri},i.Ha=An,i.Ea=function(n,t,e,r){return n=cr.a(t,e),r.a?r.a(n,e):r.call(null,n,e)},i.Fa=function(n,t,e,r){return n=cr.a(t,e),r.a?r.a(n,e):r.call(null,n,e)},I4.wa=function(){return new Xl(null,1,5,Kl,[zc],null)},I4.ta=!0,I4.sa="com.rpl.specter/t_com$rpl$specter19492",I4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19492")}),new I4(null),V7.a?V7.a(G7,H7):V7.call(null,G7,H7),V7.a?V7.a(W7,q7):V7.call(null,W7,q7),$8((function(n,t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==L4||((L4=function(n,t,e){this.Gd=n,this.vg=t,this.Si=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new L4(this.Gd,this.vg,t)},L4.prototype.X=function(){return this.Si},L4.prototype.Ha=An,L4.prototype.Ea=function(n,t,e,r){return B7(e,this.Gd.g?this.Gd.g(e):this.Gd.call(null,e),Q7(this.vg,e),(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},L4.prototype.Fa=function(n,t,e,r){function i(n){return r.a?r.a(t,n):r.call(null,t,n)}n=this.Gd.g?this.Gd.g(e):this.Gd.call(null,e);var l=Q7(this.vg,e);return T8.aa?T8.aa(e,n,l,i):T8.call(null,e,n,l,i)},L4.wa=function(){return new Xl(null,3,5,Kl,[l_,_H,Qf],null)},L4.ta=!0,L4.sa="com.rpl.specter/t_com$rpl$specter19503",L4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19503")}),new L4(n,t,null)}));var ann,onn,snn=$8((function(n,t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==U4||((U4=function(n,t,e){this.start=n,this.end=t,this.Ti=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new U4(this.start,this.end,t)},U4.prototype.X=function(){return this.Ti},U4.prototype.Ha=An,U4.prototype.Ea=function(n,t,e,r){return B7(e,this.start,this.end,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},U4.prototype.Fa=function(n,t,e,r){function i(n){return r.a?r.a(t,n):r.call(null,t,n)}return T8.aa?T8.aa(e,this.start,this.end,i):T8.call(null,e,this.start,this.end,i)},U4.wa=function(){return new Xl(null,3,5,Kl,[hD,ac,lb],null)},U4.ta=!0,U4.sa="com.rpl.specter/t_com$rpl$specter19510",U4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19510")}),new U4(n,t,null)}));$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==q4||((q4=function(n,t){this.Gg=n,this.Ui=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new q4(this.Gg,t)},q4.prototype.X=function(){return this.Ui},q4.prototype.Ha=An,q4.prototype.Ea=function(n,t,e,r){function i(n){return r.a?r.a(t,n):r.call(null,t,n)}return Hr((function(n,t){var r=pr(t,0);return t=pr(t,1),(r=B7(e,r,t,i))===MS?n:Ye(r)?Ge(r):r}),MS,N8(e,this.Gg))},q4.prototype.Fa=function(n,t,e,r){return B8(this.Gg,e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},q4.wa=function(){return new Xl(null,2,5,Kl,[Nk,SM],null)},q4.ta=!0,q4.sa="com.rpl.specter/t_com$rpl$specter19517",q4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19517")}),new q4(n,null)})),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==H4||((i=(H4=function(n){this.Vi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new H4(t)},i.X=function(){return this.Vi},i.Ha=An,i.Ea=function(n,t,e,r){return n="string"==typeof e?"":Zl,r.a?r.a(t,n):r.call(null,t,n)},i.Fa=function(n,t,e,r){function i(n){return r.a?r.a(t,n):r.call(null,t,n)}return"string"==typeof e?[ii.g(i("")),e].join(""):I7(e,i(Zl))},H4.wa=function(){return new Xl(null,1,5,Kl,[vH],null)},H4.ta=!0,H4.sa="com.rpl.specter/t_com$rpl$specter19526",H4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19526")}),ann=new H4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==W4||((i=(W4=function(n){this.Wi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new W4(t)},i.X=function(){return this.Wi},i.Ha=An,i.Ea=function(n,t,e,r){return n="string"==typeof e?"":Zl,r.a?r.a(t,n):r.call(null,t,n)},i.Fa=function(n,t,e,r){function i(n){return r.a?r.a(t,n):r.call(null,t,n)}return"string"==typeof e?[e,ii.g(i(""))].join(""):R7(e,i(Zl))},W4.wa=function(){return new Xl(null,1,5,Kl,[yH],null)},W4.ta=!0,W4.sa="com.rpl.specter/t_com$rpl$specter19531",W4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19531")}),new W4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==G4||((i=(G4=function(n){this.Xi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new G4(t)},i.X=function(){return this.Xi},i.Ha=An,i.Ea=function(n,t,e,r){return r.a?r.a(t,MS):r.call(null,t,MS)},i.Fa=function(n,t,e,r){return n=r.a?r.a(t,MS):r.call(null,t,MS),MS===n?e:null==e?_a([n]):cr.a(e,n)},G4.wa=function(){return new Xl(null,1,5,Kl,[gU],null)},G4.ta=!0,G4.sa="com.rpl.specter/t_com$rpl$specter19534",G4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19534")}),new G4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==Y4||((i=(Y4=function(n){this.Yi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new Y4(t)},i.X=function(){return this.Yi},i.Ha=An,i.Ea=function(n,t,e,r){return r.a?r.a(t,MS):r.call(null,t,MS)},i.Fa=function(n,t,e,r){return n=r.a?r.a(t,MS):r.call(null,t,MS),MS===n?e:U7(e,n)},Y4.wa=function(){return new Xl(null,1,5,Kl,[eL],null)},Y4.ta=!0,Y4.sa="com.rpl.specter/t_com$rpl$specter19537",Y4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19537")}),new Y4(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==V4||((i=(V4=function(n){this.Zi=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new V4(t)},i.X=function(){return this.Zi},i.Ha=An,i.Ea=function(n,t,e,r){return r.a?r.a(t,MS):r.call(null,t,MS)},i.Fa=function(n,t,e,r){return n=r.a?r.a(t,MS):r.call(null,t,MS),MS===n?e:L7(e,n)},V4.wa=function(){return new Xl(null,1,5,Kl,[$H],null)},V4.ta=!0,V4.sa="com.rpl.specter/t_com$rpl$specter19540",V4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19540")}),onn=new V4(null),$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==J4||((J4=function(n,t){this.Xf=n,this.$i=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new J4(this.Xf,t)},J4.prototype.X=function(){return this.$i},J4.prototype.Ha=An,J4.prototype.Ea=function(n,t,e,r){return n=YX.a(e,this.Xf),r.a?r.a(t,n):r.call(null,t,n)},J4.prototype.Fa=function(n,t,e,r){return n=YX.a(e,this.Xf),t=r.a?r.a(t,n):r.call(null,t,n),hr(e=VX.a(e,n))<hr(t)?Hr(cr,t,e):Hr(cr,e,t)},J4.wa=function(){return new Xl(null,2,5,Kl,[sR,hO],null)},J4.ta=!0,J4.sa="com.rpl.specter/t_com$rpl$specter19544",J4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19544")}),new J4(n,null)}));var cnn=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==X4||((X4=function(n,t){this.vf=n,this.aj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new X4(this.vf,t)},X4.prototype.X=function(){return this.aj},X4.prototype.Ha=An,X4.prototype.Ea=function(n,t,e,r){return n=wa(e,this.vf),r.a?r.a(t,n):r.call(null,t,n)},X4.prototype.Fa=function(n,t,e,r){return n=wa(e,this.vf),t=r.a?r.a(t,n):r.call(null,t,n),ma.l(ur([Hr(vr,e,this.vf),t]))},X4.wa=function(){return new Xl(null,2,5,Kl,[jg,YB],null)},X4.ta=!0,X4.sa="com.rpl.specter/t_com$rpl$specter19548",X4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19548")}),new X4(n,null)})),fnn=$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=$8((function(t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==K4||((K4=function(n,t,e){this.path=n,this.Oa=t,this.bj=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new K4(this.path,this.Oa,t)},K4.prototype.X=function(){return this.bj},K4.prototype.Ha=An,K4.prototype.Ea=function(n,t,e,r){return n=o8.a?o8.a(this.Oa,e):o8.call(null,this.Oa,e),r.a?r.a(t,n):r.call(null,t,n)},K4.prototype.Fa=function(n,t,e,r){function i(){var n=u.q;return zn(n)?(i8(u,Te),Me(n)):MS}var l;l=o8.a?o8.a(this.Oa,e):o8.call(null,this.Oa,e);var u=new r8(De(n=r.a?r.a(t,l):r.call(null,t,l)));return n=this.Oa,f8.j?f8.j(n,i,e):f8.call(null,n,i,e)},K4.wa=function(){return new Xl(null,3,5,Kl,[zm,Dj,KC],null)},K4.ta=!0,K4.sa="com.rpl.specter/t_com$rpl$specter19551",K4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19551")}),new K4(n,t,null)})),e=new Xl(null,1,5,Kl,[O8.g?O8.g(n):O8.call(null,n)],null);return el(il(j8),e)?Pi.a(t,e):k8(t,e,null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0);$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==Z4||((Z4=function(n,t){this.key=n,this.cj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new Z4(this.key,t)},Z4.prototype.X=function(){return this.cj},Z4.prototype.Ha=An,Z4.prototype.Ea=function(n,t,e,r){return $r(e,this.key)?r.a?r.a(t,this.key):r.call(null,t,this.key):MS},Z4.prototype.Fa=function(n,t,e,r){return $r(e,this.key)?(n=r.a?r.a(t,this.key):r.call(null,t,this.key),t=vr.a(e,this.key),MS===n?t:mr.j(t,n,gr.a(e,this.key))):e},Z4.wa=function(){return new Xl(null,2,5,Kl,[U_,_F],null)},Z4.ta=!0,Z4.sa="com.rpl.specter/t_com$rpl$specter19560",Z4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19560")}),new Z4(n,null)})),$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==Q4||((Q4=function(n,t){this.qd=n,this.dj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new Q4(this.qd,t)},Q4.prototype.X=function(){return this.dj},Q4.prototype.Ha=An,Q4.prototype.Ea=function(n,t,e,r){return $r(e,this.qd)?r.a?r.a(t,this.qd):r.call(null,t,this.qd):MS},Q4.prototype.Fa=function(n,t,e,r){return $r(e,this.qd)?(n=r.a?r.a(t,this.qd):r.call(null,t,this.qd),e=_r.a(e,this.qd),MS===n?e:cr.a(e,n)):e},Q4.wa=function(){return new Xl(null,2,5,Kl,[GB,dO],null)},Q4.ta=!0,Q4.sa="com.rpl.specter/t_com$rpl$specter19563",Q4.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19563")}),new Q4(n,null)}));var hnn=enn.g?enn.g(X7):enn.call(null,X7);enn.g?enn.g(K7):enn.call(null,K7);var dnn,pnn=enn.g?enn.g(Z7):enn.call(null,Z7),gnn=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==n9||((n9=function(n,t){this.index=n,this.ej=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new n9(this.index,t)},n9.prototype.X=function(){return this.ej},n9.prototype.Ha=An,n9.prototype.Ea=function(){return MS},n9.prototype.Fa=function(n,t,e,r){var i,l,u,a=this;return n=r.a?r.a(t,MS):r.call(null,t,MS),MS===n?e:x7((u=null==(l=t9)?(i=b7(new Xl(null,1,5,Kl,[y8(g8(snn,new Se((function(){return snn}),Sq,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,vd,"target/public/cljs-out/dev/com/rpl/specter.cljc",9,1,755,758,si,"Navigates to the subsequence bound by the indexes start (inclusive)\n          and end (exclusive)",zn(snn)?snn.Ia:null])),vd),new Xl(null,2,5,Kl,[d8(a.index,dk),d8(a.index,dk)],null),fi(vd,dk,dk))],null),new Xl(null,3,5,Kl,[vd,dk,dk],null)),t9=i):l,l=u.$a,zn(u.Ya)?(u=new Xl(null,3,5,Kl,[snn,a.index,a.index],null),l.g?l.g(u):l.call(null,u)):l),new Xl(null,1,5,Kl,[n],null),e)},n9.wa=function(){return new Xl(null,2,5,Kl,[dk,CC],null)},n9.ta=!0,n9.sa="com.rpl.specter/t_com$rpl$specter19566",n9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19566")}),new n9(n,null)})),mnn=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==e9||((e9=function(n,t){this.da=n,this.fj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new e9(this.da,t)},e9.prototype.X=function(){return this.fj},e9.prototype.Ha=An,e9.prototype.Ea=function(n,t,e,r){return 0<=this.da&&this.da<hr(e)?r.a?r.a(t,this.da):r.call(null,t,this.da):MS},e9.prototype.Fa=function(n,t,e,r){var i,l,u,a=this;if(0<=a.da&&a.da<hr(e)){var o=r.a?r.a(t,a.da):r.call(null,t,a.da);return Ne.a(o,a.da)?e:(n=dr(e,a.da),Cr(e)?(t=o<a.da?function(){for(var n=a.da-1,t=e;;){if(n<o)return t;var r=n-1;t=mr.j(t,n+1,dr(t,n)),n=r}}():function(){for(var n=a.da+1,t=e;;){if(n>o)return t;var r=n+1;t=mr.j(t,n-1,dr(t,n)),n=r}}(),mr.j(t,o,n)):x7((u=null==(l=r9)?(i=b7(new Xl(null,1,5,Kl,[y8(g8(gnn,new Se((function(){return gnn}),dD,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,xx,"target/public/cljs-out/dev/com/rpl/specter.cljc",15,1,968,971,si,"Navigates to the empty space between the index and the prior index. For select\n          navigates to NONE, and transforms to non-NONE insert at that position.",zn(gnn)?gnn.Ia:null])),xx),new Xl(null,1,5,Kl,[d8(o,_y)],null),fi(xx,_y))],null),new Xl(null,2,5,Kl,[xx,_y],null)),r9=i):l,l=u.$a,zn(u.Ya)?(u=new Xl(null,2,5,Kl,[gnn,o],null),l.g?l.g(u):l.call(null,u)):l),n,x7(function(){var n,t=i9,e=null==t?(n=b7(new Xl(null,1,5,Kl,[y8(g8(pnn,new Se((function(){return pnn}),Rf,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,pI,"target/public/cljs-out/dev/com/rpl/specter.cljc",10,1,963,965,si,"Navigate to the specified indices one after another. If navigate to\n            NONE, that element is removed from the sequence.",zn(pnn)?pnn.Ia:null])),pI),new Xl(null,1,5,Kl,[d8(a.da,xd)],null),fi(pI,xd))],null),new Xl(null,2,5,Kl,[pI,xd],null)),i9=n):t;return t=e.$a,zn(e.Ya)?(e=new Xl(null,2,5,Kl,[pnn,a.da],null),t.g?t.g(e):t.call(null,e)):t}(),MS,e)))}return e},e9.wa=function(){return new Xl(null,2,5,Kl,[xd,ZR],null)},e9.ta=!0,e9.sa="com.rpl.specter/t_com$rpl$specter19573",e9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19573")}),new e9(n,null)})),vnn=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==l9||((l9=function(n,t){this.start=n,this.gj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new l9(this.start,t)},l9.prototype.X=function(){return this.gj},l9.prototype.Ha=An,l9.prototype.Ea=function(n,t,e,r){var i=new r8(this.start-1);return Hr((function(n,e){return i8(i,He),e=new Xl(null,2,5,Kl,[i.q,e],null),(e=r.a?r.a(t,e):r.call(null,t,e))===MS?n:Ye(e)?Ge(e):e}),MS,e)},l9.prototype.Fa=function(n,t,e,r){var i=this,l=new r8(za(0,hr(e)));return Hr((function(n,e){var u=Me(l.q),a=function(n){return r.a?r.a(t,n):r.call(null,t,n)}(new Xl(null,2,5,Kl,[i.start+u,e],null));e=pr(a,0),a=pr(a,1);var o,s,c,f=e-i.start;return i8(l,(function(n){return n=Te(n),f>u?f8((r=null==(e=u9)?(t=b7(new Xl(null,1,5,Kl,[new Xl(null,3,5,Kl,[g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),ZW),v8((function(n){return n>=u+1}),fi(hM,new Xl(null,1,5,Kl,[UL],null),fi(vN,UL,fi(S$,xM)))),v8((function(n){return n<=f}),fi(hM,new Xl(null,1,5,Kl,[Z_],null),fi(uy,Z_,_y)))],null)],null),new Xl(null,4,5,Kl,[new Xl(null,3,5,Kl,[ZW,fi(hM,new Xl(null,1,5,Kl,[UL],null),fi(vN,UL,fi(S$,xM))),fi(hM,new Xl(null,1,5,Kl,[Z_],null),fi(uy,Z_,_y))],null),ZW,fi(hM,new Xl(null,1,5,Kl,[UL],null),fi(vN,UL,fi(S$,xM))),fi(hM,new Xl(null,1,5,Kl,[Z_],null),fi(uy,Z_,_y))],null)),u9=t):e,e=r.$a,zn(r.Ya)?(r=new Xl(null,4,5,Kl,[new Xl(null,3,5,Kl,[rnn,function(n){return n>=u+1},function(n){return n<=f}],null),rnn,function(n){return n>=u+1},function(n){return n<=f}],null),e.g?e.g(r):e.call(null,r)):e),Kr,n):n;var t,e,r})),x7((c=null==(s=a9)?(o=b7(new Xl(null,1,5,Kl,[y8(g8(mnn,new Se((function(){return mnn}),GA,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,Po,"target/public/cljs-out/dev/com/rpl/specter.cljc",12,1,983,986,si,"Navigates to the index of the sequence if within 0 and size. Transforms move element\n          at that index to the new index, shifting other elements in the sequence.",zn(mnn)?mnn.Ia:null])),Po),new Xl(null,1,5,Kl,[d8(u,xM)],null),fi(Po,xM))],null),new Xl(null,2,5,Kl,[Po,xM],null)),a9=o):s,s=c.$a,zn(c.Ya)?(c=new Xl(null,2,5,Kl,[mnn,u],null),s.g?s.g(c):s.call(null,c)):s),f,x7(function(){var n=o9,t=null==n?function(){var n=b7(new Xl(null,1,5,Kl,[y8(g8(pnn,new Se((function(){return pnn}),Rf,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,pI,"target/public/cljs-out/dev/com/rpl/specter.cljc",10,1,963,965,si,"Navigate to the specified indices one after another. If navigate to\n            NONE, that element is removed from the sequence.",zn(pnn)?pnn.Ia:null])),pI),new Xl(null,1,5,Kl,[d8(u,xM)],null),fi(pI,xM))],null),new Xl(null,2,5,Kl,[pI,xM],null));return o9=n}():n;return n=t.$a,zn(t.Ya)?(t=new Xl(null,2,5,Kl,[pnn,u],null),n.g?n.g(t):n.call(null,t)):n}(),a,n))}),e,e)},l9.wa=function(){return new Xl(null,2,5,Kl,[hD,_$],null)},l9.ta=!0,l9.sa="com.rpl.specter/t_com$rpl$specter19607",l9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19607")}),new l9(n,null)}));vnn.g?vnn.g(0):vnn.call(null,0),$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==s9||((s9=function(n,t){this.W=n,this.hj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new s9(this.W,t)},s9.prototype.X=function(){return this.hj},s9.prototype.Ha=An,s9.prototype.Ea=function(n,t,e,r){return n=this.W.g?this.W.g(e):this.W.call(null,e),r.a?r.a(t,n):r.call(null,t,n)},s9.prototype.Fa=function(n,t,e,r){return n=this.W.g?this.W.g(e):this.W.call(null,e),r.a?r.a(t,n):r.call(null,t,n)},s9.wa=function(){return new Xl(null,2,5,Kl,[Ix,Gq],null)},s9.ta=!0,s9.sa="com.rpl.specter/t_com$rpl$specter19625",s9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19625")}),new s9(n,null)})),$8((function(n,t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==c9||((c9=function(n,t,e){this.Dd=n,this.Hf=t,this.ij=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new c9(this.Dd,this.Hf,t)},c9.prototype.X=function(){return this.ij},c9.prototype.Ha=An,c9.prototype.Ea=function(n,t,e,r){return n=this.Dd.g?this.Dd.g(e):this.Dd.call(null,e),r.a?r.a(t,n):r.call(null,t,n)},c9.prototype.Fa=function(n,t,e,r){return n=this.Dd.g?this.Dd.g(e):this.Dd.call(null,e),t=r.a?r.a(t,n):r.call(null,t,n),this.Hf.g?this.Hf.g(t):this.Hf.call(null,t)},c9.wa=function(){return new Xl(null,3,5,Kl,[vE,MN,GD],null)},c9.ta=!0,c9.sa="com.rpl.specter/t_com$rpl$specter19635",c9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19635")}),new c9(n,t,null)})),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==f9||((i=(f9=function(n){this.jj=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new f9(t)},i.X=function(){return this.jj},i.Ha=An,i.Ea=function(n,t,e,r){return n=St(e),r.a?r.a(t,n):r.call(null,t,n)},i.Fa=function(n,t,e,r){return hl.a(e,(function(n){return r.a?r.a(t,n):r.call(null,t,n)})),e},f9.wa=function(){return new Xl(null,1,5,Kl,[fU],null)},f9.ta=!0,f9.sa="com.rpl.specter/t_com$rpl$specter19640",f9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19640")}),dnn=new f9(null);var wnn=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==h9||((h9=function(n,t){this.Jg=n,this.kj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new h9(this.Jg,t)},h9.prototype.X=function(){return this.kj},h9.prototype.Ha=An,h9.prototype.Ea=function(n,t,e,r){return Hr((function(n,e){return(e=r.a?r.a(t,e):r.call(null,t,e))===MS?n:Ye(e)?Ge(e):e}),MS,Ia(this.Jg,e))},h9.prototype.Fa=function(n,t,e,r){return wG(e,this.Jg,(function(n){return r.a?r.a(t,n):r.call(null,t,n)}))},h9.wa=function(){return new Xl(null,2,5,Kl,[PS,lC],null)},h9.ta=!0,h9.sa="com.rpl.specter/t_com$rpl$specter19643",h9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19643")}),new h9(n,null)})),ynn=$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=z7(n);if(zn(t))return t;var e=$8((function(e){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==d9||((d9=function(n,t,e,r){this.path=n,this.Id=t,this.Oa=e,this.lj=r,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new d9(this.path,this.Id,this.Oa,t)},d9.prototype.X=function(){return this.lj},d9.prototype.Ha=An,d9.prototype.Ea=function(n,t,e,r){var i=this;return E8((function(n){return MS!==Ve(l8(i.Oa,Ge,t,n))}),t,e,r)},d9.prototype.Fa=function(n,t,e,r){var i=this;return S8((function(n){return MS!==Ve(l8(i.Oa,Ge,t,n))}),t,e,r)},d9.wa=function(){return new Xl(null,4,5,Kl,[zm,Ac,Dj,tS],null)},d9.ta=!0,d9.sa="com.rpl.specter/t_com$rpl$specter19648",d9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19648")}),new d9(n,t,e,null)})),r=new Xl(null,1,5,Kl,[O8.g?O8.g(n):O8.call(null,n)],null);return el(il(j8),r)?Pi.a(e,r):k8(e,r,null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0);$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=z7(n);if(zn(t))return function(n){return In(t.g?t.g(n):t.call(null,n))};var e=$8((function(e){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==p9||((p9=function(n,t,e,r){this.path=n,this.Id=t,this.Oa=e,this.mj=r,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new p9(this.path,this.Id,this.Oa,t)},p9.prototype.X=function(){return this.mj},p9.prototype.Ha=An,p9.prototype.Ea=function(n,t,e,r){var i=this;return E8((function(n){return MS===Ve(l8(i.Oa,Ge,t,n))}),t,e,r)},p9.prototype.Fa=function(n,t,e,r){var i=this;return S8((function(n){return MS===Ve(l8(i.Oa,Ge,t,n))}),t,e,r)},p9.wa=function(){return new Xl(null,4,5,Kl,[zm,Ac,Dj,Dz],null)},p9.ta=!0,p9.sa="com.rpl.specter/t_com$rpl$specter19656",p9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19656")}),new p9(n,t,e,null)})),r=new Xl(null,1,5,Kl,[O8.g?O8.g(n):O8.call(null,n)],null);return el(il(j8),r)?Pi.a(e,r):k8(e,r,null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=ynn.g?ynn.g(n):ynn.call(null,n),fnn.a?fnn.a(rnn,n):fnn.call(null,rnn,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),$i(nnn((function(n,t){var e=$8((function(e,r){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==g9||((g9=function(n,t,e,r,i){this.path=n,this.ak=t,this.Oa=e,this.fd=r,this.nj=i,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new g9(this.path,this.ak,this.Oa,this.fd,t)},g9.prototype.X=function(){return this.nj},g9.prototype.Ha=An,g9.prototype.Ea=function(n,t,e,r){return n=f8.j?f8.j(this.Oa,this.fd,e):f8.call(null,this.Oa,this.fd,e),r.a?r.a(t,n):r.call(null,t,n)},g9.prototype.Fa=function(n,t,e,r){return n=f8.j?f8.j(this.Oa,this.fd,e):f8.call(null,this.Oa,this.fd,e),r.a?r.a(t,n):r.call(null,t,n)},g9.wa=function(){return new Xl(null,5,5,Kl,[zm,xP,Dj,xB,n_],null)},g9.ta=!0,g9.sa="com.rpl.specter/t_com$rpl$specter19667",g9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19667")}),new g9(n,t,e,r,null)})),r=new Xl(null,2,5,Kl,[O8.g?O8.g(n):O8.call(null,n),t],null);return el(il(j8),r)?Pi.a(e,r):k8(e,r,null)})),ud,!0),$i(nnn((function(n,t){var e=$8((function(e,r){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==m9||((m9=function(n,t,e,r,i){this.path=n,this.Yj=t,this.Oa=e,this.fd=r,this.oj=i,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new m9(this.path,this.Yj,this.Oa,this.fd,t)},m9.prototype.X=function(){return this.oj},m9.prototype.Ha=An,m9.prototype.Ea=function(n,t,e,r){return n=qr(this.fd,a8.a?a8.a(this.Oa,e):a8.call(null,this.Oa,e)),r.a?r.a(t,n):r.call(null,t,n)},m9.prototype.Fa=function(n,t,e,r){return n=qr(this.fd,a8.a?a8.a(this.Oa,e):a8.call(null,this.Oa,e)),r.a?r.a(t,n):r.call(null,t,n)},m9.wa=function(){return new Xl(null,5,5,Kl,[zm,VF,Dj,xB,yE],null)},m9.ta=!0,m9.sa="com.rpl.specter/t_com$rpl$specter19670",m9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19670")}),new m9(n,t,e,r,null)})),r=new Xl(null,2,5,Kl,[O8.g?O8.g(n):O8.call(null,n),t],null);return el(il(j8),r)?Pi.a(e,r):k8(e,r,null)})),ud,!0),z9.null=!0,P9.null=function(){return H9},pi.prototype.com$rpl$specter$protocols$ImplicitNav$=An,pi.prototype.com$rpl$specter$protocols$ImplicitNav$implicit_nav$arity$1=function(){return X7.g?X7.g(this):X7.call(null,this)},Ae.prototype.com$rpl$specter$protocols$ImplicitNav$=An,Ae.prototype.com$rpl$specter$protocols$ImplicitNav$implicit_nav$arity$1=function(){return X7.g?X7.g(this):X7.call(null,this)},z9.string=!0,P9.string=function(n){return X7.g?X7.g(n):X7.call(null,n)},z9.number=!0,P9.number=function(n){return X7.g?X7.g(n):X7.call(null,n)},Zr.prototype.com$rpl$specter$protocols$ImplicitNav$=An,Zr.prototype.com$rpl$specter$protocols$ImplicitNav$implicit_nav$arity$1=function(){return X7.g?X7.g(this):X7.call(null,this)},z9.boolean=!0,P9.boolean=function(n){return X7.g?X7.g(n):X7.call(null,n)},z9.function=!0,P9.function=function(n){return C8.g?C8.g(n):C8.call(null,n)},ba.prototype.com$rpl$specter$protocols$ImplicitNav$=An,ba.prototype.com$rpl$specter$protocols$ImplicitNav$implicit_nav$arity$1=function(){return C8.g?C8.g(this):C8.call(null,this)},RegExp.prototype.com$rpl$specter$protocols$ImplicitNav$=An,RegExp.prototype.com$rpl$specter$protocols$ImplicitNav$implicit_nav$arity$1=function(){return wnn.g?wnn.g(this):wnn.call(null,this)};var bnn=$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==v9||((v9=function(n,t){this.Hb=n,this.pj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new v9(this.Hb,t)},v9.prototype.X=function(){return this.pj},v9.prototype.Ha=An,v9.prototype.Ea=function(n,t,e,r){return n=null==e?this.Hb:e,r.a?r.a(t,n):r.call(null,t,n)},v9.prototype.Fa=function(n,t,e,r){return n=null==e?this.Hb:e,r.a?r.a(t,n):r.call(null,t,n)},v9.wa=function(){return new Xl(null,2,5,Kl,[Rb,$q],null)},v9.ta=!0,v9.sa="com.rpl.specter/t_com$rpl$specter19685",v9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19685")}),new v9(n,null)}));bnn.g?bnn.g(xa):bnn.call(null,xa),bnn.g?bnn.g(si):bnn.call(null,si),bnn.g?bnn.g(Zl):bnn.call(null,Zl),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==w9||((i=(w9=function(n){this.qj=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new w9(t)},i.X=function(){return this.qj},i.Ha=An,i.Ea=function(n,t,e,r){return n=xr(e),r.a?r.a(t,n):r.call(null,t,n)},i.Fa=function(n,t,e,r){return n=xr(e),br(e,t=r.a?r.a(t,n):r.call(null,t,n))},w9.wa=function(){return new Xl(null,1,5,Kl,[lx],null)},w9.ta=!0,w9.sa="com.rpl.specter/t_com$rpl$specter19693",w9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19693")}),new w9(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==y9||((i=(y9=function(n){this.rj=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new y9(t)},i.X=function(){return this.rj},i.Ha=An,i.Ea=function(n,t,e,r){return n=Ea(e),r.a?r.a(t,n):r.call(null,t,n)},i.Fa=function(n,t,e,r){return n=Ea(e),t=r.a?r.a(t,n):r.call(null,t,n),r=mi(e),e instanceof pi?vi.a(r,t):e instanceof Ae?Ee.a(r,t):Y9(ur(["NAME can only be used on symbols or keywords - ",e]))},y9.wa=function(){return new Xl(null,1,5,Kl,[qp],null)},y9.ta=!0,y9.sa="com.rpl.specter/t_com$rpl$specter19698",y9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19698")}),new y9(null),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==b9||((i=(b9=function(n){this.sj=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new b9(t)},i.X=function(){return this.sj},i.Ha=An,i.Ea=function(n,t,e,r){return n=mi(e),r.a?r.a(t,n):r.call(null,t,n)},i.Fa=function(n,t,e,r){n=Ea(e);var i=mi(e);return t=r.a?r.a(t,i):r.call(null,t,i),e instanceof pi?vi.a(t,n):e instanceof Ae?Ee.a(t,n):Y9(ur(["NAMESPACE can only be used on symbols or keywords - ",e]))},b9.wa=function(){return new Xl(null,1,5,Kl,[RR],null)},b9.ta=!0,b9.sa="com.rpl.specter/t_com$rpl$specter19703",b9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19703")}),new b9(null),$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=$8((function(t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==x9||((x9=function(n,t,e){this.path=n,this.Oa=t,this.tj=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new x9(this.path,this.Oa,t)},x9.prototype.X=function(){return this.tj},x9.prototype.Ha=An,x9.prototype.Ea=function(n,t,e,r){return n=cr.a(t,o8.a?o8.a(this.Oa,e):o8.call(null,this.Oa,e)),r.a?r.a(n,e):r.call(null,n,e)},x9.prototype.Fa=function(n,t,e,r){return n=cr.a(t,o8.a?o8.a(this.Oa,e):o8.call(null,this.Oa,e)),r.a?r.a(n,e):r.call(null,n,e)},x9.wa=function(){return new Xl(null,3,5,Kl,[zm,Dj,$A],null)},x9.ta=!0,x9.sa="com.rpl.specter/t_com$rpl$specter19706",x9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19706")}),new x9(n,t,null)})),e=new Xl(null,1,5,Kl,[O8.g?O8.g(n):O8.call(null,n)],null);return el(il(j8),e)?Pi.a(t,e):k8(t,e,null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=$8((function(t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==_9||((_9=function(n,t,e){this.path=n,this.Oa=t,this.uj=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new _9(this.path,this.Oa,t)},_9.prototype.X=function(){return this.uj},_9.prototype.Ha=An,_9.prototype.Ea=function(n,t,e,r){return n=cr.a(t,s8.a?s8.a(this.Oa,e):s8.call(null,this.Oa,e)),r.a?r.a(n,e):r.call(null,n,e)},_9.prototype.Fa=function(n,t,e,r){return n=cr.a(t,s8.a?s8.a(this.Oa,e):s8.call(null,this.Oa,e)),r.a?r.a(n,e):r.call(null,n,e)},_9.wa=function(){return new Xl(null,3,5,Kl,[zm,Dj,om],null)},_9.ta=!0,_9.sa="com.rpl.specter/t_com$rpl$specter19716",_9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19716")}),new _9(n,t,null)})),e=new Xl(null,1,5,Kl,[O8.g?O8.g(n):O8.call(null,n)],null);return el(il(j8),e)?Pi.a(t,e):k8(t,e,null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),$8((function(n){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==k9||((k9=function(n,t){this.F=n,this.vj=t,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new k9(this.F,t)},k9.prototype.X=function(){return this.vj},k9.prototype.Ha=An,k9.prototype.Ea=function(n,t,e,r){return n=cr.a(t,this.F),r.a?r.a(n,e):r.call(null,n,e)},k9.prototype.Fa=function(n,t,e,r){return n=cr.a(t,this.F),r.a?r.a(n,e):r.call(null,n,e)},k9.wa=function(){return new Xl(null,2,5,Kl,[mM,iI],null)},k9.ta=!0,k9.sa="com.rpl.specter/t_com$rpl$specter19726",k9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19726")}),new k9(n,null)})),$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){var t=$8((function(t){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==j9||((j9=function(n,t,e){this.path=n,this.Oa=t,this.wj=e,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new j9(this.path,this.Oa,t)},j9.prototype.X=function(){return this.wj},j9.prototype.Ha=An,j9.prototype.Ea=function(n,t,e,r){return N9(this.Oa,Zl,e,(function(n,e){return r.a?r.a(t,e):r.call(null,t,e)}))},j9.prototype.Fa=function(n,t,e,r){return B9(this.Oa,Zl,e,(function(n,e){return r.a?r.a(t,e):r.call(null,t,e)}))},j9.wa=function(){return new Xl(null,3,5,Kl,[zm,Dj,ZB],null)},j9.ta=!0,j9.sa="com.rpl.specter/t_com$rpl$specter19733",j9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19733")}),new j9(n,t,null)})),e=new Xl(null,1,5,Kl,[O8.g?O8.g(n):O8.call(null,n)],null);return el(il(j8),e)?Pi.a(t,e):k8(t,e,null)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==O9||((i=(O9=function(n){this.xj=n,this.B=393216,this.U=0}).prototype).Y=function(n,t){return new O9(t)},i.X=function(){return this.xj},i.Ha=An,i.Ea=function(n,t,e,r){return r.a?r.a(Zl,e):r.call(null,Zl,e)},i.Fa=function(n,t,e,r){return r.a?r.a(Zl,e):r.call(null,Zl,e)},O9.wa=function(){return new Xl(null,1,5,Kl,[z$],null)},O9.ta=!0,O9.sa="com.rpl.specter/t_com$rpl$specter19741",O9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19741")}),new O9(null);var xnn=$i(nnn(function(){function n(n,t,e){var r=z7(n);if(zn(r))var i=$8((function(i,l){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==A9||((A9=function(n,t,e,r,i,l,u,a){this.rg=n,this.Qg=t,this.ug=e,this.Id=r,this.W=i,this.Cd=l,this.Bd=u,this.yj=a,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new A9(this.rg,this.Qg,this.ug,this.Id,this.W,this.Cd,this.Bd,t)},A9.prototype.X=function(){return this.yj},A9.prototype.Ha=An,A9.prototype.Ea=function(n,t,e,r){return P7(t,e,r,this.W,this.Cd,this.Bd)},A9.prototype.Fa=function(n,t,e,r){return $7(t,e,r,this.W,this.Cd,this.Bd)},A9.wa=function(){return new Xl(null,8,5,Kl,[by,bU,Mz,Ac,Ix,Fg,$P,Yj],null)},A9.ta=!0,A9.sa="com.rpl.specter/t_com$rpl$specter19750",A9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19750")}),new A9(n,t,e,r,r,i,l,null)})),l=new Xl(null,2,5,Kl,[O8.g?O8.g(t):O8.call(null,t),O8.g?O8.g(e):O8.call(null,e)],null);else i=$8((function(i,l,u){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==E9||((E9=function(n,t,e,r,i,l,u,a){this.rg=n,this.Qg=t,this.ug=e,this.Id=r,this.Bg=i,this.Cd=l,this.Bd=u,this.zj=a,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new E9(this.rg,this.Qg,this.ug,this.Id,this.Bg,this.Cd,this.Bd,t)},E9.prototype.X=function(){return this.zj},E9.prototype.Ha=An,E9.prototype.Ea=function(n,t,e,r){var i=this;return P7(t,e,r,(function(n){return MS!==Ve(l8(i.Bg,Ge,t,n))}),i.Cd,i.Bd)},E9.prototype.Fa=function(n,t,e,r){var i=this;return $7(t,e,r,(function(n){return MS!==Ve(l8(i.Bg,Ge,t,n))}),i.Cd,i.Bd)},E9.wa=function(){return new Xl(null,8,5,Kl,[by,bU,Mz,Ac,pk,Fg,$P,nG],null)},E9.ta=!0,E9.sa="com.rpl.specter/t_com$rpl$specter19753",E9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19753")}),new E9(n,t,e,r,i,l,u,null)})),l=new Xl(null,3,5,Kl,[O8.g?O8.g(n):O8.call(null,n),O8.g?O8.g(t):O8.call(null,t),O8.g?O8.g(e):O8.call(null,e)],null);return el(il(j8),l)?Pi.a(i,l):k8(i,l,null)}function t(n,t){return xnn.j?xnn.j(n,t,tnn):xnn.call(null,n,t,tnn)}var e;return(e=function(e,r,i){switch(arguments.length){case 2:return t.call(this,e,r);case 3:return n.call(this,e,r,i)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.j=n,e}()),ud,!0),_nn=$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return n=ci(Tl(2,2,n)),Hr((function(n,t){var e=pr(t,0);return t=pr(t,1),xnn.j?xnn.j(e,t,n):xnn.call(null,e,t,n)}),tnn,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),knn=$i(nnn(function(){function n(n,t){var e=$8((function(e,r){return void 0!==YG&&void 0!==M9&&void 0!==F9&&void 0!==S9||((S9=function(n,t,e,r,i){this.Uj=n,this.Vj=t,this.zg=e,this.Ag=r,this.Aj=i,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new S9(this.Uj,this.Vj,this.zg,this.Ag,t)},S9.prototype.X=function(){return this.Aj},S9.prototype.Ha=An,S9.prototype.Ea=function(n,t,e,r){return Ye(n=N9(this.zg,t,e,r))?n:(t=N9(this.Ag,t,e,r),MS===n?t:n)},S9.prototype.Fa=function(n,t,e,r){return n=B9(this.zg,t,e,r),B9(this.Ag,t,n,r)},S9.wa=function(){return new Xl(null,5,5,Kl,[tx,kA,NM,cB,Zv],null)},S9.ta=!0,S9.sa="com.rpl.specter/t_com$rpl$specter19764",S9.ua=function(n){return Gt(n,"com.rpl.specter/t_com$rpl$specter19764")}),new S9(n,t,e,r,null)})),r=new Xl(null,2,5,Kl,[O8.g?O8.g(n):O8.call(null,n),O8.g?O8.g(t):O8.call(null,t)],null);return el(il(j8),r)?Pi.a(e,r):k8(e,r,null)}var t,e=function(){function n(n,e,r){var i=null;if(2<arguments.length){i=0;for(var l=Array(arguments.length-2);i<l.length;)l[i]=arguments[i+2],++i;i=new lr(l,0,null)}return t.call(this,n,e,i)}function t(n,t,e){return Hr(knn,knn.a?knn.a(n,t):knn.call(null,n,t),e)}return n.R=2,n.S=function(n){return t(Me(n),Me(n=Te(n)),n=Fe(n))},n.l=t,n}();return(t=function(t,r,i){switch(arguments.length){case 0:return H9;case 1:return t;case 2:return n.call(this,t,r);default:var l=null;if(2<arguments.length){l=0;for(var u=Array(arguments.length-2);l<u.length;)u[l]=arguments[l+2],++l;l=new lr(u,0,null)}return e.l(t,r,l)}throw Error("Invalid arity: "+arguments.length)}).R=2,t.S=e.S,t.L=function(){return H9},t.g=function(n){return n},t.a=n,t.l=e.l,t}()),ud,!0);$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return knn.a?knn.a(H9,n):knn.call(null,H9,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return knn.a?knn.a(n,H9):knn.call(null,n,H9)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0),$8((function(n){var t,e,r,i=D8();return M8(i,(r=null==(e=C9)?(t=b7(new Xl(null,1,5,Kl,[y8(g8(_nn,new Se((function(){return _nn}),nR,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,YD,"target/public/cljs-out/dev/com/rpl/specter.cljc",25,1,1394,1394,si,"Takes in alternating cond-path path cond-path path...\n   Tests the structure if selecting with cond-path returns anything.\n   If so, it uses the following path for this portion of the navigation.\n   Otherwise, it tries the next cond-path. If nothing matches, then the structure\n   is not selected.",zn(_nn)?_nn.Ia:null])),YD),new Xl(null,4,5,Kl,[y8(g8(C8,new Se((function(){return C8}),Dx,Vu([Ow,Xw,Nb,ox,JA,vD,ZD,DB,YR,mL,bq],[Go,Nk,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,!0,1175,1179,si,"Keeps the element only if it matches the supplied predicate. Functions in paths\n          implicitly convert to this navigator.",zn(C8)?C8.Ia:null])),Nk),new Xl(null,1,5,Kl,[d8(n,Ix)],null),fi(Nk,Ix)),g8(H9,new Se((function(){return H9}),US,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,fB,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,644,646,si,"Stays navigated at the current point. Essentially a no-op navigator.",zn(H9)?H9.Ia:null])),fB),g8(jr,new Se((function(){return jr}),QR,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[kb,zW,"cljs/core.cljs",12,1,2133,2133,fi(new Xl(null,1,5,Kl,[$s],null)),"Returns true if x satisfies ICollection",zn(jr)?jr.Ia:null])),zW),new Xl(null,2,5,Kl,[g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),ZW),d8(i,Vd)],null)],null),fi(YD,fi(Nk,Ix),fB,zW,new Xl(null,2,5,Kl,[ZW,Vd],null)))],null),new Xl(null,8,5,Kl,[YD,Nk,Ix,fB,zW,new Xl(null,2,5,Kl,[ZW,Vd],null),ZW,Vd],null)),C9=t):e,e=r.$a,zn(r.Ya)?(r=new Xl(null,8,5,Kl,[_nn,C8,n,H9,jr,new Xl(null,2,5,Kl,[rnn,i],null),rnn,i],null),e.g?e.g(r):e.call(null,r)):e)),i})),$8((function(n){var t,e,r,i=D8();return M8(i,(r=null==(e=D9)?(t=b7(new Xl(null,1,5,Kl,[y8(g8(_nn,new Se((function(){return _nn}),nR,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,YD,"target/public/cljs-out/dev/com/rpl/specter.cljc",25,1,1394,1394,si,"Takes in alternating cond-path path cond-path path...\n   Tests the structure if selecting with cond-path returns anything.\n   If so, it uses the following path for this portion of the navigation.\n   Otherwise, it tries the next cond-path. If nothing matches, then the structure\n   is not selected.",zn(_nn)?_nn.Ia:null])),YD),new Xl(null,4,5,Kl,[y8(g8(C8,new Se((function(){return C8}),Dx,Vu([Ow,Xw,Nb,ox,JA,vD,ZD,DB,YR,mL,bq],[Go,Nk,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,!0,1175,1179,si,"Keeps the element only if it matches the supplied predicate. Functions in paths\n          implicitly convert to this navigator.",zn(C8)?C8.Ia:null])),Nk),new Xl(null,1,5,Kl,[d8(n,Ix)],null),fi(Nk,Ix)),g8(H9,new Se((function(){return H9}),US,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,fB,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,644,646,si,"Stays navigated at the current point. Essentially a no-op navigator.",zn(H9)?H9.Ia:null])),fB),g8(jr,new Se((function(){return jr}),QR,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[kb,zW,"cljs/core.cljs",12,1,2133,2133,fi(new Xl(null,1,5,Kl,[$s],null)),"Returns true if x satisfies ICollection",zn(jr)?jr.Ia:null])),zW),new Xl(null,2,5,Kl,[g8(inn,new Se((function(){return inn}),IU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,cp,"target/public/cljs-out/dev/com/rpl/specter.cljc",16,1,689,691,si,"Same as ALL, except maintains metadata on the structure.",zn(inn)?inn.Ia:null])),cp),d8(i,Vd)],null)],null),fi(YD,fi(Nk,Ix),fB,zW,new Xl(null,2,5,Kl,[cp,Vd],null)))],null),new Xl(null,8,5,Kl,[YD,Nk,Ix,fB,zW,new Xl(null,2,5,Kl,[cp,Vd],null),cp,Vd],null)),D9=t):e,e=r.$a,zn(r.Ya)?(r=new Xl(null,8,5,Kl,[_nn,C8,n,H9,jr,new Xl(null,2,5,Kl,[inn,i],null),inn,i],null),e.g?e.g(r):e.call(null,r)):e)),i}));var jnn,Onn,Ann=G9(MS);function Enn(n){return knn.a?knn.a(n,jnn):knn.call(null,n,jnn)}Onn=unn.g?unn.g(Ann):unn.call(null,Ann),jnn=xnn.a?xnn.a(kr,Onn):xnn.call(null,kr,Onn),$i(nnn(function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(n){return pl.a(Enn,n)}return n.R=0,n.S=function(n){return t(n=De(n))},n.l=t,n}()),ud,!0);var Snn,Cnn=new ku(null,2,[UD,new ku(null,6,[DO,new ku(null,2,[Vh,!0,_N,!0],null),sE,sj,sB,!0,Mj,!1,jA,wN,vx,rg],null),HI,new ku(null,5,[$z,yg,qx,GC,oC,F$,PD,LB,SA,"auto"],null)],null),Dnn=cl(Au([ON,function(n,t,e){return"string"==typeof e?(n=mr.j(n,JF,e),Tnn?Tnn(j4,n):Fnn.call(null,j4,n)):e},yb,function(n,t,e){return"string"==typeof e?(n=mr.j(n,JF,e),Tnn?Tnn(j4,n):Fnn.call(null,j4,n)):e},iW,function(n,t,e){return"string"==typeof e?(n=mr.j(n,JF,e),Tnn?Tnn(j4,n):Fnn.call(null,j4,n)):"number"==typeof e?new ku(null,1,[Vy,e],null):e},GE,function(n,t,e){return"string"==typeof e?(n=mr.j(n,JF,e),Tnn?Tnn(j4,n):Fnn.call(null,j4,n)):"number"==typeof e?new ku(null,1,[Vy,e],null):e},X$,function(n,t,e){return"string"==typeof e?(n=mr.j(n,CP,e),Tnn?Tnn(O4,n):Fnn.call(null,O4,n)):e},YA,function(n,t,e){if(zn(t=n.g?n.g(dS):n.call(null,dS))){var r=t.g?t.g(Iv):t.call(null,Iv);return t=Er(r)?r.g?r.g(ak):r.call(null,ak):"string"==typeof r?r:r instanceof pi?gr.a(n,r):null,n=Er(r)?gr.a(n,Aw):null,Ri.a(n,!0)?n=(n=new ba(null,new ku(null,2,[ZD,null,"line",null],null),null)).g?n.g(t):n.call(null,t):n=!1,zn(n)?MS:e}return null}])),Mnn=cl(Vu([Eo,ts,Fs,Ws,ec,Bc,Pc,Xc,rf,Zf,nh,yh,Oh,Ch,Rh,_d,Dd,Nd,Ap,Mp,rg,yg,Ag,nm,Mm,Rm,Im,Km,pv,kv,Mv,sw,Aw,Cw,Fw,cy,tb,yb,Bb,mx,Yx,Qx,v_,y_,T_,sk,ck,fk,_k,Dk,Yk,sj,Kj,eO,UO,oA,YA,fE,wE,GE,jS,LS,XS,QS,fC,kC,EC,GC,oD,cD,JD,jM,xF,kF,GF,hN,wN,ON,JN,vB,jB,LB,nz,uz,sz,_P,LP,UP,qP,XP,y$,F$,X$,oR,OR,cI,cL,PL,OU,AU,EU,Dq,cH,iW,jW,HW],["red",new ku(null,1,[aq,new ku(null,2,[Xw,"greenblue",ZF,new Xl(null,2,5,Kl,[.4,1],null)],null)],null),MS,MS,!0,MS,MS,MS,MS,MS,"id",MS,MS,new ku(null,3,[Iy,"#333",tj,.125,Ah,"white"],null),MS,MS,MS,MS,"nominal",mx,"vega-lite",tW,E4,new Xl(null,2,5,Kl,[new ku(null,1,[XI,"height"],null),new ku(null,1,[XI,"width - 100"],null)],null),MS,400,MS,"diagonal",MS,"tidy",new ku(null,3,[TA,Xc,Ew,tb,vf,cy],null),!0,MS,MS,MS,MS,MS,MS,MS,"quantitative",MS,MS,MS,60,"global",new Xl(null,2,5,Kl,["x","y"],null),"green",MS,MS,"floralwhite",MS,1,MS,A4,9,"quantitative",k4,MS,MS,MS,"","parent",MS,MS,MS,MS,MS,2,MS,C4,"quantitative",MS,"y","greenblue",function(n){var t=n.g?n.g(xF):n.call(null,xF),e=n.g?n.g(JD):n.call(null,JD),r=n.g?n.g(Yx):n.call(null,Yx);return n=n.g?n.g(fC):n.call(null,fC),Fnn.Wa?Fnn.Wa(_4,Ex,t,jc,e,gd,r,jw,n):Fnn.call(null,_4,Ex,t,jc,e,gd,r,jw,n)},new ku(null,3,[ak,OR,Bm,OU,TA,jS],null),"canvas",MS,MS,MS,300,"20px",MS,"middle",MS,MS,MS,"x","horizontal",new ku(null,3,[Iy,"#333",tj,.125,Ah,"white"],null),MS,"20px",MS,MS,"symbol",MS,function(n){var t=n.g?n.g(UP):n.call(null,UP),e=n.g?n.g(mx):n.call(null,mx),r=n.g?n.g(wE):n.call(null,wE);return n=n.g?n.g(Kj):n.call(null,Kj),Fnn.Wa?Fnn.Wa(_4,Ex,t,jc,e,gd,r,jw,n):Fnn.call(null,_4,Ex,t,jc,e,gd,r,jw,n)},UP,0,MS,"name",function(n){var t=n.g?n.g(oR):n.call(null,oR),e=n.g?n.g(Dd):n.call(null,Dd),r=St(Dnn);return r=r.g?r.g(Dd):r.call(null,Dd),Ri.a(t,MS)?t:Ri.a(e,MS)&&zn(r)?r.j?r.j(n,Dd,e):r.call(null,n,Dd,e):MS},MS,MS,new Xl(null,4,5,Kl,["y","x","depth","children"],null),new ku(null,3,[TA,rf,Ew,AU,vf,sz],null)]));function Fnn(n){switch(arguments.length){case 2:return Tnn(arguments[0],arguments[1]);case 1:return Tnn(arguments[0],ju);default:for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;return Nnn(arguments[0],arguments[1],arguments[2],new lr(t.slice(3),0,null))}}function Tnn(n,t){t=In(t.g?t.g(dS):t.call(null,dS))?mr.j(t,dS,n):t;var e,r,i,l=St(Mnn),u=zn(gr.j(t,sw,l.g?l.g(sw):l.call(null,sw)))?ma.l(ur([l,t])):t;return f8((i=null==(r=Snn)?(e=b7(new Xl(null,1,5,Kl,[g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),zL)],null),new Xl(null,1,5,Kl,[zL],null)),Snn=e):r,r=i.$a,zn(i.Ya)?(i=new Xl(null,1,5,Kl,[rnn],null),r.g?r.g(i):r.call(null,i)):r),(function(n){for(;;){if(jr(n)){n=Tnn(n,u);var t=u.g?u.g(ec):u.call(null,ec);return De(n)?n:zn(t)?MS:n}t=wr(t=gr.j(u,n,n))?t.g?t.g(u):t.call(null,u):t;var e=St(Dnn);if(t=zn(e=e.g?e.g(n):e.call(null,n))?e.j?e.j(u,n,t):e.call(null,u,n,t):t,Ne.a(n,t))return n;if(Ne.a(n,oR))return t;if("string"!=typeof t&&jr(t))return n=Tnn(t,u),t=u.g?u.g(ec):u.call(null,ec),De(n)?n:zn(t)?MS:n;n=t}}),n)}function Nnn(n,t,e,r){return Tnn(n,Dl.a(Au([t,e]),Ml((function(n){var t=pr(n,0);return n=pr(n,1),new Xl(null,2,5,Kl,[t,n],null)}),Da(2,r))))}function Bnn(n){return wG(wG(wG(wG(wG(n,/&/,"&amp;"),/&amp;copy;/,"©"),/\t$/,"    "),/</,"&lt;"),/>/,"&gt;")}var znn=new Xl(null,11,5,Kl,[new ku(null,3,[Xw,kw,cP,/^(\\\\|\\`|\\\*|\\_|\\\{|\\}|\\\[|\\]|\\\(|\\\)|\\#|\\\+|\\-|\\\.|\\!)/,Gz,function(n){return pr(n,0),pr(n,1).substring(1)}],null),new ku(null,3,[Xw,zw,cP,/^(__([^_]+)__)/,Gz,function(n){return pr(n,0),pr(n,1),n=pr(n,2),new Xl(null,2,5,Kl,[zw,n],null)}],null),new ku(null,3,[Xw,Sg,cP,/^((\*|_)([^*]+)(\*|_))/,Gz,function(n){return pr(n,0),pr(n,1),pr(n,2),n=pr(n,3),new Xl(null,2,5,Kl,[c_,n],null)}],null),new ku(null,3,[Xw,jU,cP,/^(https?:\/\/[^ ]+)/,Gz,function(n){return pr(n,0),n=pr(n,1),Dl.g(new Xl(null,3,5,Kl,[CH,new ku(null,3,[H$,"_blank",Ho,"noopener noreferrer",Rq,n],null),n],null))}],null),new ku(null,3,[Xw,CO,cP,/^(<(https?:\/\/[^ ]+)>)/,Gz,function(n){return pr(n,0),pr(n,1),n=pr(n,2),Dl.g(new Xl(null,3,5,Kl,[CH,new ku(null,1,[Rq,n],null),n],null))}],null),new ku(null,3,[Xw,nc,cP,/^(\*\*([^*]+)\*\*)/,Gz,function(n){return pr(n,0),pr(n,1),n=pr(n,2),new Xl(null,2,5,Kl,[zw,n],null)}],null),new ku(null,3,[Xw,rP,cP,/^(``([^`]+)``)/,Gz,function(n){return pr(n,0),pr(n,1),n=pr(n,2),new Xl(null,2,5,Kl,[IN,Bnn(n)],null)}],null),new ku(null,3,[Xw,fD,cP,/^(`([^`]+)`)/,Gz,function(n){return pr(n,0),pr(n,1),n=pr(n,2),new Xl(null,2,5,Kl,[IN,Bnn(n)],null)}],null),new ku(null,3,[Xw,Vg,cP,/^( {5}| {2})$/,Gz,function(){function n(n){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new lr(r,0,null)}return t.call(this,e)}function t(){return new Xl(null,1,5,Kl,[wP],null)}return n.R=0,n.S=function(n){return n=De(n),t()},n.l=t,n}()],null),new ku(null,3,[Xw,oF,cP,/^(\[([^\]]+)\]\(([^)]*)\))/,Gz,function(n){pr(n,0),pr(n,1);var t=pr(n,2),e=De(n=bG(n=pr(n,3),/\s"/));n=Me(e);var r=Me(e=Te(e));return Te(e),n=zn(r)?new ku(null,4,[H$,"_blank",Ho,"noopener noreferrer",Rq,n,TA,wG(r,/"$\s*/,"")],null):new ku(null,3,[H$,"_blank",Ho,"noopener noreferrer",Rq,n],null),Dl.a(new Xl(null,2,5,Kl,[CH,n],null),$nn.g?$nn.g(t):$nn.call(null,t))}],null),new ku(null,3,[Xw,lH,cP,/^(!\[([^\]]+)\]\(([^)]*)\))/,Gz,function(n){pr(n,0),pr(n,1);var t=pr(n,2),e=De(n=bG(n=pr(n,3),/\s"/));n=Me(e);var r=Me(e=Te(e));return Te(e),t=zn(r)?new ku(null,3,[Lk,n,bm,t,TA,wG(r,/"$\s*/,"")],null):new ku(null,2,[Lk,n,bm,t],null),new Xl(null,2,5,Kl,[lH,t],null)}],null)],null);function Pnn(n,t){var e=De(znn),r=Me(e);for(Te(e),e=null!=r&&(64&r.B||An===r.ja)?Pi.a(sa,r):r,gr.a(e,cP),gr.a(e,Gz),e=znn;;){r=Me(e=De(e)),e=Te(e);var i=r=null!=r&&(64&r.B||An===r.ja)?Pi.a(sa,r):r,l=gr.a(r,cP);if(r=gr.a(r,Gz),!zn(i))return null;if(zn(i=Ra(l,t)))return new Xl(null,2,5,Kl,[n+hr(or(t=i)),r.g?r.g(t):r.call(null,t)],null)}}function $nn(n){for(var t=Zl,e=0,r=0;;){var i=n.substring(e),l=Pnn(e,i),u=pr(l,0);if(l=pr(l,1),Ne.a("",i))return e>r?cr.a(t,Bnn(n.substring(r,e))):t;zn(l)?(t=e>r?cr.l(t,Bnn(n.substring(r,e)),ur([l])):cr.a(t,l),r=e=u):(e+=1,r=u=r)}}Pnn(0,"*aaa* bb ddd");var Rnn=/^\d\.\s+(.*)/;function Inn(n){return null==n?Bh:zn($a(/^\s*$/,n))?L_:zn($a(/^=(=)+$/,n))?Sf:Ne.a(n,"- - -")||Ne.a(n,"---")||Ne.a(n,"___")||Ne.a(n,"-------")||Ne.a(n,"***")?ch:zn($a(/^--(-)+$/,n))?kh:0==n.lastIndexOf("#",0)?RO:zn($a(/^(\s*)(\*|-|\+) .+/,n))?WH:0==n.lastIndexOf("```",0)?IN:0==n.lastIndexOf(">",0)?Vq:zn($a(Rnn,n))?xz:zn($a(/^( {4}|\t).*/,n))?Vp:($a(/^ [^ ]+/,n),EW)}function Lnn(n){var t=wG(n,/^\s*#{1,6}\s+/,"");return t=wG(t,/\s+(#+)?$/,""),n=or(Me(Ia(/^(#{1,6})[^#]+.*/,n))),n=vi.g(["h",ii.g(hr(n))].join("")),Dl.a(new Xl(null,1,5,Kl,[n],null),$nn(t))}function Unn(n,t){return new Xl(null,2,5,Kl,[n,Hr((function(n,t){return[ii.g(n),ii.g(t)].join("")}),"",t)],null)}function qnn(n){var t=Me(n=De(n)),e=Te(n);Me(n=De(e)),Te(n),n=!0;var r=e;for(e=Zl;;){var i=De(r);if(r=Me(i),i=Te(i),null==r&&null==t)return e;if(zn(null==r&&t))return cr.a(e,n&&"string"==typeof t?t.replace(/^[\s\xa0]+/,""):t);if(zn(zn(n=t)?"string"==typeof t&&"string"==typeof r:n))t=[t.replace(/^[\s\xa0]+/,""),ii.g(r)].join(""),n=!1,r=i;else{var l=r;e=cr.a(e,t),n=!1,r=i,t=l}}}function Hnn(n){return n=qnn(n=Ol($nn,ur([1<hr(n)?cr.a(Ml((function(n){return[ii.g(n),"\n"].join("")}),Aa(Fl(n))),sr(Fl(n))):n]))),Dl.a(new Xl(null,1,5,Kl,[MU],null),n)}function Wnn(n){function t(n,t){return In(t)?n:(t=Xnn.g?Xnn.g(t):Xnn.call(null,t),Ne.a(1,hr(t))&&Ne.a(MU,Me(Me(t)))?cr.a(n,Dl.a(new Xl(null,1,5,Kl,[My],null),Fe(Me(t)))):cr.a(n,Dl.a(new Xl(null,1,5,Kl,[My],null),t)))}var e=Me(n),r=Ra(/^(\s*)(\*|-|\+)(\s\s*)/,e);e=pr(r,0);var i=pr(r,1),l=pr(r,2);r=hr(r=pr(r,3));var u,a=new ku(null,3,"* \\* + \\+ - -".split(" "),null),o=La(["^",ii.g(i),"(",ii.g(gr.a(a,l)),"| ) {0,",ii.g(r),"}"].join(""));for(i=new Xl(null,1,5,Kl,[dp],null),Me(l=De(n)),Te(l),l=null,r=n;;){n=i,i=l,l=Me(a=De(r));var s=Te(a);if(a=l,l=s,In(a))return new Xl(null,2,5,Kl,[t(n,i),Zl],null);var c=wG(a,/^\t/,"    ");if(In((u=void 0,zn(u=Ra(o,c))?u:$a(/^\s*$/,c))))return new Xl(null,2,5,Kl,[t(n,i),r],null);0==c.lastIndexOf(e,0)?(i=t(n,i),r=l,l=n=new Xl(null,1,5,Kl,[wG(c,o,"")],null)):(r=cr.a(i,wG(c,o,"")),a=l,i=n,l=r,r=a)}}function Gnn(n){function t(n,t){return In(t)?n:(t=Xnn.g?Xnn.g(t):Xnn.call(null,t),Ne.a(1,hr(t))&&Ne.a(MU,Me(Me(t)))?cr.a(n,Dl.a(new Xl(null,1,5,Kl,[My],null),Fe(Me(t)))):cr.a(n,Dl.a(new Xl(null,1,5,Kl,[My],null),t)))}var e=Me(n);pr(e=Ra(/^(\d.\s*)/,e),0),e=hr(e=pr(e,1));var r=La(["^(\\d\\.|  ) {0,",ii.g(e-2),"}"].join(""));e=new Xl(null,1,5,Kl,[AD],null);var i,l=De(n);Me(l),Te(l),l=null;for(var u=n;;){n=e,e=l;var a=De(u);l=Me(a),a=Te(a);var o=l;if(l=a,In(o))return new Xl(null,2,5,Kl,[t(n,e),Zl],null);if(In((i=void 0,zn(i=Ra(r,o))?i:$a(/^\s*$/,o))))return new Xl(null,2,5,Kl,[t(n,e),u],null);In(Ra(/^\d\./,o))?(u=cr.a(e,wG(o,r,"")),a=l,e=n,l=u,u=a):(e=t(n,e),u=l,l=n=new Xl(null,1,5,Kl,[wG(o,r,"")],null))}}function Ynn(n){var t=De(n);n=Me(t),t=Te(t),n=zn(zn(n=or(xG(n,/```/,2)))?!R(null==n?"":String(n)):n)?new ku(null,2,[KE,n,RF,n],null):ju;var e=De(t);Me(e),Te(e),e=Zl;for(var r=t;;){t=e;var i=e=Me(r=De(r));if(e=r=Te(r),In(i))return new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[Vp,new Xl(null,3,5,Kl,[IN,n,wG(wG(yG("\n",t),/</,"&lt;"),/>/,"&gt;")],null)],null),Zl],null);if(0==i.lastIndexOf("```",0))return r=Kl,n=new Xl(null,2,5,Kl,[Vp,new Xl(null,3,5,Kl,[IN,n,wG(wG(yG("\n",t),/</,"&lt;"),/>/,"&gt;")],null)],null),new Xl(null,2,5,r,[n,(t=e)||Zl],null);r=e,e=t=cr.a(t,i)}}function Vnn(n){var t=$a(/^(\s{4}|\t).*/,Me(n));pr(t,0);var e=pr(t,1);return new Xl(null,2,5,Kl,[Vp,Dl.a(new Xl(null,1,5,Kl,[IN],null),qnn(Ml((function(n){return[Bnn(wG(n,La(["^",ii.g(e)].join("")),"")),"\n"].join("")}),n)))],null)}function Jnn(n){var t=$a(/^(>\s*).*/,Me(n));pr(t,0);var e,r=hr(t=pr(t,1))-1;return Dl.a(new Xl(null,1,5,Kl,[Vq],null),(e=Ml((function(n){return wG(n,La(["^> {0,",ii.g(r),"}"].join("")),"")}),n),Xnn.g?Xnn.g(e):Xnn.call(null,e)))}function Xnn(n){for(var t=De(n),e=(Me(t),Te(t),nw),r=n,i=Zl,l=Zl;;){var u=e,a=r,o=De(a),s=Me(o),c=Te(o),f=s,h=c,d=a,p=i,g=l,m=Inn(f),v=function(n,t,e,r,i,l,u,a,o,s,c,f,h,d,p){return function(n){return kr(p)?n:cr.a(n,Hnn(p))}}(0,0,0,0,0,0,0,0,0,0,0,0,0,0,g);if(Ne.a(new Xl(null,2,5,Kl,[u,m],null),new Xl(null,2,5,Kl,[nw,RO],null)))e=nw,r=h,i=cr.a(p,Lnn(f)),l=Zl;else if(Ne.a(new Xl(null,2,5,Kl,[u,m],null),new Xl(null,2,5,Kl,[nw,ch],null))){e=nw,r=h,i=cr.a(p,new Xl(null,1,5,Kl,[ch],null)),l=Zl}else if(Ne.a(u,uD)||Ne.a(u,Vq)||!Ne.a(m,Vq))if(Ne.a(u,Vq))if(Ne.a(m,Vq)){e=Vq,r=h,i=p,l=cr.a(g,f)}else if(Ne.a(m,L_)){e=uD,r=h,i=p,l=cr.a(g,f)}else if(Ne.a(m,EW)){e=Vq,r=h,i=p,l=cr.a(g,f)}else{if(Ne.a(m,Bh))return cr.a(p,Jnn(g));e=nw,r=d,i=cr.a(p,Jnn(g)),l=Zl}else if(Ne.a(u,uD))if(Ne.a(m,L_)){e=uD,r=h,i=p,l=g}else if(Ne.a(m,Vq)){e=Vq,r=h,i=p,l=cr.a(g,f)}else{e=nw,r=d,i=cr.a(p,Jnn(g)),l=Zl}else if(Ne.a(new Xl(null,2,5,Kl,[u,m],null),new Xl(null,2,5,Kl,[nw,WH],null))){var w=Wnn(d),y=pr(w,0),b=pr(w,1);e=nw,r=b,i=cr.a(p,y),l=Zl}else if(Ne.a(new Xl(null,2,5,Kl,[u,m],null),new Xl(null,2,5,Kl,[nw,xz],null))){var x=Gnn(d);y=pr(x,0),b=pr(x,1),e=nw,r=b,i=cr.a(p,y),l=Zl}else if(Ne.a(new Xl(null,2,5,Kl,[nw,Vp],null),new Xl(null,2,5,Kl,[u,m],null))){var _=h,k=p,j=new Xl(null,1,5,Kl,[f],null);e=Vp,r=_,i=k,l=j}else if(Ne.a(u,Vp))if(Ne.a(m,Vp)){e=Vp,r=h,i=p,l=cr.a(g,f)}else{e=nw,r=d,i=cr.a(p,Vnn(g)),l=Zl}else if(Ne.a(new Xl(null,2,5,Kl,[nw,L_],null),new Xl(null,2,5,Kl,[u,m],null))){e=nw,r=h,i=p,l=Zl}else if(Ne.a(new Xl(null,2,5,Kl,[nw,IN],null),new Xl(null,2,5,Kl,[u,m],null))){var O=Ynn(d),A=pr(O,0);b=pr(O,1),e=nw,r=b,i=cr.a(p,A),l=Zl}else if(Ne.a(new Xl(null,2,5,Kl,[nw,EW],null),new Xl(null,2,5,Kl,[u,m],null))){var E=h,S=p,C=new Xl(null,1,5,Kl,[f],null);e=hq,r=E,i=S,l=C}else if(Ne.a(u,hq))if(Ne.a(Sf,m)){e=nw,r=h,i=cr.a(p,Unn(HR,g)),l=Zl}else if(Ne.a(kh,m)){e=nw,r=h,i=cr.a(p,Unn(aP,g)),l=Zl}else if(Ne.a(EW,m)){e=hq,r=h,i=p,l=cr.a(g,f)}else{if(Ne.a(Bh,m))return cr.a(p,Hnn(g));if(Ne.a(L_,m))e=nw,r=h,i=cr.a(p,Hnn(g)),l=Zl;else e=nw,r=d,i=cr.a(p,Hnn(g)),l=Zl}else if(Ne.a(m,L_)){e=u,r=h,i=v(p),l=g}else{if(Ne.a(m,Bh))return p;e=nw,r=h,i=v(p),l=Zl}else{e=Vq,r=h,i=v(p),l=new Xl(null,1,5,Kl,[f],null)}}}function Knn(n){return Dl.a(new Xl(null,1,5,Kl,[o$],null),Xnn(bG(n,/(\r\n|\n|\r)/)))}function Znn(n,t,e,r,i){this.type=n,this.data=t,this.o=e,this.h=r,this.G=i,this.B=2230716170,this.U=139264}function Qnn(n){if(null!=n&&null!=n.yf)n=n.yf(n);else{var t=Qnn[s(null==n?null:n)];if(null!=t)n=t.g?t.g(n):t.call(null,n);else{if(null==(t=Qnn._))throw Hn("IExtendable.extension",n);n=t.g?t.g(n):t.call(null,n)}}return n}function ntn(n,t){if(null!=n&&null!=n.yh)n=n.yh(n,t);else{var e=ntn[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=ntn._))throw Hn("IInputStream.write",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function ttn(n,t){if(null!=n&&null!=n.Fh)n=n.Fh(n,t);else{var e=ttn[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=ttn._))throw Hn("IInputStream.write-u8",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function etn(n,t){if(null!=n&&null!=n.Ch)n=n.Ch(n,t);else{var e=etn[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=etn._))throw Hn("IInputStream.write-i8",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function rtn(n,t){if(null!=n&&null!=n.Dh)n.Dh(n,t);else{var e=rtn[s(null==n?null:n)];if(null!=e)e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=rtn._))throw Hn("IInputStream.write-u16",n);e.a?e.a(n,t):e.call(null,n,t)}}}function itn(n,t){if(null!=n&&null!=n.Ah)n.Ah(n,t);else{var e=itn[s(null==n?null:n)];if(null!=e)e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=itn._))throw Hn("IInputStream.write-i16",n);e.a?e.a(n,t):e.call(null,n,t)}}}function ltn(n,t){if(null!=n&&null!=n.Eh)n.Eh(n,t);else{var e=ltn[s(null==n?null:n)];if(null!=e)e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=ltn._))throw Hn("IInputStream.write-u32",n);e.a?e.a(n,t):e.call(null,n,t)}}}function utn(n,t){if(null!=n&&null!=n.zf)n.zf(n,t);else{var e=utn[s(null==n?null:n)];if(null!=e)e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=utn._))throw Hn("IInputStream.write-i32",n);e.a?e.a(n,t):e.call(null,n,t)}}}function atn(n,t){if(null!=n&&null!=n.Bh)n.Bh(n,t);else{var e=atn[s(null==n?null:n)];if(null!=e)e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=atn._))throw Hn("IInputStream.write-i64",n);e.a?e.a(n,t):e.call(null,n,t)}}}function otn(n,t){if(null!=n&&null!=n.zh)n.zh(n,t);else{var e=otn[s(null==n?null:n)];if(null!=e)e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=otn._))throw Hn("IInputStream.write-f64",n);e.a?e.a(n,t):e.call(null,n,t)}}}function stn(){this.vc=new DataView(new ArrayBuffer(64)),this.offset=0}function ctn(n,t){if((t=n.offset+t)>n.vc.byteLength){t=new Uint8Array(0|1.5*t);var e=new Uint8Array(n.vc.buffer);n.vc=new DataView(t.buffer),t.set(e,0)}}function ftn(n,t){if(null!=n&&null!=n.msgpack_cljs$core$Packable$pack_stream$arity$2)n=n.msgpack_cljs$core$Packable$pack_stream$arity$2(n,t);else{var e=ftn[s(null==n?null:n)];if(null!=e)n=e.a?e.a(n,t):e.call(null,n,t);else{if(null==(e=ftn._))throw Hn("Packable.pack-stream",n);n=e.a?e.a(n,t):e.call(null,n,t)}}return n}function htn(n,t){t=De(t);for(var e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i);ftn(l,n),i+=1}else{if(!(t=De(t)))break;Dr(e=t)?(t=le(e),r=ue(e),e=t,l=hr(t),t=r,r=l):(ftn(l=Me(e),n),t=Te(e),e=null,r=0),i=0}}function dtn(n,t){var e=hr(t);if(15>=e)return ttn(n,144|e),htn(n,t),n;if(65535>=e)return ttn(n,220),rtn(n,e),htn(n,t),n;if(4294967295>=e)return ttn(n,221),ltn(n,e),htn(n,t),n;throw Error("seq type too large to pack")}function ptn(n,t){var e=hr(t);if(t=kl.a(ha(t),ga(t)),15>=e)return ttn(n,128|e),htn(n,t),n;if(65535>=e)return ttn(n,222),rtn(n,e),htn(n,t),n;if(4294967295>=e)return ttn(n,223),ltn(n,e),htn(n,t),n;throw Error("map type too large to pack")}function gtn(n){var t=new stn;return ftn(n,t),new Uint8Array(t.vc.buffer,0,t.offset)}qnn(new Xl(null,4,5,Kl,["  a","b",new Xl(null,2,5,Kl,[pB,"ups"],null),"c"],null)),Knn("\n``app.js``\n```js\n(function() {\n    var BOX_URL = 'https://myapp.aidbox.io';\n```\n"),(i=Znn.prototype).oa=function(n,t){return this.Z(null,t,null)},i.Z=function(n,t,e){switch(t instanceof pi?t.qa:null){case"type":return this.type;case"data":return this.data;default:return gr.j(this.h,t,e)}},i.Ja=function(n,t,e){return Hr((function(n,e){var r=pr(e,0);return e=pr(e,1),t.j?t.j(n,r,e):t.call(null,n,r,e)}),e,this)},i.ka=function(n,t,e){return Ua(t,(function(n){return Ua(t,Ya,""," ","",e,n)}),"#msgpack-cljs.core.Extended{",", ","}",e,Si.a(new Xl(null,2,5,Kl,[new Xl(null,2,5,Kl,[ak,this.type],null),new Xl(null,2,5,Kl,[UW,this.data],null)],null),this.h))},i.Ca=function(){return new gu(this,2,new Xl(null,2,5,Kl,[ak,UW],null),zn(this.h)?de(this.h):Li())},i.X=function(){return this.o},i.Ba=function(){return new Znn(this.type,this.data,this.o,this.h,this.G)},i.na=function(){return 2+hr(this.h)},i.la=function(){var n=this.G;return null!=n?n:this.G=n=578446852^Ue(this)},i.ga=function(n,t){return null!=t&&this.constructor===t.constructor&&Ne.a(this.type,t.type)&&Ne.a(this.data,t.data)&&Ne.a(this.h,t.h)},i.Ka=function(n,t){return $r(new ba(null,new ku(null,2,[ak,null,UW,null],null),null),t)?vr.a(Mt(Dl.a(ju,this),this.o),t):new Znn(this.type,this.data,this.o,Ii(vr.a(this.h,t)),null)},i.ia=function(n,t,e){return zn(gi.a?gi.a(ak,t):gi.call(null,ak,t))?new Znn(e,this.data,this.o,this.h,null):zn(gi.a?gi.a(UW,t):gi.call(null,UW,t))?new Znn(this.type,e,this.o,this.h,null):new Znn(this.type,this.data,this.o,mr.j(this.h,t,e),null)},i.pa=function(){return De(Si.a(new Xl(null,2,5,Kl,[new yu(ak,this.type,null),new yu(UW,this.data,null)],null),this.h))},i.Y=function(n,t){return new Znn(this.type,this.data,t,this.h,this.G)},i.ra=function(n,t){return Cr(t)?this.ia(null,ut.a(t,0),ut.a(t,1)):Hr(rt,this,t)},(i=stn.prototype).Eh=function(n,t){return ctn(this,4),this.vc.setUint32(this.offset,t,!1),this.offset+=4},i.Fh=function(n,t){return ctn(this,1),this.vc.setUint8(this.offset,t,!1),this.offset+=1},i.zf=function(n,t){return ctn(this,4),this.vc.setInt32(this.offset,t,!1),this.offset+=4},i.zh=function(n,t){return ctn(this,8),this.vc.setFloat64(this.offset,t,!1),this.offset+=8},i.Ch=function(n,t){return ctn(this,1),this.vc.setInt8(this.offset,t,!1),this.offset+=1},i.yh=function(n,t){return ctn(this,t.byteLength),new Uint8Array(this.vc.buffer).set(t,this.offset),this.offset+=t.byteLength},i.Dh=function(n,t){return ctn(this,2),this.vc.setUint16(this.offset,t,!1),this.offset+=2},i.Ah=function(n,t){return ctn(this,2),this.vc.setInt16(this.offset,t,!1),this.offset+=2},i.Bh=function(n,t){return n=hn(t),this.zf(null,n.Za),this.zf(null,n.Ab)},ba.prototype.yf=function(){var n=nu(this);return new Znn(7,n=gtn.g?gtn.g(n):gtn.call(null,n),null,null,null)},pi.prototype.yf=function(){var n=ii.g(this).substring(1),t=new stn;return new Znn(3,n=gtn.a?gtn.a(n,t):gtn.call(null,n,t),null,null,null)},Ae.prototype.yf=function(){var n=ii.g(this);return new Znn(4,n=gtn.g?gtn.g(n):gtn.call(null,n),null,null,null)},ftn.null=function(n,t){return ttn(t,192)},wi.prototype.msgpack_cljs$core$Packable$=An,wi.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return dtn(t,nu(this))},ftn.boolean=function(n,t){return ttn(t,n?195:194)},Ae.prototype.msgpack_cljs$core$Packable$=An,Ae.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return ftn(Qnn(this),t)},Znn.prototype.msgpack_cljs$core$Packable$=An,Znn.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){var e=null!=this&&(64&this.B||An===this.ja)?Pi.a(sa,this):this;n=gr.a(e,ak);var r=(e=gr.a(e,UW)).byteLength;switch(r){case 1:ttn(t,212);break;case 2:ttn(t,213);break;case 4:ttn(t,214);break;case 8:ttn(t,215);break;case 16:ttn(t,216);break;default:if(255>=r)ttn(t,199),ttn(t,r);else if(65535>=r)ttn(t,200),rtn(t,r);else{if(!(4294967295>=r))throw Error("extended type too large to pack");ttn(t,201),ltn(t,r)}}return ttn(t,n),ntn(t,e)},Uint8Array.prototype.msgpack_cljs$core$Packable$=An,Uint8Array.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){if(255>=(n=this.byteLength))ttn(t,196),ttn(t,n),ntn(t,this);else if(65535>=n)ttn(t,197),rtn(t,n),ntn(t,this);else{if(!(4294967295>=n))throw Error("bytes too large to pack");ttn(t,198),ltn(t,n),ntn(t,this)}return t},ftn.number=function(n,t){return Pr(n)?n=function(n,t){if(0<=t&&127>=t)return ttn(n,t);if(-32<=t&&-1>=t)return etn(n,t);if(0<=t&&255>=t)return ttn(n,204),ttn(n,t),n;if(0<=t&&65535>=t)return ttn(n,205),rtn(n,t),n;if(0<=t&&4294967295>=t)return ttn(n,206),ltn(n,t),n;if(0<=t&&0x10000000000000000>=t)return ttn(n,207),atn(n,t),n;if(-128<=t&&-1>=t)return ttn(n,208),etn(n,t),n;if(-32768<=t&&-1>=t)return ttn(n,209),itn(n,t),n;if(-2147483648<=t&&-1>=t)return ttn(n,210),utn(n,t),n;if(-0x8000000000000000<=t&&-1>=t)return ttn(n,211),atn(n,t),n;throw Error(["Integer value out of bounds: ",ii.g(t)].join(""))}(t,n):(ttn(t,203),otn(t,n),n=t),n},Gu.prototype.msgpack_cljs$core$Packable$=An,Gu.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return ptn(t,this)},ba.prototype.msgpack_cljs$core$Packable$=An,ba.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return ftn(Qnn(this),t)},Xl.prototype.msgpack_cljs$core$Packable$=An,Xl.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return dtn(t,this)},ftn.string=function(n,t){return function(n,t){for(var e=[],r=0,i=0;i<t.length;i++){var l=t.charCodeAt(i);128>l?e[r++]=l:(2048>l?e[r++]=l>>6|192:(55296==(64512&l)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(l=65536+((1023&l)<<10)+(1023&t.charCodeAt(++i)),e[r++]=l>>18|240,e[r++]=l>>12&63|128):e[r++]=l>>12|224,e[r++]=l>>6&63|128),e[r++]=63&l|128)}if(31>=(e=(t=new Uint8Array(e)).byteLength))return ttn(n,160|e),ntn(n,t),n;if(255>=e)return ttn(n,217),ttn(n,e),ntn(n,t),n;if(65535>=e)return ttn(n,218),rtn(n,e),ntn(n,t),n;if(4294967295>=e)return ttn(n,219),ltn(n,e),ntn(n,t),n;throw Error("string too large to pack")}(t,n)},oi.prototype.msgpack_cljs$core$Packable$=An,oi.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return dtn(t,this)},pi.prototype.msgpack_cljs$core$Packable$=An,pi.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return ftn(Qnn(this),t)},ku.prototype.msgpack_cljs$core$Packable$=An,ku.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return ptn(t,this)},ui.prototype.msgpack_cljs$core$Packable$=An,ui.prototype.msgpack_cljs$core$Packable$pack_stream$arity$2=function(n,t){return dtn(t,this)};var mtn,vtn,wtn,ytn={},btn={};if(void 0===y4||void 0===ytn||void 0===btn||void 0===xtn)var xtn=cl(new ku(null,2,[Nw,null,vW,ju],null));if(void 0===y4||void 0===ytn||void 0===btn||void 0===_tn)var _tn=cl(new ku(null,1,[n$,T1.g(new o1)],null));function ktn(n){return Cr(n)?n:new Xl(null,1,5,Kl,[n],null)}function jtn(n,t){var e,r,i,l=ktn(t);return s8((i=null==(r=mtn)?(e=b7(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),y8(g8(Pi,new Se((function(){return Pi}),_v,Vu([Ow,Xw,Nb,ox,$x,JA,ZD,DB,YR,mL,bq],[kb,XL,"cljs/core.cljs",12,new ku(null,6,[jC,!0,yj,5,WP,5,Xk,new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[KW,zv],null),new Xl(null,3,5,Kl,[KW,$s,zv],null),new Xl(null,4,5,Kl,[KW,$s,yv,zv],null),new Xl(null,5,5,Kl,[KW,$s,yv,TP,zv],null)],null),YR,fi(new Xl(null,2,5,Kl,[KW,zv],null),new Xl(null,3,5,Kl,[KW,$s,zv],null),new Xl(null,4,5,Kl,[KW,$s,yv,zv],null),new Xl(null,5,5,Kl,[KW,$s,yv,TP,zv],null),new Xl(null,7,5,Kl,[KW,Ip,YU,Uz,VW,Ko,zv],null)),KO,fi(null,null,null,null,null)],null),1,3939,3939,fi(new Xl(null,2,5,Kl,[KW,zv],null),new Xl(null,3,5,Kl,[KW,$s,zv],null),new Xl(null,4,5,Kl,[KW,$s,yv,zv],null),new Xl(null,5,5,Kl,[KW,$s,yv,TP,zv],null),new Xl(null,7,5,Kl,[KW,Ip,YU,Uz,VW,Ko,zv],null)),"Applies fn f to the argument list formed by prepending intervening arguments to args.",zn(Pi)?Pi.Ia:null])),XL),new Xl(null,2,5,Kl,[g8(hnn,new Se((function(){return hnn}),IT,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,zq,"target/public/cljs-out/dev/com/rpl/specter.cljc",10,1,952,954,si,"Navigate to the specified keys one after another. If navigate to NONE,\n             that element is removed from the map or vector.",zn(hnn)?hnn.Ia:null])),e$),d8(l,Ph)],null),fi(XL,e$,Ph))],null)],null),new Xl(null,5,5,Kl,[new Xl(null,2,5,Kl,[Pz,fi(XL,e$,Ph)],null),Pz,XL,e$,Ph],null)),mtn=e):r,r=i.$a,zn(i.Ya)?(i=new Xl(null,5,5,Kl,[new Xl(null,2,5,Kl,[dnn,Pi.a(hnn,l)],null),dnn,Pi,hnn,l],null),r.g?r.g(i):r.call(null,i)):r),n)}var Otn=function n(t){switch(arguments.length){case 2:return n.a(arguments[0],arguments[1]);case 3:return n.j(arguments[0],arguments[1],arguments[2]);default:for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],new lr(e.slice(5),0,null))}};Otn.a=function(n,t){return fl(n,t)},Otn.j=function(n,t,e){e=wr(e=Ne.a(e,SW)?MS:e)?e:ll(e);var r,i,l,u=ktn(t);return f8((l=null==(i=vtn)?(r=b7(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),y8(g8(Pi,new Se((function(){return Pi}),_v,Vu([Ow,Xw,Nb,ox,$x,JA,ZD,DB,YR,mL,bq],[kb,XL,"cljs/core.cljs",12,new ku(null,6,[jC,!0,yj,5,WP,5,Xk,new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[KW,zv],null),new Xl(null,3,5,Kl,[KW,$s,zv],null),new Xl(null,4,5,Kl,[KW,$s,yv,zv],null),new Xl(null,5,5,Kl,[KW,$s,yv,TP,zv],null)],null),YR,fi(new Xl(null,2,5,Kl,[KW,zv],null),new Xl(null,3,5,Kl,[KW,$s,zv],null),new Xl(null,4,5,Kl,[KW,$s,yv,zv],null),new Xl(null,5,5,Kl,[KW,$s,yv,TP,zv],null),new Xl(null,7,5,Kl,[KW,Ip,YU,Uz,VW,Ko,zv],null)),KO,fi(null,null,null,null,null)],null),1,3939,3939,fi(new Xl(null,2,5,Kl,[KW,zv],null),new Xl(null,3,5,Kl,[KW,$s,zv],null),new Xl(null,4,5,Kl,[KW,$s,yv,zv],null),new Xl(null,5,5,Kl,[KW,$s,yv,TP,zv],null),new Xl(null,7,5,Kl,[KW,Ip,YU,Uz,VW,Ko,zv],null)),"Applies fn f to the argument list formed by prepending intervening arguments to args.",zn(Pi)?Pi.Ia:null])),XL),new Xl(null,2,5,Kl,[g8(hnn,new Se((function(){return hnn}),IT,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,zq,"target/public/cljs-out/dev/com/rpl/specter.cljc",10,1,952,954,si,"Navigate to the specified keys one after another. If navigate to NONE,\n             that element is removed from the map or vector.",zn(hnn)?hnn.Ia:null])),e$),d8(u,Ph)],null),fi(XL,e$,Ph))],null)],null),new Xl(null,5,5,Kl,[new Xl(null,2,5,Kl,[Pz,fi(XL,e$,Ph)],null),Pz,XL,e$,Ph],null)),vtn=r):i,i=l.$a,zn(l.Ya)?(l=new Xl(null,5,5,Kl,[new Xl(null,2,5,Kl,[dnn,Pi.a(hnn,u)],null),dnn,Pi,hnn,u],null),i.g?i.g(l):i.call(null,l)):i),e,n)},Otn.l=function(n,t,e,r,i,l){var u,a,o;for(t=De(Da(2,x7((o=null==(a=wtn)?(u=b7(new Xl(null,1,5,Kl,[g8(ann,new Se((function(){return ann}),F_,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,cg,"target/public/cljs-out/dev/com/rpl/specter.cljc",12,1,777,779,si,"Navigate to the empty subsequence before the first element of the collection.",zn(ann)?ann.Ia:null])),Vv)],null),new Xl(null,1,5,Kl,[Vv],null)),wtn=u):a,a=o.$a,zn(o.Ya)?(o=new Xl(null,1,5,Kl,[ann],null),a.g?a.g(o):a.call(null,o)):a),new Xl(null,4,5,Kl,[t,e,r,i],null),l))),e=null,i=r=0;;)if(i<r){var s=e.Aa(null,i);l=pr(s,0),s=pr(s,1),Otn.j(n,l,s),i+=1}else{if(!(t=De(t)))break;Dr(t)?(r=le(t),t=ue(t),e=r,r=hr(r)):(e=pr(r=Me(t),0),r=pr(r,1),Otn.j(n,e,r),t=Te(t),e=null,r=0),i=0}return St(n)},Otn.S=function(n){var t=Me(n),e=Te(n);n=Me(e);var r=Te(e);e=Me(r);var i=Te(r);r=Me(i);var l=Te(i);return i=Me(l),l=Te(l),this.l(t,n,e,r,i,l)},Otn.R=5;var Atn={},Etn={};function Stn(n,t,e,r){var i=hr(t);return n=zn(n)?0:10<i?10:i,t=pl.a(al.a(Ctn,!0),gl(n,t)),t=Pi.a(ii,jl(" ",t)),i=n<i?"...":null,[ii.g(e),ii.g(t),i,ii.g(r)].join("")}if(void 0===jn||void 0===Atn||void 0===Etn||void 0==={}||void 0==={}||void 0===Ctn){var Ctn,Dtn=cl(ju),Mtn=cl(ju),Ftn=cl(ju),Ttn=cl(ju),Ntn=gr.j(ju,kI,po.L?po.L():po.call(null));Ctn=new xo(Ee.a("cljs.tools.reader.impl.inspect","inspect*"),(function(n,t){return null==t?sT:"string"==typeof t?aO:t instanceof pi||"number"==typeof t||t instanceof Ae?gA:Cr(t)?gO:ai(t)?sM:Er(t)?QU:Or(t)?vR:Ne.a(t,!0)||Ne.a(t,!1)?gA:qn(t)}),Ntn,Dtn,Mtn,Ftn,Ttn)}if(Ctn.Jb(null,aO,(function(n,t){n=zn(n)?5:20;var e=t.length>n?'..."':'"',r=t.length;return['"',ii.g(t.substring(0,n<r?n:r)),e].join("")})),Ctn.Jb(null,gA,(function(n,t){return ii.g(t)})),Ctn.Jb(null,lr,(function(){return"<indexed seq>"})),Ctn.Jb(null,xu,(function(){return"<map seq>"})),Ctn.Jb(null,Lu,(function(){return"<map seq>"})),Ctn.Jb(null,hi,(function(){return"<cons>"})),Ctn.Jb(null,wi,(function(){return"<lazy seq>"})),Ctn.Jb(null,sT,(function(){return"nil"})),Ctn.Jb(null,sM,(function(n,t){return Stn(n,t,"(",")")})),Ctn.Jb(null,QU,(function(n,t){var e=hr(t),r=zn(n)?0:e;return Stn(n,t=Pi.a(Si,gl(r,t)),"{",e>r?"...}":"}")})),Ctn.Jb(null,vR,(function(n,t){return Stn(n,t,"#{","}")})),Ctn.Jb(null,gO,(function(n,t){return Stn(n,t,"[","]")})),Ctn.Jb(null,nw,(function(n,t){return Ja.l(ur([qn(t)]))})),new cn,void 0===jn||void 0===Atn||void 0===Etn||void 0===Btn)var Btn={};if(void 0===jn||void 0===Atn||void 0===Etn||void 0===ztn)var ztn={};if(void 0===jn||void 0===Atn||void 0===Etn||void 0===Ptn)var Ptn={};var $tn=function(){var n=new Xl(null,13,5,Kl,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),t=new Xl(null,13,5,Kl,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(e,r){return gr.a(zn(r)?t:n,e)}}(),Rtn=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function Itn(n){return n=parseInt(n,10),In(isNaN(n))?n:null}function Ltn(n,t,e,r){if(!(n<=t&&t<=e))throw Error([ii.g(r)," Failed:  ",ii.g(n),"<=",ii.g(t),"<=",ii.g(e)].join(""));return t}ma.l(ur([new ku(null,4,[X_,function(n){if("string"==typeof n){var t=function(n){var t=$a(Rtn,n);pr(t,0);var e=pr(t,1),r=pr(t,2),i=pr(t,3),l=pr(t,4),u=pr(t,5),a=pr(t,6),o=pr(t,7),s=pr(t,8),c=pr(t,9),f=pr(t,10);if(In(t))throw Error(["Unrecognized date/time syntax: ",ii.g(n)].join(""));var h,d=Itn(e),p=zn(h=Itn(r))?h:1;n=function(){var n=Itn(i);return zn(n)?n:1}(),t=function(){var n=Itn(l);return zn(n)?n:0}(),e=function(){var n=Itn(u);return zn(n)?n:0}();var g=function(){var n=Itn(a);return zn(n)?n:0}(),m=function(){n:if(Ne.a(3,hr(o)))var n=o;else if(3<hr(o))n=o.substring(0,3);else for(n=new cn(o);;){if(!(3>n.md.length)){n=n.toString();break n}n=n.append("0")}return zn(n=Itn(n))?n:0}();return s=(Ne.a(s,"-")?-1:1)*(60*function(){var n=Itn(c);return zn(n)?n:0}()+function(){var n=Itn(f);return zn(n)?n:0}()),new Xl(null,8,5,Kl,[d,Ltn(1,p,12,"timestamp month field must be in range 1..12"),Ltn(1,n,function(){var n=0==(d%4+4)%4&&(0!=(d%100+100)%100||0==(d%400+400)%400);return $tn.a?$tn.a(p,n):$tn.call(null,p,n)}(),"timestamp day field must be in range 1..last day in month"),Ltn(0,t,23,"timestamp hour field must be in range 0..23"),Ltn(0,e,59,"timestamp minute field must be in range 0..59"),Ltn(0,g,Ne.a(e,59)?60:59,"timestamp second field must be in range 0..60"),Ltn(0,m,999,"timestamp millisecond field must be in range 0..999"),s],null)}(n);if(!zn(t))throw Error(["Unrecognized date/time syntax: ",ii.g(n)].join(""));n=pr(t,0);var e=pr(t,1),r=pr(t,2),i=pr(t,3),l=pr(t,4),u=pr(t,5),a=pr(t,6);return t=pr(t,7),t=new Date(Date.UTC(n,e-1,r,i,l,u,a)-6e4*t)}throw Error("Instance literal expects a string for its timestamp.")},cs,function(n){if("string"==typeof n){if("string"!=typeof n)throw Error("Assert failed: (string? s)");return new ko(n.toLowerCase(),null)}throw Error("UUID literal expects a string as its representation.")},sO,function(n){if(Cr(n))return Dl.a(fu,n);throw Error("Queue literal expects a vector for its elements.")},Zb,function(n){if(Cr(n)){var t=[];n=De(n);for(var e=null,r=0,i=0;;)if(i<r){var l=e.Aa(null,i);t.push(l),i+=1}else{if(!(n=De(n)))break;Dr(e=n)?(n=le(e),i=ue(e),e=n,r=hr(n),n=i):(n=Me(e),t.push(n),n=Te(e),e=null,r=0),i=0}return t}if(Er(n)){for(t={},n=De(n),e=null,i=r=0;;)if(i<r){var u=e.Aa(null,i);l=pr(u,0),u=pr(u,1),t[l=Ea(l)]=u,i+=1}else{if(!(n=De(n)))break;Dr(n)?(r=le(n),n=ue(n),e=r,r=hr(r)):(e=pr(r=Me(n),0),r=pr(r,1),t[e=Ea(e)]=r,n=Te(n),e=null,r=0),i=0}return t}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys")}],null),ju]));var Utn,qtn,Htn,Wtn,Gtn={},Ytn={};void 0!==Gtn&&void 0!==Ytn&&void 0!==Utn||((Utn=function(n){this.Ej=n,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new Utn(t)},Utn.prototype.X=function(){return this.Ej},Utn.wa=function(){return new Xl(null,1,5,Kl,[fv],null)},Utn.ta=!0,Utn.sa="haslett.format/t_haslett$format26419",Utn.ua=function(n){return Gt(n,"haslett.format/t_haslett$format26419")}),new Utn(ju),void 0!==Gtn&&void 0!==Ytn&&void 0!==qtn||((qtn=function(n){this.Fj=n,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new qtn(t)},qtn.prototype.X=function(){return this.Fj},qtn.wa=function(){return new Xl(null,1,5,Kl,[vm],null)},qtn.ta=!0,qtn.sa="haslett.format/t_haslett$format26422",qtn.ua=function(n){return Gt(n,"haslett.format/t_haslett$format26422")}),new qtn(ju),void 0!==Gtn&&void 0!==Ytn&&void 0!==Htn||((Htn=function(n){this.Gj=n,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new Htn(t)},Htn.prototype.X=function(){return this.Gj},Htn.wa=function(){return new Xl(null,1,5,Kl,[oP],null)},Htn.ta=!0,Htn.sa="haslett.format/t_haslett$format26425",Htn.ua=function(n){return Gt(n,"haslett.format/t_haslett$format26425")}),new Htn(ju),void 0!==Gtn&&void 0!==Ytn&&void 0!==Wtn||((Wtn=function(n){this.Hj=n,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new Wtn(t)},Wtn.prototype.X=function(){return this.Hj},Wtn.wa=function(){return new Xl(null,1,5,Kl,[Ff],null)},Wtn.ta=!0,Wtn.sa="haslett.format/t_haslett$format26428",Wtn.ua=function(n){return Gt(n,"haslett.format/t_haslett$format26428")}),new Wtn(ju);var Vtn;function Jtn(n,t,e){e=null!=e&&(64&e.B||An===e.ja)?Pi.a(sa,e):e;var r=gr.j(e,fR,us);if(jtn(_tn,new Xl(null,2,5,Kl,[n,bM],null))>=jtn(_tn,new Xl(null,2,5,Kl,[n,ow],null))){var i=T1.g(1);g1((function(){var e,l=function(){function e(e){for(;;){n:try{for(;;){var i=e,l=i[1];if(1===l)var u=jtn(_tn,new Xl(null,2,5,Kl,[n,Ic],null)),a=[xj,bd],o=[lh,tk,fR,bM],s=jtn(_tn,new Xl(null,2,5,Kl,[n,bM],null)),c=Vu(o,[n,t,r,s]),f=M1(i,u,Vu(a,[_W,c]));else f=2===l?F1(i,i[2]):null;if(!gi(f,nk)){var h=f;break n}}}catch(n){if(h=n,e[2]=h,!De(e[4]))throw h;e[1]=Me(e[4]),h=nk}if(!gi(h,nk))return h}}function i(){var n=[null,null,null,null,null,null,null];return n[0]=l,n[1]=1,n}var l=null;return(l=function(n){switch(arguments.length){case 0:return i.call(this);case 1:return e.call(this,n)}throw Error("Invalid arity: "+arguments.length)}).L=i,l.g=e,l}();return C1(((e=l.L?l.L():l.call(null))[6]=i,e))}))}else{var l=new ku(null,2,[xj,tk,bd,t],null);!function(n,t,e){var r=T1.g(1);g1((function(){var i,l=function(){function r(r){for(;;){n:try{for(;;){var i=r,l=i[1];if(1===l)var u=M1(i,jtn(_tn,new Xl(null,3,5,Kl,[n,bx,Bq],null)),new Xl(null,2,5,Kl,[t,e],null));else u=2===l?F1(i,i[2]):null;if(!gi(u,nk)){var a=u;break n}}}catch(n){if(a=n,r[2]=a,!De(r[4]))throw a;r[1]=Me(r[4]),a=nk}if(!gi(a,nk))return a}}function i(){var n=[null,null,null,null,null,null,null];return n[0]=l,n[1]=1,n}var l=null;return(l=function(n){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,n)}throw Error("Invalid arity: "+arguments.length)}).L=i,l.g=r,l}();return C1(((i=l.L?l.L():l.call(null))[6]=r,i))}))}(n,r,l),Otn.j(_tn,new Xl(null,2,5,Kl,[n,bM],null),He),i=T1.g(1),g1((function(){var t,e=function(){function t(t){for(;;){n:try{for(;;){var e=t,r=e[1];if(1===r)var i=jtn(_tn,new Xl(null,2,5,Kl,[n,Ic],null)),u=[xj,bd],a=[lh,tk,bM],o=jtn(_tn,new Xl(null,3,5,Kl,[vW,n,bM],null)),s=Vu(a,[n,l,o]),c=M1(e,i,Vu(u,[zO,s]));else c=2===r?F1(e,e[2]):null;if(!gi(c,nk)){var f=c;break n}}}catch(n){if(f=n,t[2]=f,!De(t[4]))throw f;t[1]=Me(t[4]),f=nk}if(!gi(f,nk))return f}}function e(){var n=[null,null,null,null,null,null,null];return n[0]=r,n[1]=1,n}var r=null;return(r=function(n){switch(arguments.length){case 0:return e.call(this);case 1:return t.call(this,n)}throw Error("Invalid arity: "+arguments.length)}).L=e,r.g=t,r}();return C1(((t=e.L?e.L():e.call(null))[6]=i,t))}))}return i}void 0!==y4&&void 0!==ytn&&void 0!=={}&&void 0!==Vtn||((Vtn=function(n){this.Ij=n,this.B=393216,this.U=0}).prototype.Y=function(n,t){return new Vtn(t)},Vtn.prototype.X=function(){return this.Ij},Vtn.wa=function(){return new Xl(null,1,5,Kl,[qo],null)},Vtn.ta=!0,Vtn.sa="aerial.hanasu.client/t_aerial$hanasu$client26487",Vtn.ua=function(n){return Gt(n,"aerial.hanasu.client/t_aerial$hanasu$client26487")}),new Vtn(ju);var Xtn,Ktn,Ztn,Qtn,nen,ten,een,ren,ien,len,uen,aen,oen={},sen=T1.g(10),cen=T1.g(1);g1((function(){var n,t=function(){function n(n){var t=n[1];return 1===t?D1(n,2):2===t?(t=n[2],n[7]=t,n[2]=null,n[1]=3,nk):3===t?(t=n[7],t=Xa.l(ur([t])),t=console.log(t),n[8]=t,D1(n,5)):4===t?F1(n,n[2]):5===t?(t=n[2],n[7]=t,n[2]=null,n[1]=3,nk):null}return function(){function t(t){for(;;){n:try{for(;;){var e=n(t);if(!gi(e,nk)){var r=e;break n}}}catch(n){if(r=n,t[2]=r,!De(t[4]))throw r;t[1]=Me(t[4]),r=nk}if(!gi(r,nk))return r}}function e(){var n=[null,null,null,null,null,null,null,null,null];return n[0]=r,n[1]=1,n}var r=null;return(r=function(n){switch(arguments.length){case 0:return e.call(this);case 1:return t.call(this,n)}throw Error("Invalid arity: "+arguments.length)}).L=e,r.g=t,r}()}();return C1(((n=t.L?t.L():t.call(null))[6]=cen,n))}));var fen=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};if(fen.l=function(n){return!zn(n=K0(n=yG(" ",n)))||St(n)},fen.R=0,fen.S=function(n){return this.l(De(n))},void 0===y4||void 0===b4||void 0===oen||void 0===hen)var hen=cl(new ku(null,1,[gf,ju],null));if(void 0===y4||void 0===b4||void 0===oen||void 0===den)var den=bZ(new ku(null,1,[gf,ju],null));function pen(n,t){Otn.j(den,n,t)}function gen(n){return jtn(den,n)}function men(n,t){n=ktn(n),zn(n=gen(n=nu(Si.a(new Xl(null,1,5,Kl,[gf],null),n))))&&Pi.a(fen,t)}var ven=function n(t){for(var e=[],r=arguments.length,i=0;i<r;)e.push(arguments[i]),i+=1;return n.l(0<e.length?new lr(e.slice(0),0,null):null)};ven.l=function(n){var t=new ku(null,3,[wk,"none",yx,"450px",ps,"450px"],null),e=Me(n);return n=wG(n=yG("\n",Er(e)?Fe(n):n),"\\(","\\\\("),n=wG(n,"\\)","\\\\)"),t=ma.l(ur([t,Er(e)?e.g?e.g(BE):e.call(null,BE):ju])),e=Er(e)?mr.j(e,BE,t):new ku(null,1,[BE,t],null),e=nu(Si.a(new Xl(null,2,5,Kl,[o$,e],null),Fe(Knn(n)))),men(new Xl(null,1,5,Kl,[CW],null),ur([Xj,e])),e},ven.R=0,ven.S=function(n){return this.l(De(n))};var wen=Dl.a(ju,function(n,t,e){return Dl.a(Zl,pl.j(n,t,e))}(tu,Ql([fc,tB,kS,qc,kq,nI,Wg,vP,lO,EB,ZO,Xs,E$,eG,JM,Uj,VC,np,oI,mN,g$,Vd,yP,gk,bO,mO,wm,Ky,OH,lz,rF,Hc,pN,JW,VB,LT,JS,zH,zg],!0),Ql([m0,w0,b0,j0,h0,p0,v5,w5,_0,l0,function(){var n=bZ(!1);return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,r=gr.a(e,DF),i=gr.a(e,pA);t=gr.a(e,Yq);var l=gr.a(e,lN),u=gr.a(e,qI),a=gr.j(e,RF,"btn-default"),o=gr.a(e,BE),s=gr.a(e,iG);if(!_Q(xQ(n2),e,ur(["button"])))throw Error('Assert failed: (validate-args-macro button-args-desc args "button")');zn(t)||fl(n,!1);var c=UZ(u);return e=new Xl(null,3,5,Kl,[Vm,ma.l(ur([new ku(null,4,[RF,["rc-button btn ",ii.g(a)].join(""),BE,ma.l(ur([l0("none"),o])),Tg,c,pA,function(n){return zn(zn(i)?In(c):i)&&(i.g?i.g(n):i.call(null,n)),null}],null),zn(t)?new ku(null,2,[MP,function(){return fl(n,!0),null},$v,function(){return fl(n,!1),null}],null):null,s])),r],null),zn(c)&&fl(n,!1),new Xl(null,7,5,Kl,[b0,RF,"rc-button-wrapper display-inline-flex",Cf,kx,QP,zn(t)?new Xl(null,9,5,Kl,[U0,DF,t,Cz,zn(l)?l:Xx,hS,n,C$,e],null):e],null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()},function(){var n=bZ(!1);return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,r=gr.a(e,qI);t=gr.a(e,Yq);var i=gr.a(e,iG),l=gr.j(e,av,"zmdi-plus"),u=gr.a(e,pA),a=gr.a(e,BE),o=gr.a(e,RF),s=gr.a(e,lN),c=gr.a(e,oB);if(!_Q(xQ(i2),e,ur(["row-button"])))throw Error('Assert failed: (validate-args-macro row-button-args-desc args "row-button")');return zn(t)||fl(n,!1),e=new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,3,[RF,["rc-row-button noselect ",zn(c)?"rc-row-mouse-over-row ":null,zn(r)?"rc-row-disabled ":null,ii.g(o)].join(""),BE,a,pA,function(n){return zn(zn(u)?In(r):u)&&(u.g?u.g(n):u.call(null,n)),null}],null),zn(t)?new ku(null,2,[MP,function(){return fl(n,!0),null},$v,function(){return fl(n,!1),null}],null):null,i])),new Xl(null,2,5,Kl,[yq,new ku(null,1,[RF,["zmdi zmdi-hc-fw-rc ",ii.g(l)].join("")],null)],null)],null),new Xl(null,7,5,Kl,[b0,RF,"rc-row-button-wrapper display-inline-flex",Cf,kx,QP,zn(t)?new Xl(null,9,5,Kl,[U0,DF,t,Cz,zn(s)?s:Xx,hS,n,C$,e],null):e],null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()},function(){var n=bZ(!1);return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,r=gr.a(e,qI);t=gr.a(e,Yq);var i=gr.a(e,iG),l=gr.a(e,rv),u=gr.j(e,av,"zmdi-plus"),a=gr.a(e,pA),o=gr.a(e,SA),s=gr.a(e,BE),c=gr.a(e,RF),f=gr.a(e,lN);if(!_Q(xQ(e2),e,ur(["md-icon-button"])))throw Error('Assert failed: (validate-args-macro md-icon-button-args-desc args "md-icon-button")');return zn(t)||fl(n,!1),e=new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,3,[RF,["rc-md-icon-button noselect ",ii.g(function(){switch(o instanceof pi?o.qa:null){case"smaller":return"rc-icon-smaller ";case"larger":return"rc-icon-larger ";default:return" "}}()),zn(l)?"rc-icon-emphasis ":null,zn(r)?"rc-icon-disabled ":null,ii.g(c)].join(""),BE,ma.l(ur([new ku(null,1,[I_,zn(r)?null:"pointer"],null),s])),pA,function(n){return zn(zn(a)?In(r):a)&&(a.g?a.g(n):a.call(null,n)),null}],null),zn(t)?new ku(null,2,[MP,function(){return fl(n,!0),null},$v,function(){return fl(n,!1),null}],null):null,i])),new Xl(null,2,5,Kl,[yq,new ku(null,1,[RF,["zmdi zmdi-hc-fw-rc ",ii.g(u)].join("")],null)],null)],null),new Xl(null,7,5,Kl,[b0,RF,"rc-md-icon-button-wrapper display-inline-flex",Cf,kx,QP,zn(t)?new Xl(null,9,5,Kl,[U0,DF,t,Cz,zn(f)?f:Xx,hS,n,C$,e],null):e],null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()},function(){var n=bZ(!1);return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,r=gr.a(e,qI);t=gr.a(e,Yq);var i=gr.a(e,iG),l=gr.a(e,rv),u=gr.j(e,av,"zmdi-plus"),a=gr.a(e,pA),o=gr.a(e,SA),s=gr.a(e,BE),c=gr.a(e,RF),f=gr.a(e,lN);if(!_Q(xQ(t2),e,ur(["md-circle-icon-button"])))throw Error('Assert failed: (validate-args-macro md-circle-icon-button-args-desc args "md-circle-icon-button")');return zn(t)||fl(n,!1),e=new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,3,[RF,["rc-md-circle-icon-button noselect ",ii.g(function(){switch(o instanceof pi?o.qa:null){case"smaller":return"rc-circle-smaller ";case"larger":return"rc-circle-larger ";default:return" "}}()),zn(l)?"rc-circle-emphasis ":null,zn(r)?"rc-circle-disabled ":null,ii.g(c)].join(""),BE,ma.l(ur([new ku(null,1,[I_,zn(r)?null:"pointer"],null),s])),pA,function(n){return zn(zn(a)?In(r):a)&&(a.g?a.g(n):a.call(null,n)),null}],null),zn(t)?new ku(null,2,[MP,function(){return fl(n,!0),null},$v,function(){return fl(n,!1),null}],null):null,i])),new Xl(null,2,5,Kl,[yq,new ku(null,1,[RF,["zmdi zmdi-hc-fw-rc ",ii.g(u)].join("")],null)],null)],null),new Xl(null,7,5,Kl,[b0,RF,"rc-md-circle-icon-button-wrapper display-inline-flex",Cf,kx,QP,zn(t)?new Xl(null,9,5,Kl,[U0,DF,t,Cz,zn(f)?f:Xx,hS,n,C$,e],null):e],null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()},function(){var n=bZ(!1);return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){t=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t;var e=gr.a(t,NN),r=gr.a(t,Cz),i=gr.a(t,yx),l=gr.a(t,RF),u=gr.a(t,BE),a=gr.a(t,iG);if(!_Q(xQ(r2),t,ur(["info-button"])))throw Error('Assert failed: (validate-args-macro info-button-args-desc args "info-button")');return new Xl(null,15,5,Kl,[U0,DF,e,zM,NN,Cz,zn(r)?r:bh,yx,zn(i)?i:"250px",hS,n,_L,function(){return hl.a(n,In)},C$,new Xl(null,3,5,Kl,[oS,ma.l(ur([new ku(null,3,[RF,["rc-info-button noselect ",ii.g(l)].join(""),BE,ma.l(ur([new ku(null,1,[I_,"pointer"],null),u])),pA,function(){return hl.a(n,In),null}],null),a])),new Xl(null,5,5,Kl,[_N,new ku(null,2,[yx,"11",GH,"11"],null),new Xl(null,2,5,Kl,[Qb,new ku(null,3,[CF,"5.5",eT,"5.5",Vf,"5.5"],null)],null),new Xl(null,2,5,Kl,[Qb,new ku(null,4,[CF,"5.5",eT,"2.5",Vf,"1.4",Iy,"white"],null)],null),new Xl(null,2,5,Kl,[ZD,new ku(null,6,[s$,"5.5",ux,"5.2",VU,"5.5",rI,"9.7",Ah,"white",iM,"2.5"],null)],null)],null)],null)],null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()},R1,I1,L1,H0,G0,function(){var n=bZ(!1);return function(){function t(n){var t=null;if(0<arguments.length){t=0;for(var r=Array(arguments.length-0);t<r.length;)r[t]=arguments[t+0],++t;t=new lr(r,0,null)}return e.call(this,t)}function e(t){var e=null!=t&&(64&t.B||An===t.ja)?Pi.a(sa,t):t,r=gr.a(e,DF),i=gr.a(e,Rq),l=gr.a(e,H$);t=gr.a(e,Yq);var u=gr.a(e,lN),a=gr.a(e,RF),o=gr.a(e,BE),s=gr.a(e,iG);if(!_Q(xQ(l2),e,ur(["hyperlink-href"])))throw Error('Assert failed: (validate-args-macro hyperlink-href-args-desc args "hyperlink-href")');return zn(t)||fl(n,!1),e=UZ(r),i=UZ(i),l=UZ(l),a=new Xl(null,3,5,Kl,[CH,ma.l(ur([new ku(null,4,[RF,["rc-hyperlink-href noselect ",ii.g(a)].join(""),BE,ma.l(ur([l0("none"),o])),Rq,i,H$,l],null),zn(t)?new ku(null,2,[MP,function(){return fl(n,!0),null},$v,function(){return fl(n,!1),null}],null):null,s])),e],null),new Xl(null,7,5,Kl,[b0,RF,"rc-hyperlink-href-wrapper display-inline-flex",Cf,kx,QP,zn(t)?new Xl(null,9,5,Kl,[U0,DF,t,Cz,zn(u)?u:Xx,hS,n,C$,a],null):a],null)}return t.R=0,t.S=function(n){return e(n=De(n))},t.l=e,t}()},Y0,p5,r5,q1,W1,Y1,J1,z1,Z1,Q1,b5,$0,I0,function(n,t,e){return El((function(n){return 0<=(t.g?t.g(n):t.call(null,n)).indexOf(e)}),n)},d5,Y2,X2,ven],!0)));function yen(n){return s8((r=null==(e=Qtn)?(t=b7(new Xl(null,1,5,Kl,[new Xl(null,6,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),Gg,bF,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),zL),v8((function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}),fi(hM,new Xl(null,1,5,Kl,[Eh],null),fi(dh,fi(Eh,MF),Sm)))],null)],null),new Xl(null,5,5,Kl,[new Xl(null,6,5,Kl,[Pz,Gg,bF,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[Eh],null),fi(dh,fi(Eh,MF),Sm))],null),Pz,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[Eh],null),fi(dh,fi(Eh,MF),Sm))],null)),Qtn=t):e,e=r.$a,zn(r.Ya)?(r=new Xl(null,5,5,Kl,[new Xl(null,6,5,Kl,[dnn,Gg,bF,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}],null),dnn,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}],null),e.g?e.g(r):e.call(null,r)):e),den);var t,e,r}function ben(n,t){return s8((i=null==(r=nen)?(e=b7(new Xl(null,1,5,Kl,[new Xl(null,7,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),Gg,bF,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),zL),v8((function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}),fi(hM,new Xl(null,1,5,Kl,[eM],null),fi(dh,fi(eM,MF),Sm))),d8(t,TM)],null)],null),new Xl(null,6,5,Kl,[new Xl(null,7,5,Kl,[Pz,Gg,bF,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[eM],null),fi(dh,fi(eM,MF),Sm)),TM],null),Pz,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[eM],null),fi(dh,fi(eM,MF),Sm)),TM],null)),nen=e):r,r=i.$a,zn(i.Ya)?(i=new Xl(null,6,5,Kl,[new Xl(null,7,5,Kl,[dnn,Gg,bF,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)},t],null),dnn,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)},t],null),r.g?r.g(i):r.call(null,i)):r),den);var e,r,i}function xen(n){switch(arguments.length){case 0:return _en();case 1:return ken(arguments[0]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}}function _en(){return yen(St(gen(new Xl(null,2,5,Kl,[Gg,_T],null))))}function ken(n){return ben(St(gen(new Xl(null,2,5,Kl,[Gg,_T],null))),n)}function jen(n){var t,e,r;return x7((r=null==(e=ren)?(t=b7(new Xl(null,1,5,Kl,[new Xl(null,5,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),Gg,bF,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),g8(onn,new Se((function(){return onn}),P_,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,Wh,"target/public/cljs-out/dev/com/rpl/specter.cljc",13,1,834,838,si,"Navigate to 'void' element after the sequence.\n          For transformations – if result is not `NONE`,\n          then append that value.",zn(onn)?onn.Ia:null])),is)],null)],null),new Xl(null,4,5,Kl,[new Xl(null,5,5,Kl,[Pz,Gg,bF,Pz,is],null),Pz,Pz,is],null)),ren=t):e,e=r.$a,zn(r.Ya)?(r=new Xl(null,4,5,Kl,[new Xl(null,5,5,Kl,[dnn,Gg,bF,dnn,onn],null),dnn,dnn,onn],null),e.g?e.g(r):e.call(null,r)):e),n,den),function(n){return x7((r=null==(e=een)?(t=b7(new Xl(null,1,5,Kl,[new Xl(null,4,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),Gg,_T,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz)],null)],null),new Xl(null,3,5,Kl,[new Xl(null,4,5,Kl,[Pz,Gg,_T,Pz],null),Pz,Pz],null)),een=t):e,e=r.$a,zn(r.Ya)?(r=new Xl(null,3,5,Kl,[new Xl(null,4,5,Kl,[dnn,Gg,_T,dnn],null),dnn,dnn],null),e.g?e.g(r):e.call(null,r)):e),n,den);var t,e,r}(n.g?n.g(MF):n.call(null,MF))}function Oen(){fen.l(ur([Qj," called"]));var n=vK(new Xl(null,2,5,Kl,[Gg,Hg],null));return zn(_en())?St(n):new Xl(null,1,5,Kl,[MU],null)}function Aen(n,t){if(men(new Xl(null,2,5,Kl,[gb,gb],null),ur([ML,n])),zn(n)){var e=MF.g(HI.g(_p.g(n))),r=Dg.g(_p.g(n));fen.l(ur([fk,r]));var i=oT.g(_p.g(n)),l=gr.a(i,vx),u=!Ne.a(l,"vega-lite")&&void 0;return n=oo(n),i=new ku(null,6,[jA,gr.j(i,jA,"canvas"),vx,"vega",dC,gr.j(i,dC,u),Ro,!0,sE,gr.j(i,sE,1),GO,new ku(null,4,[DO,gr.j(i,DO,!1),Mj,gr.j(i,Mj,!1),sB,gr.j(i,sB,!1),db,!1],null)],null),l=Ne.a(l,"vega-lite")?vl.compile(n).spec:n,vegaEmbed(t,l,oo(i)).then((function(n){return zn(r)?function(n,t,e){return x7((l=null==(i=Ztn)?(r=b7(new Xl(null,1,5,Kl,[new Xl(null,5,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),Wx,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),d8(n,Sm),d8(t,hk)],null)],null),new Xl(null,5,5,Kl,[new Xl(null,5,5,Kl,[Pz,Wx,Pz,Sm,hk],null),Pz,Pz,Sm,hk],null)),Ztn=r):i,i=l.$a,zn(l.Ya)?(l=new Xl(null,5,5,Kl,[new Xl(null,5,5,Kl,[dnn,Wx,dnn,n,t],null),dnn,dnn,n,t],null),i.g?i.g(l):i.call(null,l)):i),e,den);var r,i,l}(e,r,n.view):null})).catch((function(n){return fen.l(ur([n]))}))}return null}function Een(n){return fen.l(ur(["VGL called"])),UK(new ku(null,4,[XB,"VGL",Tb,function(t){return Fe(yZ(t)),fen.l(ur(["Did-Mount: called"])),Aen(n,vZ(t))},A_,function(n){if(fen.l(ur(["Did-Update: called"])),null==n.Fd)throw Error(["Assert failed: ",["Expected a reagent component, not ",Ja.l(ur([n]))].join(""),"\n(comp/reagent-component? this)"].join(""));var t=n.props,e=t.argv;null==e?e=Dl.a(Zl,EK.Children.toArray(t.children)):(t=null==(t=pr(e,1))||Er(t)?2:1,e=hr(e)>t?lu(e,t,hr(e)):null);var r=Me(Fe(t=yZ(n)));return men(new Xl(null,3,5,Kl,[gb,UD,vk],null),ur([Qy,e,I$,Fe(t)])),Aen(r,vZ(n))},ND,function(n){n=zn(n=Dg.g(_p.g(n)))?n:ro.g("vid-");var t=document.getElementById(n);return zn(t)?t:new Xl(null,5,5,Kl,[b0,iG,new ku(null,1,[MF,n],null),QP,new Xl(null,1,5,Kl,[oS],null)],null)}],null))}function Sen(n,t){var e=Me(gen(NL));return n=pr(t=e.a?e.a(n,t):e.call(null,n,t),0),t=pr(t,1),new Xl(null,7,5,Kl,[w0,iG,new ku(null,1,[MF,t.g?t.g(lm):t.call(null,lm)],null),DN,"10px",bf,new Xl(null,3,5,Kl,[new Xl(null,5,5,Kl,[m0,DN,"5px",bf,t.g?t.g(Zm):t.call(null,Zm)],null),new Xl(null,5,5,Kl,[m0,DN,"5px",bf,zn(n)?new Xl(null,3,5,Kl,[new Xl(null,3,5,Kl,[m0,bf,t.g?t.g(fW):t.call(null,fW)],null),new Xl(null,2,5,Kl,[Een,n],null),new Xl(null,3,5,Kl,[m0,bf,t.g?t.g(tz):t.call(null,tz)],null)],null):new Xl(null,2,5,Kl,[new Xl(null,3,5,Kl,[m0,bf,t.g?t.g(fW):t.call(null,fW)],null),new Xl(null,3,5,Kl,[m0,bf,t.g?t.g(tz):t.call(null,tz)],null)],null)],null),new Xl(null,5,5,Kl,[m0,DN,"5px",bf,t.g?t.g(Mg):t.call(null,Mg)],null)],null)],null)}function Cen(){var n=_en();if(zn(n)){n.g?n.g(MF):n.call(null,MF);var t=n.g?n.g(zT):n.call(null,zT),e=n.g?n.g(BN):n.call(null,BN),r=gen(new Xl(null,3,5,Kl,[xI,oT,HI],null));r=n.a?n.a(oT,r):n.call(null,oT,r);var i=Me(gen(NL));if(zn(e))return fen.l(ur(["hanami called - has compvis"])),i.L?i.L():i.call(null),e;if(zn(t))return n=function(n,t){var e=Ne.a(Nl(t,new Xl(null,1,5,Kl,[$z],null)),tW)?m0:w0,r=Ne.a(e,m0)?t.g?t.g(PD):t.call(null,PD):t.g?t.g(oC):t.call(null,oC),i=Bl(t,new Xl(null,1,5,Kl,[qx],null),3),l=hr(n),u=Ml(nu,Da(i,n));return fen.l(ur(["VIS-LIST : ",l])),function n(i){return new wi(null,(function(){for(;;){var l=De(i);if(l){var u=l;if(Dr(u)){var a=le(u),o=hr(a),s=xi(o);return function(){for(var n=0;;){if(!(n<o))return!0;var i=ut.a(a,n);Oi(s,new Xl(null,7,5,Kl,[e,SA,Bl(t,new Xl(null,1,5,Kl,[SA],null),"auto"),DN,r,bf,function n(t){return new wi(null,(function(){for(;;){var e=De(t);if(e){if(Dr(e)){var r=le(e),i=hr(r),l=xi(i);n:for(var u=0;;){if(!(u<i)){r=!0;break n}var a=ut.a(r,u),o=pr(a,0),s=pr(a,1);a=l,men(new Xl(null,2,5,Kl,[gb,Cs],null),ur([Yy,o,s])),o=Sen(o,s),a.add(o),u+=1}return ji(l.Na(),r?n(ue(e)):null)}return l=pr(r=Me(e),0),r=pr(r,1),men(new Xl(null,2,5,Kl,[gb,Cs],null),ur([Yy,l,r])),di(l=Sen(l,r),n(Fe(e)))}return null}}),null,null)}(i)],null)),n+=1}}()?ji(s.Na(),n(ue(u))):ji(s.Na(),null)}var c=Me(u);return di(new Xl(null,7,5,Kl,[e,SA,Bl(t,new Xl(null,1,5,Kl,[SA],null),"auto"),DN,r,bf,function n(t){return new wi(null,(function(){for(;;){var e=De(t);if(e){if(Dr(e)){var r=le(e),i=hr(r),l=xi(i);n:for(var u=0;;){if(!(u<i)){r=!0;break n}var a=ut.a(r,u),o=pr(a,0),s=pr(a,1);a=l,men(new Xl(null,2,5,Kl,[gb,Cs],null),ur([Yy,o,s])),o=Sen(o,s),a.add(o),u+=1}return ji(l.Na(),r?n(ue(e)):null)}return l=pr(r=Me(e),0),r=pr(r,1),men(new Xl(null,2,5,Kl,[gb,Cs],null),ur([Yy,l,r])),di(l=Sen(l,r),n(Fe(e)))}return null}}),null,null)}(c)],null),n(Fe(u)))}return null}}),null,null)}(u)}(n=n.g?n.g(cc):n.call(null,cc),r),fen.l(ur(["hanami called - making compvis"])),function(n,t){var e,r,i;x7((i=null==(r=ten)?(e=b7(new Xl(null,1,5,Kl,[new Xl(null,7,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),Gg,bF,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),zL),v8((function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}),fi(hM,new Xl(null,1,5,Kl,[uM],null),fi(dh,fi(uM,MF),Sm))),d8(BN,TM)],null)],null),new Xl(null,6,5,Kl,[new Xl(null,7,5,Kl,[Pz,Gg,bF,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[uM],null),fi(dh,fi(uM,MF),Sm)),TM],null),Pz,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[uM],null),fi(dh,fi(uM,MF),Sm)),TM],null)),ten=e):r,r=i.$a,zn(i.Ya)?(i=new Xl(null,6,5,Kl,[new Xl(null,7,5,Kl,[dnn,Gg,bF,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)},BN],null),dnn,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)},BN],null),r.g?r.g(i):r.call(null,i)):r),t,den)}(St(gen(new Xl(null,2,5,Kl,[Gg,_T],null))),n),n}return new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[lH,new ku(null,1,[Lk,gen(new Xl(null,2,5,Kl,[xI,lH],null))],null)],null)],null)}function Den(){fen.l(ur(["TABS called ..."]));var n,t=_en(),e=(n=zn(t)?t.g?t.g(oT):t.call(null,oT):t,zn(n)?n:gen(new Xl(null,3,5,Kl,[xI,oT,HI],null))),r=function(){var n=zn(t)?[Ea(t.g?t.g(MF):t.call(null,MF)),"-body"].join(""):t;return zn(n)?n:"xHx"}(),i=function(){var n=e.g?e.g(QI):e.call(null,QI);return zn(n)?n:Gr}(),l=Nl(e,new Xl(null,1,5,Kl,[dH],null)),u=Bl(e,new Xl(null,1,5,Kl,[SA],null),"auto"),a=Bl(e,new Xl(null,1,5,Kl,[$z],null),AF);a=Ne.a(a,tW)?w0:m0;var o=Ne.a(a,w0)?e.g?e.g(oC):e.call(null,oC):e.g?e.g(PD):e.call(null,PD);return fen.l(ur([hL,e])),zn(l)?l.g?l.g(t):l.call(null,t):(r=new Xl(null,9,5,Kl,[a,iG,new ku(null,1,[MF,r],null),SA,u,DN,o,bf,Cen()],null),i.g?i.g(r):i.call(null,r))}function Men(n){return men(new Xl(null,2,5,Kl,[tk,eB],null),ur(["Sending msg ",n])),function(n){for(var t=[],e=arguments.length,r=0;r<e;)t.push(arguments[r]),r+=1;return Jtn(arguments[0],arguments[1],2<t.length?new lr(t.slice(2),0,null):null)}(Me(El((function(n){return Ne.a(qn(n),WebSocket)}),ha(jtn(hen,Zl)))),n)}function Fen(n,t){return zn(zn(n)?t:n)?zn(zn(e=n.g?n.g(HI):n.call(null,HI))?e:n.g?n.g(UD):n.call(null,UD))?f8(function(){var n,t=len,e=null==t?(n=b7(new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[y8(g8(cnn,new Se((function(){return cnn}),h_,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,of,"target/public/cljs-out/dev/com/rpl/specter.cljc",9,1,865,869,si,"Navigates to the specified submap (using select-keys).\n          In a transform, that submap in the original map is changed to the new\n          value of the submap.",zn(cnn)?cnn.Ia:null])),sv),new Xl(null,1,5,Kl,[new Xl(null,2,5,Kl,[UD,HI],null)],null),fi(sv,new Xl(null,2,5,Kl,[UD,HI],null))),g8(lnn,new Se((function(){return lnn}),iD,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,vT,"target/public/cljs-out/dev/com/rpl/specter.cljc",11,1,702,705,si,"Navigate to each value of the map. This is more efficient than\n          navigating via [ALL LAST]",zn(lnn)?lnn.Ia:null])),rB)],null)],null),new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[fi(sv,new Xl(null,2,5,Kl,[UD,HI],null)),rB],null),sv,new Xl(null,2,5,Kl,[UD,HI],null),rB],null)),len=n):t;return t=e.$a,zn(e.Ya)?(e=new Xl(null,4,5,Kl,[new Xl(null,2,5,Kl,[function(){var n=new Xl(null,2,5,Kl,[UD,HI],null);return cnn.g?cnn.g(n):cnn.call(null,n)}(),lnn],null),cnn,new Xl(null,2,5,Kl,[UD,HI],null),lnn],null),t.g?t.g(e):t.call(null,e)):t}(),(function(n){return ma.l(ur([n,t]))}),n):ma.l(ur([n,t])):zn(n)?n:zn(t)?t:gen(new Xl(null,2,5,Kl,[xI,oT],null));var e}function Ten(n){return Ml((function(n){pr(n,0),n=pr(n,1);var t=HI.g(_p.g(Me(n)));return mr.j(t,zT,Ml((function(n){return vr.a(n,HI)}),n))}),n=function(n,t){return ee(Hr((function(t,e){var r=n.g?n.g(e):n.call(null,e);return Di(t,r,cr.a(gr.j(t,r,Zl),e))}),ne(ju),t))}((function(n){return MF.g(HI.g(_p.g(n)))}),ktn(n)))}function Nen(n,t,e){var r=Me(gen(Of));return Ml((function(e){var i=Nl(e,new Xl(null,2,5,Kl,[_p,Dg],null));zn(i)&&function(n,t,e){var r,i,l;x7((l=null==(i=Ktn)?(r=b7(new Xl(null,1,5,Kl,[new Xl(null,5,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),hj,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),d8(n,Sm),d8(t,hk)],null)],null),new Xl(null,5,5,Kl,[new Xl(null,5,5,Kl,[Pz,hj,Pz,Sm,hk],null),Pz,Pz,Sm,hk],null)),Ktn=r):i,i=l.$a,zn(l.Ya)?(l=new Xl(null,5,5,Kl,[new Xl(null,5,5,Kl,[dnn,hj,dnn,n,t],null),dnn,dnn,n,t],null),i.g?i.g(l):i.call(null,l)):i),e,den)}(ken?ken(MF):xen.call(null,MF),i,e),i=Kl;var l=Ne.a(hr(ha(e)),1)&&Ne.a(Me(ha(e)),_p)?null:e;return e=new ku(null,3,[SN,n,HS,e,oT,t],null),new Xl(null,2,5,i,[l,e=r.g?r.g(e):r.call(null,e)],null)}),e)}function Ben(n){Ml((function(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;n=gr.a(t,MF);var e=gr.a(t,DF),r=gr.a(t,oT),i=gr.a(t,zT),l=yen(n);i=zn(i)?ktn(i):null;var u=gen(new Xl(null,3,5,Kl,[xI,oT,HI],null));Me(gen(Of));var a=Nen(n,r,i);return In(l)?jen(mr.l(t,oT,Fen(u,r),ur([cc,a,zT,i]))):(t=zn(t=l.g?l.g(oT):l.call(null,oT))?t:u,function(n,t){return x7((i=null==(r=ien)?(e=b7(new Xl(null,1,5,Kl,[new Xl(null,6,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),Gg,bF,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),zL),v8((function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}),fi(hM,new Xl(null,1,5,Kl,[AM],null),fi(dh,fi(AM,MF),Sm)))],null)],null),new Xl(null,5,5,Kl,[new Xl(null,6,5,Kl,[Pz,Gg,bF,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[AM],null),fi(dh,fi(AM,MF),Sm))],null),Pz,Pz,zL,fi(hM,new Xl(null,1,5,Kl,[AM],null),fi(dh,fi(AM,MF),Sm))],null)),ien=e):r,r=i.$a,zn(i.Ya)?(i=new Xl(null,5,5,Kl,[new Xl(null,6,5,Kl,[dnn,Gg,bF,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}],null),dnn,dnn,rnn,function(t){return Ne.a(t.g?t.g(MF):t.call(null,MF),n)}],null),r.g?r.g(i):r.call(null,i)):r),t,den);var e,r,i}(n,new ku(null,5,[MF,n,DF,zn(e)?e:ben(n,DF),oT,Fen(t,r),cc,a,zT,i],null)))}),n=Ten(n))}if(void 0===y4||void 0===b4||void 0===oen||void 0===zen){var zen,Pen=cl(ju),$en=cl(ju),Ren=cl(ju),Ien=cl(ju),Len=gr.j(ju,kI,po.L?po.L():po.call(null));zen=new xo(Ee.a("aerial.hanami.core","user-msg"),xj,Len,Pen,$en,Ren,Ien)}function Uen(n){var t,e,r,i=gen(new Xl(null,2,5,Kl,[xI,_w],null));return n=Ne.a(n,"")?i.g?i.g(Xw):i.call(null,Xw):n,x7((r=null==(e=uen)?(t=b7(new Xl(null,1,5,Kl,[new Xl(null,4,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),xI,lw,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz)],null)],null),new Xl(null,3,5,Kl,[new Xl(null,4,5,Kl,[Pz,xI,lw,Pz],null),Pz,Pz],null)),uen=t):e,e=r.$a,zn(r.Ya)?(r=new Xl(null,3,5,Kl,[new Xl(null,4,5,Kl,[dnn,xI,lw,dnn],null),dnn,dnn],null),e.g?e.g(r):e.call(null,r)):e),n,den),Ri.a(n,i.g?i.g(Xw):i.call(null,Xw))?(pen(new Xl(null,3,5,Kl,[xI,_w,Xw],null),n),Men(new ku(null,2,[xj,bg,UW,new ku(null,2,[_w,i,DC,n],null)],null))):null}function qen(){return Ri.a("",s8(function(){var n,t=aen,e=null==t?(n=b7(new Xl(null,1,5,Kl,[new Xl(null,4,5,Kl,[g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz),xI,lw,g8(dnn,new Se((function(){return dnn}),pU,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,lg,"target/public/cljs-out/dev/com/rpl/specter.cljc",7,1,1085,1087,si,"Navigates to atom value.",zn(dnn)?dnn.Ia:null])),Pz)],null)],null),new Xl(null,3,5,Kl,[new Xl(null,4,5,Kl,[Pz,xI,lw,Pz],null),Pz,Pz],null)),aen=n):t;return t=e.$a,zn(e.Ya)?(e=new Xl(null,3,5,Kl,[new Xl(null,4,5,Kl,[dnn,xI,lw,dnn],null),dnn,dnn],null),t.g?t.g(e):t.call(null,e)):t}(),den))?new Xl(null,1,5,Kl,[MU],null):new Xl(null,9,5,Kl,[R1,qW,gen(new Xl(null,2,5,Kl,[xI,lw],null)),mI,Uen,_g,gen(new Xl(null,3,5,Kl,[xI,_w,Xw],null)),yx,"100px"],null)}zen.Jb(null,nw,(function(n){return fen.l(ur([n]))}));var Hen=function n(t){switch(arguments.length){case 0:return n.L();case 2:return n.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",ii.g(arguments.length)].join(""))}};function Wen(){return new ku(null,4,[Zm,Zl,Mg,Zl,fW,new Xl(null,1,5,Kl,[new Xl(null,5,5,Kl,[b0,SA,"0px",QP,""],null)],null),tz,new Xl(null,1,5,Kl,[new Xl(null,5,5,Kl,[b0,SA,"0px",QP,""],null)],null)],null)}function Gen(n,t){var e,r,i,l=Bl(n,new Xl(null,2,5,Kl,[fp,DU],null),ro.g("frame-"));return ma.l(ur([zn(n.g?n.g(fp):n.call(null,fp))?(e=Wen(),r=n.g?n.g(fp):n.call(null,fp),i=vr.l(r,DU,ur([jT,C_])),men(new Xl(null,2,5,Kl,[fy,wh],null),ur([WA,i,t])),pen(new Xl(null,2,5,Kl,[gf,fp],null),Hr((function(n,t){return mr.j(n,t,function n(t,e){var r,i,l,u=Me(gen(fm));return f8((l=null==(i=Xtn)?(r=b7(new Xl(null,1,5,Kl,[g8(rnn,new Se((function(){return rnn}),hP,Vu([Ow,Xw,Nb,ox,JA,ZD,DB,YR,mL,bq],[Go,ZW,"target/public/cljs-out/dev/com/rpl/specter.cljc",6,1,679,682,si,"Navigate to every element of the collection. For maps navigates to\n          a vector of `[key value]`.",zn(rnn)?rnn.Ia:null])),zL)],null),new Xl(null,1,5,Kl,[zL],null)),Xtn=r):i,i=l.$a,zn(l.Ya)?(l=new Xl(null,1,5,Kl,[rnn],null),i.g?i.g(l):i.call(null,l)):i),(function(t){return jr(t)?n(t,e):t instanceof Ae?(t=Ee.g(Ea(t)),gr.j(e,t,u.g?u.g(t):u.call(null,t))):gr.j(e,t,t)}),t)}(i.g?i.g(t):i.call(null,t),wen))}),e,ha(i))),gen(new Xl(null,2,5,Kl,[gf,fp],null))):Wen(),mr.j(t,lm,l)]))}function Yen(n){var t=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n;return gr.a(t,SN),n=gr.a(t,HS),t=gr.a(t,oT),n=n.g?n.g(_p):n.call(null,_p),men(new Xl(null,1,5,Kl,[Of],null),ur([T1,Rh,n,hL,t])),ju}function Ven(n){return Ben(n=ktn(n)),!0}if(Hen.L=function(){return null},Hen.a=function(n,t){return new Xl(null,2,5,Kl,[n,t],null)},Hen.R=2,zen.Jb(null,$m,(function(){return fen.l(ur(["Got application initialization msg :app-init"]))})),void 0===Jen)var Jen=bZ(new ku(null,1,[EW,"Hello world!"],null));var Xen=new Xl(null,7,5,Kl,[tA,AC,iw,Gc,Hk,HN,mp],null);function Ken(){var n=Nl(St(Jen),new Xl(null,1,5,Kl,[rb],null));return zn(n)?n:Zl}function Zen(){return function(){var n=Ol((function(n){return Ml((function(t){var e=pr(t=bG(t,/,/),0),r=pr(t,1);t=pr(t,2),e=parseFloat(e);var i=(r=parseFloat(r))/(e+r),l=e/(e+r);return new ku(null,6,[ib,e,Jx,r,Uf,parseInt(t),cx,Ea(n),cT,i,Qk,l],null)}),bG(Nl(St(Jen),new Xl(null,2,5,Kl,[UW,n],null)),/\n|\r\n/))}),ur([Xen]));hr(n)>hr(Xen)&&hl.aa(Jen,zl,new Xl(null,1,5,Kl,[rb],null),n)}(),Ven(Nnn(F4,Cy,Mx,ur([qC,"Betting odds",X$,"PointySquares 2020 Election Odds Tracker",oR,Ken(),Qx,5,iW,MS,hN,MS,cb,new Xl(null,2,5,Kl,[new ku(null,6,[yx,1e3,GH,500,TA,"Joe Biden's Betting Odds",Iv,"circle",VI,new ku(null,1,["legend-sel",new ku(null,3,[ak,"multi",qb,new Xl(null,1,5,Kl,["book"],null),ZH,"legends"],null)],null),Ds,new ku(null,5,[JP,new ku(null,4,[ek,"date",ak,"temporal",VR,new ku(null,1,[TA,"Position"],null),Wm,new ku(null,1,[D$,new ku(null,1,[VI,"brush"],null)],null)],null),Co,new ku(null,3,[ek,"biden",ak,"quantitative",VR,new ku(null,1,[TA,"Odds"],null)],null),wp,new ku(null,2,[ek,"book",ak,"nominal"],null),OF,new ku(null,2,[zF,new ku(null,2,[VI,"legend-sel",Vy,.7],null),Vy,.1],null),Yq,new Xl(null,3,5,Kl,[new ku(null,2,[ek,"date",ak,"temporal"],null),new ku(null,2,[ek,"biden",ak,"quantitative"],null),new ku(null,2,[ek,"book",ak,"nominal"],null)],null)],null)],null),new ku(null,5,[Iv,"circle",yx,1e3,GH,100,VI,new ku(null,1,[Gp,new ku(null,2,[ak,"interval",sA,new Xl(null,1,5,Kl,["x"],null)],null)],null),Ds,new ku(null,4,[JP,new ku(null,3,[ek,"date",ak,"temporal",VR,new ku(null,1,[TA,"Position"],null)],null),Co,new ku(null,3,[ek,"biden",ak,"quantitative",VR,new ku(null,1,[TA,"Odds"],null)],null),OF,new ku(null,2,[zF,new ku(null,2,[VI,"legend-sel",Vy,.7],null),Vy,0],null),wp,new ku(null,2,[ek,"book",ak,"nominal"],null)],null)],null)],null)]))),Ven(Nnn(F4,Cy,mU,ur([qC,"Implied Probability",X$,"PointySquares 2020 Election Odds Tracker",oR,Ken(),Qx,5,cb,new Xl(null,2,5,Kl,[new ku(null,5,[TA,"Joe Biden's Implied Probability of Victory",GH,500,yx,1e3,Iv,"circle",Ds,new ku(null,4,[JP,new ku(null,4,[ek,"date",ak,"temporal",VR,new ku(null,1,[TA,"Date"],null),Wm,new ku(null,1,[D$,new ku(null,1,[VI,"brush"],null)],null)],null),Co,new ku(null,3,[ek,"implied-biden",ak,"quantitative",VR,new ku(null,1,[TA,"Implied Probability"],null)],null),wp,new ku(null,2,[ek,"book",ak,"nominal"],null),Yq,new Xl(null,2,5,Kl,[new ku(null,2,[ek,"date",ak,"temporal"],null),new ku(null,2,[ek,"implied-biden",ak,"quantitative"],null)],null)],null)],null),new ku(null,5,[Iv,"circle",yx,1e3,GH,100,VI,new ku(null,1,[Gp,new ku(null,2,[ak,"interval",sA,new Xl(null,1,5,Kl,["x"],null)],null)],null),Ds,new ku(null,4,[JP,new ku(null,3,[ek,"date",ak,"temporal",VR,new ku(null,1,[TA,"Date"],null)],null),Co,new ku(null,3,[ek,"biden",ak,"quantitative",VR,new ku(null,1,[TA,"Actual Odds"],null)],null),wp,new ku(null,2,[ek,"book",ak,"nominal"],null),Yq,new Xl(null,2,5,Kl,[new ku(null,2,[ek,"date",ak,"temporal"],null),new ku(null,2,[ek,"biden",ak,"quantitative"],null)],null)],null)],null)],null)])))}Ml((function(n){return null==Nl(St(Jen),new Xl(null,2,5,Kl,[UW,n],null))?yX(["https://raw.githubusercontent.com/peterhhchan/us-elections-2020/master/data/graph-data-",Ea(n),".csv"].join(""),ur([new ku(null,2,[Sb,EW,cU,function(t){return hl.aa(Jen,zl,new Xl(null,2,5,Kl,[UW,n],null),t),Ne.a(hr(Xen),hr(Nl(St(Jen),new Xl(null,1,5,Kl,[UW],null))))?Zen():null}],null)])):null}),Xen);var Qen=document.querySelector("#app");if(zn(Qen)){!function(){var n=ur([Rm,450,_P,new ku(null,6,[HI,new ku(null,3,[MF,Cy,DF,qC,oT,op],null),fp,new ku(null,7,[Zm,Pc,Mg,yh,fW,Yk,tz,Cw,DU,v_,jT,JN,C_,_d],null),oT,hL,Dg,fk,YP,xU,lw,ky],null),JN,TR,_d,aD,fk,MS,xU,Gg,ky,"Exploring",hL,Cnn.g?Cnn.g(UD):Cnn.call(null,UD),op,Cnn.g?Cnn.g(HI):Cnn.call(null,HI)]);!function(n){hl.a(Mnn,(function(t){return ma.l(ur([t,n]))}))}(Dl.a(Au([jB,400]),Ml((function(n){var t=pr(n,0);return n=pr(n,1),new Xl(null,2,5,Kl,[t,n],null)}),Da(2,n))))}();var nrn=function(n){n=null!=n&&(64&n.B||An===n.ja)?Pi.a(sa,n):n,gr.a(n,SN);var t=gr.a(n,HS);return gr.a(n,oT),Gen(t.g?t.g(_p):t.call(null,_p),Yen.g?Yen.g(n):Yen.call(null,n))};fen.l(ur(["Element 'app' available ..."])),Pi.l(Otn,den,wS,Qen,fm,ur([new Xl(null,1,5,Kl,[Gr],null),ur([NL,new Xl(null,1,5,Kl,[Hen],null),Of,new Xl(null,1,5,Kl,[nrn],null),RO,new Xl(null,1,5,Kl,[function(){return new Xl(null,7,5,Kl,[m0,DN,"10px",fd,"30px",bf,new Xl(null,7,5,Kl,[new Xl(null,3,5,Kl,[h0,SA,"5px"],null),new Xl(null,2,5,Kl,[lH,new ku(null,1,[Lk,gen(new Xl(null,2,5,Kl,[xI,Dm],null))],null)],null),new Xl(null,5,5,Kl,[G0,JE,tv,DF,new Xl(null,2,5,Kl,[cC,gen(new Xl(null,2,5,Kl,[xI,TA],null))],null)],null),new Xl(null,1,5,Kl,[qen],null),new Xl(null,3,5,Kl,[h0,SA,"5px"],null),new Xl(null,5,5,Kl,[G0,JE,tv,DF,new Xl(null,2,5,Kl,[cC,gen(new Xl(null,3,5,Kl,[xI,_w,Xw],null))],null)],null),new Xl(null,3,5,Kl,[h0,SA,"30px"],null)],null)],null)}],null)])]));var trn=new ku(null,2,[_w,new ku(null,2,[U$,"us-presidential-elections-2020",Xw,""],null),oT,Cnn],null),ern=null!=trn&&(64&trn.B||An===trn.ja)?Pi.a(sa,trn):trn,rrn=gr.a(ern,_w);gr.a(ern,TA),gr.a(ern,Dm),gr.a(ern,lH);var irn=gr.a(ern,oT);fen.l(ur(["Registering ",rrn]));var lrn=new Xl(null,2,5,Kl,[xI,_w],null),urn=new Xl(null,2,5,Kl,[xI,oT],null),arn=Tnn(irn,ju),orn=ur([new Xl(null,2,5,Kl,[xI,lw],null),dK.g("2020 US Elections"),new Xl(null,1,5,Kl,[HF],null),SW,new Xl(null,1,5,Kl,[Wx],null),bZ(ju),new Xl(null,1,5,Kl,[hj],null),dK.g(ju)]);Pi.l(Otn,den,lrn,rrn,urn,ur([arn,orn])),pen(new Xl(null,1,5,Kl,[Gg],null),function(){var n=bZ(null),t=bZ(Zl);return new ku(null,3,[_T,n,bF,t,Hg,new Xl(null,7,5,Kl,[Z1,qW,n,Gg,t,mI,function(t){return fl(n,t)}],null)],null)}());var srn=new Xl(null,1,5,Kl,[function(){fen.l(ur(["Hanami-main called ..."]));var n=vK(new Xl(null,1,5,Kl,[Of],null));return Me(St(n)),n=Me(St(n=vK(new Xl(null,1,5,Kl,[RO],null)))),new Xl(null,5,5,Kl,[w0,DN,"10px",bf,new Xl(null,3,5,Kl,[new Xl(null,5,5,Kl,[w0,DN,"3px",bf,new Xl(null,2,5,Kl,[new Xl(null,1,5,Kl,[n],null),new Xl(null,7,5,Kl,[m0,Cf,kx,fd,"30px",bf,new Xl(null,2,5,Kl,[new Xl(null,3,5,Kl,[h0,SA,"15px"],null),new Xl(null,1,5,Kl,[Oen],null)],null)],null)],null)],null),new Xl(null,1,5,Kl,[p0],null),new Xl(null,1,5,Kl,[Den],null)],null)],null)}],null),crn=gen(wS);!function(){var n=srn,t=crn;cK(),function(n,t){var e=CX;CX=!0;try{var r=n.L?n.L():n.call(null);gZ.render(r,t,(function(){var e=CX;CX=!1;try{return hl.aa(mZ,mr,t,new Xl(null,2,5,Kl,[n,t],null)),qX(PX),null}finally{CX=e}}))}finally{CX=e}}((function(){return hZ(wr(n)?n.L?n.L():n.call(null):n)}),t)}(),Zen()}}).call(this,e(11).Buffer)},function(n,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t,e){"use strict";t.byteLength=function(n){var t=s(n),e=t[0],r=t[1];return 3*(e+r)/4-r},t.toByteArray=function(n){var t,e,r=s(n),u=r[0],a=r[1],o=new l(function(n,t,e){return 3*(t+e)/4-e}(0,u,a)),c=0,f=a>0?u-4:u;for(e=0;e<f;e+=4)t=i[n.charCodeAt(e)]<<18|i[n.charCodeAt(e+1)]<<12|i[n.charCodeAt(e+2)]<<6|i[n.charCodeAt(e+3)],o[c++]=t>>16&255,o[c++]=t>>8&255,o[c++]=255&t;2===a&&(t=i[n.charCodeAt(e)]<<2|i[n.charCodeAt(e+1)]>>4,o[c++]=255&t);1===a&&(t=i[n.charCodeAt(e)]<<10|i[n.charCodeAt(e+1)]<<4|i[n.charCodeAt(e+2)]>>2,o[c++]=t>>8&255,o[c++]=255&t);return o},t.fromByteArray=function(n){for(var t,e=n.length,i=e%3,l=[],u=0,a=e-i;u<a;u+=16383)l.push(c(n,u,u+16383>a?a:u+16383));1===i?(t=n[e-1],l.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(n[e-2]<<8)+n[e-1],l.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return l.join("")};for(var r=[],i=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=u.length;a<o;++a)r[a]=u[a],i[u.charCodeAt(a)]=a;function s(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function c(n,t,e){for(var i,l,u=[],a=t;a<e;a+=3)i=(n[a]<<16&16711680)+(n[a+1]<<8&65280)+(255&n[a+2]),u.push(r[(l=i)>>18&63]+r[l>>12&63]+r[l>>6&63]+r[63&l]);return u.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(n,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(n,t,e,r,i){var l,u,a=8*i-r-1,o=(1<<a)-1,s=o>>1,c=-7,f=e?i-1:0,h=e?-1:1,d=n[t+f];for(f+=h,l=d&(1<<-c)-1,d>>=-c,c+=a;c>0;l=256*l+n[t+f],f+=h,c-=8);for(u=l&(1<<-c)-1,l>>=-c,c+=r;c>0;u=256*u+n[t+f],f+=h,c-=8);if(0===l)l=1-s;else{if(l===o)return u?NaN:1/0*(d?-1:1);u+=Math.pow(2,r),l-=s}return(d?-1:1)*u*Math.pow(2,l-r)},t.write=function(n,t,e,r,i,l){var u,a,o,s=8*l-i-1,c=(1<<s)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:l-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=c):(u=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-u))<1&&(u--,o*=2),(t+=u+f>=1?h/o:h*Math.pow(2,1-f))*o>=2&&(u++,o/=2),u+f>=c?(a=0,u=c):u+f>=1?(a=(t*o-1)*Math.pow(2,i),u+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),u=0));i>=8;n[e+d]=255&a,d+=p,a/=256,i-=8);for(u=u<<i|a,s+=i;s>0;n[e+d]=255&u,d+=p,u/=256,s-=8);n[e+d-p]|=128*g}},function(n,t){var e={}.toString;n.exports=Array.isArray||function(n){return"[object Array]"==e.call(n)}},function(n,t,e){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=e(16),i="function"==typeof Symbol&&Symbol.for,l=i?Symbol.for("react.element"):60103,u=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function v(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function b(n,t,e){this.props=n,this.context=t,this.refs=y,this.updater=e||w}function x(){}function _(n,t,e){this.props=n,this.context=t,this.refs=y,this.updater=e||w}b.prototype.isReactComponent={},b.prototype.setState=function(n,t){if("object"!=typeof n&&"function"!=typeof n&&null!=n)throw Error(v(85));this.updater.enqueueSetState(this,n,t,"setState")},b.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")},x.prototype=b.prototype;var k=_.prototype=new x;k.constructor=_,r(k,b.prototype),k.isPureReactComponent=!0;var j={current:null},O=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function E(n,t,e){var r,i={},u=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(u=""+t.key),t)O.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=e;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(n&&n.defaultProps)for(r in o=n.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:l,type:n,key:u,ref:a,props:i,_owner:j.current}}function S(n){return"object"==typeof n&&null!==n&&n.$$typeof===l}var C=/\/+/g,D=[];function M(n,t,e,r){if(D.length){var i=D.pop();return i.result=n,i.keyPrefix=t,i.func=e,i.context=r,i.count=0,i}return{result:n,keyPrefix:t,func:e,context:r,count:0}}function F(n){n.result=null,n.keyPrefix=null,n.func=null,n.context=null,n.count=0,10>D.length&&D.push(n)}function T(n,t,e){return null==n?0:function n(t,e,r,i){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var o=!1;if(null===t)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case l:case u:o=!0}}if(o)return r(i,t,""===e?"."+N(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){var c=e+N(a=t[s],s);o+=n(a,c,r,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),s=0;!(a=t.next()).done;)o+=n(a=a.value,c=e+N(a,s++),r,i);else if("object"===a)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return o}(n,"",t,e)}function N(n,t){return"object"==typeof n&&null!==n&&null!=n.key?function(n){var t={"=":"=0",":":"=2"};return"$"+(""+n).replace(/[=:]/g,(function(n){return t[n]}))}(n.key):t.toString(36)}function B(n,t){n.func.call(n.context,t,n.count++)}function z(n,t,e){var r=n.result,i=n.keyPrefix;n=n.func.call(n.context,t,n.count++),Array.isArray(n)?P(n,r,e,(function(n){return n})):null!=n&&(S(n)&&(n=function(n,t){return{$$typeof:l,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}(n,i+(!n.key||t&&t.key===n.key?"":(""+n.key).replace(C,"$&/")+"/")+e)),r.push(n))}function P(n,t,e,r,i){var l="";null!=e&&(l=(""+e).replace(C,"$&/")+"/"),T(n,z,t=M(t,l,r,i)),F(t)}var $={current:null};function R(){var n=$.current;if(null===n)throw Error(v(321));return n}var I={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:j,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(n,t,e){if(null==n)return n;var r=[];return P(n,r,null,t,e),r},forEach:function(n,t,e){if(null==n)return n;T(n,B,t=M(null,null,t,e)),F(t)},count:function(n){return T(n,(function(){return null}),null)},toArray:function(n){var t=[];return P(n,t,null,(function(n){return n})),t},only:function(n){if(!S(n))throw Error(v(143));return n}},t.Component=b,t.Fragment=a,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(n,t,e){if(null==n)throw Error(v(267,n));var i=r({},n.props),u=n.key,a=n.ref,o=n._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=j.current),void 0!==t.key&&(u=""+t.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(c in t)O.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=e;else if(1<c){s=Array(c);for(var f=0;f<c;f++)s[f]=arguments[f+2];i.children=s}return{$$typeof:l,type:n.type,key:u,ref:a,props:i,_owner:o}},t.createContext=function(n,t){return void 0===t&&(t=null),(n={$$typeof:f,_calculateChangedBits:t,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:n},n.Consumer=n},t.createElement=E,t.createFactory=function(n){var t=E.bind(null,n);return t.type=n,t},t.createRef=function(){return{current:null}},t.forwardRef=function(n){return{$$typeof:h,render:n}},t.isValidElement=S,t.lazy=function(n){return{$$typeof:g,_ctor:n,_status:-1,_result:null}},t.memo=function(n,t){return{$$typeof:p,type:n,compare:void 0===t?null:t}},t.useCallback=function(n,t){return R().useCallback(n,t)},t.useContext=function(n,t){return R().useContext(n,t)},t.useDebugValue=function(){},t.useEffect=function(n,t){return R().useEffect(n,t)},t.useImperativeHandle=function(n,t,e){return R().useImperativeHandle(n,t,e)},t.useLayoutEffect=function(n,t){return R().useLayoutEffect(n,t)},t.useMemo=function(n,t){return R().useMemo(n,t)},t.useReducer=function(n,t,e){return R().useReducer(n,t,e)},t.useRef=function(n){return R().useRef(n)},t.useState=function(n){return R().useState(n)},t.version="16.14.0"},function(n,t,e){"use strict";!function n(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(n){console.error(n)}}}(),n.exports=e(29)},function(n,t,e){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=e(7),i=e(16),l=e(30);function u(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(u(227));function a(n,t,e,r,i,l,u,a,o){var s=Array.prototype.slice.call(arguments,3);try{t.apply(e,s)}catch(n){this.onError(n)}}var o=!1,s=null,c=!1,f=null,h={onError:function(n){o=!0,s=n}};function d(n,t,e,r,i,l,u,c,f){o=!1,s=null,a.apply(h,arguments)}var p=null,g=null,m=null;function v(n,t,e){var r=n.type||"unknown-event";n.currentTarget=m(e),function(n,t,e,r,i,l,a,h,p){if(d.apply(this,arguments),o){if(!o)throw Error(u(198));var g=s;o=!1,s=null,c||(c=!0,f=g)}}(r,t,void 0,n),n.currentTarget=null}var w=null,y={};function b(){if(w)for(var n in y){var t=y[n],e=w.indexOf(n);if(!(-1<e))throw Error(u(96,n));if(!_[e]){if(!t.extractEvents)throw Error(u(97,n));for(var r in _[e]=t,e=t.eventTypes){var i=void 0,l=e[r],a=t,o=r;if(k.hasOwnProperty(o))throw Error(u(99,o));k[o]=l;var s=l.phasedRegistrationNames;if(s){for(i in s)s.hasOwnProperty(i)&&x(s[i],a,o);i=!0}else l.registrationName?(x(l.registrationName,a,o),i=!0):i=!1;if(!i)throw Error(u(98,r,n))}}}}function x(n,t,e){if(j[n])throw Error(u(100,n));j[n]=t,O[n]=t.eventTypes[e].dependencies}var _=[],k={},j={},O={};function A(n){var t,e=!1;for(t in n)if(n.hasOwnProperty(t)){var r=n[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(u(102,t));y[t]=r,e=!0}}e&&b()}var E=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),S=null,C=null,D=null;function M(n){if(n=g(n)){if("function"!=typeof S)throw Error(u(280));var t=n.stateNode;t&&(t=p(t),S(n.stateNode,n.type,t))}}function F(n){C?D?D.push(n):D=[n]:C=n}function T(){if(C){var n=C,t=D;if(D=C=null,M(n),t)for(n=0;n<t.length;n++)M(t[n])}}function N(n,t){return n(t)}function B(n,t,e,r,i){return n(t,e,r,i)}function z(){}var P=N,$=!1,R=!1;function I(){null===C&&null===D||(z(),T())}function L(n,t,e){if(R)return n(t,e);R=!0;try{return P(n,t,e)}finally{R=!1,I()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,H={},W={};function G(n,t,e,r,i,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=l}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(n){Y[n]=new G(n,0,!1,n,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(n){var t=n[0];Y[t]=new G(t,1,!1,n[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(n){Y[n]=new G(n,2,!1,n.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(n){Y[n]=new G(n,2,!1,n,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(n){Y[n]=new G(n,3,!1,n.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(n){Y[n]=new G(n,3,!0,n,null,!1)})),["capture","download"].forEach((function(n){Y[n]=new G(n,4,!1,n,null,!1)})),["cols","rows","size","span"].forEach((function(n){Y[n]=new G(n,6,!1,n,null,!1)})),["rowSpan","start"].forEach((function(n){Y[n]=new G(n,5,!1,n.toLowerCase(),null,!1)}));var V=/[\-:]([a-z])/g;function J(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(n){var t=n.replace(V,J);Y[t]=new G(t,1,!1,n,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(n){var t=n.replace(V,J);Y[t]=new G(t,1,!1,n,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(n){var t=n.replace(V,J);Y[t]=new G(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(n){Y[n]=new G(n,1,!1,n.toLowerCase(),null,!1)})),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(n){Y[n]=new G(n,1,!1,n.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function K(n,t,e,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(n,t,e,r){if(null==t||function(n,t,e,r){if(null!==e&&0===e.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==e?!e.acceptsBooleans:"data-"!==(n=n.toLowerCase().slice(0,5))&&"aria-"!==n);default:return!1}}(n,t,e,r))return!0;if(r)return!1;if(null!==e)switch(e.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,e,i,r)&&(e=null),r||null===i?function(n){return!!q.call(W,n)||!q.call(H,n)&&(U.test(n)?W[n]=!0:(H[n]=!0,!1))}(t)&&(null===e?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=null===e?3!==i.type&&"":e:(t=i.attributeName,r=i.attributeNamespace,null===e?n.removeAttribute(t):(e=3===(i=i.type)||4===i&&!0===e?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,nn=Q?Symbol.for("react.element"):60103,tn=Q?Symbol.for("react.portal"):60106,en=Q?Symbol.for("react.fragment"):60107,rn=Q?Symbol.for("react.strict_mode"):60108,ln=Q?Symbol.for("react.profiler"):60114,un=Q?Symbol.for("react.provider"):60109,an=Q?Symbol.for("react.context"):60110,on=Q?Symbol.for("react.concurrent_mode"):60111,sn=Q?Symbol.for("react.forward_ref"):60112,cn=Q?Symbol.for("react.suspense"):60113,fn=Q?Symbol.for("react.suspense_list"):60120,hn=Q?Symbol.for("react.memo"):60115,dn=Q?Symbol.for("react.lazy"):60116,pn=Q?Symbol.for("react.block"):60121,gn="function"==typeof Symbol&&Symbol.iterator;function mn(n){return null===n||"object"!=typeof n?null:"function"==typeof(n=gn&&n[gn]||n["@@iterator"])?n:null}function vn(n){if(null==n)return null;if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n;switch(n){case en:return"Fragment";case tn:return"Portal";case ln:return"Profiler";case rn:return"StrictMode";case cn:return"Suspense";case fn:return"SuspenseList"}if("object"==typeof n)switch(n.$$typeof){case an:return"Context.Consumer";case un:return"Context.Provider";case sn:var t=n.render;return t=t.displayName||t.name||"",n.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case hn:return vn(n.type);case pn:return vn(n.render);case dn:if(n=1===n._status?n._result:null)return vn(n)}return null}function wn(n){var t="";do{n:switch(n.tag){case 3:case 4:case 6:case 7:case 10:case 9:var e="";break n;default:var r=n._debugOwner,i=n._debugSource,l=vn(n.type);e=null,r&&(e=vn(r.type)),r=l,l="",i?l=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":e&&(l=" (created by "+e+")"),e="\n    in "+(r||"Unknown")+l}t+=e,n=n.return}while(n);return t}function yn(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function bn(n){var t=n.type;return(n=n.nodeName)&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function xn(n){n._valueTracker||(n._valueTracker=function(n){var t=bn(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&void 0!==e&&"function"==typeof e.get&&"function"==typeof e.set){var i=e.get,l=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(n){r=""+n,l.call(this,n)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(n){r=""+n},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}(n))}function _n(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=bn(n)?n.checked?"true":"false":n.value),(n=r)!==e&&(t.setValue(n),!0)}function kn(n,t){var e=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=e?e:n._wrapperState.initialChecked})}function jn(n,t){var e=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;e=yn(null!=t.value?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function On(n,t){null!=(t=t.checked)&&K(n,"checked",t,!1)}function An(n,t){On(n,t);var e=yn(t.value),r=t.type;if(null!=e)"number"===r?(0===e&&""===n.value||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if("submit"===r||"reset"===r)return void n.removeAttribute("value");t.hasOwnProperty("value")?Sn(n,t.type,e):t.hasOwnProperty("defaultValue")&&Sn(n,t.type,yn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function En(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}""!==(e=n.name)&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,""!==e&&(n.name=e)}function Sn(n,t,e){"number"===t&&n.ownerDocument.activeElement===n||(null==e?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}function Cn(n,t){return n=i({children:void 0},t),(t=function(n){var t="";return r.Children.forEach(n,(function(n){null!=n&&(t+=n)})),t}(t.children))&&(n.children=t),n}function Dn(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+yn(e),t=null,i=0;i<n.length;i++){if(n[i].value===e)return n[i].selected=!0,void(r&&(n[i].defaultSelected=!0));null!==t||n[i].disabled||(t=n[i])}null!==t&&(t.selected=!0)}}function Mn(n,t){if(null!=t.dangerouslySetInnerHTML)throw Error(u(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Fn(n,t){var e=t.value;if(null==e){if(e=t.children,t=t.defaultValue,null!=e){if(null!=t)throw Error(u(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(u(93));e=e[0]}t=e}null==t&&(t=""),e=t}n._wrapperState={initialValue:yn(e)}}function Tn(n,t){var e=yn(t.value),r=yn(t.defaultValue);null!=e&&((e=""+e)!==n.value&&(n.value=e),null==t.defaultValue&&n.defaultValue!==e&&(n.defaultValue=e)),null!=r&&(n.defaultValue=""+r)}function Nn(n){var t=n.textContent;t===n._wrapperState.initialValue&&""!==t&&null!==t&&(n.value=t)}var Bn="http://www.w3.org/1999/xhtml",zn="http://www.w3.org/2000/svg";function Pn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $n(n,t){return null==n||"http://www.w3.org/1999/xhtml"===n?Pn(t):"http://www.w3.org/2000/svg"===n&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":n}var Rn,In=function(n){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction((function(){return n(t,e)}))}:n}((function(n,t){if(n.namespaceURI!==zn||"innerHTML"in n)n.innerHTML=t;else{for((Rn=Rn||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}}));function Ln(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&3===e.nodeType)return void(e.nodeValue=t)}n.textContent=t}function Un(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var qn={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionend:Un("Transition","TransitionEnd")},Hn={},Wn={};function Gn(n){if(Hn[n])return Hn[n];if(!qn[n])return n;var t,e=qn[n];for(t in e)if(e.hasOwnProperty(t)&&t in Wn)return Hn[n]=e[t];return n}E&&(Wn=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);var Yn=Gn("animationend"),Vn=Gn("animationiteration"),Jn=Gn("animationstart"),Xn=Gn("transitionend"),Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zn=new("function"==typeof WeakMap?WeakMap:Map);function Qn(n){var t=Zn.get(n);return void 0===t&&(t=new Map,Zn.set(n,t)),t}function nt(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do{0!=(1026&(t=n).effectTag)&&(e=t.return),n=t.return}while(n)}return 3===t.tag?e:null}function tt(n){if(13===n.tag){var t=n.memoizedState;if(null===t&&(null!==(n=n.alternate)&&(t=n.memoizedState)),null!==t)return t.dehydrated}return null}function et(n){if(nt(n)!==n)throw Error(u(188))}function rt(n){if(!(n=function(n){var t=n.alternate;if(!t){if(null===(t=nt(n)))throw Error(u(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){e=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===e)return et(i),n;if(l===r)return et(i),t;l=l.sibling}throw Error(u(188))}if(e.return!==r.return)e=i,r=l;else{for(var a=!1,o=i.child;o;){if(o===e){a=!0,e=i,r=l;break}if(o===r){a=!0,r=i,e=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===e){a=!0,e=l,r=i;break}if(o===r){a=!0,r=l,e=i;break}o=o.sibling}if(!a)throw Error(u(189))}}if(e.alternate!==r)throw Error(u(190))}if(3!==e.tag)throw Error(u(188));return e.stateNode.current===e?n:t}(n)))return null;for(var t=n;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===n)break;for(;!t.sibling;){if(!t.return||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(n,t){if(null==t)throw Error(u(30));return null==n?t:Array.isArray(n)?Array.isArray(t)?(n.push.apply(n,t),n):(n.push(t),n):Array.isArray(t)?[n].concat(t):[n,t]}function lt(n,t,e){Array.isArray(n)?n.forEach(t,e):n&&t.call(e,n)}var ut=null;function at(n){if(n){var t=n._dispatchListeners,e=n._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!n.isPropagationStopped();r++)v(n,t[r],e[r]);else t&&v(n,t,e);n._dispatchListeners=null,n._dispatchInstances=null,n.isPersistent()||n.constructor.release(n)}}function ot(n){if(null!==n&&(ut=it(ut,n)),n=ut,ut=null,n){if(lt(n,at),ut)throw Error(u(95));if(c)throw n=f,c=!1,f=null,n}}function st(n){return(n=n.target||n.srcElement||window).correspondingUseElement&&(n=n.correspondingUseElement),3===n.nodeType?n.parentNode:n}function ct(n){if(!E)return!1;var t=(n="on"+n)in document;return t||((t=document.createElement("div")).setAttribute(n,"return;"),t="function"==typeof t[n]),t}var ft=[];function ht(n){n.topLevelType=null,n.nativeEvent=null,n.targetInst=null,n.ancestors.length=0,10>ft.length&&ft.push(n)}function dt(n,t,e,r){if(ft.length){var i=ft.pop();return i.topLevelType=n,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=e,i}return{topLevelType:n,eventSystemFlags:r,nativeEvent:t,targetInst:e,ancestors:[]}}function pt(n){var t=n.targetInst,e=t;do{if(!e){n.ancestors.push(e);break}var r=e;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=e.tag)&&6!==t||n.ancestors.push(e),e=Ee(r)}while(e);for(e=0;e<n.ancestors.length;e++){t=n.ancestors[e];var i=st(n.nativeEvent);r=n.topLevelType;var l=n.nativeEvent,u=n.eventSystemFlags;0===e&&(u|=64);for(var a=null,o=0;o<_.length;o++){var s=_[o];s&&(s=s.extractEvents(r,t,l,i,u))&&(a=it(a,s))}ot(a)}}function gt(n,t,e){if(!e.has(n)){switch(n){case"scroll":Jt(t,"scroll",!0);break;case"focus":case"blur":Jt(t,"focus",!0),Jt(t,"blur",!0),e.set("blur",null),e.set("focus",null);break;case"cancel":case"close":ct(n)&&Jt(t,n,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Kn.indexOf(n)&&Vt(n,t)}e.set(n,null)}}var mt,vt,wt,yt=!1,bt=[],xt=null,_t=null,kt=null,jt=new Map,Ot=new Map,At=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),St="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(n,t,e,r,i){return{blockedOn:n,topLevelType:t,eventSystemFlags:32|e,nativeEvent:i,container:r}}function Dt(n,t){switch(n){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(n,t,e,r,i,l){return null===n||n.nativeEvent!==l?(n=Ct(t,e,r,i,l),null!==t&&(null!==(t=Se(t))&&vt(t)),n):(n.eventSystemFlags|=r,n)}function Ft(n){var t=Ee(n.target);if(null!==t){var e=nt(t);if(null!==e)if(13===(t=e.tag)){if(null!==(t=tt(e)))return n.blockedOn=t,void l.unstable_runWithPriority(n.priority,(function(){wt(e)}))}else if(3===t&&e.stateNode.hydrate)return void(n.blockedOn=3===e.tag?e.stateNode.containerInfo:null)}n.blockedOn=null}function Tt(n){if(null!==n.blockedOn)return!1;var t=Qt(n.topLevelType,n.eventSystemFlags,n.container,n.nativeEvent);if(null!==t){var e=Se(t);return null!==e&&vt(e),n.blockedOn=t,!1}return!0}function Nt(n,t,e){Tt(n)&&e.delete(t)}function Bt(){for(yt=!1;0<bt.length;){var n=bt[0];if(null!==n.blockedOn){null!==(n=Se(n.blockedOn))&&mt(n);break}var t=Qt(n.topLevelType,n.eventSystemFlags,n.container,n.nativeEvent);null!==t?n.blockedOn=t:bt.shift()}null!==xt&&Tt(xt)&&(xt=null),null!==_t&&Tt(_t)&&(_t=null),null!==kt&&Tt(kt)&&(kt=null),jt.forEach(Nt),Ot.forEach(Nt)}function zt(n,t){n.blockedOn===t&&(n.blockedOn=null,yt||(yt=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Bt)))}function Pt(n){function t(t){return zt(t,n)}if(0<bt.length){zt(bt[0],n);for(var e=1;e<bt.length;e++){var r=bt[e];r.blockedOn===n&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,n),null!==_t&&zt(_t,n),null!==kt&&zt(kt,n),jt.forEach(t),Ot.forEach(t),e=0;e<At.length;e++)(r=At[e]).blockedOn===n&&(r.blockedOn=null);for(;0<At.length&&null===(e=At[0]).blockedOn;)Ft(e),null===e.blockedOn&&At.shift()}var $t={},Rt=new Map,It=new Map,Lt=["abort","abort",Yn,"animationEnd",Vn,"animationIteration",Jn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xn,"transitionEnd","waiting","waiting"];function Ut(n,t){for(var e=0;e<n.length;e+=2){var r=n[e],i=n[e+1],l="on"+(i[0].toUpperCase()+i.slice(1));l={phasedRegistrationNames:{bubbled:l,captured:l+"Capture"},dependencies:[r],eventPriority:t},It.set(r,t),Rt.set(r,l),$t[i]=l}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Lt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<qt.length;Ht++)It.set(qt[Ht],0);var Wt=l.unstable_UserBlockingPriority,Gt=l.unstable_runWithPriority,Yt=!0;function Vt(n,t){Jt(t,n,!1)}function Jt(n,t,e){var r=It.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,n);break;case 1:r=Kt.bind(null,t,1,n);break;default:r=Zt.bind(null,t,1,n)}e?n.addEventListener(t,r,!0):n.addEventListener(t,r,!1)}function Xt(n,t,e,r){$||z();var i=Zt,l=$;$=!0;try{B(i,n,t,e,r)}finally{($=l)||I()}}function Kt(n,t,e,r){Gt(Wt,Zt.bind(null,n,t,e,r))}function Zt(n,t,e,r){if(Yt)if(0<bt.length&&-1<Et.indexOf(n))n=Ct(null,n,t,e,r),bt.push(n);else{var i=Qt(n,t,e,r);if(null===i)Dt(n,r);else if(-1<Et.indexOf(n))n=Ct(i,n,t,e,r),bt.push(n);else if(!function(n,t,e,r,i){switch(t){case"focus":return xt=Mt(xt,n,t,e,r,i),!0;case"dragenter":return _t=Mt(_t,n,t,e,r,i),!0;case"mouseover":return kt=Mt(kt,n,t,e,r,i),!0;case"pointerover":var l=i.pointerId;return jt.set(l,Mt(jt.get(l)||null,n,t,e,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Ot.set(l,Mt(Ot.get(l)||null,n,t,e,r,i)),!0}return!1}(i,n,t,e,r)){Dt(n,r),n=dt(n,r,null,t);try{L(pt,n)}finally{ht(n)}}}}function Qt(n,t,e,r){if(null!==(e=Ee(e=st(r)))){var i=nt(e);if(null===i)e=null;else{var l=i.tag;if(13===l){if(null!==(e=tt(i)))return e;e=null}else if(3===l){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}n=dt(n,r,e,t);try{L(pt,n)}finally{ht(n)}return null}var ne={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},te=["Webkit","ms","Moz","O"];function ee(n,t,e){return null==t||"boolean"==typeof t||""===t?"":e||"number"!=typeof t||0===t||ne.hasOwnProperty(n)&&ne[n]?(""+t).trim():t+"px"}function re(n,t){for(var e in n=n.style,t)if(t.hasOwnProperty(e)){var r=0===e.indexOf("--"),i=ee(e,t[e],r);"float"===e&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}Object.keys(ne).forEach((function(n){te.forEach((function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),ne[t]=ne[n]}))}));var ie=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function le(n,t){if(t){if(ie[n]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(u(137,n,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(u(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(u(62,""))}}function ue(n,t){if(-1===n.indexOf("-"))return"string"==typeof t.is;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ae=Bn;function oe(n,t){var e=Qn(n=9===n.nodeType||11===n.nodeType?n:n.ownerDocument);t=O[t];for(var r=0;r<t.length;r++)gt(t[r],n,e)}function se(){}function ce(n){if(void 0===(n=n||("undefined"!=typeof document?document:void 0)))return null;try{return n.activeElement||n.body}catch(t){return n.body}}function fe(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function he(n,t){var e,r=fe(n);for(n=0;r;){if(3===r.nodeType){if(e=n+r.textContent.length,n<=t&&e>=t)return{node:r,offset:t-n};n=e}n:{for(;r;){if(r.nextSibling){r=r.nextSibling;break n}r=r.parentNode}r=void 0}r=fe(r)}}function de(){for(var n=window,t=ce();t instanceof n.HTMLIFrameElement;){try{var e="string"==typeof t.contentWindow.location.href}catch(n){e=!1}if(!e)break;t=ce((n=t.contentWindow).document)}return t}function pe(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&("input"===t&&("text"===n.type||"search"===n.type||"tel"===n.type||"url"===n.type||"password"===n.type)||"textarea"===t||"true"===n.contentEditable)}var ge=null,me=null;function ve(n,t){switch(n){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function we(n,t){return"textarea"===n||"option"===n||"noscript"===n||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ye="function"==typeof setTimeout?setTimeout:void 0,be="function"==typeof clearTimeout?clearTimeout:void 0;function xe(n){for(;null!=n;n=n.nextSibling){var t=n.nodeType;if(1===t||3===t)break}return n}function _e(n){n=n.previousSibling;for(var t=0;n;){if(8===n.nodeType){var e=n.data;if("$"===e||"$!"===e||"$?"===e){if(0===t)return n;t--}else"/$"===e&&t++}n=n.previousSibling}return null}var ke=Math.random().toString(36).slice(2),je="__reactInternalInstance$"+ke,Oe="__reactEventHandlers$"+ke,Ae="__reactContainere$"+ke;function Ee(n){var t=n[je];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Ae]||e[je]){if(e=t.alternate,null!==t.child||null!==e&&null!==e.child)for(n=_e(n);null!==n;){if(e=n[je])return e;n=_e(n)}return t}e=(n=e).parentNode}return null}function Se(n){return!(n=n[je]||n[Ae])||5!==n.tag&&6!==n.tag&&13!==n.tag&&3!==n.tag?null:n}function Ce(n){if(5===n.tag||6===n.tag)return n.stateNode;throw Error(u(33))}function De(n){return n[Oe]||null}function Me(n){do{n=n.return}while(n&&5!==n.tag);return n||null}function Fe(n,t){var e=n.stateNode;if(!e)return null;var r=p(e);if(!r)return null;e=r[t];n:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(n=n.type)||"input"===n||"select"===n||"textarea"===n)),n=!r;break n;default:n=!1}if(n)return null;if(e&&"function"!=typeof e)throw Error(u(231,t,typeof e));return e}function Te(n,t,e){(t=Fe(n,e.dispatchConfig.phasedRegistrationNames[t]))&&(e._dispatchListeners=it(e._dispatchListeners,t),e._dispatchInstances=it(e._dispatchInstances,n))}function Ne(n){if(n&&n.dispatchConfig.phasedRegistrationNames){for(var t=n._targetInst,e=[];t;)e.push(t),t=Me(t);for(t=e.length;0<t--;)Te(e[t],"captured",n);for(t=0;t<e.length;t++)Te(e[t],"bubbled",n)}}function Be(n,t,e){n&&e&&e.dispatchConfig.registrationName&&(t=Fe(n,e.dispatchConfig.registrationName))&&(e._dispatchListeners=it(e._dispatchListeners,t),e._dispatchInstances=it(e._dispatchInstances,n))}function ze(n){n&&n.dispatchConfig.registrationName&&Be(n._targetInst,null,n)}function Pe(n){lt(n,Ne)}var $e=null,Re=null,Ie=null;function Le(){if(Ie)return Ie;var n,t,e=Re,r=e.length,i="value"in $e?$e.value:$e.textContent,l=i.length;for(n=0;n<r&&e[n]===i[n];n++);var u=r-n;for(t=1;t<=u&&e[r-t]===i[l-t];t++);return Ie=i.slice(n,1<t?1-t:void 0)}function Ue(){return!0}function qe(){return!1}function He(n,t,e,r){for(var i in this.dispatchConfig=n,this._targetInst=t,this.nativeEvent=e,n=this.constructor.Interface)n.hasOwnProperty(i)&&((t=n[i])?this[i]=t(e):"target"===i?this.target=r:this[i]=e[i]);return this.isDefaultPrevented=(null!=e.defaultPrevented?e.defaultPrevented:!1===e.returnValue)?Ue:qe,this.isPropagationStopped=qe,this}function We(n,t,e,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,n,t,e,r),i}return new this(n,t,e,r)}function Ge(n){if(!(n instanceof this))throw Error(u(279));n.destructor(),10>this.eventPool.length&&this.eventPool.push(n)}function Ye(n){n.eventPool=[],n.getPooled=We,n.release=Ge}i(He.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!=typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=Ue)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():"unknown"!=typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=Ue)},persist:function(){this.isPersistent=Ue},isPersistent:qe,destructor:function(){var n,t=this.constructor.Interface;for(n in t)this[n]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qe,this._dispatchInstances=this._dispatchListeners=null}}),He.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},He.extend=function(n){function t(){}function e(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var l=new t;return i(l,e.prototype),e.prototype=l,e.prototype.constructor=e,e.Interface=i({},r.Interface,n),e.extend=r.extend,Ye(e),e},Ye(He);var Ve=He.extend({data:null}),Je=He.extend({data:null}),Xe=[9,13,27,32],Ke=E&&"CompositionEvent"in window,Ze=null;E&&"documentMode"in document&&(Ze=document.documentMode);var Qe=E&&"TextEvent"in window&&!Ze,nr=E&&(!Ke||Ze&&8<Ze&&11>=Ze),tr=String.fromCharCode(32),er={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(n,t){switch(n){case"keyup":return-1!==Xe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function lr(n){return"object"==typeof(n=n.detail)&&"data"in n?n.data:null}var ur=!1;var ar={eventTypes:er,extractEvents:function(n,t,e,r){var i;if(Ke)n:{switch(n){case"compositionstart":var l=er.compositionStart;break n;case"compositionend":l=er.compositionEnd;break n;case"compositionupdate":l=er.compositionUpdate;break n}l=void 0}else ur?ir(n,e)&&(l=er.compositionEnd):"keydown"===n&&229===e.keyCode&&(l=er.compositionStart);return l?(nr&&"ko"!==e.locale&&(ur||l!==er.compositionStart?l===er.compositionEnd&&ur&&(i=Le()):(Re="value"in($e=r)?$e.value:$e.textContent,ur=!0)),l=Ve.getPooled(l,t,e,r),i?l.data=i:null!==(i=lr(e))&&(l.data=i),Pe(l),i=l):i=null,(n=Qe?function(n,t){switch(n){case"compositionend":return lr(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(n=t.data)===tr&&rr?null:n;default:return null}}(n,e):function(n,t){if(ur)return"compositionend"===n||!Ke&&ir(n,t)?(n=Le(),Ie=Re=$e=null,ur=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nr&&"ko"!==t.locale?null:t.data;default:return null}}(n,e))?((t=Je.getPooled(er.beforeInput,t,e,r)).data=n,Pe(t)):t=null,null===i?t:null===t?i:[i,t]}},or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sr(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return"input"===t?!!or[n.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(n,t,e){return(n=He.getPooled(cr.change,n,t,e)).type="change",F(e),Pe(n),n}var hr=null,dr=null;function pr(n){ot(n)}function gr(n){if(_n(Ce(n)))return n}function mr(n,t){if("change"===n)return t}var vr=!1;function wr(){hr&&(hr.detachEvent("onpropertychange",yr),dr=hr=null)}function yr(n){if("value"===n.propertyName&&gr(dr))if(n=fr(dr,n,st(n)),$)ot(n);else{$=!0;try{N(pr,n)}finally{$=!1,I()}}}function br(n,t,e){"focus"===n?(wr(),dr=e,(hr=t).attachEvent("onpropertychange",yr)):"blur"===n&&wr()}function xr(n){if("selectionchange"===n||"keyup"===n||"keydown"===n)return gr(dr)}function _r(n,t){if("click"===n)return gr(t)}function kr(n,t){if("input"===n||"change"===n)return gr(t)}E&&(vr=ct("input")&&(!document.documentMode||9<document.documentMode));var jr={eventTypes:cr,_isInputEventSupported:vr,extractEvents:function(n,t,e,r){var i=t?Ce(t):window,l=i.nodeName&&i.nodeName.toLowerCase();if("select"===l||"input"===l&&"file"===i.type)var u=mr;else if(sr(i))if(vr)u=kr;else{u=xr;var a=br}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(u=_r);if(u&&(u=u(n,t)))return fr(u,e,r);a&&a(n,i,t),"blur"===n&&(n=i._wrapperState)&&n.controlled&&"number"===i.type&&Sn(i,"number",i.value)}},Or=He.extend({view:null,detail:null}),Ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):!!(n=Ar[n])&&!!t[n]}function Sr(){return Er}var Cr=0,Dr=0,Mr=!1,Fr=!1,Tr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Sr,button:null,buttons:null,relatedTarget:function(n){return n.relatedTarget||(n.fromElement===n.srcElement?n.toElement:n.fromElement)},movementX:function(n){if("movementX"in n)return n.movementX;var t=Cr;return Cr=n.screenX,Mr?"mousemove"===n.type?n.screenX-t:0:(Mr=!0,0)},movementY:function(n){if("movementY"in n)return n.movementY;var t=Dr;return Dr=n.screenY,Fr?"mousemove"===n.type?n.screenY-t:0:(Fr=!0,0)}}),Nr=Tr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:Br,extractEvents:function(n,t,e,r,i){var l="mouseover"===n||"pointerover"===n,u="mouseout"===n||"pointerout"===n;if(l&&0==(32&i)&&(e.relatedTarget||e.fromElement)||!u&&!l)return null;(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,u)?(u=t,null!==(t=(t=e.relatedTarget||e.toElement)?Ee(t):null)&&(t!==nt(t)||5!==t.tag&&6!==t.tag)&&(t=null)):u=null;if(u===t)return null;if("mouseout"===n||"mouseover"===n)var a=Tr,o=Br.mouseLeave,s=Br.mouseEnter,c="mouse";else"pointerout"!==n&&"pointerover"!==n||(a=Nr,o=Br.pointerLeave,s=Br.pointerEnter,c="pointer");if(n=null==u?l:Ce(u),l=null==t?l:Ce(t),(o=a.getPooled(o,u,e,r)).type=c+"leave",o.target=n,o.relatedTarget=l,(e=a.getPooled(s,t,e,r)).type=c+"enter",e.target=l,e.relatedTarget=n,c=t,(r=u)&&c)n:{for(s=c,u=0,n=a=r;n;n=Me(n))u++;for(n=0,t=s;t;t=Me(t))n++;for(;0<u-n;)a=Me(a),u--;for(;0<n-u;)s=Me(s),n--;for(;u--;){if(a===s||a===s.alternate)break n;a=Me(a),s=Me(s)}a=null}else a=null;for(s=a,a=[];r&&r!==s&&(null===(u=r.alternate)||u!==s);)a.push(r),r=Me(r);for(r=[];c&&c!==s&&(null===(u=c.alternate)||u!==s);)r.push(c),c=Me(c);for(c=0;c<a.length;c++)Be(a[c],"bubbled",o);for(c=r.length;0<c--;)Be(r[c],"captured",e);return 0==(64&i)?[o]:[o,e]}};var Pr="function"==typeof Object.is?Object.is:function(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t},$r=Object.prototype.hasOwnProperty;function Rr(n,t){if(Pr(n,t))return!0;if("object"!=typeof n||null===n||"object"!=typeof t||null===t)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++)if(!$r.call(t,e[r])||!Pr(n[e[r]],t[e[r]]))return!1;return!0}var Ir=E&&"documentMode"in document&&11>=document.documentMode,Lr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ur=null,qr=null,Hr=null,Wr=!1;function Gr(n,t){var e=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Ur||Ur!==ce(e)?null:("selectionStart"in(e=Ur)&&pe(e)?e={start:e.selectionStart,end:e.selectionEnd}:e={anchorNode:(e=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset},Hr&&Rr(Hr,e)?null:(Hr=e,(n=He.getPooled(Lr.select,qr,n,t)).type="select",n.target=Ur,Pe(n),n))}var Yr={eventTypes:Lr,extractEvents:function(n,t,e,r,i,l){if(!(l=!(i=l||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){n:{i=Qn(i),l=O.onSelect;for(var u=0;u<l.length;u++)if(!i.has(l[u])){i=!1;break n}i=!0}l=!i}if(l)return null;switch(i=t?Ce(t):window,n){case"focus":(sr(i)||"true"===i.contentEditable)&&(Ur=i,qr=t,Hr=null);break;case"blur":Hr=qr=Ur=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Gr(e,r);case"selectionchange":if(Ir)break;case"keydown":case"keyup":return Gr(e,r)}return null}},Vr=He.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jr=He.extend({clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xr=Or.extend({relatedTarget:null});function Kr(n){var t=n.keyCode;return"charCode"in n?0===(n=n.charCode)&&13===t&&(n=13):n=t,10===n&&(n=13),32<=n||13===n?n:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni=Or.extend({key:function(n){if(n.key){var t=Zr[n.key]||n.key;if("Unidentified"!==t)return t}return"keypress"===n.type?13===(n=Kr(n))?"Enter":String.fromCharCode(n):"keydown"===n.type||"keyup"===n.type?Qr[n.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Sr,charCode:function(n){return"keypress"===n.type?Kr(n):0},keyCode:function(n){return"keydown"===n.type||"keyup"===n.type?n.keyCode:0},which:function(n){return"keypress"===n.type?Kr(n):"keydown"===n.type||"keyup"===n.type?n.keyCode:0}}),ti=Tr.extend({dataTransfer:null}),ei=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Sr}),ri=He.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Tr.extend({deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:null,deltaMode:null}),li={eventTypes:$t,extractEvents:function(n,t,e,r){var i=Rt.get(n);if(!i)return null;switch(n){case"keypress":if(0===Kr(e))return null;case"keydown":case"keyup":n=ni;break;case"blur":case"focus":n=Xr;break;case"click":if(2===e.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":n=Tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":n=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":n=ei;break;case Yn:case Vn:case Jn:n=Vr;break;case Xn:n=ri;break;case"scroll":n=Or;break;case"wheel":n=ii;break;case"copy":case"cut":case"paste":n=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":n=Nr;break;default:n=He}return Pe(t=n.getPooled(i,t,e,r)),t}};if(w)throw Error(u(101));w=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=De,g=Se,m=Ce,A({SimpleEventPlugin:li,EnterLeaveEventPlugin:zr,ChangeEventPlugin:jr,SelectEventPlugin:Yr,BeforeInputEventPlugin:ar});var ui=[],ai=-1;function oi(n){0>ai||(n.current=ui[ai],ui[ai]=null,ai--)}function si(n,t){ai++,ui[ai]=n.current,n.current=t}var ci={},fi={current:ci},hi={current:!1},di=ci;function pi(n,t){var e=n.type.contextTypes;if(!e)return ci;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,l={};for(i in e)l[i]=t[i];return r&&((n=n.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=l),l}function gi(n){return null!=(n=n.childContextTypes)}function mi(){oi(hi),oi(fi)}function vi(n,t,e){if(fi.current!==ci)throw Error(u(168));si(fi,t),si(hi,e)}function wi(n,t,e){var r=n.stateNode;if(n=t.childContextTypes,"function"!=typeof r.getChildContext)return e;for(var l in r=r.getChildContext())if(!(l in n))throw Error(u(108,vn(t)||"Unknown",l));return i({},e,{},r)}function yi(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ci,di=fi.current,si(fi,n),si(hi,hi.current),!0}function bi(n,t,e){var r=n.stateNode;if(!r)throw Error(u(169));e?(n=wi(n,t,di),r.__reactInternalMemoizedMergedChildContext=n,oi(hi),oi(fi),si(fi,n)):oi(hi),si(hi,e)}var xi=l.unstable_runWithPriority,_i=l.unstable_scheduleCallback,ki=l.unstable_cancelCallback,ji=l.unstable_requestPaint,Oi=l.unstable_now,Ai=l.unstable_getCurrentPriorityLevel,Ei=l.unstable_ImmediatePriority,Si=l.unstable_UserBlockingPriority,Ci=l.unstable_NormalPriority,Di=l.unstable_LowPriority,Mi=l.unstable_IdlePriority,Fi={},Ti=l.unstable_shouldYield,Ni=void 0!==ji?ji:function(){},Bi=null,zi=null,Pi=!1,$i=Oi(),Ri=1e4>$i?Oi:function(){return Oi()-$i};function Ii(){switch(Ai()){case Ei:return 99;case Si:return 98;case Ci:return 97;case Di:return 96;case Mi:return 95;default:throw Error(u(332))}}function Li(n){switch(n){case 99:return Ei;case 98:return Si;case 97:return Ci;case 96:return Di;case 95:return Mi;default:throw Error(u(332))}}function Ui(n,t){return n=Li(n),xi(n,t)}function qi(n,t,e){return n=Li(n),_i(n,t,e)}function Hi(n){return null===Bi?(Bi=[n],zi=_i(Ei,Gi)):Bi.push(n),Fi}function Wi(){if(null!==zi){var n=zi;zi=null,ki(n)}Gi()}function Gi(){if(!Pi&&null!==Bi){Pi=!0;var n=0;try{var t=Bi;Ui(99,(function(){for(;n<t.length;n++){var e=t[n];do{e=e(!0)}while(null!==e)}})),Bi=null}catch(t){throw null!==Bi&&(Bi=Bi.slice(n+1)),_i(Ei,Wi),t}finally{Pi=!1}}}function Yi(n,t,e){return 1073741821-(1+((1073741821-n+t/10)/(e/=10)|0))*e}function Vi(n,t){if(n&&n.defaultProps)for(var e in t=i({},t),n=n.defaultProps)void 0===t[e]&&(t[e]=n[e]);return t}var Ji={current:null},Xi=null,Ki=null,Zi=null;function Qi(){Zi=Ki=Xi=null}function nl(n){var t=Ji.current;oi(Ji),n.type._context._currentValue=t}function tl(n,t){for(;null!==n;){var e=n.alternate;if(n.childExpirationTime<t)n.childExpirationTime=t,null!==e&&e.childExpirationTime<t&&(e.childExpirationTime=t);else{if(!(null!==e&&e.childExpirationTime<t))break;e.childExpirationTime=t}n=n.return}}function el(n,t){Xi=n,Zi=Ki=null,null!==(n=n.dependencies)&&null!==n.firstContext&&(n.expirationTime>=t&&(Cu=!0),n.firstContext=null)}function rl(n,t){if(Zi!==n&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=n,t=1073741823),t={context:n,observedBits:t,next:null},null===Ki){if(null===Xi)throw Error(u(308));Ki=t,Xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return n._currentValue}var il=!1;function ll(n){n.updateQueue={baseState:n.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ul(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,baseQueue:n.baseQueue,shared:n.shared,effects:n.effects})}function al(n,t){return(n={expirationTime:n,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=n}function ol(n,t){if(null!==(n=n.updateQueue)){var e=(n=n.shared).pending;null===e?t.next=t:(t.next=e.next,e.next=t),n.pending=t}}function sl(n,t){var e=n.alternate;null!==e&&ul(e,n),null===(e=(n=n.updateQueue).baseQueue)?(n.baseQueue=t.next=t,t.next=t):(t.next=e.next,e.next=t)}function cl(n,t,e,r){var l=n.updateQueue;il=!1;var u=l.baseQueue,a=l.shared.pending;if(null!==a){if(null!==u){var o=u.next;u.next=a.next,a.next=o}u=a,l.shared.pending=null,null!==(o=n.alternate)&&(null!==(o=o.updateQueue)&&(o.baseQueue=a))}if(null!==u){o=u.next;var s=l.baseState,c=0,f=null,h=null,d=null;if(null!==o)for(var p=o;;){if((a=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=g,f=s):d=d.next=g,a>c&&(c=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),io(a,p.suspenseConfig);n:{var m=n,v=p;switch(a=t,g=e,v.tag){case 1:if("function"==typeof(m=v.payload)){s=m.call(g,s,a);break n}s=m;break n;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(a="function"==typeof(m=v.payload)?m.call(g,s,a):m))break n;s=i({},s,a);break n;case 2:il=!0}}null!==p.callback&&(n.effectTag|=32,null===(a=l.effects)?l.effects=[p]:a.push(p))}if(null===(p=p.next)||p===o){if(null===(a=l.shared.pending))break;p=u.next=a.next,a.next=o,l.baseQueue=u=a,l.shared.pending=null}}null===d?f=s:d.next=h,l.baseState=f,l.baseQueue=d,lo(c),n.expirationTime=c,n.memoizedState=s}}function fl(n,t,e){if(n=t.effects,t.effects=null,null!==n)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=e,"function"!=typeof r)throw Error(u(191,r));r.call(i)}}}var hl=X.ReactCurrentBatchConfig,dl=(new r.Component).refs;function pl(n,t,e,r){e=null==(e=e(r,t=n.memoizedState))?t:i({},t,e),n.memoizedState=e,0===n.expirationTime&&(n.updateQueue.baseState=e)}var gl={isMounted:function(n){return!!(n=n._reactInternalFiber)&&nt(n)===n},enqueueSetState:function(n,t,e){n=n._reactInternalFiber;var r=Wa(),i=hl.suspense;(i=al(r=Ga(r,n,i),i)).payload=t,null!=e&&(i.callback=e),ol(n,i),Ya(n,r)},enqueueReplaceState:function(n,t,e){n=n._reactInternalFiber;var r=Wa(),i=hl.suspense;(i=al(r=Ga(r,n,i),i)).tag=1,i.payload=t,null!=e&&(i.callback=e),ol(n,i),Ya(n,r)},enqueueForceUpdate:function(n,t){n=n._reactInternalFiber;var e=Wa(),r=hl.suspense;(r=al(e=Ga(e,n,r),r)).tag=2,null!=t&&(r.callback=t),ol(n,r),Ya(n,e)}};function ml(n,t,e,r,i,l,u){return"function"==typeof(n=n.stateNode).shouldComponentUpdate?n.shouldComponentUpdate(r,l,u):!t.prototype||!t.prototype.isPureReactComponent||(!Rr(e,r)||!Rr(i,l))}function vl(n,t,e){var r=!1,i=ci,l=t.contextType;return"object"==typeof l&&null!==l?l=rl(l):(i=gi(t)?di:fi.current,l=(r=null!=(r=t.contextTypes))?pi(n,i):ci),t=new t(e,l),n.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gl,n.stateNode=t,t._reactInternalFiber=n,r&&((n=n.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=l),t}function wl(n,t,e,r){n=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&gl.enqueueReplaceState(t,t.state,null)}function yl(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs=dl,ll(n);var l=t.contextType;"object"==typeof l&&null!==l?i.context=rl(l):(l=gi(t)?di:fi.current,i.context=pi(n,l)),cl(n,e,i,r),i.state=n.memoizedState,"function"==typeof(l=t.getDerivedStateFromProps)&&(pl(n,t,l,e),i.state=n.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&gl.enqueueReplaceState(i,i.state,null),cl(n,e,i,r),i.state=n.memoizedState),"function"==typeof i.componentDidMount&&(n.effectTag|=4)}var bl=Array.isArray;function xl(n,t,e){if(null!==(n=e.ref)&&"function"!=typeof n&&"object"!=typeof n){if(e._owner){if(e=e._owner){if(1!==e.tag)throw Error(u(309));var r=e.stateNode}if(!r)throw Error(u(147,n));var i=""+n;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(n){var t=r.refs;t===dl&&(t=r.refs={}),null===n?delete t[i]:t[i]=n})._stringRef=i,t)}if("string"!=typeof n)throw Error(u(284));if(!e._owner)throw Error(u(290,n))}return n}function _l(n,t){if("textarea"!==n.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function kl(n){function t(t,e){if(n){var r=t.lastEffect;null!==r?(r.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e,e.nextEffect=null,e.effectTag=8}}function e(e,r){if(!n)return null;for(;null!==r;)t(e,r),r=r.sibling;return null}function r(n,t){for(n=new Map;null!==t;)null!==t.key?n.set(t.key,t):n.set(t.index,t),t=t.sibling;return n}function i(n,t){return(n=Ao(n,t)).index=0,n.sibling=null,n}function l(t,e,r){return t.index=r,n?null!==(r=t.alternate)?(r=r.index)<e?(t.effectTag=2,e):r:(t.effectTag=2,e):e}function a(t){return n&&null===t.alternate&&(t.effectTag=2),t}function o(n,t,e,r){return null===t||6!==t.tag?((t=Co(e,n.mode,r)).return=n,t):((t=i(t,e)).return=n,t)}function s(n,t,e,r){return null!==t&&t.elementType===e.type?((r=i(t,e.props)).ref=xl(n,t,e),r.return=n,r):((r=Eo(e.type,e.key,e.props,null,n.mode,r)).ref=xl(n,t,e),r.return=n,r)}function c(n,t,e,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==e.containerInfo||t.stateNode.implementation!==e.implementation?((t=Do(e,n.mode,r)).return=n,t):((t=i(t,e.children||[])).return=n,t)}function f(n,t,e,r,l){return null===t||7!==t.tag?((t=So(e,n.mode,r,l)).return=n,t):((t=i(t,e)).return=n,t)}function h(n,t,e){if("string"==typeof t||"number"==typeof t)return(t=Co(""+t,n.mode,e)).return=n,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case nn:return(e=Eo(t.type,t.key,t.props,null,n.mode,e)).ref=xl(n,null,t),e.return=n,e;case tn:return(t=Do(t,n.mode,e)).return=n,t}if(bl(t)||mn(t))return(t=So(t,n.mode,e,null)).return=n,t;_l(n,t)}return null}function d(n,t,e,r){var i=null!==t?t.key:null;if("string"==typeof e||"number"==typeof e)return null!==i?null:o(n,t,""+e,r);if("object"==typeof e&&null!==e){switch(e.$$typeof){case nn:return e.key===i?e.type===en?f(n,t,e.props.children,r,i):s(n,t,e,r):null;case tn:return e.key===i?c(n,t,e,r):null}if(bl(e)||mn(e))return null!==i?null:f(n,t,e,r,null);_l(n,e)}return null}function p(n,t,e,r,i){if("string"==typeof r||"number"==typeof r)return o(t,n=n.get(e)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case nn:return n=n.get(null===r.key?e:r.key)||null,r.type===en?f(t,n,r.props.children,i,r.key):s(t,n,r,i);case tn:return c(t,n=n.get(null===r.key?e:r.key)||null,r,i)}if(bl(r)||mn(r))return f(t,n=n.get(e)||null,r,i,null);_l(t,r)}return null}function g(i,u,a,o){for(var s=null,c=null,f=u,g=u=0,m=null;null!==f&&g<a.length;g++){f.index>g?(m=f,f=null):m=f.sibling;var v=d(i,f,a[g],o);if(null===v){null===f&&(f=m);break}n&&f&&null===v.alternate&&t(i,f),u=l(v,u,g),null===c?s=v:c.sibling=v,c=v,f=m}if(g===a.length)return e(i,f),s;if(null===f){for(;g<a.length;g++)null!==(f=h(i,a[g],o))&&(u=l(f,u,g),null===c?s=f:c.sibling=f,c=f);return s}for(f=r(i,f);g<a.length;g++)null!==(m=p(f,i,g,a[g],o))&&(n&&null!==m.alternate&&f.delete(null===m.key?g:m.key),u=l(m,u,g),null===c?s=m:c.sibling=m,c=m);return n&&f.forEach((function(n){return t(i,n)})),s}function m(i,a,o,s){var c=mn(o);if("function"!=typeof c)throw Error(u(150));if(null==(o=c.call(o)))throw Error(u(151));for(var f=c=null,g=a,m=a=0,v=null,w=o.next();null!==g&&!w.done;m++,w=o.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=d(i,g,w.value,s);if(null===y){null===g&&(g=v);break}n&&g&&null===y.alternate&&t(i,g),a=l(y,a,m),null===f?c=y:f.sibling=y,f=y,g=v}if(w.done)return e(i,g),c;if(null===g){for(;!w.done;m++,w=o.next())null!==(w=h(i,w.value,s))&&(a=l(w,a,m),null===f?c=w:f.sibling=w,f=w);return c}for(g=r(i,g);!w.done;m++,w=o.next())null!==(w=p(g,i,m,w.value,s))&&(n&&null!==w.alternate&&g.delete(null===w.key?m:w.key),a=l(w,a,m),null===f?c=w:f.sibling=w,f=w);return n&&g.forEach((function(n){return t(i,n)})),c}return function(n,r,l,o){var s="object"==typeof l&&null!==l&&l.type===en&&null===l.key;s&&(l=l.props.children);var c="object"==typeof l&&null!==l;if(c)switch(l.$$typeof){case nn:n:{for(c=l.key,s=r;null!==s;){if(s.key===c){switch(s.tag){case 7:if(l.type===en){e(n,s.sibling),(r=i(s,l.props.children)).return=n,n=r;break n}break;default:if(s.elementType===l.type){e(n,s.sibling),(r=i(s,l.props)).ref=xl(n,s,l),r.return=n,n=r;break n}}e(n,s);break}t(n,s),s=s.sibling}l.type===en?((r=So(l.props.children,n.mode,o,l.key)).return=n,n=r):((o=Eo(l.type,l.key,l.props,null,n.mode,o)).ref=xl(n,r,l),o.return=n,n=o)}return a(n);case tn:n:{for(s=l.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){e(n,r.sibling),(r=i(r,l.children||[])).return=n,n=r;break n}e(n,r);break}t(n,r),r=r.sibling}(r=Do(l,n.mode,o)).return=n,n=r}return a(n)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==r&&6===r.tag?(e(n,r.sibling),(r=i(r,l)).return=n,n=r):(e(n,r),(r=Co(l,n.mode,o)).return=n,n=r),a(n);if(bl(l))return g(n,r,l,o);if(mn(l))return m(n,r,l,o);if(c&&_l(n,l),void 0===l&&!s)switch(n.tag){case 1:case 0:throw n=n.type,Error(u(152,n.displayName||n.name||"Component"))}return e(n,r)}}var jl=kl(!0),Ol=kl(!1),Al={},El={current:Al},Sl={current:Al},Cl={current:Al};function Dl(n){if(n===Al)throw Error(u(174));return n}function Ml(n,t){switch(si(Cl,t),si(Sl,n),si(El,Al),n=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$n(null,"");break;default:t=$n(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}oi(El),si(El,t)}function Fl(){oi(El),oi(Sl),oi(Cl)}function Tl(n){Dl(Cl.current);var t=Dl(El.current),e=$n(t,n.type);t!==e&&(si(Sl,n),si(El,e))}function Nl(n){Sl.current===n&&(oi(El),oi(Sl))}var Bl={current:0};function zl(n){for(var t=n;null!==t;){if(13===t.tag){var e=t.memoizedState;if(null!==e&&(null===(e=e.dehydrated)||"$?"===e.data||"$!"===e.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Pl(n,t){return{responder:n,props:t}}var $l=X.ReactCurrentDispatcher,Rl=X.ReactCurrentBatchConfig,Il=0,Ll=null,Ul=null,ql=null,Hl=!1;function Wl(){throw Error(u(321))}function Gl(n,t){if(null===t)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Pr(n[e],t[e]))return!1;return!0}function Yl(n,t,e,r,i,l){if(Il=l,Ll=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,$l.current=null===n||null===n.memoizedState?mu:vu,n=e(r,i),t.expirationTime===Il){l=0;do{if(t.expirationTime=0,!(25>l))throw Error(u(301));l+=1,ql=Ul=null,t.updateQueue=null,$l.current=wu,n=e(r,i)}while(t.expirationTime===Il)}if($l.current=gu,t=null!==Ul&&null!==Ul.next,Il=0,ql=Ul=Ll=null,Hl=!1,t)throw Error(u(300));return n}function Vl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ql?Ll.memoizedState=ql=n:ql=ql.next=n,ql}function Jl(){if(null===Ul){var n=Ll.alternate;n=null!==n?n.memoizedState:null}else n=Ul.next;var t=null===ql?Ll.memoizedState:ql.next;if(null!==t)ql=t,Ul=n;else{if(null===n)throw Error(u(310));n={memoizedState:(Ul=n).memoizedState,baseState:Ul.baseState,baseQueue:Ul.baseQueue,queue:Ul.queue,next:null},null===ql?Ll.memoizedState=ql=n:ql=ql.next=n}return ql}function Xl(n,t){return"function"==typeof t?t(n):t}function Kl(n){var t=Jl(),e=t.queue;if(null===e)throw Error(u(311));e.lastRenderedReducer=n;var r=Ul,i=r.baseQueue,l=e.pending;if(null!==l){if(null!==i){var a=i.next;i.next=l.next,l.next=a}r.baseQueue=i=l,e.pending=null}if(null!==i){i=i.next,r=r.baseState;var o=a=l=null,s=i;do{var c=s.expirationTime;if(c<Il){var f={expirationTime:s.expirationTime,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===o?(a=o=f,l=r):o=o.next=f,c>Ll.expirationTime&&(Ll.expirationTime=c,lo(c))}else null!==o&&(o=o.next={expirationTime:1073741823,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),io(c,s.suspenseConfig),r=s.eagerReducer===n?s.eagerState:n(r,s.action);s=s.next}while(null!==s&&s!==i);null===o?l=r:o.next=a,Pr(r,t.memoizedState)||(Cu=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=o,e.lastRenderedState=r}return[t.memoizedState,e.dispatch]}function Zl(n){var t=Jl(),e=t.queue;if(null===e)throw Error(u(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,l=t.memoizedState;if(null!==i){e.pending=null;var a=i=i.next;do{l=n(l,a.action),a=a.next}while(a!==i);Pr(l,t.memoizedState)||(Cu=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),e.lastRenderedState=l}return[l,r]}function Ql(n){var t=Vl();return"function"==typeof n&&(n=n()),t.memoizedState=t.baseState=n,n=(n=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:n}).dispatch=pu.bind(null,Ll,n),[t.memoizedState,n]}function nu(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},null===(t=Ll.updateQueue)?(t={lastEffect:null},Ll.updateQueue=t,t.lastEffect=n.next=n):null===(e=t.lastEffect)?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n),n}function tu(){return Jl().memoizedState}function eu(n,t,e,r){var i=Vl();Ll.effectTag|=n,i.memoizedState=nu(1|t,e,void 0,void 0===r?null:r)}function ru(n,t,e,r){var i=Jl();r=void 0===r?null:r;var l=void 0;if(null!==Ul){var u=Ul.memoizedState;if(l=u.destroy,null!==r&&Gl(r,u.deps))return void nu(t,e,l,r)}Ll.effectTag|=n,i.memoizedState=nu(1|t,e,l,r)}function iu(n,t){return eu(516,4,n,t)}function lu(n,t){return ru(516,4,n,t)}function uu(n,t){return ru(4,2,n,t)}function au(n,t){return"function"==typeof t?(n=n(),t(n),function(){t(null)}):null!=t?(n=n(),t.current=n,function(){t.current=null}):void 0}function ou(n,t,e){return e=null!=e?e.concat([n]):null,ru(4,2,au.bind(null,t,n),e)}function su(){}function cu(n,t){return Vl().memoizedState=[n,void 0===t?null:t],n}function fu(n,t){var e=Jl();t=void 0===t?null:t;var r=e.memoizedState;return null!==r&&null!==t&&Gl(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function hu(n,t){var e=Jl();t=void 0===t?null:t;var r=e.memoizedState;return null!==r&&null!==t&&Gl(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function du(n,t,e){var r=Ii();Ui(98>r?98:r,(function(){n(!0)})),Ui(97<r?97:r,(function(){var r=Rl.suspense;Rl.suspense=void 0===t?null:t;try{n(!1),e()}finally{Rl.suspense=r}}))}function pu(n,t,e){var r=Wa(),i=hl.suspense;i={expirationTime:r=Ga(r,n,i),suspenseConfig:i,action:e,eagerReducer:null,eagerState:null,next:null};var l=t.pending;if(null===l?i.next=i:(i.next=l.next,l.next=i),t.pending=i,l=n.alternate,n===Ll||null!==l&&l===Ll)Hl=!0,i.expirationTime=Il,Ll.expirationTime=Il;else{if(0===n.expirationTime&&(null===l||0===l.expirationTime)&&null!==(l=t.lastRenderedReducer))try{var u=t.lastRenderedState,a=l(u,e);if(i.eagerReducer=l,i.eagerState=a,Pr(a,u))return}catch(n){}Ya(n,r)}}var gu={readContext:rl,useCallback:Wl,useContext:Wl,useEffect:Wl,useImperativeHandle:Wl,useLayoutEffect:Wl,useMemo:Wl,useReducer:Wl,useRef:Wl,useState:Wl,useDebugValue:Wl,useResponder:Wl,useDeferredValue:Wl,useTransition:Wl},mu={readContext:rl,useCallback:cu,useContext:rl,useEffect:iu,useImperativeHandle:function(n,t,e){return e=null!=e?e.concat([n]):null,eu(4,2,au.bind(null,t,n),e)},useLayoutEffect:function(n,t){return eu(4,2,n,t)},useMemo:function(n,t){var e=Vl();return t=void 0===t?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=Vl();return t=void 0!==e?e(t):t,r.memoizedState=r.baseState=t,n=(n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:t}).dispatch=pu.bind(null,Ll,n),[r.memoizedState,n]},useRef:function(n){return n={current:n},Vl().memoizedState=n},useState:Ql,useDebugValue:su,useResponder:Pl,useDeferredValue:function(n,t){var e=Ql(n),r=e[0],i=e[1];return iu((function(){var e=Rl.suspense;Rl.suspense=void 0===t?null:t;try{i(n)}finally{Rl.suspense=e}}),[n,t]),r},useTransition:function(n){var t=Ql(!1),e=t[0];return t=t[1],[cu(du.bind(null,t,n),[t,n]),e]}},vu={readContext:rl,useCallback:fu,useContext:rl,useEffect:lu,useImperativeHandle:ou,useLayoutEffect:uu,useMemo:hu,useReducer:Kl,useRef:tu,useState:function(){return Kl(Xl)},useDebugValue:su,useResponder:Pl,useDeferredValue:function(n,t){var e=Kl(Xl),r=e[0],i=e[1];return lu((function(){var e=Rl.suspense;Rl.suspense=void 0===t?null:t;try{i(n)}finally{Rl.suspense=e}}),[n,t]),r},useTransition:function(n){var t=Kl(Xl),e=t[0];return t=t[1],[fu(du.bind(null,t,n),[t,n]),e]}},wu={readContext:rl,useCallback:fu,useContext:rl,useEffect:lu,useImperativeHandle:ou,useLayoutEffect:uu,useMemo:hu,useReducer:Zl,useRef:tu,useState:function(){return Zl(Xl)},useDebugValue:su,useResponder:Pl,useDeferredValue:function(n,t){var e=Zl(Xl),r=e[0],i=e[1];return lu((function(){var e=Rl.suspense;Rl.suspense=void 0===t?null:t;try{i(n)}finally{Rl.suspense=e}}),[n,t]),r},useTransition:function(n){var t=Zl(Xl),e=t[0];return t=t[1],[fu(du.bind(null,t,n),[t,n]),e]}},yu=null,bu=null,xu=!1;function _u(n,t){var e=jo(5,null,null,0);e.elementType="DELETED",e.type="DELETED",e.stateNode=t,e.return=n,e.effectTag=8,null!==n.lastEffect?(n.lastEffect.nextEffect=e,n.lastEffect=e):n.firstEffect=n.lastEffect=e}function ku(n,t){switch(n.tag){case 5:var e=n.type;return null!==(t=1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(n.stateNode=t,!0);case 6:return null!==(t=""===n.pendingProps||3!==t.nodeType?null:t)&&(n.stateNode=t,!0);case 13:default:return!1}}function ju(n){if(xu){var t=bu;if(t){var e=t;if(!ku(n,t)){if(!(t=xe(e.nextSibling))||!ku(n,t))return n.effectTag=-1025&n.effectTag|2,xu=!1,void(yu=n);_u(yu,e)}yu=n,bu=xe(t.firstChild)}else n.effectTag=-1025&n.effectTag|2,xu=!1,yu=n}}function Ou(n){for(n=n.return;null!==n&&5!==n.tag&&3!==n.tag&&13!==n.tag;)n=n.return;yu=n}function Au(n){if(n!==yu)return!1;if(!xu)return Ou(n),xu=!0,!1;var t=n.type;if(5!==n.tag||"head"!==t&&"body"!==t&&!we(t,n.memoizedProps))for(t=bu;t;)_u(n,t),t=xe(t.nextSibling);if(Ou(n),13===n.tag){if(!(n=null!==(n=n.memoizedState)?n.dehydrated:null))throw Error(u(317));n:{for(n=n.nextSibling,t=0;n;){if(8===n.nodeType){var e=n.data;if("/$"===e){if(0===t){bu=xe(n.nextSibling);break n}t--}else"$"!==e&&"$!"!==e&&"$?"!==e||t++}n=n.nextSibling}bu=null}}else bu=yu?xe(n.stateNode.nextSibling):null;return!0}function Eu(){bu=yu=null,xu=!1}var Su=X.ReactCurrentOwner,Cu=!1;function Du(n,t,e,r){t.child=null===n?Ol(t,null,e,r):jl(t,n.child,e,r)}function Mu(n,t,e,r,i){e=e.render;var l=t.ref;return el(t,i),r=Yl(n,t,e,r,l,i),null===n||Cu?(t.effectTag|=1,Du(n,t,r,i),t.child):(t.updateQueue=n.updateQueue,t.effectTag&=-517,n.expirationTime<=i&&(n.expirationTime=0),Yu(n,t,i))}function Fu(n,t,e,r,i,l){if(null===n){var u=e.type;return"function"!=typeof u||Oo(u)||void 0!==u.defaultProps||null!==e.compare||void 0!==e.defaultProps?((n=Eo(e.type,null,r,null,t.mode,l)).ref=t.ref,n.return=t,t.child=n):(t.tag=15,t.type=u,Tu(n,t,u,r,i,l))}return u=n.child,i<l&&(i=u.memoizedProps,(e=null!==(e=e.compare)?e:Rr)(i,r)&&n.ref===t.ref)?Yu(n,t,l):(t.effectTag|=1,(n=Ao(u,r)).ref=t.ref,n.return=t,t.child=n)}function Tu(n,t,e,r,i,l){return null!==n&&Rr(n.memoizedProps,r)&&n.ref===t.ref&&(Cu=!1,i<l)?(t.expirationTime=n.expirationTime,Yu(n,t,l)):Bu(n,t,e,r,l)}function Nu(n,t){var e=t.ref;(null===n&&null!==e||null!==n&&n.ref!==e)&&(t.effectTag|=128)}function Bu(n,t,e,r,i){var l=gi(e)?di:fi.current;return l=pi(t,l),el(t,i),e=Yl(n,t,e,r,l,i),null===n||Cu?(t.effectTag|=1,Du(n,t,e,i),t.child):(t.updateQueue=n.updateQueue,t.effectTag&=-517,n.expirationTime<=i&&(n.expirationTime=0),Yu(n,t,i))}function zu(n,t,e,r,i){if(gi(e)){var l=!0;yi(t)}else l=!1;if(el(t,i),null===t.stateNode)null!==n&&(n.alternate=null,t.alternate=null,t.effectTag|=2),vl(t,e,r),yl(t,e,r,i),r=!0;else if(null===n){var u=t.stateNode,a=t.memoizedProps;u.props=a;var o=u.context,s=e.contextType;"object"==typeof s&&null!==s?s=rl(s):s=pi(t,s=gi(e)?di:fi.current);var c=e.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof u.getSnapshotBeforeUpdate;f||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(a!==r||o!==s)&&wl(t,u,r,s),il=!1;var h=t.memoizedState;u.state=h,cl(t,r,u,i),o=t.memoizedState,a!==r||h!==o||hi.current||il?("function"==typeof c&&(pl(t,e,c,r),o=t.memoizedState),(a=il||ml(t,e,a,r,h,o,s))?(f||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||("function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"==typeof u.componentDidMount&&(t.effectTag|=4)):("function"==typeof u.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=o),u.props=r,u.state=o,u.context=s,r=a):("function"==typeof u.componentDidMount&&(t.effectTag|=4),r=!1)}else u=t.stateNode,ul(n,t),a=t.memoizedProps,u.props=t.type===t.elementType?a:Vi(t.type,a),o=u.context,"object"==typeof(s=e.contextType)&&null!==s?s=rl(s):s=pi(t,s=gi(e)?di:fi.current),(f="function"==typeof(c=e.getDerivedStateFromProps)||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(a!==r||o!==s)&&wl(t,u,r,s),il=!1,o=t.memoizedState,u.state=o,cl(t,r,u,i),h=t.memoizedState,a!==r||o!==h||hi.current||il?("function"==typeof c&&(pl(t,e,c,r),h=t.memoizedState),(c=il||ml(t,e,a,r,o,h,s))?(f||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(r,h,s),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(r,h,s)),"function"==typeof u.componentDidUpdate&&(t.effectTag|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof u.componentDidUpdate||a===n.memoizedProps&&o===n.memoizedState||(t.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||a===n.memoizedProps&&o===n.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),u.props=r,u.state=h,u.context=s,r=c):("function"!=typeof u.componentDidUpdate||a===n.memoizedProps&&o===n.memoizedState||(t.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||a===n.memoizedProps&&o===n.memoizedState||(t.effectTag|=256),r=!1);return Pu(n,t,e,r,l,i)}function Pu(n,t,e,r,i,l){Nu(n,t);var u=0!=(64&t.effectTag);if(!r&&!u)return i&&bi(t,e,!1),Yu(n,t,l);r=t.stateNode,Su.current=t;var a=u&&"function"!=typeof e.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==n&&u?(t.child=jl(t,n.child,null,l),t.child=jl(t,null,a,l)):Du(n,t,a,l),t.memoizedState=r.state,i&&bi(t,e,!0),t.child}function $u(n){var t=n.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ml(n,t.containerInfo)}var Ru,Iu,Lu,Uu={dehydrated:null,retryTime:0};function qu(n,t,e){var r,i=t.mode,l=t.pendingProps,u=Bl.current,a=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&u)&&(null===n||null!==n.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==n&&null===n.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(u|=1),si(Bl,1&u),null===n){if(void 0!==l.fallback&&ju(t),a){if(a=l.fallback,(l=So(null,i,0,null)).return=t,0==(2&t.mode))for(n=null!==t.memoizedState?t.child.child:t.child,l.child=n;null!==n;)n.return=l,n=n.sibling;return(e=So(a,i,e,null)).return=t,l.sibling=e,t.memoizedState=Uu,t.child=l,e}return i=l.children,t.memoizedState=null,t.child=Ol(t,null,i,e)}if(null!==n.memoizedState){if(i=(n=n.child).sibling,a){if(l=l.fallback,(e=Ao(n,n.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==n.child)for(e.child=a;null!==a;)a.return=e,a=a.sibling;return(i=Ao(i,l)).return=t,e.sibling=i,e.childExpirationTime=0,t.memoizedState=Uu,t.child=e,i}return e=jl(t,n.child,l.children,e),t.memoizedState=null,t.child=e}if(n=n.child,a){if(a=l.fallback,(l=So(null,i,0,null)).return=t,l.child=n,null!==n&&(n.return=l),0==(2&t.mode))for(n=null!==t.memoizedState?t.child.child:t.child,l.child=n;null!==n;)n.return=l,n=n.sibling;return(e=So(a,i,e,null)).return=t,l.sibling=e,e.effectTag|=2,l.childExpirationTime=0,t.memoizedState=Uu,t.child=l,e}return t.memoizedState=null,t.child=jl(t,n,l.children,e)}function Hu(n,t){n.expirationTime<t&&(n.expirationTime=t);var e=n.alternate;null!==e&&e.expirationTime<t&&(e.expirationTime=t),tl(n.return,t)}function Wu(n,t,e,r,i,l){var u=n.memoizedState;null===u?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailExpiration:0,tailMode:i,lastEffect:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=e,u.tailExpiration=0,u.tailMode=i,u.lastEffect=l)}function Gu(n,t,e){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Du(n,t,r.children,e),0!=(2&(r=Bl.current)))r=1&r|2,t.effectTag|=64;else{if(null!==n&&0!=(64&n.effectTag))n:for(n=t.child;null!==n;){if(13===n.tag)null!==n.memoizedState&&Hu(n,e);else if(19===n.tag)Hu(n,e);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break n;for(;null===n.sibling;){if(null===n.return||n.return===t)break n;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(si(Bl,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;null!==e;)null!==(n=e.alternate)&&null===zl(n)&&(i=e),e=e.sibling;null===(e=i)?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),Wu(t,!1,i,e,l,t.lastEffect);break;case"backwards":for(e=null,i=t.child,t.child=null;null!==i;){if(null!==(n=i.alternate)&&null===zl(n)){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}Wu(t,!0,e,null,l,t.lastEffect);break;case"together":Wu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Yu(n,t,e){null!==n&&(t.dependencies=n.dependencies);var r=t.expirationTime;if(0!==r&&lo(r),t.childExpirationTime<e)return null;if(null!==n&&t.child!==n.child)throw Error(u(153));if(null!==t.child){for(e=Ao(n=t.child,n.pendingProps),t.child=e,e.return=t;null!==n.sibling;)n=n.sibling,(e=e.sibling=Ao(n,n.pendingProps)).return=t;e.sibling=null}return t.child}function Vu(n,t){switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;null!==t;)null!==t.alternate&&(e=t),t=t.sibling;null===e?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t||null===n.tail?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ju(n,t,e){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&mi(),null;case 3:return Fl(),oi(hi),oi(fi),(e=t.stateNode).pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),null!==n&&null!==n.child||!Au(t)||(t.effectTag|=4),null;case 5:Nl(t),e=Dl(Cl.current);var l=t.type;if(null!==n&&null!=t.stateNode)Iu(n,t,l,r,e),n.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(u(166));return null}if(n=Dl(El.current),Au(t)){r=t.stateNode,l=t.type;var a=t.memoizedProps;switch(r[je]=t,r[Oe]=a,l){case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(n=0;n<Kn.length;n++)Vt(Kn[n],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"form":Vt("reset",r),Vt("submit",r);break;case"details":Vt("toggle",r);break;case"input":jn(r,a),Vt("invalid",r),oe(e,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vt("invalid",r),oe(e,"onChange");break;case"textarea":Fn(r,a),Vt("invalid",r),oe(e,"onChange")}for(var o in le(l,a),n=null,a)if(a.hasOwnProperty(o)){var s=a[o];"children"===o?"string"==typeof s?r.textContent!==s&&(n=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(n=["children",""+s]):j.hasOwnProperty(o)&&null!=s&&oe(e,o)}switch(l){case"input":xn(r),En(r,a,!0);break;case"textarea":xn(r),Nn(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=se)}e=n,t.updateQueue=e,null!==e&&(t.effectTag|=4)}else{switch(o=9===e.nodeType?e:e.ownerDocument,n===ae&&(n=Pn(l)),n===ae?"script"===l?((n=o.createElement("div")).innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):"string"==typeof r.is?n=o.createElement(l,{is:r.is}):(n=o.createElement(l),"select"===l&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,l),n[je]=t,n[Oe]=r,Ru(n,t),t.stateNode=n,o=ue(l,r),l){case"iframe":case"object":case"embed":Vt("load",n),s=r;break;case"video":case"audio":for(s=0;s<Kn.length;s++)Vt(Kn[s],n);s=r;break;case"source":Vt("error",n),s=r;break;case"img":case"image":case"link":Vt("error",n),Vt("load",n),s=r;break;case"form":Vt("reset",n),Vt("submit",n),s=r;break;case"details":Vt("toggle",n),s=r;break;case"input":jn(n,r),s=kn(n,r),Vt("invalid",n),oe(e,"onChange");break;case"option":s=Cn(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Vt("invalid",n),oe(e,"onChange");break;case"textarea":Fn(n,r),s=Mn(n,r),Vt("invalid",n),oe(e,"onChange");break;default:s=r}le(l,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var f=c[a];"style"===a?re(n,f):"dangerouslySetInnerHTML"===a?null!=(f=f?f.__html:void 0)&&In(n,f):"children"===a?"string"==typeof f?("textarea"!==l||""!==f)&&Ln(n,f):"number"==typeof f&&Ln(n,""+f):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(j.hasOwnProperty(a)?null!=f&&oe(e,a):null!=f&&K(n,a,f,o))}switch(l){case"input":xn(n),En(n,r,!1);break;case"textarea":xn(n),Nn(n);break;case"option":null!=r.value&&n.setAttribute("value",""+yn(r.value));break;case"select":n.multiple=!!r.multiple,null!=(e=r.value)?Dn(n,!!r.multiple,e,!1):null!=r.defaultValue&&Dn(n,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(n.onclick=se)}ve(l,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(n&&null!=t.stateNode)Lu(0,t,n.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(u(166));e=Dl(Cl.current),Dl(El.current),Au(t)?(e=t.stateNode,r=t.memoizedProps,e[je]=t,e.nodeValue!==r&&(t.effectTag|=4)):((e=(9===e.nodeType?e:e.ownerDocument).createTextNode(r))[je]=t,t.stateNode=e)}return null;case 13:return oi(Bl),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=e,t):(e=null!==r,r=!1,null===n?void 0!==t.memoizedProps.fallback&&Au(t):(r=null!==(l=n.memoizedState),e||null===l||null!==(l=n.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=l,l.nextEffect=a):(t.firstEffect=t.lastEffect=l,l.nextEffect=null),l.effectTag=8)),e&&!r&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Bl.current)?Aa===ya&&(Aa=ba):(Aa!==ya&&Aa!==ba||(Aa=xa),0!==Ma&&null!==ka&&(To(ka,Oa),No(ka,Ma)))),(e||r)&&(t.effectTag|=4),null);case 4:return Fl(),null;case 10:return nl(t),null;case 17:return gi(t.type)&&mi(),null;case 19:if(oi(Bl),null===(r=t.memoizedState))return null;if(l=0!=(64&t.effectTag),null===(a=r.rendering)){if(l)Vu(r,!1);else if(Aa!==ya||null!==n&&0!=(64&n.effectTag))for(a=t.child;null!==a;){if(null!==(n=zl(a))){for(t.effectTag|=64,Vu(r,!1),null!==(l=n.updateQueue)&&(t.updateQueue=l,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=e,(l=r).effectTag&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(n=l.alternate)?(l.childExpirationTime=0,l.expirationTime=a,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null):(l.childExpirationTime=n.childExpirationTime,l.expirationTime=n.expirationTime,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return si(Bl,1&Bl.current|2),t.child}a=a.sibling}}else{if(!l)if(null!==(n=zl(a))){if(t.effectTag|=64,l=!0,null!==(e=n.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),Vu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ri()-r.renderingStartTime>r.tailExpiration&&1<e&&(t.effectTag|=64,l=!0,Vu(r,!1),t.expirationTime=t.childExpirationTime=e-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ri()+500),e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ri(),e.sibling=null,t=Bl.current,si(Bl,l?1&t|2:1&t),e):null}throw Error(u(156,t.tag))}function Xu(n){switch(n.tag){case 1:gi(n.type)&&mi();var t=n.effectTag;return 4096&t?(n.effectTag=-4097&t|64,n):null;case 3:if(Fl(),oi(hi),oi(fi),0!=(64&(t=n.effectTag)))throw Error(u(285));return n.effectTag=-4097&t|64,n;case 5:return Nl(n),null;case 13:return oi(Bl),4096&(t=n.effectTag)?(n.effectTag=-4097&t|64,n):null;case 19:return oi(Bl),null;case 4:return Fl(),null;case 10:return nl(n),null;default:return null}}function Ku(n,t){return{value:n,source:t,stack:wn(t)}}Ru=function(n,t){for(var e=t.child;null!==e;){if(5===e.tag||6===e.tag)n.appendChild(e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}},Iu=function(n,t,e,r,l){var u=n.memoizedProps;if(u!==r){var a,o,s=t.stateNode;switch(Dl(El.current),n=null,e){case"input":u=kn(s,u),r=kn(s,r),n=[];break;case"option":u=Cn(s,u),r=Cn(s,r),n=[];break;case"select":u=i({},u,{value:void 0}),r=i({},r,{value:void 0}),n=[];break;case"textarea":u=Mn(s,u),r=Mn(s,r),n=[];break;default:"function"!=typeof u.onClick&&"function"==typeof r.onClick&&(s.onclick=se)}for(a in le(e,r),e=null,u)if(!r.hasOwnProperty(a)&&u.hasOwnProperty(a)&&null!=u[a])if("style"===a)for(o in s=u[a])s.hasOwnProperty(o)&&(e||(e={}),e[o]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(j.hasOwnProperty(a)?n||(n=[]):(n=n||[]).push(a,null));for(a in r){var c=r[a];if(s=null!=u?u[a]:void 0,r.hasOwnProperty(a)&&c!==s&&(null!=c||null!=s))if("style"===a)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(e||(e={}),e[o]=c[o])}else e||(n||(n=[]),n.push(a,e)),e=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(n=n||[]).push(a,c)):"children"===a?s===c||"string"!=typeof c&&"number"!=typeof c||(n=n||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(j.hasOwnProperty(a)?(null!=c&&oe(l,a),n||s===c||(n=[])):(n=n||[]).push(a,c))}e&&(n=n||[]).push("style",e),l=n,(t.updateQueue=l)&&(t.effectTag|=4)}},Lu=function(n,t,e,r){e!==r&&(t.effectTag|=4)};var Zu="function"==typeof WeakSet?WeakSet:Set;function Qu(n,t){var e=t.source,r=t.stack;null===r&&null!==e&&(r=wn(e)),null!==e&&vn(e.type),t=t.value,null!==n&&1===n.tag&&vn(n.type);try{console.error(t)}catch(n){setTimeout((function(){throw n}))}}function na(n){var t=n.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){wo(n,t)}else t.current=null}function ta(n,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==n){var e=n.memoizedProps,r=n.memoizedState;t=(n=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?e:Vi(t.type,e),r),n.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function ea(n,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var e=t=t.next;do{if((e.tag&n)===n){var r=e.destroy;e.destroy=void 0,void 0!==r&&r()}e=e.next}while(e!==t)}}function ra(n,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function ia(n,t,e){switch(e.tag){case 0:case 11:case 15:case 22:return void ra(3,e);case 1:if(n=e.stateNode,4&e.effectTag)if(null===t)n.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Vi(e.type,t.memoizedProps);n.componentDidUpdate(r,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=e.updateQueue)&&fl(e,t,n));case 3:if(null!==(t=e.updateQueue)){if(n=null,null!==e.child)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fl(e,t,n)}return;case 5:return n=e.stateNode,void(null===t&&4&e.effectTag&&ve(e.type,e.memoizedProps)&&n.focus());case 6:case 4:case 12:return;case 13:return void(null===e.memoizedState&&(e=e.alternate,null!==e&&(e=e.memoizedState,null!==e&&(e=e.dehydrated,null!==e&&Pt(e)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function la(n,t,e){switch("function"==typeof _o&&_o(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(n=t.updateQueue)&&null!==(n=n.lastEffect)){var r=n.next;Ui(97<e?97:e,(function(){var n=r;do{var e=n.destroy;if(void 0!==e){var i=t;try{e()}catch(n){wo(i,n)}}n=n.next}while(n!==r)}))}break;case 1:na(t),"function"==typeof(e=t.stateNode).componentWillUnmount&&function(n,t){try{t.props=n.memoizedProps,t.state=n.memoizedState,t.componentWillUnmount()}catch(t){wo(n,t)}}(t,e);break;case 5:na(t);break;case 4:sa(n,t,e)}}function ua(n){var t=n.alternate;n.return=null,n.child=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.alternate=null,n.firstEffect=null,n.lastEffect=null,n.pendingProps=null,n.memoizedProps=null,n.stateNode=null,null!==t&&ua(t)}function aa(n){return 5===n.tag||3===n.tag||4===n.tag}function oa(n){n:{for(var t=n.return;null!==t;){if(aa(t)){var e=t;break n}t=t.return}throw Error(u(160))}switch(t=e.stateNode,e.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(u(161))}16&e.effectTag&&(Ln(t,""),e.effectTag&=-17);n:t:for(e=n;;){for(;null===e.sibling;){if(null===e.return||aa(e.return)){e=null;break n}e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.effectTag)continue t;if(null===e.child||4===e.tag)continue t;e.child.return=e,e=e.child}if(!(2&e.effectTag)){e=e.stateNode;break n}}r?function n(t,e,r){var i=t.tag,l=5===i||6===i;if(l)t=l?t.stateNode:t.stateNode.instance,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=se));else if(4!==i&&null!==(t=t.child))for(n(t,e,r),t=t.sibling;null!==t;)n(t,e,r),t=t.sibling}(n,e,t):function n(t,e,r){var i=t.tag,l=5===i||6===i;if(l)t=l?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(n(t,e,r),t=t.sibling;null!==t;)n(t,e,r),t=t.sibling}(n,e,t)}function sa(n,t,e){for(var r,i,l=t,a=!1;;){if(!a){a=l.return;n:for(;;){if(null===a)throw Error(u(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break n;case 3:case 4:r=r.containerInfo,i=!0;break n}a=a.return}a=!0}if(5===l.tag||6===l.tag){n:for(var o=n,s=l,c=e,f=s;;)if(la(o,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===s)break n;for(;null===f.sibling;){if(null===f.return||f.return===s)break n;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(o=r,s=l.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(l.stateNode)}else if(4===l.tag){if(null!==l.child){r=l.stateNode.containerInfo,i=!0,l.child.return=l,l=l.child;continue}}else if(la(n,l,e),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;4===(l=l.return).tag&&(a=!1)}l.sibling.return=l.return,l=l.sibling}}function ca(n,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ea(3,t);case 1:return;case 5:var e=t.stateNode;if(null!=e){var r=t.memoizedProps,i=null!==n?n.memoizedProps:r;n=t.type;var l=t.updateQueue;if(t.updateQueue=null,null!==l){for(e[Oe]=r,"input"===n&&"radio"===r.type&&null!=r.name&&On(e,r),ue(n,i),t=ue(n,r),i=0;i<l.length;i+=2){var a=l[i],o=l[i+1];"style"===a?re(e,o):"dangerouslySetInnerHTML"===a?In(e,o):"children"===a?Ln(e,o):K(e,a,o,t)}switch(n){case"input":An(e,r);break;case"textarea":Tn(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,null!=(n=r.value)?Dn(e,!!r.multiple,n,!1):t!==!!r.multiple&&(null!=r.defaultValue?Dn(e,!!r.multiple,r.defaultValue,!0):Dn(e,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(u(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Pt(t.containerInfo)));case 12:return;case 13:if(e=t,null===t.memoizedState?r=!1:(r=!0,e=t.child,Ta=Ri()),null!==e)n:for(n=e;;){if(5===n.tag)l=n.stateNode,r?"function"==typeof(l=l.style).setProperty?l.setProperty("display","none","important"):l.display="none":(l=n.stateNode,i=null!=(i=n.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,l.style.display=ee("display",i));else if(6===n.tag)n.stateNode.nodeValue=r?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState&&null===n.memoizedState.dehydrated){(l=n.child.sibling).return=n,n=l;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)break n;n=n.return}n.sibling.return=n.return,n=n.sibling}return void fa(t);case 19:return void fa(t);case 17:return}throw Error(u(163))}function fa(n){var t=n.updateQueue;if(null!==t){n.updateQueue=null;var e=n.stateNode;null===e&&(e=n.stateNode=new Zu),t.forEach((function(t){var r=bo.bind(null,n,t);e.has(t)||(e.add(t),t.then(r,r))}))}}var ha="function"==typeof WeakMap?WeakMap:Map;function da(n,t,e){(e=al(e,null)).tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Ba||(Ba=!0,za=r),Qu(n,t)},e}function pa(n,t,e){(e=al(e,null)).tag=3;var r=n.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;e.payload=function(){return Qu(n,t),r(i)}}var l=n.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){"function"!=typeof r&&(null===Pa?Pa=new Set([this]):Pa.add(this),Qu(n,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),e}var ga,ma=Math.ceil,va=X.ReactCurrentDispatcher,wa=X.ReactCurrentOwner,ya=0,ba=3,xa=4,_a=0,ka=null,ja=null,Oa=0,Aa=ya,Ea=null,Sa=1073741823,Ca=1073741823,Da=null,Ma=0,Fa=!1,Ta=0,Na=null,Ba=!1,za=null,Pa=null,$a=!1,Ra=null,Ia=90,La=null,Ua=0,qa=null,Ha=0;function Wa(){return 0!=(48&_a)?1073741821-(Ri()/10|0):0!==Ha?Ha:Ha=1073741821-(Ri()/10|0)}function Ga(n,t,e){if(0==(2&(t=t.mode)))return 1073741823;var r=Ii();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&_a))return Oa;if(null!==e)n=Yi(n,0|e.timeoutMs||5e3,250);else switch(r){case 99:n=1073741823;break;case 98:n=Yi(n,150,100);break;case 97:case 96:n=Yi(n,5e3,250);break;case 95:n=2;break;default:throw Error(u(326))}return null!==ka&&n===Oa&&--n,n}function Ya(n,t){if(50<Ua)throw Ua=0,qa=null,Error(u(185));if(null!==(n=Va(n,t))){var e=Ii();1073741823===t?0!=(8&_a)&&0==(48&_a)?Za(n):(Xa(n),0===_a&&Wi()):Xa(n),0==(4&_a)||98!==e&&99!==e||(null===La?La=new Map([[n,t]]):(void 0===(e=La.get(n))||e>t)&&La.set(n,t))}}function Va(n,t){n.expirationTime<t&&(n.expirationTime=t);var e=n.alternate;null!==e&&e.expirationTime<t&&(e.expirationTime=t);var r=n.return,i=null;if(null===r&&3===n.tag)i=n.stateNode;else for(;null!==r;){if(e=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==e&&e.childExpirationTime<t&&(e.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ka===i&&(lo(t),Aa===xa&&To(i,Oa)),No(i,t)),i}function Ja(n){var t=n.lastExpiredTime;if(0!==t)return t;if(!Fo(n,t=n.firstPendingTime))return t;var e=n.lastPingedTime;return 2>=(n=e>(n=n.nextKnownPendingLevel)?e:n)&&t!==n?0:n}function Xa(n){if(0!==n.lastExpiredTime)n.callbackExpirationTime=1073741823,n.callbackPriority=99,n.callbackNode=Hi(Za.bind(null,n));else{var t=Ja(n),e=n.callbackNode;if(0===t)null!==e&&(n.callbackNode=null,n.callbackExpirationTime=0,n.callbackPriority=90);else{var r=Wa();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==e){var i=n.callbackPriority;if(n.callbackExpirationTime===t&&i>=r)return;e!==Fi&&ki(e)}n.callbackExpirationTime=t,n.callbackPriority=r,t=1073741823===t?Hi(Za.bind(null,n)):qi(r,Ka.bind(null,n),{timeout:10*(1073741821-t)-Ri()}),n.callbackNode=t}}}function Ka(n,t){if(Ha=0,t)return Bo(n,t=Wa()),Xa(n),null;var e=Ja(n);if(0!==e){if(t=n.callbackNode,0!=(48&_a))throw Error(u(327));if(go(),n===ka&&e===Oa||to(n,e),null!==ja){var r=_a;_a|=16;for(var i=ro();;)try{ao();break}catch(t){eo(n,t)}if(Qi(),_a=r,va.current=i,1===Aa)throw t=Ea,to(n,e),To(n,e),Xa(n),t;if(null===ja)switch(i=n.finishedWork=n.current.alternate,n.finishedExpirationTime=e,r=Aa,ka=null,r){case ya:case 1:throw Error(u(345));case 2:Bo(n,2<e?2:e);break;case ba:if(To(n,e),e===(r=n.lastSuspendedTime)&&(n.nextKnownPendingLevel=co(i)),1073741823===Sa&&10<(i=Ta+500-Ri())){if(Fa){var l=n.lastPingedTime;if(0===l||l>=e){n.lastPingedTime=e,to(n,e);break}}if(0!==(l=Ja(n))&&l!==e)break;if(0!==r&&r!==e){n.lastPingedTime=r;break}n.timeoutHandle=ye(fo.bind(null,n),i);break}fo(n);break;case xa:if(To(n,e),e===(r=n.lastSuspendedTime)&&(n.nextKnownPendingLevel=co(i)),Fa&&(0===(i=n.lastPingedTime)||i>=e)){n.lastPingedTime=e,to(n,e);break}if(0!==(i=Ja(n))&&i!==e)break;if(0!==r&&r!==e){n.lastPingedTime=r;break}if(1073741823!==Ca?r=10*(1073741821-Ca)-Ri():1073741823===Sa?r=0:(r=10*(1073741821-Sa)-5e3,0>(r=(i=Ri())-r)&&(r=0),(e=10*(1073741821-e)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ma(r/1960))-r)&&(r=e)),10<r){n.timeoutHandle=ye(fo.bind(null,n),r);break}fo(n);break;case 5:if(1073741823!==Sa&&null!==Da){l=Sa;var a=Da;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(l=Ri()-(10*(1073741821-l)-(0|a.timeoutMs||5e3)))<=i?0:i+r-l),10<r){To(n,e),n.timeoutHandle=ye(fo.bind(null,n),r);break}}fo(n);break;default:throw Error(u(329))}if(Xa(n),n.callbackNode===t)return Ka.bind(null,n)}}return null}function Za(n){var t=n.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&_a))throw Error(u(327));if(go(),n===ka&&t===Oa||to(n,t),null!==ja){var e=_a;_a|=16;for(var r=ro();;)try{uo();break}catch(t){eo(n,t)}if(Qi(),_a=e,va.current=r,1===Aa)throw e=Ea,to(n,t),To(n,t),Xa(n),e;if(null!==ja)throw Error(u(261));n.finishedWork=n.current.alternate,n.finishedExpirationTime=t,ka=null,fo(n),Xa(n)}return null}function Qa(n,t){var e=_a;_a|=1;try{return n(t)}finally{0===(_a=e)&&Wi()}}function no(n,t){var e=_a;_a&=-2,_a|=8;try{return n(t)}finally{0===(_a=e)&&Wi()}}function to(n,t){n.finishedWork=null,n.finishedExpirationTime=0;var e=n.timeoutHandle;if(-1!==e&&(n.timeoutHandle=-1,be(e)),null!==ja)for(e=ja.return;null!==e;){var r=e;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&mi();break;case 3:Fl(),oi(hi),oi(fi);break;case 5:Nl(r);break;case 4:Fl();break;case 13:case 19:oi(Bl);break;case 10:nl(r)}e=e.return}ka=n,ja=Ao(n.current,null),Oa=t,Aa=ya,Ea=null,Ca=Sa=1073741823,Da=null,Ma=0,Fa=!1}function eo(n,t){for(;;){try{if(Qi(),$l.current=gu,Hl)for(var e=Ll.memoizedState;null!==e;){var r=e.queue;null!==r&&(r.pending=null),e=e.next}if(Il=0,ql=Ul=Ll=null,Hl=!1,null===ja||null===ja.return)return Aa=1,Ea=t,ja=null;n:{var i=n,l=ja.return,u=ja,a=t;if(t=Oa,u.effectTag|=2048,u.firstEffect=u.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var o=a;if(0==(2&u.mode)){var s=u.alternate;s?(u.updateQueue=s.updateQueue,u.memoizedState=s.memoizedState,u.expirationTime=s.expirationTime):(u.updateQueue=null,u.memoizedState=null)}var c=0!=(1&Bl.current),f=l;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var g=f.updateQueue;if(null===g){var m=new Set;m.add(o),f.updateQueue=m}else g.add(o);if(0==(2&f.mode)){if(f.effectTag|=64,u.effectTag&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var v=al(1073741823,null);v.tag=2,ol(u,v)}u.expirationTime=1073741823;break n}a=void 0,u=t;var w=i.pingCache;if(null===w?(w=i.pingCache=new ha,a=new Set,w.set(o,a)):void 0===(a=w.get(o))&&(a=new Set,w.set(o,a)),!a.has(u)){a.add(u);var y=yo.bind(null,i,o,u);o.then(y,y)}f.effectTag|=4096,f.expirationTime=t;break n}f=f.return}while(null!==f);a=Error((vn(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+wn(u))}5!==Aa&&(Aa=2),a=Ku(a,u),f=l;do{switch(f.tag){case 3:o=a,f.effectTag|=4096,f.expirationTime=t,sl(f,da(f,o,t));break n;case 1:o=a;var b=f.type,x=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Pa||!Pa.has(x)))){f.effectTag|=4096,f.expirationTime=t,sl(f,pa(f,o,t));break n}}f=f.return}while(null!==f)}ja=so(ja)}catch(n){t=n;continue}break}}function ro(){var n=va.current;return va.current=gu,null===n?gu:n}function io(n,t){n<Sa&&2<n&&(Sa=n),null!==t&&n<Ca&&2<n&&(Ca=n,Da=t)}function lo(n){n>Ma&&(Ma=n)}function uo(){for(;null!==ja;)ja=oo(ja)}function ao(){for(;null!==ja&&!Ti();)ja=oo(ja)}function oo(n){var t=ga(n.alternate,n,Oa);return n.memoizedProps=n.pendingProps,null===t&&(t=so(n)),wa.current=null,t}function so(n){ja=n;do{var t=ja.alternate;if(n=ja.return,0==(2048&ja.effectTag)){if(t=Ju(t,ja,Oa),1===Oa||1!==ja.childExpirationTime){for(var e=0,r=ja.child;null!==r;){var i=r.expirationTime,l=r.childExpirationTime;i>e&&(e=i),l>e&&(e=l),r=r.sibling}ja.childExpirationTime=e}if(null!==t)return t;null!==n&&0==(2048&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=ja.firstEffect),null!==ja.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=ja.firstEffect),n.lastEffect=ja.lastEffect),1<ja.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=ja:n.firstEffect=ja,n.lastEffect=ja))}else{if(null!==(t=Xu(ja)))return t.effectTag&=2047,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=2048)}if(null!==(t=ja.sibling))return t;ja=n}while(null!==ja);return Aa===ya&&(Aa=5),null}function co(n){var t=n.expirationTime;return t>(n=n.childExpirationTime)?t:n}function fo(n){var t=Ii();return Ui(99,ho.bind(null,n,t)),null}function ho(n,t){do{go()}while(null!==Ra);if(0!=(48&_a))throw Error(u(327));var e=n.finishedWork,r=n.finishedExpirationTime;if(null===e)return null;if(n.finishedWork=null,n.finishedExpirationTime=0,e===n.current)throw Error(u(177));n.callbackNode=null,n.callbackExpirationTime=0,n.callbackPriority=90,n.nextKnownPendingLevel=0;var i=co(e);if(n.firstPendingTime=i,r<=n.lastSuspendedTime?n.firstSuspendedTime=n.lastSuspendedTime=n.nextKnownPendingLevel=0:r<=n.firstSuspendedTime&&(n.firstSuspendedTime=r-1),r<=n.lastPingedTime&&(n.lastPingedTime=0),r<=n.lastExpiredTime&&(n.lastExpiredTime=0),n===ka&&(ja=ka=null,Oa=0),1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,i=e.firstEffect):i=e:i=e.firstEffect,null!==i){var l=_a;_a|=32,wa.current=null,ge=Yt;var a=de();if(pe(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else n:{var s=(o=(o=a.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(s&&0!==s.rangeCount){o=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{o.nodeType,f.nodeType}catch(n){o=null;break n}var h=0,d=-1,p=-1,g=0,m=0,v=a,w=null;t:for(;;){for(var y;v!==o||0!==c&&3!==v.nodeType||(d=h+c),v!==f||0!==s&&3!==v.nodeType||(p=h+s),3===v.nodeType&&(h+=v.nodeValue.length),null!==(y=v.firstChild);)w=v,v=y;for(;;){if(v===a)break t;if(w===o&&++g===c&&(d=h),w===f&&++m===s&&(p=h),null!==(y=v.nextSibling))break;w=(v=w).parentNode}v=y}o=-1===d||-1===p?null:{start:d,end:p}}else o=null}o=o||{start:0,end:0}}else o=null;me={activeElementDetached:null,focusedElem:a,selectionRange:o},Yt=!1,Na=i;do{try{po()}catch(n){if(null===Na)throw Error(u(330));wo(Na,n),Na=Na.nextEffect}}while(null!==Na);Na=i;do{try{for(a=n,o=t;null!==Na;){var b=Na.effectTag;if(16&b&&Ln(Na.stateNode,""),128&b){var x=Na.alternate;if(null!==x){var _=x.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:oa(Na),Na.effectTag&=-3;break;case 6:oa(Na),Na.effectTag&=-3,ca(Na.alternate,Na);break;case 1024:Na.effectTag&=-1025;break;case 1028:Na.effectTag&=-1025,ca(Na.alternate,Na);break;case 4:ca(Na.alternate,Na);break;case 8:sa(a,c=Na,o),ua(c)}Na=Na.nextEffect}}catch(n){if(null===Na)throw Error(u(330));wo(Na,n),Na=Na.nextEffect}}while(null!==Na);if(_=me,x=de(),b=_.focusedElem,o=_.selectionRange,x!==b&&b&&b.ownerDocument&&function n(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?n(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}(b.ownerDocument.documentElement,b)){null!==o&&pe(b)&&(x=o.start,void 0===(_=o.end)&&(_=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(_,b.value.length)):(_=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),c=b.textContent.length,a=Math.min(o.start,c),o=void 0===o.end?a:Math.min(o.end,c),!_.extend&&a>o&&(c=o,o=a,a=c),c=he(b,a),f=he(b,o),c&&f&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==f.node||_.focusOffset!==f.offset)&&((x=x.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),a>o?(_.addRange(x),_.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),_.addRange(x))))),x=[];for(_=b;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(_=x[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Yt=!!ge,me=ge=null,n.current=e,Na=i;do{try{for(b=n;null!==Na;){var k=Na.effectTag;if(36&k&&ia(b,Na.alternate,Na),128&k){x=void 0;var j=Na.ref;if(null!==j){var O=Na.stateNode;switch(Na.tag){case 5:x=O;break;default:x=O}"function"==typeof j?j(x):j.current=x}}Na=Na.nextEffect}}catch(n){if(null===Na)throw Error(u(330));wo(Na,n),Na=Na.nextEffect}}while(null!==Na);Na=null,Ni(),_a=l}else n.current=e;if($a)$a=!1,Ra=n,Ia=t;else for(Na=i;null!==Na;)t=Na.nextEffect,Na.nextEffect=null,Na=t;if(0===(t=n.firstPendingTime)&&(Pa=null),1073741823===t?n===qa?Ua++:(Ua=0,qa=n):Ua=0,"function"==typeof xo&&xo(e.stateNode,r),Xa(n),Ba)throw Ba=!1,n=za,za=null,n;return 0!=(8&_a)||Wi(),null}function po(){for(;null!==Na;){var n=Na.effectTag;0!=(256&n)&&ta(Na.alternate,Na),0==(512&n)||$a||($a=!0,qi(97,(function(){return go(),null}))),Na=Na.nextEffect}}function go(){if(90!==Ia){var n=97<Ia?97:Ia;return Ia=90,Ui(n,mo)}}function mo(){if(null===Ra)return!1;var n=Ra;if(Ra=null,0!=(48&_a))throw Error(u(331));var t=_a;for(_a|=32,n=n.current.firstEffect;null!==n;){try{var e=n;if(0!=(512&e.effectTag))switch(e.tag){case 0:case 11:case 15:case 22:ea(5,e),ra(5,e)}}catch(t){if(null===n)throw Error(u(330));wo(n,t)}e=n.nextEffect,n.nextEffect=null,n=e}return _a=t,Wi(),!0}function vo(n,t,e){ol(n,t=da(n,t=Ku(e,t),1073741823)),null!==(n=Va(n,1073741823))&&Xa(n)}function wo(n,t){if(3===n.tag)vo(n,n,t);else for(var e=n.return;null!==e;){if(3===e.tag){vo(e,n,t);break}if(1===e.tag){var r=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Pa||!Pa.has(r))){ol(e,n=pa(e,n=Ku(t,n),1073741823)),null!==(e=Va(e,1073741823))&&Xa(e);break}}e=e.return}}function yo(n,t,e){var r=n.pingCache;null!==r&&r.delete(t),ka===n&&Oa===e?Aa===xa||Aa===ba&&1073741823===Sa&&Ri()-Ta<500?to(n,Oa):Fa=!0:Fo(n,e)&&(0!==(t=n.lastPingedTime)&&t<e||(n.lastPingedTime=e,Xa(n)))}function bo(n,t){var e=n.stateNode;null!==e&&e.delete(t),0===(t=0)&&(t=Ga(t=Wa(),n,null)),null!==(n=Va(n,t))&&Xa(n)}ga=function(n,t,e){var r=t.expirationTime;if(null!==n){var i=t.pendingProps;if(n.memoizedProps!==i||hi.current)Cu=!0;else{if(r<e){switch(Cu=!1,t.tag){case 3:$u(t),Eu();break;case 5:if(Tl(t),4&t.mode&&1!==e&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&yi(t);break;case 4:Ml(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,si(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=e?qu(n,t,e):(si(Bl,1&Bl.current),null!==(t=Yu(n,t,e))?t.sibling:null);si(Bl,1&Bl.current);break;case 19:if(r=t.childExpirationTime>=e,0!=(64&n.effectTag)){if(r)return Gu(n,t,e);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),si(Bl,Bl.current),!r)return null}return Yu(n,t,e)}Cu=!1}}else Cu=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==n&&(n.alternate=null,t.alternate=null,t.effectTag|=2),n=t.pendingProps,i=pi(t,fi.current),el(t,e),i=Yl(null,t,r,n,i,e),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var l=!0;yi(t)}else l=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ll(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&pl(t,r,a,n),i.updater=gl,t.stateNode=i,i._reactInternalFiber=t,yl(t,r,n,e),t=Pu(null,t,r,!0,l,e)}else t.tag=0,Du(null,t,i,e),t=t.child;return t;case 16:n:{if(i=t.elementType,null!==n&&(n.alternate=null,t.alternate=null,t.effectTag|=2),n=t.pendingProps,function(n){if(-1===n._status){n._status=0;var t=n._ctor;t=t(),n._result=t,t.then((function(t){0===n._status&&(t=t.default,n._status=1,n._result=t)}),(function(t){0===n._status&&(n._status=2,n._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,l=t.tag=function(n){if("function"==typeof n)return Oo(n)?1:0;if(null!=n){if((n=n.$$typeof)===sn)return 11;if(n===hn)return 14}return 2}(i),n=Vi(i,n),l){case 0:t=Bu(null,t,i,n,e);break n;case 1:t=zu(null,t,i,n,e);break n;case 11:t=Mu(null,t,i,n,e);break n;case 14:t=Fu(null,t,i,Vi(i.type,n),r,e);break n}throw Error(u(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bu(n,t,r,i=t.elementType===r?i:Vi(r,i),e);case 1:return r=t.type,i=t.pendingProps,zu(n,t,r,i=t.elementType===r?i:Vi(r,i),e);case 3:if($u(t),r=t.updateQueue,null===n||null===r)throw Error(u(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ul(n,t),cl(t,r,null,e),(r=t.memoizedState.element)===i)Eu(),t=Yu(n,t,e);else{if((i=t.stateNode.hydrate)&&(bu=xe(t.stateNode.containerInfo.firstChild),yu=t,i=xu=!0),i)for(e=Ol(t,null,r,e),t.child=e;e;)e.effectTag=-3&e.effectTag|1024,e=e.sibling;else Du(n,t,r,e),Eu();t=t.child}return t;case 5:return Tl(t),null===n&&ju(t),r=t.type,i=t.pendingProps,l=null!==n?n.memoizedProps:null,a=i.children,we(r,i)?a=null:null!==l&&we(r,l)&&(t.effectTag|=16),Nu(n,t),4&t.mode&&1!==e&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Du(n,t,a,e),t=t.child),t;case 6:return null===n&&ju(t),null;case 13:return qu(n,t,e);case 4:return Ml(t,t.stateNode.containerInfo),r=t.pendingProps,null===n?t.child=jl(t,null,r,e):Du(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,Mu(n,t,r,i=t.elementType===r?i:Vi(r,i),e);case 7:return Du(n,t,t.pendingProps,e),t.child;case 8:case 12:return Du(n,t,t.pendingProps.children,e),t.child;case 10:n:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value;var o=t.type._context;if(si(Ji,o._currentValue),o._currentValue=l,null!==a)if(o=a.value,0===(l=Pr(o,l)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(o,l):1073741823))){if(a.children===i.children&&!hi.current){t=Yu(n,t,e);break n}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){a=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&l)){1===o.tag&&((c=al(e,null)).tag=2,ol(o,c)),o.expirationTime<e&&(o.expirationTime=e),null!==(c=o.alternate)&&c.expirationTime<e&&(c.expirationTime=e),tl(o.return,e),s.expirationTime<e&&(s.expirationTime=e);break}c=c.next}}else a=10===o.tag&&o.type===t.type?null:o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Du(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=(l=t.pendingProps).children,el(t,e),r=r(i=rl(i,l.unstable_observedBits)),t.effectTag|=1,Du(n,t,r,e),t.child;case 14:return l=Vi(i=t.type,t.pendingProps),Fu(n,t,i,l=Vi(i.type,l),r,e);case 15:return Tu(n,t,t.type,t.pendingProps,r,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vi(r,i),null!==n&&(n.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(n=!0,yi(t)):n=!1,el(t,e),vl(t,r,i),yl(t,r,i,e),Pu(null,t,r,!0,n,e);case 19:return Gu(n,t,e)}throw Error(u(156,t.tag))};var xo=null,_o=null;function ko(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function jo(n,t,e,r){return new ko(n,t,e,r)}function Oo(n){return!(!(n=n.prototype)||!n.isReactComponent)}function Ao(n,t){var e=n.alternate;return null===e?((e=jo(n.tag,t,n.key,n.mode)).elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.effectTag=0,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null),e.childExpirationTime=n.childExpirationTime,e.expirationTime=n.expirationTime,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Eo(n,t,e,r,i,l){var a=2;if(r=n,"function"==typeof n)Oo(n)&&(a=1);else if("string"==typeof n)a=5;else n:switch(n){case en:return So(e.children,i,l,t);case on:a=8,i|=7;break;case rn:a=8,i|=1;break;case ln:return(n=jo(12,e,t,8|i)).elementType=ln,n.type=ln,n.expirationTime=l,n;case cn:return(n=jo(13,e,t,i)).type=cn,n.elementType=cn,n.expirationTime=l,n;case fn:return(n=jo(19,e,t,i)).elementType=fn,n.expirationTime=l,n;default:if("object"==typeof n&&null!==n)switch(n.$$typeof){case un:a=10;break n;case an:a=9;break n;case sn:a=11;break n;case hn:a=14;break n;case dn:a=16,r=null;break n;case pn:a=22;break n}throw Error(u(130,null==n?n:typeof n,""))}return(t=jo(a,e,t,i)).elementType=n,t.type=r,t.expirationTime=l,t}function So(n,t,e,r){return(n=jo(7,n,r,t)).expirationTime=e,n}function Co(n,t,e){return(n=jo(6,n,null,t)).expirationTime=e,n}function Do(n,t,e){return(t=jo(4,null!==n.children?n.children:[],n.key,t)).expirationTime=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Mo(n,t,e){this.tag=t,this.current=null,this.containerInfo=n,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=e,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Fo(n,t){var e=n.firstSuspendedTime;return n=n.lastSuspendedTime,0!==e&&e>=t&&n<=t}function To(n,t){var e=n.firstSuspendedTime,r=n.lastSuspendedTime;e<t&&(n.firstSuspendedTime=t),(r>t||0===e)&&(n.lastSuspendedTime=t),t<=n.lastPingedTime&&(n.lastPingedTime=0),t<=n.lastExpiredTime&&(n.lastExpiredTime=0)}function No(n,t){t>n.firstPendingTime&&(n.firstPendingTime=t);var e=n.firstSuspendedTime;0!==e&&(t>=e?n.firstSuspendedTime=n.lastSuspendedTime=n.nextKnownPendingLevel=0:t>=n.lastSuspendedTime&&(n.lastSuspendedTime=t+1),t>n.nextKnownPendingLevel&&(n.nextKnownPendingLevel=t))}function Bo(n,t){var e=n.lastExpiredTime;(0===e||e>t)&&(n.lastExpiredTime=t)}function zo(n,t,e,r){var i=t.current,l=Wa(),a=hl.suspense;l=Ga(l,i,a);n:if(e){t:{if(nt(e=e._reactInternalFiber)!==e||1!==e.tag)throw Error(u(170));var o=e;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(gi(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);throw Error(u(171))}if(1===e.tag){var s=e.type;if(gi(s)){e=wi(e,s,o);break n}}e=o}else e=ci;return null===t.context?t.context=e:t.pendingContext=e,(t=al(l,a)).payload={element:n},null!==(r=void 0===r?null:r)&&(t.callback=r),ol(i,t),Ya(i,l),l}function Po(n){if(!(n=n.current).child)return null;switch(n.child.tag){case 5:default:return n.child.stateNode}}function $o(n,t){null!==(n=n.memoizedState)&&null!==n.dehydrated&&n.retryTime<t&&(n.retryTime=t)}function Ro(n,t){$o(n,t),(n=n.alternate)&&$o(n,t)}function Io(n,t,e){var r=new Mo(n,t,e=null!=e&&!0===e.hydrate),i=jo(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ll(i),n[Ae]=r.current,e&&0!==t&&function(n,t){var e=Qn(t);Et.forEach((function(n){gt(n,t,e)})),St.forEach((function(n){gt(n,t,e)}))}(0,9===n.nodeType?n:n.ownerDocument),this._internalRoot=r}function Lo(n){return!(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType&&(8!==n.nodeType||" react-mount-point-unstable "!==n.nodeValue))}function Uo(n,t,e,r,i){var l=e._reactRootContainer;if(l){var u=l._internalRoot;if("function"==typeof i){var a=i;i=function(){var n=Po(u);a.call(n)}}zo(t,u,n,i)}else{if(l=e._reactRootContainer=function(n,t){if(t||(t=!(!(t=n?9===n.nodeType?n.documentElement:n.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var e;e=n.lastChild;)n.removeChild(e);return new Io(n,0,t?{hydrate:!0}:void 0)}(e,r),u=l._internalRoot,"function"==typeof i){var o=i;i=function(){var n=Po(u);o.call(n)}}no((function(){zo(t,u,n,i)}))}return Po(u)}function qo(n,t,e){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:tn,key:null==r?null:""+r,children:n,containerInfo:t,implementation:e}}function Ho(n,t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Lo(t))throw Error(u(200));return qo(n,t,null,e)}Io.prototype.render=function(n){zo(n,this._internalRoot,null,null)},Io.prototype.unmount=function(){var n=this._internalRoot,t=n.containerInfo;zo(null,n,null,(function(){t[Ae]=null}))},mt=function(n){if(13===n.tag){var t=Yi(Wa(),150,100);Ya(n,t),Ro(n,t)}},vt=function(n){13===n.tag&&(Ya(n,3),Ro(n,3))},wt=function(n){if(13===n.tag){var t=Wa();Ya(n,t=Ga(t,n,null)),Ro(n,t)}},S=function(n,t,e){switch(t){case"input":if(An(n,e),t=e.name,"radio"===e.type&&null!=t){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=De(r);if(!i)throw Error(u(90));_n(r),An(r,i)}}}break;case"textarea":Tn(n,e);break;case"select":null!=(t=e.value)&&Dn(n,!!e.multiple,t,!1)}},N=Qa,B=function(n,t,e,r,i){var l=_a;_a|=4;try{return Ui(98,n.bind(null,t,e,r,i))}finally{0===(_a=l)&&Wi()}},z=function(){0==(49&_a)&&(function(){if(null!==La){var n=La;La=null,n.forEach((function(n,t){Bo(t,n),Xa(t)})),Wi()}}(),go())},P=function(n,t){var e=_a;_a|=2;try{return n(t)}finally{0===(_a=e)&&Wi()}};var Wo,Go,Yo={Events:[Se,Ce,De,A,k,Pe,function(n){lt(n,ze)},F,T,Zt,ot,go,{current:!1}]};Go=(Wo={findFiberByHostInstance:Ee,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(n){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var e=t.inject(n);xo=function(n){try{t.onCommitFiberRoot(e,n,void 0,64==(64&n.current.effectTag))}catch(n){}},_o=function(n){try{t.onCommitFiberUnmount(e,n)}catch(n){}}}catch(n){}}(i({},Wo,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return null===(n=rt(n))?null:n.stateNode},findFiberByHostInstance:function(n){return Go?Go(n):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yo,t.createPortal=Ho,t.findDOMNode=function(n){if(null==n)return null;if(1===n.nodeType)return n;var t=n._reactInternalFiber;if(void 0===t){if("function"==typeof n.render)throw Error(u(188));throw Error(u(268,Object.keys(n)))}return n=null===(n=rt(t))?null:n.stateNode},t.flushSync=function(n,t){if(0!=(48&_a))throw Error(u(187));var e=_a;_a|=1;try{return Ui(99,n.bind(null,t))}finally{_a=e,Wi()}},t.hydrate=function(n,t,e){if(!Lo(t))throw Error(u(200));return Uo(null,n,t,!0,e)},t.render=function(n,t,e){if(!Lo(t))throw Error(u(200));return Uo(null,n,t,!1,e)},t.unmountComponentAtNode=function(n){if(!Lo(n))throw Error(u(40));return!!n._reactRootContainer&&(no((function(){Uo(null,null,n,!1,(function(){n._reactRootContainer=null,n[Ae]=null}))})),!0)},t.unstable_batchedUpdates=Qa,t.unstable_createPortal=function(n,t){return Ho(n,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!Lo(e))throw Error(u(200));if(null==n||void 0===n._reactInternalFiber)throw Error(u(38));return Uo(n,t,e,!1,r)},t.version="16.14.0"},function(n,t,e){"use strict";n.exports=e(31)},function(n,t,e){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,l,u,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var o=null,s=null,c=function(){if(null!==o)try{var n=t.unstable_now();o(!0,n),o=null}catch(n){throw setTimeout(c,0),n}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(n){null!==o?setTimeout(r,0,n):(o=n,setTimeout(c,0))},i=function(n,t){s=setTimeout(n,t)},l=function(){clearTimeout(s)},u=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var v=d.now();t.unstable_now=function(){return d.now()-v}}var w=!1,y=null,b=-1,x=5,_=0;u=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<n?Math.floor(1e3/n):5};var k=new MessageChannel,j=k.port2;k.port1.onmessage=function(){if(null!==y){var n=t.unstable_now();_=n+x;try{y(!0,n)?j.postMessage(null):(w=!1,y=null)}catch(n){throw j.postMessage(null),n}}else w=!1},r=function(n){y=n,w||(w=!0,j.postMessage(null))},i=function(n,e){b=p((function(){n(t.unstable_now())}),e)},l=function(){g(b),b=-1}}function O(n,t){var e=n.length;n.push(t);n:for(;;){var r=e-1>>>1,i=n[r];if(!(void 0!==i&&0<S(i,t)))break n;n[r]=t,n[e]=i,e=r}}function A(n){return void 0===(n=n[0])?null:n}function E(n){var t=n[0];if(void 0!==t){var e=n.pop();if(e!==t){n[0]=e;n:for(var r=0,i=n.length;r<i;){var l=2*(r+1)-1,u=n[l],a=l+1,o=n[a];if(void 0!==u&&0>S(u,e))void 0!==o&&0>S(o,u)?(n[r]=o,n[a]=e,r=a):(n[r]=u,n[l]=e,r=l);else{if(!(void 0!==o&&0>S(o,e)))break n;n[r]=o,n[a]=e,r=a}}}return t}return null}function S(n,t){var e=n.sortIndex-t.sortIndex;return 0!==e?e:n.id-t.id}var C=[],D=[],M=1,F=null,T=3,N=!1,B=!1,z=!1;function P(n){for(var t=A(D);null!==t;){if(null===t.callback)E(D);else{if(!(t.startTime<=n))break;E(D),t.sortIndex=t.expirationTime,O(C,t)}t=A(D)}}function $(n){if(z=!1,P(n),!B)if(null!==A(C))B=!0,r(R);else{var t=A(D);null!==t&&i($,t.startTime-n)}}function R(n,e){B=!1,z&&(z=!1,l()),N=!0;var r=T;try{for(P(e),F=A(C);null!==F&&(!(F.expirationTime>e)||n&&!u());){var a=F.callback;if(null!==a){F.callback=null,T=F.priorityLevel;var o=a(F.expirationTime<=e);e=t.unstable_now(),"function"==typeof o?F.callback=o:F===A(C)&&E(C),P(e)}else E(C);F=A(C)}if(null!==F)var s=!0;else{var c=A(D);null!==c&&i($,c.startTime-e),s=!1}return s}finally{F=null,T=r,N=!1}}function I(n){switch(n){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var L=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(n){n.callback=null},t.unstable_continueExecution=function(){B||N||(B=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return A(C)},t.unstable_next=function(n){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var e=T;T=t;try{return n()}finally{T=e}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(n,t){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var e=T;T=n;try{return t()}finally{T=e}},t.unstable_scheduleCallback=function(n,e,u){var a=t.unstable_now();if("object"==typeof u&&null!==u){var o=u.delay;o="number"==typeof o&&0<o?a+o:a,u="number"==typeof u.timeout?u.timeout:I(n)}else u=I(n),o=a;return n={id:M++,callback:e,priorityLevel:n,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(n.sortIndex=o,O(D,n),null===A(C)&&n===A(D)&&(z?l():z=!0,i($,o-a))):(n.sortIndex=u,O(C,n),B||N||(B=!0,r(R))),n},t.unstable_shouldYield=function(){var n=t.unstable_now();P(n);var e=A(C);return e!==F&&null!==F&&null!==e&&null!==e.callback&&e.startTime<=n&&e.expirationTime<F.expirationTime||u()},t.unstable_wrapCallback=function(n){var t=T;return function(){var e=T;T=t;try{return n.apply(this,arguments)}finally{T=e}}}},function(n,t,e){"use strict";e.r(t),e.d(t,"Debug",(function(){return g.a})),e.d(t,"Error",(function(){return g.b})),e.d(t,"Info",(function(){return g.c})),e.d(t,"None",(function(){return g.d})),e.d(t,"Warn",(function(){return g.e})),e.d(t,"accessor",(function(){return g.f})),e.d(t,"accessorFields",(function(){return g.g})),e.d(t,"accessorName",(function(){return g.h})),e.d(t,"array",(function(){return g.i})),e.d(t,"ascending",(function(){return g.j})),e.d(t,"clampRange",(function(){return g.k})),e.d(t,"compare",(function(){return g.l})),e.d(t,"constant",(function(){return g.m})),e.d(t,"debounce",(function(){return g.n})),e.d(t,"error",(function(){return g.o})),e.d(t,"extend",(function(){return g.p})),e.d(t,"extent",(function(){return g.q})),e.d(t,"extentIndex",(function(){return g.r})),e.d(t,"falsy",(function(){return g.s})),e.d(t,"fastmap",(function(){return g.t})),e.d(t,"field",(function(){return g.u})),e.d(t,"flush",(function(){return g.v})),e.d(t,"hasOwnProperty",(function(){return g.w})),e.d(t,"id",(function(){return g.x})),e.d(t,"identity",(function(){return g.y})),e.d(t,"inherits",(function(){return g.z})),e.d(t,"inrange",(function(){return g.A})),e.d(t,"isArray",(function(){return g.B})),e.d(t,"isBoolean",(function(){return g.C})),e.d(t,"isDate",(function(){return g.D})),e.d(t,"isFunction",(function(){return g.E})),e.d(t,"isIterable",(function(){return g.F})),e.d(t,"isNumber",(function(){return g.G})),e.d(t,"isObject",(function(){return g.H})),e.d(t,"isRegExp",(function(){return g.I})),e.d(t,"isString",(function(){return g.J})),e.d(t,"key",(function(){return g.K})),e.d(t,"lerp",(function(){return g.L})),e.d(t,"logger",(function(){return g.M})),e.d(t,"lruCache",(function(){return g.N})),e.d(t,"merge",(function(){return g.O})),e.d(t,"mergeConfig",(function(){return g.P})),e.d(t,"one",(function(){return g.Q})),e.d(t,"pad",(function(){return g.R})),e.d(t,"panLinear",(function(){return g.S})),e.d(t,"panLog",(function(){return g.T})),e.d(t,"panPow",(function(){return g.U})),e.d(t,"panSymlog",(function(){return g.V})),e.d(t,"peek",(function(){return g.W})),e.d(t,"quarter",(function(){return g.X})),e.d(t,"repeat",(function(){return g.Y})),e.d(t,"span",(function(){return g.Z})),e.d(t,"splitAccessPath",(function(){return g.ab})),e.d(t,"stringValue",(function(){return g.bb})),e.d(t,"toBoolean",(function(){return g.cb})),e.d(t,"toDate",(function(){return g.db})),e.d(t,"toNumber",(function(){return g.eb})),e.d(t,"toSet",(function(){return g.fb})),e.d(t,"toString",(function(){return g.gb})),e.d(t,"truncate",(function(){return g.hb})),e.d(t,"truthy",(function(){return g.ib})),e.d(t,"utcquarter",(function(){return g.jb})),e.d(t,"visitArray",(function(){return g.kb})),e.d(t,"writeConfig",(function(){return g.lb})),e.d(t,"zero",(function(){return g.mb})),e.d(t,"zoomLinear",(function(){return g.nb})),e.d(t,"zoomLog",(function(){return g.ob})),e.d(t,"zoomPow",(function(){return g.pb})),e.d(t,"zoomSymlog",(function(){return g.qb})),e.d(t,"Dataflow",(function(){return Wi})),e.d(t,"EventStream",(function(){return Di})),e.d(t,"MultiPulse",(function(){return Ii})),e.d(t,"Operator",(function(){return Ei})),e.d(t,"Parameters",(function(){return ji})),e.d(t,"Pulse",(function(){return zi})),e.d(t,"Transform",(function(){return Yi})),e.d(t,"changeset",(function(){return ki})),e.d(t,"definition",(function(){return Ji})),e.d(t,"ingest",(function(){return vi})),e.d(t,"isTuple",(function(){return pi})),e.d(t,"transform",(function(){return Xi})),e.d(t,"transforms",(function(){return Vi})),e.d(t,"tupleid",(function(){return gi})),e.d(t,"bandwidthNRD",(function(){return al})),e.d(t,"bin",(function(){return ol})),e.d(t,"bootstrapCI",(function(){return fl})),e.d(t,"cumulativeLogNormal",(function(){return Al})),e.d(t,"cumulativeNormal",(function(){return bl})),e.d(t,"cumulativeUniform",(function(){return Fl})),e.d(t,"densityLogNormal",(function(){return Ol})),e.d(t,"densityNormal",(function(){return yl})),e.d(t,"densityUniform",(function(){return Ml})),e.d(t,"dotbin",(function(){return hl})),e.d(t,"quantileLogNormal",(function(){return El})),e.d(t,"quantileNormal",(function(){return xl})),e.d(t,"quantileUniform",(function(){return Tl})),e.d(t,"quantiles",(function(){return ll})),e.d(t,"quartiles",(function(){return ul})),e.d(t,"random",(function(){return sl})),e.d(t,"randomInteger",(function(){return pl})),e.d(t,"randomKDE",(function(){return kl})),e.d(t,"randomLCG",(function(){return dl})),e.d(t,"randomLogNormal",(function(){return Sl})),e.d(t,"randomMixture",(function(){return Cl})),e.d(t,"randomNormal",(function(){return _l})),e.d(t,"randomUniform",(function(){return Nl})),e.d(t,"regressionExp",(function(){return Ll})),e.d(t,"regressionLinear",(function(){return Rl})),e.d(t,"regressionLoess",(function(){return Gl})),e.d(t,"regressionLog",(function(){return Il})),e.d(t,"regressionPoly",(function(){return Hl})),e.d(t,"regressionPow",(function(){return Ul})),e.d(t,"regressionQuad",(function(){return ql})),e.d(t,"sampleCurve",(function(){return Xl})),e.d(t,"sampleLogNormal",(function(){return jl})),e.d(t,"sampleNormal",(function(){return wl})),e.d(t,"sampleUniform",(function(){return Dl})),e.d(t,"setRandom",(function(){return cl})),e.d(t,"DATE",(function(){return xt})),e.d(t,"DAY",(function(){return _t})),e.d(t,"DAYOFYEAR",(function(){return kt})),e.d(t,"HOURS",(function(){return jt})),e.d(t,"MILLISECONDS",(function(){return Et})),e.d(t,"MINUTES",(function(){return Ot})),e.d(t,"MONTH",(function(){return yt})),e.d(t,"QUARTER",(function(){return wt})),e.d(t,"SECONDS",(function(){return At})),e.d(t,"TIME_UNITS",(function(){return St})),e.d(t,"WEEK",(function(){return bt})),e.d(t,"YEAR",(function(){return vt})),e.d(t,"dayofyear",(function(){return Bt})),e.d(t,"timeBin",(function(){return ye})),e.d(t,"timeFloor",(function(){return Kt})),e.d(t,"timeInterval",(function(){return re})),e.d(t,"timeOffset",(function(){return ue})),e.d(t,"timeSequence",(function(){return se})),e.d(t,"timeUnitSpecifier",(function(){return Ft})),e.d(t,"timeUnits",(function(){return Dt})),e.d(t,"utcFloor",(function(){return ne})),e.d(t,"utcInterval",(function(){return ie})),e.d(t,"utcOffset",(function(){return ae})),e.d(t,"utcSequence",(function(){return ce})),e.d(t,"utcdayofyear",(function(){return Lt})),e.d(t,"utcweek",(function(){return Ut})),e.d(t,"week",(function(){return zt})),e.d(t,"loader",(function(){return si})),e.d(t,"read",(function(){return oi})),e.d(t,"inferType",(function(){return C})),e.d(t,"inferTypes",(function(){return D})),e.d(t,"typeParsers",(function(){return A})),e.d(t,"format",(function(){return Z})),e.d(t,"formats",(function(){return Q})),e.d(t,"responseType",(function(){return nn})),e.d(t,"Bounds",(function(){return fd})),e.d(t,"CanvasHandler",(function(){return Fg})),e.d(t,"CanvasRenderer",(function(){return Pg})),e.d(t,"Gradient",(function(){return yh})),e.d(t,"GroupItem",(function(){return dd})),e.d(t,"Handler",(function(){return bg})),e.d(t,"Item",(function(){return hd})),e.d(t,"Marks",(function(){return lg})),e.d(t,"RenderType",(function(){return mm})),e.d(t,"Renderer",(function(){return _g})),e.d(t,"ResourceLoader",(function(){return pd})),e.d(t,"SVGHandler",(function(){return Rg})),e.d(t,"SVGRenderer",(function(){return tm})),e.d(t,"SVGStringRenderer",(function(){return gm})),e.d(t,"Scenegraph",(function(){return hg})),e.d(t,"boundClip",(function(){return jm})),e.d(t,"boundContext",(function(){return Bd})),e.d(t,"boundItem",(function(){return ug})),e.d(t,"boundMark",(function(){return og})),e.d(t,"boundStroke",(function(){return vd})),e.d(t,"domChild",(function(){return mg})),e.d(t,"domClear",(function(){return vg})),e.d(t,"domCreate",(function(){return pg})),e.d(t,"domFind",(function(){return gg})),e.d(t,"font",(function(){return Qp})),e.d(t,"fontFamily",(function(){return Zp})),e.d(t,"fontSize",(function(){return Yp})),e.d(t,"intersect",(function(){return ym})),e.d(t,"intersectBoxLine",(function(){return Gd})),e.d(t,"intersectPath",(function(){return Ud})),e.d(t,"intersectPoint",(function(){return qd})),e.d(t,"intersectRule",(function(){return Wd})),e.d(t,"lineHeight",(function(){return Vp})),e.d(t,"markup",(function(){return Xg})),e.d(t,"multiLineOffset",(function(){return Xp})),e.d(t,"pathCurves",(function(){return xh})),e.d(t,"pathEqual",(function(){return Am})),e.d(t,"pathParse",(function(){return jh})),e.d(t,"pathRectangle",(function(){return Yh})),e.d(t,"pathRender",(function(){return Bh})),e.d(t,"pathSymbols",(function(){return Rh})),e.d(t,"pathTrail",(function(){return Vh})),e.d(t,"point",(function(){return yg})),e.d(t,"renderModule",(function(){return wm})),e.d(t,"resetSVGClipId",(function(){return sd})),e.d(t,"resetSVGDefIds",(function(){return Em})),e.d(t,"sceneEqual",(function(){return Om})),e.d(t,"sceneFromJSON",(function(){return fg})),e.d(t,"scenePickVisit",(function(){return rp})),e.d(t,"sceneToJSON",(function(){return cg})),e.d(t,"sceneVisit",(function(){return ep})),e.d(t,"sceneZOrder",(function(){return tp})),e.d(t,"serializeXML",(function(){return Kg})),e.d(t,"textMetrics",(function(){return Lp})),e.d(t,"interpolate",(function(){return Wf})),e.d(t,"interpolateColors",(function(){return Uf})),e.d(t,"interpolateRange",(function(){return Lf})),e.d(t,"quantizeInterpolator",(function(){return qf})),e.d(t,"scale",(function(){return Mf})),e.d(t,"scheme",(function(){return Jf})),e.d(t,"projection",(function(){return Ub})),e.d(t,"View",(function(){return jE})),e.d(t,"defaultLocale",(function(){return ui})),e.d(t,"formatLocale",(function(){return Zr})),e.d(t,"locale",(function(){return li})),e.d(t,"resetDefaultLocale",(function(){return ai})),e.d(t,"timeFormatLocale",(function(){return ri})),e.d(t,"expressionFunction",(function(){return DA})),e.d(t,"parse",(function(){return HD})),e.d(t,"runtimeContext",(function(){return IA})),e.d(t,"version",(function(){return WD}));var r={};e.r(r),e.d(r,"aggregate",(function(){return pu})),e.d(r,"bin",(function(){return gu})),e.d(r,"collect",(function(){return vu})),e.d(r,"compare",(function(){return wu})),e.d(r,"countpattern",(function(){return bu})),e.d(r,"cross",(function(){return xu})),e.d(r,"density",(function(){return ku})),e.d(r,"dotbin",(function(){return Su})),e.d(r,"expression",(function(){return Cu})),e.d(r,"extent",(function(){return Mu})),e.d(r,"facet",(function(){return Tu})),e.d(r,"field",(function(){return Nu})),e.d(r,"filter",(function(){return zu})),e.d(r,"flatten",(function(){return Pu})),e.d(r,"fold",(function(){return $u})),e.d(r,"formula",(function(){return Ru})),e.d(r,"generate",(function(){return Iu})),e.d(r,"impute",(function(){return qu})),e.d(r,"joinaggregate",(function(){return Hu})),e.d(r,"kde",(function(){return Wu})),e.d(r,"key",(function(){return Gu})),e.d(r,"load",(function(){return Vu})),e.d(r,"lookup",(function(){return Xu})),e.d(r,"multiextent",(function(){return Ku})),e.d(r,"multivalues",(function(){return Qu})),e.d(r,"params",(function(){return ta})),e.d(r,"pivot",(function(){return ea})),e.d(r,"prefacet",(function(){return ra})),e.d(r,"project",(function(){return ia})),e.d(r,"proxy",(function(){return la})),e.d(r,"quantile",(function(){return ua})),e.d(r,"relay",(function(){return aa})),e.d(r,"sample",(function(){return oa})),e.d(r,"sequence",(function(){return sa})),e.d(r,"sieve",(function(){return ca})),e.d(r,"subflow",(function(){return Fu})),e.d(r,"timeunit",(function(){return fa})),e.d(r,"tupleindex",(function(){return da})),e.d(r,"values",(function(){return pa})),e.d(r,"window",(function(){return ya}));var i={};e.r(i),e.d(i,"interpolate",(function(){return Gs})),e.d(i,"interpolateArray",(function(){return $s})),e.d(i,"interpolateBasis",(function(){return Os})),e.d(i,"interpolateBasisClosed",(function(){return As})),e.d(i,"interpolateDate",(function(){return Is})),e.d(i,"interpolateDiscrete",(function(){return Mc})),e.d(i,"interpolateHue",(function(){return Fc})),e.d(i,"interpolateNumber",(function(){return Ls})),e.d(i,"interpolateNumberArray",(function(){return zs})),e.d(i,"interpolateObject",(function(){return Us})),e.d(i,"interpolateRound",(function(){return Ys})),e.d(i,"interpolateString",(function(){return Ws})),e.d(i,"interpolateTransformCss",(function(){return Pc})),e.d(i,"interpolateTransformSvg",(function(){return $c})),e.d(i,"interpolateZoom",(function(){return Ic})),e.d(i,"interpolateRgb",(function(){return Fs})),e.d(i,"interpolateRgbBasis",(function(){return Ns})),e.d(i,"interpolateRgbBasisClosed",(function(){return Bs})),e.d(i,"interpolateHsl",(function(){return Uc})),e.d(i,"interpolateHslLong",(function(){return qc})),e.d(i,"interpolateLab",(function(){return rf})),e.d(i,"interpolateHcl",(function(){return uf})),e.d(i,"interpolateHclLong",(function(){return af})),e.d(i,"interpolateCubehelix",(function(){return vf})),e.d(i,"interpolateCubehelixLong",(function(){return wf})),e.d(i,"piecewise",(function(){return Ec})),e.d(i,"quantize",(function(){return yf}));var l={};e.r(l),e.d(l,"bound",(function(){return Tm})),e.d(l,"identifier",(function(){return Bm})),e.d(l,"mark",(function(){return zm})),e.d(l,"overlap",(function(){return Pm})),e.d(l,"render",(function(){return Hm})),e.d(l,"viewlayout",(function(){return fv}));var u={};e.r(u),e.d(u,"axisticks",(function(){return dv})),e.d(u,"datajoin",(function(){return pv})),e.d(u,"encode",(function(){return mv})),e.d(u,"legendentries",(function(){return vv})),e.d(u,"linkpath",(function(){return _v})),e.d(u,"pie",(function(){return Ev})),e.d(u,"scale",(function(){return Dv})),e.d(u,"sortitems",(function(){return Nv})),e.d(u,"stack",(function(){return zv}));var a={};e.r(a),e.d(a,"contour",(function(){return fx})),e.d(a,"geojson",(function(){return hx})),e.d(a,"geopath",(function(){return dx})),e.d(a,"geopoint",(function(){return px})),e.d(a,"geoshape",(function(){return gx})),e.d(a,"graticule",(function(){return mx})),e.d(a,"heatmap",(function(){return vx})),e.d(a,"isocontour",(function(){return tx})),e.d(a,"kde2d",(function(){return ox})),e.d(a,"projection",(function(){return yx}));var o={};e.r(o),e.d(o,"force",(function(){return h_}));var s={};e.r(s),e.d(s,"nest",(function(){return dk})),e.d(s,"pack",(function(){return yk})),e.d(s,"partition",(function(){return xk})),e.d(s,"stratify",(function(){return _k})),e.d(s,"tree",(function(){return Ok})),e.d(s,"treelinks",(function(){return Ak})),e.d(s,"treemap",(function(){return Ck}));var c={};e.r(c),e.d(c,"label",(function(){return Yk}));var f={};e.r(f),e.d(f,"loess",(function(){return Jk})),e.d(f,"regression",(function(){return Kk}));var h={};e.r(h),e.d(h,"voronoi",(function(){return yj}));var d={};e.r(d),e.d(d,"wordcloud",(function(){return Fj}));var p={};e.r(p),e.d(p,"crossfilter",(function(){return Rj})),e.d(p,"resolvefilter",(function(){return Ij}));var g=e(0);const m=/^([A-Za-z]+:)?\/\//,v=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,w=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;async function y(n,t){const e=await this.sanitize(n,t),r=e.href;return e.localFile?this.file(r):this.http(r,t)}async function b(n,t){t=Object(g.p)({},this.options,t);const e=this.fileAccess,r={href:null};let i,l,u;const a=v.test(n.replace(w,""));null!=n&&"string"==typeof n&&a||Object(g.o)("Sanitize failure, invalid URI: "+Object(g.bb)(n));const o=m.test(n);return(u=t.baseURL)&&!o&&(n.startsWith("/")||"/"===u[u.length-1]||(n="/"+n),n=u+n),l=(i=n.startsWith("file://"))||"file"===t.mode||"http"!==t.mode&&!o&&e,i?n=n.slice("file://".length):n.startsWith("//")&&("file"===t.defaultProtocol?(n=n.slice(2),l=!0):n=(t.defaultProtocol||"http")+":"+n),Object.defineProperty(r,"localFile",{value:!!l}),r.href=n,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function x(n){return n?t=>new Promise((e,r)=>{n.readFile(t,(n,t)=>{n?r(n):e(t)})}):_}async function _(){Object(g.o)("No file system access.")}function k(n){return n?async function(t,e){const r=Object(g.p)({},this.options.http,e),i=e&&e.response,l=await n(t,r);return l.ok?Object(g.E)(l[i])?l[i]():l.text():Object(g.o)(l.status+""+l.statusText)}:j}async function j(){Object(g.o)("No HTTP fetch method available.")}const O=n=>!(Number.isNaN(+n)||n instanceof Date),A={boolean:g.cb,integer:g.eb,number:g.eb,date:g.db,string:g.gb,unknown:g.y},E=[n=>"true"===n||"false"===n||!0===n||!1===n,n=>O(n)&&Number.isInteger(+n),O,n=>!Number.isNaN(Date.parse(n))],S=["boolean","integer","number","date"];function C(n,t){if(!n||!n.length)return"unknown";const e=n.length,r=E.length,i=E.map((n,t)=>t+1);for(let u,a,o=0,s=0;o<e;++o)for(a=t?n[o][t]:n[o],u=0;u<r;++u)if(i[u]&&(null!=(l=a)&&l==l)&&!E[u](a)&&(i[u]=0,++s,s===E.length))return"string";var l;return S[i.reduce((n,t)=>0===n?t:n,0)-1]}function D(n,t){return t.reduce((t,e)=>(t[e]=C(n,e),t),{})}var M={},F={};function T(n){return new Function("d","return {"+n.map((function(n,t){return JSON.stringify(n)+": d["+t+'] || ""'})).join(",")+"}")}function N(n){var t=Object.create(null),e=[];return n.forEach((function(n){for(var r in n)r in t||e.push(t[r]=r)})),e}function B(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function z(n){var t,e=n.getUTCHours(),r=n.getUTCMinutes(),i=n.getUTCSeconds(),l=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":((t=n.getUTCFullYear())<0?"-"+B(-t,6):t>9999?"+"+B(t,6):B(t,4))+"-"+B(n.getUTCMonth()+1,2)+"-"+B(n.getUTCDate(),2)+(l?"T"+B(e,2)+":"+B(r,2)+":"+B(i,2)+"."+B(l,3)+"Z":i?"T"+B(e,2)+":"+B(r,2)+":"+B(i,2)+"Z":r||e?"T"+B(e,2)+":"+B(r,2)+"Z":"")}var P=function(n){var t=new RegExp('["'+n+"\n\r]"),e=n.charCodeAt(0);function r(n,t){var r,i=[],l=n.length,u=0,a=0,o=l<=0,s=!1;function c(){if(o)return F;if(s)return s=!1,M;var t,r,i=u;if(34===n.charCodeAt(i)){for(;u++<l&&34!==n.charCodeAt(u)||34===n.charCodeAt(++u););return(t=u)>=l?o=!0:10===(r=n.charCodeAt(u++))?s=!0:13===r&&(s=!0,10===n.charCodeAt(u)&&++u),n.slice(i+1,t-1).replace(/""/g,'"')}for(;u<l;){if(10===(r=n.charCodeAt(t=u++)))s=!0;else if(13===r)s=!0,10===n.charCodeAt(u)&&++u;else if(r!==e)continue;return n.slice(i,t)}return o=!0,n.slice(i,l)}for(10===n.charCodeAt(l-1)&&--l,13===n.charCodeAt(l-1)&&--l;(r=c())!==F;){for(var f=[];r!==M&&r!==F;)f.push(r),r=c();t&&null==(f=t(f,a++))||i.push(f)}return i}function i(t,e){return t.map((function(t){return e.map((function(n){return u(t[n])})).join(n)}))}function l(t){return t.map(u).join(n)}function u(n){return null==n?"":n instanceof Date?z(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,t){var e,i,l=r(n,(function(n,r){if(e)return e(n,r-1);i=n,e=t?function(n,t){var e=T(n);return function(r,i){return t(e(r),i,n)}}(n,t):T(n)}));return l.columns=i||[],l},parseRows:r,format:function(t,e){return null==e&&(e=N(t)),[e.map(u).join(n)].concat(i(t,e)).join("\n")},formatBody:function(n,t){return null==t&&(t=N(n)),i(n,t).join("\n")},formatRows:function(n){return n.map(l).join("\n")},formatRow:l,formatValue:u}};function $(n){const t=function(t,e){const r={delimiter:n};return R(t,e?Object(g.p)(e,r):r)};return t.responseType="text",t}function R(n,t){return t.header&&(n=t.header.map(g.bb).join(t.delimiter)+"\n"+n),P(t.delimiter).parse(n+"")}R.responseType="text";var I=e(8),L=function(n){return n},U=function(n){if(null==n)return L;var t,e,r=n.scale[0],i=n.scale[1],l=n.translate[0],u=n.translate[1];return function(n,a){a||(t=e=0);var o=2,s=n.length,c=new Array(s);for(c[0]=(t+=n[0])*r+l,c[1]=(e+=n[1])*i+u;o<s;)c[o]=n[o],++o;return c}},q=function(n,t){return"string"==typeof t&&(t=n.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return H(n,t)}))}:H(n,t)};function H(n,t){var e=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,l=W(n,t);return null==e&&null==r?{type:"Feature",properties:i,geometry:l}:null==r?{type:"Feature",id:e,properties:i,geometry:l}:{type:"Feature",id:e,bbox:r,properties:i,geometry:l}}function W(n,t){var e=U(n.transform),r=n.arcs;function i(n,t){t.length&&t.pop();for(var i=r[n<0?~n:n],l=0,u=i.length;l<u;++l)t.push(e(i[l],l));n<0&&function(n,t){for(var e,r=n.length,i=r-t;i<--r;)e=n[i],n[i++]=n[r],n[r]=e}(t,u)}function l(n){return e(n)}function u(n){for(var t=[],e=0,r=n.length;e<r;++e)i(n[e],t);return t.length<2&&t.push(t[0]),t}function a(n){for(var t=u(n);t.length<4;)t.push(t[0]);return t}function o(n){return n.map(a)}return function n(t){var e,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(n)};case"Point":e=l(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(l);break;case"LineString":e=u(t.arcs);break;case"MultiLineString":e=t.arcs.map(u);break;case"Polygon":e=o(t.arcs);break;case"MultiPolygon":e=t.arcs.map(o);break;default:return null}return{type:r,coordinates:e}}(t)}var G=function(n,t){var e={},r={},i={},l=[],u=-1;function a(n,t){for(var r in n){var i=n[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(n){e[n<0?~n:n]=1})),l.push(i)}}return t.forEach((function(e,r){var i,l=n.arcs[e<0?~e:e];l.length<3&&!l[1][0]&&!l[1][1]&&(i=t[++u],t[u]=e,t[r]=i)})),t.forEach((function(t){var e,l,u=function(t){var e,r=n.arcs[t<0?~t:t],i=r[0];n.transform?(e=[0,0],r.forEach((function(n){e[0]+=n[0],e[1]+=n[1]}))):e=r[r.length-1];return t<0?[e,i]:[i,e]}(t),a=u[0],o=u[1];if(e=i[a])if(delete i[e.end],e.push(t),e.end=o,l=r[o]){delete r[l.start];var s=l===e?e:e.concat(l);r[s.start=e.start]=i[s.end=l.end]=s}else r[e.start]=i[e.end]=e;else if(e=r[o])if(delete r[e.start],e.unshift(t),e.start=a,l=i[a]){delete i[l.end];var c=l===e?e:l.concat(e);r[c.start=l.start]=i[c.end=e.end]=c}else r[e.start]=i[e.end]=e;else r[(e=[t]).start=a]=i[e.end=o]=e})),a(i,r),a(r,i),t.forEach((function(n){e[n<0?~n:n]||l.push([n])})),l},Y=function(n){return W(n,V.apply(this,arguments))};function V(n,t,e){var r,i,l;if(arguments.length>1)r=J(n,t,e);else for(i=0,r=new Array(l=n.arcs.length);i<l;++i)r[i]=i;return{type:"MultiLineString",arcs:G(n,r)}}function J(n,t,e){var r,i=[],l=[];function u(n){var t=n<0?~n:n;(l[t]||(l[t]=[])).push({i:n,g:r})}function a(n){n.forEach(u)}function o(n){n.forEach(a)}return function n(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"LineString":a(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":!function(n){n.forEach(o)}(t.arcs)}}(t),l.forEach(null==e?function(n){i.push(n[0].i)}:function(n){e(n[0].g,n[n.length-1].g)&&i.push(n[0].i)}),i}const X={interior:(n,t)=>n!==t,exterior:(n,t)=>n===t};function K(n,t){let e,r,i,l;return n=Object(I.a)(n,t),t&&t.feature?(e=q,i=t.feature):t&&t.mesh?(e=Y,i=t.mesh,l=X[t.filter]):Object(g.o)("Missing TopoJSON feature or mesh parameter."),r=(r=n.objects[i])?e(n,r,l):Object(g.o)("Invalid TopoJSON object: "+i),r&&r.features||[r]}K.responseType="json";const Z={dsv:R,csv:$(","),tsv:$("\t"),json:I.a,topojson:K};function Q(n,t){return arguments.length>1?(Z[n]=t,this):Object(g.w)(Z,n)?Z[n]:null}function nn(n){const t=Q(n);return t&&t.responseType||"text"}var tn=Math.sqrt(50),en=Math.sqrt(10),rn=Math.sqrt(2),ln=function(n,t,e){var r,i,l,u,a=-1;if(e=+e,(n=+n)===(t=+t)&&e>0)return[n];if((r=t<n)&&(i=n,n=t,t=i),0===(u=un(n,t,e))||!isFinite(u))return[];if(u>0)for(n=Math.ceil(n/u),t=Math.floor(t/u),l=new Array(i=Math.ceil(t-n+1));++a<i;)l[a]=(n+a)*u;else for(u=-u,n=Math.ceil(n*u),t=Math.floor(t*u),l=new Array(i=Math.ceil(t-n+1));++a<i;)l[a]=(n+a)/u;return r&&l.reverse(),l};function un(n,t,e){var r=(t-n)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,i);return i>=0?(l>=tn?10:l>=en?5:l>=rn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=tn?10:l>=en?5:l>=rn?2:1)}function an(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/i;return l>=tn?i*=10:l>=en?i*=5:l>=rn&&(i*=2),t<n?-i:i}var on=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sn(n){if(!(t=on.exec(n)))throw new Error("invalid format: "+n);var t;return new cn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function cn(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}sn.prototype=cn.prototype,cn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function fn(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}var hn,dn,pn,gn,mn=function(n){return(n=fn(Math.abs(n)))?n[1]:NaN},vn=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mn(t)/3)))-mn(Math.abs(n)))},wn=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,mn(t)-mn(n))+1},yn=function(n){return Math.max(0,-mn(Math.abs(n)))},bn=function(n,t){var e=fn(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},xn={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>bn(100*n,t),r:bn,s:function(n,t){var e=fn(n,t);if(!e)return n+"";var r=e[0],i=e[1],l=i-(hn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return l===u?r:l>u?r+new Array(l-u+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+fn(n,Math.max(0,t+l-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)},_n=function(n){return n},kn=Array.prototype.map,jn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],On=function(n){var t,e,r=void 0===n.grouping||void 0===n.thousands?_n:(t=kn.call(n.grouping,Number),e=n.thousands+"",function(n,r){for(var i=n.length,l=[],u=0,a=t[0],o=0;i>0&&a>0&&(o+a+1>r&&(a=Math.max(1,r-o)),l.push(n.substring(i-=a,i+a)),!((o+=a+1)>r));)a=t[u=(u+1)%t.length];return l.reverse().join(e)}),i=void 0===n.currency?"":n.currency[0]+"",l=void 0===n.currency?"":n.currency[1]+"",u=void 0===n.decimal?".":n.decimal+"",a=void 0===n.numerals?_n:function(n){return function(t){return t.replace(/[0-9]/g,(function(t){return n[+t]}))}}(kn.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",s=void 0===n.minus?"−":n.minus+"",c=void 0===n.nan?"NaN":n.nan+"";function f(n){var t=(n=sn(n)).fill,e=n.align,f=n.sign,h=n.symbol,d=n.zero,p=n.width,g=n.comma,m=n.precision,v=n.trim,w=n.type;"n"===w?(g=!0,w="g"):xn[w]||(void 0===m&&(m=12),v=!0,w="g"),(d||"0"===t&&"="===e)&&(d=!0,t="0",e="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",b="$"===h?l:/[%p]/.test(w)?o:"",x=xn[w],_=/[defgprs%]/.test(w);function k(n){var i,l,o,h=y,k=b;if("c"===w)k=x(n)+k,n="";else{var j=(n=+n)<0||1/n<0;if(n=isNaN(n)?c:x(Math.abs(n),m),v&&(n=function(n){n:for(var t,e=n.length,r=1,i=-1;r<e;++r)switch(n[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+n[r])break n;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(t+1):n}(n)),j&&0==+n&&"+"!==f&&(j=!1),h=(j?"("===f?f:s:"-"===f||"("===f?"":f)+h,k=("s"===w?jn[8+hn/3]:"")+k+(j&&"("===f?")":""),_)for(i=-1,l=n.length;++i<l;)if(48>(o=n.charCodeAt(i))||o>57){k=(46===o?u+n.slice(i+1):n.slice(i))+k,n=n.slice(0,i);break}}g&&!d&&(n=r(n,1/0));var O=h.length+n.length+k.length,A=O<p?new Array(p-O+1).join(t):"";switch(g&&d&&(n=r(A+n,A.length?p-k.length:1/0),A=""),e){case"<":n=h+n+k+A;break;case"=":n=h+A+n+k;break;case"^":n=A.slice(0,O=A.length>>1)+h+n+k+A.slice(O);break;default:n=A+h+n+k}return a(n)}return m=void 0===m?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return n+""},k}return{format:f,formatPrefix:function(n,t){var e=f(((n=sn(n)).type="f",n)),r=3*Math.max(-8,Math.min(8,Math.floor(mn(t)/3))),i=Math.pow(10,-r),l=jn[8+r/3];return function(n){return e(i*n)+l}}}};dn=On({thousands:",",grouping:[3],currency:["$",""]}),pn=dn.format,gn=dn.formatPrefix;var An=new Date,En=new Date;function Sn(n,t,e,r){function i(t){return n(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return n(t=new Date(+t)),t},i.ceil=function(e){return n(e=new Date(e-1)),t(e,1),n(e),e},i.round=function(n){var t=i(n),e=i.ceil(n);return n-t<e-n?t:e},i.offset=function(n,e){return t(n=new Date(+n),null==e?1:Math.floor(e)),n},i.range=function(e,r,l){var u,a=[];if(e=i.ceil(e),l=null==l?1:Math.floor(l),!(e<r&&l>0))return a;do{a.push(u=new Date(+e)),t(e,l),n(e)}while(u<e&&e<r);return a},i.filter=function(e){return Sn((function(t){if(t>=t)for(;n(t),!e(t);)t.setTime(t-1)}),(function(n,r){if(n>=n)if(r<0)for(;++r<=0;)for(;t(n,-1),!e(n););else for(;--r>=0;)for(;t(n,1),!e(n););}))},e&&(i.count=function(t,r){return An.setTime(+t),En.setTime(+r),n(An),n(En),Math.floor(e(An,En))},i.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?i.filter(r?function(t){return r(t)%n==0}:function(t){return i.count(0,t)%n==0}):i:null}),i}var Cn=Sn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5,n=>n.getDate()-1),Dn=Cn;Cn.range;function Mn(n){return Sn((function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)}),(function(n,t){n.setDate(n.getDate()+7*t)}),(function(n,t){return(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/6048e5}))}var Fn=Mn(0),Tn=Mn(1),Nn=Mn(2),Bn=Mn(3),zn=Mn(4),Pn=Mn(5),$n=Mn(6),Rn=(Fn.range,Tn.range,Nn.range,Bn.range,zn.range,Pn.range,$n.range,Sn((function(n){n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCDate(n.getUTCDate()+t)}),(function(n,t){return(t-n)/864e5}),(function(n){return n.getUTCDate()-1}))),In=Rn;Rn.range;function Ln(n){return Sn((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCDate(n.getUTCDate()+7*t)}),(function(n,t){return(t-n)/6048e5}))}var Un=Ln(0),qn=Ln(1),Hn=Ln(2),Wn=Ln(3),Gn=Ln(4),Yn=Ln(5),Vn=Ln(6),Jn=(Un.range,qn.range,Hn.range,Wn.range,Gn.range,Yn.range,Vn.range,Sn((function(n){n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,t){n.setFullYear(n.getFullYear()+t)}),(function(n,t){return t.getFullYear()-n.getFullYear()}),(function(n){return n.getFullYear()})));Jn.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Sn((function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e*n)})):null};var Xn=Jn,Kn=(Jn.range,Sn((function(n){n.setDate(1),n.setHours(0,0,0,0)}),(function(n,t){n.setMonth(n.getMonth()+t)}),(function(n,t){return t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear())}),(function(n){return n.getMonth()}))),Zn=Kn,Qn=(Kn.range,Sn((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds()-6e4*n.getMinutes())}),(function(n,t){n.setTime(+n+36e5*t)}),(function(n,t){return(t-n)/36e5}),(function(n){return n.getHours()}))),nt=Qn,tt=(Qn.range,Sn((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds())}),(function(n,t){n.setTime(+n+6e4*t)}),(function(n,t){return(t-n)/6e4}),(function(n){return n.getMinutes()}))),et=tt,rt=(tt.range,Sn((function(n){n.setTime(n-n.getMilliseconds())}),(function(n,t){n.setTime(+n+1e3*t)}),(function(n,t){return(t-n)/1e3}),(function(n){return n.getUTCSeconds()}))),it=rt,lt=(rt.range,Sn((function(){}),(function(n,t){n.setTime(+n+t)}),(function(n,t){return t-n})));lt.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Sn((function(t){t.setTime(Math.floor(t/n)*n)}),(function(t,e){t.setTime(+t+e*n)}),(function(t,e){return(e-t)/n})):lt:null};var ut=lt,at=(lt.range,Sn((function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)}),(function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()}),(function(n){return n.getUTCFullYear()})));at.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Sn((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)})):null};var ot=at,st=(at.range,Sn((function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCMonth(n.getUTCMonth()+t)}),(function(n,t){return t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear())}),(function(n){return n.getUTCMonth()}))),ct=st,ft=(st.range,Sn((function(n){n.setUTCMinutes(0,0,0)}),(function(n,t){n.setTime(+n+36e5*t)}),(function(n,t){return(t-n)/36e5}),(function(n){return n.getUTCHours()}))),ht=ft,dt=(ft.range,Sn((function(n){n.setUTCSeconds(0,0)}),(function(n,t){n.setTime(+n+6e4*t)}),(function(n,t){return(t-n)/6e4}),(function(n){return n.getUTCMinutes()}))),pt=dt,gt=(dt.range,function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}),mt=function(n){let t=n,e=n;function r(n,t,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){const l=r+i>>>1;e(n[l],t)<0?r=l+1:i=l}return r}return 1===n.length&&(t=(t,e)=>n(t)-e,e=function(n){return(t,e)=>gt(n(t),e)}(n)),{left:r,center:function(n,e,i,l){null==i&&(i=0),null==l&&(l=n.length);const u=r(n,e,i,l-1);return u>i&&t(n[u-1],e)>-t(n[u],e)?u-1:u},right:function(n,t,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){const l=r+i>>>1;e(n[l],t)>0?i=l:r=l+1}return r}}};const vt="year",wt="quarter",yt="month",bt="week",xt="date",_t="day",kt="dayofyear",jt="hours",Ot="minutes",At="seconds",Et="milliseconds",St=[vt,wt,yt,bt,xt,_t,kt,jt,Ot,At,Et],Ct=St.reduce((n,t,e)=>(n[t]=1+e,n),{});function Dt(n){const t=Object(g.i)(n).slice(),e={};t.length||Object(g.o)("Missing time unit."),t.forEach(n=>{Object(g.w)(Ct,n)?e[n]=1:Object(g.o)("Invalid time unit: ".concat(n,"."))});return(e[bt]||e[_t]?1:0)+(e[wt]||e[yt]||e[xt]?1:0)+(e[kt]?1:0)>1&&Object(g.o)("Incompatible time units: ".concat(n)),t.sort((n,t)=>Ct[n]-Ct[t]),t}const Mt={[vt]:"%Y ",[wt]:"Q%q ",[yt]:"%b ",[xt]:"%d ",[bt]:"W%U ",[_t]:"%a ",[kt]:"%j ",[jt]:"%H:00",[Ot]:"00:%M",[At]:":%S",[Et]:".%L",["".concat(vt,"-").concat(yt)]:"%Y-%m ",["".concat(vt,"-").concat(yt,"-").concat(xt)]:"%Y-%m-%d ",["".concat(jt,"-").concat(Ot)]:"%H:%M"};function Ft(n,t){const e=Object(g.p)({},Mt,t),r=Dt(n),i=r.length;let l,u,a="",o=0;for(o=0;o<i;)for(l=r.length;l>o;--l)if(u=r.slice(o,l).join("-"),null!=e[u]){a+=e[u],o=l;break}return a.trim()}const Tt=new Date;function Nt(n){return Tt.setFullYear(n),Tt.setMonth(0),Tt.setDate(1),Tt.setHours(0,0,0,0),Tt}function Bt(n){return Pt(new Date(n))}function zt(n){return $t(new Date(n))}function Pt(n){return Dn.count(Nt(n.getFullYear())-1,n)}function $t(n){return Fn.count(Nt(n.getFullYear())-1,n)}function Rt(n){return Nt(n).getDay()}function It(n,t,e,r,i,l,u){if(0<=n&&n<100){const a=new Date(-1,t,e,r,i,l,u);return a.setFullYear(n),a}return new Date(n,t,e,r,i,l,u)}function Lt(n){return qt(new Date(n))}function Ut(n){return Ht(new Date(n))}function qt(n){const t=Date.UTC(n.getUTCFullYear(),0,1);return In.count(t-1,n)}function Ht(n){const t=Date.UTC(n.getUTCFullYear(),0,1);return Un.count(t-1,n)}function Wt(n){return Tt.setTime(Date.UTC(n,0,1)),Tt.getUTCDay()}function Gt(n,t,e,r,i,l,u){if(0<=n&&n<100){const n=new Date(Date.UTC(-1,t,e,r,i,l,u));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(n,t,e,r,i,l,u))}function Yt(n,t,e,r,i){const l=t||1,u=Object(g.W)(n),a=(n,t,i)=>function(n,t,e,r){const i=e<=1?n:r?(t,i)=>r+e*Math.floor((n(t,i)-r)/e):(t,r)=>e*Math.floor(n(t,r)/e);return t?(n,e)=>t(i(n,e),e):i}(e[i=i||n],r[i],n===u&&l,t),o=new Date,s=Object(g.fb)(n),c=s[vt]?a(vt):Object(g.m)(2012),f=s[yt]?a(yt):s[wt]?a(wt):g.mb,h=s[bt]&&s[_t]?a(_t,1,bt+_t):s[bt]?a(bt,1):s[_t]?a(_t,1):s[xt]?a(xt,1):s[kt]?a(kt,1):g.Q,d=s[jt]?a(jt):g.mb,p=s[Ot]?a(Ot):g.mb,m=s[At]?a(At):g.mb,v=s[Et]?a(Et):g.mb;return function(n){o.setTime(+n);const t=c(o);return i(t,f(o),h(o,t),d(o),p(o),m(o),v(o))}}function Vt(n,t,e){return t+7*n-(e+6)%7}const Jt={[vt]:n=>n.getFullYear(),[wt]:n=>Math.floor(n.getMonth()/3),[yt]:n=>n.getMonth(),[xt]:n=>n.getDate(),[jt]:n=>n.getHours(),[Ot]:n=>n.getMinutes(),[At]:n=>n.getSeconds(),[Et]:n=>n.getMilliseconds(),[kt]:n=>Pt(n),[bt]:n=>$t(n),[bt+_t]:(n,t)=>Vt($t(n),n.getDay(),Rt(t)),[_t]:(n,t)=>Vt(1,n.getDay(),Rt(t))},Xt={[wt]:n=>3*n,[bt]:(n,t)=>Vt(n,0,Rt(t))};function Kt(n,t){return Yt(n,t||1,Jt,Xt,It)}const Zt={[vt]:n=>n.getUTCFullYear(),[wt]:n=>Math.floor(n.getUTCMonth()/3),[yt]:n=>n.getUTCMonth(),[xt]:n=>n.getUTCDate(),[jt]:n=>n.getUTCHours(),[Ot]:n=>n.getUTCMinutes(),[At]:n=>n.getUTCSeconds(),[Et]:n=>n.getUTCMilliseconds(),[kt]:n=>qt(n),[bt]:n=>Ht(n),[_t]:(n,t)=>Vt(1,n.getUTCDay(),Wt(t)),[bt+_t]:(n,t)=>Vt(Ht(n),n.getUTCDay(),Wt(t))},Qt={[wt]:n=>3*n,[bt]:(n,t)=>Vt(n,0,Wt(t))};function ne(n,t){return Yt(n,t||1,Zt,Qt,Gt)}const te={[vt]:Xn,[wt]:Zn.every(3),[yt]:Zn,[bt]:Fn,[xt]:Dn,[_t]:Dn,[kt]:Dn,[jt]:nt,[Ot]:et,[At]:it,[Et]:ut},ee={[vt]:ot,[wt]:ct.every(3),[yt]:ct,[bt]:Un,[xt]:In,[_t]:In,[kt]:In,[jt]:ht,[Ot]:pt,[At]:it,[Et]:ut};function re(n){return te[n]}function ie(n){return ee[n]}function le(n,t,e){return n?n.offset(t,e):void 0}function ue(n,t,e){return le(re(n),t,e)}function ae(n,t,e){return le(ie(n),t,e)}function oe(n,t,e,r){return n?n.range(t,e,r):void 0}function se(n,t,e,r){return oe(re(n),t,e,r)}function ce(n,t,e,r){return oe(ie(n),t,e,r)}const fe=[vt,yt,xt,jt,Ot,At,Et],he=fe.slice(0,-1),de=he.slice(0,-1),pe=de.slice(0,-1),ge=pe.slice(0,-1),me=[vt,yt],ve=[vt],we=[[he,1,1e3],[he,5,5e3],[he,15,15e3],[he,30,3e4],[de,1,6e4],[de,5,3e5],[de,15,9e5],[de,30,18e5],[pe,1,36e5],[pe,3,108e5],[pe,6,216e5],[pe,12,432e5],[ge,1,864e5],[[vt,bt],1,6048e5],[me,1,2592e6],[me,3,7776e6],[ve,1,31536e6]];function ye(n){const t=n.extent,e=n.maxbins||40,r=Math.abs(Object(g.Z)(t))/e;let i,l,u=mt(n=>n[2]).right(we,r);return u===we.length?(i=ve,l=an(t[0]/31536e6,t[1]/31536e6,e)):u?(u=we[r/we[u-1][2]<we[u][2]/r?u-1:u],i=u[0],l=u[1]):(i=fe,l=Math.max(an(t[0],t[1],e),1)),{units:i,step:l}}function be(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function xe(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function _e(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function ke(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,l=n.days,u=n.shortDays,a=n.months,o=n.shortMonths,s=Be(i),c=ze(i),f=Be(l),h=ze(l),d=Be(u),p=ze(u),g=Be(a),m=ze(a),v=Be(o),w=ze(o),y={a:function(n){return u[n.getDay()]},A:function(n){return l[n.getDay()]},b:function(n){return o[n.getMonth()]},B:function(n){return a[n.getMonth()]},c:null,d:rr,e:rr,f:or,g:yr,G:xr,H:ir,I:lr,j:ur,L:ar,m:sr,M:cr,p:function(n){return i[+(n.getHours()>=12)]},q:function(n){return 1+~~(n.getMonth()/3)},Q:Hr,s:Wr,S:fr,u:hr,U:dr,V:gr,w:mr,W:vr,x:null,X:null,y:wr,Y:br,Z:_r,"%":qr},b={a:function(n){return u[n.getUTCDay()]},A:function(n){return l[n.getUTCDay()]},b:function(n){return o[n.getUTCMonth()]},B:function(n){return a[n.getUTCMonth()]},c:null,d:kr,e:kr,f:Sr,g:Rr,G:Lr,H:jr,I:Or,j:Ar,L:Er,m:Cr,M:Dr,p:function(n){return i[+(n.getUTCHours()>=12)]},q:function(n){return 1+~~(n.getUTCMonth()/3)},Q:Hr,s:Wr,S:Mr,u:Fr,U:Tr,V:Br,w:zr,W:Pr,x:null,X:null,y:$r,Y:Ir,Z:Ur,"%":qr},x={a:function(n,t,e){var r=d.exec(t.slice(e));return r?(n.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(n,t,e){var r=f.exec(t.slice(e));return r?(n.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(n,t,e){var r=v.exec(t.slice(e));return r?(n.m=w.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(n,t,e){var r=g.exec(t.slice(e));return r?(n.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(n,e,r){return j(n,t,e,r)},d:Ye,e:Ye,f:Qe,g:qe,G:Ue,H:Je,I:Je,j:Ve,L:Ze,m:Ge,M:Xe,p:function(n,t,e){var r=s.exec(t.slice(e));return r?(n.p=c.get(r[0].toLowerCase()),e+r[0].length):-1},q:We,Q:tr,s:er,S:Ke,u:$e,U:Re,V:Ie,w:Pe,W:Le,x:function(n,t,r){return j(n,e,t,r)},X:function(n,t,e){return j(n,r,t,e)},y:qe,Y:Ue,Z:He,"%":nr};function _(n,t){return function(e){var r,i,l,u=[],a=-1,o=0,s=n.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===n.charCodeAt(a)&&(u.push(n.slice(o,a)),null!=(i=Ce[r=n.charAt(++a)])?r=n.charAt(++a):i="e"===r?" ":"0",(l=t[r])&&(r=l(e,i)),u.push(r),o=a+1);return u.push(n.slice(o,a)),u.join("")}}function k(n,t){return function(e){var r,i,l=_e(1900,void 0,1);if(j(l,n,e+="",0)!=e.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(t&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(i=(r=xe(_e(l.y,0,1))).getUTCDay(),r=i>4||0===i?qn.ceil(r):qn(r),r=In.offset(r,7*(l.V-1)),l.y=r.getUTCFullYear(),l.m=r.getUTCMonth(),l.d=r.getUTCDate()+(l.w+6)%7):(i=(r=be(_e(l.y,0,1))).getDay(),r=i>4||0===i?Tn.ceil(r):Tn(r),r=Dn.offset(r,7*(l.V-1)),l.y=r.getFullYear(),l.m=r.getMonth(),l.d=r.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),i="Z"in l?xe(_e(l.y,0,1)).getUTCDay():be(_e(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(i+5)%7:l.w+7*l.U-(i+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,xe(l)):be(l)}}function j(n,t,e,r){for(var i,l,u=0,a=t.length,o=e.length;u<a;){if(r>=o)return-1;if(37===(i=t.charCodeAt(u++))){if(i=t.charAt(u++),!(l=x[i in Ce?t.charAt(u++):i])||(r=l(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return y.x=_(e,y),y.X=_(r,y),y.c=_(t,y),b.x=_(e,b),b.X=_(r,b),b.c=_(t,b),{format:function(n){var t=_(n+="",y);return t.toString=function(){return n},t},parse:function(n){var t=k(n+="",!1);return t.toString=function(){return n},t},utcFormat:function(n){var t=_(n+="",b);return t.toString=function(){return n},t},utcParse:function(n){var t=k(n+="",!0);return t.toString=function(){return n},t}}}var je,Oe,Ae,Ee,Se,Ce={"-":"",_:" ",0:"0"},De=/^\s*\d+/,Me=/^%/,Fe=/[\\^$*+?|[\]().{}]/g;function Te(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",l=i.length;return r+(l<e?new Array(e-l+1).join(t)+i:i)}function Ne(n){return n.replace(Fe,"\\$&")}function Be(n){return new RegExp("^(?:"+n.map(Ne).join("|")+")","i")}function ze(n){return new Map(n.map((n,t)=>[n.toLowerCase(),t]))}function Pe(n,t,e){var r=De.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function $e(n,t,e){var r=De.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function Re(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function Ie(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function Le(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function Ue(n,t,e){var r=De.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function qe(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function He(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function We(n,t,e){var r=De.exec(t.slice(e,e+1));return r?(n.q=3*r[0]-3,e+r[0].length):-1}function Ge(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Ye(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function Ve(n,t,e){var r=De.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function Je(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Xe(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Ke(n,t,e){var r=De.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function Ze(n,t,e){var r=De.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Qe(n,t,e){var r=De.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function nr(n,t,e){var r=Me.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function tr(n,t,e){var r=De.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function er(n,t,e){var r=De.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function rr(n,t){return Te(n.getDate(),t,2)}function ir(n,t){return Te(n.getHours(),t,2)}function lr(n,t){return Te(n.getHours()%12||12,t,2)}function ur(n,t){return Te(1+Dn.count(Xn(n),n),t,3)}function ar(n,t){return Te(n.getMilliseconds(),t,3)}function or(n,t){return ar(n,t)+"000"}function sr(n,t){return Te(n.getMonth()+1,t,2)}function cr(n,t){return Te(n.getMinutes(),t,2)}function fr(n,t){return Te(n.getSeconds(),t,2)}function hr(n){var t=n.getDay();return 0===t?7:t}function dr(n,t){return Te(Fn.count(Xn(n)-1,n),t,2)}function pr(n){var t=n.getDay();return t>=4||0===t?zn(n):zn.ceil(n)}function gr(n,t){return n=pr(n),Te(zn.count(Xn(n),n)+(4===Xn(n).getDay()),t,2)}function mr(n){return n.getDay()}function vr(n,t){return Te(Tn.count(Xn(n)-1,n),t,2)}function wr(n,t){return Te(n.getFullYear()%100,t,2)}function yr(n,t){return Te((n=pr(n)).getFullYear()%100,t,2)}function br(n,t){return Te(n.getFullYear()%1e4,t,4)}function xr(n,t){var e=n.getDay();return Te((n=e>=4||0===e?zn(n):zn.ceil(n)).getFullYear()%1e4,t,4)}function _r(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Te(t/60|0,"0",2)+Te(t%60,"0",2)}function kr(n,t){return Te(n.getUTCDate(),t,2)}function jr(n,t){return Te(n.getUTCHours(),t,2)}function Or(n,t){return Te(n.getUTCHours()%12||12,t,2)}function Ar(n,t){return Te(1+In.count(ot(n),n),t,3)}function Er(n,t){return Te(n.getUTCMilliseconds(),t,3)}function Sr(n,t){return Er(n,t)+"000"}function Cr(n,t){return Te(n.getUTCMonth()+1,t,2)}function Dr(n,t){return Te(n.getUTCMinutes(),t,2)}function Mr(n,t){return Te(n.getUTCSeconds(),t,2)}function Fr(n){var t=n.getUTCDay();return 0===t?7:t}function Tr(n,t){return Te(Un.count(ot(n)-1,n),t,2)}function Nr(n){var t=n.getUTCDay();return t>=4||0===t?Gn(n):Gn.ceil(n)}function Br(n,t){return n=Nr(n),Te(Gn.count(ot(n),n)+(4===ot(n).getUTCDay()),t,2)}function zr(n){return n.getUTCDay()}function Pr(n,t){return Te(qn.count(ot(n)-1,n),t,2)}function $r(n,t){return Te(n.getUTCFullYear()%100,t,2)}function Rr(n,t){return Te((n=Nr(n)).getUTCFullYear()%100,t,2)}function Ir(n,t){return Te(n.getUTCFullYear()%1e4,t,4)}function Lr(n,t){var e=n.getUTCDay();return Te((n=e>=4||0===e?Gn(n):Gn.ceil(n)).getUTCFullYear()%1e4,t,4)}function Ur(){return"+0000"}function qr(){return"%"}function Hr(n){return+n}function Wr(n){return Math.floor(+n/1e3)}function Gr(n){const t={};return e=>t[e]||(t[e]=n(e))}function Yr(n){const t=Gr(n.format),e=n.formatPrefix;return{format:t,formatPrefix:e,formatFloat(n){const e=sn(n||",");if(null==e.precision){switch(e.precision=12,e.type){case"%":e.precision-=2;break;case"e":e.precision-=1}return r=t(e),i=t(".1f")(1)[1],n=>{const t=r(n),e=t.indexOf(i);if(e<0)return t;let l=function(n,t){let e,r=n.lastIndexOf("e");if(r>0)return r;for(r=n.length;--r>t;)if(e=n.charCodeAt(r),e>=48&&e<=57)return r+1}(t,e);const u=l<t.length?t.slice(l):"";for(;--l>e;)if("0"!==t[l]){++l;break}return t.slice(0,l)+u}}return t(e);var r,i},formatSpan(n,r,i,l){l=sn(null==l?",f":l);const u=an(n,r,i),a=Math.max(Math.abs(n),Math.abs(r));let o;if(null==l.precision)switch(l.type){case"s":return isNaN(o=vn(u,a))||(l.precision=o),e(l,a);case"":case"e":case"g":case"p":case"r":isNaN(o=wn(u,a))||(l.precision=o-("e"===l.type));break;case"f":case"%":isNaN(o=yn(u))||(l.precision=o-2*("%"===l.type))}return t(l)}}}let Vr,Jr;function Xr(){return Vr=Yr({format:pn,formatPrefix:gn})}function Kr(n){return Yr(On(n))}function Zr(n){return arguments.length?Vr=Kr(n):Vr}function Qr(n,t,e){e=e||{},Object(g.H)(e)||Object(g.o)("Invalid time multi-format specifier: ".concat(e));const r=t(At),i=t(Ot),l=t(jt),u=t(xt),a=t(bt),o=t(yt),s=t(wt),c=t(vt),f=n(e[Et]||".%L"),h=n(e[At]||":%S"),d=n(e[Ot]||"%I:%M"),p=n(e[jt]||"%I %p"),m=n(e[xt]||e[_t]||"%a %d"),v=n(e[bt]||"%b %d"),w=n(e[yt]||"%B"),y=n(e[wt]||"%B"),b=n(e[vt]||"%Y");return n=>(r(n)<n?f:i(n)<n?h:l(n)<n?d:u(n)<n?p:o(n)<n?a(n)<n?m:v:c(n)<n?s(n)<n?w:y:b)(n)}function ni(n){const t=Gr(n.format),e=Gr(n.utcFormat);return{timeFormat:n=>Object(g.J)(n)?t(n):Qr(t,re,n),utcFormat:n=>Object(g.J)(n)?e(n):Qr(e,ie,n),timeParse:Gr(n.parse),utcParse:Gr(n.utcParse)}}function ti(){return Jr=ni({format:Oe,parse:Ae,utcFormat:Ee,utcParse:Se})}function ei(n){return ni(ke(n))}function ri(n){return arguments.length?Jr=ei(n):Jr}!function(n){je=ke(n),Oe=je.format,Ae=je.parse,Ee=je.utcFormat,Se=je.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Xr(),ti();const ii=(n,t)=>Object(g.p)({},n,t);function li(n,t){const e=n?Kr(n):Zr(),r=t?ei(t):ri();return ii(e,r)}function ui(n,t){const e=arguments.length;return e&&2!==e&&Object(g.o)("defaultLocale expects either zero or two arguments."),e?ii(Zr(n),ri(t)):ii(Zr(),ri())}function ai(){return Xr(),ti(),ui()}var oi=function(n,t,e,r){const i=Q((t=t||{}).type||"json");return i||Object(g.o)("Unknown data format type: "+t.type),n=i(n,t),t.parse&&function(n,t,e,r){if(!n.length)return;const i=ri();e=e||i.timeParse,r=r||i.utcParse;let l,u,a,o,s,c,f=n.columns||Object.keys(n[0]);"auto"===t&&(t=D(n,f));f=Object.keys(t);const h=f.map(n=>{const i=t[n];let l,u;if(i&&(i.startsWith("date:")||i.startsWith("utc:"))){l=i.split(/:(.+)?/,2),u=l[1],("'"===u[0]&&"'"===u[u.length-1]||'"'===u[0]&&'"'===u[u.length-1])&&(u=u.slice(1,-1));return("utc"===l[0]?r:e)(u)}if(!A[i])throw Error("Illegal format pattern: "+n+":"+i);return A[i]});for(a=0,s=n.length,c=f.length;a<s;++a)for(l=n[a],o=0;o<c;++o)u=f[o],l[u]=h[o](l[u])}(n,t.parse,e,r),Object(g.w)(n,"columns")&&delete n.columns,n};const si=function(n,t){return e=>({options:e||{},sanitize:b,load:y,fileAccess:!!t,file:x(t),http:k(n)})}("undefined"!=typeof fetch&&fetch,null);function ci(n){const t=n||g.y,e=[],r={};return e.add=n=>{const i=t(n);return r[i]||(r[i]=1,e.push(n)),e},e.remove=n=>{const i=t(n);if(r[i]){r[i]=0;const t=e.indexOf(n);t>=0&&e.splice(t,1)}return e},e}async function fi(n,t){try{await t(n)}catch(t){n.error(t)}}const hi=Symbol("vega_id");let di=1;function pi(n){return!(!n||!gi(n))}function gi(n){return n[hi]}function mi(n,t){return n[hi]=t,n}function vi(n){const t=n===Object(n)?n:{data:n};return gi(t)?t:mi(t,di++)}function wi(n){return yi(n,vi({}))}function yi(n,t){for(const e in n)t[e]=n[e];return t}function bi(n,t){return mi(t,gi(n))}function xi(n,t){return n?t?(e,r)=>n(e,r)||gi(t(e))-gi(t(r)):(t,e)=>n(t,e)||gi(t)-gi(e):null}function _i(n){return n&&n.constructor===ki}function ki(){const n=[],t=[],e=[],r=[],i=[];let l=null,u=!1;return{constructor:ki,insert(t){const e=Object(g.i)(t),r=e.length;for(let t=0;t<r;++t)n.push(e[t]);return this},remove(n){const e=Object(g.E)(n)?r:t,i=Object(g.i)(n),l=i.length;for(let n=0;n<l;++n)e.push(i[n]);return this},modify(n,t,r){const l={field:t,value:Object(g.m)(r)};return Object(g.E)(n)?(l.filter=n,i.push(l)):(l.tuple=n,e.push(l)),this},encode(n,t){return Object(g.E)(n)?i.push({filter:n,field:t}):e.push({tuple:n,field:t}),this},clean(n){return l=n,this},reflow(){return u=!0,this},pulse(a,o){const s={},c={};let f,h,d,p,g,m;for(f=0,h=o.length;f<h;++f)s[gi(o[f])]=1;for(f=0,h=t.length;f<h;++f)g=t[f],s[gi(g)]=-1;for(f=0,h=r.length;f<h;++f)p=r[f],o.forEach(n=>{p(n)&&(s[gi(n)]=-1)});for(f=0,h=n.length;f<h;++f)g=n[f],m=gi(g),s[m]?s[m]=1:a.add.push(vi(n[f]));for(f=0,h=o.length;f<h;++f)g=o[f],s[gi(g)]<0&&a.rem.push(g);function v(n,t,e){e?n[t]=e(n):a.encode=t,u||(c[gi(n)]=n)}for(f=0,h=e.length;f<h;++f)d=e[f],g=d.tuple,p=d.field,m=s[gi(g)],m>0&&(v(g,p,d.value),a.modifies(p));for(f=0,h=i.length;f<h;++f)d=i[f],p=d.filter,o.forEach(n=>{p(n)&&s[gi(n)]>0&&v(n,d.field,d.value)}),a.modifies(d.field);if(u)a.mod=t.length||r.length?o.filter(n=>s[gi(n)]>0):o.slice();else for(m in c)a.mod.push(c[m]);return(l||null==l&&(t.length||r.length))&&a.clean(!0),a}}}function ji(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}ji.prototype={set(n,t,e,r){const i=this,l=i[n],u=i["_:mod:_"];return null!=t&&t>=0?(l[t]!==e||r)&&(l[t]=e,u[t+":"+n]=-1,u[n]=-1):(l!==e||r)&&(i[n]=e,u[n]=Object(g.B)(e)?1+e.length:-1),i},modified(n,t){const e=this["_:mod:_"];if(!arguments.length){for(const n in e)if(e[n])return!0;return!1}if(Object(g.B)(n)){for(let t=0;t<n.length;++t)if(e[n[t]])return!0;return!1}return null!=t&&t>=0?t+1<e[n]||!!e[t+":"+n]:!!e[n]},clear(){return this["_:mod:_"]={},this}};let Oi=0;const Ai=new ji;function Ei(n,t,e,r){this.id=++Oi,this.value=n,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),e&&this.parameters(e,r)}function Si(n){return function(t){const e=this.flags;return 0===arguments.length?!!(e&n):(this.flags=t?e|n:e&~n,this)}}Ei.prototype={targets(){return this._targets||(this._targets=ci(g.x))},set(n){return this.value!==n?(this.value=n,1):0},skip:Si(1),modified:Si(2),parameters(n,t,e){t=!1!==t;const r=this._argval=this._argval||new ji,i=this._argops=this._argops||[],l=[];let u,a,o,s;const c=(n,e,u)=>{u instanceof Ei?(u!==this&&(t&&u.targets().add(this),l.push(u)),i.push({op:u,name:n,index:e})):r.set(n,e,u)};for(u in n)if(a=n[u],"pulse"===u)Object(g.i)(a).forEach(n=>{n instanceof Ei?n!==this&&(n.targets().add(this),l.push(n)):Object(g.o)("Pulse parameters must be operator instances.")}),this.source=a;else if(Object(g.B)(a))for(r.set(u,-1,Array(o=a.length)),s=0;s<o;++s)c(u,s,a[s]);else c(u,-1,a);return this.marshall().clear(),e&&(i.initonly=!0),l},marshall(n){const t=this._argval||Ai,e=this._argops;let r,i,l,u;if(e){const a=e.length;for(i=0;i<a;++i)r=e[i],l=r.op,u=l.modified()&&l.stamp===n,t.set(r.name,r.index,l.value,u);if(e.initonly){for(i=0;i<a;++i)r=e[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const n=this._argops;let t,e,r,i;if(n)for(t=0,e=n.length;t<e;++t)r=n[t],i=r.op,i._targets&&i._targets.remove(this)},evaluate(n){const t=this._update;if(t){const e=this.marshall(n.stamp),r=t.call(this,e,n);if(e.clear(),r!==this.value)this.value=r;else if(!this.modified())return n.StopPropagation}},run(n){if(n.stamp<this.stamp)return n.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(n),this.pulse=t||n}};let Ci=0;function Di(n,t,e){this.id=++Ci,this.value=null,e&&(this.receive=e),n&&(this._filter=n),t&&(this._apply=t)}function Mi(n,t,e){return new Di(n,t,e)}Di.prototype={_filter:g.ib,_apply:g.y,targets(){return this._targets||(this._targets=ci(g.x))},consume(n){return arguments.length?(this._consume=!!n,this):!!this._consume},receive(n){if(this._filter(n)){const t=this.value=this._apply(n),e=this._targets,r=e?e.length:0;for(let n=0;n<r;++n)e[n].receive(t);this._consume&&(n.preventDefault(),n.stopPropagation())}},filter(n){const t=Mi(n);return this.targets().add(t),t},apply(n){const t=Mi(null,n);return this.targets().add(t),t},merge(){const n=Mi();this.targets().add(n);for(let t=0,e=arguments.length;t<e;++t)arguments[t].targets().add(n);return n},throttle(n){let t=-1;return this.filter(()=>{const e=Date.now();return e-t>n?(t=e,1):0})},debounce(n){const t=Mi();return this.targets().add(Mi(null,null,Object(g.n)(n,n=>{const e=n.dataflow;t.receive(n),e&&e.run&&e.run()}))),t},between(n,t){let e=!1;return n.targets().add(Mi(null,null,()=>e=!0)),t.targets().add(Mi(null,null,()=>e=!1)),this.filter(()=>e)},detach(){}};const Fi={skip:!0};function Ti(n,t,e,r,i,l){const u=Object(g.p)({},l,Fi);let a,o;Object(g.E)(e)||(e=Object(g.m)(e)),void 0===r?a=t=>n.touch(e(t)):Object(g.E)(r)?(o=new Ei(null,r,i,!1),a=t=>{o.evaluate(t);const r=e(t),i=o.value;_i(i)?n.pulse(r,i,l):n.update(r,i,u)}):a=t=>n.update(e(t),r,u),t.apply(a)}function Ni(n,t,e,r,i,l){if(void 0===r)t.targets().add(e);else{const u=l||{},a=new Ei(null,function(n,t){return t=Object(g.E)(t)?t:Object(g.m)(t),n?function(e,r){const i=t(e,r);return n.skip()||(n.skip(i!==this.value).value=i),i}:t}(e,r),i,!1);a.modified(u.force),a.rank=t.rank,t.targets().add(a),e&&(a.skip(!0),a.value=e.value,a.targets().add(e),n.connect(e,[a]))}}const Bi={};function zi(n,t,e){this.dataflow=n,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=e||null}function Pi(n,t){const e=[];return Object(g.kb)(n,t,n=>e.push(n)),e}function $i(n,t){const e={};return n.visit(t,n=>{e[gi(n)]=1}),n=>e[gi(n)]?null:n}function Ri(n,t){return n?(e,r)=>n(e,r)&&t(e,r):t}function Ii(n,t,e,r){const i=this,l=e.length;let u=0;this.dataflow=n,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=e;for(let n=0;n<l;++n){const r=e[n];if(r.stamp===t){if(r.fields){const n=i.fields||(i.fields={});for(const t in r.fields)n[t]=1}r.changed(i.ADD)&&(u|=i.ADD),r.changed(i.REM)&&(u|=i.REM),r.changed(i.MOD)&&(u|=i.MOD)}}this.changes=u}function Li(n){return n.error("Dataflow already running. Use runAsync() to chain invocations."),n}zi.prototype={StopPropagation:Bi,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(n){return new zi(this.dataflow).init(this,n)},clone(){const n=this.fork(7);return n.add=n.add.slice(),n.rem=n.rem.slice(),n.mod=n.mod.slice(),n.source&&(n.source=n.source.slice()),n.materialize(23)},addAll(){let n=this;return!n.source||n.add===n.rem||!n.rem.length&&n.source.length===n.add.length||(n=new zi(this.dataflow).init(this),n.add=n.source,n.rem=[]),n},init(n,t){const e=this;return e.stamp=n.stamp,e.encode=n.encode,!n.fields||64&t||(e.fields=n.fields),1&t?(e.addF=n.addF,e.add=n.add):(e.addF=null,e.add=[]),2&t?(e.remF=n.remF,e.rem=n.rem):(e.remF=null,e.rem=[]),4&t?(e.modF=n.modF,e.mod=n.mod):(e.modF=null,e.mod=[]),32&t?(e.srcF=null,e.source=null):(e.srcF=n.srcF,e.source=n.source,n.cleans&&(e.cleans=n.cleans)),e},runAfter(n){this.dataflow.runAfter(n)},changed(n){const t=n||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(n){if(n)return this.fork(7).reflow();const t=this.add.length,e=this.source&&this.source.length;return e&&e!==t&&(this.mod=this.source,t&&this.filter(4,$i(this,1))),this},clean(n){return arguments.length?(this.cleans=!!n,this):this.cleans},modifies(n){const t=this.fields||(this.fields={});return Object(g.B)(n)?n.forEach(n=>t[n]=!0):t[n]=!0,this},modified(n,t){const e=this.fields;return!(!t&&!this.mod.length||!e)&&(arguments.length?Object(g.B)(n)?n.some(n=>e[n]):e[n]:!!e)},filter(n,t){const e=this;return 1&n&&(e.addF=Ri(e.addF,t)),2&n&&(e.remF=Ri(e.remF,t)),4&n&&(e.modF=Ri(e.modF,t)),16&n&&(e.srcF=Ri(e.srcF,t)),e},materialize(n){const t=this;return 1&(n=n||7)&&t.addF&&(t.add=Pi(t.add,t.addF),t.addF=null),2&n&&t.remF&&(t.rem=Pi(t.rem,t.remF),t.remF=null),4&n&&t.modF&&(t.mod=Pi(t.mod,t.modF),t.modF=null),16&n&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(n,t){const e=this,r=t;if(16&n)return Object(g.kb)(e.source,e.srcF,r),e;1&n&&Object(g.kb)(e.add,e.addF,r),2&n&&Object(g.kb)(e.rem,e.remF,r),4&n&&Object(g.kb)(e.mod,e.modF,r);const i=e.source;if(8&n&&i){const n=e.add.length+e.mod.length;n===i.length||(n?Object(g.kb)(i,$i(e,5),r):Object(g.kb)(i,e.srcF,r))}return e}},Object(g.z)(Ii,zi,{fork(n){const t=new zi(this.dataflow).init(this,n&this.NO_FIELDS);return void 0!==n&&(n&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),n&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),n&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(n){return this.changes&n},modified(n){const t=this,e=t.fields;return e&&t.changes&t.MOD?Object(g.B)(n)?n.some(n=>e[n]):e[n]:0},filter(){Object(g.o)("MultiPulse does not support filtering.")},materialize(){Object(g.o)("MultiPulse does not support materialization.")},visit(n,t){const e=this,r=e.pulses,i=r.length;let l=0;if(n&e.SOURCE)for(;l<i;++l)r[l].visit(n,t);else for(;l<i;++l)r[l].stamp===e.stamp&&r[l].visit(n,t);return e}});const Ui={skip:!1,force:!1};function qi(n){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:e=>(t.push(e),Hi(t,0,t.length-1,n)),pop:()=>{const e=t.pop();let r;return t.length?(r=t[0],t[0]=e,function(n,t,e){const r=t,i=n.length,l=n[t];let u,a=1+(t<<1);for(;a<i;)u=a+1,u<i&&e(n[a],n[u])>=0&&(a=u),n[t]=n[a],a=1+((t=a)<<1);n[t]=l,Hi(n,r,t,e)}(t,0,n)):r=e,r}}}function Hi(n,t,e,r){let i,l;const u=n[e];for(;e>t&&(l=e-1>>1,i=n[l],r(u,i)<0);)n[e]=i,e=l;return n[e]=u}function Wi(){this.logger(Object(g.M)()),this.logLevel(g.b),this._clock=0,this._rank=0,this._locale=ui();try{this._loader=si()}catch(n){}this._touched=ci(g.x),this._input={},this._pulse=null,this._heap=qi((n,t)=>n.qrank-t.qrank),this._postrun=[]}function Gi(n){return function(){return this._log[n].apply(this,arguments)}}function Yi(n,t){Ei.call(this,n,null,t)}Wi.prototype={stamp(){return this._clock},loader(n){return arguments.length?(this._loader=n,this):this._loader},locale(n){return arguments.length?(this._locale=n,this):this._locale},logger(n){return arguments.length?(this._log=n,this):this._log},error:Gi("error"),warn:Gi("warn"),info:Gi("info"),debug:Gi("debug"),logLevel:Gi("level"),cleanThreshold:1e4,add:function(n,t,e,r){let i,l=1;return n instanceof Ei?i=n:n&&n.prototype instanceof Ei?i=new n:Object(g.E)(n)?i=new Ei(null,n):(l=0,i=new Ei(n,t)),this.rank(i),l&&(r=e,e=t),e&&this.connect(i,i.parameters(e,r)),this.touch(i),i},connect:function(n,t){const e=n.rank,r=t.length;for(let i=0;i<r;++i)if(e<t[i].rank)return void this.rerank(n)},rank:function(n){n.rank=++this._rank},rerank:function(n){const t=[n];let e,r,i;for(;t.length;)if(this.rank(e=t.pop()),r=e._targets)for(i=r.length;--i>=0;)t.push(e=r[i]),e===n&&Object(g.o)("Cycle detected in dataflow graph.")},pulse:function(n,t,e){this.touch(n,e||Ui);const r=new zi(this,this._clock+(this._pulse?0:1)),i=n.pulse&&n.pulse.source||[];return r.target=n,this._input[n.id]=t.pulse(r,i),this},touch:function(n,t){const e=t||Ui;return this._pulse?this._enqueue(n):this._touched.add(n),e.skip&&n.skip(!0),this},update:function(n,t,e){const r=e||Ui;return(n.set(t)||r.force)&&this.touch(n,r),this},changeset:ki,ingest:function(n,t,e){return t=this.parse(t,e),this.pulse(n,this.changeset().insert(t))},parse:function(n,t){const e=this.locale();return oi(n,t,e.timeParse,e.utcParse)},preload:async function(n,t,e){const r=this,i=r._pending||function(n){let t;const e=new Promise(n=>t=n);return e.requests=0,e.done=()=>{0==--e.requests&&(n._pending=null,t(n))},n._pending=e}(r);i.requests+=1;const l=await r.request(t,e);return r.pulse(n,r.changeset().remove(g.ib).insert(l.data||[])),i.done(),l},request:async function(n,t){const e=this;let r,i=0;try{r=await e.loader().load(n,{context:"dataflow",response:nn(t&&t.type)});try{r=e.parse(r,t)}catch(t){i=-2,e.warn("Data ingestion failed",n,t)}}catch(t){i=-1,e.warn("Loading failed",n,t)}return{data:r,status:i}},events:function(n,t,e,r){const i=this,l=Mi(e,r),u=function(n){n.dataflow=i;try{l.receive(n)}catch(n){i.error(n)}finally{i.run()}};let a;a="string"==typeof n&&"undefined"!=typeof document?document.querySelectorAll(n):Object(g.i)(n);const o=a.length;for(let n=0;n<o;++n)a[n].addEventListener(t,u);return l},on:function(n,t,e,r,i){return(n instanceof Ei?Ni:Ti)(this,n,t,e,r,i),this},evaluate:async function(n,t,e){const r=this,i=[];if(r._pulse)return Li(r);if(r._pending&&await r._pending,t&&await fi(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const l=++r._clock;r._pulse=new zi(r,l,n),r._touched.forEach(n=>r._enqueue(n,!0)),r._touched=ci(g.x);let u,a,o,s=0;try{for(;r._heap.size()>0;)u=r._heap.pop(),u.rank===u.qrank?(a=u.run(r._getPulse(u,n)),a.then?a=await a:a.async&&(i.push(a.async),a=Bi),a!==Bi&&u._targets&&u._targets.forEach(n=>r._enqueue(n)),++s):r._enqueue(u,!0)}catch(n){r._heap.clear(),o=n}if(r._input={},r._pulse=null,r.debug("Pulse ".concat(l,": ").concat(s," operators")),o&&(r._postrun=[],r.error(o)),r._postrun.length){const n=r._postrun.sort((n,t)=>t.priority-n.priority);r._postrun=[];for(let t=0;t<n.length;++t)await fi(r,n[t].callback)}return e&&await fi(r,e),i.length&&Promise.all(i).then(n=>r.runAsync(null,()=>{n.forEach(n=>{try{n(r)}catch(n){r.error(n)}})})),r},run:function(n,t,e){return this._pulse?Li(this):(this.evaluate(n,t,e),this)},runAsync:async function(n,t,e){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(n,t,e)).then(r,r),this._running},runAfter:function(n,t,e){if(this._pulse||t)this._postrun.push({priority:e||0,callback:n});else try{n(this)}catch(n){this.error(n)}},_enqueue:function(n,t){const e=n.stamp<this._clock;e&&(n.stamp=this._clock),(e||t)&&(n.qrank=n.rank,this._heap.push(n))},_getPulse:function(n,t){const e=n.source,r=this._clock;return e&&Object(g.B)(e)?new Ii(this,r,e.map(n=>n.pulse),t):this._input[n.id]||function(n,t){if(t&&t.stamp===n.stamp)return t;n=n.fork(),t&&t!==Bi&&(n.source=t.source);return n}(this._pulse,e&&e.pulse)}},Object(g.z)(Yi,Ei,{run(n){if(n.stamp<this.stamp)return n.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(n),t=t||n,t.then?t=t.then(n=>this.pulse=n):t!==n.StopPropagation&&(this.pulse=t),t},evaluate(n){const t=this.marshall(n.stamp),e=this.transform(t,n);return t.clear(),e},transform(){}});const Vi={};function Ji(n){const t=Xi(n);return t&&t.Definition||null}function Xi(n){return n=n&&n.toLowerCase(),Object(g.w)(Vi,n)?Vi[n]:null}function Ki(n,t){let e;if(void 0===t)for(const t of n)null!=t&&(e<t||void 0===e&&t>=t)&&(e=t);else{let r=-1;for(let i of n)null!=(i=t(i,++r,n))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function Zi(n,t){let e;if(void 0===t)for(const t of n)null!=t&&(e>t||void 0===e&&t>=t)&&(e=t);else{let r=-1;for(let i of n)null!=(i=t(i,++r,n))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function Qi(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}var nl=function(n){return null===n?NaN:+n};function tl(n,t,e){if(r=(n=Float64Array.from(function*(n,t){if(void 0===t)for(let t of n)null!=t&&(t=+t)>=t&&(yield t);else{let e=-1;for(let r of n)null!=(r=t(r,++e,n))&&(r=+r)>=r&&(yield r)}}(n,e))).length){if((t=+t)<=0||r<2)return Zi(n);if(t>=1)return Ki(n);var r,i=(r-1)*t,l=Math.floor(i),u=Ki(function n(t,e,r=0,i=t.length-1,l=gt){for(;i>r;){if(i-r>600){const u=i-r+1,a=e-r+1,o=Math.log(u),s=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*s*(u-s)/u)*(a-u/2<0?-1:1);n(t,e,Math.max(r,Math.floor(e-a*s/u+c)),Math.min(i,Math.floor(e+(u-a)*s/u+c)),l)}const u=t[e];let a=r,o=i;for(Qi(t,r,e),l(t[i],u)>0&&Qi(t,r,i);a<o;){for(Qi(t,a,o),++a,--o;l(t[a],u)<0;)++a;for(;l(t[o],u)>0;)--o}0===l(t[r],u)?Qi(t,r,o):(++o,Qi(t,o,i)),o<=e&&(r=o+1),e<=o&&(i=o-1)}return t}(n,l).subarray(0,l+1));return u+(Zi(n.subarray(l+1))-u)*(i-l)}}function el(n,t,e=nl){if(r=n.length){if((t=+t)<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,l=Math.floor(i),u=+e(n[l],l,n);return u+(+e(n[l+1],l+1,n)-u)*(i-l)}}var rl=function(n,t){return tl(n,.5,t)};function*il(n,t){if(null==t)for(let t of n)null!=t&&""!==t&&(t=+t)>=t&&(yield t);else{let e=-1;for(let r of n)r=t(r,++e,n),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function ll(n,t,e){const r=Float64Array.from(il(n,e));return r.sort(gt),t.map(n=>el(r,n))}function ul(n,t){return ll(n,[.25,.5,.75],t)}function al(n,t){const e=n.length,r=function(n,t){const e=function(n,t){let e,r=0,i=0,l=0;if(void 0===t)for(let t of n)null!=t&&(t=+t)>=t&&(e=t-i,i+=e/++r,l+=e*(t-i));else{let u=-1;for(let a of n)null!=(a=t(a,++u,n))&&(a=+a)>=a&&(e=a-i,i+=e/++r,l+=e*(a-i))}if(r>1)return l/(r-1)}(n,t);return e?Math.sqrt(e):e}(n,t),i=ul(n,t),l=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,l)||r||Math.abs(i[0])||1)*Math.pow(e,-.2)}function ol(n){const t=n.maxbins||20,e=n.base||10,r=Math.log(e),i=n.divide||[5,2];let l,u,a,o,s,c,f=n.extent[0],h=n.extent[1];const d=n.span||h-f||Math.abs(f)||1;if(n.step)l=n.step;else if(n.steps){for(o=d/t,s=0,c=n.steps.length;s<c&&n.steps[s]<o;++s);l=n.steps[Math.max(0,s-1)]}else{for(u=Math.ceil(Math.log(t)/r),a=n.minstep||0,l=Math.max(a,Math.pow(e,Math.round(Math.log(d)/r)-u));Math.ceil(d/l)>t;)l*=e;for(s=0,c=i.length;s<c;++s)o=l/i[s],o>=a&&d/o<=t&&(l=o)}o=Math.log(l);const p=o>=0?0:1+~~(-o/r),g=Math.pow(e,-p-1);return(n.nice||void 0===n.nice)&&(o=Math.floor(f/l+g)*l,f=f<o?o-l:o,h=Math.ceil(h/l)*l),{start:f,stop:h===f?f+l:h,step:l}}var sl=Math.random;function cl(n){sl=n}function fl(n,t,e,r){if(!n.length)return[void 0,void 0];const i=Float64Array.from(il(n,r)),l=i.length,u=t;let a,o,s,c;for(s=0,c=Array(u);s<u;++s){for(a=0,o=0;o<l;++o)a+=i[~~(sl()*l)];c[s]=a/l}return c.sort(gt),[tl(c,e/2),tl(c,1-e/2)]}function hl(n,t,e,r){r=r||(n=>n);const i=n.length,l=new Float64Array(i);let u,a=0,o=1,s=r(n[0]),c=s,f=s+t;for(;o<i;++o){if(u=r(n[o]),u>=f){for(c=(s+c)/2;a<o;++a)l[a]=c;f=u+t,s=u}c=u}for(c=(s+c)/2;a<o;++a)l[a]=c;return e?function(n,t){const e=n.length;let r,i,l=0,u=1;for(;n[l]===n[u];)++u;for(;u<e;){for(r=u+1;n[u]===n[r];)++r;if(n[u]-n[u-1]<t){for(i=u+(l+r-u-u>>1);i<u;)n[i++]=n[u];for(;i>u;)n[i--]=n[l]}l=u,u=r}return n}(l,t+t/4):l}function dl(n){return function(){return(n=(1103515245*n+12345)%2147483647)/2147483647}}function pl(n,t){let e,r,i;null==t&&(t=n,n=0);const l={min(n){return arguments.length?(e=n||0,i=r-e,l):e},max(n){return arguments.length?(r=n||0,i=r-e,l):r},sample:()=>e+Math.floor(i*sl()),pdf:n=>n===Math.floor(n)&&n>=e&&n<r?1/i:0,cdf(n){const t=Math.floor(n);return t<e?0:t>=r?1:(t-e+1)/i},icdf:n=>n>=0&&n<=1?e-1+Math.floor(n*i):NaN};return l.min(n).max(t)}const gl=Math.sqrt(2*Math.PI),ml=Math.SQRT2;let vl=NaN;function wl(n,t){n=n||0,t=null==t?1:t;let e,r,i=0,l=0;if(vl==vl)i=vl,vl=NaN;else{do{i=2*sl()-1,l=2*sl()-1,e=i*i+l*l}while(0===e||e>1);r=Math.sqrt(-2*Math.log(e)/e),i*=r,vl=l*r}return n+i*t}function yl(n,t,e){const r=(n-(t||0))/(e=null==e?1:e);return Math.exp(-.5*r*r)/(e*gl)}function bl(n,t,e){const r=(n-(t=t||0))/(e=null==e?1:e),i=Math.abs(r);let l;if(i>37)l=0;else{const n=Math.exp(-i*i/2);let t;i<7.07106781186547?(t=.0352624965998911*i+.700383064443688,t=t*i+6.37396220353165,t=t*i+33.912866078383,t=t*i+112.079291497871,t=t*i+221.213596169931,t=t*i+220.206867912376,l=n*t,t=.0883883476483184*i+1.75566716318264,t=t*i+16.064177579207,t=t*i+86.7807322029461,t=t*i+296.564248779674,t=t*i+637.333633378831,t=t*i+793.826512519948,t=t*i+440.413735824752,l/=t):(t=i+.65,t=i+4/t,t=i+3/t,t=i+2/t,t=i+1/t,l=n/t/2.506628274631)}return r>0?1-l:l}function xl(n,t,e){return n<0||n>1?NaN:(t||0)+(null==e?1:e)*ml*function(n){let t,e=-Math.log((1-n)*(1+n));e<6.25?(e-=3.125,t=-364441206401782e-35,t=t*e-16850591381820166e-35,t=128584807152564e-32+t*e,t=11157877678025181e-33+t*e,t=t*e-1333171662854621e-31,t=20972767875968562e-33+t*e,t=6637638134358324e-30+t*e,t=t*e-4054566272975207e-29,t=t*e-8151934197605472e-29,t=26335093153082323e-28+t*e,t=t*e-12975133253453532e-27,t=t*e-5415412054294628e-26,t=1.0512122733215323e-9+t*e,t=t*e-4.112633980346984e-9,t=t*e-2.9070369957882005e-8,t=4.2347877827932404e-7+t*e,t=t*e-13654692000834679e-22,t=t*e-13882523362786469e-21,t=.00018673420803405714+t*e,t=t*e-.000740702534166267,t=t*e-.006033670871430149,t=.24015818242558962+t*e,t=1.6536545626831027+t*e):e<16?(e=Math.sqrt(e)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*e,t=t*e-2.7517406297064545e-7,t=1.8239629214389228e-8+t*e,t=15027403968909828e-22+t*e,t=t*e-4013867526981546e-21,t=29234449089955446e-22+t*e,t=12475304481671779e-21+t*e,t=t*e-47318229009055734e-21,t=6828485145957318e-20+t*e,t=24031110387097894e-21+t*e,t=t*e-.0003550375203628475,t=.0009532893797373805+t*e,t=t*e-.0016882755560235047,t=.002491442096107851+t*e,t=t*e-.003751208507569241,t=.005370914553590064+t*e,t=1.0052589676941592+t*e,t=3.0838856104922208+t*e):Number.isFinite(e)?(e=Math.sqrt(e)-5,t=-27109920616438573e-27,t=t*e-2.555641816996525e-10,t=1.5076572693500548e-9+t*e,t=t*e-3.789465440126737e-9,t=7.61570120807834e-9+t*e,t=t*e-1.496002662714924e-8,t=2.914795345090108e-8+t*e,t=t*e-6.771199775845234e-8,t=2.2900482228026655e-7+t*e,t=t*e-9.9298272942317e-7,t=4526062597223154e-21+t*e,t=t*e-1968177810553167e-20,t=7599527703001776e-20+t*e,t=t*e-.00021503011930044477,t=t*e-.00013871931833623122,t=1.0103004648645344+t*e,t=4.849906401408584+t*e):t=1/0;return t*n}(2*n-1)}function _l(n,t){let e,r;const i={mean(n){return arguments.length?(e=n||0,i):e},stdev(n){return arguments.length?(r=null==n?1:n,i):r},sample:()=>wl(e,r),pdf:n=>yl(n,e,r),cdf:n=>bl(n,e,r),icdf:n=>xl(n,e,r)};return i.mean(n).stdev(t)}function kl(n,t){const e=_l();let r=0;const i={data(e){return arguments.length?(n=e,r=e?e.length:0,i.bandwidth(t)):n},bandwidth(e){return arguments.length?(!(t=e)&&n&&(t=al(n)),i):t},sample:()=>n[~~(sl()*r)]+t*e.sample(),pdf(i){let l=0,u=0;for(;u<r;++u)l+=e.pdf((i-n[u])/t);return l/t/r},cdf(i){let l=0,u=0;for(;u<r;++u)l+=e.cdf((i-n[u])/t);return l/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(n)}function jl(n,t){return n=n||0,t=null==t?1:t,Math.exp(n+wl()*t)}function Ol(n,t,e){if(n<=0)return 0;t=t||0,e=null==e?1:e;const r=(Math.log(n)-t)/e;return Math.exp(-.5*r*r)/(e*gl*n)}function Al(n,t,e){return bl(Math.log(n),t,e)}function El(n,t,e){return Math.exp(xl(n,t,e))}function Sl(n,t){let e,r;const i={mean(n){return arguments.length?(e=n||0,i):e},stdev(n){return arguments.length?(r=null==n?1:n,i):r},sample:()=>jl(e,r),pdf:n=>Ol(n,e,r),cdf:n=>Al(n,e,r),icdf:n=>El(n,e,r)};return i.mean(n).stdev(t)}function Cl(n,t){let e,r=0;const i={weights(n){return arguments.length?(e=function(n){const t=[];let e,i=0;for(e=0;e<r;++e)i+=t[e]=null==n[e]?1:+n[e];for(e=0;e<r;++e)t[e]/=i;return t}(t=n||[]),i):t},distributions(e){return arguments.length?(e?(r=e.length,n=e):(r=0,n=[]),i.weights(t)):n},sample(){const t=sl();let i=n[r-1],l=e[0],u=0;for(;u<r-1;l+=e[++u])if(t<l){i=n[u];break}return i.sample()},pdf(t){let i=0,l=0;for(;l<r;++l)i+=e[l]*n[l].pdf(t);return i},cdf(t){let i=0,l=0;for(;l<r;++l)i+=e[l]*n[l].cdf(t);return i},icdf(){throw Error("Mixture icdf not supported.")}};return i.distributions(n).weights(t)}function Dl(n,t){return null==t&&(t=null==n?1:n,n=0),n+(t-n)*sl()}function Ml(n,t,e){return null==e&&(e=null==t?1:t,t=0),n>=t&&n<=e?1/(e-t):0}function Fl(n,t,e){return null==e&&(e=null==t?1:t,t=0),n<t?0:n>e?1:(n-t)/(e-t)}function Tl(n,t,e){return null==e&&(e=null==t?1:t,t=0),n>=0&&n<=1?t+n*(e-t):NaN}function Nl(n,t){let e,r;const i={min(n){return arguments.length?(e=n||0,i):e},max(n){return arguments.length?(r=null==n?1:n,i):r},sample:()=>Dl(e,r),pdf:n=>Ml(n,e,r),cdf:n=>Fl(n,e,r),icdf:n=>Tl(n,e,r)};return null==t&&(t=null==n?1:n,n=0),i.min(n).max(t)}function Bl(n,t,e,r){const i=r-n*n,l=Math.abs(i)<1e-24?0:(e-n*t)/i;return[t-l*n,l]}function zl(n,t,e,r){n=n.filter(n=>{let r=t(n),i=e(n);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i}),r&&n.sort((n,e)=>t(n)-t(e));const i=n.length,l=new Float64Array(i),u=new Float64Array(i);let a,o,s,c=0,f=0,h=0;for(s of n)l[c]=a=+t(s),u[c]=o=+e(s),++c,f+=(a-f)/c,h+=(o-h)/c;for(c=0;c<i;++c)l[c]-=f,u[c]-=h;return[l,u,f,h]}function Pl(n,t,e,r){let i,l,u=-1;for(const a of n)i=t(a),l=e(a),null!=i&&(i=+i)>=i&&null!=l&&(l=+l)>=l&&r(i,l,++u)}function $l(n,t,e,r,i){let l=0,u=0;return Pl(n,t,e,(n,t)=>{const e=t-i(n),a=t-r;l+=e*e,u+=a*a}),1-l/u}function Rl(n,t,e){let r=0,i=0,l=0,u=0,a=0;Pl(n,t,e,(n,t)=>{++a,r+=(n-r)/a,i+=(t-i)/a,l+=(n*t-l)/a,u+=(n*n-u)/a});const o=Bl(r,i,l,u),s=n=>o[0]+o[1]*n;return{coef:o,predict:s,rSquared:$l(n,t,e,i,s)}}function Il(n,t,e){let r=0,i=0,l=0,u=0,a=0;Pl(n,t,e,(n,t)=>{++a,n=Math.log(n),r+=(n-r)/a,i+=(t-i)/a,l+=(n*t-l)/a,u+=(n*n-u)/a});const o=Bl(r,i,l,u),s=n=>o[0]+o[1]*Math.log(n);return{coef:o,predict:s,rSquared:$l(n,t,e,i,s)}}function Ll(n,t,e){const[r,i,l,u]=zl(n,t,e);let a,o,s,c=0,f=0,h=0,d=0,p=0;Pl(n,t,e,(n,t)=>{a=r[p++],o=Math.log(t),s=a*t,c+=(t*o-c)/p,f+=(s-f)/p,h+=(s*o-h)/p,d+=(a*s-d)/p});const[g,m]=Bl(f/u,c/u,h/u,d/u),v=n=>Math.exp(g+m*(n-l));return{coef:[Math.exp(g-m*l),m],predict:v,rSquared:$l(n,t,e,u,v)}}function Ul(n,t,e){let r=0,i=0,l=0,u=0,a=0,o=0;Pl(n,t,e,(n,t)=>{const e=Math.log(n),s=Math.log(t);++o,r+=(e-r)/o,i+=(s-i)/o,l+=(e*s-l)/o,u+=(e*e-u)/o,a+=(t-a)/o});const s=Bl(r,i,l,u),c=n=>s[0]*Math.pow(n,s[1]);return s[0]=Math.exp(s[0]),{coef:s,predict:c,rSquared:$l(n,t,e,a,c)}}function ql(n,t,e){const[r,i,l,u]=zl(n,t,e),a=r.length;let o,s,c,f,h=0,d=0,p=0,g=0,m=0;for(o=0;o<a;)s=r[o],c=i[o++],f=s*s,h+=(f-h)/o,d+=(f*s-d)/o,p+=(f*f-p)/o,g+=(s*c-g)/o,m+=(f*c-m)/o;const v=p-h*h,w=h*v-d*d,y=(m*h-g*d)/w,b=(g*v-m*d)/w,x=-y*h,_=n=>y*(n-=l)*n+b*n+x+u;return{coef:[x-b*l+y*l*l+u,b-2*y*l,y],predict:_,rSquared:$l(n,t,e,u,_)}}function Hl(n,t,e,r){if(1===r)return Rl(n,t,e);if(2===r)return ql(n,t,e);const[i,l,u,a]=zl(n,t,e),o=i.length,s=[],c=[],f=r+1;let h,d,p,g,m;for(h=0;h<f;++h){for(p=0,g=0;p<o;++p)g+=Math.pow(i[p],h)*l[p];for(s.push(g),m=new Float64Array(f),d=0;d<f;++d){for(p=0,g=0;p<o;++p)g+=Math.pow(i[p],h+d);m[d]=g}c.push(m)}c.push(s);const v=function(n){const t=n.length-1,e=[];let r,i,l,u,a;for(r=0;r<t;++r){for(u=r,i=r+1;i<t;++i)Math.abs(n[r][i])>Math.abs(n[r][u])&&(u=i);for(l=r;l<t+1;++l)a=n[l][r],n[l][r]=n[l][u],n[l][u]=a;for(i=r+1;i<t;++i)for(l=t;l>=r;l--)n[l][i]-=n[l][r]*n[r][i]/n[r][r]}for(i=t-1;i>=0;--i){for(a=0,l=i+1;l<t;++l)a+=n[l][i]*e[l];e[i]=(n[t][i]-a)/n[i][i]}return e}(c),w=n=>{n-=u;let t=a+v[0]+v[1]*n+v[2]*n*n;for(h=3;h<f;++h)t+=v[h]*Math.pow(n,h);return t};return{coef:Wl(f,v,-u,a),predict:w,rSquared:$l(n,t,e,a,w)}}function Wl(n,t,e,r){const i=Array(n);let l,u,a,o;for(l=0;l<n;++l)i[l]=0;for(l=n-1;l>=0;--l)for(a=t[l],o=1,i[l]+=a,u=1;u<=l;++u)o*=(l+1-u)/u,i[l-u]+=a*Math.pow(e,u)*o;return i[0]+=r,i}function Gl(n,t,e,r){const[i,l,u,a]=zl(n,t,e,!0),o=i.length,s=Math.max(2,~~(r*o)),c=new Float64Array(o),f=new Float64Array(o),h=new Float64Array(o).fill(1);for(let n=-1;++n<=2;){const t=[0,s-1];for(let n=0;n<o;++n){const e=i[n],r=t[0],u=t[1],a=e-i[r]>i[u]-e?r:u;let o=0,s=0,d=0,p=0,g=0;const m=1/Math.abs(i[a]-e||1);for(let n=r;n<=u;++n){const t=i[n],r=l[n],u=Yl(Math.abs(e-t)*m)*h[n],a=t*u;o+=u,s+=a,d+=r*u,p+=r*a,g+=t*a}const[v,w]=Bl(s/o,d/o,p/o,g/o);c[n]=v+w*e,f[n]=Math.abs(l[n]-c[n]),Vl(i,n+1,t)}if(2===n)break;const e=rl(f);if(Math.abs(e)<1e-12)break;for(let n,t,r=0;r<o;++r)n=f[r]/(6*e),h[r]=n>=1?1e-12:(t=1-n*n)*t}return function(n,t,e,r){const i=n.length,l=[];let u,a=0,o=0,s=[];for(;a<i;++a)u=n[a]+e,s[0]===u?s[1]+=(t[a]-s[1])/++o:(o=0,s[1]+=r,s=[u,t[a]],l.push(s));return s[1]+=r,l}(i,c,u,a)}function Yl(n){return(n=1-n*n*n)*n*n}function Vl(n,t,e){const r=n[t];let i=e[0],l=e[1]+1;if(!(l>=n.length))for(;t>i&&n[l]-r<=r-n[i];)e[0]=++i,e[1]=l,++l}const Jl=.1*Math.PI/180;function Xl(n,t,e,r){e=e||25,r=Math.max(e,r||200);const i=t=>[t,n(t)],l=t[0],u=t[1],a=u-l,o=a/r,s=[i(l)],c=[];if(e===r){for(let n=1;n<r;++n)s.push(i(l+n/e*a));return s.push(i(u)),s}c.push(i(u));for(let n=e;--n>0;)c.push(i(l+n/e*a));let f=s[0],h=c[c.length-1];for(;h;){const n=i((f[0]+h[0])/2);n[0]-f[0]>=o&&Kl(f,n,h)>Jl?c.push(n):(f=h,s.push(h),c.pop()),h=c[c.length-1]}return s}function Kl(n,t,e){const r=Math.atan2(e[1]-n[1],e[0]-n[0]),i=Math.atan2(t[1]-n[1],t[0]-n[0]);return Math.abs(r-i)}var Zl=function(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((t-n)/e)),l=new Array(i);++r<i;)l[r]=n+r*e;return l};function Ql(n){return n&&n.length?1===n.length?n[0]:(t=n,n=>{const e=t.length;let r=1,i=String(t[0](n));for(;r<e;++r)i+="|"+t[r](n);return i}):function(){return""};var t}function nu(n,t,e){return e||n+(t?"_"+t:"")}const tu=()=>{},eu={init:tu,add:tu,rem:tu,idx:0},ru={values:{init:n=>n.cell.store=!0,value:n=>n.cell.data.values(),idx:-1},count:{value:n=>n.cell.num},__count__:{value:n=>n.missing+n.valid},missing:{value:n=>n.missing},valid:{value:n=>n.valid},sum:{init:n=>n.sum=0,value:n=>n.sum,add:(n,t)=>n.sum+=+t,rem:(n,t)=>n.sum-=t},product:{init:n=>n.product=1,value:n=>n.valid?n.product:void 0,add:(n,t)=>n.product*=t,rem:(n,t)=>n.product/=t},mean:{init:n=>n.mean=0,value:n=>n.valid?n.mean:void 0,add:(n,t)=>(n.mean_d=t-n.mean,n.mean+=n.mean_d/n.valid),rem:(n,t)=>(n.mean_d=t-n.mean,n.mean-=n.valid?n.mean_d/n.valid:n.mean)},average:{value:n=>n.valid?n.mean:void 0,req:["mean"],idx:1},variance:{init:n=>n.dev=0,value:n=>n.valid>1?n.dev/(n.valid-1):void 0,add:(n,t)=>n.dev+=n.mean_d*(t-n.mean),rem:(n,t)=>n.dev-=n.mean_d*(t-n.mean),req:["mean"],idx:1},variancep:{value:n=>n.valid>1?n.dev/n.valid:void 0,req:["variance"],idx:2},stdev:{value:n=>n.valid>1?Math.sqrt(n.dev/(n.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:n=>n.valid>1?Math.sqrt(n.dev/n.valid):void 0,req:["variance"],idx:2},stderr:{value:n=>n.valid>1?Math.sqrt(n.dev/(n.valid*(n.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:n=>n.cell.data.distinct(n.get),req:["values"],idx:3},ci0:{value:n=>n.cell.data.ci0(n.get),req:["values"],idx:3},ci1:{value:n=>n.cell.data.ci1(n.get),req:["values"],idx:3},median:{value:n=>n.cell.data.q2(n.get),req:["values"],idx:3},q1:{value:n=>n.cell.data.q1(n.get),req:["values"],idx:3},q3:{value:n=>n.cell.data.q3(n.get),req:["values"],idx:3},min:{init:n=>n.min=void 0,value:n=>n.min=Number.isNaN(n.min)?n.cell.data.min(n.get):n.min,add:(n,t)=>{(t<n.min||void 0===n.min)&&(n.min=t)},rem:(n,t)=>{t<=n.min&&(n.min=NaN)},req:["values"],idx:4},max:{init:n=>n.max=void 0,value:n=>n.max=Number.isNaN(n.max)?n.cell.data.max(n.get):n.max,add:(n,t)=>{(t>n.max||void 0===n.max)&&(n.max=t)},rem:(n,t)=>{t>=n.max&&(n.max=NaN)},req:["values"],idx:4},argmin:{init:n=>n.argmin=void 0,value:n=>n.argmin||n.cell.data.argmin(n.get),add:(n,t,e)=>{t<n.min&&(n.argmin=e)},rem:(n,t)=>{t<=n.min&&(n.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:n=>n.argmax=void 0,value:n=>n.argmax||n.cell.data.argmax(n.get),add:(n,t,e)=>{t>n.max&&(n.argmax=e)},rem:(n,t)=>{t>=n.max&&(n.argmax=void 0)},req:["max","values"],idx:3}},iu=Object.keys(ru);function lu(n,t){return ru[n](t)}function uu(n,t){return n.idx-t.idx}function au(){this.valid=0,this.missing=0,this._ops.forEach(n=>n.init(this))}function ou(n,t){null!=n&&""!==n?n==n&&(++this.valid,this._ops.forEach(e=>e.add(this,n,t))):++this.missing}function su(n,t){null!=n&&""!==n?n==n&&(--this.valid,this._ops.forEach(e=>e.rem(this,n,t))):--this.missing}function cu(n){return this._out.forEach(t=>n[t.out]=t.value(this)),n}function fu(n,t){const e=t||g.y,r=function(n){const t={};n.forEach(n=>t[n.name]=n);const e=n=>{n.req&&n.req.forEach(n=>{t[n]||e(t[n]=ru[n]())})};return n.forEach(e),Object.values(t).sort(uu)}(n),i=n.slice().sort(uu);function l(n){this._ops=r,this._out=i,this.cell=n,this.init()}return l.prototype.init=au,l.prototype.add=ou,l.prototype.rem=su,l.prototype.set=cu,l.prototype.get=e,l.fields=n.map(n=>n.out),l}function hu(n){this._key=n?Object(g.u)(n):gi,this.reset()}iu.forEach(n=>{ru[n]=function(n,t){return e=>Object(g.p)({name:n,out:e||n},eu,t)}(n,ru[n])});const du=hu.prototype;function pu(n){Yi.call(this,null,n),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}du.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},du.add=function(n){this._add.push(n)},du.rem=function(n){this._rem.push(n)},du.values=function(){if(this._get=null,0===this._rem.length)return this._add;const n=this._add,t=this._rem,e=this._key,r=n.length,i=t.length,l=Array(r-i),u={};let a,o,s;for(a=0;a<i;++a)u[e(t[a])]=1;for(a=0,o=0;a<r;++a)u[e(s=n[a])]?u[e(s)]=0:l[o++]=s;return this._rem=[],this._add=l},du.distinct=function(n){const t=this.values(),e={};let r,i=t.length,l=0;for(;--i>=0;)r=n(t[i])+"",Object(g.w)(e,r)||(e[r]=1,++l);return l},du.extent=function(n){if(this._get!==n||!this._ext){const t=this.values(),e=Object(g.r)(t,n);this._ext=[t[e[0]],t[e[1]]],this._get=n}return this._ext},du.argmin=function(n){return this.extent(n)[0]||{}},du.argmax=function(n){return this.extent(n)[1]||{}},du.min=function(n){const t=this.extent(n)[0];return null!=t?n(t):void 0},du.max=function(n){const t=this.extent(n)[1];return null!=t?n(t):void 0},du.quartile=function(n){return this._get===n&&this._q||(this._q=ul(this.values(),n),this._get=n),this._q},du.q1=function(n){return this.quartile(n)[0]},du.q2=function(n){return this.quartile(n)[1]},du.q3=function(n){return this.quartile(n)[2]},du.ci=function(n){return this._get===n&&this._ci||(this._ci=fl(this.values(),1e3,.05,n),this._get=n),this._ci},du.ci0=function(n){return this.ci(n)[0]},du.ci1=function(n){return this.ci(n)[1]},pu.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:iu},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Object(g.z)(pu,Yi,{transform(n,t){const e=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=n.modified();return e.stamp=r.stamp,e.value&&(i||t.modified(e._inputs,!0))?(e._prev=e.value,e.value=i?e.init(n):{},t.visit(t.SOURCE,n=>e.add(n))):(e.value=e.value||e.init(n),t.visit(t.REM,n=>e.rem(n)),t.visit(t.ADD,n=>e.add(n))),r.modifies(e._outputs),e._drop=!1!==n.drop,n.cross&&e._dims.length>1&&(e._drop=!1,e.cross()),t.clean()&&e._drop&&r.clean(!0).runAfter(()=>this.clean()),e.changes(r)},cross(){const n=this,t=n.value,e=n._dnames,r=e.map(()=>({})),i=e.length;function l(n){let t,l,u,a;for(t in n)for(u=n[t].tuple,l=0;l<i;++l)r[l][a=u[e[l]]]=a}l(n._prev),l(t),function l(u,a,o){const s=e[o],c=r[o++];for(const e in c){const r=u?u+"|"+e:e;a[s]=c[e],o<i?l(r,a,o):t[r]||n.cell(r,a)}}("",{},0)},init(n){const t=this._inputs=[],e=this._outputs=[],r={};function i(n){const e=Object(g.i)(Object(g.g)(n)),i=e.length;let l,u=0;for(;u<i;++u)r[l=e[u]]||(r[l]=1,t.push(l))}this._dims=Object(g.i)(n.groupby),this._dnames=this._dims.map(n=>{const t=Object(g.h)(n);return i(n),e.push(t),t}),this.cellkey=n.key?n.key:Ql(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const l=n.fields||[null],u=n.ops||["count"],a=n.as||[],o=l.length,s={};let c,f,h,d,p,m;for(o!==u.length&&Object(g.o)("Unmatched number of fields and aggregate ops."),m=0;m<o;++m)c=l[m],f=u[m],null==c&&"count"!==f&&Object(g.o)("Null aggregate field specified."),d=Object(g.h)(c),p=nu(f,d,a[m]),e.push(p),"count"!==f?(h=s[d],h||(i(c),h=s[d]=[],h.field=c,this._measures.push(h)),"count"!==f&&(this._countOnly=!1),h.push(lu(f,p))):this._counts.push(p);return this._measures=this._measures.map(n=>fu(n,n.field)),{}},cellkey:Ql(),cell(n,t){let e=this.value[n];return e?0===e.num&&this._drop&&e.stamp<this.stamp?(e.stamp=this.stamp,this._adds[this._alen++]=e):e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e):(e=this.value[n]=this.newcell(n,t),this._adds[this._alen++]=e),e},newcell(n,t){const e={key:n,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[n]),stamp:this.stamp,store:!1};if(!this._countOnly){const n=this._measures,t=n.length;e.agg=Array(t);for(let r=0;r<t;++r)e.agg[r]=new n[r](e)}return e.store&&(e.data=new hu),e},newtuple(n,t){const e=this._dnames,r=this._dims,i=r.length,l={};for(let t=0;t<i;++t)l[e[t]]=r[t](n);return t?bi(t.tuple,l):vi(l)},clean(){const n=this.value;for(const t in n)0===n[t].num&&delete n[t]},add(n){const t=this.cellkey(n),e=this.cell(t,n);if(e.num+=1,this._countOnly)return;e.store&&e.data.add(n);const r=e.agg;for(let t=0,e=r.length;t<e;++t)r[t].add(r[t].get(n),n)},rem(n){const t=this.cellkey(n),e=this.cell(t,n);if(e.num-=1,this._countOnly)return;e.store&&e.data.rem(n);const r=e.agg;for(let t=0,e=r.length;t<e;++t)r[t].rem(r[t].get(n),n)},celltuple(n){const t=n.tuple,e=this._counts;n.store&&n.data.values();for(let r=0,i=e.length;r<i;++r)t[e[r]]=n.num;if(!this._countOnly){const e=n.agg;for(let n=0,r=e.length;n<r;++n)e[n].set(t)}return t},changes(n){const t=this._adds,e=this._mods,r=this._prev,i=this._drop,l=n.add,u=n.rem,a=n.mod;let o,s,c,f;if(r)for(s in r)o=r[s],i&&!o.num||u.push(o.tuple);for(c=0,f=this._alen;c<f;++c)l.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)o=e[c],(0===o.num&&i?u:a).push(this.celltuple(o)),e[c]=null;return this._alen=this._mlen=0,this._prev=null,n}});function gu(n){Yi.call(this,null,n)}function mu(n,t,e){const r=n;let i=t||[],l=e||[],u={},a=0;return{add:n=>l.push(n),remove:n=>u[r(n)]=++a,size:()=>i.length,data:(n,t)=>(a&&(i=i.filter(n=>!u[r(n)]),u={},a=0),t&&n&&i.sort(n),l.length&&(i=n?Object(g.O)(n,i,l.sort(n)):i.concat(l),l=[]),i)}}function vu(n){Yi.call(this,[],n)}function wu(n){Ei.call(this,null,yu,n)}function yu(n){return this.value&&!n.modified()?this.value:Object(g.l)(n.fields,n.orders)}function bu(n){Yi.call(this,null,n)}function xu(n){Yi.call(this,null,n)}gu.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Object(g.z)(gu,Yi,{transform(n,t){const e=!1!==n.interval,r=this._bins(n),i=r.start,l=r.step,u=n.as||["bin0","bin1"],a=u[0],o=u[1];let s;return s=n.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(g.g)(n.field))?t.ADD_MOD:t.ADD,t.visit(s,e?n=>{const t=r(n);n[a]=t,n[o]=null==t?null:i+l*(1+(t-i)/l)}:n=>n[a]=r(n)),t.modifies(e?u:a)},_bins(n){if(this.value&&!n.modified())return this.value;const t=n.field,e=ol(n),r=e.step;let i,l,u=e.start,a=u+Math.ceil((e.stop-u)/r)*r;null!=(i=n.anchor)&&(l=i-(u+r*Math.floor((i-u)/r)),u+=l,a+=l);const o=function(n){let e=Object(g.eb)(t(n));return null==e?null:e<u?-1/0:e>a?1/0:(e=Math.max(u,Math.min(e,a-r)),u+r*Math.floor(1e-14+(e-u)/r))};return o.start=u,o.stop=e.stop,o.step=r,this.value=Object(g.f)(o,Object(g.g)(t),n.name||"bin_"+Object(g.h)(t))}}),vu.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(g.z)(vu,Yi,{transform(n,t){const e=t.fork(t.ALL),r=mu(gi,this.value,e.materialize(e.ADD).add),i=n.sort,l=t.changed()||i&&(n.modified("sort")||t.modified(i.fields));return e.visit(e.REM,r.remove),this.modified(l),this.value=e.source=r.data(xi(i),l),t.source&&t.source.root&&(this.value.root=t.source.root),e}}),Object(g.z)(wu,Ei),bu.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Object(g.z)(bu,Yi,{transform(n,t){const e=t=>e=>{for(var r,i=function(n,t,e){switch(t){case"upper":n=n.toUpperCase();break;case"lower":n=n.toLowerCase()}return n.match(e)}(a(e),n.case,l)||[],o=0,s=i.length;o<s;++o)u.test(r=i[o])||t(r)},r=this._parameterCheck(n,t),i=this._counts,l=this._match,u=this._stop,a=n.field,o=n.as||["text","count"],s=e(n=>i[n]=1+(i[n]||0)),c=e(n=>i[n]-=1);return r?t.visit(t.SOURCE,s):(t.visit(t.ADD,s),t.visit(t.REM,c)),this._finish(t,o)},_parameterCheck(n,t){let e=!1;return!n.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(n.stopwords||"")+"$","i"),e=!0),!n.modified("pattern")&&this._match||(this._match=new RegExp(n.pattern||"[\\w']+","g"),e=!0),(n.modified("field")||t.modified(n.field.fields))&&(e=!0),e&&(this._counts={}),e},_finish(n,t){const e=this._counts,r=this._tuples||(this._tuples={}),i=t[0],l=t[1],u=n.fork(n.NO_SOURCE|n.NO_FIELDS);let a,o,s;for(a in e)o=r[a],s=e[a]||0,!o&&s?(r[a]=o=vi({}),o[i]=a,o[l]=s,u.add.push(o)):0===s?(o&&u.rem.push(o),e[a]=null,r[a]=null):o[l]!==s&&(o[l]=s,u.mod.push(o));return u.modifies(t)}}),xu.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(g.z)(xu,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE),r=n.as||["a","b"],i=r[0],l=r[1],u=!this.value||t.changed(t.ADD_REM)||n.modified("as")||n.modified("filter");let a=this.value;return u?(a&&(e.rem=a),a=t.materialize(t.SOURCE).source,e.add=this.value=function(n,t,e,r){for(var i,l,u=[],a={},o=n.length,s=0;s<o;++s)for(a[t]=l=n[s],i=0;i<o;++i)a[e]=n[i],r(a)&&(u.push(vi(a)),(a={})[t]=l);return u}(a,i,l,n.filter||g.ib)):e.mod=a,e.source=this.value,e.modifies(r)}});const _u={kde:kl,mixture:Cl,normal:_l,lognormal:Sl,uniform:Nl};function ku(n){Yi.call(this,null,n)}const ju=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Ou={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:ju},{name:"weights",type:"number",array:!0}]};function Au(n,t){return n?n.map((n,e)=>t[e]||Object(g.h)(n)):null}function Eu(n,t,e){const r=[],i=n=>n(o);let l,u,a,o,s,c;if(null==t)r.push(n.map(e));else for(l={},u=0,a=n.length;u<a;++u)o=n[u],s=t.map(i),c=l[s],c||(l[s]=c=[],c.dims=s,r.push(c)),c.push(e(o));return r}ku.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:ju.concat(Ou)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(g.z)(ku,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){const r=function n(t,e){const r=t.function;Object(g.w)(_u,r)||Object(g.o)("Unknown distribution function: "+r);const i=_u[r]();for(const r in t)"field"===r?i.data((t.from||e()).map(t[r])):"distributions"===r?i[r](t[r].map(t=>n(t,e))):"function"==typeof i[r]&&i[r](t[r]);return i}(n.distribution,function(n){return()=>n.materialize(n.SOURCE).source}(t)),i=n.steps||n.minsteps||25,l=n.steps||n.maxsteps||200;let u=n.method||"pdf";"pdf"!==u&&"cdf"!==u&&Object(g.o)("Invalid density method: "+u),n.extent||r.data||Object(g.o)("Missing density extent parameter."),u=r[u];const a=n.as||["value","density"],o=Xl(u,n.extent||Object(g.q)(r.data()),i,l).map(n=>{const t={};return t[a[0]]=n[0],t[a[1]]=n[1],vi(t)});this.value&&(e.rem=this.value),this.value=e.add=e.source=o}return e}});function Su(n){Yi.call(this,null,n)}Su.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function Cu(n){Ei.call(this,null,Du,n),this.modified(!0)}function Du(n){const t=n.expr;return this.value&&!n.modified("expr")?this.value:Object(g.f)(e=>t(e,n),Object(g.g)(t),Object(g.h)(t))}function Mu(n){Yi.call(this,[void 0,void 0],n)}function Fu(n,t){Ei.call(this,n),this.parent=t,this.count=0}function Tu(n){Yi.call(this,{},n),this._keys=Object(g.t)();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let e=0,r=t.active;e<r;++e)n(t[e],e,t)}}function Nu(n){Ei.call(this,null,Bu,n)}function Bu(n){return this.value&&!n.modified()?this.value:Object(g.B)(n.name)?Object(g.i)(n.name).map(n=>Object(g.u)(n)):Object(g.u)(n.name,n.as)}function zu(n){Yi.call(this,Object(g.t)(),n)}function Pu(n){Yi.call(this,[],n)}function $u(n){Yi.call(this,[],n)}function Ru(n){Yi.call(this,null,n)}function Iu(n){Yi.call(this,[],n)}Object(g.z)(Su,Yi,{transform(n,t){if(this.value&&!n.modified()&&!t.changed())return t;const e=t.materialize(t.SOURCE).source,r=Eu(t.source,n.groupby,g.y),i=n.smooth||!1,l=n.field,u=n.step||((n,t)=>Object(g.Z)(Object(g.q)(n,t))/30)(e,l),a=xi((n,t)=>l(n)-l(t)),o=n.as||"bin",s=r.length;let c,f=1/0,h=-1/0,d=0;for(;d<s;++d){const n=r[d].sort(a);c=-1;for(const t of hl(n,u,i,l))t<f&&(f=t),t>h&&(h=t),n[++c][o]=t}return this.value={start:f,stop:h,step:u},t.reflow(!0).modifies(o)}}),Object(g.z)(Cu,Ei),Mu.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(g.z)(Mu,Yi,{transform(n,t){const e=this.value,r=n.field,i=t.changed()||t.modified(r.fields)||n.modified("field");let l=e[0],u=e[1];if((i||null==l)&&(l=1/0,u=-1/0),t.visit(i?t.SOURCE:t.ADD,n=>{const t=Object(g.eb)(r(n));null!=t&&(t<l&&(l=t),t>u&&(u=t))}),!Number.isFinite(l)||!Number.isFinite(u)){let n=Object(g.h)(r);n&&(n=' for field "'.concat(n,'"')),t.dataflow.warn("Infinite extent".concat(n,": [").concat(l,", ").concat(u,"]")),l=u=void 0}this.value=[l,u]}}),Object(g.z)(Fu,Ei,{connect(n){return this.detachSubflow=n.detachSubflow,this.targets().add(n),n.source=this},add(n){this.count+=1,this.value.add.push(n)},rem(n){this.count-=1,this.value.rem.push(n)},mod(n){this.value.mod.push(n)},init(n){this.value.init(n,n.NO_SOURCE)},evaluate(){return this.value}}),Object(g.z)(Tu,Yi,{activate(n){this._targets[this._targets.active++]=n},subflow(n,t,e,r){const i=this.value;let l,u,a=Object(g.w)(i,n)&&i[n];return a?a.value.stamp<e.stamp&&(a.init(e),this.activate(a)):(u=r||(u=this._group[n])&&u.tuple,l=e.dataflow,a=new Fu(e.fork(e.NO_SOURCE),this),l.add(a).connect(t(l,n,u)),i[n]=a,this.activate(a)),a},clean(){const n=this.value;for(const t in n)if(0===n[t].count){const e=n[t].detachSubflow;e&&e(),delete n[t]}},initTargets(){const n=this._targets,t=n.length;for(let e=0;e<t&&null!=n[e];++e)n[e]=null;n.active=0},transform(n,t){const e=t.dataflow,r=n.key,i=n.subflow,l=this._keys,u=n.modified("key"),a=n=>this.subflow(n,i,t);return this._group=n.group||{},this.initTargets(),t.visit(t.REM,n=>{const t=gi(n),e=l.get(t);void 0!==e&&(l.delete(t),a(e).rem(n))}),t.visit(t.ADD,n=>{const t=r(n);l.set(gi(n),t),a(t).add(n)}),u||t.modified(r.fields)?t.visit(t.MOD,n=>{const t=gi(n),e=l.get(t),i=r(n);e===i?a(i).mod(n):(l.set(t,i),a(e).rem(n),a(i).add(n))}):t.changed(t.MOD)&&t.visit(t.MOD,n=>{a(l.get(gi(n))).mod(n)}),u&&t.visit(t.REFLOW,n=>{const t=gi(n),e=l.get(t),i=r(n);e!==i&&(l.set(t,i),a(e).rem(n),a(i).add(n))}),t.clean()?e.runAfter(()=>{this.clean(),l.clean()}):l.empty>e.cleanThreshold&&e.runAfter(l.clean),t}}),Object(g.z)(Nu,Ei),zu.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(g.z)(zu,Yi,{transform(n,t){const e=t.dataflow,r=this.value,i=t.fork(),l=i.add,u=i.rem,a=i.mod,o=n.expr;let s=!0;function c(t){const e=gi(t),i=o(t,n),c=r.get(e);i&&c?(r.delete(e),l.push(t)):i||c?s&&i&&!c&&a.push(t):(r.set(e,1),u.push(t))}return t.visit(t.REM,n=>{const t=gi(n);r.has(t)?r.delete(t):u.push(n)}),t.visit(t.ADD,t=>{o(t,n)?l.push(t):r.set(gi(t),1)}),t.visit(t.MOD,c),n.modified()&&(s=!1,t.visit(t.REFLOW,c)),r.empty>e.cleanThreshold&&e.runAfter(r.clean),i}}),Pu.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(g.z)(Pu,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE),r=n.fields,i=Au(r,n.as||[]),l=n.index||null,u=i.length;return e.rem=this.value,t.visit(t.SOURCE,n=>{const t=r.map(t=>t(n)),a=t.reduce((n,t)=>Math.max(n,t.length),0);let o,s,c,f=0;for(;f<a;++f){for(s=wi(n),o=0;o<u;++o)s[i[o]]=null==(c=t[o][f])?null:c;l&&(s[l]=f),e.add.push(s)}}),this.value=e.source=e.add,l&&e.modifies(l),e.modifies(i)}}),$u.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(g.z)($u,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE),r=n.fields,i=r.map(g.h),l=n.as||["key","value"],u=l[0],a=l[1],o=r.length;return e.rem=this.value,t.visit(t.SOURCE,n=>{for(let t,l=0;l<o;++l)t=wi(n),t[u]=i[l],t[a]=r[l](n),e.add.push(t)}),this.value=e.source=e.add,e.modifies(l)}}),Ru.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(g.z)(Ru,Yi,{transform(n,t){const e=n.expr,r=n.as,i=n.modified(),l=n.initonly?t.ADD:i?t.SOURCE:t.modified(e.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),n.initonly||t.modifies(r),t.visit(l,t=>t[r]=e(t,n))}}),Object(g.z)(Iu,Yi,{transform(n,t){const e=t.fork(t.ALL),r=n.generator;let i,l,u,a=this.value,o=n.size-a.length;if(o>0){for(i=[];--o>=0;)i.push(u=vi(r(n))),a.push(u);e.add=e.add.length?e.materialize(e.ADD).add.concat(i):i}else l=a.slice(0,-o),e.rem=e.rem.length?e.materialize(e.REM).rem.concat(l):l,a=a.slice(-o);return e.source=this.value=a,e}});const Lu={value:"value",median:rl,mean:function(n,t){let e=0,r=0;if(void 0===t)for(let t of n)null!=t&&(t=+t)>=t&&(++e,r+=t);else{let i=-1;for(let l of n)null!=(l=t(l,++i,n))&&(l=+l)>=l&&(++e,r+=l)}if(e)return r/e},min:Zi,max:Ki},Uu=[];function qu(n){Yi.call(this,[],n)}function Hu(n){pu.call(this,n)}function Wu(n){Yi.call(this,null,n)}function Gu(n){Ei.call(this,null,Yu,n)}function Yu(n){return this.value&&!n.modified()?this.value:Object(g.K)(n.fields,n.flat)}function Vu(n){Yi.call(this,[],n),this._pending=null}function Ju(n,t,e){e.forEach(vi);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=n.value,n.value=r.source=r.add=e,n._pending=null,r.rem.length&&r.clean(!0),r}function Xu(n){Yi.call(this,{},n)}function Ku(n){Ei.call(this,null,Zu,n)}function Zu(n){if(this.value&&!n.modified())return this.value;const t=n.extents,e=t.length;let r,i,l=1/0,u=-1/0;for(r=0;r<e;++r)i=t[r],i[0]<l&&(l=i[0]),i[1]>u&&(u=i[1]);return[l,u]}function Qu(n){Ei.call(this,null,na,n)}function na(n){return this.value&&!n.modified()?this.value:n.values.reduce((n,t)=>n.concat(t),[])}function ta(n){Yi.call(this,null,n)}function ea(n){pu.call(this,n)}function ra(n){Tu.call(this,n)}function ia(n){Yi.call(this,null,n)}function la(n){Yi.call(this,null,n)}function ua(n){Yi.call(this,null,n)}qu.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(g.z)(qu,Yi,{transform(n,t){var e,r,i,l,u,a,o,s,c,f,h=t.fork(t.ALL),d=function(n){var t,e=n.method||Lu.value;if(null!=Lu[e])return e===Lu.value?(t=void 0!==n.value?n.value:0,()=>t):Lu[e];Object(g.o)("Unrecognized imputation method: "+e)}(n),p=function(n){const t=n.field;return n=>n?t(n):NaN}(n),m=Object(g.h)(n.field),v=Object(g.h)(n.key),w=(n.groupby||[]).map(g.h),y=function(n,t,e,r){var i,l,u,a,o,s,c,f,h=n=>n(f),d=[],p=r?r.slice():[],g={},m={};for(p.forEach((n,t)=>g[n]=t+1),a=0,c=n.length;a<c;++a)f=n[a],s=e(f),o=g[s]||(g[s]=p.push(s)),l=(i=t?t.map(h):Uu)+"",(u=m[l])||(u=m[l]=[],d.push(u),u.values=i),u[o-1]=f;return d.domain=p,d}(t.source,n.groupby,n.key,n.keyvals),b=[],x=this.value,_=y.domain.length;for(u=0,s=y.length;u<s;++u)for(i=(e=y[u]).values,r=NaN,o=0;o<_;++o)if(null==e[o]){for(l=y.domain[o],f={_impute:!0},a=0,c=i.length;a<c;++a)f[w[a]]=i[a];f[v]=l,f[m]=Number.isNaN(r)?r=d(e,p):r,b.push(vi(f))}return b.length&&(h.add=h.materialize(h.ADD).add.concat(b)),x.length&&(h.rem=h.materialize(h.REM).rem.concat(x)),this.value=b,h}}),Hu.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:iu},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Object(g.z)(Hu,pu,{transform(n,t){const e=this,r=n.modified();let i;return e.value&&(r||t.modified(e._inputs,!0))?(i=e.value=r?e.init(n):{},t.visit(t.SOURCE,n=>e.add(n))):(i=e.value=e.value||this.init(n),t.visit(t.REM,n=>e.rem(n)),t.visit(t.ADD,n=>e.add(n))),e.changes(),t.visit(t.SOURCE,n=>{Object(g.p)(n,i[e.cellkey(n)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const n=this._adds,t=this._mods;let e,r;for(e=0,r=this._alen;e<r;++e)this.celltuple(n[e]),n[e]=null;for(e=0,r=this._mlen;e<r;++e)this.celltuple(t[e]),t[e]=null;this._alen=this._mlen=0}}),Wu.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(g.z)(Wu,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){const r=t.materialize(t.SOURCE).source,i=Eu(r,n.groupby,n.field),l=(n.groupby||[]).map(g.h),u=n.bandwidth,a=n.cumulative?"cdf":"pdf",o=n.as||["value","density"],s=[];let c=n.extent,f=n.steps||n.minsteps||25,h=n.steps||n.maxsteps||200;"pdf"!==a&&"cdf"!==a&&Object(g.o)("Invalid density method: "+a),"shared"===n.resolve&&(c||(c=Object(g.q)(r,n.field)),f=h=n.steps||h),i.forEach(t=>{const e=kl(t,u)[a],r=n.counts?t.length:1;Xl(e,c||Object(g.q)(t),f,h).forEach(n=>{const e={};for(let n=0;n<l.length;++n)e[l[n]]=t.dims[n];e[o[0]]=n[0],e[o[1]]=n[1]*r,s.push(vi(e))})}),this.value&&(e.rem=this.value),this.value=e.add=e.source=s}return e}}),Object(g.z)(Gu,Ei),Object(g.z)(Vu,Yi,{transform(n,t){const e=t.dataflow;if(this._pending)return Ju(this,t,this._pending);if(function(n){return n.modified("async")&&!(n.modified("values")||n.modified("url")||n.modified("format"))}(n))return t.StopPropagation;if(n.values)return Ju(this,t,e.parse(n.values,n.format));if(n.async){return{async:e.request(n.url,n.format).then(n=>(this._pending=Object(g.i)(n.data),n=>n.touch(this)))}}return e.request(n.url,n.format).then(n=>Ju(this,t,Object(g.i)(n.data)))}}),Xu.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(g.z)(Xu,Yi,{transform(n,t){const e=n.fields,r=n.index,i=n.values,l=null==n.default?null:n.default,u=n.modified(),a=e.length;let o,s,c,f=u?t.SOURCE:t.ADD,h=t,d=n.as;return i?(s=i.length,a>1&&!d&&Object(g.o)('Multi-field lookup requires explicit "as" parameter.'),d&&d.length!==a*s&&Object(g.o)('The "as" parameter has too few output field names.'),d=d||i.map(g.h),o=function(n){for(var t,u,o=0,c=0;o<a;++o)if(null==(u=r.get(e[o](n))))for(t=0;t<s;++t,++c)n[d[c]]=l;else for(t=0;t<s;++t,++c)n[d[c]]=i[t](u)}):(d||Object(g.o)("Missing output field names."),o=function(n){for(var t,i=0;i<a;++i)t=r.get(e[i](n)),n[d[i]]=null==t?l:t}),u?h=t.reflow(!0):(c=e.some(n=>t.modified(n.fields)),f|=c?t.MOD:0),t.visit(f,o),h.modifies(d)}}),Object(g.z)(Ku,Ei),Object(g.z)(Qu,Ei),Object(g.z)(ta,Yi,{transform(n,t){return this.modified(n.modified()),this.value=n,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),ea.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:iu,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Object(g.z)(ea,pu,{_transform:pu.prototype.transform,transform(n,t){return this._transform(function(n,t){const e=n.field,r=n.value,i=("count"===n.op?"__count__":n.op)||"sum",l=Object(g.g)(e).concat(Object(g.g)(r)),u=function(n,t,e){const r={},i=[];return e.visit(e.SOURCE,t=>{const e=n(t);r[e]||(r[e]=1,i.push(e))}),i.sort(g.j),t?i.slice(0,t):i}(e,n.limit||0,t);t.changed()&&n.set("__pivot__",null,null,!0);return{key:n.key,groupby:n.groupby,ops:u.map(()=>i),fields:u.map(n=>function(n,t,e,r){return Object(g.f)(r=>t(r)===n?e(r):NaN,r,n+"")}(n,e,r,l)),as:u.map(n=>n+""),modified:n.modified.bind(n)}}(n,t),t)}}),Object(g.z)(ra,Tu,{transform(n,t){const e=n.subflow,r=n.field,i=n=>this.subflow(gi(n),e,t,n);return(n.modified("field")||r&&t.modified(Object(g.g)(r)))&&Object(g.o)("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,n=>{const t=i(n);r(n).forEach(n=>t.mod(n))}),t.visit(t.ADD,n=>{const t=i(n);r(n).forEach(n=>t.add(vi(n)))}),t.visit(t.REM,n=>{const t=i(n);r(n).forEach(n=>t.rem(n))})):(t.visit(t.MOD,n=>i(n).mod(n)),t.visit(t.ADD,n=>i(n).add(n)),t.visit(t.REM,n=>i(n).rem(n))),t.clean()&&t.runAfter(()=>this.clean()),t}}),ia.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(g.z)(ia,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE),r=n.fields,i=Au(n.fields,n.as||[]),l=r?(n,t)=>function(n,t,e,r){for(let i=0,l=e.length;i<l;++i)t[r[i]]=e[i](n);return t}(n,t,r,i):yi;let u;return this.value?u=this.value:(t=t.addAll(),u=this.value={}),t.visit(t.REM,n=>{const t=gi(n);e.rem.push(u[t]),u[t]=null}),t.visit(t.ADD,n=>{const t=l(n,vi({}));u[gi(n)]=t,e.add.push(t)}),t.visit(t.MOD,n=>{e.mod.push(l(n,u[gi(n)]))}),e}}),Object(g.z)(la,Yi,{transform(n,t){return this.value=n.value,n.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),ua.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function aa(n){Yi.call(this,null,n)}function oa(n){Yi.call(this,[],n),this.count=0}function sa(n){Yi.call(this,null,n)}function ca(n){Yi.call(this,null,n),this.modified(!0)}function fa(n){Yi.call(this,null,n)}Object(g.z)(ua,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=n.as||["prob","value"];if(this.value&&!n.modified()&&!t.changed())return e.source=this.value,e;const i=Eu(t.materialize(t.SOURCE).source,n.groupby,n.field),l=(n.groupby||[]).map(g.h),u=[],a=n.step||.01,o=n.probs||Zl(a/2,1-1e-14,a),s=o.length;return i.forEach(n=>{const t=ll(n,o);for(let e=0;e<s;++e){const i={};for(let t=0;t<l.length;++t)i[l[t]]=n.dims[t];i[r[0]]=o[e],i[r[1]]=t[e],u.push(vi(i))}}),this.value&&(e.rem=this.value),this.value=e.add=e.source=u,e}}),Object(g.z)(aa,Yi,{transform(n,t){let e,r;return this.value?r=this.value:(e=t=t.addAll(),r=this.value={}),n.derive&&(e=t.fork(t.NO_SOURCE),t.visit(t.REM,n=>{const t=gi(n);e.rem.push(r[t]),r[t]=null}),t.visit(t.ADD,n=>{const t=wi(n);r[gi(n)]=t,e.add.push(t)}),t.visit(t.MOD,n=>{const t=r[gi(n)];for(const r in n)t[r]=n[r],e.modifies(r);e.mod.push(t)})),e}}),oa.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(g.z)(oa,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE),r=n.modified("size"),i=n.size,l=this.value.reduce((n,t)=>(n[gi(t)]=1,n),{});let u=this.value,a=this.count,o=0;function s(n){let t,r;u.length<i?u.push(n):(r=~~((a+1)*sl()),r<u.length&&r>=o&&(t=u[r],l[gi(t)]&&e.rem.push(t),u[r]=n)),++a}if(t.rem.length&&(t.visit(t.REM,n=>{const t=gi(n);l[t]&&(l[t]=-1,e.rem.push(n)),--a}),u=u.filter(n=>-1!==l[gi(n)])),(t.rem.length||r)&&u.length<i&&t.source&&(o=a=u.length,t.visit(t.SOURCE,n=>{l[gi(n)]||s(n)}),o=-1),r&&u.length>i){const n=u.length-i;for(let t=0;t<n;++t)l[gi(u[t])]=-1,e.rem.push(u[t]);u=u.slice(n)}return t.mod.length&&t.visit(t.MOD,n=>{l[gi(n)]&&e.mod.push(n)}),t.add.length&&t.visit(t.ADD,s),(t.add.length||o<0)&&(e.add=u.filter(n=>!l[gi(n)])),this.count=a,this.value=e.source=u,e}}),sa.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(g.z)(sa,Yi,{transform(n,t){if(this.value&&!n.modified())return;const e=t.materialize().fork(t.MOD),r=n.as||"data";return e.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Zl(n.start,n.stop,n.step||1).map(n=>{const t={};return t[r]=n,vi(t)}),e.add=t.add.concat(this.value),e}}),Object(g.z)(ca,Yi,{transform(n,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const ha=["unit0","unit1"];function da(n){Yi.call(this,Object(g.t)(),n)}function pa(n){Yi.call(this,null,n)}fa.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:St,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:ha}]},Object(g.z)(fa,Yi,{transform(n,t){const e=n.field,r=!1!==n.interval,i="utc"===n.timezone,l=this._floor(n,t),u=(i?ie:re)(l.unit).offset,a=n.as||ha,o=a[0],s=a[1],c=l.step;let f=l.start||1/0,h=l.stop||-1/0,d=t.ADD;return(n.modified()||t.modified(Object(g.g)(e)))&&(d=(t=t.reflow(!0)).SOURCE,f=1/0,h=-1/0),t.visit(d,n=>{const t=e(n);let i,a;null==t?(n[o]=null,r&&(n[s]=null)):(n[o]=i=a=l(t),r&&(n[s]=a=u(i,c)),i<f&&(f=i),a>h&&(h=a))}),l.start=f,l.stop=h,t.modifies(r?a:o)},_floor(n,t){const e="utc"===n.timezone,{units:r,step:i}=n.units?{units:n.units,step:n.step||1}:ye({extent:n.extent||Object(g.q)(t.materialize(t.SOURCE).source,n.field),maxbins:n.maxbins}),l=Dt(r),u=this.value||{},a=(e?ne:Kt)(l,i);return a.unit=Object(g.W)(l),a.units=l,a.step=i,a.start=u.start,a.stop=u.stop,this.value=a}}),Object(g.z)(da,Yi,{transform(n,t){const e=t.dataflow,r=n.field,i=this.value,l=n=>i.set(r(n),n);let u=!0;return n.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,l)):t.changed()?(t.visit(t.REM,n=>i.delete(r(n))),t.visit(t.ADD,l)):u=!1,this.modified(u),i.empty>e.cleanThreshold&&e.runAfter(i.clean),t.fork()}}),Object(g.z)(pa,Yi,{transform(n,t){(!this.value||n.modified("field")||n.modified("sort")||t.changed()||n.sort&&t.modified(n.sort.fields))&&(this.value=(n.sort?t.source.slice().sort(xi(n.sort)):t.source).map(n.field))}});const ga={row_number:function(){return{next:n=>n.index+1}},rank:function(){let n;return{init:()=>n=1,next:t=>{const e=t.index,r=t.data;return e&&t.compare(r[e-1],r[e])?n=e+1:n}}},dense_rank:function(){let n;return{init:()=>n=1,next:t=>{const e=t.index,r=t.data;return e&&t.compare(r[e-1],r[e])?++n:n}}},percent_rank:function(){const n=ga.rank(),t=n.next;return{init:n.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let n;return{init:()=>n=0,next:t=>{const e=t.data,r=t.compare;let i=t.index;if(n<i){for(;i+1<e.length&&!r(e[i],e[i+1]);)++i;n=i}return(1+n)/e.length}}},ntile:function(n,t){(t=+t)>0||Object(g.o)("ntile num must be greater than zero.");const e=ga.cume_dist(),r=e.next;return{init:e.init,next:n=>Math.ceil(t*r(n))}},lag:function(n,t){return t=+t||1,{next:e=>{const r=e.index-t;return r>=0?n(e.data[r]):null}}},lead:function(n,t){return t=+t||1,{next:e=>{const r=e.index+t,i=e.data;return r<i.length?n(i[r]):null}}},first_value:function(n){return{next:t=>n(t.data[t.i0])}},last_value:function(n){return{next:t=>n(t.data[t.i1-1])}},nth_value:function(n,t){return(t=+t)>0||Object(g.o)("nth_value nth must be greater than zero."),{next:e=>{const r=e.i0+(t-1);return r<e.i1?n(e.data[r]):null}}},prev_value:function(n){let t;return{init:()=>t=null,next:e=>{const r=n(e.data[e.index]);return null!=r?t=r:t}}},next_value:function(n){let t,e;return{init:()=>(t=null,e=-1),next:r=>{const i=r.data;return r.index<=e?t:(e=function(n,t,e){for(let r=t.length;e<r;++e){if(null!=n(t[e]))return e}return-1}(n,i,r.index))<0?(e=i.length,t=null):t=n(i[e])}}}};const ma=Object.keys(ga);function va(n){const t=Object(g.i)(n.ops),e=Object(g.i)(n.fields),r=Object(g.i)(n.params),i=Object(g.i)(n.as),l=this.outputs=[],u=this.windows=[],a={},o={},s=[],c=[];let f=!0;function h(n){Object(g.i)(Object(g.g)(n)).forEach(n=>a[n]=1)}h(n.sort),t.forEach((n,t)=>{const a=e[t],d=Object(g.h)(a),p=nu(n,d,i[t]);if(h(a),l.push(p),Object(g.w)(ga,n))u.push(function(n,t,e,r){const i=ga[n](t,e);return{init:i.init||g.mb,update:function(n,t){t[r]=i.next(n)}}}(n,e[t],r[t],p));else{if(null==a&&"count"!==n&&Object(g.o)("Null aggregate field specified."),"count"===n)return void s.push(p);f=!1;let t=o[d];t||(t=o[d]=[],t.field=a,c.push(t)),t.push(lu(n,p))}}),(s.length||c.length)&&(this.cell=function(n,t,e){n=n.map(n=>fu(n,n.field));const r={num:0,agg:null,store:!1,count:t};if(!e)for(var i=n.length,l=r.agg=Array(i),u=0;u<i;++u)l[u]=new n[u](r);if(r.store)var a=r.data=new hu;return r.add=function(n){if(r.num+=1,!e){a&&a.add(n);for(let t=0;t<i;++t)l[t].add(l[t].get(n),n)}},r.rem=function(n){if(r.num-=1,!e){a&&a.rem(n);for(let t=0;t<i;++t)l[t].rem(l[t].get(n),n)}},r.set=function(n){let i,u;for(a&&a.values(),i=0,u=t.length;i<u;++i)n[t[i]]=r.num;if(!e)for(i=0,u=l.length;i<u;++i)l[i].set(n)},r.init=function(){r.num=0,a&&a.reset();for(let n=0;n<i;++n)l[n].init()},r}(c,s,f)),this.inputs=Object.keys(a)}const wa=va.prototype;function ya(n){Yi.call(this,{},n),this._mlen=0,this._mods=[]}function ba(n,t,e,r){const i=r.sort,l=i&&!r.ignorePeers,u=r.frame||[null,0],a=n.data(e),o=a.length,s=l?mt(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Object(g.m)(-1)};t.init();for(let n=0;n<o;++n)xa(c,u,n,o),l&&_a(c,s),t.update(c,a[n])}function xa(n,t,e,r){n.p0=n.i0,n.p1=n.i1,n.i0=null==t[0]?0:Math.max(0,e-Math.abs(t[0])),n.i1=null==t[1]?r:Math.min(r,e+Math.abs(t[1])+1),n.index=e}function _a(n,t){const e=n.i0,r=n.i1-1,i=n.compare,l=n.data,u=l.length-1;e>0&&!i(l[e],l[e-1])&&(n.i0=t.left(l,l[e])),r<u&&!i(l[r],l[r+1])&&(n.i1=t.right(l,l[r]))}function ka(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function ja(n){this._context=n}wa.init=function(){this.windows.forEach(n=>n.init()),this.cell&&this.cell.init()},wa.update=function(n,t){const e=this.cell,r=this.windows,i=n.data,l=r&&r.length;let u;if(e){for(u=n.p0;u<n.i0;++u)e.rem(i[u]);for(u=n.p1;u<n.i1;++u)e.add(i[u]);e.set(t)}for(u=0;u<l;++u)r[u].update(n,t)},ya.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ma.concat(iu)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Object(g.z)(ya,Yi,{transform(n,t){this.stamp=t.stamp;const e=n.modified(),r=xi(n.sort),i=Ql(n.groupby),l=n=>this.group(i(n));let u=this.state;u&&!e||(u=this.state=new va(n)),e||t.modified(u.inputs)?(this.value={},t.visit(t.SOURCE,n=>l(n).add(n))):(t.visit(t.REM,n=>l(n).remove(n)),t.visit(t.ADD,n=>l(n).add(n)));for(let t=0,e=this._mlen;t<e;++t)ba(this._mods[t],u,r,n);return this._mlen=0,this._mods=[],t.reflow(e).modifies(u.outputs)},group(n){let t=this.value[n];return t||(t=this.value[n]=mu(gi),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ka(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ka(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};var Oa=function(){};function Aa(n){this._context=n}Aa.prototype={areaStart:Oa,areaEnd:Oa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:ka(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function Ea(n){this._context=n}Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:ka(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function Sa(n,t){this._basis=new ja(n),this._beta=t}Sa.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,t=this._y,e=n.length-1;if(e>0)for(var r,i=n[0],l=t[0],u=n[e]-i,a=t[e]-l,o=-1;++o<=e;)r=o/e,this._basis.point(this._beta*n[o]+(1-this._beta)*(i+r*u),this._beta*t[o]+(1-this._beta)*(l+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(n,t){this._x.push(+n),this._y.push(+t)}};var Ca=function n(t){function e(n){return 1===t?new ja(n):new Sa(n,t)}return e.beta=function(t){return n(+t)},e}(.85);function Da(n,t,e){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-e),n._x2,n._y2)}function Ma(n,t){this._context=n,this._k=(1-t)/6}Ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Da(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:Da(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fa=function n(t){function e(n){return new Ma(n,t)}return e.tension=function(t){return n(+t)},e}(0);function Ta(n,t){this._context=n,this._k=(1-t)/6}Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Da(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Na=function n(t){function e(n){return new Ta(n,t)}return e.tension=function(t){return n(+t)},e}(0);function Ba(n,t){this._context=n,this._k=(1-t)/6}Ba.prototype={areaStart:Oa,areaEnd:Oa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:Da(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var za=function n(t){function e(n){return new Ba(n,t)}return e.tension=function(t){return n(+t)},e}(0),Pa=Math.abs,$a=Math.atan2,Ra=Math.cos,Ia=Math.max,La=Math.min,Ua=Math.sin,qa=Math.sqrt,Ha=Math.PI,Wa=Ha/2,Ga=2*Ha;function Ya(n){return n>1?0:n<-1?Ha:Math.acos(n)}function Va(n){return n>=1?Wa:n<=-1?-Wa:Math.asin(n)}function Ja(n,t,e){var r=n._x1,i=n._y1,l=n._x2,u=n._y2;if(n._l01_a>1e-12){var a=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,o=3*n._l01_a*(n._l01_a+n._l12_a);r=(r*a-n._x0*n._l12_2a+n._x2*n._l01_2a)/o,i=(i*a-n._y0*n._l12_2a+n._y2*n._l01_2a)/o}if(n._l23_a>1e-12){var s=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,c=3*n._l23_a*(n._l23_a+n._l12_a);l=(l*s+n._x1*n._l23_2a-t*n._l12_2a)/c,u=(u*s+n._y1*n._l23_2a-e*n._l12_2a)/c}n._context.bezierCurveTo(r,i,l,u,n._x2,n._y2)}function Xa(n,t){this._context=n,this._alpha=t}Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ja(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ka=function n(t){function e(n){return t?new Xa(n,t):new Ma(n,0)}return e.alpha=function(t){return n(+t)},e}(.5);function Za(n,t){this._context=n,this._alpha=t}Za.prototype={areaStart:Oa,areaEnd:Oa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:Ja(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Qa=function n(t){function e(n){return t?new Za(n,t):new Ba(n,0)}return e.alpha=function(t){return n(+t)},e}(.5);function no(n,t){this._context=n,this._alpha=t}no.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ja(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var to=function n(t){function e(n){return t?new no(n,t):new Ta(n,0)}return e.alpha=function(t){return n(+t)},e}(.5);function eo(n){this._context=n}eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t)}}};var ro=function(n){return new eo(n)};function io(n){this._context=n}io.prototype={areaStart:Oa,areaEnd:Oa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function lo(n){return n<0?-1:1}function uo(n,t,e){var r=n._x1-n._x0,i=t-n._x1,l=(n._y1-n._y0)/(r||i<0&&-0),u=(e-n._y1)/(i||r<0&&-0),a=(l*i+u*r)/(r+i);return(lo(l)+lo(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(a))||0}function ao(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function oo(n,t,e){var r=n._x0,i=n._y0,l=n._x1,u=n._y1,a=(l-r)/3;n._context.bezierCurveTo(r+a,i+a*t,l-a,u-a*e,l,u)}function so(n){this._context=n}function co(n){this._context=new fo(n)}function fo(n){this._context=n}function ho(n){this._context=n}function po(n){var t,e,r=n.length-1,i=new Array(r),l=new Array(r),u=new Array(r);for(i[0]=0,l[0]=2,u[0]=n[0]+2*n[1],t=1;t<r-1;++t)i[t]=1,l[t]=4,u[t]=4*n[t]+2*n[t+1];for(i[r-1]=2,l[r-1]=7,u[r-1]=8*n[r-1]+n[r],t=1;t<r;++t)e=i[t]/l[t-1],l[t]-=e,u[t]-=e*u[t-1];for(i[r-1]=u[r-1]/l[r-1],t=r-2;t>=0;--t)i[t]=(u[t]-i[t+1])/l[t];for(l[r-1]=(n[r]+i[r-1])/2,t=0;t<r-1;++t)l[t]=2*n[t+1]-i[t+1];return[i,l]}so.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oo(this,this._t0,ao(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(t=+t,(n=+n)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,oo(this,ao(this,e=uo(this,n,t)),e);break;default:oo(this,this._t0,e=uo(this,n,t))}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}},(co.prototype=Object.create(so.prototype)).point=function(n,t){so.prototype.point.call(this,t,n)},fo.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,i,l){this._context.bezierCurveTo(t,n,r,e,l,i)}},ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),2===e)this._context.lineTo(n[1],t[1]);else for(var r=po(n),i=po(t),l=0,u=1;u<e;++l,++u)this._context.bezierCurveTo(r[0][l],i[0][l],r[1][l],i[1][l],n[u],t[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function go(n,t){this._context=n,this._t=t}go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}}this._x=n,this._y=t}};const mo=Math.PI,vo=2*mo,wo=vo-1e-6;function yo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function bo(){return new yo}yo.prototype=bo.prototype={constructor:yo,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,r){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(n,t,e,r,i,l){this._+="C"+ +n+","+ +t+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+l)},arcTo:function(n,t,e,r,i){n=+n,t=+t,e=+e,r=+r,i=+i;var l=this._x1,u=this._y1,a=e-n,o=r-t,s=l-n,c=u-t,f=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*a-o*s)>1e-6&&i){var h=e-l,d=r-u,p=a*a+o*o,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(f),w=i*Math.tan((mo-Math.acos((p+f-g)/(2*m*v)))/2),y=w/v,b=w/m;Math.abs(y-1)>1e-6&&(this._+="L"+(n+y*s)+","+(t+y*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>s*d)+","+(this._x1=n+b*a)+","+(this._y1=t+b*o)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,e,r,i,l){n=+n,t=+t,l=!!l;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),o=n+u,s=t+a,c=1^l,f=l?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+o+","+s:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+o+","+s),e&&(f<0&&(f=f%vo+vo),f>wo?this._+="A"+e+","+e+",0,1,"+c+","+(n-u)+","+(t-a)+"A"+e+","+e+",0,1,"+c+","+(this._x1=o)+","+(this._y1=s):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=mo)+","+c+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=t+e*Math.sin(i))))},rect:function(n,t,e,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var xo=bo,_o=function(n){return function(){return n}};function ko(n){return n.innerRadius}function jo(n){return n.outerRadius}function Oo(n){return n.startAngle}function Ao(n){return n.endAngle}function Eo(n){return n&&n.padAngle}function So(n,t,e,r,i,l,u,a){var o=e-n,s=r-t,c=u-i,f=a-l,h=f*o-c*s;if(!(h*h<1e-12))return[n+(h=(c*(t-l)-f*(n-i))/h)*o,t+h*s]}function Co(n,t,e,r,i,l,u){var a=n-e,o=t-r,s=(u?l:-l)/qa(a*a+o*o),c=s*o,f=-s*a,h=n+c,d=t+f,p=e+c,g=r+f,m=(h+p)/2,v=(d+g)/2,w=p-h,y=g-d,b=w*w+y*y,x=i-l,_=h*g-p*d,k=(y<0?-1:1)*qa(Ia(0,x*x*b-_*_)),j=(_*y-w*k)/b,O=(-_*w-y*k)/b,A=(_*y+w*k)/b,E=(-_*w+y*k)/b,S=j-m,C=O-v,D=A-m,M=E-v;return S*S+C*C>D*D+M*M&&(j=A,O=E),{cx:j,cy:O,x01:-c,y01:-f,x11:j*(i/x-1),y11:O*(i/x-1)}}Array.prototype.slice;var Do=function(n){return"object"==typeof n&&"length"in n?n:Array.from(n)};function Mo(n){return n[0]}function Fo(n){return n[1]}var To=function(n,t){var e=_o(!0),r=null,i=ro,l=null;function u(u){var a,o,s,c=(u=Do(u)).length,f=!1;for(null==r&&(l=i(s=xo())),a=0;a<=c;++a)!(a<c&&e(o=u[a],a,u))===f&&((f=!f)?l.lineStart():l.lineEnd()),f&&l.point(+n(o,a,u),+t(o,a,u));if(s)return l=null,s+""||null}return n="function"==typeof n?n:void 0===n?Mo:_o(n),t="function"==typeof t?t:void 0===t?Fo:_o(t),u.x=function(t){return arguments.length?(n="function"==typeof t?t:_o(+t),u):n},u.y=function(n){return arguments.length?(t="function"==typeof n?n:_o(+n),u):t},u.defined=function(n){return arguments.length?(e="function"==typeof n?n:_o(!!n),u):e},u.curve=function(n){return arguments.length?(i=n,null!=r&&(l=i(r)),u):i},u.context=function(n){return arguments.length?(null==n?r=l=null:l=i(r=n),u):r},u},No=function(n,t,e){var r=null,i=_o(!0),l=null,u=ro,a=null;function o(o){var s,c,f,h,d,p=(o=Do(o)).length,g=!1,m=new Array(p),v=new Array(p);for(null==l&&(a=u(d=xo())),s=0;s<=p;++s){if(!(s<p&&i(h=o[s],s,o))===g)if(g=!g)c=s,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=s-1;f>=c;--f)a.point(m[f],v[f]);a.lineEnd(),a.areaEnd()}g&&(m[s]=+n(h,s,o),v[s]=+t(h,s,o),a.point(r?+r(h,s,o):m[s],e?+e(h,s,o):v[s]))}if(d)return a=null,d+""||null}function s(){return To().defined(i).curve(u).context(l)}return n="function"==typeof n?n:void 0===n?Mo:_o(+n),t="function"==typeof t?t:_o(void 0===t?0:+t),e="function"==typeof e?e:void 0===e?Fo:_o(+e),o.x=function(t){return arguments.length?(n="function"==typeof t?t:_o(+t),r=null,o):n},o.x0=function(t){return arguments.length?(n="function"==typeof t?t:_o(+t),o):n},o.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:_o(+n),o):r},o.y=function(n){return arguments.length?(t="function"==typeof n?n:_o(+n),e=null,o):t},o.y0=function(n){return arguments.length?(t="function"==typeof n?n:_o(+n),o):t},o.y1=function(n){return arguments.length?(e=null==n?null:"function"==typeof n?n:_o(+n),o):e},o.lineX0=o.lineY0=function(){return s().x(n).y(t)},o.lineY1=function(){return s().x(n).y(e)},o.lineX1=function(){return s().x(r).y(t)},o.defined=function(n){return arguments.length?(i="function"==typeof n?n:_o(!!n),o):i},o.curve=function(n){return arguments.length?(u=n,null!=l&&(a=u(l)),o):u},o.context=function(n){return arguments.length?(null==n?l=a=null:a=u(l=n),o):l},o},Bo={draw:function(n,t){var e=Math.sqrt(t/Ha);n.moveTo(e,0),n.arc(0,0,e,0,Ga)}},zo=(Math.sqrt(1/3),Math.sin(Ha/10)/Math.sin(7*Ha/10));Math.sin(Ga/10),Math.cos(Ga/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function Po(n,t){if("undefined"!=typeof document&&document.createElement){const e=document.createElement("canvas");if(e&&e.getContext)return e.width=n,e.height=t,e}return null}const $o=()=>"undefined"!=typeof Image?Image:null,Ro=mt(gt),Io=Ro.right,Lo=Ro.left;mt(nl).center;var Uo=Io;function qo(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function Ho(n,t){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Wo=Symbol("implicit");function Go(){var n=new Map,t=[],e=[],r=Wo;function i(i){var l=i+"",u=n.get(l);if(!u){if(r!==Wo)return r;n.set(l,u=t.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new Map;for(const r of e){const e=r+"";n.has(e)||n.set(e,t.push(r))}return i},i.range=function(n){return arguments.length?(e=Array.from(n),i):e.slice()},i.unknown=function(n){return arguments.length?(r=n,i):r},i.copy=function(){return Go(t,e).unknown(r)},qo.apply(i,arguments),i}function Yo(n,t,e,r){var i,l=an(n,t,e);switch((r=sn(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(n),Math.abs(t));return null!=r.precision||isNaN(i=vn(l,u))||(r.precision=i),gn(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=wn(l,Math.max(Math.abs(n),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=yn(l))||(r.precision=i-2*("%"===r.type))}return pn(r)}var Vo=function(n,t,e){n.prototype=t.prototype=e,e.constructor=n};function Jo(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function Xo(){}var Ko="\\s*([+-]?\\d+)\\s*",Zo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ns=/^#([0-9a-f]{3,8})$/,ts=new RegExp("^rgb\\("+[Ko,Ko,Ko]+"\\)$"),es=new RegExp("^rgb\\("+[Qo,Qo,Qo]+"\\)$"),rs=new RegExp("^rgba\\("+[Ko,Ko,Ko,Zo]+"\\)$"),is=new RegExp("^rgba\\("+[Qo,Qo,Qo,Zo]+"\\)$"),ls=new RegExp("^hsl\\("+[Zo,Qo,Qo]+"\\)$"),us=new RegExp("^hsla\\("+[Zo,Qo,Qo,Zo]+"\\)$"),as={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function os(){return this.rgb().formatHex()}function ss(){return this.rgb().formatRgb()}function cs(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=ns.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?fs(t):3===e?new gs(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?hs(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?hs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ts.exec(n))?new gs(t[1],t[2],t[3],1):(t=es.exec(n))?new gs(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rs.exec(n))?hs(t[1],t[2],t[3],t[4]):(t=is.exec(n))?hs(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ls.exec(n))?ys(t[1],t[2]/100,t[3]/100,1):(t=us.exec(n))?ys(t[1],t[2]/100,t[3]/100,t[4]):as.hasOwnProperty(n)?fs(as[n]):"transparent"===n?new gs(NaN,NaN,NaN,0):null}function fs(n){return new gs(n>>16&255,n>>8&255,255&n,1)}function hs(n,t,e,r){return r<=0&&(n=t=e=NaN),new gs(n,t,e,r)}function ds(n){return n instanceof Xo||(n=cs(n)),n?new gs((n=n.rgb()).r,n.g,n.b,n.opacity):new gs}function ps(n,t,e,r){return 1===arguments.length?ds(n):new gs(n,t,e,null==r?1:r)}function gs(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}function ms(){return"#"+ws(this.r)+ws(this.g)+ws(this.b)}function vs(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function ws(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function ys(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new _s(n,t,e,r)}function bs(n){if(n instanceof _s)return new _s(n.h,n.s,n.l,n.opacity);if(n instanceof Xo||(n=cs(n)),!n)return new _s;if(n instanceof _s)return n;var t=(n=n.rgb()).r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),l=Math.max(t,e,r),u=NaN,a=l-i,o=(l+i)/2;return a?(u=t===l?(e-r)/a+6*(e<r):e===l?(r-t)/a+2:(t-e)/a+4,a/=o<.5?l+i:2-l-i,u*=60):a=o>0&&o<1?0:u,new _s(u,a,o,n.opacity)}function xs(n,t,e,r){return 1===arguments.length?bs(n):new _s(n,t,e,null==r?1:r)}function _s(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function ks(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function js(n,t,e,r,i){var l=n*n,u=l*n;return((1-3*n+3*l-u)*t+(4-6*l+3*u)*e+(1+3*n+3*l-3*u)*r+u*i)/6}Vo(Xo,cs,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:os,formatHex:os,formatHsl:function(){return bs(this).formatHsl()},formatRgb:ss,toString:ss}),Vo(gs,ps,Jo(Xo,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new gs(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new gs(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ms,formatHex:ms,formatRgb:vs,toString:vs})),Vo(_s,xs,Jo(Xo,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new _s(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new _s(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new gs(ks(n>=240?n-240:n+120,i,r),ks(n,i,r),ks(n<120?n+240:n-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));var Os=function(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),i=n[r],l=n[r+1],u=r>0?n[r-1]:2*i-l,a=r<t-1?n[r+2]:2*l-i;return js((e-r/t)*t,u,i,l,a)}},As=function(n){var t=n.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*t),i=n[(r+t-1)%t],l=n[r%t],u=n[(r+1)%t],a=n[(r+2)%t];return js((e-r/t)*t,i,l,u,a)}},Es=n=>()=>n;function Ss(n,t){return function(e){return n+e*t}}function Cs(n,t){var e=t-n;return e?Ss(n,e>180||e<-180?e-360*Math.round(e/360):e):Es(isNaN(n)?t:n)}function Ds(n){return 1==(n=+n)?Ms:function(t,e){return e-t?function(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}(t,e,n):Es(isNaN(t)?e:t)}}function Ms(n,t){var e=t-n;return e?Ss(n,e):Es(isNaN(n)?t:n)}var Fs=function n(t){var e=Ds(t);function r(n,t){var r=e((n=ps(n)).r,(t=ps(t)).r),i=e(n.g,t.g),l=e(n.b,t.b),u=Ms(n.opacity,t.opacity);return function(t){return n.r=r(t),n.g=i(t),n.b=l(t),n.opacity=u(t),n+""}}return r.gamma=n,r}(1);function Ts(n){return function(t){var e,r,i=t.length,l=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=ps(t[e]),l[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return l=n(l),u=n(u),a=n(a),r.opacity=1,function(n){return r.r=l(n),r.g=u(n),r.b=a(n),r+""}}}var Ns=Ts(Os),Bs=Ts(As),zs=function(n,t){t||(t=[]);var e,r=n?Math.min(t.length,n.length):0,i=t.slice();return function(l){for(e=0;e<r;++e)i[e]=n[e]*(1-l)+t[e]*l;return i}};function Ps(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}var $s=function(n,t){return(Ps(t)?zs:Rs)(n,t)};function Rs(n,t){var e,r=t?t.length:0,i=n?Math.min(r,n.length):0,l=new Array(i),u=new Array(r);for(e=0;e<i;++e)l[e]=Gs(n[e],t[e]);for(;e<r;++e)u[e]=t[e];return function(n){for(e=0;e<i;++e)u[e]=l[e](n);return u}}var Is=function(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}},Ls=function(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}},Us=function(n,t){var e,r={},i={};for(e in null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={}),t)e in n?r[e]=Gs(n[e],t[e]):i[e]=t[e];return function(n){for(e in r)i[e]=r[e](n);return i}},qs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hs=new RegExp(qs.source,"g");var Ws=function(n,t){var e,r,i,l=qs.lastIndex=Hs.lastIndex=0,u=-1,a=[],o=[];for(n+="",t+="";(e=qs.exec(n))&&(r=Hs.exec(t));)(i=r.index)>l&&(i=t.slice(l,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,o.push({i:u,x:Ls(e,r)})),l=Hs.lastIndex;return l<t.length&&(i=t.slice(l),a[u]?a[u]+=i:a[++u]=i),a.length<2?o[0]?function(n){return function(t){return n(t)+""}}(o[0].x):function(n){return function(){return n}}(t):(t=o.length,function(n){for(var e,r=0;r<t;++r)a[(e=o[r]).i]=e.x(n);return a.join("")})},Gs=function(n,t){var e,r=typeof t;return null==t||"boolean"===r?Es(t):("number"===r?Ls:"string"===r?(e=cs(t))?(t=e,Fs):Ws:t instanceof cs?Fs:t instanceof Date?Is:Ps(t)?zs:Array.isArray(t)?Rs:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Us:Ls)(n,t)},Ys=function(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}};function Vs(n){return+n}var Js=[0,1];function Xs(n){return n}function Ks(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:(e=isNaN(t)?NaN:.5,function(){return e});var e}function Zs(n,t,e){var r=n[0],i=n[1],l=t[0],u=t[1];return i<r?(r=Ks(i,r),l=e(u,l)):(r=Ks(r,i),l=e(l,u)),function(n){return l(r(n))}}function Qs(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),l=new Array(r),u=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=Ks(n[u],n[u+1]),l[u]=e(t[u],t[u+1]);return function(t){var e=Uo(n,t,1,r)-1;return l[e](i[e](t))}}function nc(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function tc(){var n,t,e,r,i,l,u=Js,a=Js,o=Gs,s=Xs;function c(){var n,t,e,o=Math.min(u.length,a.length);return s!==Xs&&(n=u[0],t=u[o-1],n>t&&(e=n,n=t,t=e),s=function(e){return Math.max(n,Math.min(t,e))}),r=o>2?Qs:Zs,i=l=null,f}function f(t){return isNaN(t=+t)?e:(i||(i=r(u.map(n),a,o)))(n(s(t)))}return f.invert=function(e){return s(t((l||(l=r(a,u.map(n),Ls)))(e)))},f.domain=function(n){return arguments.length?(u=Array.from(n,Vs),c()):u.slice()},f.range=function(n){return arguments.length?(a=Array.from(n),c()):a.slice()},f.rangeRound=function(n){return a=Array.from(n),o=Ys,c()},f.clamp=function(n){return arguments.length?(s=!!n||Xs,c()):s!==Xs},f.interpolate=function(n){return arguments.length?(o=n,c()):o},f.unknown=function(n){return arguments.length?(e=n,f):e},function(e,r){return n=e,t=r,c()}}function ec(){return tc()(Xs,Xs)}function rc(n){var t=n.domain;return n.ticks=function(n){var e=t();return ln(e[0],e[e.length-1],null==n?10:n)},n.tickFormat=function(n,e){var r=t();return Yo(r[0],r[r.length-1],null==n?10:n,e)},n.nice=function(e){null==e&&(e=10);var r,i,l=t(),u=0,a=l.length-1,o=l[u],s=l[a],c=10;for(s<o&&(i=o,o=s,s=i,i=u,u=a,a=i);c-- >0;){if((i=un(o,s,e))===r)return l[u]=o,l[a]=s,t(l);if(i>0)o=Math.floor(o/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;o=Math.ceil(o*i)/i,s=Math.floor(s*i)/i}r=i}return n},n}function ic(n,t){var e,r=0,i=(n=n.slice()).length-1,l=n[r],u=n[i];return u<l&&(e=r,r=i,i=e,e=l,l=u,u=e),n[r]=t.floor(l),n[i]=t.ceil(u),n}function lc(n){return Math.log(n)}function uc(n){return Math.exp(n)}function ac(n){return-Math.log(-n)}function oc(n){return-Math.exp(-n)}function sc(n){return isFinite(n)?+("1e"+n):n<0?0:n}function cc(n){return function(t){return-n(-t)}}function fc(n){var t,e,r=n(lc,uc),i=r.domain,l=10;function u(){return t=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}(l),e=function(n){return 10===n?sc:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}(l),i()[0]<0?(t=cc(t),e=cc(e),n(ac,oc)):n(lc,uc),r}return r.base=function(n){return arguments.length?(l=+n,u()):l},r.domain=function(n){return arguments.length?(i(n),u()):i()},r.ticks=function(n){var r,u=i(),a=u[0],o=u[u.length-1];(r=o<a)&&(h=a,a=o,o=h);var s,c,f,h=t(a),d=t(o),p=null==n?10:+n,g=[];if(!(l%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1,s=e(h);c<l;++c)if(!((f=s*c)<a)){if(f>o)break;g.push(f)}}else for(;h<=d;++h)for(c=l-1,s=e(h);c>=1;--c)if(!((f=s*c)<a)){if(f>o)break;g.push(f)}2*g.length<p&&(g=ln(a,o,p))}else g=ln(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(n,i){if(null==i&&(i=10===l?".0e":","),"function"!=typeof i&&(i=pn(i)),n===1/0)return i;null==n&&(n=10);var u=Math.max(1,l*n/r.ticks().length);return function(n){var r=n/e(Math.round(t(n)));return r*l<l-.5&&(r*=l),r<=u?i(n):""}},r.nice=function(){return i(ic(i(),{floor:function(n){return e(Math.floor(t(n)))},ceil:function(n){return e(Math.ceil(t(n)))}}))},r}function hc(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function dc(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function pc(n){return n<0?-n*n:n*n}function gc(n){var t=n(Xs,Xs),e=1;function r(){return 1===e?n(Xs,Xs):.5===e?n(dc,pc):n(hc(e),hc(1/e))}return t.exponent=function(n){return arguments.length?(e=+n,r()):e},rc(t)}function mc(){var n=gc(tc());return n.copy=function(){return nc(n,mc()).exponent(n.exponent())},qo.apply(n,arguments),n}function vc(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function wc(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function yc(n){var t=1,e=n(vc(t),wc(t));return e.constant=function(e){return arguments.length?n(vc(t=+e),wc(t)):t},rc(e)}function bc(n){return new Date(n)}function xc(n){return n instanceof Date?+n:+new Date(+n)}function _c(n,t,e,r,i,l,u,a,o){var s=ec(),c=s.invert,f=s.domain,h=o(".%L"),d=o(":%S"),p=o("%I:%M"),g=o("%I %p"),m=o("%a %d"),v=o("%b %d"),w=o("%B"),y=o("%Y"),b=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[l,1,6e4],[l,5,3e5],[l,15,9e5],[l,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[e,1,6048e5],[t,1,2592e6],[t,3,7776e6],[n,1,31536e6]];function x(a){return(u(a)<a?h:l(a)<a?d:i(a)<a?p:r(a)<a?g:t(a)<a?e(a)<a?m:v:n(a)<a?w:y)(a)}function _(t,e,r){if(null==t&&(t=10),"number"==typeof t){var i,l=Math.abs(r-e)/t,u=mt((function(n){return n[2]})).right(b,l);return u===b.length?(i=an(e/31536e6,r/31536e6,t),t=n):u?(i=(u=b[l/b[u-1][2]<b[u][2]/l?u-1:u])[1],t=u[0]):(i=Math.max(an(e,r,t),1),t=a),t.every(i)}return t}return s.invert=function(n){return new Date(c(n))},s.domain=function(n){return arguments.length?f(Array.from(n,xc)):f().map(bc)},s.ticks=function(n){var t,e=f(),r=e[0],i=e[e.length-1],l=i<r;return l&&(t=r,r=i,i=t),t=(t=_(n,r,i))?t.range(r,i+1):[],l?t.reverse():t},s.tickFormat=function(n,t){return null==t?x:o(t)},s.nice=function(n){var t=f();return(n=_(n,t[0],t[t.length-1]))?f(ic(t,n)):s},s.copy=function(){return nc(s,_c(n,t,e,r,i,l,u,a,o))},s}function kc(){var n,t,e,r,i,l=0,u=1,a=Xs,o=!1;function s(t){return isNaN(t=+t)?i:a(0===e?.5:(t=(r(t)-n)*e,o?Math.max(0,Math.min(1,t)):t))}function c(n){return function(t){var e,r;return arguments.length?([e,r]=t,a=n(e,r),s):[a(0),a(1)]}}return s.domain=function(i){return arguments.length?([l,u]=i,n=r(l=+l),t=r(u=+u),e=n===t?0:1/(t-n),s):[l,u]},s.clamp=function(n){return arguments.length?(o=!!n,s):o},s.interpolator=function(n){return arguments.length?(a=n,s):a},s.range=c(Gs),s.rangeRound=c(Ys),s.unknown=function(n){return arguments.length?(i=n,s):i},function(i){return r=i,n=i(l),t=i(u),e=n===t?0:1/(t-n),s}}function jc(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Oc(){var n=rc(kc()(Xs));return n.copy=function(){return jc(n,Oc())},Ho.apply(n,arguments)}function Ac(){var n=gc(kc());return n.copy=function(){return jc(n,Ac()).exponent(n.exponent())},Ho.apply(n,arguments)}function Ec(n,t){void 0===t&&(t=n,n=Gs);for(var e=0,r=t.length-1,i=t[0],l=new Array(r<0?0:r);e<r;)l[e]=n(i,i=t[++e]);return function(n){var t=Math.max(0,Math.min(r-1,Math.floor(n*=r)));return l[t](n-t)}}function Sc(){var n,t,e,r,i,l,u,a=0,o=.5,s=1,c=1,f=Xs,h=!1;function d(n){return isNaN(n=+n)?u:(n=.5+((n=+l(n))-t)*(c*n<c*t?r:i),f(h?Math.max(0,Math.min(1,n)):n))}function p(n){return function(t){var e,r,i;return arguments.length?([e,r,i]=t,f=Ec(n,[e,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(u){return arguments.length?([a,o,s]=u,n=l(a=+a),t=l(o=+o),e=l(s=+s),r=n===t?0:.5/(t-n),i=t===e?0:.5/(e-t),c=t<n?-1:1,d):[a,o,s]},d.clamp=function(n){return arguments.length?(h=!!n,d):h},d.interpolator=function(n){return arguments.length?(f=n,d):f},d.range=p(Gs),d.rangeRound=p(Ys),d.unknown=function(n){return arguments.length?(u=n,d):u},function(u){return l=u,n=u(a),t=u(o),e=u(s),r=n===t?0:.5/(t-n),i=t===e?0:.5/(e-t),c=t<n?-1:1,d}}function Cc(){var n=gc(Sc());return n.copy=function(){return jc(n,Cc()).exponent(n.exponent())},Ho.apply(n,arguments)}var Dc,Mc=function(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}},Fc=function(n,t){var e=Cs(+n,+t);return function(n){var t=e(n);return t-360*Math.floor(t/360)}},Tc=180/Math.PI,Nc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Bc=function(n,t,e,r,i,l){var u,a,o;return(u=Math.sqrt(n*n+t*t))&&(n/=u,t/=u),(o=n*e+t*r)&&(e-=n*o,r-=t*o),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,o/=a),n*r<t*e&&(n=-n,t=-t,o=-o,u=-u),{translateX:i,translateY:l,rotate:Math.atan2(t,n)*Tc,skewX:Math.atan(o)*Tc,scaleX:u,scaleY:a}};function zc(n,t,e,r){function i(n){return n.length?n.pop()+" ":""}return function(l,u){var a=[],o=[];return l=n(l),u=n(u),function(n,r,i,l,u,a){if(n!==i||r!==l){var o=u.push("translate(",null,t,null,e);a.push({i:o-4,x:Ls(n,i)},{i:o-2,x:Ls(r,l)})}else(i||l)&&u.push("translate("+i+t+l+e)}(l.translateX,l.translateY,u.translateX,u.translateY,a,o),function(n,t,e,l){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),l.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ls(n,t)})):t&&e.push(i(e)+"rotate("+t+r)}(l.rotate,u.rotate,a,o),function(n,t,e,l){n!==t?l.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ls(n,t)}):t&&e.push(i(e)+"skewX("+t+r)}(l.skewX,u.skewX,a,o),function(n,t,e,r,l,u){if(n!==e||t!==r){var a=l.push(i(l)+"scale(",null,",",null,")");u.push({i:a-4,x:Ls(n,e)},{i:a-2,x:Ls(t,r)})}else 1===e&&1===r||l.push(i(l)+"scale("+e+","+r+")")}(l.scaleX,l.scaleY,u.scaleX,u.scaleY,a,o),l=u=null,function(n){for(var t,e=-1,r=o.length;++e<r;)a[(t=o[e]).i]=t.x(n);return a.join("")}}}var Pc=zc((function(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Nc:Bc(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),$c=zc((function(n){return null==n?Nc:(Dc||(Dc=document.createElementNS("http://www.w3.org/2000/svg","g")),Dc.setAttribute("transform",n),(n=Dc.transform.baseVal.consolidate())?(n=n.matrix,Bc(n.a,n.b,n.c,n.d,n.e,n.f)):Nc)}),", ",")",")");function Rc(n){return((n=Math.exp(n))+1/n)/2}var Ic=function n(t,e,r){function i(n,i){var l,u,a=n[0],o=n[1],s=n[2],c=i[0],f=i[1],h=i[2],d=c-a,p=f-o,g=d*d+p*p;if(g<1e-12)u=Math.log(h/s)/t,l=function(n){return[a+n*d,o+n*p,s*Math.exp(t*n*u)]};else{var m=Math.sqrt(g),v=(h*h-s*s+r*g)/(2*s*e*m),w=(h*h-s*s-r*g)/(2*h*e*m),y=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(w*w+1)-w);u=(b-y)/t,l=function(n){var r,i=n*u,l=Rc(y),c=s/(e*m)*(l*(r=t*i+y,((r=Math.exp(2*r))-1)/(r+1))-function(n){return((n=Math.exp(n))-1/n)/2}(y));return[a+c*d,o+c*p,s*l/Rc(t*i+y)]}}return l.duration=1e3*u*t/Math.SQRT2,l}return i.rho=function(t){var e=Math.max(.001,+t),r=e*e;return n(e,r,r*r)},i}(Math.SQRT2,2,4);function Lc(n){return function(t,e){var r=n((t=xs(t)).h,(e=xs(e)).h),i=Ms(t.s,e.s),l=Ms(t.l,e.l),u=Ms(t.opacity,e.opacity);return function(n){return t.h=r(n),t.s=i(n),t.l=l(n),t.opacity=u(n),t+""}}}var Uc=Lc(Cs),qc=Lc(Ms);const Hc=Math.PI/180,Wc=180/Math.PI;function Gc(n){if(n instanceof Vc)return new Vc(n.l,n.a,n.b,n.opacity);if(n instanceof tf)return ef(n);n instanceof gs||(n=ds(n));var t,e,r=Zc(n.r),i=Zc(n.g),l=Zc(n.b),u=Jc((.2225045*r+.7168786*i+.0606169*l)/1);return r===i&&i===l?t=e=u:(t=Jc((.4360747*r+.3850649*i+.1430804*l)/.96422),e=Jc((.0139322*r+.0971045*i+.7141733*l)/.82521)),new Vc(116*u-16,500*(t-u),200*(u-e),n.opacity)}function Yc(n,t,e,r){return 1===arguments.length?Gc(n):new Vc(n,t,e,null==r?1:r)}function Vc(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}function Jc(n){return n>6/29*(6/29)*(6/29)?Math.pow(n,1/3):n/(6/29*3*(6/29))+4/29}function Xc(n){return n>6/29?n*n*n:6/29*3*(6/29)*(n-4/29)}function Kc(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Zc(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Qc(n){if(n instanceof tf)return new tf(n.h,n.c,n.l,n.opacity);if(n instanceof Vc||(n=Gc(n)),0===n.a&&0===n.b)return new tf(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*Wc;return new tf(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function nf(n,t,e,r){return 1===arguments.length?Qc(n):new tf(n,t,e,null==r?1:r)}function tf(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}function ef(n){if(isNaN(n.h))return new Vc(n.l,0,0,n.opacity);var t=n.h*Hc;return new Vc(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}function rf(n,t){var e=Ms((n=Yc(n)).l,(t=Yc(t)).l),r=Ms(n.a,t.a),i=Ms(n.b,t.b),l=Ms(n.opacity,t.opacity);return function(t){return n.l=e(t),n.a=r(t),n.b=i(t),n.opacity=l(t),n+""}}function lf(n){return function(t,e){var r=n((t=nf(t)).h,(e=nf(e)).h),i=Ms(t.c,e.c),l=Ms(t.l,e.l),u=Ms(t.opacity,e.opacity);return function(n){return t.h=r(n),t.c=i(n),t.l=l(n),t.opacity=u(n),t+""}}}Vo(Vc,Yc,Jo(Xo,{brighter:function(n){return new Vc(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker:function(n){return new Vc(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return new gs(Kc(3.1338561*(t=.96422*Xc(t))-1.6168667*(n=1*Xc(n))-.4906146*(e=.82521*Xc(e))),Kc(-.9787684*t+1.9161415*n+.033454*e),Kc(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}})),Vo(tf,nf,Jo(Xo,{brighter:function(n){return new tf(this.h,this.c,this.l+18*(null==n?1:n),this.opacity)},darker:function(n){return new tf(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb:function(){return ef(this).rgb()}}));var uf=lf(Cs),af=lf(Ms),of=-.29227,sf=1.97294,cf=-.90649*sf,ff=1.78277*sf,hf=-.6557636667999999;function df(n){if(n instanceof gf)return new gf(n.h,n.s,n.l,n.opacity);n instanceof gs||(n=ds(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(hf*r+cf*t-ff*e)/(hf+cf-ff),l=r-i,u=(sf*(e-i)-of*l)/-.90649,a=Math.sqrt(u*u+l*l)/(sf*i*(1-i)),o=a?Math.atan2(u,l)*Wc-120:NaN;return new gf(o<0?o+360:o,a,i,n.opacity)}function pf(n,t,e,r){return 1===arguments.length?df(n):new gf(n,t,e,null==r?1:r)}function gf(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function mf(n){return function t(e){function r(t,r){var i=n((t=pf(t)).h,(r=pf(r)).h),l=Ms(t.s,r.s),u=Ms(t.l,r.l),a=Ms(t.opacity,r.opacity);return function(n){return t.h=i(n),t.s=l(n),t.l=u(Math.pow(n,e)),t.opacity=a(n),t+""}}return e=+e,r.gamma=t,r}(1)}Vo(gf,pf,Jo(Xo,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new gf(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new gf(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*Hc,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new gs(255*(t+e*(-.14861*r+1.78277*i)),255*(t+e*(of*r+-.90649*i)),255*(t+e*(sf*r)),this.opacity)}}));var vf=mf(Cs),wf=mf(Ms),yf=function(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r/(t-1));return e};function bf(n,t,e){const r=n-t+2*e;return n?r>0?r:1:0}const xf="log",_f="time",kf="utc",jf="continuous";function Of(){const n=Go().unknown(void 0),t=n.domain,e=n.range;let r,i,l=[0,1],u=!1,a=0,o=0,s=.5;function c(){const n=t().length,c=l[1]<l[0],f=l[1-c],h=bf(n,a,o);let d=l[c-0];r=(f-d)/(h||1),u&&(r=Math.floor(r)),d+=(f-d-r*(n-a))*s,i=r*(1-a),u&&(d=Math.round(d),i=Math.round(i));const p=Zl(n).map(n=>d+r*n);return e(c?p.reverse():p)}return delete n.unknown,n.domain=function(n){return arguments.length?(t(n),c()):t()},n.range=function(n){return arguments.length?(l=[+n[0],+n[1]],c()):l.slice()},n.rangeRound=function(n){return l=[+n[0],+n[1]],u=!0,c()},n.bandwidth=function(){return i},n.step=function(){return r},n.round=function(n){return arguments.length?(u=!!n,c()):u},n.padding=function(n){return arguments.length?(o=Math.max(0,Math.min(1,n)),a=o,c()):a},n.paddingInner=function(n){return arguments.length?(a=Math.max(0,Math.min(1,n)),c()):a},n.paddingOuter=function(n){return arguments.length?(o=Math.max(0,Math.min(1,n)),c()):o},n.align=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),c()):s},n.invertRange=function(n){if(null==n[0]||null==n[1])return;const r=l[1]<l[0],u=r?e().reverse():e(),a=u.length-1;let o,s,c,f=+n[0],h=+n[1];return f!=f||h!=h||(h<f&&(c=f,f=h,h=c),h<u[0]||f>l[1-r])?void 0:(o=Math.max(0,Io(u,f)-1),s=f===h?o:Io(u,h)-1,f-u[o]>i+1e-10&&++o,r&&(c=o,o=a-s,s=a-c),o>s?void 0:t().slice(o,s+1))},n.invert=function(t){const e=n.invertRange([t,t]);return e?e[0]:e},n.copy=function(){return Of().domain(t()).range(l).round(u).paddingInner(a).paddingOuter(o).align(s)},c()}var Af=Array.prototype.map;function Ef(n){return Af.call(n,g.eb)}const Sf=Array.prototype.slice;const Cf={};function Df(n,t,e){const r=function(){const e=t();return e.invertRange||(e.invertRange=e.invert?function(n){return function(t){let e,r=t[0],i=t[1];return i<r&&(e=r,r=i,i=e),[n.invert(r),n.invert(i)]}}(e):e.invertExtent?function(n){return function(t){const e=n.range();let r,i,l,u,a=t[0],o=t[1],s=-1;for(o<a&&(i=a,a=o,o=i),l=0,u=e.length;l<u;++l)e[l]>=a&&e[l]<=o&&(s<0&&(s=l),r=l);if(!(s<0))return a=n.invertExtent(e[s]),o=n.invertExtent(e[r]),[void 0===a[0]?a[1]:a[0],void 0===o[1]?o[0]:o[1]]}}(e):void 0),e.type=n,e};return r.metadata=Object(g.fb)(Object(g.i)(e)),r}function Mf(n,t,e){return arguments.length>1?(Cf[n]=Df(n,t,e),this):Ff(n)?Cf[n]:void 0}function Ff(n){return Object(g.w)(Cf,n)}function Tf(n,t){const e=Cf[n];return e&&e.metadata[t]}function Nf(n){return Tf(n,jf)}function Bf(n){return Tf(n,"discrete")}function zf(n){return Tf(n,"discretizing")}function Pf(n){return Tf(n,xf)}function $f(n){return Tf(n,"interpolating")}function Rf(n){return Tf(n,"quantile")}Mf("identity",(function n(t){var e;function r(n){return isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Vs),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return n(t).unknown(e)},t=arguments.length?Array.from(t,Vs):[0,1],rc(r)})),Mf("linear",(function n(){var t=ec();return t.copy=function(){return nc(t,n())},qo.apply(t,arguments),rc(t)}),jf),Mf(xf,(function n(){var t=fc(tc()).domain([1,10]);return t.copy=function(){return nc(t,n()).base(t.base())},qo.apply(t,arguments),t}),[jf,xf]),Mf("pow",mc,jf),Mf("sqrt",(function(){return mc.apply(null,arguments).exponent(.5)}),jf),Mf("symlog",(function n(){var t=yc(tc());return t.copy=function(){return nc(t,n()).constant(t.constant())},qo.apply(t,arguments)}),jf),Mf(_f,(function(){return qo.apply(_c(Xn,Zn,Fn,Dn,nt,et,it,ut,Oe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[jf,"temporal"]),Mf(kf,(function(){return qo.apply(_c(ot,ct,Un,In,ht,pt,it,ut,Ee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[jf,"temporal"]),Mf("sequential",Oc,[jf,"interpolating"]),Mf("".concat("sequential","-").concat("linear"),Oc,[jf,"interpolating"]),Mf("".concat("sequential","-").concat(xf),(function n(){var t=fc(kc()).domain([1,10]);return t.copy=function(){return jc(t,n()).base(t.base())},Ho.apply(t,arguments)}),[jf,"interpolating",xf]),Mf("".concat("sequential","-").concat("pow"),Ac,[jf,"interpolating"]),Mf("".concat("sequential","-").concat("sqrt"),(function(){return Ac.apply(null,arguments).exponent(.5)}),[jf,"interpolating"]),Mf("".concat("sequential","-").concat("symlog"),(function n(){var t=yc(kc());return t.copy=function(){return jc(t,n()).constant(t.constant())},Ho.apply(t,arguments)}),[jf,"interpolating"]),Mf("".concat("diverging","-").concat("linear"),(function n(){var t=rc(Sc()(Xs));return t.copy=function(){return jc(t,n())},Ho.apply(t,arguments)}),[jf,"interpolating"]),Mf("".concat("diverging","-").concat(xf),(function n(){var t=fc(Sc()).domain([.1,1,10]);return t.copy=function(){return jc(t,n()).base(t.base())},Ho.apply(t,arguments)}),[jf,"interpolating",xf]),Mf("".concat("diverging","-").concat("pow"),Cc,[jf,"interpolating"]),Mf("".concat("diverging","-").concat("sqrt"),(function(){return Cc.apply(null,arguments).exponent(.5)}),[jf,"interpolating"]),Mf("".concat("diverging","-").concat("symlog"),(function n(){var t=yc(Sc());return t.copy=function(){return jc(t,n()).constant(t.constant())},Ho.apply(t,arguments)}),[jf,"interpolating"]),Mf("quantile",(function n(){var t,e=[],r=[],i=[];function l(){var n=0,t=Math.max(1,r.length);for(i=new Array(t-1);++n<t;)i[n-1]=el(e,n/t);return u}function u(n){return isNaN(n=+n)?t:r[Uo(i,n)]}return u.invertExtent=function(n){var t=r.indexOf(n);return t<0?[NaN,NaN]:[t>0?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]},u.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let t of n)null==t||isNaN(t=+t)||e.push(t);return e.sort(gt),l()},u.range=function(n){return arguments.length?(r=Array.from(n),l()):r.slice()},u.unknown=function(n){return arguments.length?(t=n,u):t},u.quantiles=function(){return i.slice()},u.copy=function(){return n().domain(e).range(r).unknown(t)},qo.apply(u,arguments)}),["discretizing","quantile"]),Mf("quantize",(function n(){var t,e=0,r=1,i=1,l=[.5],u=[0,1];function a(n){return n<=n?u[Uo(l,n,0,i)]:t}function o(){var n=-1;for(l=new Array(i);++n<i;)l[n]=((n+1)*r-(n-i)*e)/(i+1);return a}return a.domain=function(n){return arguments.length?([e,r]=n,e=+e,r=+r,o()):[e,r]},a.range=function(n){return arguments.length?(i=(u=Array.from(n)).length-1,o()):u.slice()},a.invertExtent=function(n){var t=u.indexOf(n);return t<0?[NaN,NaN]:t<1?[e,l[0]]:t>=i?[l[i-1],r]:[l[t-1],l[t]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return l.slice()},a.copy=function(){return n().domain([e,r]).range(u).unknown(t)},qo.apply(rc(a),arguments)}),"discretizing"),Mf("threshold",(function n(){var t,e=[.5],r=[0,1],i=1;function l(n){return n<=n?r[Uo(e,n,0,i)]:t}return l.domain=function(n){return arguments.length?(e=Array.from(n),i=Math.min(e.length,r.length-1),l):e.slice()},l.range=function(n){return arguments.length?(r=Array.from(n),i=Math.min(e.length,r.length-1),l):r.slice()},l.invertExtent=function(n){var t=r.indexOf(n);return[e[t-1],e[t]]},l.unknown=function(n){return arguments.length?(t=n,l):t},l.copy=function(){return n().domain(e).range(r).unknown(t)},qo.apply(l,arguments)}),"discretizing"),Mf("bin-ordinal",(function n(){let t=[],e=[];function r(n){return null==n||n!=n?void 0:e[(Uo(t,n)-1)%e.length]}return r.domain=function(n){return arguments.length?(t=Ef(n),r):t.slice()},r.range=function(n){return arguments.length?(e=Sf.call(n),r):e.slice()},r.tickFormat=function(n,e){return Yo(t[0],Object(g.W)(t),null==n?10:n,e)},r.copy=function(){return n().domain(r.domain()).range(r.range())},r}),["discrete","discretizing"]),Mf("ordinal",Go,"discrete"),Mf("band",Of,"discrete"),Mf("point",(function(){return function n(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return n(e())},t}(Of().paddingInner(1))}),"discrete");const If=["clamp","base","constant","exponent"];function Lf(n,t){const e=t[0],r=Object(g.W)(t)-e;return function(t){return n(e+t*r)}}function Uf(n,t,e){return Ec(Wf(t||"rgb",e),n)}function qf(n,t){const e=new Array(t),r=t+1;for(let i=0;i<t;)e[i]=n(++i/r);return e}function Hf(n,t,e){const r=e-t;let i,l,u;return r&&Number.isFinite(r)?(i=(l=n.type).indexOf("-"),l=i<0?l:l.slice(i+1),u=Mf(l)().domain([t,e]).range([0,1]),If.forEach(t=>n[t]?u[t](n[t]()):0),u):Object(g.m)(.5)}function Wf(n,t){const e=i[function(n){return"interpolate"+n.toLowerCase().split("-").map(n=>n[0].toUpperCase()+n.slice(1)).join("")}(n)];return null!=t&&e&&e.gamma?e.gamma(t):e}function Gf(n){const t=n.length/6|0,e=new Array(t);for(let r=0;r<t;)e[r]="#"+n.slice(6*r,6*++r);return e}function Yf(n,t){for(const e in n)Jf(e,t(n[e]))}const Vf={};function Jf(n,t){return n=n&&n.toLowerCase(),arguments.length>1?(Vf[n]=t,this):Vf[n]}Yf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Gf),Yf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},n=>Uf(Gf(n)));const Xf=n=>Object(g.B)(n)?n.map(n=>String(n)):String(n),Kf=(n,t)=>n[1]-t[1],Zf=(n,t)=>t[1]-n[1];function Qf(n,t,e){let r;return Object(g.G)(t)&&(n.bins&&(t=Math.max(t,n.bins.length)),null!=e&&(t=Math.min(t,Math.floor(Object(g.Z)(n.domain())/e||1)))),Object(g.H)(t)&&(r=t.step,t=t.interval),Object(g.J)(t)&&(t=n.type===_f?re(t):n.type==kf?ie(t):Object(g.o)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function nh(n,t,e){let r=n.range(),i=r[0],l=Object(g.W)(r),u=Kf;if(i>l&&(r=l,l=i,i=r,u=Zf),i=Math.floor(i),l=Math.ceil(l),t=t.map(t=>[t,n(t)]).filter(n=>i<=n[1]&&n[1]<=l).sort(u).map(n=>n[0]),e>0&&t.length>1){const n=[t[0],Object(g.W)(t)];for(;t.length>e&&t.length>=3;)t=t.filter((n,t)=>!(t%2));t.length<3&&(t=n)}return t}function th(n,t){return n.bins?nh(n,n.bins):n.ticks?n.ticks(t):n.domain()}function eh(n,t,e,r,i,l){const u=t.type;let a=Xf;if(u===_f||i===_f)a=n.timeFormat(r);else if(u===kf||i===kf)a=n.utcFormat(r);else if(Pf(u)){const i=n.formatFloat(r);if(l||t.bins)a=i;else{const n=rh(t,e,!1);a=t=>n(t)?i(t):""}}else if(t.tickFormat){const i=t.domain();a=n.formatSpan(i[0],i[i.length-1],e,r)}else r&&(a=n.format(r));return a}function rh(n,t,e){const r=th(n,t),i=n.base(),l=Math.log(i),u=Math.max(1,i*t/r.length),a=n=>{let t=n/Math.pow(i,Math.round(Math.log(n)/l));return t*i<i-.5&&(t*=i),t<=u};return e?r.filter(a):a}const ih={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},lh={quantile:"quantiles",quantize:"domain"};function uh(n,t){return n.bins?function(n){const t=n.slice(0,-1);return t.max=Object(g.W)(n),t}(n.bins):n.type===xf?rh(n,t,!0):ih[n.type]?function(n){const t=[-1/0].concat(n);return t.max=1/0,t}(n[ih[n.type]]()):th(n,t)}function ah(n,t,e,r,i,l,u){const a=lh[t.type]&&l!==_f&&l!==kf?function(n,t,e){const r=t[lh[t.type]](),i=r.length;let l,u=i>1?r[1]-r[0]:r[0];for(l=1;l<i;++l)u=Math.min(u,r[l]-r[l-1]);return n.formatSpan(0,u,30,e)}(n,t,i):eh(n,t,e,i,l,u);return"symbol"===r&&(n=>ih[n.type]||n.bins)(t)?oh(a):"discrete"===r?ch(a):fh(a)}const oh=n=>(t,e,r)=>{const i=sh(r[e+1],sh(r.max,1/0)),l=hh(t,n),u=hh(i,n);return l&&u?l+" – "+u:u?"< "+u:"≥ "+l},sh=(n,t)=>null!=n?n:t,ch=n=>(t,e)=>e?n(t):null,fh=n=>t=>n(t),hh=(n,t)=>Number.isFinite(n)?t(n):null;function dh(n,t,e,r){const i=r||t.type;return Object(g.J)(e)&&Tf(i,"temporal")&&(e=e.replace(/%a/g,"%A").replace(/%b/g,"%B")),e||i!==_f?e||i!==kf?ah(n,t,5,null,e,r,!0):n.utcFormat("%A, %d %B %Y, %X UTC"):n.timeFormat("%A, %d %B %Y, %X")}function ph(n,t,e){e=e||{};const r=Math.max(3,e.maxlen||7),i=dh(n,t,e.format,e.formatType);if(zf(t.type)){const n=uh(t).slice(1).map(i),e=n.length;return"".concat(e," boundar").concat(1===e?"y":"ies",": ").concat(n.join(", "))}if(Bf(t.type)){const n=t.domain(),e=n.length,l=e>r?n.slice(0,r-2).map(i).join(", ")+", ending with "+n.slice(-1).map(i):n.map(i).join(", ");return"".concat(e," value").concat(1===e?"":"s",": ").concat(l)}{const n=t.domain();return"values from ".concat(i(n[0])," to ").concat(i(Object(g.W)(n)))}}let gh=0;function mh(n){return n&&n.gradient}function vh(n,t,e){const r=n.gradient;let i=n.id,l="radial"===r?"p_":"";return i||(i=n.id="gradient_"+gh++,"radial"===r?(n.x1=wh(n.x1,.5),n.y1=wh(n.y1,.5),n.r1=wh(n.r1,0),n.x2=wh(n.x2,.5),n.y2=wh(n.y2,.5),n.r2=wh(n.r2,.5),l="p_"):(n.x1=wh(n.x1,0),n.y1=wh(n.y1,0),n.x2=wh(n.x2,1),n.y2=wh(n.y2,0))),t[i]=n,"url("+(e||"")+"#"+l+i+")"}function wh(n,t){return null!=n?n:t}function yh(n,t){var e,r=[];return e={gradient:"linear",x1:n?n[0]:0,y1:n?n[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(n,t){return r.push({offset:n,color:t}),e}}}const bh={basis:{curve:function(n){return new ja(n)}},"basis-closed":{curve:function(n){return new Aa(n)}},"basis-open":{curve:function(n){return new Ea(n)}},bundle:{curve:Ca,tension:"beta",value:.85},cardinal:{curve:Fa,tension:"tension",value:0},"cardinal-open":{curve:Na,tension:"tension",value:0},"cardinal-closed":{curve:za,tension:"tension",value:0},"catmull-rom":{curve:Ka,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Qa,tension:"alpha",value:.5},"catmull-rom-open":{curve:to,tension:"alpha",value:.5},linear:{curve:ro},"linear-closed":{curve:function(n){return new io(n)}},monotone:{horizontal:function(n){return new co(n)},vertical:function(n){return new so(n)}},natural:{curve:function(n){return new ho(n)}},step:{curve:function(n){return new go(n,.5)}},"step-after":{curve:function(n){return new go(n,1)}},"step-before":{curve:function(n){return new go(n,0)}}};function xh(n,t,e){var r=Object(g.w)(bh,n)&&bh[n],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=e&&(i=i[r.tension](e))),i}const _h={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},kh=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function jh(n){const t=[];let e,r,i,l,u,a,o,s,c,f;const h=n.slice().replace(kh[0],"###$1").split(kh[1]).slice(1);for(o=0,c=h.length;o<c;++o){for(e=h[o],r=e.slice(1).trim().replace(kh[2],"$1###$2").replace(kh[3],"$1###$2").split(kh[4]),u=e.charAt(0),i=[u],s=0,f=r.length;s<f;++s)(l=+r[s])===l&&i.push(l);if(a=_h[u.toLowerCase()],i.length-1>a){const n=i.length;for(s=1,t.push([u].concat(i.slice(s,s+=a))),u="M"===u?"L":"m"===u?"l":u;s<n;s+=a)t.push([u].concat(i.slice(s,s+a)))}else t.push(i)}return t}const Oh=Math.PI/180,Ah=Math.PI/2,Eh=2*Math.PI,Sh=Math.sqrt(3)/2;var Ch={},Dh={},Mh=[].join;function Fh(n){const t=Mh.call(n);if(Dh[t])return Dh[t];var e=n[0],r=n[1],i=n[2],l=n[3],u=n[4],a=n[5],o=n[6],s=n[7];const c=s*u,f=-o*a,h=o*u,d=s*a,p=Math.cos(i),g=Math.sin(i),m=Math.cos(l),v=Math.sin(l),w=.5*(l-i),y=Math.sin(.5*w),b=8/3*y*y/Math.sin(w),x=e+p-b*g,_=r+g+b*p,k=e+m,j=r+v,O=k+b*v,A=j-b*m;return Dh[t]=[c*x+f*_,h*x+d*_,c*O+f*A,h*O+d*A,c*k+f*j,h*k+d*j]}const Th=["l",0,0,0,0,0,0,0];function Nh(n,t,e){const r=Th[0]=n[0];if("a"===r||"A"===r)Th[1]=t*n[1],Th[2]=e*n[2],Th[3]=n[3],Th[4]=n[4],Th[5]=n[5],Th[6]=t*n[6],Th[7]=e*n[7];else if("h"===r||"H"===r)Th[1]=t*n[1];else if("v"===r||"V"===r)Th[1]=e*n[1];else for(var i=1,l=n.length;i<l;++i)Th[i]=(i%2==1?t:e)*n[i];return Th}function Bh(n,t,e,r,i,l){var u,a,o,s,c,f=null,h=0,d=0,p=0,g=0;null==e&&(e=0),null==r&&(r=0),null==i&&(i=1),null==l&&(l=i),n.beginPath&&n.beginPath();for(var m=0,v=t.length;m<v;++m){switch(u=t[m],1===i&&1===l||(u=Nh(u,i,l)),u[0]){case"l":h+=u[1],d+=u[2],n.lineTo(h+e,d+r);break;case"L":h=u[1],d=u[2],n.lineTo(h+e,d+r);break;case"h":h+=u[1],n.lineTo(h+e,d+r);break;case"H":h=u[1],n.lineTo(h+e,d+r);break;case"v":d+=u[1],n.lineTo(h+e,d+r);break;case"V":d=u[1],n.lineTo(h+e,d+r);break;case"m":h+=u[1],d+=u[2],n.moveTo(h+e,d+r);break;case"M":h=u[1],d=u[2],n.moveTo(h+e,d+r);break;case"c":a=h+u[5],o=d+u[6],p=h+u[3],g=d+u[4],n.bezierCurveTo(h+u[1]+e,d+u[2]+r,p+e,g+r,a+e,o+r),h=a,d=o;break;case"C":h=u[5],d=u[6],p=u[3],g=u[4],n.bezierCurveTo(u[1]+e,u[2]+r,p+e,g+r,h+e,d+r);break;case"s":a=h+u[3],o=d+u[4],p=2*h-p,g=2*d-g,n.bezierCurveTo(p+e,g+r,h+u[1]+e,d+u[2]+r,a+e,o+r),p=h+u[1],g=d+u[2],h=a,d=o;break;case"S":a=u[3],o=u[4],p=2*h-p,g=2*d-g,n.bezierCurveTo(p+e,g+r,u[1]+e,u[2]+r,a+e,o+r),h=a,d=o,p=u[1],g=u[2];break;case"q":a=h+u[3],o=d+u[4],p=h+u[1],g=d+u[2],n.quadraticCurveTo(p+e,g+r,a+e,o+r),h=a,d=o;break;case"Q":a=u[3],o=u[4],n.quadraticCurveTo(u[1]+e,u[2]+r,a+e,o+r),h=a,d=o,p=u[1],g=u[2];break;case"t":a=h+u[1],o=d+u[2],null===f[0].match(/[QqTt]/)?(p=h,g=d):"t"===f[0]?(p=2*h-s,g=2*d-c):"q"===f[0]&&(p=2*h-p,g=2*d-g),s=p,c=g,n.quadraticCurveTo(p+e,g+r,a+e,o+r),d=o,p=(h=a)+u[1],g=d+u[2];break;case"T":a=u[1],o=u[2],p=2*h-p,g=2*d-g,n.quadraticCurveTo(p+e,g+r,a+e,o+r),h=a,d=o;break;case"a":zh(n,h+e,d+r,[u[1],u[2],u[3],u[4],u[5],u[6]+h+e,u[7]+d+r]),h+=u[6],d+=u[7];break;case"A":zh(n,h+e,d+r,[u[1],u[2],u[3],u[4],u[5],u[6]+e,u[7]+r]),h=u[6],d=u[7];break;case"z":case"Z":n.closePath()}f=u}}function zh(n,t,e,r){const i=function(n,t,e,r,i,l,u,a,o){const s=Mh.call(arguments);if(Ch[s])return Ch[s];const c=u*Oh,f=Math.sin(c),h=Math.cos(c),d=h*(a-n)*.5+f*(o-t)*.5,p=h*(o-t)*.5-f*(a-n)*.5;let g=d*d/((e=Math.abs(e))*e)+p*p/((r=Math.abs(r))*r);g>1&&(g=Math.sqrt(g),e*=g,r*=g);const m=h/e,v=f/e,w=-f/r,y=h/r,b=m*a+v*o,x=w*a+y*o,_=m*n+v*t,k=w*n+y*t,j=(_-b)*(_-b)+(k-x)*(k-x);let O=1/j-.25;O<0&&(O=0);let A=Math.sqrt(O);l==i&&(A=-A);const E=.5*(b+_)-A*(k-x),S=.5*(x+k)+A*(_-b),C=Math.atan2(x-S,b-E),D=Math.atan2(k-S,_-E);let M=D-C;M<0&&1===l?M+=Eh:M>0&&0===l&&(M-=Eh);const F=Math.ceil(Math.abs(M/(Ah+.001))),T=[];for(let n=0;n<F;++n){const t=C+n*M/F,i=C+(n+1)*M/F;T[n]=[E,S,t,i,e,r,f,h]}return Ch[s]=T}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,e);for(let t=0;t<i.length;++t){const e=Fh(i[t]);n.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])}}const Ph=.5773502691896257,$h={circle:{draw:function(n,t){const e=Math.sqrt(t)/2;n.moveTo(e,0),n.arc(0,0,e,0,Eh)}},cross:{draw:function(n,t){var e=Math.sqrt(t)/2,r=e/2.5;n.moveTo(-e,-r),n.lineTo(-e,r),n.lineTo(-r,r),n.lineTo(-r,e),n.lineTo(r,e),n.lineTo(r,r),n.lineTo(e,r),n.lineTo(e,-r),n.lineTo(r,-r),n.lineTo(r,-e),n.lineTo(-r,-e),n.lineTo(-r,-r),n.closePath()}},diamond:{draw:function(n,t){const e=Math.sqrt(t)/2;n.moveTo(-e,0),n.lineTo(0,-e),n.lineTo(e,0),n.lineTo(0,e),n.closePath()}},square:{draw:function(n,t){var e=Math.sqrt(t),r=-e/2;n.rect(r,r,e,e)}},arrow:{draw:function(n,t){var e=Math.sqrt(t)/2,r=e/7,i=e/2.5,l=e/8;n.moveTo(-r,e),n.lineTo(r,e),n.lineTo(r,-l),n.lineTo(i,-l),n.lineTo(0,-e),n.lineTo(-i,-l),n.lineTo(-r,-l),n.closePath()}},wedge:{draw:function(n,t){var e=Math.sqrt(t)/2,r=Sh*e,i=r-e*Ph,l=e/4;n.moveTo(0,-r-i),n.lineTo(-l,r-i),n.lineTo(l,r-i),n.closePath()}},triangle:{draw:function(n,t){var e=Math.sqrt(t)/2,r=Sh*e,i=r-e*Ph;n.moveTo(0,-r-i),n.lineTo(-e,r-i),n.lineTo(e,r-i),n.closePath()}},"triangle-up":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Sh*e;n.moveTo(0,-r),n.lineTo(-e,r),n.lineTo(e,r),n.closePath()}},"triangle-down":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Sh*e;n.moveTo(0,r),n.lineTo(-e,-r),n.lineTo(e,-r),n.closePath()}},"triangle-right":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Sh*e;n.moveTo(r,0),n.lineTo(-r,-e),n.lineTo(-r,e),n.closePath()}},"triangle-left":{draw:function(n,t){var e=Math.sqrt(t)/2,r=Sh*e;n.moveTo(-r,0),n.lineTo(r,-e),n.lineTo(r,e),n.closePath()}},stroke:{draw:function(n,t){const e=Math.sqrt(t)/2;n.moveTo(-e,0),n.lineTo(e,0)}}};function Rh(n){return Object(g.w)($h,n)?$h[n]:function(n){if(!Object(g.w)(Ih,n)){const t=jh(n);Ih[n]={draw:function(n,e){Bh(n,t,0,0,Math.sqrt(e)/2)}}}return Ih[n]}(n)}var Ih={};function Lh(n){return n.x}function Uh(n){return n.y}function qh(n){return n.width}function Hh(n){return n.height}function Wh(n){return"function"==typeof n?n:()=>+n}function Gh(n,t,e){return Math.max(t,Math.min(n,e))}function Yh(){var n=Lh,t=Uh,e=qh,r=Hh,i=Wh(0),l=i,u=i,a=i,o=null;function s(s,c,f){var h,d=null!=c?c:+n.call(this,s),p=null!=f?f:+t.call(this,s),g=+e.call(this,s),m=+r.call(this,s),v=Math.min(g,m)/2,w=Gh(+i.call(this,s),0,v),y=Gh(+l.call(this,s),0,v),b=Gh(+u.call(this,s),0,v),x=Gh(+a.call(this,s),0,v);if(o||(o=h=xo()),w<=0&&y<=0&&b<=0&&x<=0)o.rect(d,p,g,m);else{var _=d+g,k=p+m;o.moveTo(d+w,p),o.lineTo(_-y,p),o.bezierCurveTo(_-.448084975506*y,p,_,p+.448084975506*y,_,p+y),o.lineTo(_,k-x),o.bezierCurveTo(_,k-.448084975506*x,_-.448084975506*x,k,_-x,k),o.lineTo(d+b,k),o.bezierCurveTo(d+.448084975506*b,k,d,k-.448084975506*b,d,k-b),o.lineTo(d,p+w),o.bezierCurveTo(d,p+.448084975506*w,d+.448084975506*w,p,d+w,p),o.closePath()}if(h)return o=null,h+""||null}return s.x=function(t){return arguments.length?(n=Wh(t),s):n},s.y=function(n){return arguments.length?(t=Wh(n),s):t},s.width=function(n){return arguments.length?(e=Wh(n),s):e},s.height=function(n){return arguments.length?(r=Wh(n),s):r},s.cornerRadius=function(n,t,e,r){return arguments.length?(i=Wh(n),l=null!=t?Wh(t):i,a=null!=e?Wh(e):i,u=null!=r?Wh(r):l,s):i},s.context=function(n){return arguments.length?(o=null==n?null:n,s):o},s}function Vh(){var n,t,e,r,i,l,u,a,o=null;function s(n,t,e){const r=e/2;if(i){var s=u-t,c=n-l;if(s||c){var f=Math.sqrt(s*s+c*c),h=(s/=f)*a,d=(c/=f)*a,p=Math.atan2(c,s);o.moveTo(l-h,u-d),o.lineTo(n-s*r,t-c*r),o.arc(n,t,r,p-Math.PI,p),o.lineTo(l+h,u+d),o.arc(l,u,a,p,p+Math.PI)}else o.arc(n,t,r,0,Eh);o.closePath()}else i=1;l=n,u=t,a=r}function c(l){var u,a,c,f=l.length,h=!1;for(null==o&&(o=c=xo()),u=0;u<=f;++u)!(u<f&&r(a=l[u],u,l))===h&&(h=!h)&&(i=0),h&&s(+n(a,u,l),+t(a,u,l),+e(a,u,l));if(c)return o=null,c+""||null}return c.x=function(t){return arguments.length?(n=t,c):n},c.y=function(n){return arguments.length?(t=n,c):t},c.size=function(n){return arguments.length?(e=n,c):e},c.defined=function(n){return arguments.length?(r=n,c):r},c.context=function(n){return arguments.length?(o=null==n?null:n,c):o},c}function Jh(n,t){return null!=n?n:t}const Xh=n=>n.x||0,Kh=n=>n.y||0,Zh=n=>!(!1===n.defined),Qh=function(){var n=ko,t=jo,e=_o(0),r=null,i=Oo,l=Ao,u=Eo,a=null;function o(){var o,s,c=+n.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-Wa,d=l.apply(this,arguments)-Wa,p=Pa(d-h),g=d>h;if(a||(a=o=xo()),f<c&&(s=f,f=c,c=s),f>1e-12)if(p>Ga-1e-12)a.moveTo(f*Ra(h),f*Ua(h)),a.arc(0,0,f,h,d,!g),c>1e-12&&(a.moveTo(c*Ra(d),c*Ua(d)),a.arc(0,0,c,d,h,g));else{var m,v,w=h,y=d,b=h,x=d,_=p,k=p,j=u.apply(this,arguments)/2,O=j>1e-12&&(r?+r.apply(this,arguments):qa(c*c+f*f)),A=La(Pa(f-c)/2,+e.apply(this,arguments)),E=A,S=A;if(O>1e-12){var C=Va(O/c*Ua(j)),D=Va(O/f*Ua(j));(_-=2*C)>1e-12?(b+=C*=g?1:-1,x-=C):(_=0,b=x=(h+d)/2),(k-=2*D)>1e-12?(w+=D*=g?1:-1,y-=D):(k=0,w=y=(h+d)/2)}var M=f*Ra(w),F=f*Ua(w),T=c*Ra(x),N=c*Ua(x);if(A>1e-12){var B,z=f*Ra(y),P=f*Ua(y),$=c*Ra(b),R=c*Ua(b);if(p<Ha&&(B=So(M,F,$,R,z,P,T,N))){var I=M-B[0],L=F-B[1],U=z-B[0],q=P-B[1],H=1/Ua(Ya((I*U+L*q)/(qa(I*I+L*L)*qa(U*U+q*q)))/2),W=qa(B[0]*B[0]+B[1]*B[1]);E=La(A,(c-W)/(H-1)),S=La(A,(f-W)/(H+1))}}k>1e-12?S>1e-12?(m=Co($,R,M,F,f,S,g),v=Co(z,P,T,N,f,S,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),S<A?a.arc(m.cx,m.cy,S,$a(m.y01,m.x01),$a(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,S,$a(m.y01,m.x01),$a(m.y11,m.x11),!g),a.arc(0,0,f,$a(m.cy+m.y11,m.cx+m.x11),$a(v.cy+v.y11,v.cx+v.x11),!g),a.arc(v.cx,v.cy,S,$a(v.y11,v.x11),$a(v.y01,v.x01),!g))):(a.moveTo(M,F),a.arc(0,0,f,w,y,!g)):a.moveTo(M,F),c>1e-12&&_>1e-12?E>1e-12?(m=Co(T,N,z,P,c,-E,g),v=Co(M,F,$,R,c,-E,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),E<A?a.arc(m.cx,m.cy,E,$a(m.y01,m.x01),$a(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,E,$a(m.y01,m.x01),$a(m.y11,m.x11),!g),a.arc(0,0,c,$a(m.cy+m.y11,m.cx+m.x11),$a(v.cy+v.y11,v.cx+v.x11),g),a.arc(v.cx,v.cy,E,$a(v.y11,v.x11),$a(v.y01,v.x01),!g))):a.arc(0,0,c,x,b,g):a.lineTo(T,N)}else a.moveTo(0,0);if(a.closePath(),o)return a=null,o+""||null}return o.centroid=function(){var e=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +l.apply(this,arguments))/2-Ha/2;return[Ra(r)*e,Ua(r)*e]},o.innerRadius=function(t){return arguments.length?(n="function"==typeof t?t:_o(+t),o):n},o.outerRadius=function(n){return arguments.length?(t="function"==typeof n?n:_o(+n),o):t},o.cornerRadius=function(n){return arguments.length?(e="function"==typeof n?n:_o(+n),o):e},o.padRadius=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:_o(+n),o):r},o.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:_o(+n),o):i},o.endAngle=function(n){return arguments.length?(l="function"==typeof n?n:_o(+n),o):l},o.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:_o(+n),o):u},o.context=function(n){return arguments.length?(a=null==n?null:n,o):a},o}().startAngle(n=>n.startAngle||0).endAngle(n=>n.endAngle||0).padAngle(n=>n.padAngle||0).innerRadius(n=>n.innerRadius||0).outerRadius(n=>n.outerRadius||0).cornerRadius(n=>n.cornerRadius||0),nd=No().x(Xh).y1(Kh).y0(n=>(n.y||0)+(n.height||0)).defined(Zh),td=No().y(Kh).x1(Xh).x0(n=>(n.x||0)+(n.width||0)).defined(Zh),ed=To().x(Xh).y(Kh).defined(Zh),rd=Yh().x(Xh).y(Kh).width(n=>n.width||0).height(n=>n.height||0).cornerRadius(n=>Jh(n.cornerRadiusTopLeft,n.cornerRadius)||0,n=>Jh(n.cornerRadiusTopRight,n.cornerRadius)||0,n=>Jh(n.cornerRadiusBottomRight,n.cornerRadius)||0,n=>Jh(n.cornerRadiusBottomLeft,n.cornerRadius)||0),id=function(n,t){var e=null;function r(){var r;if(e||(e=r=xo()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),r)return e=null,r+""||null}return n="function"==typeof n?n:_o(n||Bo),t="function"==typeof t?t:_o(void 0===t?64:+t),r.type=function(t){return arguments.length?(n="function"==typeof t?t:_o(t),r):n},r.size=function(n){return arguments.length?(t="function"==typeof n?n:_o(+n),r):t},r.context=function(n){return arguments.length?(e=null==n?null:n,r):e},r}().type(n=>Rh(n.shape||"circle")).size(n=>Jh(n.size,64)),ld=Vh().x(Xh).y(Kh).defined(Zh).size(n=>n.size||1);function ud(n){return n.cornerRadius||n.cornerRadiusTopLeft||n.cornerRadiusTopRight||n.cornerRadiusBottomRight||n.cornerRadiusBottomLeft}function ad(n,t,e,r){return rd.context(n)(t,e,r)}var od=1;function sd(){od=1}function cd(n,t,e){var r=t.clip,i=n._defs,l=t.clip_id||(t.clip_id="clip"+od++),u=i.clipping[l]||(i.clipping[l]={id:l});return Object(g.E)(r)?u.path=r(null):ud(e)?u.path=ad(null,e,0,0):(u.width=e.width||0,u.height=e.height||0),"url(#"+l+")"}function fd(n){this.clear(),n&&this.union(n)}function hd(n){this.mark=n,this.bounds=this.bounds||new fd}function dd(n){hd.call(this,n),this.items=this.items||[]}function pd(n){this._pending=0,this._loader=n||si()}function gd(n){n._pending+=1}function md(n){n._pending-=1}function vd(n,t,e){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;n.expand(r+(e?function(n,t){return n.strokeJoin&&"miter"!==n.strokeJoin?0:t}(t,r):0))}return n}fd.prototype={clone(){return new fd(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(n){return this.x1===n.x1&&this.y1===n.y1&&this.x2===n.x2&&this.y2===n.y2},set(n,t,e,r){return e<n?(this.x2=n,this.x1=e):(this.x1=n,this.x2=e),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(n,t){return n<this.x1&&(this.x1=n),t<this.y1&&(this.y1=t),n>this.x2&&(this.x2=n),t>this.y2&&(this.y2=t),this},expand(n){return this.x1-=n,this.y1-=n,this.x2+=n,this.y2+=n,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(n){return this.x1*=n,this.y1*=n,this.x2*=n,this.y2*=n,this},translate(n,t){return this.x1+=n,this.x2+=n,this.y1+=t,this.y2+=t,this},rotate(n,t,e){const r=this.rotatedPoints(n,t,e);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(n,t,e){var{x1:r,y1:i,x2:l,y2:u}=this,a=Math.cos(n),o=Math.sin(n),s=t-t*a+e*o,c=e-t*o-e*a;return[a*r-o*i+s,o*r+a*i+c,a*r-o*u+s,o*r+a*u+c,a*l-o*i+s,o*l+a*i+c,a*l-o*u+s,o*l+a*u+c]},union(n){return n.x1<this.x1&&(this.x1=n.x1),n.y1<this.y1&&(this.y1=n.y1),n.x2>this.x2&&(this.x2=n.x2),n.y2>this.y2&&(this.y2=n.y2),this},intersect(n){return n.x1>this.x1&&(this.x1=n.x1),n.y1>this.y1&&(this.y1=n.y1),n.x2<this.x2&&(this.x2=n.x2),n.y2<this.y2&&(this.y2=n.y2),this},encloses(n){return n&&this.x1<=n.x1&&this.x2>=n.x2&&this.y1<=n.y1&&this.y2>=n.y2},alignsWith(n){return n&&(this.x1==n.x1||this.x2==n.x2||this.y1==n.y1||this.y2==n.y2)},intersects(n){return n&&!(this.x2<n.x1||this.x1>n.x2||this.y2<n.y1||this.y1>n.y2)},contains(n,t){return!(n<this.x1||n>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},Object(g.z)(dd,hd),pd.prototype={pending(){return this._pending},sanitizeURL(n){const t=this;return gd(t),t._loader.sanitize(n,{context:"href"}).then(n=>(md(t),n)).catch(()=>(md(t),null))},loadImage(n){const t=this,e=$o();return gd(t),t._loader.sanitize(n,{context:"image"}).then(n=>{const r=n.href;if(!r||!e)throw{url:r};const i=new e,l=Object(g.w)(n,"crossOrigin")?n.crossOrigin:"anonymous";return null!=l&&(i.crossOrigin=l),i.onload=()=>md(t),i.onerror=()=>md(t),i.src=r,i}).catch(n=>(md(t),{complete:!1,width:0,height:0,src:n&&n.url||""}))},ready(){const n=this;return new Promise(t=>{!function e(r){n.pending()?setTimeout(()=>{e(!0)},10):t(r)}(!1)})}};const wd=Eh-1e-8;let yd,bd,xd,_d,kd,jd,Od,Ad;const Ed=(n,t)=>yd.add(n,t),Sd=(n,t)=>Ed(bd=n,xd=t),Cd=n=>Ed(n,yd.y1),Dd=n=>Ed(yd.x1,n),Md=(n,t)=>kd*n+Od*t,Fd=(n,t)=>jd*n+Ad*t,Td=(n,t)=>Ed(Md(n,t),Fd(n,t)),Nd=(n,t)=>Sd(Md(n,t),Fd(n,t));function Bd(n,t){return yd=n,t?(_d=t*Oh,kd=Ad=Math.cos(_d),jd=Math.sin(_d),Od=-jd):(kd=Ad=1,_d=jd=Od=0),zd}const zd={beginPath(){},closePath(){},moveTo:Nd,lineTo:Nd,rect(n,t,e,r){_d?(Td(n+e,t),Td(n+e,t+r),Td(n,t+r),Nd(n,t)):(Ed(n+e,t+r),Sd(n,t))},quadraticCurveTo(n,t,e,r){const i=Md(n,t),l=Fd(n,t),u=Md(e,r),a=Fd(e,r);Pd(bd,i,u,Cd),Pd(xd,l,a,Dd),Sd(u,a)},bezierCurveTo(n,t,e,r,i,l){const u=Md(n,t),a=Fd(n,t),o=Md(e,r),s=Fd(e,r),c=Md(i,l),f=Fd(i,l);$d(bd,u,o,c,Cd),$d(xd,a,s,f,Dd),Sd(c,f)},arc(n,t,e,r,i,l){if(r+=_d,i+=_d,bd=e*Math.cos(i)+n,xd=e*Math.sin(i)+t,Math.abs(i-r)>wd)Ed(n-e,t-e),Ed(n+e,t+e);else{const u=r=>Ed(e*Math.cos(r)+n,e*Math.sin(r)+t);let a,o;if(u(r),u(i),i!==r)if((r%=Eh)<0&&(r+=Eh),(i%=Eh)<0&&(i+=Eh),i<r&&(l=!l,a=r,r=i,i=a),l)for(i-=Eh,a=r-r%Ah,o=0;o<4&&a>i;++o,a-=Ah)u(a);else for(a=r-r%Ah+Ah,o=0;o<4&&a<i;++o,a+=Ah)u(a)}}};function Pd(n,t,e,r){const i=(n-t)/(n+e-2*t);0<i&&i<1&&r(n+(t-n)*i)}function $d(n,t,e,r,i){const l=r-n+3*t-3*e,u=n+e-2*t,a=n-t;let o,s=0,c=0;Math.abs(l)>1e-14?(o=u*u+a*l,o>=0&&(o=Math.sqrt(o),s=(-u+o)/l,c=(-u-o)/l)):s=.5*a/u,0<s&&s<1&&i(Rd(s,n,t,e,r)),0<c&&c<1&&i(Rd(c,n,t,e,r))}function Rd(n,t,e,r,i){const l=1-n,u=l*l,a=n*n;return u*l*t+3*u*n*e+3*l*a*r+a*n*i}var Id=(Id=Po(1,1))?Id.getContext("2d"):null;const Ld=new fd;function Ud(n){return function(t,e){if(!Id)return!0;n(Id,t),Ld.clear().union(t.bounds).intersect(e).round();const{x1:r,y1:i,x2:l,y2:u}=Ld;for(let n=i;n<=u;++n)for(let t=r;t<=l;++t)if(Id.isPointInPath(t,n))return!0;return!1}}function qd(n,t){return t.contains(n.x||0,n.y||0)}function Hd(n,t){const e=n.x||0,r=n.y||0,i=n.width||0,l=n.height||0;return t.intersects(Ld.set(e,r,e+i,r+l))}function Wd(n,t){const e=n.x||0,r=n.y||0;return Gd(t,e,r,null!=n.x2?n.x2:e,null!=n.y2?n.y2:r)}function Gd(n,t,e,r,i){const{x1:l,y1:u,x2:a,y2:o}=n,s=r-t,c=i-e;let f,h,d,p,g=0,m=1;for(p=0;p<4;++p){if(0===p&&(f=-s,h=-(l-t)),1===p&&(f=s,h=a-t),2===p&&(f=-c,h=-(u-e)),3===p&&(f=c,h=o-e),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>m)return!1;d>g&&(g=d)}else if(f>0){if(d<g)return!1;d<m&&(m=d)}}return!0}function Yd(n,t){n.globalCompositeOperation=t.blend||"source-over"}function Vd(n,t){return null==n?t:n}function Jd(n,t){const e=t.length;for(let r=0;r<e;++r)n.addColorStop(t[r].offset,t[r].color);return n}function Xd(n,t,e){return mh(e)?function(n,t,e){const r=e.width(),i=e.height();let l;if("radial"===t.gradient)l=n.createRadialGradient(e.x1+Vd(t.x1,.5)*r,e.y1+Vd(t.y1,.5)*i,Math.max(r,i)*Vd(t.r1,0),e.x1+Vd(t.x2,.5)*r,e.y1+Vd(t.y2,.5)*i,Math.max(r,i)*Vd(t.r2,.5));else{const u=Vd(t.x1,0),a=Vd(t.y1,0),o=Vd(t.x2,1),s=Vd(t.y2,0);if(u!==o&&a!==s&&r!==i){const e=Po(Math.ceil(r),Math.ceil(i)),l=e.getContext("2d");return l.scale(r,i),l.fillStyle=Jd(l.createLinearGradient(u,a,o,s),t.stops),l.fillRect(0,0,r,i),n.createPattern(e,"no-repeat")}l=n.createLinearGradient(e.x1+u*r,e.y1+a*i,e.x1+o*r,e.y1+s*i)}return Jd(l,t.stops)}(n,e,t.bounds):e}function Kd(n,t,e){return(e*=null==t.fillOpacity?1:t.fillOpacity)>0&&(n.globalAlpha=e,n.fillStyle=Xd(n,t,t.fill),!0)}var Zd=[];function Qd(n,t,e){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((e*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(n.globalAlpha=e,n.strokeStyle=Xd(n,t,t.stroke),n.lineWidth=r,n.lineCap=t.strokeCap||"butt",n.lineJoin=t.strokeJoin||"miter",n.miterLimit=t.strokeMiterLimit||10,n.setLineDash&&(n.setLineDash(t.strokeDash||Zd),n.lineDashOffset=t.strokeDashOffset||0),!0))}function np(n,t){return n.zindex-t.zindex||n.index-t.index}function tp(n){if(!n.zdirty)return n.zitems;var t,e,r,i=n.items,l=[];for(e=0,r=i.length;e<r;++e)(t=i[e]).index=e,t.zindex&&l.push(t);return n.zdirty=!1,n.zitems=l.sort(np)}function ep(n,t){var e,r,i=n.items;if(!i||!i.length)return;const l=tp(n);if(l&&l.length){for(e=0,r=i.length;e<r;++e)i[e].zindex||t(i[e]);i=l}for(e=0,r=i.length;e<r;++e)t(i[e])}function rp(n,t){var e,r,i=n.items;if(!i||!i.length)return null;const l=tp(n);for(l&&l.length&&(i=l),r=i.length;--r>=0;)if(e=t(i[r]))return e;if(i===l)for(r=(i=n.items).length;--r>=0;)if(!i[r].zindex&&(e=t(i[r])))return e;return null}function ip(n){return function(t,e,r){ep(e,e=>{r&&!r.intersects(e.bounds)||lp(n,t,e,e)})}}function lp(n,t,e,r){var i=null==e.opacity?1:e.opacity;0!==i&&(n(t,r)||(Yd(t,e),e.fill&&Kd(t,e,i)&&t.fill(),e.stroke&&Qd(t,e,i)&&t.stroke()))}function up(n){return n=n||g.ib,function(t,e,r,i,l,u){return r*=t.pixelRatio,i*=t.pixelRatio,rp(e,e=>{const a=e.bounds;if((!a||a.contains(l,u))&&a)return n(t,e,r,i,l,u)?e:void 0})}}function ap(n,t){return function(e,r,i,l){var u,a,o=Array.isArray(r)?r[0]:r,s=null==t?o.fill:t,c=o.stroke&&e.isPointInStroke;return c&&(u=o.strokeWidth,a=o.strokeCap,e.lineWidth=null!=u?u:1,e.lineCap=null!=a?a:"butt"),!n(e,r)&&(s&&e.isPointInPath(i,l)||c&&e.isPointInStroke(i,l))}}function op(n){return up(ap(n))}function sp(n,t){return"translate("+n+","+t+")"}function cp(n){return"rotate("+n+")"}function fp(n){return sp(n.x||0,n.y||0)}function hp(n,t,e){function r(n,e){var r=e.x||0,i=e.y||0,l=e.angle||0;n.translate(r,i),l&&n.rotate(l*=Oh),n.beginPath(),t(n,e),l&&n.rotate(-l),n.translate(-r,-i)}return{type:n,tag:"path",nested:!1,attr:function(n,e){n("transform",function(n){return sp(n.x||0,n.y||0)+(n.angle?" "+cp(n.angle):"")}(e)),n("d",t(null,e))},bound:function(n,e){return t(Bd(n,e.angle),e),vd(n,e).translate(e.x||0,e.y||0)},draw:ip(r),pick:op(r),isect:e||Ud(r)}}var dp=hp("arc",(function(n,t){return Qh.context(n)(t)}));function pp(n,t,e){function r(n,e){n.beginPath(),t(n,e)}const i=ap(r);return{type:n,tag:"path",nested:!0,attr:function(n,e){var r=e.mark.items;r.length&&n("d",t(null,r))},bound:function(n,e){var r=e.items;return 0===r.length?n:(t(Bd(n),r),vd(n,r[0]))},draw:(l=r,function(n,t,e){!t.items.length||e&&!e.intersects(t.bounds)||lp(l,n,t.items[0],t.items)}),pick:function(n,t,e,r,l,u){var a=t.items,o=t.bounds;return!a||!a.length||o&&!o.contains(l,u)?null:(e*=n.pixelRatio,r*=n.pixelRatio,i(n,a,e,r)?a[0]:null)},isect:qd,tip:e};var l}var gp=pp("area",(function(n,t){const e=t[0],r=e.interpolate||"linear";return("horizontal"===e.orient?td:nd).curve(xh(r,e.orient,e.tension)).context(n)(t)}),(function(n,t){for(var e,r,i="horizontal"===n[0].orient?t[1]:t[0],l="horizontal"===n[0].orient?"y":"x",u=n.length,a=1/0;--u>=0;)!1!==n[u].defined&&(r=Math.abs(n[u][l]-i))<a&&(a=r,e=n[u]);return e}));function mp(n,t){n.beginPath(),ud(t)?ad(n,t,0,0):n.rect(0,0,t.width||0,t.height||0),n.clip()}function vp(n){const t=Vd(n.strokeWidth,1);return null!=n.strokeOffset?n.strokeOffset:n.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function wp(n,t){const e=vp(t);n("d",ad(null,t,e,e))}function yp(n,t,e,r){const i=vp(t);n.beginPath(),ad(n,t,(e||0)+i,(r||0)+i)}const bp=ap(yp),xp=ap(yp,!1),_p=ap(yp,!0);var kp={type:"group",tag:"g",nested:!1,attr:function(n,t){n("transform",fp(t))},bound:function(n,t){if(!t.clip&&t.items){const e=t.items,r=e.length;for(let t=0;t<r;++t)n.union(e[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&n.add(0,0).add(t.width||0,t.height||0),vd(n,t),n.translate(t.x||0,t.y||0)},draw:function(n,t,e){ep(t,t=>{const r=t.x||0,i=t.y||0,l=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(yp(n,t,r,i),Yd(n,t),t.fill&&Kd(n,t,u)&&n.fill(),t.stroke&&!l&&Qd(n,t,u)&&n.stroke()),n.save(),n.translate(r,i),t.clip&&mp(n,t),e&&e.translate(-r,-i),ep(t,t=>{this.draw(n,t,e)}),e&&e.translate(r,i),n.restore(),l&&t.stroke&&u&&(yp(n,t,r,i),Yd(n,t),Qd(n,t,u)&&n.stroke())})},pick:function(n,t,e,r,i,l){if(t.bounds&&!t.bounds.contains(i,l)||!t.items)return null;const u=e*n.pixelRatio,a=r*n.pixelRatio;return rp(t,o=>{let s,c,f;const h=o.bounds;if(h&&!h.contains(i,l))return;c=o.x||0,f=o.y||0;const d=c+(o.width||0),p=f+(o.height||0),g=o.clip;if(g&&(i<c||i>d||l<f||l>p))return;if(n.save(),n.translate(c,f),c=i-c,f=l-f,g&&ud(o)&&!_p(n,o,u,a))return n.restore(),null;const m=o.strokeForeground,v=!1!==t.interactive;return v&&m&&o.stroke&&xp(n,o,u,a)?(n.restore(),o):(s=rp(o,n=>function(n,t,e){return(!1!==n.interactive||"group"===n.marktype)&&n.bounds&&n.bounds.contains(t,e)}(n,c,f)?this.pick(n,e,r,c,f):null),!s&&v&&(o.fill||!m&&o.stroke)&&bp(n,o,u,a)&&(s=o),n.restore(),s||null)})},isect:Hd,content:function(n,t,e){n("clip-path",t.clip?cd(e,t,t):null)},background:function(n,t){n("class","background"),n("aria-hidden",!0),wp(n,t)},foreground:function(n,t){n("class","foreground"),n("aria-hidden",!0),t.strokeForeground?wp(n,t):n("d","")}},jp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Op(n,t){var e=n.image;return(!e||n.url&&n.url!==e.url)&&(e={complete:!1,width:0,height:0},t.loadImage(n.url).then(t=>{n.image=t,n.image.url=n.url})),e}function Ap(n,t){return null!=n.width?n.width:t&&t.width?!1!==n.aspect&&n.height?n.height*t.width/t.height:t.width:0}function Ep(n,t){return null!=n.height?n.height:t&&t.height?!1!==n.aspect&&n.width?n.width*t.height/t.width:t.height:0}function Sp(n,t){return"center"===n?t/2:"right"===n?t:0}function Cp(n,t){return"middle"===n?t/2:"bottom"===n?t:0}var Dp={type:"image",tag:"image",nested:!1,attr:function(n,t,e){const r=Op(t,e),i=Ap(t,r),l=Ep(t,r),u=(t.x||0)-Sp(t.align,i),a=(t.y||0)-Cp(t.baseline,l);n("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",jp["xmlns:xlink"],"xlink:href"),n("transform",sp(u,a)),n("width",i),n("height",l),n("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(n,t){const e=t.image,r=Ap(t,e),i=Ep(t,e),l=(t.x||0)-Sp(t.align,r),u=(t.y||0)-Cp(t.baseline,i);return n.set(l,u,l+r,u+i)},draw:function(n,t,e){ep(t,t=>{if(e&&!e.intersects(t.bounds))return;const r=Op(t,this);let i,l,u,a,o=Ap(t,r),s=Ep(t,r),c=(t.x||0)-Sp(t.align,o),f=(t.y||0)-Cp(t.baseline,s);!1!==t.aspect&&(l=r.width/r.height,u=t.width/t.height,l==l&&u==u&&l!==u&&(u<l?(a=o/l,f+=(s-a)/2,s=a):(a=s*l,c+=(o-a)/2,o=a))),(r.complete||r.toDataURL)&&(Yd(n,t),n.globalAlpha=null!=(i=t.opacity)?i:1,n.imageSmoothingEnabled=!1!==t.smooth,n.drawImage(r,c,f,o,s))})},pick:up(),isect:g.ib,get:Op,xOffset:Sp,yOffset:Cp},Mp=pp("line",(function(n,t){const e=t[0],r=e.interpolate||"linear";return ed.curve(xh(r,e.orient,e.tension)).context(n)(t)}),(function(n,t){for(var e,r,i=Math.pow(n[0].strokeWidth||1,2),l=n.length;--l>=0;)if(!1!==n[l].defined&&(e=n[l].x-t[0])*e+(r=n[l].y-t[1])*r<i)return n[l];return null}));function Fp(n,t){var e=t.path;if(null==e)return!0;var r=t.x||0,i=t.y||0,l=t.scaleX||1,u=t.scaleY||1,a=(t.angle||0)*Oh,o=t.pathCache;o&&o.path===e||((t.pathCache=o=jh(e)).path=e),a&&n.rotate&&n.translate?(n.translate(r,i),n.rotate(a),Bh(n,o,0,0,l,u),n.rotate(-a),n.translate(-r,-i)):Bh(n,o,r,i,l,u)}var Tp={type:"path",tag:"path",nested:!1,attr:function(n,t){var e=t.scaleX||1,r=t.scaleY||1;1===e&&1===r||n("vector-effect","non-scaling-stroke"),n("transform",function(n){return sp(n.x||0,n.y||0)+(n.angle?" "+cp(n.angle):"")+(n.scaleX||n.scaleY?" "+(t=n.scaleX||1,e=n.scaleY||1,"scale("+t+","+e+")"):"");var t,e}(t)),n("d",t.path)},bound:function(n,t){return Fp(Bd(n,t.angle),t)?n.set(0,0,0,0):vd(n,t,!0)},draw:ip(Fp),pick:op(Fp),isect:Ud(Fp)};function Np(n,t){n.beginPath(),ad(n,t)}var Bp={type:"rect",tag:"path",nested:!1,attr:function(n,t){n("d",ad(null,t))},bound:function(n,t){var e,r;return vd(n.set(e=t.x||0,r=t.y||0,e+t.width||0,r+t.height||0),t)},draw:ip(Np),pick:op(Np),isect:Hd};function zp(n,t,e){var r,i,l,u;return!(!t.stroke||!Qd(n,t,e))&&(r=t.x||0,i=t.y||0,l=null!=t.x2?t.x2:r,u=null!=t.y2?t.y2:i,n.beginPath(),n.moveTo(r,i),n.lineTo(l,u),!0)}var Pp={type:"rule",tag:"line",nested:!1,attr:function(n,t){n("transform",fp(t)),n("x2",null!=t.x2?t.x2-(t.x||0):0),n("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(n,t){var e,r;return vd(n.set(e=t.x||0,r=t.y||0,null!=t.x2?t.x2:e,null!=t.y2?t.y2:r),t)},draw:function(n,t,e){ep(t,t=>{if(!e||e.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&zp(n,t,r)&&(Yd(n,t),n.stroke())}})},pick:up((function(n,t,e,r){return!!n.isPointInStroke&&(zp(n,t,1)&&n.isPointInStroke(e,r))})),isect:Wd},$p=hp("shape",(function(n,t){return(t.mark.shape||t.shape).context(n)(t)})),Rp=hp("symbol",(function(n,t){return id.context(n)(t)}),qd);const Ip=Object(g.N)();var Lp={height:Yp,measureWidth:Wp,estimateWidth:qp,width:qp,canvas:Up};function Up(n){Lp.width=n&&Id?Wp:qp}function qp(n,t){return Hp(Kp(n,t),Yp(n))}function Hp(n,t){return~~(.8*n.length*t)}function Wp(n,t){return Yp(n)<=0||!(t=Kp(n,t))?0:Gp(t,Qp(n))}function Gp(n,t){const e="(".concat(t,") ").concat(n);let r=Ip.get(e);return void 0===r&&(Id.font=t,r=Id.measureText(n).width,Ip.set(e,r)),r}function Yp(n){return null!=n.fontSize?+n.fontSize||0:11}function Vp(n){return null!=n.lineHeight?n.lineHeight:Yp(n)+2}function Jp(n){return t=n.lineBreak&&n.text&&!Object(g.B)(n.text)?n.text.split(n.lineBreak):n.text,Object(g.B)(t)?t.length>1?t:t[0]:t;var t}function Xp(n){const t=Jp(n);return(Object(g.B)(t)?t.length-1:0)*Vp(n)}function Kp(n,t){const e=null==t?"":(t+"").trim();return n.limit>0&&e.length?function(n,t){var e=+n.limit,r=function(n){if(Lp.width===Wp){const t=Qp(n);return n=>Gp(n,t)}{const t=Yp(n);return n=>Hp(n,t)}}(n);if(r(t)<e)return t;var i,l=n.ellipsis||"…",u="rtl"===n.dir,a=0,o=t.length;if(e-=r(l),u){for(;a<o;)i=a+o>>>1,r(t.slice(i))>e?a=i+1:o=i;return l+t.slice(a)}for(;a<o;)i=1+(a+o>>>1),r(t.slice(0,i))<e?a=i:o=i-1;return t.slice(0,a)+l}(n,e):e}function Zp(n,t){var e=n.font;return(t&&e?String(e).replace(/"/g,"'"):e)||"sans-serif"}function Qp(n,t){return(n.fontStyle?n.fontStyle+" ":"")+(n.fontVariant?n.fontVariant+" ":"")+(n.fontWeight?n.fontWeight+" ":"")+Yp(n)+"px "+Zp(n,t)}function ng(n){var t=n.baseline,e=Yp(n);return Math.round("top"===t?.79*e:"middle"===t?.3*e:"bottom"===t?-.21*e:"line-top"===t?.29*e+.5*Vp(n):"line-bottom"===t?.29*e-.5*Vp(n):0)}Up(!0);const tg={left:"start",center:"middle",right:"end"},eg=new fd;function rg(n){var t,e=n.x||0,r=n.y||0,i=n.radius||0;return i&&(t=(n.theta||0)-Ah,e+=i*Math.cos(t),r+=i*Math.sin(t)),eg.x1=e,eg.y1=r,eg}function ig(n,t,e){var r,i=Lp.height(t),l=t.align,u=rg(t),a=u.x1,o=u.y1,s=t.dx||0,c=(t.dy||0)+ng(t)-Math.round(.8*i),f=Jp(t);if(Object(g.B)(f)?(i+=Vp(t)*(f.length-1),r=f.reduce((n,e)=>Math.max(n,Lp.width(t,e)),0)):r=Lp.width(t,f),"center"===l?s-=r/2:"right"===l&&(s-=r),n.set(s+=a,c+=o,s+r,c+i),t.angle&&!e)n.rotate(t.angle*Oh,a,o);else if(2===e)return n.rotatedPoints(t.angle*Oh,a,o);return n}var lg={arc:dp,area:gp,group:kp,image:Dp,line:Mp,path:Tp,rect:Bp,rule:Pp,shape:$p,symbol:Rp,text:{type:"text",tag:"text",nested:!1,attr:function(n,t){var e,r=t.dx||0,i=(t.dy||0)+ng(t),l=rg(t),u=l.x1,a=l.y1,o=t.angle||0;n("text-anchor",tg[t.align]||"start"),o?(e=sp(u,a)+" "+cp(o),(r||i)&&(e+=" "+sp(r,i))):e=sp(u+r,a+i),n("transform",e)},bound:ig,draw:function(n,t,e){ep(t,t=>{var r,i,l,u,a,o,s,c=null==t.opacity?1:t.opacity;if(!(e&&!e.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(n.font=Qp(t),n.textAlign=t.align||"left",i=(r=rg(t)).x1,l=r.y1,t.angle&&(n.save(),n.translate(i,l),n.rotate(t.angle*Oh),i=l=0),i+=t.dx||0,l+=(t.dy||0)+ng(t),o=Jp(t),Yd(n,t),Object(g.B)(o))for(a=Vp(t),u=0;u<o.length;++u)s=Kp(t,o[u]),t.fill&&Kd(n,t,c)&&n.fillText(s,i,l),t.stroke&&Qd(n,t,c)&&n.strokeText(s,i,l),l+=a;else s=Kp(t,o),t.fill&&Kd(n,t,c)&&n.fillText(s,i,l),t.stroke&&Qd(n,t,c)&&n.strokeText(s,i,l);t.angle&&n.restore()}})},pick:up((function(n,t,e,r,i,l){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var u=rg(t),a=u.x1,o=u.y1,s=ig(eg,t,1),c=-t.angle*Oh,f=Math.cos(c),h=Math.sin(c),d=f*i-h*l+(a-f*a+h*o),p=h*i+f*l+(o-h*a-f*o);return s.contains(d,p)})),isect:function(n,t){const e=ig(eg,n,2);return Gd(t,e[0],e[1],e[2],e[3])||Gd(t,e[0],e[1],e[4],e[5])||Gd(t,e[4],e[5],e[6],e[7])||Gd(t,e[2],e[3],e[6],e[7])}},trail:pp("trail",(function(n,t){return ld.context(n)(t)}),(function(n,t){for(var e,r,i=n.length;--i>=0;)if(!1!==n[i].defined&&(e=n[i].x-t[0])*e+(r=n[i].y-t[1])*r<(e=n[i].size||1)*e)return n[i];return null}))};function ug(n,t,e){var r=lg[n.mark.marktype],i=t||r.bound;return r.nested&&(n=n.mark),i(n.bounds||(n.bounds=new fd),n,e)}var ag={mark:null};function og(n,t,e){var r,i,l,u,a=lg[n.marktype],o=a.bound,s=n.items,c=s&&s.length;if(a.nested)return c?l=s[0]:(ag.mark=n,l=ag),u=ug(l,o,e),t=t&&t.union(u)||u;if(t=t||n.bounds&&n.bounds.clear()||new fd,c)for(r=0,i=s.length;r<i;++r)t.union(ug(s[r],o,e));return n.bounds=t}const sg=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function cg(n,t){return JSON.stringify(n,sg,t)}function fg(n){return function n(t){var e,r,i,l=t.marktype,u=t.items;if(u)for(r=0,i=u.length;r<i;++r)e=l?"mark":"group",u[r][e]=t,u[r].zindex&&(u[r][e].zdirty=!0),"group"===(l||e)&&n(u[r]);l&&og(t);return t}("string"==typeof n?JSON.parse(n):n)}function hg(n){arguments.length?this.root=fg(n):(this.root=dg({marktype:"group",name:"root",role:"frame"}),this.root.items=[new dd(this.root)])}function dg(n,t){const e={bounds:new fd,clip:!!n.clip,group:t,interactive:!1!==n.interactive,items:[],marktype:n.marktype,name:n.name||void 0,role:n.role||void 0,zindex:n.zindex||0};return null!=n.aria&&(e.aria=n.aria),n.description&&(e.description=n.description),e}function pg(n,t,e){return!n&&"undefined"!=typeof document&&document.createElement&&(n=document),n?e?n.createElementNS(e,t):n.createElement(t):null}function gg(n,t){t=t.toLowerCase();for(var e=n.childNodes,r=0,i=e.length;r<i;++r)if(e[r].tagName.toLowerCase()===t)return e[r]}function mg(n,t,e,r){var i,l=n.childNodes[t];return l&&l.tagName.toLowerCase()===e.toLowerCase()||(i=l||null,l=pg(n.ownerDocument,e,r),n.insertBefore(l,i)),l}function vg(n,t){for(var e=n.childNodes,r=e.length;r>t;)n.removeChild(e[--r]);return n}function wg(n){return"mark-"+n.marktype+(n.role?" role-"+n.role:"")+(n.name?" "+n.name:"")}function yg(n,t){const e=t.getBoundingClientRect();return[n.clientX-e.left-(t.clientLeft||0),n.clientY-e.top-(t.clientTop||0)]}function bg(n,t){this._active=null,this._handlers={},this._loader=n||si(),this._tooltip=t||xg}function xg(n,t,e,r){n.element().setAttribute("title",r||"")}function _g(n){this._el=null,this._bgcolor=null,this._loader=new pd(n)}hg.prototype={toJSON(n){return cg(this.root,n||0)},mark(n,t,e){const r=dg(n,t=t||this.root.items[0]);return t.items[e]=r,r.zindex&&(r.group.zdirty=!0),r}},bg.prototype={initialize(n,t,e){return this._el=n,this._obj=e||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(n){return arguments.length?(this._origin=n||[0,0],this):this._origin.slice()},scene(n){return arguments.length?(this._scene=n,this):this._scene},on(){},off(){},_handlerIndex(n,t,e){for(let r=n?n.length:0;--r>=0;)if(n[r].type===t&&(!e||n[r].handler===e))return r;return-1},handlers(n){const t=this._handlers,e=[];if(n)e.push(...t[this.eventName(n)]);else for(const n in t)e.push(...t[n]);return e},eventName(n){const t=n.indexOf(".");return t<0?n:n.slice(0,t)},handleHref(n,t,e){this._loader.sanitize(e,{context:"href"}).then(t=>{const e=new MouseEvent(n.type,n),r=pg(null,"a");for(const n in t)r.setAttribute(n,t[n]);r.dispatchEvent(e)}).catch(()=>{})},handleTooltip(n,t,e){if(t&&null!=t.tooltip){t=function(n,t,e,r){var i,l,u=n&&n.mark;if(u&&(i=lg[u.marktype]).tip){for((l=yg(t,e))[0]-=r[0],l[1]-=r[1];n=n.mark.group;)l[0]-=n.x||0,l[1]-=n.y||0;n=i.tip(u.items,l)}return n}(t,n,this.canvas(),this._origin);const r=e&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,n,t,r)}},getItemBoundingClientRect(n){const t=this.canvas();if(!t)return;const e=t.getBoundingClientRect(),r=this._origin,i=n.bounds,l=i.width(),u=i.height();let a=i.x1+r[0]+e.left,o=i.y1+r[1]+e.top;for(;n.mark&&(n=n.mark.group);)a+=n.x||0,o+=n.y||0;return{x:a,y:o,width:l,height:u,left:a,top:o,right:a+l,bottom:o+u}}},_g.prototype={initialize(n,t,e,r,i){return this._el=n,this.resize(t,e,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(n){return 0===arguments.length?this._bgcolor:(this._bgcolor=n,this)},resize(n,t,e,r){return this._width=n,this._height=t,this._origin=e||[0,0],this._scale=r||1,this},dirty(){},render(n){const t=this;return t._call=function(){t._render(n)},t._call(),t._call=null,t},_render(){},renderAsync(n){const t=this.render(n);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(n,t){var e=this,r=e._loader[n](t);if(!e._ready){const n=e._call;e._ready=e._loader.ready().then(t=>{t&&n(),e._ready=null})}return r},sanitizeURL(n){return this._load("sanitizeURL",n)},loadImage(n){return this._load("loadImage",n)}};const kg="dragleave",jg="mousedown",Og="mousemove",Ag="mouseout",Eg="click",Sg=["keydown","keypress","keyup","dragenter",kg,"dragover",jg,"mouseup",Og,Ag,"mouseover",Eg,"dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Cg=Og,Dg=Ag,Mg=Eg;function Fg(n,t){bg.call(this,n,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Tg(n,t){(n=>"touchstart"===n||"touchmove"===n||"touchend"===n?["touchstart","touchmove","touchend"]:[n])(t).forEach(t=>function(n,t){const e=n.canvas();e&&!n._events[t]&&(n._events[t]=1,e.addEventListener(t,n[t]?e=>n[t](e):e=>n.fire(t,e)))}(n,t))}function Ng(n,t,e){return function(r){const i=this._active,l=this.pickEvent(r);l===i||(i&&i.exit||this.fire(e,r),this._active=l,this.fire(t,r)),this.fire(n,r)}}function Bg(n){return function(t){this.fire(n,t),this._active=null}}Object(g.z)(Fg,bg,{initialize(n,t,e){return this._canvas=n&&gg(n,"canvas"),[Eg,jg,Og,Ag,kg].forEach(n=>Tg(this,n)),bg.prototype.initialize.call(this,n,t,e)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Sg,DOMMouseScroll(n){this.fire("mousewheel",n)},mousemove:Ng(Og,"mouseover",Ag),dragover:Ng("dragover","dragenter",kg),mouseout:Bg(Ag),dragleave:Bg(kg),mousedown(n){this._down=this._active,this.fire(jg,n)},click(n){this._down===this._active&&(this.fire(Eg,n),this._down=null)},touchstart(n){this._touch=this.pickEvent(n.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",n,!0)},touchmove(n){this.fire("touchmove",n,!0)},touchend(n){this.fire("touchend",n,!0),this._touch=null},fire(n,t,e){const r=e?this._touch:this._active,i=this._handlers[n];if(t.vegaType=n,n===Mg&&r&&r.href?this.handleHref(t,r,r.href):n!==Cg&&n!==Dg||this.handleTooltip(t,r,n!==Dg),i)for(let n=0,e=i.length;n<e;++n)i[n].handler.call(this._obj,t,r)},on(n,t){const e=this.eventName(n),r=this._handlers;return this._handlerIndex(r[e],n,t)<0&&(Tg(this,n),(r[e]||(r[e]=[])).push({type:n,handler:t})),this},off(n,t){const e=this.eventName(n),r=this._handlers[e],i=this._handlerIndex(r,n,t);return i>=0&&r.splice(i,1),this},pickEvent(n){const t=yg(n,this._canvas),e=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-e[0],t[1]-e[1])},pick(n,t,e,r,i){const l=this.context();return lg[n.marktype].pick.call(this,l,n,t,e,r,i)}});var zg="undefined"!=typeof window&&window.devicePixelRatio||1;function Pg(n){_g.call(this,n),this._options={},this._redraw=!1,this._dirty=new fd,this._tempb=new fd}const $g=_g.prototype;function Rg(n,t){bg.call(this,n,t);const e=this;e._hrefHandler=Ig(e,(n,t)=>{t&&t.href&&e.handleHref(n,t,t.href)}),e._tooltipHandler=Ig(e,(n,t)=>{e.handleTooltip(n,t,n.type!==Dg)})}Object(g.z)(Pg,_g,{initialize(n,t,e,r,i,l){return this._options=l||{},this._canvas=this._options.externalContext?null:Po(1,1,this._options.type),n&&this._canvas&&(vg(n,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),$g.initialize.call(this,n,t,e,r,i)},resize(n,t,e,r){if($g.resize.call(this,n,t,e,r),this._canvas)!function(n,t,e,r,i,l){const u="undefined"!=typeof HTMLElement&&n instanceof HTMLElement&&null!=n.parentNode,a=n.getContext("2d"),o=u?zg:i;n.width=t*o,n.height=e*o;for(const n in l)a[n]=l[n];u&&1!==o&&(n.style.width=t+"px",n.style.height=e+"px"),a.pixelRatio=o,a.setTransform(o,0,0,o,o*r[0],o*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const n=this._options.externalContext;n||Object(g.o)("CanvasRenderer is missing a valid canvas or context"),n.scale(this._scale,this._scale),n.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(n){const t=this._tempb.clear().union(n.bounds);let e=n.mark.group;for(;e;)t.translate(e.x||0,e.y||0),e=e.mark.group;this._dirty.union(t)},_render(n){const t=this.context(),e=this._origin,r=this._width,i=this._height,l=this._dirty,u=(a=e,o=r,s=i,(new fd).set(0,0,o,s).translate(-a[0],-a[1]));var a,o,s;t.save();const c=this._redraw||l.empty()?(this._redraw=!1,u.expand(1)):function(n,t,e){return t.expand(1).round(),n.pixelRatio%1&&t.scale(n.pixelRatio).round().scale(1/n.pixelRatio),t.translate(-e[0]%1,-e[1]%1),n.beginPath(),n.rect(t.x1,t.y1,t.width(),t.height()),n.clip(),t}(t,u.intersect(l),e);return this.clear(-e[0],-e[1],r,i),this.draw(t,n,c),t.restore(),l.clear(),this},draw(n,t,e){const r=lg[t.marktype];t.clip&&function(n,t){var e=t.clip;n.save(),Object(g.E)(e)?(n.beginPath(),e(n),n.clip()):mp(n,t.group)}(n,t),r.draw.call(this,n,t,e),t.clip&&n.restore()},clear(n,t,e,r){const i=this._options,l=this.context();"pdf"===i.type||i.externalContext||l.clearRect(n,t,e,r),null!=this._bgcolor&&(l.fillStyle=this._bgcolor,l.fillRect(n,t,e,r))}});const Ig=(n,t)=>e=>{let r=e.target.__data__;r=Array.isArray(r)?r[0]:r,e.vegaType=e.type,t.call(n._obj,e,r)};Object(g.z)(Rg,bg,{initialize(n,t,e){let r=this._svg;return r&&(r.removeEventListener(Mg,this._hrefHandler),r.removeEventListener(Cg,this._tooltipHandler),r.removeEventListener(Dg,this._tooltipHandler)),this._svg=r=n&&gg(n,"svg"),r&&(r.addEventListener(Mg,this._hrefHandler),r.addEventListener(Cg,this._tooltipHandler),r.addEventListener(Dg,this._tooltipHandler)),bg.prototype.initialize.call(this,n,t,e)},canvas(){return this._svg},on(n,t){const e=this.eventName(n),r=this._handlers;if(this._handlerIndex(r[e],n,t)<0){const i={type:n,handler:t,listener:Ig(this,t)};(r[e]||(r[e]=[])).push(i),this._svg&&this._svg.addEventListener(e,i.listener)}return this},off(n,t){const e=this.eventName(n),r=this._handlers[e],i=this._handlerIndex(r,n,t);return i>=0&&(this._svg&&this._svg.removeEventListener(e,r[i].listener),r.splice(i,1)),this}});const Lg=(n,t,e)=>({role:n,"aria-roledescription":t,"aria-label":e||void 0}),Ug=Object(g.fb)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),qg={axis:{desc:"axis",caption:function(n){const t=n.datum,e=n.orient,r=t.title?Vg(n):null,i=n.context,l=i.scales[t.scale].value,u=i.dataflow.locale(),a=l.type;return"".concat("left"===e||"right"===e?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(Bf(a)?"discrete":a," scale")+" with ".concat(ph(u,l,n))}},legend:{desc:"legend",caption:function(n){const t=n.datum,e=t.title?Vg(n):null,r="".concat(t.type||""," legend").trim(),i=t.scales,l=Object.keys(i),u=n.context,a=u.scales[i[l[0]]].value,o=u.dataflow.locale();return s=r,(s.length?s[0].toUpperCase()+s.slice(1):s)+(e?" titled '".concat(e,"'"):"")+" for ".concat(function(n){return(n=n.map(n=>n+("fill"===n||"stroke"===n?" color":""))).length<2?n[0]:n.slice(0,-1).join(", ")+" and "+Object(g.W)(n)}(l))+" with ".concat(ph(o,a,n));var s}},"title-text":{desc:"title",caption:n=>"Title text '".concat(Yg(n),"'")},"title-subtitle":{desc:"subtitle",caption:n=>"Subtitle text '".concat(Yg(n),"'")}},Hg={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function Wg(n,t){const e=!1===t.aria;if(n("aria-hidden",e||void 0),e||null==t.description)for(const t in Hg)n(Hg[t],void 0);else{const e=t.mark.marktype;n("aria-label",t.description),n("role",t.ariaRole||("group"===e?"graphics-object":"graphics-symbol")),n("aria-roledescription",t.ariaRoleDescription||"".concat(e," mark"))}}function Gg(n){return!1===n.aria?{"aria-hidden":!0}:Ug[n.role]?null:qg[n.role]?function(n,t){try{const e=n.items[0],r=t.caption||(()=>"");return Lg(t.role||"graphics-symbol",t.desc,e.description||r(e))}catch(n){return null}}(n,qg[n.role]):function(n){const t=n.marktype,e="group"===t||"text"===t||n.items.some(n=>null!=n.description&&!1!==n.aria);return Lg(e?"graphics-object":"graphics-symbol","".concat(t," mark container"),n.description)}(n)}function Yg(n){return Object(g.i)(n.text).join(" ")}function Vg(n){try{return Object(g.i)(Object(g.W)(n.items).items[0].text).join(" ")}catch(n){return null}}const Jg=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function Xg(){let n="",t="",e="";const r=[],i=()=>t=e="",l=(n,e)=>(null!=e&&(t+=" ".concat(n,'="').concat(Jg(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),u),u={open(a,...o){(l=>{t&&(n+="".concat(t,">").concat(e),i()),r.push(l)})(a),t="<"+a;for(const n of o)for(const t in n)l(t,n[t]);return u},close(){const l=r.pop();return n+=t?t+(e?">".concat(e,"</").concat(l,">"):"/>"):"</".concat(l,">"),i(),u},attr:l,text:n=>(e+=Jg(n),u),toString:()=>n};return u}const Kg=n=>function n(t,e){if(t.open(e.tagName),e.hasAttributes()){const n=e.attributes,r=n.length;for(let e=0;e<r;++e)t.attr(n[e].name,n[e].value)}if(e.hasChildNodes()){const r=e.childNodes,i=r.length;for(let e=0;e<i;e++){const i=r[e];3===i.nodeType?t.text(i.nodeValue):n(t,i)}}return t.close()}(Xg(),n)+"";const Zg={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Qg={fill:"none","stroke-miterlimit":10},nm=jp.xmlns;function tm(n){_g.call(this,n),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const em=_g.prototype;function rm(n,t){for(;n&&n.dirty!==t;n=n.mark.group){if(n.dirty=t,!n.mark||n.mark.dirty===t)return;n.mark.dirty=t}}function im(n,t,e){let r,i,l;if("radial"===t.gradient){let r=mg(n,e++,"pattern",nm);hm(r,{id:"p_"+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r=mg(r,0,"rect",nm),hm(r,{width:1,height:1,fill:"url(".concat(pm(),"#").concat(t.id,")")}),hm(n=mg(n,e++,"radialGradient",nm),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else hm(n=mg(n,e++,"linearGradient",nm),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)l=mg(n,r,"stop",nm),l.setAttribute("offset",t.stops[r].offset),l.setAttribute("stop-color",t.stops[r].color);return vg(n,r),e}function lm(n,t,e){let r;return(n=mg(n,e,"clipPath",nm)).setAttribute("id",t.id),t.path?(r=mg(n,0,"path",nm),r.setAttribute("d",t.path)):(r=mg(n,0,"rect",nm),hm(r,{x:0,y:0,width:t.width,height:t.height})),vg(n,1),e+1}function um(n,t,e,r,i){let l,u=n._svg;if(!u&&(l=t.ownerDocument,u=pg(l,r,nm),n._svg=u,n.mark&&(u.__data__=n,u.__values__={fill:"default"},"g"===r))){const t=pg(l,"path",nm);u.appendChild(t),t.__data__=n;const e=pg(l,"g",nm);u.appendChild(e),e.__data__=n;const r=pg(l,"path",nm);u.appendChild(r),r.__data__=n,r.__values__={fill:"default"}}return(u.ownerSVGElement!==i||function(n,t){return n.parentNode&&n.parentNode.childNodes.length>1&&n.previousSibling!=t}(u,e))&&t.insertBefore(u,e?e.nextSibling:t.firstChild),u}Object(g.z)(tm,_g,{initialize(n,t,e,r,i){return this._defs={},this._clearDefs(),n&&(this._svg=mg(n,0,"svg",nm),hm(this._svg,jp),this._svg.setAttribute("class","marks"),vg(n,1),this._root=mg(this._svg,0,"g",nm),hm(this._root,Qg),vg(this._svg,1)),this.background(this._bgcolor),em.initialize.call(this,n,t,e,r,i)},background(n){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",n),em.background.apply(this,arguments)},resize(n,t,e,r){return em.resize.call(this,n,t,e,r),this._svg&&(hm(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas(){return this._svg},svg(){const n=this._svg,t=this._bgcolor;if(!n)return null;let e;t&&(n.removeAttribute("style"),e=mg(n,0,"rect",nm),hm(e,{width:this._width,height:this._height,fill:t}));const r=Kg(n);return t&&(n.removeChild(e),this._svg.style.setProperty("background-color",t)),r},_render(n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,n),vg(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(n){n.dirty!==this._dirtyID&&(n.dirty=this._dirtyID,this._dirty.push(n))},isDirty(n){return this._dirtyAll||!n._svg||n.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const n=this._dirty;if(!n.length||!this._dirtyID)return!0;const t=++this._dirtyID;let e,r,i,l,u,a,o;for(u=0,a=n.length;u<a;++u)e=n[u],r=e.mark,r.marktype!==i&&(i=r.marktype,l=lg[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,rm(e,t),r.items.forEach(n=>{n.dirty=t})),r.zdirty||(e.exit?(l.nested&&r.items.length?(o=r.items[0],o._svg&&this._update(l,o._svg,o)):e._svg&&(o=e._svg.parentNode,o&&o.removeChild(e._svg)),e._svg=null):(e=l.nested?r.items[0]:e,e._update!==t&&(e._svg&&e._svg.ownerSVGElement?this._update(l,e._svg,e):(this._dirtyAll=!1,rm(e,t)),e._update=t)));return!this._dirtyAll},mark(n,t,e){if(!this.isDirty(t))return t._svg;const r=this._svg,i=lg[t.marktype],l=!1===t.interactive?"none":null,u="g"===i.tag;let a=null,o=0;const s=um(t,n,e,"g",r);s.setAttribute("class",wg(t));const c=Gg(t);for(const n in c)dm(s,n,c[n]);u||dm(s,"pointer-events",l),dm(s,"clip-path",t.clip?cd(this,t,t.group):null);const f=n=>{const t=this.isDirty(n),e=um(n,s,a,i.tag,r);t&&(this._update(i,e,n),u&&function(n,t,e){t=t.lastChild.previousSibling;let r,i=0;ep(e,e=>{r=n.mark(t,e,r),++i}),vg(t,1+i)}(this,e,n)),a=e,++o};return i.nested?t.items.length&&f(t.items[0]):ep(t,f),vg(s,o),s},_update(n,t,e){am=t,om=t.__values__,Wg(cm,e),n.attr(cm,e,this);const r=sm[n.type];r&&r.call(this,n,t,e),am&&this.style(am,e)},style(n,t){if(null!=t)for(const e in Zg){let r="font"===e?Zp(t):t[e];if(r===om[e])continue;const i=Zg[e];null==r?n.removeAttribute(i):(mh(r)&&(r=vh(r,this._defs.gradient,pm())),n.setAttribute(i,r+"")),om[e]=r}},defs(){const n=this._svg,t=this._defs;let e=t.el,r=0;for(const i in t.gradient)e||(t.el=e=mg(n,1,"defs",nm)),r=im(e,t.gradient[i],r);for(const i in t.clipping)e||(t.el=e=mg(n,1,"defs",nm)),r=lm(e,t.clipping[i],r);e&&(0===r?(n.removeChild(e),t.el=null):vg(e,r))},_clearDefs(){const n=this._defs;n.gradient={},n.clipping={}}});let am=null,om=null;const sm={group(n,t,e){const r=am=t.childNodes[2];om=r.__values__,n.foreground(cm,e,this),om=t.__values__,am=t.childNodes[1],n.content(cm,e,this);const i=am=t.childNodes[0];n.background(cm,e,this);const l=!1===e.mark.interactive?"none":null;if(l!==om.events&&(dm(r,"pointer-events",l),dm(i,"pointer-events",l),om.events=l),e.strokeForeground&&e.stroke){const n=e.fill;dm(r,"display",null),this.style(i,e),dm(i,"stroke",null),n&&(e.fill=null),om=r.__values__,this.style(r,e),n&&(e.fill=n),am=null}else dm(r,"display","none")},image(n,t,e){!1===e.smooth?(fm(t,"image-rendering","optimizeSpeed"),fm(t,"image-rendering","pixelated")):fm(t,"image-rendering",null)},text(n,t,e){const r=Jp(e);let i,l,u,a;Object(g.B)(r)?(l=r.map(n=>Kp(e,n)),i=l.join("\n"),i!==om.text&&(vg(t,0),u=t.ownerDocument,a=Vp(e),l.forEach((n,r)=>{const i=pg(u,"tspan",nm);i.__data__=e,i.textContent=n,r&&(i.setAttribute("x",0),i.setAttribute("dy",a)),t.appendChild(i)}),om.text=i)):(l=Kp(e,r),l!==om.text&&(t.textContent=l,om.text=l)),dm(t,"font-family",Zp(e)),dm(t,"font-size",Yp(e)+"px"),dm(t,"font-style",e.fontStyle),dm(t,"font-variant",e.fontVariant),dm(t,"font-weight",e.fontWeight)}};function cm(n,t,e){t!==om[n]&&(e?function(n,t,e,r){null!=e?n.setAttributeNS(r,t,e):n.removeAttributeNS(r,t)}(am,n,t,e):dm(am,n,t),om[n]=t)}function fm(n,t,e){e!==om[t]&&(null==e?n.style.removeProperty(t):n.style.setProperty(t,e+""),om[t]=e)}function hm(n,t){for(const e in t)dm(n,e,t[e])}function dm(n,t,e){null!=e?n.setAttribute(t,e):n.removeAttribute(t)}function pm(){let n;return"undefined"==typeof window?"":(n=window.location).hash?n.href.slice(0,-n.hash.length):n.href}function gm(n){_g.call(this,n),this._text=null,this._defs={gradient:{},clipping:{}}}Object(g.z)(gm,_g,{svg(){return this._text},_render(n){const t=Xg();t.open("svg",Object(g.p)({},jp,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));const e=this._bgcolor;return e&&"transparent"!==e&&"none"!==e&&t.open("rect",{width:this._width,height:this._height,fill:e}).close(),t.open("g",Qg,{transform:"translate("+this._origin+")"}),this.mark(t,n),t.close(),this.defs(t),this._text=t.close()+"",this},mark(n,t){const e=lg[t.marktype],r=e.tag,i=[Wg,e.attr];n.open("g",{class:wg(t),"clip-path":t.clip?cd(this,t,t.group):null},Gg(t),{"pointer-events":"g"!==r&&!1===t.interactive?"none":null});const l=l=>{const u=this.href(l);if(u&&n.open("a",u),n.open(r,this.attr(t,l,i,"g"!==r?r:null)),"text"===r){const t=Jp(l);if(Object(g.B)(t)){const e={x:0,dy:Vp(l)};for(let r=0;r<t.length;++r)n.open("tspan",r?e:null).text(Kp(l,t[r])).close()}else n.text(Kp(l,t))}else if("g"===r){const r=l.strokeForeground,i=l.fill,u=l.stroke;r&&u&&(l.stroke=null),n.open("path",this.attr(t,l,e.background,"bgrect")).close(),n.open("g",this.attr(t,l,e.content)),ep(l,t=>this.mark(n,t)),n.close(),r&&u?(i&&(l.fill=null),l.stroke=u,n.open("path",this.attr(t,l,e.foreground,"bgrect")).close(),i&&(l.fill=i)):n.open("path",this.attr(t,l,e.foreground,"bgfore")).close()}n.close(),u&&n.close()};return e.nested?t.items&&t.items.length&&l(t.items[0]):ep(t,l),n.close()},href(n){const t=n.href;let e;if(t){if(e=this._hrefs&&this._hrefs[t])return e;this.sanitizeURL(t).then(n=>{n["xlink:href"]=n.href,n.href=null,(this._hrefs||(this._hrefs={}))[t]=n})}return null},attr(n,t,e,r){const i={},l=(n,t,e,r)=>{i[r||n]=t};return Array.isArray(e)?e.forEach(n=>n(l,t,this)):e(l,t,this),r&&function(n,t,e,r,i){if(null==t)return n;"bgrect"===r&&!1===e.interactive&&(n["pointer-events"]="none");if("bgfore"===r&&(!1===e.interactive&&(n["pointer-events"]="none"),n.display="none",null!==t.fill))return n;"image"===r&&!1===t.smooth&&(n.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(n["font-family"]=Zp(t),n["font-size"]=Yp(t)+"px",n["font-style"]=t.fontStyle,n["font-variant"]=t.fontVariant,n["font-weight"]=t.fontWeight);for(const e in Zg){let r=t[e];const l=Zg[e];("transparent"!==r||"fill"!==l&&"stroke"!==l)&&null!=r&&(mh(r)&&(r=vh(r,i.gradient,"")),n[l]=r)}}(i,t,n,r,this._defs),i},defs(n){const t=this._defs.gradient,e=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(e).length){n.open("defs");for(const e in t){const r=t[e],i=r.stops;"radial"===r.gradient?(n.open("pattern",{id:"p_"+e,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),n.open("rect",{width:"1",height:"1",fill:"url(#"+e+")"}).close(),n.close(),n.open("radialGradient",{id:e,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):n.open("linearGradient",{id:e,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let t=0;t<i.length;++t)n.open("stop",{offset:i[t].offset,"stop-color":i[t].color}).close();n.close()}for(const t in e){const r=e[t];n.open("clipPath",{id:t}),r.path?n.open("path",{d:r.path}).close():n.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),n.close()}n.close()}}});const mm={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},vm={};function wm(n,t){return n=String(n||"").toLowerCase(),arguments.length>1?(vm[n]=t,this):vm[n]}function ym(n,t,e){const r=[],i=(new fd).union(t),l=n.marktype;return l?bm(n,i,e,r):"group"===l?xm(n,i,e,r):Object(g.o)("Intersect scene must be mark node or group item.")}function bm(n,t,e,r){if(function(n,t,e){return n.bounds&&t.intersects(n.bounds)&&("group"===n.marktype||!1!==n.interactive&&(!e||e(n)))}(n,t,e)){const i=n.items,l=n.marktype,u=i.length;let a=0;if("group"===l)for(;a<u;++a)xm(i[a],t,e,r);else for(const n=lg[l].isect;a<u;++a){const e=i[a];_m(e,t,n)&&r.push(e)}}return r}function xm(n,t,e,r){e&&e(n.mark)&&_m(n,t,lg.group.isect)&&r.push(n);const i=n.items,l=i&&i.length;if(l){const u=n.x||0,a=n.y||0;t.translate(-u,-a);for(let n=0;n<l;++n)bm(i[n],t,e,r);t.translate(u,a)}return r}function _m(n,t,e){const r=n.bounds;return t.encloses(r)||t.intersects(r)&&e(n,t)}vm.canvas=vm.png={renderer:Pg,headless:Pg,handler:Fg},vm.svg={renderer:tm,headless:gm,handler:Rg},vm.none={};const km=new fd;function jm(n){const t=n.clip;if(Object(g.E)(t))t(Bd(km.clear()));else{if(!t)return;km.set(0,0,n.group.width,n.group.height)}n.bounds.intersect(km)}function Om(n,t,e){return n===t||("path"===e?Am(n,t):n instanceof Date&&t instanceof Date?+n==+t:Object(g.G)(n)&&Object(g.G)(t)?Math.abs(n-t)<=1e-9:n&&t&&(Object(g.H)(n)||Object(g.H)(t))?function(n,t){var e,r,i=Object.keys(n),l=Object.keys(t);if(i.length!==l.length)return!1;for(i.sort(),l.sort(),r=i.length-1;r>=0;r--)if(i[r]!=l[r])return!1;for(r=i.length-1;r>=0;r--)if(e=i[r],!Om(n[e],t[e],e))return!1;return typeof n==typeof t}(n,t):n==t)}function Am(n,t){return Om(jh(n),jh(t))}function Em(){sd(),gh=0}const Sm="top",Cm="left",Dm="right",Mm="end",Fm="row";function Tm(n){Yi.call(this,null,n)}function Nm(n,t,e){return t(n.bounds.clear(),n,e)}Object(g.z)(Tm,Yi,{transform(n,t){const e=t.dataflow,r=n.mark,i=r.marktype,l=lg[i],u=l.bound;let a,o=r.bounds;if(l.nested)r.items.length&&e.dirty(r.items[0]),o=Nm(r,u),r.items.forEach(n=>{n.bounds.clear().union(o)});else if("group"===i||n.modified())switch(t.visit(t.MOD,n=>e.dirty(n)),o.clear(),r.items.forEach(n=>o.union(Nm(n,u))),r.role){case"axis":case"legend":case"title":t.reflow()}else a=t.changed(t.REM),t.visit(t.ADD,n=>{o.union(Nm(n,u))}),t.visit(t.MOD,n=>{a=a||o.alignsWith(n.bounds),e.dirty(n),o.union(Nm(n,u))}),a&&(o.clear(),r.items.forEach(n=>o.union(n.bounds)));return jm(r),t.modifies("bounds")}});function Bm(n){Yi.call(this,0,n)}function zm(n){Yi.call(this,null,n)}function Pm(n){Yi.call(this,null,n)}Bm.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(g.z)(Bm,Yi,{transform(n,t){const e=(i=t.dataflow)._signals[":vega_identifier:"]||(i._signals[":vega_identifier:"]=i.add(0)),r=n.as;var i;let l=e.value;return t.visit(t.ADD,n=>n[r]=n[r]||++l),e.set(this.value=l),t}}),Object(g.z)(zm,Yi,{transform(n,t){let e=this.value;e||(e=t.dataflow.scenegraph().mark(n.markdef,function(n){const t=n.groups,e=n.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&e?t.lookup(e):null}(n),n.index),e.group.context=n.context,n.context.group||(n.context.group=e.group),e.source=this.source,e.clip=n.clip,e.interactive=n.interactive,this.value=e);const r="group"===e.marktype?dd:hd;return t.visit(t.ADD,n=>r.call(n,e)),(n.modified("clip")||n.modified("interactive"))&&(e.clip=n.clip,e.interactive=!!n.interactive,e.zdirty=!0,t.reflow()),e.items=t.source,t}});const $m={parity:n=>n.filter((n,t)=>t%2?n.opacity=0:1),greedy:(n,t)=>{let e;return n.filter((n,r)=>r&&Rm(e.bounds,n.bounds,t)?n.opacity=0:(e=n,1))}},Rm=(n,t,e)=>e>Math.max(t.x1-n.x2,n.x1-t.x2,t.y1-n.y2,n.y1-t.y2),Im=(n,t)=>{for(var e,r=1,i=n.length,l=n[0].bounds;r<i;l=e,++r)if(Rm(l,e=n[r].bounds,t))return!0},Lm=n=>{const t=n.bounds;return t.width()>1&&t.height()>1},Um=n=>(n.forEach(n=>n.opacity=1),n),qm=(n,t)=>n.reflow(t.modified()).modifies("opacity");function Hm(n){Yi.call(this,null,n)}Object(g.z)(Pm,Yi,{transform(n,t){const e=$m[n.method]||$m.parity,r=n.separation||0;let i,l,u=t.materialize(t.SOURCE).source;if(!u||!u.length)return;if(!n.method)return n.modified("method")&&(Um(u),t=qm(t,n)),t;if(u=u.filter(Lm),!u.length)return;if(n.sort&&(u=u.slice().sort(n.sort)),i=Um(u),t=qm(t,n),i.length>=3&&Im(i,r)){do{i=e(i,r)}while(i.length>=3&&Im(i,r));i.length<3&&!Object(g.W)(u).opacity&&(i.length>1&&(Object(g.W)(i).opacity=0),Object(g.W)(u).opacity=1)}var a,o,s,c,f;n.boundScale&&n.boundTolerance>=0&&(a=n.boundScale,o=n.boundOrient,s=+n.boundTolerance,c=a.range(),f=new fd,o===Sm||"bottom"===o?f.set(c[0],-1/0,c[1],1/0):f.set(-1/0,c[0],1/0,c[1]),f.expand(s||1),l=n=>f.encloses(n.bounds),u.forEach(n=>{l(n)||(n.opacity=0)}));const h=i[0].mark.bounds.clear();return u.forEach(n=>{n.opacity&&h.union(n.bounds)}),t}}),Object(g.z)(Hm,Yi,{transform(n,t){const e=t.dataflow;if(t.visit(t.ALL,n=>e.dirty(n)),t.fields&&t.fields.zindex){const n=t.source&&t.source[0];n&&(n.mark.zdirty=!0)}}});const Wm=new fd;function Gm(n,t,e){return n[t]===e?0:(n[t]=e,1)}function Ym(n){var t=n.items[0].orient;return t===Cm||t===Dm}function Vm(n,t,e,r){var i,l,u=t.items[0],a=u.datum,o=null!=u.translate?u.translate:.5,s=u.orient,c=function(n){let t=+n.grid;return[n.ticks?t++:-1,n.labels?t++:-1,t+ +n.domain]}(a),f=u.range,h=u.offset,d=u.position,p=u.minExtent,g=u.maxExtent,m=a.title&&u.items[c[2]].items[0],v=u.titlePadding,w=u.bounds,y=m&&Xp(m),b=0,x=0;switch(Wm.clear().union(w),w.clear(),(i=c[0])>-1&&w.union(u.items[i].bounds),(i=c[1])>-1&&w.union(u.items[i].bounds),s){case Sm:b=d||0,x=-h,l=Math.max(p,Math.min(g,-w.y1)),w.add(0,-l).add(f,0),m&&Jm(n,m,l,v,y,0,-1,w);break;case Cm:b=-h,x=d||0,l=Math.max(p,Math.min(g,-w.x1)),w.add(-l,0).add(0,f),m&&Jm(n,m,l,v,y,1,-1,w);break;case Dm:b=e+h,x=d||0,l=Math.max(p,Math.min(g,w.x2)),w.add(0,0).add(l,f),m&&Jm(n,m,l,v,y,1,1,w);break;case"bottom":b=d||0,x=r+h,l=Math.max(p,Math.min(g,w.y2)),w.add(0,0).add(f,l),m&&Jm(n,m,l,v,0,0,1,w);break;default:b=u.x,x=u.y}return vd(w.translate(b,x),u),Gm(u,"x",b+o)|Gm(u,"y",x+o)&&(u.bounds=Wm,n.dirty(u),u.bounds=w,n.dirty(u)),u.mark.bounds.clear().union(w)}function Jm(n,t,e,r,i,l,u,a){const o=t.bounds;if(t.auto){const a=u*(e+i+r);let s=0,c=0;n.dirty(t),l?s=(t.x||0)-(t.x=a):c=(t.y||0)-(t.y=a),t.mark.bounds.clear().union(o.translate(-s,-c)),n.dirty(t)}a.union(o)}const Xm=(n,t)=>Math.floor(Math.min(n,t)),Km=(n,t)=>Math.ceil(Math.max(n,t));function Zm(n){return(new fd).set(0,0,n.width||0,n.height||0)}function Qm(n){const t=n.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(n.x||0),-(n.y||0))}function nv(n,t,e){const r=Object(g.H)(n)?n[t]:n;return null!=r?r:void 0!==e?e:0}function tv(n){return n<0?Math.ceil(-n):0}function ev(n,t,e){var r,i,l,u,a,o,s,c,f,h,d,p=!e.nodirty,g="flush"===e.bounds?Zm:Qm,m=Wm.set(0,0,0,0),v=nv(e.align,"column"),w=nv(e.align,Fm),y=nv(e.padding,"column"),b=nv(e.padding,Fm),x=e.columns||t.length,_=x<=0?1:Math.ceil(t.length/x),k=t.length,j=Array(k),O=Array(x),A=0,E=Array(k),S=Array(_),C=0,D=Array(k),M=Array(k),F=Array(k);for(i=0;i<x;++i)O[i]=0;for(i=0;i<_;++i)S[i]=0;for(i=0;i<k;++i)o=t[i],a=F[i]=g(o),o.x=o.x||0,D[i]=0,o.y=o.y||0,M[i]=0,l=i%x,u=~~(i/x),A=Math.max(A,s=Math.ceil(a.x2)),C=Math.max(C,c=Math.ceil(a.y2)),O[l]=Math.max(O[l],s),S[u]=Math.max(S[u],c),j[i]=y+tv(a.x1),E[i]=b+tv(a.y1),p&&n.dirty(t[i]);for(i=0;i<k;++i)i%x==0&&(j[i]=0),i<x&&(E[i]=0);if("each"===v)for(l=1;l<x;++l){for(d=0,i=l;i<k;i+=x)d<j[i]&&(d=j[i]);for(i=l;i<k;i+=x)j[i]=d+O[l-1]}else if("all"===v){for(d=0,i=0;i<k;++i)i%x&&d<j[i]&&(d=j[i]);for(i=0;i<k;++i)i%x&&(j[i]=d+A)}else for(v=!1,l=1;l<x;++l)for(i=l;i<k;i+=x)j[i]+=O[l-1];if("each"===w)for(u=1;u<_;++u){for(d=0,r=(i=u*x)+x;i<r;++i)d<E[i]&&(d=E[i]);for(i=u*x;i<r;++i)E[i]=d+S[u-1]}else if("all"===w){for(d=0,i=x;i<k;++i)d<E[i]&&(d=E[i]);for(i=x;i<k;++i)E[i]=d+C}else for(w=!1,u=1;u<_;++u)for(r=(i=u*x)+x;i<r;++i)E[i]+=S[u-1];for(f=0,i=0;i<k;++i)f=j[i]+(i%x?f:0),D[i]+=f-t[i].x;for(l=0;l<x;++l)for(h=0,i=l;i<k;i+=x)h+=E[i],M[i]+=h-t[i].y;if(v&&nv(e.center,"column")&&_>1)for(i=0;i<k;++i)(f=(a="all"===v?A:O[i%x])-F[i].x2-t[i].x-D[i])>0&&(D[i]+=f/2);if(w&&nv(e.center,Fm)&&1!==x)for(i=0;i<k;++i)(h=(a="all"===w?C:S[~~(i/x)])-F[i].y2-t[i].y-M[i])>0&&(M[i]+=h/2);for(i=0;i<k;++i)m.union(F[i].translate(D[i],M[i]));switch(f=nv(e.anchor,"x"),h=nv(e.anchor,"y"),nv(e.anchor,"column")){case Mm:f-=m.width();break;case"middle":f-=m.width()/2}switch(nv(e.anchor,Fm)){case Mm:h-=m.height();break;case"middle":h-=m.height()/2}for(f=Math.round(f),h=Math.round(h),m.clear(),i=0;i<k;++i)t[i].mark.bounds.clear();for(i=0;i<k;++i)(o=t[i]).x+=D[i]+=f,o.y+=M[i]+=h,m.union(o.mark.bounds.union(o.bounds.translate(D[i],M[i]))),p&&n.dirty(o);return m}function rv(n,t){return"x1"===t?n.x||0:"y1"===t?n.y||0:"x2"===t?(n.x||0)+(n.width||0):"y2"===t?(n.y||0)+(n.height||0):void 0}function iv(n,t){return n.bounds[t]}function lv(n,t,e,r,i,l,u,a,o,s,c,f,h,d){var p,g,m,v,w,y,b,x,_,k=e.length,j=0,O=0;if(!k)return j;for(p=c;p<k;p+=f)e[p]&&(j=u(j,o(e[p],s)));if(!t.length)return j;for(t.length>i&&(n.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),j+=l,g=0,v=t.length;g<v;++g)n.dirty(t[g]),t[g].mark.bounds.clear();for(p=c,g=0,v=t.length;g<v;++g,p+=f){for(w=(y=t[g]).mark.bounds,m=p;m>=0&&null==(b=e[m]);m-=h);a?(x=null==d?b.x:Math.round(b.bounds.x1+d*b.bounds.width()),_=j):(x=j,_=null==d?b.y:Math.round(b.bounds.y1+d*b.bounds.height())),w.union(y.bounds.translate(x-(y.x||0),_-(y.y||0))),y.x=x,y.y=_,n.dirty(y),O=u(O,w[s])}return O}function uv(n,t,e,r,i,l){if(t){n.dirty(t);var u=e,a=e;r?u=Math.round(i.x1+l*i.width()):a=Math.round(i.y1+l*i.height()),t.bounds.translate(u-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=u,t.y=a,n.dirty(t)}}function av(n,t,e,r,i,l,u){const a=function(n,t){const e=n[t]||{};return(t,r)=>null!=e[t]?e[t]:null!=n[t]?n[t]:r}(e,t),o=function(n,t){let e=-1/0;return n.forEach(n=>{null!=n.offset&&(e=Math.max(e,n.offset))}),e>-1/0?e:t}(n,a("offset",0)),s=a("anchor","start"),c=s===Mm?1:"middle"===s?.5:0,f={align:"each",bounds:a("bounds","flush"),columns:"vertical"===a("direction")?1:n.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Cm:f.anchor={x:Math.floor(r.x1)-o,column:Mm,y:c*(u||r.height()+2*r.y1),row:s};break;case Dm:f.anchor={x:Math.ceil(r.x2)+o,y:c*(u||r.height()+2*r.y1),row:s};break;case Sm:f.anchor={y:Math.floor(i.y1)-o,row:Mm,x:c*(l||i.width()+2*i.x1),column:s};break;case"bottom":f.anchor={y:Math.ceil(i.y2)+o,x:c*(l||i.width()+2*i.x1),column:s};break;case"top-left":f.anchor={x:o,y:o};break;case"top-right":f.anchor={x:l-o,y:o,column:Mm};break;case"bottom-left":f.anchor={x:o,y:u-o,row:Mm};break;case"bottom-right":f.anchor={x:l-o,y:u-o,column:Mm,row:Mm}}return f}function ov(n,t){var e,r,i=t.items[0],l=i.datum,u=i.orient,a=i.bounds,o=i.x,s=i.y;return i._bounds?i._bounds.clear().union(a):i._bounds=a.clone(),a.clear(),function(n,t,e){var r=t.padding,i=r-e.x,l=r-e.y;if(t.datum.title){var u=t.items[1].items[0],a=u.anchor,o=t.titlePadding||0,s=r-u.x,c=r-u.y;switch(u.orient){case Cm:i+=Math.ceil(u.bounds.width())+o;break;case Dm:case"bottom":break;default:l+=u.bounds.height()+o}switch((i||l)&&cv(n,e,i,l),u.orient){case Cm:c+=sv(t,e,u,a,1,1);break;case Dm:s+=sv(t,e,u,Mm,0,0)+o,c+=sv(t,e,u,a,1,1);break;case"bottom":s+=sv(t,e,u,a,0,0),c+=sv(t,e,u,Mm,-1,0,1)+o;break;default:s+=sv(t,e,u,a,0,0)}(s||c)&&cv(n,u,s,c),(s=Math.round(u.bounds.x1-r))<0&&(cv(n,e,-s,0),cv(n,u,-s,0))}else(i||l)&&cv(n,e,i,l)}(n,i,i.items[0].items[0]),a=function(n,t){return n.items.forEach(n=>t.union(n.bounds)),t.x1=n.padding,t.y1=n.padding,t}(i,a),e=2*i.padding,r=2*i.padding,a.empty()||(e=Math.ceil(a.width()+e),r=Math.ceil(a.height()+r)),"symbol"===l.type&&function(n){const t=n.reduce((n,t)=>(n[t.column]=Math.max(t.bounds.x2-t.x,n[t.column]||0),n),{});n.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}(i.items[0].items[0].items[0].items),"none"!==u&&(i.x=o=0,i.y=s=0),i.width=e,i.height=r,vd(a.set(o,s,o+e,s+r),i),i.mark.bounds.clear().union(a),i}function sv(n,t,e,r,i,l,u){const a="symbol"!==n.datum.type,o=e.datum.vgrad,s=(!a||!l&&o||u?t:t.items[0]).bounds[i?"y2":"x2"]-n.padding,c=o&&l?s:0,f=o&&l?0:s,h=i<=0?0:Xp(e);return Math.round("start"===r?c:r===Mm?f-h:.5*(s-h))}function cv(n,t,e,r){t.x+=e,t.y+=r,t.bounds.translate(e,r),t.mark.bounds.translate(e,r),n.dirty(t)}function fv(n){Yi.call(this,null,n)}function hv(n,t){let e=0;if(void 0===t)for(let t of n)(t=+t)&&(e+=t);else{let r=-1;for(let i of n)(i=+t(i,++r,n))&&(e+=i)}return e}function dv(n){Yi.call(this,null,n)}function pv(n){Yi.call(this,null,n)}function gv(){return vi({})}function mv(n){Yi.call(this,null,n)}function vv(n){Yi.call(this,[],n)}Object(g.z)(fv,Yi,{transform(n,t){const e=t.dataflow;return n.mark.items.forEach(t=>{n.layout&&function(n,t,e){var r,i,l,u,a,o,s,c=function(n){var t,e,r=n.items,i=r.length,l=0;const u={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;l<i;++l)if(e=(t=r[l]).items,"group"===t.marktype)switch(t.role){case"axis":case"legend":case"title":break;case"row-header":u.rowheaders.push(...e);break;case"row-footer":u.rowfooters.push(...e);break;case"column-header":u.colheaders.push(...e);break;case"column-footer":u.colfooters.push(...e);break;case"row-title":u.rowtitle=e[0];break;case"column-title":u.coltitle=e[0];break;default:u.marks.push(...e)}return u}(t),f=c.marks,h="flush"===e.bounds?rv:iv,d=e.offset,p=e.columns||f.length,g=p<=0?1:Math.ceil(f.length/p),m=g*p;const v=ev(n,f,e);v.empty()&&v.set(0,0,0,0),c.rowheaders&&(o=nv(e.headerBand,Fm,null),r=lv(n,c.rowheaders,f,p,g,-nv(d,"rowHeader"),Xm,0,h,"x1",0,p,1,o)),c.colheaders&&(o=nv(e.headerBand,"column",null),i=lv(n,c.colheaders,f,p,p,-nv(d,"columnHeader"),Xm,1,h,"y1",0,1,p,o)),c.rowfooters&&(o=nv(e.footerBand,Fm,null),l=lv(n,c.rowfooters,f,p,g,nv(d,"rowFooter"),Km,0,h,"x2",p-1,p,1,o)),c.colfooters&&(o=nv(e.footerBand,"column",null),u=lv(n,c.colfooters,f,p,p,nv(d,"columnFooter"),Km,1,h,"y2",m-p,1,p,o)),c.rowtitle&&(a=nv(e.titleAnchor,Fm),s=nv(d,"rowTitle"),s=a===Mm?l+s:r-s,o=nv(e.titleBand,Fm,.5),uv(n,c.rowtitle,s,0,v,o)),c.coltitle&&(a=nv(e.titleAnchor,"column"),s=nv(d,"columnTitle"),s=a===Mm?u+s:i-s,o=nv(e.titleBand,"column",.5),uv(n,c.coltitle,s,1,v,o))}(e,t,n.layout),function(n,t,e){var r,i,l,u,a,o=t.items,s=Math.max(0,t.width||0),c=Math.max(0,t.height||0),f=(new fd).set(0,0,s,c),h=f.clone(),d=f.clone(),p=[];for(u=0,a=o.length;u<a;++u)switch((i=o[u]).role){case"axis":(Ym(i)?h:d).union(Vm(n,i,s,c));break;case"title":r=i;break;case"legend":p.push(ov(n,i));break;case"frame":case"scope":case"row-header":case"row-footer":case"row-title":case"column-header":case"column-footer":case"column-title":h.union(i.bounds),d.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){const t={};p.forEach(n=>{"none"!==(l=n.orient||Dm)&&(t[l]||(t[l]=[])).push(n)});for(const r in t){const i=t[r];ev(n,i,av(i,r,e.legends,h,d,s,c))}p.forEach(t=>{const r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,n.dirty(t),t.bounds=r,n.dirty(t)),e.autosize&&"fit"===e.autosize.type)switch(t.orient){case Cm:case Dm:f.add(r.x1,0).add(r.x2,0);break;case Sm:case"bottom":f.add(0,r.y1).add(0,r.y2)}else f.union(r)})}f.union(h).union(d),r&&f.union(function(n,t,e,r,i){var l,u=t.items[0],a=u.frame,o=u.orient,s=u.anchor,c=u.offset,f=u.padding,h=u.items[0].items[0],d=u.items[1]&&u.items[1].items[0],p=o===Cm||o===Dm?r:e,g=0,m=0,v=0,w=0,y=0;if("group"!==a?o===Cm?(g=i.y2,p=i.y1):o===Dm?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):o===Cm&&(g=r,p=0),l="start"===s?g:s===Mm?p:(g+p)/2,d&&d.text){switch(o){case Sm:case"bottom":y=h.bounds.height()+f;break;case Cm:w=h.bounds.width()+f;break;case Dm:w=-h.bounds.width()-f}Wm.clear().union(d.bounds),Wm.translate(w-(d.x||0),y-(d.y||0)),Gm(d,"x",w)|Gm(d,"y",y)&&(n.dirty(d),d.bounds.clear().union(Wm),d.mark.bounds.clear().union(Wm),n.dirty(d)),Wm.clear().union(d.bounds)}else Wm.clear();switch(Wm.union(h.bounds),o){case Sm:m=l,v=i.y1-Wm.height()-c;break;case Cm:m=i.x1-Wm.width()-c,v=l;break;case Dm:m=i.x2+Wm.width()+c,v=l;break;case"bottom":m=l,v=i.y2+c;break;default:m=u.x,v=u.y}return Gm(u,"x",m)|Gm(u,"y",v)&&(Wm.translate(m,v),n.dirty(u),u.bounds.clear().union(Wm),t.bounds.clear().union(Wm),n.dirty(u)),u.bounds}(n,r,s,c,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(n,t,e,r){const i=r.autosize||{},l=i.type;if(n._autosize<1||!l)return;let u=n._width,a=n._height,o=Math.max(0,t.width||0),s=Math.max(0,Math.ceil(-e.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-e.y1));const h=Math.max(0,Math.ceil(e.x2-o)),d=Math.max(0,Math.ceil(e.y2-c));if("padding"===i.contains){const t=n.padding();u-=t.left+t.right,a-=t.top+t.bottom}"none"===l?(s=0,f=0,o=u,c=a):"fit"===l?(o=Math.max(0,u-s-h),c=Math.max(0,a-f-d)):"fit-x"===l?(o=Math.max(0,u-s-h),a=c+f+d):"fit-y"===l?(u=o+s+h,c=Math.max(0,a-f-d)):"pad"===l&&(u=o+s+h,a=c+f+d);n._resizeView(u,a,o,c,[s,f],i.resize)}(n,t,f,e)}(e,t,n)}),(r=n.mark.group)&&"legend-entry"!==r.mark.role?t.reflow():t;var r}}),Object(g.z)(dv,Yi,{transform(n,t){if(this.value&&!n.modified())return t.StopPropagation;var e=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,l=n.scale,u=Qf(l,null==n.count?n.values?n.values.length:10:n.count,n.minstep),a=n.format||eh(e,l,u,n.formatSpecifier,n.formatType,!!n.values),o=n.values?nh(l,n.values,u):th(l,u);return i&&(r.rem=i),i=o.map((n,t)=>vi({index:t/(o.length-1||1),value:n,label:a(n)})),n.extra&&i.length&&i.push(vi({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),Object(g.z)(pv,Yi,{transform(n,t){var e=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=n.item||gv,l=n.key||gi,u=this.value;return Object(g.B)(r.encode)&&(r.encode=null),u&&(n.modified("key")||t.modified(l))&&Object(g.o)("DataJoin does not support modified key function or fields."),u||(t=t.addAll(),this.value=u=function(n){const t=Object(g.t)().test(n=>n.exit);return t.lookup=e=>t.get(n(e)),t}(l)),t.visit(t.ADD,n=>{const t=l(n);let e=u.get(t);e?e.exit?(u.empty--,r.add.push(e)):r.mod.push(e):(e=i(n),u.set(t,e),r.add.push(e)),e.datum=n,e.exit=!1}),t.visit(t.MOD,n=>{const t=l(n),e=u.get(t);e&&(e.datum=n,r.mod.push(e))}),t.visit(t.REM,n=>{const t=l(n),e=u.get(t);n!==e.datum||e.exit||(r.rem.push(e),e.exit=!0,++u.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||n.clean&&u.empty>e.cleanThreshold)&&e.runAfter(u.clean),r}}),Object(g.z)(mv,Yi,{transform(n,t){var e=t.fork(t.ADD_REM),r=n.mod||!1,i=n.encoders,l=t.encode;if(Object(g.B)(l)){if(!e.changed()&&!l.every(n=>i[n]))return t.StopPropagation;l=l[0],e.encode=null}var u="enter"===l,a=i.update||g.s,o=i.enter||g.s,s=i.exit||g.s,c=(l&&!u?i[l]:a)||g.s;if(t.changed(t.ADD)&&(t.visit(t.ADD,t=>{o(t,n),a(t,n)}),e.modifies(o.output),e.modifies(a.output),c!==g.s&&c!==a&&(t.visit(t.ADD,t=>{c(t,n)}),e.modifies(c.output))),t.changed(t.REM)&&s!==g.s&&(t.visit(t.REM,t=>{s(t,n)}),e.modifies(s.output)),u||c!==g.s){const i=t.MOD|(n.modified()?t.REFLOW:0);u?(t.visit(i,t=>{const i=o(t,n)||r;(c(t,n)||i)&&e.mod.push(t)}),e.mod.length&&e.modifies(o.output)):t.visit(i,t=>{(c(t,n)||r)&&e.mod.push(t)}),e.mod.length&&e.modifies(c.output)}return e.changed()?e:t.StopPropagation}}),Object(g.z)(vv,Yi,{transform(n,t){if(null!=this.value&&!n.modified())return t.StopPropagation;var e,r,i,l,u,a=t.dataflow.locale(),o=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,c=n.type||"symbol",f=n.scale,h=+n.limit,d=Qf(f,null==n.count?5:n.count,n.minstep),p=!!n.values||"symbol"===c,m=n.format||ah(a,f,d,c,n.formatSpecifier,n.formatType,p),v=n.values||uh(f,d);return s&&(o.rem=s),"symbol"===c?(h&&v.length>h?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),s=v.slice(0,h-1),u=!0):s=v,Object(g.E)(i=n.size)?(n.values||0!==f(s[0])||(s=s.slice(1)),l=s.reduce((t,e)=>Math.max(t,i(e,n)),0)):i=Object(g.m)(l=i||8),s=s.map((t,e)=>vi({index:e,label:m(t,e,s),value:t,offset:l,size:i(t,n)})),u&&(u=v[s.length],s.push(vi({index:s.length,label:"…".concat(v.length-s.length," entries"),value:u,offset:l,size:i(u,n)})))):"gradient"===c?(e=f.domain(),r=Hf(f,e[0],Object(g.W)(e)),v.length<3&&!n.values&&e[0]!==Object(g.W)(e)&&(v=[e[0],Object(g.W)(e)]),s=v.map((n,t)=>vi({index:t,label:m(n,t,v),value:n,perc:r(n)}))):(i=v.length-1,r=function(n){const t=n.domain(),e=t.length-1;let r=+t[0],i=+Object(g.W)(t),l=i-r;if("threshold"===n.type){const n=e?l/e:.1;r-=n,i+=n,l=i-r}return n=>(n-r)/l}(f),s=v.map((n,t)=>vi({index:t,label:m(n,t,v),value:n,perc:t?r(n):0,perc2:t===i?1:r(v[t+1])}))),o.source=s,o.add=s,this.value=s,o}});const wv=n=>n.source.x,yv=n=>n.source.y,bv=n=>n.target.x,xv=n=>n.target.y;function _v(n){Yi.call(this,{},n)}_v.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(g.z)(_v,Yi,{transform(n,t){var e=n.sourceX||wv,r=n.sourceY||yv,i=n.targetX||bv,l=n.targetY||xv,u=n.as||"path",a=n.orient||"vertical",o=n.shape||"line",s=Av.get(o+"-"+a)||Av.get(o);return s||Object(g.o)("LinkPath unsupported type: "+n.shape+(n.orient?"-"+n.orient:"")),t.visit(t.SOURCE,n=>{n[u]=s(e(n),r(n),i(n),l(n))}),t.reflow(n.modified()).modifies(u)}});const kv=(n,t,e,r)=>"M"+n+","+t+"L"+e+","+r,jv=(n,t,e,r)=>{var i=e-n,l=r-t,u=Math.sqrt(i*i+l*l)/2;return"M"+n+","+t+"A"+u+","+u+" "+180*Math.atan2(l,i)/Math.PI+" 0 1 "+e+","+r},Ov=(n,t,e,r)=>{const i=e-n,l=r-t,u=.2*(i+l),a=.2*(l-i);return"M"+n+","+t+"C"+(n+u)+","+(t+a)+" "+(e+a)+","+(r-u)+" "+e+","+r},Av=Object(g.t)({line:kv,"line-radial":(n,t,e,r)=>kv(t*Math.cos(n),t*Math.sin(n),r*Math.cos(e),r*Math.sin(e)),arc:jv,"arc-radial":(n,t,e,r)=>jv(t*Math.cos(n),t*Math.sin(n),r*Math.cos(e),r*Math.sin(e)),curve:Ov,"curve-radial":(n,t,e,r)=>Ov(t*Math.cos(n),t*Math.sin(n),r*Math.cos(e),r*Math.sin(e)),"orthogonal-horizontal":(n,t,e,r)=>"M"+n+","+t+"V"+r+"H"+e,"orthogonal-vertical":(n,t,e,r)=>"M"+n+","+t+"H"+e+"V"+r,"orthogonal-radial":(n,t,e,r)=>{const i=Math.cos(n),l=Math.sin(n),u=Math.cos(e),a=Math.sin(e);return"M"+t*i+","+t*l+"A"+t+","+t+" 0 0,"+((Math.abs(e-n)>Math.PI?e<=n:e>n)?1:0)+" "+t*u+","+t*a+"L"+r*u+","+r*a},"diagonal-horizontal":(n,t,e,r)=>{const i=(n+e)/2;return"M"+n+","+t+"C"+i+","+t+" "+i+","+r+" "+e+","+r},"diagonal-vertical":(n,t,e,r)=>{const i=(t+r)/2;return"M"+n+","+t+"C"+n+","+i+" "+e+","+i+" "+e+","+r},"diagonal-radial":(n,t,e,r)=>{const i=Math.cos(n),l=Math.sin(n),u=Math.cos(e),a=Math.sin(e),o=(t+r)/2;return"M"+t*i+","+t*l+"C"+o*i+","+o*l+" "+o*u+","+o*a+" "+r*u+","+r*a}});function Ev(n){Yi.call(this,null,n)}Ev.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(g.z)(Ev,Yi,{transform(n,t){var e,r,i,l=n.as||["startAngle","endAngle"],u=l[0],a=l[1],o=n.field||g.Q,s=n.startAngle||0,c=null!=n.endAngle?n.endAngle:2*Math.PI,f=t.source,h=f.map(o),d=h.length,p=s,m=(c-s)/hv(h),v=Zl(d);for(n.sort&&v.sort((n,t)=>h[n]-h[t]),e=0;e<d;++e)i=h[v[e]],(r=f[v[e]])[u]=p,r[a]=p+=i*m;return this.value=h,t.reflow(n.modified()).modifies(l)}});function Sv(n){return Nf(n)&&"sequential"!==n}const Cv=Object(g.fb)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Dv(n){Yi.call(this,null,n),this.modified(!0)}function Mv(n,t,e){Pf(n)&&(Math.abs(t.reduce((n,t)=>n+(t<0?-1:t>0?1:0),0))!==t.length&&e.warn("Log scale domain includes zero: "+Object(g.bb)(t)));return t}function Fv(n,t,e){return Object(g.E)(n)&&(t||e)?Lf(n,Tv(t||[0,1],e)):n}function Tv(n,t){return t?n.slice().reverse():n}function Nv(n){Yi.call(this,null,n)}Object(g.z)(Dv,Yi,{transform(n,t){var e=t.dataflow,r=this.value,i=function(n){var t,e=n.type,r="";if("sequential"===e)return"sequential-linear";(function(n){const t=n.type;return Nf(t)&&t!==_f&&t!==kf&&(n.scheme||n.range&&n.range.length&&n.range.every(g.J))})(n)&&(t=n.rawDomain?n.rawDomain.length:n.domain?n.domain.length+ +(null!=n.domainMid):0,r=2===t?"sequential-":3===t?"diverging-":"");return(r+e||"linear").toLowerCase()}(n);for(i in r&&i===r.type||(this.value=r=Mf(i)()),n)if(!Cv[i]){if("padding"===i&&Sv(r.type))continue;Object(g.E)(r[i])?r[i](n[i]):e.warn("Unsupported scale property: "+i)}return function(n,t,e){var r=n.type,i=t.round||!1,l=t.range;if(null!=t.rangeStep)l=function(n,t,e){"band"!==n&&"point"!==n&&Object(g.o)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i="point"===n?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*bf(e,i,r)]}(r,t,e);else if(t.scheme&&(l=function(n,t,e){var r,i,l=t.schemeExtent;Object(g.B)(t.scheme)?i=Uf(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(i=Jf(r))||Object(g.o)("Unrecognized scheme name: ".concat(t.scheme)));return e="threshold"===n?e+1:"bin-ordinal"===n?e-1:"quantile"===n||"quantize"===n?+t.schemeCount||5:e,$f(n)?Fv(i,l,t.reverse):Object(g.E)(i)?qf(Fv(i,l),e):"ordinal"===n?i:i.slice(0,e)}(r,t,e),Object(g.E)(l))){if(n.interpolator)return n.interpolator(l);Object(g.o)("Scale type ".concat(r," does not support interpolating color schemes."))}if(l&&$f(r))return n.interpolator(Uf(Tv(l,t.reverse),t.interpolate,t.interpolateGamma));l&&t.interpolate&&n.interpolate?n.interpolate(Wf(t.interpolate,t.interpolateGamma)):Object(g.E)(n.round)?n.round(i):Object(g.E)(n.rangeRound)&&n.interpolate(i?Ys:Gs);l&&n.range(Tv(l,t.reverse))}(r,n,function(n,t,e){let r=t.bins;if(r&&!Object(g.B)(r)){const t=n.domain(),e=t[0],i=Object(g.W)(t),l=r.step;let u=null==r.start?e:r.start,a=null==r.stop?i:r.stop;l||Object(g.o)("Scale bins parameter missing step property."),u<e&&(u=l*Math.ceil(e/l)),a>i&&(a=l*Math.floor(i/l)),r=Zl(u,a+l/2,l)}r?n.bins=r:n.bins&&delete n.bins;"bin-ordinal"===n.type&&(r?t.domain||t.domainRaw||(n.domain(r),e=r.length):n.bins=n.domain());return e}(r,n,function(n,t,e){const r=function(n,t,e){return t?(n.domain(Mv(n.type,t,e)),t.length):-1}(n,t.domainRaw,e);if(r>-1)return r;var i,l,u=t.domain,a=n.type,o=t.zero||void 0===t.zero&&function(n){const t=n.type;return!n.bins&&("linear"===t||"pow"===t||"sqrt"===t)}(n);if(!u)return 0;Sv(a)&&t.padding&&u[0]!==Object(g.W)(u)&&(u=function(n,t,e,r,i,l){var u=Math.abs(Object(g.W)(e)-e[0]),a=u/(u-2*r),o=n===xf?Object(g.ob)(t,null,a):"sqrt"===n?Object(g.pb)(t,null,a,.5):"pow"===n?Object(g.pb)(t,null,a,i||1):"symlog"===n?Object(g.qb)(t,null,a,l||1):Object(g.nb)(t,null,a);return(t=t.slice())[0]=o[0],t[t.length-1]=o[1],t}(a,u,t.range,t.padding,t.exponent,t.constant));if((o||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(u=u.slice()).length-1||1,o&&(u[0]>0&&(u[0]=0),u[i]<0&&(u[i]=0)),null!=t.domainMin&&(u[0]=t.domainMin),null!=t.domainMax&&(u[i]=t.domainMax),null!=t.domainMid)){const n=(l=t.domainMid)>u[i]?i+1:l<u[0]?0:i;n!==i&&e.warn("Scale domainMid exceeds domain min or max.",l),u.splice(n,0,l)}n.domain(Mv(a,u,e)),"ordinal"===a&&n.unknown(t.domainImplicit?Wo:void 0);t.nice&&n.nice&&n.nice(!0!==t.nice&&Qf(n,t.nice)||null);return u.length}(r,n,e))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Object(g.z)(Nv,Yi,{transform(n,t){const e=n.modified("sort")||t.changed(t.ADD)||t.modified(n.sort.fields)||t.modified("datum");return e&&t.source.sort(xi(n.sort)),this.modified(e),t}});const Bv=["y0","y1"];function zv(n){Yi.call(this,null,n)}function Pv(n,t,e,r,i){for(var l,u=(t-n.sum)/2,a=n.length,o=0;o<a;++o)(l=n[o])[r]=u,l[i]=u+=Math.abs(e(l))}function $v(n,t,e,r,i){for(var l,u=1/n.sum,a=0,o=n.length,s=0,c=0;s<o;++s)(l=n[s])[r]=a,l[i]=a=u*(c+=Math.abs(e(l)))}function Rv(n,t,e,r,i){for(var l,u,a=0,o=0,s=n.length,c=0;c<s;++c)(l=+e(u=n[c]))<0?(u[r]=o,u[i]=o+=l):(u[r]=a,u[i]=a+=l)}zv.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:Bv}]},Object(g.z)(zv,Yi,{transform(n,t){var e,r,i,l,u=n.as||Bv,a=u[0],o=u[1],s=xi(n.sort),c=n.field||g.Q,f="center"===n.offset?Pv:"normalize"===n.offset?$v:Rv;for(e=function(n,t,e,r){var i,l,u,a,o,s,c,f,h,d=[],p=n=>n(o);if(null==t)d.push(n.slice());else for(i={},l=0,u=n.length;l<u;++l)o=n[l],s=t.map(p),(c=i[s])||(i[s]=c=[],d.push(c)),c.push(o);for(s=0,h=0,a=d.length;s<a;++s){for(c=d[s],l=0,f=0,u=c.length;l<u;++l)f+=Math.abs(r(c[l]));c.sum=f,f>h&&(h=f),e&&c.sort(e)}return d.max=h,d}(t.source,n.groupby,s,c),r=0,i=e.length,l=e.max;r<i;++r)f(e[r],l,c,a,o);return t.reflow(n.modified()).modifies(u)}});var Iv=n=>n;function Lv(n,t){n&&qv.hasOwnProperty(n.type)&&qv[n.type](n,t)}var Uv={Feature:function(n,t){Lv(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)Lv(e[r].geometry,t)}},qv={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Hv(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Hv(e[r],t,0)},Polygon:function(n,t){Wv(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Wv(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)Lv(e[r],t)}};function Hv(n,t,e){var r,i=-1,l=n.length-e;for(t.lineStart();++i<l;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Wv(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Hv(n[e],t,1);t.polygonEnd()}var Gv=function(n,t){n&&Uv.hasOwnProperty(n.type)?Uv[n.type](n,t):Lv(n,t)};class Yv{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],l=n+i,u=Math.abs(n)<Math.abs(i)?n-(l-i):i-(l-n);u&&(t[e++]=u),n=l}return t[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let t,e,r,i=this._n,l=0;if(i>0){for(l=n[--i];i>0&&(t=l,e=n[--i],l=t+e,r=e-(l-t),!r););i>0&&(r<0&&n[i-1]<0||r>0&&n[i-1]>0)&&(e=2*r,t=l+e,e==t-l&&(l=t))}return l}}var Vv=Math.PI,Jv=Vv/2,Xv=Vv/4,Kv=2*Vv,Zv=180/Vv,Qv=Vv/180,nw=Math.abs,tw=Math.atan,ew=Math.atan2,rw=Math.cos,iw=Math.ceil,lw=Math.exp,uw=(Math.floor,Math.hypot),aw=Math.log,ow=Math.pow,sw=Math.sin,cw=Math.sign||function(n){return n>0?1:n<0?-1:0},fw=Math.sqrt,hw=Math.tan;function dw(n){return n>1?0:n<-1?Vv:Math.acos(n)}function pw(n){return n>1?Jv:n<-1?-Jv:Math.asin(n)}function gw(){}var mw,vw,ww,yw,bw=new Yv,xw=new Yv,_w={point:gw,lineStart:gw,lineEnd:gw,polygonStart:function(){_w.lineStart=kw,_w.lineEnd=Aw},polygonEnd:function(){_w.lineStart=_w.lineEnd=_w.point=gw,bw.add(nw(xw)),xw=new Yv},result:function(){var n=bw/2;return bw=new Yv,n}};function kw(){_w.point=jw}function jw(n,t){_w.point=Ow,mw=ww=n,vw=yw=t}function Ow(n,t){xw.add(yw*n-ww*t),ww=n,yw=t}function Aw(){Ow(mw,vw)}var Ew=_w,Sw=1/0,Cw=Sw,Dw=-Sw,Mw=Dw;var Fw,Tw,Nw,Bw,zw={point:function(n,t){n<Sw&&(Sw=n);n>Dw&&(Dw=n);t<Cw&&(Cw=t);t>Mw&&(Mw=t)},lineStart:gw,lineEnd:gw,polygonStart:gw,polygonEnd:gw,result:function(){var n=[[Sw,Cw],[Dw,Mw]];return Dw=Mw=-(Cw=Sw=1/0),n}},Pw=0,$w=0,Rw=0,Iw=0,Lw=0,Uw=0,qw=0,Hw=0,Ww=0,Gw={point:Yw,lineStart:Vw,lineEnd:Kw,polygonStart:function(){Gw.lineStart=Zw,Gw.lineEnd=Qw},polygonEnd:function(){Gw.point=Yw,Gw.lineStart=Vw,Gw.lineEnd=Kw},result:function(){var n=Ww?[qw/Ww,Hw/Ww]:Uw?[Iw/Uw,Lw/Uw]:Rw?[Pw/Rw,$w/Rw]:[NaN,NaN];return Pw=$w=Rw=Iw=Lw=Uw=qw=Hw=Ww=0,n}};function Yw(n,t){Pw+=n,$w+=t,++Rw}function Vw(){Gw.point=Jw}function Jw(n,t){Gw.point=Xw,Yw(Nw=n,Bw=t)}function Xw(n,t){var e=n-Nw,r=t-Bw,i=fw(e*e+r*r);Iw+=i*(Nw+n)/2,Lw+=i*(Bw+t)/2,Uw+=i,Yw(Nw=n,Bw=t)}function Kw(){Gw.point=Yw}function Zw(){Gw.point=ny}function Qw(){ty(Fw,Tw)}function ny(n,t){Gw.point=ty,Yw(Fw=Nw=n,Tw=Bw=t)}function ty(n,t){var e=n-Nw,r=t-Bw,i=fw(e*e+r*r);Iw+=i*(Nw+n)/2,Lw+=i*(Bw+t)/2,Uw+=i,qw+=(i=Bw*n-Nw*t)*(Nw+n),Hw+=i*(Bw+t),Ww+=3*i,Yw(Nw=n,Bw=t)}var ey=Gw;function ry(n){this._context=n}ry.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Kv)}},result:gw};var iy,ly,uy,ay,oy,sy=new Yv,cy={point:gw,lineStart:function(){cy.point=fy},lineEnd:function(){iy&&hy(ly,uy),cy.point=gw},polygonStart:function(){iy=!0},polygonEnd:function(){iy=null},result:function(){var n=+sy;return sy=new Yv,n}};function fy(n,t){cy.point=hy,ly=ay=n,uy=oy=t}function hy(n,t){ay-=n,oy-=t,sy.add(fw(ay*ay+oy*oy)),ay=n,oy=t}var dy=cy;function py(){this._string=[]}function gy(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}py.prototype={_radius:4.5,_circle:gy(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=gy(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var my=function(n,t){var e,r,i=4.5;function l(n){return n&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Gv(n,e(r))),r.result()}return l.area=function(n){return Gv(n,e(Ew)),Ew.result()},l.measure=function(n){return Gv(n,e(dy)),dy.result()},l.bounds=function(n){return Gv(n,e(zw)),zw.result()},l.centroid=function(n){return Gv(n,e(ey)),ey.result()},l.projection=function(t){return arguments.length?(e=null==t?(n=null,Iv):(n=t).stream,l):n},l.context=function(n){return arguments.length?(r=null==n?(t=null,new py):new ry(t=n),"function"!=typeof i&&r.pointRadius(i),l):t},l.pointRadius=function(n){return arguments.length?(i="function"==typeof n?n:(r.pointRadius(+n),+n),l):i},l.projection(n).context(t)},vy=function(){var n,t=[];return{point:function(t,e,r){n.push([t,e,r])},lineStart:function(){t.push(n=[])},lineEnd:gw,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}},wy=function(n,t){return nw(n[0]-t[0])<1e-6&&nw(n[1]-t[1])<1e-6};function yy(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var by=function(n,t,e,r,i){var l,u,a=[],o=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],u=n[t];if(wy(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),l=0;l<t;++l)i.point((r=n[l])[0],r[1]);return void i.lineEnd()}u[0]+=2e-6}a.push(e=new yy(r,n,null,!0)),o.push(e.o=new yy(r,null,e,!1)),a.push(e=new yy(u,n,null,!1)),o.push(e.o=new yy(u,null,e,!0))}})),a.length){for(o.sort(t),xy(a),xy(o),l=0,u=o.length;l<u;++l)o[l].e=e=!e;for(var s,c,f=a[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(l=0,u=s.length;l<u;++l)i.point((c=s[l])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,l=s.length-1;l>=0;--l)i.point((c=s[l])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function xy(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function _y(n){return[ew(n[1],n[0]),pw(n[2])]}function ky(n){var t=n[0],e=n[1],r=rw(e);return[r*rw(t),r*sw(t),sw(e)]}function jy(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Oy(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Ay(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Ey(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Sy(n){var t=fw(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Cy(n){return nw(n[0])<=Vv?n[0]:cw(n[0])*((nw(n[0])+Vv)%Kv-Vv)}function Dy(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}var My=function(n,t,e,r){return function(i){var l,u,a,o=t(i),s=vy(),c=t(s),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=w,h.lineEnd=y,u=[],l=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,u=Dy(u);var n=function(n,t){var e=Cy(t),r=t[1],i=sw(r),l=[sw(e),-rw(e),0],u=0,a=0,o=new Yv;1===i?r=Jv+1e-6:-1===i&&(r=-Jv-1e-6);for(var s=0,c=n.length;s<c;++s)if(h=(f=n[s]).length)for(var f,h,d=f[h-1],p=Cy(d),g=d[1]/2+Xv,m=sw(g),v=rw(g),w=0;w<h;++w,p=b,m=_,v=k,d=y){var y=f[w],b=Cy(y),x=y[1]/2+Xv,_=sw(x),k=rw(x),j=b-p,O=j>=0?1:-1,A=O*j,E=A>Vv,S=m*_;if(o.add(ew(S*O*sw(A),v*k+S*rw(A))),u+=E?j+O*Kv:j,E^p>=e^b>=e){var C=Oy(ky(d),ky(y));Sy(C);var D=Oy(l,C);Sy(D);var M=(E^j>=0?-1:1)*pw(D[2]);(r>M||r===M&&(C[0]||C[1]))&&(a+=E^j>=0?1:-1)}}return(u<-1e-6||u<1e-6&&o<-1e-12)^1&a}(l,r);u.length?(f||(i.polygonStart(),f=!0),by(u,Ty,n,e,i)):n&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,e){n(t,e)&&i.point(t,e)}function p(n,t){o.point(n,t)}function g(){h.point=p,o.lineStart()}function m(){h.point=d,o.lineEnd()}function v(n,t){a.push([n,t]),c.point(n,t)}function w(){c.lineStart(),a=[]}function y(){v(a[0][0],a[0][1]),c.lineEnd();var n,t,e,r,o=c.clean(),h=s.result(),d=h.length;if(a.pop(),l.push(a),a=null,d)if(1&o){if((t=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),n=0;n<t;++n)i.point((r=e[n])[0],r[1]);i.lineEnd()}}else d>1&&2&o&&h.push(h.pop().concat(h.shift())),u.push(h.filter(Fy))}return h}};function Fy(n){return n.length>1}function Ty(n,t){return((n=n.x)[0]<0?n[1]-Jv-1e-6:Jv-n[1])-((t=t.x)[0]<0?t[1]-Jv-1e-6:Jv-t[1])}var Ny=My((function(){return!0}),(function(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(l,u){var a=l>0?Vv:-Vv,o=nw(l-e);nw(o-Vv)<1e-6?(n.point(e,r=(r+u)/2>0?Jv:-Jv),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(l,r),t=0):i!==a&&o>=Vv&&(nw(e-i)<1e-6&&(e-=1e-6*i),nw(l-a)<1e-6&&(l-=1e-6*a),r=function(n,t,e,r){var i,l,u=sw(n-e);return nw(u)>1e-6?tw((sw(t)*(l=rw(r))*sw(e)-sw(r)*(i=rw(t))*sw(n))/(i*l*u)):(t+r)/2}(e,r,l,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=l,r=u),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var i;if(null==n)i=e*Jv,r.point(-Vv,i),r.point(0,i),r.point(Vv,i),r.point(Vv,0),r.point(Vv,-i),r.point(0,-i),r.point(-Vv,-i),r.point(-Vv,0),r.point(-Vv,i);else if(nw(n[0]-t[0])>1e-6){var l=n[0]<t[0]?Vv:-Vv;i=e*l/2,r.point(-l,i),r.point(0,i),r.point(l,i)}else r.point(t[0],t[1])}),[-Vv,-Jv]);var By=function(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e};function zy(n,t){return[nw(n)>Vv?n+Math.round(-n/Kv)*Kv:n,t]}function Py(n,t,e){return(n%=Kv)?t||e?By(Ry(n),Iy(t,e)):Ry(n):t||e?Iy(t,e):zy}function $y(n){return function(t,e){return[(t+=n)>Vv?t-Kv:t<-Vv?t+Kv:t,e]}}function Ry(n){var t=$y(n);return t.invert=$y(-n),t}function Iy(n,t){var e=rw(n),r=sw(n),i=rw(t),l=sw(t);function u(n,t){var u=rw(t),a=rw(n)*u,o=sw(n)*u,s=sw(t),c=s*e+a*r;return[ew(o*i-c*l,a*e-s*r),pw(c*i+o*l)]}return u.invert=function(n,t){var u=rw(t),a=rw(n)*u,o=sw(n)*u,s=sw(t),c=s*i-o*l;return[ew(o*i+s*l,a*e+c*r),pw(c*e-a*r)]},u}zy.invert=zy;function Ly(n,t,e,r,i,l){if(e){var u=rw(t),a=sw(t),o=r*e;null==i?(i=t+r*Kv,l=t-o/2):(i=Uy(u,i),l=Uy(u,l),(r>0?i<l:i>l)&&(i+=r*Kv));for(var s,c=i;r>0?c>l:c<l;c-=o)s=_y([u,-a*rw(c),-a*sw(c)]),n.point(s[0],s[1])}}function Uy(n,t){(t=ky(t))[0]-=n,Sy(t);var e=dw(-t[1]);return((-t[2]<0?-e:e)+Kv-1e-6)%Kv}var qy=function(n){var t=rw(n),e=6*Qv,r=t>0,i=nw(t)>1e-6;function l(n,e){return rw(n)*rw(e)>t}function u(n,e,r){var i=[1,0,0],l=Oy(ky(n),ky(e)),u=jy(l,l),a=l[0],o=u-a*a;if(!o)return!r&&n;var s=t*u/o,c=-t*a/o,f=Oy(i,l),h=Ey(i,s);Ay(h,Ey(l,c));var d=f,p=jy(h,d),g=jy(d,d),m=p*p-g*(jy(h,h)-1);if(!(m<0)){var v=fw(m),w=Ey(d,(-p-v)/g);if(Ay(w,h),w=_y(w),!r)return w;var y,b=n[0],x=e[0],_=n[1],k=e[1];x<b&&(y=b,b=x,x=y);var j=x-b,O=nw(j-Vv)<1e-6;if(!O&&k<_&&(y=_,_=k,k=y),O||j<1e-6?O?_+k>0^w[1]<(nw(w[0]-b)<1e-6?_:k):_<=w[1]&&w[1]<=k:j>Vv^(b<=w[0]&&w[0]<=x)){var A=Ey(d,(-p+v)/g);return Ay(A,h),[w,_y(A)]}}}function a(t,e){var i=r?n:Vv-n,l=0;return t<-i?l|=1:t>i&&(l|=2),e<-i?l|=4:e>i&&(l|=8),l}return My(l,(function(n){var t,e,o,s,c;return{lineStart:function(){s=o=!1,c=1},point:function(f,h){var d,p=[f,h],g=l(f,h),m=r?g?0:a(f,h):g?a(f+(f<0?Vv:-Vv),h):0;if(!t&&(s=o=g)&&n.lineStart(),g!==o&&(!(d=u(t,p))||wy(t,d)||wy(p,d))&&(p[2]=1),g!==o)c=0,g?(n.lineStart(),d=u(p,t),n.point(d[0],d[1])):(d=u(t,p),n.point(d[0],d[1],2),n.lineEnd()),t=d;else if(i&&t&&r^g){var v;m&e||!(v=u(p,t,!0))||(c=0,r?(n.lineStart(),n.point(v[0][0],v[0][1]),n.point(v[1][0],v[1][1]),n.lineEnd()):(n.point(v[1][0],v[1][1]),n.lineEnd(),n.lineStart(),n.point(v[0][0],v[0][1],3)))}!g||t&&wy(t,p)||n.point(p[0],p[1]),t=p,o=g,e=m},lineEnd:function(){o&&n.lineEnd(),t=null},clean:function(){return c|(s&&o)<<1}}}),(function(t,r,i,l){Ly(l,n,e,i,t,r)}),r?[0,-n]:[-Vv,n-Vv])};function Hy(n,t,e,r){function i(i,l){return n<=i&&i<=e&&t<=l&&l<=r}function l(i,l,a,s){var c=0,f=0;if(null==i||(c=u(i,a))!==(f=u(l,a))||o(i,l)<0^a>0)do{s.point(0===c||3===c?n:e,c>1?r:t)}while((c=(c+a+4)%4)!==f);else s.point(l[0],l[1])}function u(r,i){return nw(r[0]-n)<1e-6?i>0?0:3:nw(r[0]-e)<1e-6?i>0?2:1:nw(r[1]-t)<1e-6?i>0?1:0:i>0?3:2}function a(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(u){var o,s,c,f,h,d,p,g,m,v,w,y=u,b=vy(),x={point:_,lineStart:function(){x.point=k,s&&s.push(c=[]);v=!0,m=!1,p=g=NaN},lineEnd:function(){o&&(k(f,h),d&&m&&b.rejoin(),o.push(b.result()));x.point=_,m&&y.lineEnd()},polygonStart:function(){y=b,o=[],s=[],w=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,i=s.length;e<i;++e)for(var l,u,a=s[e],o=1,c=a.length,f=a[0],h=f[0],d=f[1];o<c;++o)l=h,u=d,f=a[o],h=f[0],d=f[1],u<=r?d>r&&(h-l)*(r-u)>(d-u)*(n-l)&&++t:d<=r&&(h-l)*(r-u)<(d-u)*(n-l)&&--t;return t}(),e=w&&t,i=(o=Dy(o)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),i&&by(o,a,t,l,u),u.polygonEnd());y=u,o=s=c=null}};function _(n,t){i(n,t)&&y.point(n,t)}function k(l,u){var a=i(l,u);if(s&&c.push([l,u]),v)f=l,h=u,d=a,v=!1,a&&(y.lineStart(),y.point(l,u));else if(a&&m)y.point(l,u);else{var o=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],b=[l=Math.max(-1e9,Math.min(1e9,l)),u=Math.max(-1e9,Math.min(1e9,u))];!function(n,t,e,r,i,l){var u,a=n[0],o=n[1],s=0,c=1,f=t[0]-a,h=t[1]-o;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<s)return;u<c&&(c=u)}else if(f>0){if(u>c)return;u>s&&(s=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>c)return;u>s&&(s=u)}else if(f>0){if(u<s)return;u<c&&(c=u)}if(u=r-o,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<c&&(c=u)}else if(h>0){if(u>c)return;u>s&&(s=u)}if(u=l-o,h||!(u<0)){if(u/=h,h<0){if(u>c)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<c&&(c=u)}return s>0&&(n[0]=a+s*f,n[1]=o+s*h),c<1&&(t[0]=a+c*f,t[1]=o+c*h),!0}}}}}(o,b,n,t,e,r)?a&&(y.lineStart(),y.point(l,u),w=!1):(m||(y.lineStart(),y.point(o[0],o[1])),y.point(b[0],b[1]),a||y.lineEnd(),w=!1)}p=l,g=u,m=a}return x}}function Wy(n){return function(t){var e=new Gy;for(var r in n)e[r]=n[r];return e.stream=t,e}}function Gy(){}function Yy(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),Gv(e,n.stream(zw)),t(zw.result()),null!=r&&n.clipExtent(r),n}function Vy(n,t,e){return Yy(n,(function(e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],l=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+t[0][0]+(r-l*(e[1][0]+e[0][0]))/2,a=+t[0][1]+(i-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([u,a])}),e)}function Jy(n,t,e){return Vy(n,[[0,0],t],e)}function Xy(n,t,e){return Yy(n,(function(e){var r=+t,i=r/(e[1][0]-e[0][0]),l=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];n.scale(150*i).translate([l,u])}),e)}function Ky(n,t,e){return Yy(n,(function(e){var r=+t,i=r/(e[1][1]-e[0][1]),l=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;n.scale(150*i).translate([l,u])}),e)}Gy.prototype={constructor:Gy,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zy=rw(30*Qv),Qy=function(n,t){return+t?function(n,t){function e(r,i,l,u,a,o,s,c,f,h,d,p,g,m){var v=s-r,w=c-i,y=v*v+w*w;if(y>4*t&&g--){var b=u+h,x=a+d,_=o+p,k=fw(b*b+x*x+_*_),j=pw(_/=k),O=nw(nw(_)-1)<1e-6||nw(l-f)<1e-6?(l+f)/2:ew(x,b),A=n(O,j),E=A[0],S=A[1],C=E-r,D=S-i,M=w*C-v*D;(M*M/y>t||nw((v*C+w*D)/y-.5)>.3||u*h+a*d+o*p<Zy)&&(e(r,i,l,u,a,o,E,S,O,b/=k,x/=k,_,g,m),m.point(E,S),e(E,S,O,b,x,_,s,c,f,h,d,p,g,m))}}return function(t){var r,i,l,u,a,o,s,c,f,h,d,p,g={point:m,lineStart:v,lineEnd:y,polygonStart:function(){t.polygonStart(),g.lineStart=b},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(e,r){e=n(e,r),t.point(e[0],e[1])}function v(){c=NaN,g.point=w,t.lineStart()}function w(r,i){var l=ky([r,i]),u=n(r,i);e(c,f,s,h,d,p,c=u[0],f=u[1],s=r,h=l[0],d=l[1],p=l[2],16,t),t.point(c,f)}function y(){g.point=m,t.lineEnd()}function b(){v(),g.point=x,g.lineEnd=_}function x(n,t){w(r=n,t),i=c,l=f,u=h,a=d,o=p,g.point=w}function _(){e(c,f,s,h,d,p,i,l,r,u,a,o,16,t),g.lineEnd=y,y()}return g}}(n,t):function(n){return Wy({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)};var nb=Wy({point:function(n,t){this.stream.point(n*Qv,t*Qv)}});function tb(n,t,e,r,i,l){if(!l)return function(n,t,e,r,i){function l(l,u){return[t+n*(l*=r),e-n*(u*=i)]}return l.invert=function(l,u){return[(l-t)/n*r,(e-u)/n*i]},l}(n,t,e,r,i);var u=rw(l),a=sw(l),o=u*n,s=a*n,c=u/n,f=a/n,h=(a*e-u*t)/n,d=(a*t+u*e)/n;function p(n,l){return[o*(n*=r)-s*(l*=i)+t,e-s*n-o*l]}return p.invert=function(n,t){return[r*(c*n-f*t+h),i*(d-f*n-c*t)]},p}function eb(n){return rb((function(){return n}))()}function rb(n){var t,e,r,i,l,u,a,o,s,c,f=150,h=480,d=250,p=0,g=0,m=0,v=0,w=0,y=0,b=1,x=1,_=null,k=Ny,j=null,O=Iv,A=.5;function E(n){return o(n[0]*Qv,n[1]*Qv)}function S(n){return(n=o.invert(n[0],n[1]))&&[n[0]*Zv,n[1]*Zv]}function C(){var n=tb(f,0,0,b,x,y).apply(null,t(p,g)),r=tb(f,h-n[0],d-n[1],b,x,y);return e=Py(m,v,w),a=By(t,r),o=By(e,a),u=Qy(a,A),D()}function D(){return s=c=null,E}return E.stream=function(n){return s&&c===n?s:s=nb(function(n){return Wy({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}(e)(k(u(O(c=n)))))},E.preclip=function(n){return arguments.length?(k=n,_=void 0,D()):k},E.postclip=function(n){return arguments.length?(O=n,j=r=i=l=null,D()):O},E.clipAngle=function(n){return arguments.length?(k=+n?qy(_=n*Qv):(_=null,Ny),D()):_*Zv},E.clipExtent=function(n){return arguments.length?(O=null==n?(j=r=i=l=null,Iv):Hy(j=+n[0][0],r=+n[0][1],i=+n[1][0],l=+n[1][1]),D()):null==j?null:[[j,r],[i,l]]},E.scale=function(n){return arguments.length?(f=+n,C()):f},E.translate=function(n){return arguments.length?(h=+n[0],d=+n[1],C()):[h,d]},E.center=function(n){return arguments.length?(p=n[0]%360*Qv,g=n[1]%360*Qv,C()):[p*Zv,g*Zv]},E.rotate=function(n){return arguments.length?(m=n[0]%360*Qv,v=n[1]%360*Qv,w=n.length>2?n[2]%360*Qv:0,C()):[m*Zv,v*Zv,w*Zv]},E.angle=function(n){return arguments.length?(y=n%360*Qv,C()):y*Zv},E.reflectX=function(n){return arguments.length?(b=n?-1:1,C()):b<0},E.reflectY=function(n){return arguments.length?(x=n?-1:1,C()):x<0},E.precision=function(n){return arguments.length?(u=Qy(a,A=n*n),D()):fw(A)},E.fitExtent=function(n,t){return Vy(E,n,t)},E.fitSize=function(n,t){return Jy(E,n,t)},E.fitWidth=function(n,t){return Xy(E,n,t)},E.fitHeight=function(n,t){return Ky(E,n,t)},function(){return t=n.apply(this,arguments),E.invert=t.invert&&S,C()}}function ib(n){var t=0,e=Vv/3,r=rb(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*Qv,e=n[1]*Qv):[t*Zv,e*Zv]},i}function lb(n,t){var e=sw(n),r=(e+sw(t))/2;if(nw(r)<1e-6)return function(n){var t=rw(n);function e(n,e){return[n*t,sw(e)/t]}return e.invert=function(n,e){return[n/t,pw(e*t)]},e}(n);var i=1+e*(2*r-e),l=fw(i)/r;function u(n,t){var e=fw(i-2*r*sw(t))/r;return[e*sw(n*=r),l-e*rw(n)]}return u.invert=function(n,t){var e=l-t,u=ew(n,nw(e))*cw(e);return e*r<0&&(u-=Vv*cw(n)*cw(e)),[u/r,pw((i-(n*n+e*e)*r*r)/(2*r))]},u}var ub=function(){return ib(lb).scale(155.424).center([0,33.6442])},ab=function(){return ub().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function ob(n){return function(t,e){var r=rw(t),i=rw(e),l=n(r*i);return l===1/0?[2,0]:[l*i*sw(t),l*sw(e)]}}function sb(n){return function(t,e){var r=fw(t*t+e*e),i=n(r),l=sw(i),u=rw(i);return[ew(t*l,r*u),pw(r&&e*l/r)]}}var cb=ob((function(n){return fw(2/(1+n))}));cb.invert=sb((function(n){return 2*pw(n/2)}));var fb=ob((function(n){return(n=dw(n))&&n/sw(n)}));fb.invert=sb((function(n){return n}));function hb(n,t){return[n,aw(hw((Jv+t)/2))]}hb.invert=function(n,t){return[n,2*tw(lw(t))-Jv]};function db(n){var t,e,r,i=eb(n),l=i.center,u=i.scale,a=i.translate,o=i.clipExtent,s=null;function c(){var l=Vv*u(),a=i(function(n){function t(t){return(t=n(t[0]*Qv,t[1]*Qv))[0]*=Zv,t[1]*=Zv,t}return n=Py(n[0]*Qv,n[1]*Qv,n.length>2?n[2]*Qv:0),t.invert=function(t){return(t=n.invert(t[0]*Qv,t[1]*Qv))[0]*=Zv,t[1]*=Zv,t},t}(i.rotate()).invert([0,0]));return o(null==s?[[a[0]-l,a[1]-l],[a[0]+l,a[1]+l]]:n===hb?[[Math.max(a[0]-l,s),t],[Math.min(a[0]+l,e),r]]:[[s,Math.max(a[1]-l,t)],[e,Math.min(a[1]+l,r)]])}return i.scale=function(n){return arguments.length?(u(n),c()):u()},i.translate=function(n){return arguments.length?(a(n),c()):a()},i.center=function(n){return arguments.length?(l(n),c()):l()},i.clipExtent=function(n){return arguments.length?(null==n?s=t=e=r=null:(s=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),c()):null==s?null:[[s,t],[e,r]]},c()}function pb(n){return hw((Jv+n)/2)}function gb(n,t){var e=rw(n),r=n===t?sw(n):aw(e/rw(t))/aw(pb(t)/pb(n)),i=e*ow(pb(n),r)/r;if(!r)return hb;function l(n,t){i>0?t<1e-6-Jv&&(t=1e-6-Jv):t>Jv-1e-6&&(t=Jv-1e-6);var e=i/ow(pb(t),r);return[e*sw(r*n),i-e*rw(r*n)]}return l.invert=function(n,t){var e=i-t,l=cw(r)*fw(n*n+e*e),u=ew(n,nw(e))*cw(e);return e*r<0&&(u-=Vv*cw(n)*cw(e)),[u/r,2*tw(ow(i/l,1/r))-Jv]},l}function mb(n,t){return[n,t]}mb.invert=mb;function vb(n,t){var e=rw(n),r=n===t?sw(n):(e-rw(t))/(t-n),i=e/r+n;if(nw(r)<1e-6)return mb;function l(n,t){var e=i-t,l=r*n;return[e*sw(l),i-e*rw(l)]}return l.invert=function(n,t){var e=i-t,l=ew(n,nw(e))*cw(e);return e*r<0&&(l-=Vv*cw(n)*cw(e)),[l/r,i-cw(r)*fw(n*n+e*e)]},l}var wb=1.340264,yb=-.081106,bb=893e-6,xb=.003796,_b=fw(3)/2;function kb(n,t){var e=pw(_b*sw(t)),r=e*e,i=r*r*r;return[n*rw(e)/(_b*(wb+3*yb*r+i*(7*bb+9*xb*r))),e*(wb+yb*r+i*(bb+xb*r))]}kb.invert=function(n,t){for(var e,r=t,i=r*r,l=i*i*i,u=0;u<12&&(l=(i=(r-=e=(r*(wb+yb*i+l*(bb+xb*i))-t)/(wb+3*yb*i+l*(7*bb+9*xb*i)))*r)*i*i,!(nw(e)<1e-12));++u);return[_b*n*(wb+3*yb*i+l*(7*bb+9*xb*i))/rw(r),pw(sw(r)/_b)]};function jb(n,t){var e=rw(t),r=rw(n)*e;return[e*sw(n)/r,sw(t)/r]}jb.invert=sb(tw);function Ob(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),t*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Ob.invert=function(n,t){var e,r=t,i=25;do{var l=r*r,u=l*l;r-=e=(r*(1.007226+l*(.015085+u*(.028874*l-.044475-.005916*u)))-t)/(1.007226+l*(.045255+u*(.259866*l-.311325-.005916*11*u)))}while(nw(e)>1e-6&&--i>0);return[n/(.8707+(l=r*r)*(l*(l*l*l*(.003971-.001529*l)-.013791)-.131979)),r]};function Ab(n,t){return[rw(t)*sw(n),sw(t)]}Ab.invert=sb(pw);function Eb(n,t){var e=rw(t),r=1+rw(n)*e;return[e*sw(n)/r,sw(t)/r]}Eb.invert=sb((function(n){return 2*tw(n)}));function Sb(n,t){return[aw(hw((Jv+t)/2)),-n]}Sb.invert=function(n,t){return[-t,2*tw(lw(n))-Jv]};var Cb=Math.abs,Db=(Math.atan,Math.atan2,Math.ceil,Math.cos),Mb=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),Fb=(Math.tan,Math.PI),Tb=Fb/2,Nb=(Math.SQRT1_2,zb(2));zb(Fb);function Bb(n){return n>1?Tb:n<-1?-Tb:Math.asin(n)}function zb(n){return n>0?Math.sqrt(n):0}function Pb(n,t){var e,r=n*Mb(t),i=30;do{t-=e=(t+Mb(t)-r)/(1+Db(t))}while(Cb(e)>1e-6&&--i>0);return t/2}var $b=function(n,t,e){function r(r,i){return[n*r*Db(i=Pb(e,i)),t*Mb(i)]}return r.invert=function(r,i){return i=Bb(i/t),[r/(n*Db(i)),Bb((2*i+Mb(2*i))/e)]},r}(Nb/Tb,Nb,Fb);const Rb=my(),Ib=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Lb(n,t){return function e(){const r=t();return r.type=n,r.path=my().projection(r),r.copy=r.copy||function(){const n=e();return Ib.forEach(t=>{r[t]&&n[t](r[t]())}),n.path.pointRadius(r.path.pointRadius()),n},r}}function Ub(n,t){if(!n||"string"!=typeof n)throw new Error("Projection type must be a name string.");return n=n.toLowerCase(),arguments.length>1?(Hb[n]=Lb(n,t),this):Hb[n]||null}function qb(n){return n&&n.path||Rb}const Hb={albers:ab,albersusa:function(){var n,t,e,r,i,l,u=ab(),a=ub().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=ub().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){l=[n,t]}};function c(n){var t=n[0],u=n[1];return l=null,e.point(t,u),l||(r.point(t,u),l)||(i.point(t,u),l)}function f(){return n=t=null,c}return c.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?o:u).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[u.stream(t=e),a.stream(e),o.stream(e)],i=r.length,n={point:function(n,t){for(var e=-1;++e<i;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<i;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)r[n].polygonEnd()}});var r,i},c.precision=function(n){return arguments.length?(u.precision(n),a.precision(n),o.precision(n),f()):u.precision()},c.scale=function(n){return arguments.length?(u.scale(n),a.scale(.35*n),o.scale(n),c.translate(u.translate())):u.scale()},c.translate=function(n){if(!arguments.length)return u.translate();var t=u.scale(),l=+n[0],c=+n[1];return e=u.translate(n).clipExtent([[l-.455*t,c-.238*t],[l+.455*t,c+.238*t]]).stream(s),r=a.translate([l-.307*t,c+.201*t]).clipExtent([[l-.425*t+1e-6,c+.12*t+1e-6],[l-.214*t-1e-6,c+.234*t-1e-6]]).stream(s),i=o.translate([l-.205*t,c+.212*t]).clipExtent([[l-.214*t+1e-6,c+.166*t+1e-6],[l-.115*t-1e-6,c+.234*t-1e-6]]).stream(s),f()},c.fitExtent=function(n,t){return Vy(c,n,t)},c.fitSize=function(n,t){return Jy(c,n,t)},c.fitWidth=function(n,t){return Xy(c,n,t)},c.fitHeight=function(n,t){return Ky(c,n,t)},c.scale(1070)},azimuthalequalarea:function(){return eb(cb).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return eb(fb).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return ib(gb).scale(109.5).parallels([30,30])},conicequalarea:ub,conicequidistant:function(){return ib(vb).scale(131.154).center([0,13.9389])},equalEarth:function(){return eb(kb).scale(177.158)},equirectangular:function(){return eb(mb).scale(152.63)},gnomonic:function(){return eb(jb).scale(144.049).clipAngle(60)},identity:function(){var n,t,e,r,i,l,u,a=1,o=0,s=0,c=1,f=1,h=0,d=null,p=1,g=1,m=Wy({point:function(n,t){var e=y([n,t]);this.stream.point(e[0],e[1])}}),v=Iv;function w(){return p=a*c,g=a*f,l=u=null,y}function y(e){var r=e[0]*p,i=e[1]*g;if(h){var l=i*n-r*t;r=r*n+i*t,i=l}return[r+o,i+s]}return y.invert=function(e){var r=e[0]-o,i=e[1]-s;if(h){var l=i*n+r*t;r=r*n-i*t,i=l}return[r/p,i/g]},y.stream=function(n){return l&&u===n?l:l=m(v(u=n))},y.postclip=function(n){return arguments.length?(v=n,d=e=r=i=null,w()):v},y.clipExtent=function(n){return arguments.length?(v=null==n?(d=e=r=i=null,Iv):Hy(d=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),w()):null==d?null:[[d,e],[r,i]]},y.scale=function(n){return arguments.length?(a=+n,w()):a},y.translate=function(n){return arguments.length?(o=+n[0],s=+n[1],w()):[o,s]},y.angle=function(e){return arguments.length?(t=sw(h=e%360*Qv),n=rw(h),w()):h*Zv},y.reflectX=function(n){return arguments.length?(c=n?-1:1,w()):c<0},y.reflectY=function(n){return arguments.length?(f=n?-1:1,w()):f<0},y.fitExtent=function(n,t){return Vy(y,n,t)},y.fitSize=function(n,t){return Jy(y,n,t)},y.fitWidth=function(n,t){return Xy(y,n,t)},y.fitHeight=function(n,t){return Ky(y,n,t)},y},mercator:function(){return db(hb).scale(961/Kv)},mollweide:function(){return eb($b).scale(169.529)},naturalEarth1:function(){return eb(Ob).scale(175.295)},orthographic:function(){return eb(Ab).scale(249.5).clipAngle(90.000001)},stereographic:function(){return eb(Eb).scale(250).clipAngle(142)},transversemercator:function(){var n=db(Sb),t=n.center,e=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?e([n[0],n[1],n.length>2?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90]).scale(159.155)}};for(const n in Hb)Ub(n,Hb[n]);function Wb(n,t,e){var r=Zl(n,t-1e-6,e).concat(t);return function(n){return r.map((function(t){return[n,t]}))}}function Gb(n,t,e){var r=Zl(n,t-1e-6,e).concat(t);return function(n){return r.map((function(t){return[t,n]}))}}function Yb(){var n,t,e,r,i,l,u,a,o,s,c,f,h=10,d=h,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:w()}}function w(){return Zl(iw(r/p)*p,e,p).map(c).concat(Zl(iw(a/g)*g,u,g).map(f)).concat(Zl(iw(t/h)*h,n,h).filter((function(n){return nw(n%p)>1e-6})).map(o)).concat(Zl(iw(l/d)*d,i,d).filter((function(n){return nw(n%g)>1e-6})).map(s))}return v.lines=function(){return w().map((function(n){return{type:"LineString",coordinates:n}}))},v.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(u).slice(1),c(e).reverse().slice(1),f(a).reverse().slice(1))]}},v.extent=function(n){return arguments.length?v.extentMajor(n).extentMinor(n):v.extentMinor()},v.extentMajor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),v.precision(m)):[[r,a],[e,u]]},v.extentMinor=function(e){return arguments.length?(t=+e[0][0],n=+e[1][0],l=+e[0][1],i=+e[1][1],t>n&&(e=t,t=n,n=e),l>i&&(e=l,l=i,i=e),v.precision(m)):[[t,l],[n,i]]},v.step=function(n){return arguments.length?v.stepMajor(n).stepMinor(n):v.stepMinor()},v.stepMajor=function(n){return arguments.length?(p=+n[0],g=+n[1],v):[p,g]},v.stepMinor=function(n){return arguments.length?(h=+n[0],d=+n[1],v):[h,d]},v.precision=function(h){return arguments.length?(m=+h,o=Wb(l,i,90),s=Gb(t,n,m),c=Wb(a,u,90),f=Gb(r,e,m),v):m},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Vb(){}const Jb=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Xb(){var n=1,t=1,e=u;function r(n,t){return t.map(t=>i(n,t))}function i(r,i){var u=[],a=[];return function(e,r,i){var u,a,o,s,c,f,h=new Array,d=new Array;u=a=-1,s=e[0]>=r,Jb[s<<1].forEach(p);for(;++u<n-1;)o=s,s=e[u+1]>=r,Jb[o|s<<1].forEach(p);Jb[s<<0].forEach(p);for(;++a<t-1;){for(u=-1,s=e[a*n+n]>=r,c=e[a*n]>=r,Jb[s<<1|c<<2].forEach(p);++u<n-1;)o=s,s=e[a*n+n+u+1]>=r,f=c,c=e[a*n+u+1]>=r,Jb[o|s<<1|c<<2|f<<3].forEach(p);Jb[s|c<<3].forEach(p)}u=-1,c=e[a*n]>=r,Jb[c<<2].forEach(p);for(;++u<n-1;)f=c,c=e[a*n+u+1]>=r,Jb[c<<2|f<<3].forEach(p);function p(n){var t,e,r=[n[0][0]+u,n[0][1]+a],o=[n[1][0]+u,n[1][1]+a],s=l(r),c=l(o);(t=d[s])?(e=h[c])?(delete d[t.end],delete h[e.start],t===e?(t.ring.push(o),i(t.ring)):h[t.start]=d[e.end]={start:t.start,end:e.end,ring:t.ring.concat(e.ring)}):(delete d[t.end],t.ring.push(o),d[t.end=c]=t):(t=h[c])?(e=d[s])?(delete h[t.start],delete d[e.end],t===e?(t.ring.push(o),i(t.ring)):h[e.start]=d[t.end]={start:e.start,end:t.end,ring:e.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=s]=t):h[s]=d[c]={start:s,end:c,ring:[r,o]}}Jb[c<<3].forEach(p)}(r,i,n=>{e(n,r,i),function(n){var t=0,e=n.length,r=n[e-1][1]*n[0][0]-n[e-1][0]*n[0][1];for(;++t<e;)r+=n[t-1][1]*n[t][0]-n[t-1][0]*n[t][1];return r}(n)>0?u.push([n]):a.push(n)}),a.forEach(n=>{for(var t,e=0,r=u.length;e<r;++e)if(-1!==Kb((t=u[e])[0],n))return void t.push(n)}),{type:"MultiPolygon",value:i,coordinates:u}}function l(t){return 2*t[0]+t[1]*(n+1)*4}function u(e,r,i){e.forEach(e=>{var l,u=e[0],a=e[1],o=0|u,s=0|a,c=r[s*n+o];u>0&&u<n&&o===u&&(l=r[s*n+o-1],e[0]=u+(i-l)/(c-l)-.5),a>0&&a<t&&s===a&&(l=r[(s-1)*n+o],e[1]=a+(i-l)/(c-l)-.5)})}return r.contour=i,r.size=function(e){if(!arguments.length)return[n,t];var i=Math.floor(e[0]),l=Math.floor(e[1]);return i>=0&&l>=0||Object(g.o)("invalid size"),n=i,t=l,r},r.smooth=function(n){return arguments.length?(e=n?u:Vb,r):e===u},r}function Kb(n,t){for(var e,r=-1,i=t.length;++r<i;)if(e=Zb(n,t[r]))return e;return 0}function Zb(n,t){for(var e=t[0],r=t[1],i=-1,l=0,u=n.length,a=u-1;l<u;a=l++){var o=n[l],s=o[0],c=o[1],f=n[a],h=f[0],d=f[1];if(Qb(o,f,t))return 0;c>r!=d>r&&e<(h-s)*(r-c)/(d-c)+s&&(i=-i)}return i}function Qb(n,t,e){var r,i,l,u;return function(n,t,e){return(t[0]-n[0])*(e[1]-n[1])==(e[0]-n[0])*(t[1]-n[1])}(n,t,e)&&(i=n[r=+(n[0]===t[0])],l=e[r],u=t[r],i<=l&&l<=u||u<=l&&l<=i)}function nx(n,t,e){return function(r){var i=Object(g.q)(r),l=e?Math.min(i[0],0):i[0],u=i[1],a=u-l,o=t?an(l,u,n):a/(n+1);return Zl(o,u,o)}}function tx(n){Yi.call(this,null,n)}function ex(n,t,e,r,i){const l=n.x1||0,u=n.y1||0,a=t*e<0;function o(n){n.forEach(s)}function s(n){a&&n.reverse(),n.forEach(c)}function c(n){n[0]=(n[0]-l)*t+r,n[1]=(n[1]-u)*e+i}return function(n){return n.coordinates.forEach(o),n}}function rx(n,t,e){const r=n>=0?n:al(t,e);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function ix(n){return Object(g.E)(n)?n:Object(g.m)(+n)}function lx(){var n=n=>n[0],t=n=>n[1],e=g.Q,r=[-1,-1],i=960,l=500,u=2;function a(a,o){const s=rx(r[0],a,n)>>u,c=rx(r[1],a,t)>>u,f=s?s+2:0,h=c?c+2:0,d=2*f+(i>>u),p=2*h+(l>>u),g=new Float32Array(d*p),m=new Float32Array(d*p);let v=g;a.forEach(r=>{const i=f+(+n(r)>>u),l=h+(+t(r)>>u);i>=0&&i<d&&l>=0&&l<p&&(g[i+l*d]+=+e(r))}),s>0&&c>0?(ux(d,p,g,m,s),ax(d,p,m,g,c),ux(d,p,g,m,s),ax(d,p,m,g,c),ux(d,p,g,m,s),ax(d,p,m,g,c)):s>0?(ux(d,p,g,m,s),ux(d,p,m,g,s),ux(d,p,g,m,s),v=m):c>0&&(ax(d,p,g,m,c),ax(d,p,m,g,c),ax(d,p,g,m,c),v=m);const w=o?Math.pow(2,-2*u):1/hv(v);for(let n=0,t=d*p;n<t;++n)v[n]*=w;return{values:v,scale:1<<u,width:d,height:p,x1:f,y1:h,x2:f+(i>>u),y2:h+(l>>u)}}return a.x=function(t){return arguments.length?(n=ix(t),a):n},a.y=function(n){return arguments.length?(t=ix(n),a):t},a.weight=function(n){return arguments.length?(e=ix(n),a):e},a.size=function(n){if(!arguments.length)return[i,l];var t=+n[0],e=+n[1];return t>=0&&e>=0||Object(g.o)("invalid size"),i=t,l=e,a},a.cellSize=function(n){return arguments.length?((n=+n)>=1||Object(g.o)("invalid cell size"),u=Math.floor(Math.log(n)/Math.LN2),a):1<<u},a.bandwidth=function(n){return arguments.length?(1===(n=Object(g.i)(n)).length&&(n=[+n[0],+n[0]]),2!==n.length&&Object(g.o)("invalid bandwidth"),r=n,a):r},a}function ux(n,t,e,r,i){const l=1+(i<<1);for(let u=0;u<t;++u)for(let t=0,a=0;t<n+i;++t)t<n&&(a+=e[t+u*n]),t>=i&&(t>=l&&(a-=e[t-l+u*n]),r[t-i+u*n]=a/Math.min(t+1,n-1+l-t,l))}function ax(n,t,e,r,i){const l=1+(i<<1);for(let u=0;u<n;++u)for(let a=0,o=0;a<t+i;++a)a<t&&(o+=e[u+a*n]),a>=i&&(a>=l&&(o-=e[u+(a-l)*n]),r[u+(a-i)*n]=o/Math.min(a+1,t-1+l-a,l))}function ox(n){Yi.call(this,null,n)}tx.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(g.z)(tx,Yi,{transform(n,t){if(this.value&&!t.changed()&&!n.modified())return t.StopPropagation;var e=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=n.field||g.y,l=Xb().smooth(!1!==n.smooth),u=n.thresholds||function(n,t,e){const r=nx(e.levels||10,e.nice,!1!==e.zero);return"shared"!==e.resolve?r:r(n.map(n=>Ki(t(n).values)))}(r,i,n),a=null===n.as?null:n.as||"contour",o=[];return r.forEach(t=>{const e=i(t),r=l.size([e.width,e.height])(e.values,Object(g.B)(u)?u:u(e.values));!function(n,t,e,r){let i=r.scale||t.scale,l=r.translate||t.translate;Object(g.E)(i)&&(i=i(e,r));Object(g.E)(l)&&(l=l(e,r));if((1===i||null==i)&&!l)return;const u=(Object(g.G)(i)?i:i[0])||1,a=(Object(g.G)(i)?i:i[1])||1,o=l&&l[0]||0,s=l&&l[1]||0;n.forEach(ex(t,u,a,o,s))}(r,e,t,n),r.forEach(n=>{o.push(yi(t,vi(null!=a?{[a]:n}:n)))})}),this.value&&(e.rem=this.value),this.value=e.source=e.add=o,e}}),ox.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const sx=["x","y","weight","size","cellSize","bandwidth"];function cx(n,t){return sx.forEach(e=>null!=t[e]?n[e](t[e]):0),n}function fx(n){Yi.call(this,null,n)}Object(g.z)(ox,Yi,{transform(n,t){if(this.value&&!t.changed()&&!n.modified())return t.StopPropagation;var e,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(n,t){var e,r,i,l,u,a,o=[],s=n=>n(l);if(null==t)o.push(n);else for(e={},r=0,i=n.length;r<i;++r)l=n[r],u=t.map(s),(a=e[u])||(e[u]=a=[],a.dims=u,o.push(a)),a.push(l);return o}(t.materialize(t.SOURCE).source,n.groupby),l=(n.groupby||[]).map(g.h),u=cx(lx(),n),a=n.as||"grid";return e=i.map(t=>vi(function(n,t){for(let e=0;e<l.length;++e)n[l[e]]=t[e];return n}({[a]:u(t,n.counts)},t.dims))),this.value&&(r.rem=this.value),this.value=r.source=r.add=e,r}}),fx.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(g.z)(fx,Yi,{transform(n,t){if(this.value&&!t.changed()&&!n.modified())return t.StopPropagation;var e,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),l=Xb().smooth(!1!==n.smooth),u=n.values,a=n.thresholds||nx(n.count||10,n.nice,!!u),o=n.size;return u||(u=t.materialize(t.SOURCE).source,r=ex(e=cx(lx(),n)(u,!0),e.scale||1,e.scale||1,0,0),o=[e.width,e.height],u=e.values),a=Object(g.B)(a)?a:a(u),u=l.size(o)(u,a),r&&u.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(u||[]).map(vi),i}});function hx(n){Yi.call(this,null,n)}function dx(n){Yi.call(this,null,n)}function px(n){Yi.call(this,null,n)}function gx(n){Yi.call(this,null,n)}function mx(n){Yi.call(this,[],n),this.generator=Yb()}function vx(n){Yi.call(this,null,n)}function wx(n){if(!Object(g.E)(n))return!1;const t=Object(g.fb)(Object(g.g)(n));return t.$x||t.$y||t.$value||t.$max}function yx(n){Yi.call(this,null,n),this.modified(!0)}function bx(n,t,e){Object(g.E)(n[t])&&n[t](e)}hx.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(g.z)(hx,Yi,{transform(n,t){var e,r=this._features,i=this._points,l=n.fields,u=l&&l[0],a=l&&l[1],o=n.geojson||!l&&g.y,s=t.ADD;e=n.modified()||t.changed(t.REM)||t.modified(Object(g.g)(o))||u&&t.modified(Object(g.g)(u))||a&&t.modified(Object(g.g)(a)),this.value&&!e||(s=t.SOURCE,this._features=r=[],this._points=i=[]),o&&t.visit(s,n=>r.push(o(n))),u&&a&&(t.visit(s,n=>{var t=u(n),e=a(n);null!=t&&null!=e&&(t=+t)===t&&(e=+e)===e&&i.push([t,e])}),r=r.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:"FeatureCollection",features:r}}}),dx.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(g.z)(dx,Yi,{transform(n,t){var e=t.fork(t.ALL),r=this.value,i=n.field||g.y,l=n.as||"path",u=e.SOURCE;!r||n.modified()?(this.value=r=qb(n.projection),e.materialize().reflow()):u=i===g.y||t.modified(i.fields)?e.ADD_MOD:e.ADD;const a=function(n,t){const e=n.pointRadius();n.context(null),null!=t&&n.pointRadius(t);return e}(r,n.pointRadius);return e.visit(u,n=>n[l]=r(i(n))),r.pointRadius(a),e.modifies(l)}}),px.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(g.z)(px,Yi,{transform(n,t){var e,r=n.projection,i=n.fields[0],l=n.fields[1],u=n.as||["x","y"],a=u[0],o=u[1];function s(n){const t=r([i(n),l(n)]);t?(n[a]=t[0],n[o]=t[1]):(n[a]=void 0,n[o]=void 0)}return n.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,s):(e=t.modified(i.fields)||t.modified(l.fields),t.visit(e?t.ADD_MOD:t.ADD,s)),t.modifies(u)}}),gx.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(g.z)(gx,Yi,{transform(n,t){var e=t.fork(t.ALL),r=this.value,i=n.as||"shape",l=e.ADD;return r&&!n.modified()||(this.value=r=function(n,t,e){const r=null==e?e=>n(t(e)):r=>{var i=n.pointRadius(),l=n.pointRadius(e)(t(r));return n.pointRadius(i),l};return r.context=t=>(n.context(t),r),r}(qb(n.projection),n.field||Object(g.u)("datum"),n.pointRadius),e.materialize().reflow(),l=e.SOURCE),e.visit(l,n=>n[i]=r),e.modifies(i)}}),mx.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(g.z)(mx,Yi,{transform(n,t){var e,r=this.value,i=this.generator;if(!r.length||n.modified())for(const t in n)Object(g.E)(i[t])&&i[t](n[t]);return e=i(),r.length?t.mod.push(bi(r[0],e)):t.add.push(vi(e)),r[0]=e,t}}),vx.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(g.z)(vx,Yi,{transform(n,t){if(!t.changed()&&!n.modified())return t.StopPropagation;var e=t.materialize(t.SOURCE).source,r="shared"===n.resolve,i=n.field||g.y,l=function(n,t){let e;Object(g.E)(n)?(e=e=>n(e,t),e.dep=wx(n)):n?e=Object(g.m)(n):(e=n=>n.$value/n.$max||0,e.dep=!0);return e}(n.opacity,n),u=function(n,t){let e;Object(g.E)(n)?(e=e=>ps(n(e,t)),e.dep=wx(n)):e=Object(g.m)(ps(n||"#888"));return e}(n.color,n),a=n.as||"image",o={$x:0,$y:0,$value:0,$max:r?Ki(e.map(n=>Ki(i(n).values))):0};return e.forEach(n=>{const t=i(n),e=Object(g.p)({},n,o);r||(e.$max=Ki(t.values||[])),n[a]=function(n,t,e,r){const i=n.width,l=n.height,u=n.x1||0,a=n.y1||0,o=n.x2||i,s=n.y2||l,c=n.values,f=c?n=>c[n]:g.mb,h=Po(o-u,s-a),d=h.getContext("2d"),p=d.getImageData(0,0,o-u,s-a),m=p.data;for(let n=a,l=0;n<s;++n){t.$y=n-a;for(let a=u,s=n*i;a<o;++a,l+=4){t.$x=a-u,t.$value=f(a+s);const n=e(t);m[l+0]=n.r,m[l+1]=n.g,m[l+2]=n.b,m[l+3]=~~(255*r(t))}}return d.putImageData(p,0,0),h}(t,e,u.dep?u:Object(g.m)(u(e)),l.dep?l:Object(g.m)(l(e)))}),t.reflow(!0).modifies(a)}}),Object(g.z)(yx,Yi,{transform(n,t){let e=this.value;return!e||n.modified("type")?(this.value=e=function(n){const t=Ub((n||"mercator").toLowerCase());t||Object(g.o)("Unrecognized projection type: "+n);return t()}(n.type),Ib.forEach(t=>{null!=n[t]&&bx(e,t,n[t])})):Ib.forEach(t=>{n.modified(t)&&bx(e,t,n[t])}),null!=n.pointRadius&&e.path.pointRadius(n.pointRadius),n.fit&&function(n,t){const e=function(n){return 1===(n=Object(g.i)(n)).length?n[0]:{type:"FeatureCollection",features:n.reduce((n,t)=>n.concat(function(n){return"FeatureCollection"===n.type?n.features:Object(g.i)(n).filter(n=>null!=n).map(n=>"Feature"===n.type?n:{type:"Feature",geometry:n})}(t)),[])}}(t.fit);t.extent?n.fitExtent(t.extent,e):t.size&&n.fitSize(t.size,e)}(e,n),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function xx(n,t,e,r){if(isNaN(t)||isNaN(e))return n;var i,l,u,a,o,s,c,f,h,d=n._root,p={data:r},g=n._x0,m=n._y0,v=n._x1,w=n._y1;if(!d)return n._root=p,n;for(;d.length;)if((s=t>=(l=(g+v)/2))?g=l:v=l,(c=e>=(u=(m+w)/2))?m=u:w=u,i=d,!(d=d[f=c<<1|s]))return i[f]=p,n;if(a=+n._x.call(null,d.data),o=+n._y.call(null,d.data),t===a&&e===o)return p.next=d,i?i[f]=p:n._root=p,n;do{i=i?i[f]=new Array(4):n._root=new Array(4),(s=t>=(l=(g+v)/2))?g=l:v=l,(c=e>=(u=(m+w)/2))?m=u:w=u}while((f=c<<1|s)==(h=(o>=u)<<1|a>=l));return i[h]=d,i[f]=p,n}var _x=function(n,t,e,r,i){this.node=n,this.x0=t,this.y0=e,this.x1=r,this.y1=i};function kx(n){return n[0]}function jx(n){return n[1]}function Ox(n,t,e){var r=new Ax(null==t?kx:t,null==e?jx:e,NaN,NaN,NaN,NaN);return null==n?r:r.addAll(n)}function Ax(n,t,e,r,i,l){this._x=n,this._y=t,this._x0=e,this._y0=r,this._x1=i,this._y1=l,this._root=void 0}function Ex(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var Sx=Ox.prototype=Ax.prototype;Sx.copy=function(){var n,t,e=new Ax(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Ex(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?n.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Ex(t));return e},Sx.add=function(n){const t=+this._x.call(null,n),e=+this._y.call(null,n);return xx(this.cover(t,e),t,e,n)},Sx.addAll=function(n){var t,e,r,i,l=n.length,u=new Array(l),a=new Array(l),o=1/0,s=1/0,c=-1/0,f=-1/0;for(e=0;e<l;++e)isNaN(r=+this._x.call(null,t=n[e]))||isNaN(i=+this._y.call(null,t))||(u[e]=r,a[e]=i,r<o&&(o=r),r>c&&(c=r),i<s&&(s=i),i>f&&(f=i));if(o>c||s>f)return this;for(this.cover(o,s).cover(c,f),e=0;e<l;++e)xx(this,u[e],a[e],n[e]);return this},Sx.cover=function(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,r=this._y0,i=this._x1,l=this._y1;if(isNaN(e))i=(e=Math.floor(n))+1,l=(r=Math.floor(t))+1;else{for(var u,a,o=i-e||1,s=this._root;e>n||n>=i||r>t||t>=l;)switch(a=(t<r)<<1|n<e,(u=new Array(4))[a]=s,s=u,o*=2,a){case 0:i=e+o,l=r+o;break;case 1:e=i-o,l=r+o;break;case 2:i=e+o,r=l-o;break;case 3:e=i-o,r=l-o}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=l,this},Sx.data=function(){var n=[];return this.visit((function(t){if(!t.length)do{n.push(t.data)}while(t=t.next)})),n},Sx.extent=function(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Sx.find=function(n,t,e){var r,i,l,u,a,o,s,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new _x(g,c,f,h,d)),null==e?e=1/0:(c=n-e,f=t-e,h=n+e,d=t+e,e*=e);o=p.pop();)if(!(!(g=o.node)||(i=o.x0)>h||(l=o.y0)>d||(u=o.x1)<c||(a=o.y1)<f))if(g.length){var m=(i+u)/2,v=(l+a)/2;p.push(new _x(g[3],m,v,u,a),new _x(g[2],i,v,m,a),new _x(g[1],m,l,u,v),new _x(g[0],i,l,m,v)),(s=(t>=v)<<1|n>=m)&&(o=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=o)}else{var w=n-+this._x.call(null,g.data),y=t-+this._y.call(null,g.data),b=w*w+y*y;if(b<e){var x=Math.sqrt(e=b);c=n-x,f=t-x,h=n+x,d=t+x,r=g.data}}return r},Sx.remove=function(n){if(isNaN(l=+this._x.call(null,n))||isNaN(u=+this._y.call(null,n)))return this;var t,e,r,i,l,u,a,o,s,c,f,h,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((s=l>=(a=(p+m)/2))?p=a:m=a,(c=u>=(o=(g+v)/2))?g=o:v=o,t=d,!(d=d[f=c<<1|s]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(e=t,h=f)}for(;d.data!==n;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Sx.removeAll=function(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this},Sx.root=function(){return this._root},Sx.size=function(){var n=0;return this.visit((function(t){if(!t.length)do{++n}while(t=t.next)})),n},Sx.visit=function(n){var t,e,r,i,l,u,a=[],o=this._root;for(o&&a.push(new _x(o,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!n(o=t.node,r=t.x0,i=t.y0,l=t.x1,u=t.y1)&&o.length){var s=(r+l)/2,c=(i+u)/2;(e=o[3])&&a.push(new _x(e,s,c,l,u)),(e=o[2])&&a.push(new _x(e,r,c,s,u)),(e=o[1])&&a.push(new _x(e,s,i,l,c)),(e=o[0])&&a.push(new _x(e,r,i,s,c))}return this},Sx.visitAfter=function(n){var t,e=[],r=[];for(this._root&&e.push(new _x(this._root,this._x0,this._y0,this._x1,this._y1));t=e.pop();){var i=t.node;if(i.length){var l,u=t.x0,a=t.y0,o=t.x1,s=t.y1,c=(u+o)/2,f=(a+s)/2;(l=i[0])&&e.push(new _x(l,u,a,c,f)),(l=i[1])&&e.push(new _x(l,c,a,o,f)),(l=i[2])&&e.push(new _x(l,u,f,c,s)),(l=i[3])&&e.push(new _x(l,c,f,o,s))}r.push(t)}for(;t=r.pop();)n(t.node,t.x0,t.y0,t.x1,t.y1);return this},Sx.x=function(n){return arguments.length?(this._x=n,this):this._x},Sx.y=function(n){return arguments.length?(this._y=n,this):this._y};var Cx=function(n){return function(){return n}},Dx=function(n){return 1e-6*(n()-.5)};function Mx(n){return n.x+n.vx}function Fx(n){return n.y+n.vy}var Tx={value:()=>{}};function Nx(){for(var n,t=0,e=arguments.length,r={};t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Bx(r)}function Bx(n){this._=n}function zx(n,t){return n.trim().split(/^|\s+/).map((function(n){var e="",r=n.indexOf(".");if(r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}}))}function Px(n,t){for(var e,r=0,i=n.length;r<i;++r)if((e=n[r]).name===t)return e.value}function $x(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=Tx,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=e&&n.push({name:t,value:e}),n}Bx.prototype=Nx.prototype={constructor:Bx,on:function(n,t){var e,r=this._,i=zx(n+"",r),l=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<u;)if(e=(n=i[l]).type)r[e]=$x(r[e],n.name,t);else if(null==t)for(e in r)r[e]=$x(r[e],n.name,null);return this}for(;++l<u;)if((e=(n=i[l]).type)&&(e=Px(r[e],n.name)))return e},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Bx(n)},call:function(n,t){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),l=0;l<e;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(l=0,e=(r=this._[n]).length;l<e;++l)r[l].value.apply(t,i)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,l=r.length;i<l;++i)r[i].value.apply(t,e)}};var Rx,Ix,Lx=Nx,Ux=0,qx=0,Hx=0,Wx=0,Gx=0,Yx=0,Vx="object"==typeof performance&&performance.now?performance:Date,Jx="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Xx(){return Gx||(Jx(Kx),Gx=Vx.now()+Yx)}function Kx(){Gx=0}function Zx(){this._call=this._time=this._next=null}function Qx(n,t,e){var r=new Zx;return r.restart(n,t,e),r}function n_(){Gx=(Wx=Vx.now())+Yx,Ux=qx=0;try{!function(){Xx(),++Ux;for(var n,t=Rx;t;)(n=Gx-t._time)>=0&&t._call.call(null,n),t=t._next;--Ux}()}finally{Ux=0,function(){var n,t,e=Rx,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Rx=t);Ix=n,e_(r)}(),Gx=0}}function t_(){var n=Vx.now(),t=n-Wx;t>1e3&&(Yx-=t,Wx=n)}function e_(n){Ux||(qx&&(qx=clearTimeout(qx)),n-Gx>24?(n<1/0&&(qx=setTimeout(n_,n-Vx.now()-Yx)),Hx&&(Hx=clearInterval(Hx))):(Hx||(Wx=Vx.now(),Hx=setInterval(t_,1e3)),Ux=1,Jx(n_)))}Zx.prototype=Qx.prototype={constructor:Zx,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?Xx():+e)+(null==t?0:+t),this._next||Ix===this||(Ix?Ix._next=this:Rx=this,Ix=this),this._call=n,this._time=e,e_()},stop:function(){this._call&&(this._call=null,this._time=1/0,e_())}};function r_(n){return n.x}function i_(n){return n.y}var l_=Math.PI*(3-Math.sqrt(5));function u_(n){return n.index}function a_(n,t){var e=n.get(t);if(!e)throw new Error("node not found: "+t);return e}const o_={center:function(n,t){var e,r=1;function i(){var i,l,u=e.length,a=0,o=0;for(i=0;i<u;++i)a+=(l=e[i]).x,o+=l.y;for(a=(a/u-n)*r,o=(o/u-t)*r,i=0;i<u;++i)(l=e[i]).x-=a,l.y-=o}return null==n&&(n=0),null==t&&(t=0),i.initialize=function(n){e=n},i.x=function(t){return arguments.length?(n=+t,i):n},i.y=function(n){return arguments.length?(t=+n,i):t},i.strength=function(n){return arguments.length?(r=+n,i):r},i},collide:function(n){var t,e,r,i=1,l=1;function u(){for(var n,u,o,s,c,f,h,d=t.length,p=0;p<l;++p)for(u=Ox(t,Mx,Fx).visitAfter(a),n=0;n<d;++n)o=t[n],f=e[o.index],h=f*f,s=o.x+o.vx,c=o.y+o.vy,u.visit(g);function g(n,t,e,l,u){var a=n.data,d=n.r,p=f+d;if(!a)return t>s+p||l<s-p||e>c+p||u<c-p;if(a.index>o.index){var g=s-a.x-a.vx,m=c-a.y-a.vy,v=g*g+m*m;v<p*p&&(0===g&&(v+=(g=Dx(r))*g),0===m&&(v+=(m=Dx(r))*m),v=(p-(v=Math.sqrt(v)))/v*i,o.vx+=(g*=v)*(p=(d*=d)/(h+d)),o.vy+=(m*=v)*p,a.vx-=g*(p=1-p),a.vy-=m*p)}}}function a(n){if(n.data)return n.r=e[n.data.index];for(var t=n.r=0;t<4;++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function o(){if(t){var r,i,l=t.length;for(e=new Array(l),r=0;r<l;++r)i=t[r],e[i.index]=+n(i,r,t)}}return"function"!=typeof n&&(n=Cx(null==n?1:+n)),u.initialize=function(n,e){t=n,r=e,o()},u.iterations=function(n){return arguments.length?(l=+n,u):l},u.strength=function(n){return arguments.length?(i=+n,u):i},u.radius=function(t){return arguments.length?(n="function"==typeof t?t:Cx(+t),o(),u):n},u},nbody:function(){var n,t,e,r,i,l=Cx(-30),u=1,a=1/0,o=.81;function s(e){var i,l=n.length,u=Ox(n,r_,i_).visitAfter(f);for(r=e,i=0;i<l;++i)t=n[i],u.visit(h)}function c(){if(n){var t,e,r=n.length;for(i=new Array(r),t=0;t<r;++t)e=n[t],i[e.index]=+l(e,t,n)}}function f(n){var t,e,r,l,u,a=0,o=0;if(n.length){for(r=l=u=0;u<4;++u)(t=n[u])&&(e=Math.abs(t.value))&&(a+=t.value,o+=e,r+=e*t.x,l+=e*t.y);n.x=r/o,n.y=l/o}else{(t=n).x=t.data.x,t.y=t.data.y;do{a+=i[t.data.index]}while(t=t.next)}n.value=a}function h(n,l,s,c){if(!n.value)return!0;var f=n.x-t.x,h=n.y-t.y,d=c-l,p=f*f+h*h;if(d*d/o<p)return p<a&&(0===f&&(p+=(f=Dx(e))*f),0===h&&(p+=(h=Dx(e))*h),p<u&&(p=Math.sqrt(u*p)),t.vx+=f*n.value*r/p,t.vy+=h*n.value*r/p),!0;if(!(n.length||p>=a)){(n.data!==t||n.next)&&(0===f&&(p+=(f=Dx(e))*f),0===h&&(p+=(h=Dx(e))*h),p<u&&(p=Math.sqrt(u*p)));do{n.data!==t&&(d=i[n.data.index]*r/p,t.vx+=f*d,t.vy+=h*d)}while(n=n.next)}}return s.initialize=function(t,r){n=t,e=r,c()},s.strength=function(n){return arguments.length?(l="function"==typeof n?n:Cx(+n),c(),s):l},s.distanceMin=function(n){return arguments.length?(u=n*n,s):Math.sqrt(u)},s.distanceMax=function(n){return arguments.length?(a=n*n,s):Math.sqrt(a)},s.theta=function(n){return arguments.length?(o=n*n,s):Math.sqrt(o)},s},link:function(n){var t,e,r,i,l,u,a=u_,o=function(n){return 1/Math.min(i[n.source.index],i[n.target.index])},s=Cx(30),c=1;function f(r){for(var i=0,a=n.length;i<c;++i)for(var o,s,f,h,d,p,g,m=0;m<a;++m)s=(o=n[m]).source,h=(f=o.target).x+f.vx-s.x-s.vx||Dx(u),d=f.y+f.vy-s.y-s.vy||Dx(u),h*=p=((p=Math.sqrt(h*h+d*d))-e[m])/p*r*t[m],d*=p,f.vx-=h*(g=l[m]),f.vy-=d*g,s.vx+=h*(g=1-g),s.vy+=d*g}function h(){if(r){var u,o,s=r.length,c=n.length,f=new Map(r.map((n,t)=>[a(n,t,r),n]));for(u=0,i=new Array(s);u<c;++u)(o=n[u]).index=u,"object"!=typeof o.source&&(o.source=a_(f,o.source)),"object"!=typeof o.target&&(o.target=a_(f,o.target)),i[o.source.index]=(i[o.source.index]||0)+1,i[o.target.index]=(i[o.target.index]||0)+1;for(u=0,l=new Array(c);u<c;++u)o=n[u],l[u]=i[o.source.index]/(i[o.source.index]+i[o.target.index]);t=new Array(c),d(),e=new Array(c),p()}}function d(){if(r)for(var e=0,i=n.length;e<i;++e)t[e]=+o(n[e],e,n)}function p(){if(r)for(var t=0,i=n.length;t<i;++t)e[t]=+s(n[t],t,n)}return null==n&&(n=[]),f.initialize=function(n,t){r=n,u=t,h()},f.links=function(t){return arguments.length?(n=t,h(),f):n},f.id=function(n){return arguments.length?(a=n,f):a},f.iterations=function(n){return arguments.length?(c=+n,f):c},f.strength=function(n){return arguments.length?(o="function"==typeof n?n:Cx(+n),d(),f):o},f.distance=function(n){return arguments.length?(s="function"==typeof n?n:Cx(+n),p(),f):s},f},x:function(n){var t,e,r,i=Cx(.1);function l(n){for(var i,l=0,u=t.length;l<u;++l)(i=t[l]).vx+=(r[l]-i.x)*e[l]*n}function u(){if(t){var l,u=t.length;for(e=new Array(u),r=new Array(u),l=0;l<u;++l)e[l]=isNaN(r[l]=+n(t[l],l,t))?0:+i(t[l],l,t)}}return"function"!=typeof n&&(n=Cx(null==n?0:+n)),l.initialize=function(n){t=n,u()},l.strength=function(n){return arguments.length?(i="function"==typeof n?n:Cx(+n),u(),l):i},l.x=function(t){return arguments.length?(n="function"==typeof t?t:Cx(+t),u(),l):n},l},y:function(n){var t,e,r,i=Cx(.1);function l(n){for(var i,l=0,u=t.length;l<u;++l)(i=t[l]).vy+=(r[l]-i.y)*e[l]*n}function u(){if(t){var l,u=t.length;for(e=new Array(u),r=new Array(u),l=0;l<u;++l)e[l]=isNaN(r[l]=+n(t[l],l,t))?0:+i(t[l],l,t)}}return"function"!=typeof n&&(n=Cx(null==n?0:+n)),l.initialize=function(n){t=n,u()},l.strength=function(n){return arguments.length?(i="function"==typeof n?n:Cx(+n),u(),l):i},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Cx(+t),u(),l):n},l}},s_=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],c_=["static","iterations"],f_=["x","y","vx","vy"];function h_(n){Yi.call(this,null,n)}function d_(n,t,e,r){var i,l,u,a,o=Object(g.i)(t.forces);for(i=0,l=s_.length;i<l;++i)"forces"!==(u=s_[i])&&t.modified(u)&&n[u](t[u]);for(i=0,l=o.length;i<l;++i)a="forces"+i,(u=e||t.modified("forces",i)?g_(o[i]):r&&p_(o[i],r)?n.force(a):null)&&n.force(a,u);for(l=n.numForces||0;i<l;++i)n.force("forces"+i,null);return n.numForces=o.length,n}function p_(n,t){var e,r;for(e in n)if(Object(g.E)(r=n[e])&&t.modified(Object(g.g)(r)))return 1;return 0}function g_(n){var t,e;for(e in Object(g.w)(o_,n.force)||Object(g.o)("Unrecognized force: "+n.force),t=o_[n.force](),n)Object(g.E)(t[e])&&m_(t[e],n[e],n);return t}function m_(n,t,e){n(Object(g.E)(t)?n=>t(n,e):t)}function v_(n){var t=0,e=n.children,r=e&&e.length;if(r)for(;--r>=0;)t+=e[r].value;else t=1;n.value=t}h_.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:f_}]},Object(g.z)(h_,Yi,{transform(n,t){var e,r,i=this.value,l=t.changed(t.ADD_REM),u=n.modified(s_),a=n.iterations||300;if(i?(l&&(t.modifies("index"),i.nodes(t.source)),(u||t.changed(t.MOD))&&d_(i,n,0,t)):(this.value=i=function(n,t){const e=function(n){var t,e=1,r=.001,i=1-Math.pow(r,1/300),l=0,u=.6,a=new Map,o=Qx(f),s=Lx("tick","end"),c=function(){let n=1;return()=>(n=(1664525*n+1013904223)%4294967296)/4294967296}();function f(){h(),s.call("tick",t),e<r&&(o.stop(),s.call("end",t))}function h(r){var o,s,c=n.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(l-e)*i,a.forEach((function(n){n(e)})),o=0;o<c;++o)null==(s=n[o]).fx?s.x+=s.vx*=u:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=u:(s.y=s.fy,s.vy=0);return t}function d(){for(var t,e=0,r=n.length;e<r;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+e),l=e*l_;t.x=i*Math.cos(l),t.y=i*Math.sin(l)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(n,c),t}return null==n&&(n=[]),d(),t={tick:h,restart:function(){return o.restart(f),t},stop:function(){return o.stop(),t},nodes:function(e){return arguments.length?(n=e,d(),a.forEach(p),t):n},alpha:function(n){return arguments.length?(e=+n,t):e},alphaMin:function(n){return arguments.length?(r=+n,t):r},alphaDecay:function(n){return arguments.length?(i=+n,t):+i},alphaTarget:function(n){return arguments.length?(l=+n,t):l},velocityDecay:function(n){return arguments.length?(u=1-n,t):1-u},randomSource:function(n){return arguments.length?(c=n,a.forEach(p),t):c},force:function(n,e){return arguments.length>1?(null==e?a.delete(n):a.set(n,p(e)),t):a.get(n)},find:function(t,e,r){var i,l,u,a,o,s=0,c=n.length;for(null==r?r=1/0:r*=r,s=0;s<c;++s)(u=(i=t-(a=n[s]).x)*i+(l=e-a.y)*l)<r&&(o=a,r=u);return o},on:function(n,e){return arguments.length>1?(s.on(n,e),t):s.on(n)}}}(n),r=e.stop,i=e.restart;let l=!1;return e.stopped=()=>l,e.restart=()=>(l=!1,i()),e.stop=()=>(l=!0,r()),d_(e,t,!0).on("end",()=>l=!0)}(t.source,n),i.on("tick",(e=t.dataflow,r=this,()=>e.touch(r).run())),n.static||(l=!0,i.tick()),t.modifies("index")),u||l||n.modified(c_)||t.changed()&&n.restart)if(i.alpha(Math.max(i.alpha(),n.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/a)),n.static)for(i.stop();--a>=0;)i.tick();else if(i.stopped()&&i.restart(),!l)return t.StopPropagation;return this.finish(n,t)},finish(n,t){const e=t.dataflow;for(let n,t=this._argops,a=0,o=t.length;a<o;++a)if(n=t[a],"forces"===n.name&&"link"===n.op._argval.force)for(var r,i=n.op._argops,l=0,u=i.length;l<u;++l)if("links"===i[l].name&&(r=i[l].op.source)){e.pulse(r,e.changeset().reflow());break}return t.reflow(n.modified()).modifies(f_)}});function w_(n,t){n instanceof Map?(n=[void 0,n],void 0===t&&(t=b_)):void 0===t&&(t=y_);for(var e,r,i,l,u,a=new k_(n),o=[a];e=o.pop();)if((i=t(e.data))&&(u=(i=Array.from(i)).length))for(e.children=i,l=u-1;l>=0;--l)o.push(r=i[l]=new k_(i[l])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(__)}function y_(n){return n.children}function b_(n){return Array.isArray(n)?n[1]:null}function x_(n){void 0!==n.data.value&&(n.value=n.data.value),n.data=n.data.data}function __(n){var t=0;do{n.height=t}while((n=n.parent)&&n.height<++t)}function k_(n){this.data=n,this.depth=this.height=0,this.parent=null}k_.prototype=w_.prototype={constructor:k_,count:function(){return this.eachAfter(v_)},each:function(n,t){let e=-1;for(const r of this)n.call(t,r,++e,this);return this},eachAfter:function(n,t){for(var e,r,i,l=this,u=[l],a=[],o=-1;l=u.pop();)if(a.push(l),e=l.children)for(r=0,i=e.length;r<i;++r)u.push(e[r]);for(;l=a.pop();)n.call(t,l,++o,this);return this},eachBefore:function(n,t){for(var e,r,i=this,l=[i],u=-1;i=l.pop();)if(n.call(t,i,++u,this),e=i.children)for(r=e.length-1;r>=0;--r)l.push(e[r]);return this},find:function(n,t){let e=-1;for(const r of this)if(n.call(t,r,++e,this))return r},sum:function(n){return this.eachAfter((function(t){for(var e=+n(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)e+=r[i].value;t.value=e}))},sort:function(n){return this.eachBefore((function(t){t.children&&t.children.sort(n)}))},path:function(n){for(var t=this,e=function(n,t){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),i=null;n=e.pop(),t=r.pop();for(;n===t;)i=n,n=e.pop(),t=r.pop();return i}(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var i=r.length;n!==e;)r.splice(i,0,n),n=n.parent;return r},ancestors:function(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t},descendants:function(){return Array.from(this)},leaves:function(){var n=[];return this.eachBefore((function(t){t.children||n.push(t)})),n},links:function(){var n=this,t=[];return n.each((function(e){e!==n&&t.push({source:e.parent,target:e})})),t},copy:function(){return w_(this).eachBefore(x_)},[Symbol.iterator]:function*(){var n,t,e,r,i=this,l=[i];do{for(n=l.reverse(),l=[];i=n.pop();)if(yield i,t=i.children)for(e=0,r=t.length;e<r;++e)l.push(t[e])}while(l.length)}};var j_=function(n){for(var t,e,r=0,i=(n=function(n){for(var t,e,r=n.length;r;)e=Math.random()*r--|0,t=n[r],n[r]=n[e],n[e]=t;return n}(Array.from(n))).length,l=[];r<i;)t=n[r],e&&E_(e,t)?++r:(e=C_(l=O_(l,t)),r=0);return e};function O_(n,t){var e,r;if(S_(t,n))return[t];for(e=0;e<n.length;++e)if(A_(t,n[e])&&S_(D_(n[e],t),n))return[n[e],t];for(e=0;e<n.length-1;++e)for(r=e+1;r<n.length;++r)if(A_(D_(n[e],n[r]),t)&&A_(D_(n[e],t),n[r])&&A_(D_(n[r],t),n[e])&&S_(M_(n[e],n[r],t),n))return[n[e],n[r],t];throw new Error}function A_(n,t){var e=n.r-t.r,r=t.x-n.x,i=t.y-n.y;return e<0||e*e<r*r+i*i}function E_(n,t){var e=n.r-t.r+1e-9*Math.max(n.r,t.r,1),r=t.x-n.x,i=t.y-n.y;return e>0&&e*e>r*r+i*i}function S_(n,t){for(var e=0;e<t.length;++e)if(!E_(n,t[e]))return!1;return!0}function C_(n){switch(n.length){case 1:return{x:(t=n[0]).x,y:t.y,r:t.r};case 2:return D_(n[0],n[1]);case 3:return M_(n[0],n[1],n[2])}var t}function D_(n,t){var e=n.x,r=n.y,i=n.r,l=t.x,u=t.y,a=t.r,o=l-e,s=u-r,c=a-i,f=Math.sqrt(o*o+s*s);return{x:(e+l+o/f*c)/2,y:(r+u+s/f*c)/2,r:(f+i+a)/2}}function M_(n,t,e){var r=n.x,i=n.y,l=n.r,u=t.x,a=t.y,o=t.r,s=e.x,c=e.y,f=e.r,h=r-u,d=r-s,p=i-a,g=i-c,m=o-l,v=f-l,w=r*r+i*i-l*l,y=w-u*u-a*a+o*o,b=w-s*s-c*c+f*f,x=d*p-h*g,_=(p*b-g*y)/(2*x)-r,k=(g*m-p*v)/x,j=(d*y-h*b)/(2*x)-i,O=(h*v-d*m)/x,A=k*k+O*O-1,E=2*(l+_*k+j*O),S=_*_+j*j-l*l,C=-(A?(E+Math.sqrt(E*E-4*A*S))/(2*A):S/E);return{x:r+_+k*C,y:i+j+O*C,r:C}}function F_(n,t,e){var r,i,l,u,a=n.x-t.x,o=n.y-t.y,s=a*a+o*o;s?(i=t.r+e.r,i*=i,u=n.r+e.r,i>(u*=u)?(r=(s+u-i)/(2*s),l=Math.sqrt(Math.max(0,u/s-r*r)),e.x=n.x-r*a-l*o,e.y=n.y-r*o+l*a):(r=(s+i-u)/(2*s),l=Math.sqrt(Math.max(0,i/s-r*r)),e.x=t.x+r*a-l*o,e.y=t.y+r*o+l*a)):(e.x=t.x+e.r,e.y=t.y)}function T_(n,t){var e=n.r+t.r-1e-6,r=t.x-n.x,i=t.y-n.y;return e>0&&e*e>r*r+i*i}function N_(n){var t=n._,e=n.next._,r=t.r+e.r,i=(t.x*e.r+e.x*t.r)/r,l=(t.y*e.r+e.y*t.r)/r;return i*i+l*l}function B_(n){this._=n,this.next=null,this.previous=null}function z_(n){if(!(l=(t=n,n="object"==typeof t&&"length"in t?t:Array.from(t)).length))return 0;var t,e,r,i,l,u,a,o,s,c,f,h;if((e=n[0]).x=0,e.y=0,!(l>1))return e.r;if(r=n[1],e.x=-r.r,r.x=e.r,r.y=0,!(l>2))return e.r+r.r;F_(r,e,i=n[2]),e=new B_(e),r=new B_(r),i=new B_(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;n:for(o=3;o<l;++o){F_(e._,r._,i=n[o]),i=new B_(i),s=r.next,c=e.previous,f=r._.r,h=e._.r;do{if(f<=h){if(T_(s._,i._)){r=s,e.next=r,r.previous=e,--o;continue n}f+=s._.r,s=s.next}else{if(T_(c._,i._)){(e=c).next=r,r.previous=e,--o;continue n}h+=c._.r,c=c.previous}}while(s!==c.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,u=N_(e);(i=i.next)!==r;)(a=N_(i))<u&&(e=i,u=a);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=j_(e),o=0;o<l;++o)(e=n[o]).x-=i.x,e.y-=i.y;return i.r}function P_(n){return null==n?null:$_(n)}function $_(n){if("function"!=typeof n)throw new Error;return n}function R_(){return 0}var I_=function(n){return function(){return n}};function L_(n){return Math.sqrt(n.value)}function U_(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function q_(n,t){return function(e){if(r=e.children){var r,i,l,u=r.length,a=n(e)*t||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(l=z_(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=l+a}}}function H_(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}var W_=function(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)},G_=function(n,t,e,r,i){for(var l,u=n.children,a=-1,o=u.length,s=n.value&&(r-t)/n.value;++a<o;)(l=u[a]).y0=e,l.y1=i,l.x0=t,l.x1=t+=l.value*s},Y_={depth:-1},V_={};function J_(n){return n.id}function X_(n){return n.parentId}var K_=function(){var n=J_,t=X_;function e(e){var r,i,l,u,a,o,s,c=Array.from(e),f=c.length,h=new Map;for(i=0;i<f;++i)r=c[i],a=c[i]=new k_(r),null!=(o=n(r,i,e))&&(o+="")&&(s=a.id=o,h.set(s,h.has(s)?V_:a)),null!=(o=t(r,i,e))&&(o+="")&&(a.parent=o);for(i=0;i<f;++i)if(o=(a=c[i]).parent){if(!(u=h.get(o)))throw new Error("missing: "+o);if(u===V_)throw new Error("ambiguous: "+o);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(l)throw new Error("multiple roots");l=a}if(!l)throw new Error("no root");if(l.parent=Y_,l.eachBefore((function(n){n.depth=n.parent.depth+1,--f})).eachBefore(__),l.parent=null,f>0)throw new Error("cycle");return l}return e.id=function(t){return arguments.length?(n=$_(t),e):n},e.parentId=function(n){return arguments.length?(t=$_(n),e):t},e};function Z_(n,t){return n.parent===t.parent?1:2}function Q_(n){var t=n.children;return t?t[0]:n.t}function nk(n){var t=n.children;return t?t[t.length-1]:n.t}function tk(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function ek(n,t,e){return n.a.parent===t.parent?n.a:e}function rk(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}rk.prototype=Object.create(k_.prototype);function ik(n,t){return n.parent===t.parent?1:2}function lk(n,t){return n+t.x}function uk(n,t){return Math.max(n,t.y)}var ak=function(n,t,e,r,i){for(var l,u=n.children,a=-1,o=u.length,s=n.value&&(i-e)/n.value;++a<o;)(l=u[a]).x0=t,l.x1=r,l.y0=e,l.y1=e+=l.value*s},ok=(1+Math.sqrt(5))/2;function sk(n,t,e,r,i,l){for(var u,a,o,s,c,f,h,d,p,g,m,v=[],w=t.children,y=0,b=0,x=w.length,_=t.value;y<x;){o=i-e,s=l-r;do{c=w[b++].value}while(!c&&b<x);for(f=h=c,m=c*c*(g=Math.max(s/o,o/s)/(_*n)),p=Math.max(h/m,m/f);b<x;++b){if(c+=a=w[b].value,a<f&&(f=a),a>h&&(h=a),m=c*c*g,(d=Math.max(h/m,m/f))>p){c-=a;break}p=d}v.push(u={value:c,dice:o<s,children:w.slice(y,b)}),u.dice?G_(u,e,r,i,_?r+=s*c/_:l):ak(u,e,r,_?e+=o*c/_:i,l),_-=c,y=b}return v}var ck=function n(t){function e(n,e,r,i,l){sk(t,n,e,r,i,l)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(ok),fk=function n(t){function e(n,e,r,i,l){if((u=n._squarify)&&u.ratio===t)for(var u,a,o,s,c,f=-1,h=u.length,d=n.value;++f<h;){for(o=(a=u[f]).children,s=a.value=0,c=o.length;s<c;++s)a.value+=o[s].value;a.dice?G_(a,e,r,i,d?r+=(l-r)*a.value/d:l):ak(a,e,r,d?e+=(i-e)*a.value/d:i,l),d-=a.value}else n._squarify=u=sk(t,n,e,r,i,l),u.ratio=t}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(ok);function hk(n,t,e){const r={};return n.each(n=>{const i=n.data;e(i)&&(r[t(i)]=n)}),n.lookup=r,n}function dk(n){Yi.call(this,null,n)}dk.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const pk=n=>n.values;function gk(){const n=[],t={entries:t=>function t(e,r){if(++r>n.length)return e;const i=[];for(const n in e)i.push({key:n,values:t(e[n],r)});return i}(function t(e,r){if(r>=n.length)return e;const i=e.length,l=n[r++],u={},a={};let o,s,c,f=-1;for(;++f<i;)o=l(s=e[f])+"",(c=u[o])?c.push(s):u[o]=[s];for(o in u)a[o]=t(u[o],r);return a}(t,0),0),key:e=>(n.push(e),t)};return t}function mk(n){Yi.call(this,null,n)}Object(g.z)(dk,Yi,{transform(n,t){t.source||Object(g.o)("Nest transform requires an upstream data source.");var e=n.generate,r=n.modified(),i=t.clone(),l=this.value;return(!l||r||t.changed())&&(l&&l.each(n=>{n.children&&pi(n.data)&&i.rem.push(n.data)}),this.value=l=w_({values:Object(g.i)(n.keys).reduce((n,t)=>(n.key(t),n),gk()).entries(i.source)},pk),e&&l.each(n=>{n.children&&(n=vi(n.data),i.add.push(n),i.source.push(n))}),hk(l,gi,gi)),i.source.root=l,i}});const vk=(n,t)=>n.parent===t.parent?1:2;Object(g.z)(mk,Yi,{transform(n,t){t.source&&t.source.root||Object(g.o)(this.constructor.name+" transform requires a backing tree data source.");const e=this.layout(n.method),r=this.fields,i=t.source.root,l=n.as||r;n.field?i.sum(n.field):i.count(),n.sort&&i.sort(xi(n.sort,n=>n.data)),function(n,t,e){for(let r,i=0,l=t.length;i<l;++i)r=t[i],r in e&&n[r](e[r])}(e,this.params,n),e.separation&&e.separation(!1!==n.separation?vk:g.Q);try{this.value=e(i)}catch(n){Object(g.o)(n)}return i.each(n=>function(n,t,e){const r=n.data,i=t.length-1;for(let l=0;l<i;++l)r[e[l]]=n[t[l]];r[e[i]]=n.children?n.children.length:0}(n,r,l)),t.reflow(n.modified()).modifies(l).modifies("leaf")}});const wk=["x","y","r","depth","children"];function yk(n){mk.call(this,n)}yk.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:wk.length,default:wk}]},Object(g.z)(yk,mk,{layout:function(){var n=null,t=1,e=1,r=R_;function i(i){return i.x=t/2,i.y=e/2,n?i.eachBefore(U_(n)).eachAfter(q_(r,.5)).eachBefore(H_(1)):i.eachBefore(U_(L_)).eachAfter(q_(R_,1)).eachAfter(q_(r,i.r/Math.min(t,e))).eachBefore(H_(Math.min(t,e)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(n=P_(t),i):n},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(n){return arguments.length?(r="function"==typeof n?n:I_(+n),i):r},i},params:["radius","size","padding"],fields:wk});const bk=["x0","y0","x1","y1","depth","children"];function xk(n){mk.call(this,n)}function _k(n){Yi.call(this,null,n)}xk.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:bk.length,default:bk}]},Object(g.z)(xk,mk,{layout:function(){var n=1,t=1,e=0,r=!1;function i(i){var l=i.height+1;return i.x0=i.y0=e,i.x1=n,i.y1=t/l,i.eachBefore(function(n,t){return function(r){r.children&&G_(r,r.x0,n*(r.depth+1)/t,r.x1,n*(r.depth+2)/t);var i=r.x0,l=r.y0,u=r.x1-e,a=r.y1-e;u<i&&(i=u=(i+u)/2),a<l&&(l=a=(l+a)/2),r.x0=i,r.y0=l,r.x1=u,r.y1=a}}(t,l)),r&&i.eachBefore(W_),i}return i.round=function(n){return arguments.length?(r=!!n,i):r},i.size=function(e){return arguments.length?(n=+e[0],t=+e[1],i):[n,t]},i.padding=function(n){return arguments.length?(e=+n,i):e},i},params:["size","round","padding"],fields:bk}),_k.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(g.z)(_k,Yi,{transform(n,t){t.source||Object(g.o)("Stratify transform requires an upstream data source.");let e=this.value;const r=n.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),l=!e||r||t.changed(t.ADD_REM)||t.modified(n.key.fields)||t.modified(n.parentKey.fields);return i.source=i.source.slice(),l&&(e=i.source.length?hk(K_().id(n.key).parentId(n.parentKey)(i.source),n.key,g.ib):hk(K_()([{}]),n.key,n.key)),i.source.root=this.value=e,i}});const kk={tidy:function(){var n=Z_,t=1,e=1,r=null;function i(i){var o=function(n){for(var t,e,r,i,l,u=new rk(n,0),a=[u];t=a.pop();)if(r=t._.children)for(t.children=new Array(l=r.length),i=l-1;i>=0;--i)a.push(e=t.children[i]=new rk(r[i],i)),e.parent=t;return(u.parent=new rk(null,0)).children=[u],u}(i);if(o.eachAfter(l),o.parent.m=-o.z,o.eachBefore(u),r)i.eachBefore(a);else{var s=i,c=i,f=i;i.eachBefore((function(n){n.x<s.x&&(s=n),n.x>c.x&&(c=n),n.depth>f.depth&&(f=n)}));var h=s===c?1:n(s,c)/2,d=h-s.x,p=t/(c.x+h+d),g=e/(f.depth||1);i.eachBefore((function(n){n.x=(n.x+d)*p,n.y=n.depth*g}))}return i}function l(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e){!function(n){for(var t,e=0,r=0,i=n.children,l=i.length;--l>=0;)(t=i[l]).z+=e,t.m+=e,e+=t.s+(r+=t.c)}(t);var l=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-l):t.z=l}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,l=t,u=t,a=e,o=l.parent.children[0],s=l.m,c=u.m,f=a.m,h=o.m;a=nk(a),l=Q_(l),a&&l;)o=Q_(o),(u=nk(u)).a=t,(i=a.z+f-l.z-s+n(a._,l._))>0&&(tk(ek(a,t,r),t,i),s+=i,c+=i),f+=a.m,s+=l.m,h+=o.m,c+=u.m;a&&!nk(u)&&(u.t=a,u.m+=f-c),l&&!Q_(o)&&(o.t=l,o.m+=s-h,r=t)}return r}(t,i,t.parent.A||r[0])}function u(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function a(n){n.x*=t,n.y=n.depth*e}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],i):r?null:[t,e]},i.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],i):r?[t,e]:null},i},cluster:function(){var n=ik,t=1,e=1,r=!1;function i(i){var l,u=0;i.eachAfter((function(t){var e=t.children;e?(t.x=function(n){return n.reduce(lk,0)/n.length}(e),t.y=function(n){return 1+n.reduce(uk,0)}(e)):(t.x=l?u+=n(t,l):0,t.y=0,l=t)}));var a=function(n){for(var t;t=n.children;)n=t[0];return n}(i),o=function(n){for(var t;t=n.children;)n=t[t.length-1];return n}(i),s=a.x-n(a,o)/2,c=o.x+n(o,a)/2;return i.eachAfter(r?function(n){n.x=(n.x-i.x)*t,n.y=(i.y-n.y)*e}:function(n){n.x=(n.x-s)/(c-s)*t,n.y=(1-(i.y?n.y/i.y:1))*e})}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],i):r?null:[t,e]},i.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],i):r?[t,e]:null},i}},jk=["x","y","depth","children"];function Ok(n){mk.call(this,n)}function Ak(n){Yi.call(this,[],n)}Ok.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:jk.length,default:jk}]},Object(g.z)(Ok,mk,{layout(n){const t=n||"tidy";if(Object(g.w)(kk,t))return kk[t]();Object(g.o)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:jk}),Ak.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(g.z)(Ak,Yi,{transform(n,t){const e=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),l={};return r||Object(g.o)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=e,t.visit(t.SOURCE,n=>l[gi(n)]=1),r.each(n=>{const t=n.data,e=n.parent&&n.parent.data;e&&l[gi(t)]&&l[gi(e)]&&i.add.push(vi({source:e,target:t}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,n=>l[gi(n)]=1),e.forEach(n=>{(l[gi(n.source)]||l[gi(n.target)])&&i.mod.push(n)})),i}});const Ek={binary:function(n,t,e,r,i){var l,u,a=n.children,o=a.length,s=new Array(o+1);for(s[0]=u=l=0;l<o;++l)s[l+1]=u+=a[l].value;!function n(t,e,r,i,l,u,o){if(t>=e-1){var c=a[t];return c.x0=i,c.y0=l,c.x1=u,void(c.y1=o)}var f=s[t],h=r/2+f,d=t+1,p=e-1;for(;d<p;){var g=d+p>>>1;s[g]<h?d=g+1:p=g}h-s[d-1]<s[d]-h&&t+1<d&&--d;var m=s[d]-f,v=r-m;if(u-i>o-l){var w=r?(i*v+u*m)/r:u;n(t,d,m,i,l,w,o),n(d,e,v,w,l,u,o)}else{var y=r?(l*v+o*m)/r:o;n(t,d,m,i,l,u,y),n(d,e,v,i,y,u,o)}}(0,o,n.value,t,e,r,i)},dice:G_,slice:ak,slicedice:function(n,t,e,r,i){(1&n.depth?ak:G_)(n,t,e,r,i)},squarify:ck,resquarify:fk},Sk=["x0","y0","x1","y1","depth","children"];function Ck(n){mk.call(this,n)}Ck.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Sk.length,default:Sk}]},Object(g.z)(Ck,mk,{layout(){const n=function(){var n=ck,t=!1,e=1,r=1,i=[0],l=R_,u=R_,a=R_,o=R_,s=R_;function c(n){return n.x0=n.y0=0,n.x1=e,n.y1=r,n.eachBefore(f),i=[0],t&&n.eachBefore(W_),n}function f(t){var e=i[t.depth],r=t.x0+e,c=t.y0+e,f=t.x1-e,h=t.y1-e;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=h,t.children&&(e=i[t.depth+1]=l(t)/2,r+=s(t)-e,c+=u(t)-e,(f-=a(t)-e)<r&&(r=f=(r+f)/2),(h-=o(t)-e)<c&&(c=h=(c+h)/2),n(t,r,c,f,h))}return c.round=function(n){return arguments.length?(t=!!n,c):t},c.size=function(n){return arguments.length?(e=+n[0],r=+n[1],c):[e,r]},c.tile=function(t){return arguments.length?(n=$_(t),c):n},c.padding=function(n){return arguments.length?c.paddingInner(n).paddingOuter(n):c.paddingInner()},c.paddingInner=function(n){return arguments.length?(l="function"==typeof n?n:I_(+n),c):l},c.paddingOuter=function(n){return arguments.length?c.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):c.paddingTop()},c.paddingTop=function(n){return arguments.length?(u="function"==typeof n?n:I_(+n),c):u},c.paddingRight=function(n){return arguments.length?(a="function"==typeof n?n:I_(+n),c):a},c.paddingBottom=function(n){return arguments.length?(o="function"==typeof n?n:I_(+n),c):o},c.paddingLeft=function(n){return arguments.length?(s="function"==typeof n?n:I_(+n),c):s},c}();return n.ratio=t=>{const e=n.tile();e.ratio&&n.tile(e.ratio(t))},n.method=t=>{Object(g.w)(Ek,t)?n.tile(Ek[t]):Object(g.o)("Unrecognized Treemap layout method: "+t)},n},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Sk});function Dk(n,t,e,r){const i=n.width,l=n.height,u=e||r,a=Po(i,l).getContext("2d");t.forEach(n=>function n(t,e,r){if(!e.length)return;const i=e[0].mark.marktype;"group"===i?e.forEach(e=>{e.items.forEach(e=>n(t,e.items,r))}):lg[i].draw(t,{items:r?e.map(Mk):e})}(a,n,u));const o=new Uint32Array(a.getImageData(0,0,i,l).data.buffer),s=n.bitmap(),c=u&&n.bitmap();let f,h,d,p,g;for(h=0;h<l;++h)for(f=0;f<i;++f)g=4278190080&o[h*i+f],g&&(d=n(f),p=n(h),r||s.set(d,p),u&&268435456^g&&c.set(d,p));return[s,c]}function Mk(n){const t=yi(n,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}const Fk=new Uint32Array(33),Tk=new Uint32Array(33);Tk[0]=0,Fk[0]=~Tk[0];for(let n=1;n<=32;++n)Tk[n]=Tk[n-1]<<1|1,Fk[n]=~Tk[n];function Nk(n,t,e){const r=Math.max(1,Math.sqrt(n*t/1e6)),i=~~((n+2*e+r)/r),l=~~((t+2*e+r)/r),u=n=>~~((n+e)/r);return u.invert=n=>n*r-e,u.bitmap=()=>function(n,t){const e=new Uint32Array(~~((n*t+32)/32));function r(n,t){e[n]|=t}function i(n,t){e[n]&=t}return{array:e,get:(t,r)=>{const i=r*n+t;return e[i>>>5]&1<<(31&i)},set:(t,e)=>{const i=e*n+t;r(i>>>5,1<<(31&i))},clear:(t,e)=>{const r=e*n+t;i(r>>>5,~(1<<(31&r)))},getRange:(t,r,i,l)=>{let u,a,o,s,c=l;for(;c>=r;--c)if(u=c*n+t,a=c*n+i,o=u>>>5,s=a>>>5,o===s){if(e[o]&Fk[31&u]&Tk[1+(31&a)])return!0}else{if(e[o]&Fk[31&u])return!0;if(e[s]&Tk[1+(31&a)])return!0;for(let n=o+1;n<s;++n)if(e[n])return!0}return!1},setRange:(t,e,i,l)=>{let u,a,o,s,c;for(;e<=l;++e)if(u=e*n+t,a=e*n+i,o=u>>>5,s=a>>>5,o===s)r(o,Fk[31&u]&Tk[1+(31&a)]);else for(r(o,Fk[31&u]),r(s,Tk[1+(31&a)]),c=o+1;c<s;++c)r(c,4294967295)},clearRange:(t,e,r,l)=>{let u,a,o,s,c;for(;e<=l;++e)if(u=e*n+t,a=e*n+r,o=u>>>5,s=a>>>5,o===s)i(o,Tk[31&u]|Fk[1+(31&a)]);else for(i(o,Tk[31&u]),i(s,Fk[1+(31&a)]),c=o+1;c<s;++c)i(c,0)},outOfBounds:(e,r,i,l)=>e<0||r<0||l>=t||i>=n}}(i,l),u.ratio=r,u.padding=e,u.width=n,u.height=t,u}function Bk(n,t,e,r,i,l){let u=e/2;return n-u<0||n+u>i||t-(u=r/2)<0||t+u>l}function zk(n,t,e,r,i,l,u,a){const o=i*l/(2*r),s=n(t-o),c=n(t+o),f=n(e-(l/=2)),h=n(e+l);return u.outOfBounds(s,f,c,h)||u.getRange(s,f,c,h)||a&&a.getRange(s,f,c,h)}const Pk=[-1,-1,1,1],$k=[-1,1,-1,1];const Rk=["right","center","left"],Ik=["bottom","middle","top"];function Lk(n,t,e,r,i,l,u,a,o,s,c,f){return!(i.outOfBounds(n,e,t,r)||(f&&l?l.getRange(n,e,t,r)||!function(n,t,e,r,i){return i[0]<=n&&e<=i[2]&&i[3]<=t&&r<=i[5]}(u,o,a,s,c):i.getRange(n,e,t,r)))}const Uk={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},qk={naive:function(n,t,e,r){const i=n.width,l=n.height;return function(n){const t=n.datum.datum.items[r].items,e=t.length,u=n.datum.fontSize,a=Lp.width(n.datum,n.datum.text);let o,s,c,f,h,d,p,g=0;for(let r=0;r<e;++r)o=t[r].x,c=t[r].y,s=void 0===t[r].x2?o:t[r].x2,f=void 0===t[r].y2?c:t[r].y2,h=(o+s)/2,d=(c+f)/2,p=Math.abs(s-o+f-c),p>=g&&(g=p,n.x=h,n.y=d);return h=a/2,d=u/2,o=n.x-h,s=n.x+h,c=n.y-d,f=n.y+d,n.align="center",o<0&&s<=i?n.align="left":0<=o&&i<s&&(n.align="right"),n.baseline="middle",c<0&&f<=l?n.baseline="top":0<=c&&l<f&&(n.baseline="bottom"),!0}},"reduced-search":function(n,t,e,r){const i=n.width,l=n.height,u=t[0],a=t[1];function o(t,e,r,o,s){const c=n.invert(t),f=n.invert(e);let h,d=r,p=l;if(!Bk(c,f,o,s,i,l)&&!zk(n,c,f,s,o,d,u,a)&&!zk(n,c,f,s,o,s,u,null)){for(;p-d>=1;)h=(d+p)/2,zk(n,c,f,s,o,h,u,a)?p=h:d=h;if(d>r)return[c,f,d,!0]}}return function(t){const a=t.datum.datum.items[r].items,s=a.length,c=t.datum.fontSize,f=Lp.width(t.datum,t.datum.text);let h,d,p,g,m,v,w,y,b,x,_,k,j,O,A,E,S,C=e?c:0,D=!1,M=!1,F=0;for(let r=0;r<s;++r){for(h=a[r].x,p=a[r].y,d=void 0===a[r].x2?h:a[r].x2,g=void 0===a[r].y2?p:a[r].y2,h>d&&(S=h,h=d,d=S),p>g&&(S=p,p=g,g=S),b=n(h),_=n(d),x=~~((b+_)/2),k=n(p),O=n(g),j=~~((k+O)/2),w=x;w>=b;--w)for(y=j;y>=k;--y)E=o(w,y,C,f,c),E&&([t.x,t.y,C,D]=E);for(w=x;w<=_;++w)for(y=j;y<=O;++y)E=o(w,y,C,f,c),E&&([t.x,t.y,C,D]=E);D||e||(A=Math.abs(d-h+g-p),m=(h+d)/2,v=(p+g)/2,A>=F&&!Bk(m,v,f,c,i,l)&&!zk(n,m,v,c,f,c,u,null)&&(F=A,t.x=m,t.y=v,M=!0))}return!(!D&&!M)&&(m=f/2,v=c/2,u.setRange(n(t.x-m),n(t.y-v),n(t.x+m),n(t.y+v)),t.align="center",t.baseline="middle",!0)}},floodfill:function(n,t,e,r){const i=n.width,l=n.height,u=t[0],a=t[1],o=n.bitmap();return function(t){const s=t.datum.datum.items[r].items,c=s.length,f=t.datum.fontSize,h=Lp.width(t.datum,t.datum.text),d=[];let p,g,m,v,w,y,b,x,_,k,j,O,A=e?f:0,E=!1,S=!1,C=0;for(let r=0;r<c;++r){for(p=s[r].x,m=s[r].y,g=void 0===s[r].x2?p:s[r].x2,v=void 0===s[r].y2?m:s[r].y2,d.push([n((p+g)/2),n((m+v)/2)]);d.length;)if([b,x]=d.pop(),!(u.get(b,x)||a.get(b,x)||o.get(b,x))){o.set(b,x);for(let n=0;n<4;++n)w=b+Pk[n],y=x+$k[n],o.outOfBounds(w,y,w,y)||d.push([w,y]);if(w=n.invert(b),y=n.invert(x),_=A,k=l,!Bk(w,y,h,f,i,l)&&!zk(n,w,y,f,h,_,u,a)&&!zk(n,w,y,f,h,f,u,null)){for(;k-_>=1;)j=(_+k)/2,zk(n,w,y,f,h,j,u,a)?k=j:_=j;_>A&&(t.x=w,t.y=y,A=_,E=!0)}}E||e||(O=Math.abs(g-p+v-m),w=(p+g)/2,y=(m+v)/2,O>=C&&!Bk(w,y,h,f,i,l)&&!zk(n,w,y,f,h,f,u,null)&&(C=O,t.x=w,t.y=y,S=!0))}return!(!E&&!S)&&(w=h/2,y=f/2,u.setRange(n(t.x-w),n(t.y-y),n(t.x+w),n(t.y+y)),t.align="center",t.baseline="middle",!0)}}};function Hk(n,t,e,r,i,l,u,a,o,s,c){if(!n.length)return n;const f=Math.max(r.length,i.length),h=function(n,t){const e=new Float64Array(t),r=n.length;for(let t=0;t<r;++t)e[t]=n[t]||0;for(let n=r;n<t;++n)e[n]=e[r-1];return e}(r,f),d=function(n,t){const e=new Int8Array(t),r=n.length;for(let t=0;t<r;++t)e[t]|=Uk[n[t]];for(let n=r;n<t;++n)e[n]=e[r-1];return e}(i,f),p=(b=n[0].datum)&&b.mark&&b.mark.marktype,g="group"===p&&n[0].datum.items[o].marktype,m="area"===g,v=function(n,t,e,r){const i=n=>[n.x,n.x,n.x,n.y,n.y,n.y];return n?"line"===n||"area"===n?n=>i(n.datum):"line"===t?n=>{const t=n.datum.items[r].items;return i(t.length?t["start"===e?0:t.length-1]:{x:NaN,y:NaN})}:n=>{const t=n.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:i}(p,g,a,o),w=Nk(t[0],t[1],s),y=m&&"naive"===c;var b;const x=n.map(n=>({datum:n,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(n)}));let _;if(!y){e&&x.sort((n,t)=>e(n.datum,t.datum));let t=!1;for(let n=0;n<d.length&&!t;++n)t=5===d[n]||h[n]<0;p&&(u||m)&&(l=[n.map(n=>n.datum)].concat(l)),_=l.length?Dk(w,l,t,m):function(n,t){const e=n.bitmap();return(t||[]).forEach(t=>e.set(n(t.boundary[0]),n(t.boundary[3]))),[e,void 0]}(w,u&&x)}const k=m?qk[c](w,_,u,o):function(n,t,e,r){const i=n.width,l=n.height,u=t[0],a=t[1],o=r.length;return function(t){const s=t.boundary,c=t.datum.fontSize;if(s[2]<0||s[5]<0||s[0]>i||s[3]>l)return!1;let f,h,d,p,g,m,v,w,y,b,x,_,k,j,O,A=0;for(let i=0;i<o;++i){if(f=(3&e[i])-1,h=(e[i]>>>2&3)-1,d=0===f&&0===h||r[i]<0,p=f&&h?Math.SQRT1_2:1,g=r[i]<0?-1:1,m=s[1+f]+r[i]*f*p,x=s[4+h]+g*c*h/2+r[i]*h*p,w=x-c/2,y=x+c/2,_=n(m),j=n(w),O=n(y),!A){if(!Lk(_,_,j,O,u,a,m,m,w,y,s,d))continue;A=Lp.width(t.datum,t.datum.text)}if(b=m+g*A*f/2,m=b-A/2,v=b+A/2,_=n(m),k=n(v),Lk(_,k,j,O,u,a,m,v,w,y,s,d))return t.x=f?f*g<0?v:m:b,t.y=h?h*g<0?y:w:x,t.align=Rk[f*g+1],t.baseline=Ik[h*g+1],u.setRange(_,j,k,O),!0}return!1}}(w,_,d,h);return x.forEach(n=>n.opacity=+k(n)),x}const Wk=["x","y","opacity","align","baseline"],Gk=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Yk(n){Yi.call(this,null,n)}function Vk(n,t){var e,r,i,l,u,a,o=[],s=function(n){return n(l)};if(null==t)o.push(n);else for(e={},r=0,i=n.length;r<i;++r)l=n[r],(a=e[u=t.map(s)])||(e[u]=a=[],a.dims=u,o.push(a)),a.push(l);return o}function Jk(n){Yi.call(this,null,n)}Yk.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Gk},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Wk.length,default:Wk}]},Object(g.z)(Yk,Yi,{transform(n,t){const e=n.modified();if(!(e||t.changed(t.ADD_REM)||function(e){const r=n[e];return Object(g.E)(r)&&t.modified(r.fields)}("sort")))return;n.size&&2===n.size.length||Object(g.o)("Size parameter should be specified as a [width, height] array.");const r=n.as||Wk;return Hk(t.materialize(t.SOURCE).source,n.size,n.sort,Object(g.i)(n.offset||1),Object(g.i)(n.anchor||Gk),n.avoidMarks||[],!1!==n.avoidBaseMark,n.lineAnchor||"end",n.markIndex||0,n.padding||0,n.method||"naive").forEach(n=>{const t=n.datum;t[r[0]]=n.x,t[r[1]]=n.y,t[r[2]]=n.opacity,t[r[3]]=n.align,t[r[4]]=n.baseline}),t.reflow(e).modifies(r)}}),Jk.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(g.z)(Jk,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){const r=Vk(t.materialize(t.SOURCE).source,n.groupby),i=(n.groupby||[]).map(g.h),l=i.length,u=n.as||[Object(g.h)(n.x),Object(g.h)(n.y)],a=[];r.forEach(t=>{Gl(t,n.x,n.y,n.bandwidth||.3).forEach(n=>{const e={};for(let n=0;n<l;++n)e[i[n]]=t.dims[n];e[u[0]]=n[0],e[u[1]]=n[1],a.push(vi(e))})}),this.value&&(e.rem=this.value),this.value=e.add=e.source=a}return e}});const Xk={linear:Rl,log:Il,exp:Ll,pow:Ul,quad:ql,poly:Hl};function Kk(n){Yi.call(this,null,n)}Kk.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Xk)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(g.z)(Kk,Yi,{transform(n,t){const e=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||n.modified()){const r=Vk(t.materialize(t.SOURCE).source,n.groupby),i=(n.groupby||[]).map(g.h),l=n.method||"linear",u=n.order||3,a=((n,t)=>"poly"===n?t:"quad"===n?2:1)(l,u),o=n.as||[Object(g.h)(n.x),Object(g.h)(n.y)],s=Xk[l],c=[];let f=n.extent;Object(g.w)(Xk,l)||Object(g.o)("Invalid regression method: "+l),null!=f&&"log"===l&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach(e=>{if(e.length<=a)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const r=s(e,n.x,n.y,u);if(n.params)return void c.push(vi({keys:e.dims,coef:r.coef,rSquared:r.rSquared}));const h=f||Object(g.q)(e,n.x),d=n=>{const t={};for(let n=0;n<i.length;++n)t[i[n]]=e.dims[n];t[o[0]]=n[0],t[o[1]]=n[1],c.push(vi(t))};"linear"===l?h.forEach(n=>d([n,r.predict(n)])):Xl(r.predict,h,25,200).forEach(d)}),this.value&&(e.rem=this.value),this.value=e.add=e.source=c}return e}});const Zk=Math.pow(2,-52),Qk=new Uint32Array(512);class nj{static from(n,t=oj,e=sj){const r=n.length,i=new Float64Array(2*r);for(let l=0;l<r;l++){const r=n[l];i[2*l]=t(r),i[2*l+1]=e(r)}return new nj(i)}constructor(n){const t=n.length>>1;if(t>0&&"number"!=typeof n[0])throw new Error("Expected coords to contain numbers.");this.coords=n;const e=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:n,_hullPrev:t,_hullNext:e,_hullTri:r,_hullHash:i}=this,l=n.length>>1;let u=1/0,a=1/0,o=-1/0,s=-1/0;for(let t=0;t<l;t++){const e=n[2*t],r=n[2*t+1];e<u&&(u=e),r<a&&(a=r),e>o&&(o=e),r>s&&(s=r),this._ids[t]=t}const c=(u+o)/2,f=(a+s)/2;let h,d,p,g=1/0;for(let t=0;t<l;t++){const e=tj(c,f,n[2*t],n[2*t+1]);e<g&&(h=t,g=e)}const m=n[2*h],v=n[2*h+1];g=1/0;for(let t=0;t<l;t++){if(t===h)continue;const e=tj(m,v,n[2*t],n[2*t+1]);e<g&&e>0&&(d=t,g=e)}let w=n[2*d],y=n[2*d+1],b=1/0;for(let t=0;t<l;t++){if(t===h||t===d)continue;const e=lj(m,v,w,y,n[2*t],n[2*t+1]);e<b&&(p=t,b=e)}let x=n[2*p],_=n[2*p+1];if(b===1/0){for(let t=0;t<l;t++)this._dists[t]=n[2*t]-n[0]||n[2*t+1]-n[1];uj(this._ids,this._dists,0,l-1);const t=new Uint32Array(l);let e=0;for(let n=0,r=-1/0;n<l;n++){const i=this._ids[n];this._dists[i]>r&&(t[e++]=i,r=this._dists[i])}return this.hull=t.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(rj(m,v,w,y,x,_)){const n=d,t=w,e=y;d=p,w=x,y=_,p=n,x=t,_=e}const k=function(n,t,e,r,i,l){const u=e-n,a=r-t,o=i-n,s=l-t,c=u*u+a*a,f=o*o+s*s,h=.5/(u*s-a*o);return{x:n+(s*c-a*f)*h,y:t+(u*f-o*c)*h}}(m,v,w,y,x,_);this._cx=k.x,this._cy=k.y;for(let t=0;t<l;t++)this._dists[t]=tj(n[2*t],n[2*t+1],k.x,k.y);uj(this._ids,this._dists,0,l-1),this._hullStart=h;let j=3;e[h]=t[p]=d,e[d]=t[h]=p,e[p]=t[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,v)]=h,i[this._hashKey(w,y)]=d,i[this._hashKey(x,_)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let l,u,a=0;a<this._ids.length;a++){const o=this._ids[a],s=n[2*o],c=n[2*o+1];if(a>0&&Math.abs(s-l)<=Zk&&Math.abs(c-u)<=Zk)continue;if(l=s,u=c,o===h||o===d||o===p)continue;let f=0;for(let n=0,t=this._hashKey(s,c);n<this._hashSize&&(f=i[(t+n)%this._hashSize],-1===f||f===e[f]);n++);f=t[f];let g,m=f;for(;g=e[m],!rj(s,c,n[2*m],n[2*m+1],n[2*g],n[2*g+1]);)if(m=g,m===f){m=-1;break}if(-1===m)continue;let v=this._addTriangle(m,o,e[m],-1,-1,r[m]);r[o]=this._legalize(v+2),r[m]=v,j++;let w=e[m];for(;g=e[w],rj(s,c,n[2*w],n[2*w+1],n[2*g],n[2*g+1]);)v=this._addTriangle(w,o,g,r[o],-1,r[w]),r[o]=this._legalize(v+2),e[w]=w,j--,w=g;if(m===f)for(;g=t[m],rj(s,c,n[2*g],n[2*g+1],n[2*m],n[2*m+1]);)v=this._addTriangle(g,o,m,-1,r[m],r[g]),this._legalize(v+2),r[g]=v,e[m]=m,j--,m=g;this._hullStart=t[o]=m,e[m]=t[w]=o,e[o]=w,i[this._hashKey(s,c)]=o,i[this._hashKey(n[2*m],n[2*m+1])]=m}this.hull=new Uint32Array(j);for(let n=0,t=this._hullStart;n<j;n++)this.hull[n]=t,t=e[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,t){return Math.floor(function(n,t){const e=n/(Math.abs(n)+Math.abs(t));return(t>0?3-e:1+e)/4}(n-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:t,_halfedges:e,coords:r}=this;let i=0,l=0;for(;;){const u=e[n],a=n-n%3;if(l=a+(n+2)%3,-1===u){if(0===i)break;n=Qk[--i];continue}const o=u-u%3,s=a+(n+1)%3,c=o+(u+2)%3,f=t[l],h=t[n],d=t[s],p=t[c];if(ij(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){t[n]=p,t[u]=f;const r=e[c];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=n;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(n,r),this._link(u,e[l]),this._link(l,c);const a=o+(u+1)%3;i<Qk.length&&(Qk[i++]=a)}else{if(0===i)break;n=Qk[--i]}}return l}_link(n,t){this._halfedges[n]=t,-1!==t&&(this._halfedges[t]=n)}_addTriangle(n,t,e,r,i,l){const u=this.trianglesLen;return this._triangles[u]=n,this._triangles[u+1]=t,this._triangles[u+2]=e,this._link(u,r),this._link(u+1,i),this._link(u+2,l),this.trianglesLen+=3,u}}function tj(n,t,e,r){const i=n-e,l=t-r;return i*i+l*l}function ej(n,t,e,r,i,l){const u=(r-t)*(i-n),a=(e-n)*(l-t);return Math.abs(u-a)>=33306690738754716e-32*Math.abs(u+a)?u-a:0}function rj(n,t,e,r,i,l){return(ej(i,l,n,t,e,r)||ej(n,t,e,r,i,l)||ej(e,r,i,l,n,t))<0}function ij(n,t,e,r,i,l,u,a){const o=n-u,s=t-a,c=e-u,f=r-a,h=i-u,d=l-a,p=c*c+f*f,g=h*h+d*d;return o*(f*g-p*d)-s*(c*g-p*h)+(o*o+s*s)*(c*d-f*h)<0}function lj(n,t,e,r,i,l){const u=e-n,a=r-t,o=i-n,s=l-t,c=u*u+a*a,f=o*o+s*s,h=.5/(u*s-a*o),d=(s*c-a*f)*h,p=(u*f-o*c)*h;return d*d+p*p}function uj(n,t,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=n[i],l=t[r];let u=i-1;for(;u>=e&&t[n[u]]>l;)n[u+1]=n[u--];n[u+1]=r}else{let i=e+1,l=r;aj(n,e+r>>1,i),t[n[e]]>t[n[r]]&&aj(n,e,r),t[n[i]]>t[n[r]]&&aj(n,i,r),t[n[e]]>t[n[i]]&&aj(n,e,i);const u=n[i],a=t[u];for(;;){do{i++}while(t[n[i]]<a);do{l--}while(t[n[l]]>a);if(l<i)break;aj(n,i,l)}n[e+1]=n[l],n[l]=u,r-i+1>=l-e?(uj(n,t,i,r),uj(n,t,e,l-1)):(uj(n,t,e,l-1),uj(n,t,i,r))}}function aj(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function oj(n){return n[0]}function sj(n){return n[1]}class cj{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,t){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,t){this._+=`L${this._x1=+n},${this._y1=+t}`}arc(n,t,e){const r=(n=+n)+(e=+e),i=t=+t;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${n-e},${t}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(n,t,e,r){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class fj{constructor(){this._=[]}moveTo(n,t){this._.push([n,t])}closePath(){this._.push(this._[0].slice())}lineTo(n,t){this._.push([n,t])}value(){return this._.length?this._:null}}class hj{constructor(n,[t,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(2*n.points.length),this.vectors=new Float64Array(2*n.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:t,triangles:e},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let t,r,l=0,u=0,a=e.length;l<a;l+=3,u+=2){const a=2*e[l],o=2*e[l+1],s=2*e[l+2],c=n[a],f=n[a+1],h=n[o],d=n[o+1],p=n[s],g=n[s+1],m=h-c,v=d-f,w=p-c,y=g-f,b=m*m+v*v,x=w*w+y*y,_=2*(m*y-v*w);if(_)if(Math.abs(_)<1e-8)t=(c+p)/2,r=(f+g)/2;else{const n=1/_;t=c+(y*b-v*x)*n,r=f+(m*x-w*b)*n}else t=(c+p)/2-1e8*y,r=(f+g)/2+1e8*w;i[u]=t,i[u+1]=r}let l,u,a,o=t[t.length-1],s=4*o,c=n[2*o],f=n[2*o+1];r.fill(0);for(let e=0;e<t.length;++e)o=t[e],l=s,u=c,a=f,s=4*o,c=n[2*o],f=n[2*o+1],r[l+2]=r[s]=a-f,r[l+3]=r[s+1]=c-u}render(n){const t=null==n?n=new cj:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:l,vectors:u}=this;if(i.length<=1)return null;for(let t=0,r=e.length;t<r;++t){const r=e[t];if(r<t)continue;const i=2*Math.floor(t/3),u=2*Math.floor(r/3),a=l[i],o=l[i+1],s=l[u],c=l[u+1];this._renderSegment(a,o,s,c,n)}let a,o=i[i.length-1];for(let t=0;t<i.length;++t){a=o,o=i[t];const e=2*Math.floor(r[o]/3),s=l[e],c=l[e+1],f=4*a,h=this._project(s,c,u[f+2],u[f+3]);h&&this._renderSegment(s,c,h[0],h[1],n)}return t&&t.value()}renderBounds(n){const t=null==n?n=new cj:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(n,t){const e=null==t?t=new cj:void 0,r=this._clip(n);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let n=2;n<i;n+=2)r[n]===r[n-2]&&r[n+1]===r[n-1]||t.lineTo(r[n],r[n+1]);return t.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let t=0,e=n.length/2;t<e;++t){const n=this.cellPolygon(t);n&&(n.index=t,yield n)}}cellPolygon(n){const t=new fj;return this.renderCell(n,t),t.value()}_renderSegment(n,t,e,r,i){let l;const u=this._regioncode(n,t),a=this._regioncode(e,r);0===u&&0===a?(i.moveTo(n,t),i.lineTo(e,r)):(l=this._clipSegment(n,t,e,r,u,a))&&(i.moveTo(l[0],l[1]),i.lineTo(l[2],l[3]))}contains(n,t,e){return(t=+t)==t&&(e=+e)==e&&this.delaunay._step(n,t,e)===n}*neighbors(n){const t=this._clip(n);if(t)for(const e of this.delaunay.neighbors(n)){const n=this._clip(e);if(n)n:for(let r=0,i=t.length;r<i;r+=2)for(let l=0,u=n.length;l<u;l+=2)if(t[r]==n[l]&&t[r+1]==n[l+1]&&t[(r+2)%i]==n[(l+u-2)%u]&&t[(r+3)%i]==n[(l+u-1)%u]){yield e;break n}}}_cell(n){const{circumcenters:t,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,l=e[n];if(-1===l)return null;const u=[];let a=l;do{const e=Math.floor(a/3);if(u.push(t[2*e],t[2*e+1]),a=a%3==2?a-2:a+1,i[a]!==n)break;a=r[a]}while(a!==l&&-1!==a);return u}_clip(n){if(0===n&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(n);if(null===t)return null;const{vectors:e}=this,r=4*n;return e[r]||e[r+1]?this._clipInfinite(n,t,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(n,t)}_clipFinite(n,t){const e=t.length;let r,i,l,u,a,o=null,s=t[e-2],c=t[e-1],f=this._regioncode(s,c);for(let h=0;h<e;h+=2)if(r=s,i=c,s=t[h],c=t[h+1],l=f,f=this._regioncode(s,c),0===l&&0===f)u=a,a=0,o?o.push(s,c):o=[s,c];else{let t,e,h,d,p;if(0===l){if(null===(t=this._clipSegment(r,i,s,c,l,f)))continue;[e,h,d,p]=t}else{if(null===(t=this._clipSegment(s,c,r,i,f,l)))continue;[d,p,e,h]=t,u=a,a=this._edgecode(e,h),u&&a&&this._edge(n,u,a,o,o.length),o?o.push(e,h):o=[e,h]}u=a,a=this._edgecode(d,p),u&&a&&this._edge(n,u,a,o,o.length),o?o.push(d,p):o=[d,p]}if(o)u=a,a=this._edgecode(o[0],o[1]),u&&a&&this._edge(n,u,a,o,o.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(n,t,e,r,i,l){for(;;){if(0===i&&0===l)return[n,t,e,r];if(i&l)return null;let u,a,o=i||l;8&o?(u=n+(e-n)*(this.ymax-t)/(r-t),a=this.ymax):4&o?(u=n+(e-n)*(this.ymin-t)/(r-t),a=this.ymin):2&o?(a=t+(r-t)*(this.xmax-n)/(e-n),u=this.xmax):(a=t+(r-t)*(this.xmin-n)/(e-n),u=this.xmin),i?(n=u,t=a,i=this._regioncode(n,t)):(e=u,r=a,l=this._regioncode(e,r))}}_clipInfinite(n,t,e,r,i,l){let u,a=Array.from(t);if((u=this._project(a[0],a[1],e,r))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],i,l))&&a.push(u[0],u[1]),a=this._clipFinite(n,a))for(let t,e=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);e<r;e+=2)t=i,i=this._edgecode(a[e],a[e+1]),t&&i&&(e=this._edge(n,t,i,a,e),r=a.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(n,t,e,r,i){for(;t!==e;){let e,l;switch(t){case 5:t=4;continue;case 4:t=6,e=this.xmax,l=this.ymin;break;case 6:t=2;continue;case 2:t=10,e=this.xmax,l=this.ymax;break;case 10:t=8;continue;case 8:t=9,e=this.xmin,l=this.ymax;break;case 9:t=1;continue;case 1:t=5,e=this.xmin,l=this.ymin}r[i]===e&&r[i+1]===l||!this.contains(n,e,l)||(r.splice(i,0,e,l),i+=2)}if(r.length>4)for(let n=0;n<r.length;n+=2){const t=(n+2)%r.length,e=(n+4)%r.length;(r[n]===r[t]&&r[t]===r[e]||r[n+1]===r[t+1]&&r[t+1]===r[e+1])&&(r.splice(t,2),n-=2)}return i}_project(n,t,e,r){let i,l,u,a=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<a&&(u=this.ymin,l=n+(a=i)*e)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<a&&(u=this.ymax,l=n+(a=i)*e)}if(e>0){if(n>=this.xmax)return null;(i=(this.xmax-n)/e)<a&&(l=this.xmax,u=t+(a=i)*r)}else if(e<0){if(n<=this.xmin)return null;(i=(this.xmin-n)/e)<a&&(l=this.xmin,u=t+(a=i)*r)}return[l,u]}_edgecode(n,t){return(n===this.xmin?1:n===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(n,t){return(n<this.xmin?1:n>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const dj=2*Math.PI,pj=Math.pow;function gj(n){return n[0]}function mj(n){return n[1]}function vj(n,t,e){return[n+Math.sin(n+t)*e,t+Math.cos(n-t)*e]}class wj{static from(n,t=gj,e=mj,r){return new wj("length"in n?function(n,t,e,r){const i=n.length,l=new Float64Array(2*i);for(let u=0;u<i;++u){const i=n[u];l[2*u]=t.call(r,i,u,n),l[2*u+1]=e.call(r,i,u,n)}return l}(n,t,e,r):Float64Array.from(function*(n,t,e,r){let i=0;for(const l of n)yield t.call(r,l,i,n),yield e.call(r,l,i,n),++i}(n,t,e,r)))}constructor(n){this._delaunator=new nj(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,t=this.points;if(n.hull&&n.hull.length>2&&function(n){const{triangles:t,coords:e}=n;for(let n=0;n<t.length;n+=3){const r=2*t[n],i=2*t[n+1],l=2*t[n+2];if((e[l]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[l+1]-e[r+1])>1e-10)return!1}return!0}(n)){this.collinear=Int32Array.from({length:t.length/2},(n,t)=>t).sort((n,e)=>t[2*n]-t[2*e]||t[2*n+1]-t[2*e+1]);const n=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[t[2*n],t[2*n+1],t[2*e],t[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let n=0,e=t.length/2;n<e;++n){const e=vj(t[2*n],t[2*n+1],i);t[2*n]=e[0],t[2*n+1]=e[1]}this._delaunator=new nj(t)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,l=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let n=0,t=e.length;n<t;++n){const t=i[n%3==2?n-2:n+1];-1!==e[n]&&-1!==l[t]||(l[t]=n)}for(let n=0,t=r.length;n<t;++n)u[r[n]]=n;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],l[r[0]]=1,2===r.length&&(l[r[1]]=0))}voronoi(n){return new hj(this,n)}*neighbors(n){const{inedges:t,hull:e,_hullIndex:r,halfedges:i,triangles:l,collinear:u}=this;if(u){const t=u.indexOf(n);return t>0&&(yield u[t-1]),void(t<u.length-1&&(yield u[t+1]))}const a=t[n];if(-1===a)return;let o=a,s=-1;do{if(yield s=l[o],o=o%3==2?o-2:o+1,l[o]!==n)return;if(o=i[o],-1===o){const t=e[(r[n]+1)%e.length];return void(t!==s&&(yield t))}}while(o!==a)}find(n,t,e=0){if((n=+n)!=n||(t=+t)!=t)return-1;const r=e;let i;for(;(i=this._step(e,n,t))>=0&&i!==e&&i!==r;)e=i;return i}_step(n,t,e){const{inedges:r,hull:i,_hullIndex:l,halfedges:u,triangles:a,points:o}=this;if(-1===r[n]||!o.length)return(n+1)%(o.length>>1);let s=n,c=pj(t-o[2*n],2)+pj(e-o[2*n+1],2);const f=r[n];let h=f;do{let r=a[h];const f=pj(t-o[2*r],2)+pj(e-o[2*r+1],2);if(f<c&&(c=f,s=r),h=h%3==2?h-2:h+1,a[h]!==n)break;if(h=u[h],-1===h){if(h=i[(l[n]+1)%i.length],h!==r&&pj(t-o[2*h],2)+pj(e-o[2*h+1],2)<c)return h;break}}while(h!==f);return s}render(n){const t=null==n?n=new cj:void 0,{points:e,halfedges:r,triangles:i}=this;for(let t=0,l=r.length;t<l;++t){const l=r[t];if(l<t)continue;const u=2*i[t],a=2*i[l];n.moveTo(e[u],e[u+1]),n.lineTo(e[a],e[a+1])}return this.renderHull(n),t&&t.value()}renderPoints(n,t=2){const e=null==n?n=new cj:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],l=r[e+1];n.moveTo(i+t,l),n.arc(i,l,t,0,dj)}return e&&e.value()}renderHull(n){const t=null==n?n=new cj:void 0,{hull:e,points:r}=this,i=2*e[0],l=e.length;n.moveTo(r[i],r[i+1]);for(let t=1;t<l;++t){const i=2*e[t];n.lineTo(r[i],r[i+1])}return n.closePath(),t&&t.value()}hullPolygon(){const n=new fj;return this.renderHull(n),n.value()}renderTriangle(n,t){const e=null==t?t=new cj:void 0,{points:r,triangles:i}=this,l=2*i[n*=3],u=2*i[n+1],a=2*i[n+2];return t.moveTo(r[l],r[l+1]),t.lineTo(r[u],r[u+1]),t.lineTo(r[a],r[a+1]),t.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:n}=this;for(let t=0,e=n.length/3;t<e;++t)yield this.trianglePolygon(t)}trianglePolygon(n){const t=new fj;return this.renderTriangle(n,t),t.value()}}function yj(n){Yi.call(this,null,n)}yj.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const bj=[-1e5,-1e5,1e5,1e5];function xj(n){const t=n[0][0],e=n[0][1];let r=n.length-1;for(;n[r][0]===t&&n[r][1]===e;--r);return"M"+n.slice(0,r+1).join("L")+"Z"}Object(g.z)(yj,Yi,{transform(n,t){const e=n.as||"path",r=t.source;if(!r||!r.length)return t;let i=n.size;i=i?[0,0,i[0],i[1]]:(i=n.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:bj;const l=this.value=wj.from(r,n.x,n.y).voronoi(i);for(let n=0,t=r.length;n<t;++n){const t=l.cellPolygon(n);r[n][e]=t?xj(t):null}return t.reflow(n.modified()).modifies(e)}});var _j=Math.PI/180;function kj(){var n,t,e,r,i,l,u,a=[256,256],o=Ej,s=[],c=Math.random,f={};function h(n,t,e){for(var r,i,l,u,s,f=t.x,h=t.y,d=Math.sqrt(a[0]*a[0]+a[1]*a[1]),p=o(a),g=c()<.5?1:-1,m=-g;(r=p(m+=g))&&(i=~~r[0],l=~~r[1],!(Math.min(Math.abs(i),Math.abs(l))>=d));)if(t.x=f+i,t.y=h+l,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>a[0]||t.y+t.y1>a[1]||e&&Oj(t,n,a[0])||e&&(s=e,!((u=t).x+u.x1>s[0].x&&u.x+u.x0<s[1].x&&u.y+u.y1>s[0].y&&u.y+u.y0<s[1].y)))){for(var v,w=t.sprite,y=t.width>>5,b=a[0]>>5,x=t.x-(y<<4),_=127&x,k=32-_,j=t.y1-t.y0,O=(t.y+t.y0)*b+(x>>5),A=0;A<j;A++){v=0;for(var E=0;E<=y;E++)n[O+E]|=v<<k|(E<y?(v=w[A*y+E])>>>_:0);O+=b}return t.sprite=null,!0}return!1}return f.layout=function(){for(var o=function(n){n.width=n.height=1;var t=Math.sqrt(n.getContext("2d").getImageData(0,0,1,1).data.length>>2);n.width=2048/t,n.height=2048/t;var e=n.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:t}}(Po()),f=function(n){var t=[],e=-1;for(;++e<n;)t[e]=0;return t}((a[0]>>5)*a[1]),d=null,p=s.length,g=-1,m=[],v=s.map(a=>({text:n(a),font:t(a),style:r(a),weight:i(a),rotate:l(a),size:~~(e(a)+1e-14),padding:u(a),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:a})).sort((n,t)=>t.size-n.size);++g<p;){var w=v[g];w.x=a[0]*(c()+.5)>>1,w.y=a[1]*(c()+.5)>>1,jj(o,w,v,g),w.hasText&&h(f,w,d)&&(m.push(w),d?Aj(d,w):d=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=a[0]>>1,w.y-=a[1]>>1)}return m},f.words=function(n){return arguments.length?(s=n,f):s},f.size=function(n){return arguments.length?(a=[+n[0],+n[1]],f):a},f.font=function(n){return arguments.length?(t=Sj(n),f):t},f.fontStyle=function(n){return arguments.length?(r=Sj(n),f):r},f.fontWeight=function(n){return arguments.length?(i=Sj(n),f):i},f.rotate=function(n){return arguments.length?(l=Sj(n),f):l},f.text=function(t){return arguments.length?(n=Sj(t),f):n},f.spiral=function(n){return arguments.length?(o=Cj[n]||n,f):o},f.fontSize=function(n){return arguments.length?(e=Sj(n),f):e},f.padding=function(n){return arguments.length?(u=Sj(n),f):u},f.random=function(n){return arguments.length?(c=n,f):c},f}function jj(n,t,e,r){if(!t.sprite){var i=n.context,l=n.ratio;i.clearRect(0,0,2048/l,2048/l);var u,a,o,s,c,f=0,h=0,d=0,p=e.length;for(--r;++r<p;){if(t=e[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/l)+"px "+t.font,u=i.measureText(t.text+"m").width*l,o=t.size<<1,t.rotate){var g=Math.sin(t.rotate*_j),m=Math.cos(t.rotate*_j),v=u*m,w=u*g,y=o*m,b=o*g;u=Math.max(Math.abs(v+b),Math.abs(v-b))+31>>5<<5,o=~~Math.max(Math.abs(w+y),Math.abs(w-y))}else u=u+31>>5<<5;if(o>d&&(d=o),f+u>=2048&&(f=0,h+=d,d=0),h+o>=2048)break;i.translate((f+(u>>1))/l,(h+(o>>1))/l),t.rotate&&i.rotate(t.rotate*_j),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=o,t.xoff=f,t.yoff=h,t.x1=u>>1,t.y1=o>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=u}for(var x=i.getImageData(0,0,2048/l,2048/l).data,_=[];--r>=0;)if((t=e[r]).hasText){for(a=(u=t.width)>>5,o=t.y1-t.y0,s=0;s<o*a;s++)_[s]=0;if(null==(f=t.xoff))return;h=t.yoff;var k=0,j=-1;for(c=0;c<o;c++){for(s=0;s<u;s++){var O=a*c+(s>>5),A=x[2048*(h+c)+(f+s)<<2]?1<<31-s%32:0;_[O]|=A,k|=A}k?j=c:(t.y0++,o--,c--,h++)}t.y1=t.y0+j,t.sprite=_.slice(0,(t.y1-t.y0)*a)}}}function Oj(n,t,e){e>>=5;for(var r,i=n.sprite,l=n.width>>5,u=n.x-(l<<4),a=127&u,o=32-a,s=n.y1-n.y0,c=(n.y+n.y0)*e+(u>>5),f=0;f<s;f++){r=0;for(var h=0;h<=l;h++)if((r<<o|(h<l?(r=i[f*l+h])>>>a:0))&t[c+h])return!0;c+=e}return!1}function Aj(n,t){var e=n[0],r=n[1];t.x+t.x0<e.x&&(e.x=t.x+t.x0),t.y+t.y0<e.y&&(e.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Ej(n){var t=n[0]/n[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Sj(n){return"function"==typeof n?n:function(){return n}}var Cj={archimedean:Ej,rectangular:function(n){var t=4*n[0]/n[1],e=0,r=0;return function(n){var i=n<0?-1:1;switch(Math.sqrt(1+4*i*n)-i&3){case 0:e+=t;break;case 1:r+=4;break;case 2:e-=t;break;default:r-=4}return[e,r]}}};const Dj=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Mj=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Fj(n){Yi.call(this,kj(),n)}Fj.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Dj}]},Object(g.z)(Fj,Yi,{transform(n,t){!n.size||n.size[0]&&n.size[1]||Object(g.o)("Wordcloud size dimensions must be non-zero.");const e=n.modified();if(!(e||t.changed(t.ADD_REM)||Mj.some((function(e){const r=n[e];return Object(g.E)(r)&&t.modified(r.fields)}))))return;const r=t.materialize(t.SOURCE).source,i=this.value,l=n.as||Dj;let u,a=n.fontSize||14;if(Object(g.E)(a)?u=n.fontSizeRange:a=Object(g.m)(a),u){const n=a,t=Mf("sqrt")().domain(Object(g.q)(r,n)).range(u);a=e=>t(n(e))}r.forEach(n=>{n[l[0]]=NaN,n[l[1]]=NaN,n[l[3]]=0});const o=i.words(r).text(n.text).size(n.size||[500,500]).padding(n.padding||1).spiral(n.spiral||"archimedean").rotate(n.rotate||0).font(n.font||"sans-serif").fontStyle(n.fontStyle||"normal").fontWeight(n.fontWeight||"normal").fontSize(a).random(sl).layout(),s=i.size(),c=s[0]>>1,f=s[1]>>1,h=o.length;for(let n,t,e=0;e<h;++e)n=o[e],t=n.datum,t[l[0]]=n.x+c,t[l[1]]=n.y+f,t[l[2]]=n.font,t[l[3]]=n.size,t[l[4]]=n.style,t[l[5]]=n.weight,t[l[6]]=n.rotate;return t.reflow(e).modifies(l)}});const Tj=n=>new Uint8Array(n),Nj=n=>new Uint16Array(n),Bj=n=>new Uint32Array(n);function zj(n,t,e){const r=(t<257?Tj:t<65537?Nj:Bj)(n);return e&&r.set(e),r}function Pj(n,t,e){const r=1<<t;return{one:r,zero:~r,range:e.slice(),bisect:n.bisect,index:n.index,size:n.size,onAdd(n,t){const e=this.bisect(this.range,n.value),i=n.index,l=e[0],u=e[1],a=i.length;let o;for(o=0;o<l;++o)t[i[o]]|=r;for(o=u;o<a;++o)t[i[o]]|=r;return this}}}function $j(){let n=Bj(0),t=[],e=0;return{insert:function(r,i,l){if(!i.length)return[];const u=e,a=i.length,o=Bj(a);let s,c,f,h=Array(a);for(f=0;f<a;++f)h[f]=r(i[f]),o[f]=f;if(h=function(n,t){return n.sort.call(t,(t,e)=>{const r=n[t],i=n[e];return r<i?-1:r>i?1:0}),function(n,t){return Array.from(t,t=>n[t])}(n,t)}(h,o),u)s=t,c=n,t=Array(u+a),n=Bj(u+a),function(n,t,e,r,i,l,u,a,o){let s,c=0,f=0;for(s=0;c<r&&f<u;++s)t[c]<i[f]?(a[s]=t[c],o[s]=e[c++]):(a[s]=i[f],o[s]=l[f++]+n);for(;c<r;++c,++s)a[s]=t[c],o[s]=e[c];for(;f<u;++f,++s)a[s]=i[f],o[s]=l[f]+n}(l,s,c,u,h,o,a,t,n);else{if(l>0)for(f=0;f<a;++f)o[f]+=l;t=h,n=o}return e=u+a,{index:o,value:h}},remove:function(r,i){const l=e;let u,a,o;for(a=0;!i[n[a]]&&a<l;++a);for(o=a;a<l;++a)i[u=n[a]]||(n[o]=u,t[o]=t[a],++o);e=l-r},bisect:function(n,r){let i;return r?i=r.length:(r=t,i=e),[Lo(r,n[0],0,i),Io(r,n[1],0,i)]},reindex:function(t){for(let r=0,i=e;r<i;++r)n[r]=t[n[r]]},index:()=>n,size:()=>e}}function Rj(n){Yi.call(this,function(){let n=8,t=[],e=Bj(0),r=zj(0,n),i=zj(0,n);return{data:()=>t,seen:()=>e=function(n,t,e){return n.length>=t?n:((e=e||new n.constructor(t)).set(n),e)}(e,t.length),add(n){for(let e,r=0,i=t.length,l=n.length;r<l;++r)e=n[r],e._index=i++,t.push(e)},remove(n,e){const l=t.length,u=Array(l-n),a=t;let o,s,c;for(s=0;!e[s]&&s<l;++s)u[s]=t[s],a[s]=s;for(c=s;s<l;++s)o=t[s],e[s]?a[s]=-1:(a[s]=c,r[c]=r[s],i[c]=i[s],u[c]=o,o._index=c++),r[s]=0;return t=u,a},size:()=>t.length,curr:()=>r,prev:()=>i,reset:n=>i[n]=r[n],all:()=>n<257?255:n<65537?65535:4294967295,set(n,t){r[n]|=t},clear(n,t){r[n]&=~t},resize(t,e){(t>r.length||e>n)&&(n=Math.max(e,n),r=zj(t,n,r),i=zj(t,n))}}}(),n),this._indices=null,this._dims=null}function Ij(n){Yi.call(this,null,n)}Rj.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Object(g.z)(Rj,Yi,{transform(n,t){return this._dims?n.modified("fields")||n.fields.some(n=>t.modified(n.fields))?this.reinit(n,t):this.eval(n,t):this.init(n,t)},init(n,t){const e=n.fields,r=n.query,i=this._indices={},l=this._dims=[],u=r.length;let a,o,s=0;for(;s<u;++s)a=e[s].fname,o=i[a]||(i[a]=$j()),l.push(Pj(o,s,r[s]));return this.eval(n,t)},reinit(n,t){const e=t.materialize().fork(),r=n.fields,i=n.query,l=this._indices,u=this._dims,a=this.value,o=a.curr(),s=a.prev(),c=a.all(),f=e.rem=e.add,h=e.mod,d=i.length,p={};let g,m,v,w,y,b,x,_,k;if(s.set(o),t.rem.length&&(y=this.remove(n,t,e)),t.add.length&&a.add(t.add),t.mod.length)for(b={},w=t.mod,x=0,_=w.length;x<_;++x)b[w[x]._index]=1;for(x=0;x<d;++x)k=r[x],(!u[x]||n.modified("fields",x)||t.modified(k.fields))&&(v=k.fname,(g=p[v])||(l[v]=m=$j(),p[v]=g=m.insert(k,t.source,0)),u[x]=Pj(m,x,i[x]).onAdd(g,o));for(x=0,_=a.data().length;x<_;++x)y[x]||(s[x]!==o[x]?f.push(x):b[x]&&o[x]!==c&&h.push(x));return a.mask=(1<<d)-1,e},eval(n,t){const e=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(n,t,e),i|=(1<<r)-1),n.modified("query")&&!n.modified("fields")&&(i|=this.update(n,t,e)),t.add.length&&(this.insert(n,t,e),i|=(1<<r)-1),t.mod.length&&(this.modify(t,e),i|=(1<<r)-1),this.value.mask=i,e},insert(n,t,e){const r=t.add,i=this.value,l=this._dims,u=this._indices,a=n.fields,o={},s=e.add,c=i.size()+r.length,f=l.length;let h,d,p,g=i.size();i.resize(c,f),i.add(r);const m=i.curr(),v=i.prev(),w=i.all();for(h=0;h<f;++h)d=a[h].fname,p=o[d]||(o[d]=u[d].insert(a[h],r,g)),l[h].onAdd(p,m);for(;g<c;++g)v[g]=w,m[g]!==w&&s.push(g)},modify(n,t){const e=t.mod,r=this.value,i=r.curr(),l=r.all(),u=n.mod;let a,o,s;for(a=0,o=u.length;a<o;++a)s=u[a]._index,i[s]!==l&&e.push(s)},remove(n,t,e){const r=this._indices,i=this.value,l=i.curr(),u=i.prev(),a=i.all(),o={},s=e.rem,c=t.rem;let f,h,d,p;for(f=0,h=c.length;f<h;++f)d=c[f]._index,o[d]=1,u[d]=p=l[d],l[d]=a,p!==a&&s.push(d);for(d in r)r[d].remove(h,o);return this.reindex(t,h,o),o},reindex(n,t,e){const r=this._indices,i=this.value;n.runAfter(()=>{const n=i.remove(t,e);for(const t in r)r[t].reindex(n)})},update(n,t,e){const r=this._dims,i=n.query,l=t.stamp,u=r.length;let a,o,s=0;for(e.filters=0,o=0;o<u;++o)n.modified("query",o)&&(a=o,++s);if(1===s)s=r[a].one,this.incrementOne(r[a],i[a],e.add,e.rem);else for(o=0,s=0;o<u;++o)n.modified("query",o)&&(s|=r[o].one,this.incrementAll(r[o],i[o],l,e.add),e.rem=e.add);return s},incrementAll(n,t,e,r){const i=this.value,l=i.seen(),u=i.curr(),a=i.prev(),o=n.index(),s=n.bisect(n.range),c=n.bisect(t),f=c[0],h=c[1],d=s[0],p=s[1],g=n.one;let m,v,w;if(f<d)for(m=f,v=Math.min(d,h);m<v;++m)w=o[m],l[w]!==e&&(a[w]=u[w],l[w]=e,r.push(w)),u[w]^=g;else if(f>d)for(m=d,v=Math.min(f,p);m<v;++m)w=o[m],l[w]!==e&&(a[w]=u[w],l[w]=e,r.push(w)),u[w]^=g;if(h>p)for(m=Math.max(f,p),v=h;m<v;++m)w=o[m],l[w]!==e&&(a[w]=u[w],l[w]=e,r.push(w)),u[w]^=g;else if(h<p)for(m=Math.max(d,h),v=p;m<v;++m)w=o[m],l[w]!==e&&(a[w]=u[w],l[w]=e,r.push(w)),u[w]^=g;n.range=t.slice()},incrementOne(n,t,e,r){const i=this.value.curr(),l=n.index(),u=n.bisect(n.range),a=n.bisect(t),o=a[0],s=a[1],c=u[0],f=u[1],h=n.one;let d,p,g;if(o<c)for(d=o,p=Math.min(c,s);d<p;++d)g=l[d],i[g]^=h,e.push(g);else if(o>c)for(d=c,p=Math.min(o,f);d<p;++d)g=l[d],i[g]^=h,r.push(g);if(s>f)for(d=Math.max(o,f),p=s;d<p;++d)g=l[d],i[g]^=h,e.push(g);else if(s<f)for(d=Math.max(c,s),p=f;d<p;++d)g=l[d],i[g]^=h,r.push(g);n.range=t.slice()}}),Ij.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(g.z)(Ij,Yi,{transform(n,t){const e=~(n.ignore||0),r=n.filter,i=r.mask;if(0==(i&e))return t.StopPropagation;const l=t.fork(t.ALL),u=r.data(),a=r.curr(),o=r.prev(),s=n=>a[n]&e?null:u[n];return l.filter(l.MOD,s),i&i-1?(l.filter(l.ADD,n=>{const t=a[n]&e;return!t&&t^o[n]&e?u[n]:null}),l.filter(l.REM,n=>{const t=a[n]&e;return t&&!(t^t^o[n]&e)?u[n]:null})):(l.filter(l.ADD,s),l.filter(l.REM,n=>(a[n]&e)===i?u[n]:null)),l.filter(l.SOURCE,n=>s(n._index))}});var Lj,Uj,qj,Hj,Wj,Gj=e(2),Yj=new Yv,Vj=new Yv,Jj={point:gw,lineStart:gw,lineEnd:gw,polygonStart:function(){Yj=new Yv,Jj.lineStart=Xj,Jj.lineEnd=Kj},polygonEnd:function(){var n=+Yj;Vj.add(n<0?Kv+n:n),this.lineStart=this.lineEnd=this.point=gw},sphere:function(){Vj.add(Kv)}};function Xj(){Jj.point=Zj}function Kj(){Qj(Lj,Uj)}function Zj(n,t){Jj.point=Qj,Lj=n,Uj=t,qj=n*=Qv,Hj=rw(t=(t*=Qv)/2+Xv),Wj=sw(t)}function Qj(n,t){var e=(n*=Qv)-qj,r=e>=0?1:-1,i=r*e,l=rw(t=(t*=Qv)/2+Xv),u=sw(t),a=Wj*u,o=Hj*l+a*rw(i),s=a*r*sw(i);Yj.add(ew(s,o)),qj=n,Hj=l,Wj=u}var nO,tO,eO,rO,iO,lO,uO,aO,oO,sO,cO,fO={point:hO,lineStart:pO,lineEnd:gO,polygonStart:function(){fO.point=mO,fO.lineStart=vO,fO.lineEnd=wO,oO=new Yv,Jj.polygonStart()},polygonEnd:function(){Jj.polygonEnd(),fO.point=hO,fO.lineStart=pO,fO.lineEnd=gO,Yj<0?(nO=-(eO=180),tO=-(rO=90)):oO>1e-6?rO=90:oO<-1e-6&&(tO=-90),cO[0]=nO,cO[1]=eO},sphere:function(){nO=-(eO=180),tO=-(rO=90)}};function hO(n,t){sO.push(cO=[nO=n,eO=n]),t<tO&&(tO=t),t>rO&&(rO=t)}function dO(n,t){var e=ky([n*Qv,t*Qv]);if(aO){var r=Oy(aO,e),i=Oy([r[1],-r[0],0],r);Sy(i),i=_y(i);var l,u=n-iO,a=u>0?1:-1,o=i[0]*Zv*a,s=nw(u)>180;s^(a*iO<o&&o<a*n)?(l=i[1]*Zv)>rO&&(rO=l):s^(a*iO<(o=(o+360)%360-180)&&o<a*n)?(l=-i[1]*Zv)<tO&&(tO=l):(t<tO&&(tO=t),t>rO&&(rO=t)),s?n<iO?yO(nO,n)>yO(nO,eO)&&(eO=n):yO(n,eO)>yO(nO,eO)&&(nO=n):eO>=nO?(n<nO&&(nO=n),n>eO&&(eO=n)):n>iO?yO(nO,n)>yO(nO,eO)&&(eO=n):yO(n,eO)>yO(nO,eO)&&(nO=n)}else sO.push(cO=[nO=n,eO=n]);t<tO&&(tO=t),t>rO&&(rO=t),aO=e,iO=n}function pO(){fO.point=dO}function gO(){cO[0]=nO,cO[1]=eO,fO.point=hO,aO=null}function mO(n,t){if(aO){var e=n-iO;oO.add(nw(e)>180?e+(e>0?360:-360):e)}else lO=n,uO=t;Jj.point(n,t),dO(n,t)}function vO(){Jj.lineStart()}function wO(){mO(lO,uO),Jj.lineEnd(),nw(oO)>1e-6&&(nO=-(eO=180)),cO[0]=nO,cO[1]=eO,aO=null}function yO(n,t){return(t-=n)<0?t+360:t}function bO(n,t){return n[0]-t[0]}function xO(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var _O,kO,jO,OO,AO,EO,SO,CO,DO,MO,FO,TO,NO,BO,zO,PO,$O={sphere:gw,point:RO,lineStart:LO,lineEnd:HO,polygonStart:function(){$O.lineStart=WO,$O.lineEnd=GO},polygonEnd:function(){$O.lineStart=LO,$O.lineEnd=HO}};function RO(n,t){n*=Qv;var e=rw(t*=Qv);IO(e*rw(n),e*sw(n),sw(t))}function IO(n,t,e){++_O,jO+=(n-jO)/_O,OO+=(t-OO)/_O,AO+=(e-AO)/_O}function LO(){$O.point=UO}function UO(n,t){n*=Qv;var e=rw(t*=Qv);BO=e*rw(n),zO=e*sw(n),PO=sw(t),$O.point=qO,IO(BO,zO,PO)}function qO(n,t){n*=Qv;var e=rw(t*=Qv),r=e*rw(n),i=e*sw(n),l=sw(t),u=ew(fw((u=zO*l-PO*i)*u+(u=PO*r-BO*l)*u+(u=BO*i-zO*r)*u),BO*r+zO*i+PO*l);kO+=u,EO+=u*(BO+(BO=r)),SO+=u*(zO+(zO=i)),CO+=u*(PO+(PO=l)),IO(BO,zO,PO)}function HO(){$O.point=RO}function WO(){$O.point=YO}function GO(){VO(TO,NO),$O.point=RO}function YO(n,t){TO=n,NO=t,n*=Qv,t*=Qv,$O.point=VO;var e=rw(t);BO=e*rw(n),zO=e*sw(n),PO=sw(t),IO(BO,zO,PO)}function VO(n,t){n*=Qv;var e=rw(t*=Qv),r=e*rw(n),i=e*sw(n),l=sw(t),u=zO*l-PO*i,a=PO*r-BO*l,o=BO*i-zO*r,s=uw(u,a,o),c=pw(s),f=s&&-c/s;DO.add(f*u),MO.add(f*a),FO.add(f*o),kO+=c,EO+=c*(BO+(BO=r)),SO+=c*(zO+(zO=i)),CO+=c*(PO+(PO=l)),IO(BO,zO,PO)}function JO(n,t){for(var e,r,i=t.fields,l=t.values,u=i.length,a=0;a<u;++a)if((r=i[a]).getter=g.u.getter||Object(g.u)(r.field),e=r.getter(n),Object(g.D)(e)&&(e=Object(g.eb)(e)),Object(g.D)(l[a])&&(l[a]=Object(g.eb)(l[a])),Object(g.D)(l[a][0])&&(l[a]=l[a].map(g.eb)),"E"===r.type){if(Object(g.B)(l[a])?l[a].indexOf(e)<0:e!==l[a])return!1}else if("R"===r.type){if(!Object(g.A)(e,l[a]))return!1}else if("R-RE"===r.type){if(!Object(g.A)(e,l[a],!0,!1))return!1}else if("R-E"===r.type){if(!Object(g.A)(e,l[a],!1,!1))return!1}else if("R-LE"===r.type&&!Object(g.A)(e,l[a],!1,!0))return!1;return!0}var XO={E_union:function(n,t){if(!n.length)return t;for(var e=0,r=t.length;e<r;++e)n.indexOf(t[e])<0&&n.push(t[e]);return n},E_intersect:function(n,t){return n.length?n.filter(n=>t.indexOf(n)>=0):t},R_union:function(n,t){var e=Object(g.eb)(t[0]),r=Object(g.eb)(t[1]);return e>r&&(e=t[1],r=t[0]),n.length?(n[0]>e&&(n[0]=e),n[1]<r&&(n[1]=r),n):[e,r]},R_intersect:function(n,t){var e=Object(g.eb)(t[0]),r=Object(g.eb)(t[1]);return e>r&&(e=t[1],r=t[0]),n.length?r<n[0]||n[1]<e?[]:(n[0]<e&&(n[0]=e),n[1]>r&&(n[1]=r),n):[e,r]}};function KO(n,t,e,r){t[0].type!==Gj.b&&Object(g.o)("First argument to selection functions must be a string literal.");const i=t[0].value,l=":"+i;"intersect"!==(t.length>=2&&Object(g.W)(t).value)||Object(g.w)(r,"@unit")||(r["@unit"]=e.getData(i).indataRef(e,"unit")),Object(g.w)(r,l)||(r[l]=e.getData(i).tuplesRef())}function ZO(n){const t=this.context.data[n];return t?t.values.value:[]}const QO=n=>function(t,e){return this.context.dataflow.locale()[n](e)(t)},nA=QO("format"),tA=QO("timeFormat"),eA=QO("utcFormat"),rA=QO("timeParse"),iA=QO("utcParse"),lA=new Date(2e3,0,1);function uA(n,t,e){return Number.isInteger(n)&&Number.isInteger(t)?(lA.setYear(2e3),lA.setMonth(n),lA.setDate(t),tA.call(this,lA,e)):""}function aA(n,t,e,r){t[0].type!==Gj.b&&Object(g.o)("First argument to data functions must be a string literal.");const i=t[0].value,l=":"+i;if(!Object(g.w)(l,r))try{r[l]=e.getData(i).tuplesRef()}catch(n){}}function oA(n,t,e,r){if(t[0].type===Gj.b)sA(e,r,t[0].value);else for(n in e.scales)sA(e,r,n)}function sA(n,t,e){const r="%"+e;if(!Object(g.w)(t,r))try{t[r]=n.scaleRef(e)}catch(n){}}function cA(n,t){let e;return Object(g.E)(n)?n:Object(g.J)(n)?(e=t.scales[n])&&e.value:void 0}function fA(n,t,e){t.__bandwidth=n=>n&&n.bandwidth?n.bandwidth():0,e._bandwidth=oA,e._range=oA,e._scale=oA;const r=t=>"_["+(t.type===Gj.b?Object(g.bb)("%"+t.value):Object(g.bb)("%")+"+"+n(t))+"]";return{_bandwidth:n=>"this.__bandwidth(".concat(r(n[0]),")"),_range:n=>"".concat(r(n[0]),".range()"),_scale:t=>"".concat(r(t[0]),"(").concat(n(t[1]),")")}}function hA(n,t){return function(e,r,i){if(e){const t=cA(e,(i||this).context);return t&&t.path[n](r)}return t(r)}}const dA=hA("area",(function(n){return Vj=new Yv,Gv(n,Jj),2*Vj})),pA=hA("bounds",(function(n){var t,e,r,i,l,u,a;if(rO=eO=-(nO=tO=1/0),sO=[],Gv(n,fO),e=sO.length){for(sO.sort(bO),t=1,l=[r=sO[0]];t<e;++t)xO(r,(i=sO[t])[0])||xO(r,i[1])?(yO(r[0],i[1])>yO(r[0],r[1])&&(r[1]=i[1]),yO(i[0],r[1])>yO(r[0],r[1])&&(r[0]=i[0])):l.push(r=i);for(u=-1/0,t=0,r=l[e=l.length-1];t<=e;r=i,++t)i=l[t],(a=yO(r[1],i[0]))>u&&(u=a,nO=i[0],eO=r[1])}return sO=cO=null,nO===1/0||tO===1/0?[[NaN,NaN],[NaN,NaN]]:[[nO,tO],[eO,rO]]})),gA=hA("centroid",(function(n){_O=kO=jO=OO=AO=EO=SO=CO=0,DO=new Yv,MO=new Yv,FO=new Yv,Gv(n,$O);var t=+DO,e=+MO,r=+FO,i=uw(t,e,r);return i<1e-12&&(t=EO,e=SO,r=CO,kO<1e-6&&(t=jO,e=OO,r=AO),(i=uw(t,e,r))<1e-12)?[NaN,NaN]:[ew(e,t)*Zv,pw(r/i)*Zv]}));function mA(n,t,e){try{n[t].apply(n,["EXPRESSION"].concat([].slice.call(e)))}catch(t){n.warn(t)}return e[e.length-1]}function vA(n){const t=n/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wA(n){const t=ps(n);return.2126*vA(t.r)+.7152*vA(t.g)+.0722*vA(t.b)}function yA(n,t){return n===t||n!=n&&t!=t||(Object(g.B)(n)?!(!Object(g.B)(t)||n.length!==t.length)&&function(n,t){for(let e=0,r=n.length;e<r;++e)if(!yA(n[e],t[e]))return!1;return!0}(n,t):!(!Object(g.H)(n)||!Object(g.H)(t))&&bA(n,t))}function bA(n,t){for(const e in n)if(!yA(n[e],t[e]))return!1;return!0}function xA(n){return t=>bA(n,t)}const _A=n=>n.data;function kA(n,t){const e=ZO.call(t,n);return e.root&&e.root.lookup||{}}const jA=()=>"undefined"!=typeof window&&window||null;const OA={random:()=>sl(),cumulativeNormal:bl,cumulativeLogNormal:Al,cumulativeUniform:Fl,densityNormal:yl,densityLogNormal:Ol,densityUniform:Ml,quantileNormal:xl,quantileLogNormal:El,quantileUniform:Tl,sampleNormal:wl,sampleLogNormal:jl,sampleUniform:Dl,isArray:g.B,isBoolean:g.C,isDate:g.D,isDefined:n=>void 0!==n,isNumber:g.G,isObject:g.H,isRegExp:g.I,isString:g.J,isTuple:pi,isValid:n=>null!=n&&n==n,toBoolean:g.cb,toDate:g.db,toNumber:g.eb,toString:g.gb,flush:g.v,lerp:g.L,merge:function(){const n=[].slice.call(arguments);return n.unshift({}),Object(g.p)(...n)},pad:g.R,peek:g.W,span:g.Z,inrange:g.A,truncate:g.hb,rgb:ps,lab:Yc,hcl:nf,hsl:xs,luminance:wA,contrast:function(n,t){const e=wA(n),r=wA(t);return(Math.max(e,r)+.05)/(Math.min(e,r)+.05)},sequence:Zl,format:nA,utcFormat:eA,utcParse:iA,utcOffset:ae,utcSequence:ce,timeFormat:tA,timeParse:rA,timeOffset:ue,timeSequence:se,timeUnitSpecifier:Ft,monthFormat:function(n){return uA.call(this,n,1,"%B")},monthAbbrevFormat:function(n){return uA.call(this,n,1,"%b")},dayFormat:function(n){return uA.call(this,0,2+n,"%A")},dayAbbrevFormat:function(n){return uA.call(this,0,2+n,"%a")},quarter:g.X,utcquarter:g.jb,week:zt,utcweek:Ut,dayofyear:Bt,utcdayofyear:Lt,warn:function(){return mA(this.context.dataflow,"warn",arguments)},info:function(){return mA(this.context.dataflow,"info",arguments)},debug:function(){return mA(this.context.dataflow,"debug",arguments)},extent:g.q,inScope:function(n){const t=this.context.group;let e=!1;if(t)for(;n;){if(n===t){e=!0;break}n=n.mark.group}return e},intersect:function(n,t,e){if(!n)return[];const[r,i]=n,l=(new fd).set(r[0],r[1],i[0],i[1]);return ym(e||this.context.dataflow.scenegraph().root,l,function(n){let t=null;if(n){const e=Object(g.i)(n.marktype),r=Object(g.i)(n.markname);t=n=>(!e.length||e.some(t=>n.marktype===t))&&(!r.length||r.some(t=>n.name===t))}return t}(t))},clampRange:g.k,pinchDistance:function(n){const t=n.touches,e=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(e*e+r*r)},pinchAngle:function(n){const t=n.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const n=jA();return n?n.screen:{}},containerSize:function(){const n=this.context.dataflow,t=n.container&&n.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){const n=jA();return n?[n.innerWidth,n.innerHeight]:[void 0,void 0]},bandspace:function(n,t,e){return bf(n||0,t||0,e||0)},setdata:function(n,t){const e=this.context.dataflow,r=this.context.data[n].input;return e.pulse(r,e.changeset().remove(g.ib).insert(t)),1},pathShape:function(n){let t=null;return function(e){return e?Bh(e,t=t||jh(n)):n}},panLinear:g.S,panLog:g.T,panPow:g.U,panSymlog:g.V,zoomLinear:g.nb,zoomLog:g.ob,zoomPow:g.pb,zoomSymlog:g.qb,encode:function(n,t,e){if(n){const e=this.context.dataflow,r=n.mark.source;e.pulse(r,e.changeset().encode(n,t))}return void 0!==e?e:n},modify:function(n,t,e,r,i,l){const u=this.context.dataflow,a=this.context.data[n],o=a.input,s=u.stamp();let c,f,h=a.changes;if(!1===u._trigger||!(o.value.length||t||r))return 0;if((!h||h.stamp<s)&&(a.changes=h=u.changeset(),h.stamp=s,u.runAfter(()=>{a.modified=!0,u.pulse(o,h).run()},!0,1)),e&&(c=!0===e?g.ib:Object(g.B)(e)||pi(e)?e:xA(e),h.remove(c)),t&&h.insert(t),r&&(c=xA(r),o.value.some(c)?h.remove(c):h.insert(r)),i)for(f in l)h.modify(i,f,l[f]);return 1}},AA=["view","item","group","xy","x","y"],EA={},SA={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:n=>"_[".concat(Object(g.bb)("$"+n),"]"),functions:function(n){const t=Object(Gj.e)(n);AA.forEach(n=>t[n]="event.vega."+n);for(const n in OA)t[n]="this."+n;return Object(g.p)(t,fA(n,OA,EA)),t},constants:Gj.d,visitors:EA},CA=Object(Gj.c)(SA);function DA(n,t,e){return 1===arguments.length?OA[n]:(OA[n]=t,e&&(EA[n]=e),CA&&(CA.functions[n]="this."+n),this)}function MA(n,t){const e={};let r;try{n=Object(g.J)(n)?n:Object(g.bb)(n)+"",r=Object(Gj.f)(n)}catch(t){Object(g.o)("Expression parse error: "+n)}r.visit(n=>{if(n.type!==Gj.a)return;const r=n.callee.name,i=SA.visitors[r];i&&i(r,n.arguments,t,e)});const i=CA(r);return i.globals.forEach(n=>{const r="$"+n;!Object(g.w)(e,r)&&t.getSignal(n)&&(e[r]=t.signalRef(n))}),{$expr:Object(g.p)({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:e}}DA("bandwidth",(function(n,t){const e=cA(n,(t||this).context);return e&&e.bandwidth?e.bandwidth():0}),oA),DA("copy",(function(n,t){const e=cA(n,(t||this).context);return e?e.copy():void 0}),oA),DA("domain",(function(n,t){const e=cA(n,(t||this).context);return e?e.domain():[]}),oA),DA("range",(function(n,t){const e=cA(n,(t||this).context);return e&&e.range?e.range():[]}),oA),DA("invert",(function(n,t,e){const r=cA(n,(e||this).context);return r?Object(g.B)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),oA),DA("scale",(function(n,t,e){const r=cA(n,(e||this).context);return r?r(t):void 0}),oA),DA("gradient",(function(n,t,e,r,i){n=cA(n,(i||this).context);const l=yh(t,e);let u=n.domain(),a=u[0],o=Object(g.W)(u),s=g.y;return o-a?s=Hf(n,a,o):n=(n.interpolator?Mf("sequential")().interpolator(n.interpolator()):Mf("linear")().interpolate(n.interpolate()).range(n.range())).domain([a=0,o=1]),n.ticks&&(u=n.ticks(+r||15),a!==u[0]&&u.unshift(a),o!==Object(g.W)(u)&&u.push(o)),u.forEach(t=>l.stop(s(t),n(t))),l}),oA),DA("geoArea",dA,oA),DA("geoBounds",pA,oA),DA("geoCentroid",gA,oA),DA("geoShape",(function(n,t,e){const r=cA(n,(e||this).context);return function(n){return r?r.path.context(n)(t):""}}),oA),DA("indata",(function(n,t,e){const r=this.context.data[n]["index:"+t],i=r?r.value.get(e):void 0;return i?i.count:i}),(function(n,t,e,r){t[0].type!==Gj.b&&Object(g.o)("First argument to indata must be a string literal."),t[1].type!==Gj.b&&Object(g.o)("Second argument to indata must be a string literal.");const i=t[0].value,l=t[1].value,u="@"+l;Object(g.w)(u,r)||(r[u]=e.getData(i).indataRef(e,l))})),DA("data",ZO,aA),DA("treePath",(function(n,t,e){const r=kA(n,this),i=r[t],l=r[e];return i&&l?i.path(l).map(_A):void 0}),aA),DA("treeAncestors",(function(n,t){const e=kA(n,this)[t];return e?e.ancestors().map(_A):void 0}),aA),DA("vlSelectionTest",(function(n,t,e){for(var r,i,l,u,a,o=this.context.data[n],s=o?o.values.value:[],c=o?o["index:unit"]&&o["index:unit"].value:void 0,f="intersect"===e,h=s.length,d=0;d<h;++d)if(r=s[d],c&&f){if(-1===(l=(i=i||{})[u=r.unit]||0))continue;if(a=JO(t,r),i[u]=a?-1:++l,a&&1===c.size)return!0;if(!a&&l===c.get(u).count)return!1}else if(f^(a=JO(t,r)))return a;return h&&f}),KO),DA("vlSelectionResolve",(function(n,t,e){for(var r,i,l,u,a,o,s,c,f,h,d,p=this.context.data[n],m=p?p.values.value:[],v={},w={},y={},b=m.length,x=0;x<b;++x){for(u=(r=m[x]).unit,i=r.fields,l=r.values,h=0,d=i.length;h<d;++h)a=i[h],s=(o=v[a.field]||(v[a.field]={}))[u]||(o[u]=[]),y[a.field]=c=a.type.charAt(0),f=XO[c+"_union"],o[u]=f(s,Object(g.i)(l[h]));e&&(s=w[u]||(w[u]=[])).push(Object(g.i)(l).reduce((n,t,e)=>(n[i[e].field]=t,n),{}))}return t=t||"union",Object.keys(v).forEach(n=>{v[n]=Object.keys(v[n]).map(t=>v[n][t]).reduce((e,r)=>void 0===e?r:XO[y[n]+"_"+t](e,r))}),m=Object.keys(w),e&&m.length&&(v.vlMulti="union"===t?{or:m.reduce((n,t)=>(n.push(...w[t]),n),[])}:{and:m.map(n=>({or:w[n]}))}),v}),KO);const FA=Object(g.fb)(["rule"]),TA=Object(g.fb)(["group","image","rect"]);function NA(n){return(n+"").toLowerCase()}function BA(n,t,e){";"!==e[e.length-1]&&(e="return("+e+");");const r=Function(...t.concat(e));return n&&n.functions?r.bind(n.functions):r}var zA={operator:(n,t)=>BA(n,["_"],t.code),parameter:(n,t)=>BA(n,["datum","_"],t.code),event:(n,t)=>BA(n,["event"],t.code),handler:(n,t)=>BA(n,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";")),encode:(n,t)=>{const{marktype:e,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const n in r){const t="o["+Object(g.bb)(n)+"]";i+="$=".concat(r[n].code,";if(").concat(t,"!==$)").concat(t,"=$,m=1;")}return i+=function(n,t){let e="";return FA[t]||(n.x2&&(n.x?(TA[t]&&(e+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),e+="o.width=o.x2-o.x;"):e+="o.x=o.x2-(o.width||0);"),n.xc&&(e+="o.x=o.xc-(o.width||0)/2;"),n.y2&&(n.y?(TA[t]&&(e+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),e+="o.height=o.y2-o.y;"):e+="o.y=o.y2-(o.height||0);"),n.yc&&(e+="o.y=o.yc-(o.height||0)/2;")),e}(r,e),i+="return m;",BA(n,["item","_"],i)},codegen:{get(n){const t="[".concat(n.map(g.bb).join("]["),"]"),e=Function("_","return _".concat(t,";"));return e.path=t,e},comparator(n,t){let e;const r=Function("a","b","var u, v; return "+n.map((n,r)=>{const i=t[r];let l,u;return n.path?(l="a".concat(n.path),u="b".concat(n.path)):((e=e||{})["f"+r]=n,l="this.f".concat(r,"(a)"),u="this.f".concat(r,"(b)")),function(n,t,e,r){return"((u = ".concat(n,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(e,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(e,"\n  : v !== v && u === u ? ").concat(r," : ")}(l,u,-i,i)}).join("")+"0;");return e?r.bind(e):r}}};function PA(n,t,e){if(!n||!Object(g.H)(n))return n;for(let r,i=0,l=$A.length;i<l;++i)if(r=$A[i],Object(g.w)(n,r.key))return r.parse(n,t,e);return n}var $A=[{key:"$ref",parse:function(n,t){return t.get(n.$ref)||Object(g.o)("Operator not defined: "+n.$ref)}},{key:"$key",parse:function(n,t){const e="k:"+n.$key+"_"+!!n.$flat;return t.fn[e]||(t.fn[e]=Object(g.K)(n.$key,n.$flat,t.expr.codegen))}},{key:"$expr",parse:function(n,t,e){n.$params&&t.parseParameters(n.$params,e);const r="e:"+n.$expr.code+"_"+n.$name;return t.fn[r]||(t.fn[r]=Object(g.f)(t.parameterExpression(n.$expr),n.$fields,n.$name))}},{key:"$field",parse:function(n,t){if(!n.$field)return null;const e="f:"+n.$field+"_"+n.$name;return t.fn[e]||(t.fn[e]=Object(g.u)(n.$field,n.$name,t.expr.codegen))}},{key:"$encode",parse:function(n,t){const e=n.$encode,r={};for(const n in e){const i=e[n];r[n]=Object(g.f)(t.encodeExpression(i.$expr),i.$fields),r[n].output=i.$output}return r}},{key:"$compare",parse:function(n,t){const e="c:"+n.$compare+"_"+n.$order,r=Object(g.i)(n.$compare).map(n=>n&&n.$tupleid?gi:n);return t.fn[e]||(t.fn[e]=Object(g.l)(r,n.$order,t.expr.codegen))}},{key:"$context",parse:function(n,t){return t}},{key:"$subflow",parse:function(n,t){const e=n.$subflow;return function(n,r,i){const l=t.fork().parse(e),u=l.get(e.operators[0].id),a=l.signals.parent;return a&&a.set(i),u.detachSubflow=()=>t.detach(l),u}}},{key:"$tupleid",parse:function(){return gi}}];const RA={skip:!0};function IA(n,t,e,r){return new LA(n,t,e,r)}function LA(n,t,e,r){this.dataflow=n,this.transforms=t,this.events=n.events.bind(n),this.expr=r||zA,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},e&&(this.functions=Object.create(e),this.functions.context=this)}function UA(n){this.dataflow=n.dataflow,this.transforms=n.transforms,this.events=n.events,this.expr=n.expr,this.signals=Object.create(n.signals),this.scales=Object.create(n.scales),this.nodes=Object.create(n.nodes),this.data=Object.create(n.data),this.fn=Object.create(n.fn),n.functions&&(this.functions=Object.create(n.functions),this.functions.context=this)}LA.prototype=UA.prototype={fork(){const n=new UA(this);return(this.subcontext||(this.subcontext=[])).push(n),n},detach(n){this.subcontext=this.subcontext.filter(t=>t!==n);const t=Object.keys(n.nodes);for(const e of t)n.nodes[e]._targets=null;for(const e of t)n.nodes[e].detach();n.nodes=null},get(n){return this.nodes[n]},set(n,t){return this.nodes[n]=t},add(n,t){const e=this,r=e.dataflow,i=n.value;if(e.set(n.id,t),"collect"===NA(n.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),n.root&&(e.root=t),n.parent){let i=e.get(n.parent.$ref);i?(r.connect(i,[t]),t.targets().add(i)):(e.unresolved=e.unresolved||[]).push(()=>{i=e.get(n.parent.$ref),r.connect(i,[t]),t.targets().add(i)})}if(n.signal&&(e.signals[n.signal]=t),n.scale&&(e.scales[n.scale]=t),n.data)for(const r in n.data){const i=e.data[r]||(e.data[r]={});n.data[r].forEach(n=>i[n]=t)}},resolve(){return(this.unresolved||[]).forEach(n=>n()),delete this.unresolved,this},operator(n,t){this.add(n,this.dataflow.add(n.value,t))},transform(n,t){this.add(n,this.dataflow.add(this.transforms[NA(t)]))},stream(n,t){this.set(n.id,t)},update(n,t,e,r,i){this.dataflow.on(t,e,r,i,n.options)},operatorExpression(n){return this.expr.operator(this,n)},parameterExpression(n){return this.expr.parameter(this,n)},eventExpression(n){return this.expr.event(this,n)},handlerExpression(n){return this.expr.handler(this,n)},encodeExpression(n){return this.expr.encode(this,n)},parse:function(n){const t=this,e=n.operators||[];return n.background&&(t.background=n.background),n.eventConfig&&(t.eventConfig=n.eventConfig),n.locale&&(t.locale=n.locale),e.forEach(n=>t.parseOperator(n)),e.forEach(n=>t.parseOperatorParameters(n)),(n.streams||[]).forEach(n=>t.parseStream(n)),(n.updates||[]).forEach(n=>t.parseUpdate(n)),t.resolve()},parseOperator:function(n){const t=this;"operator"!==NA(n.type)&&n.type?t.transform(n,n.type):t.operator(n,n.update?t.operatorExpression(n.update):null)},parseOperatorParameters:function(n){const t=this;if(n.params){const e=t.get(n.id);e||Object(g.o)("Invalid operator id: "+n.id),t.dataflow.connect(e,e.parameters(t.parseParameters(n.params),n.react,n.initonly))}},parseParameters:function(n,t){t=t||{};const e=this;for(const r in n){const i=n[r];t[r]=Object(g.B)(i)?i.map(n=>PA(n,e,t)):PA(i,e,t)}return t},parseStream:function(n){var t,e=this,r=null!=n.filter?e.eventExpression(n.filter):void 0,i=null!=n.stream?e.get(n.stream):void 0;n.source?i=e.events(n.source,n.type,r):n.merge&&(i=(t=n.merge.map(n=>e.get(n)))[0].merge.apply(t[0],t.slice(1))),n.between&&(t=n.between.map(n=>e.get(n)),i=i.between(t[0],t[1])),n.filter&&(i=i.filter(r)),null!=n.throttle&&(i=i.throttle(+n.throttle)),null!=n.debounce&&(i=i.debounce(+n.debounce)),null==i&&Object(g.o)("Invalid stream definition: "+JSON.stringify(n)),n.consume&&i.consume(!0),e.stream(n,i)},parseUpdate:function(n){var t,e=Object(g.H)(e=n.source)?e.$ref:e,r=this.get(e),i=n.update,l=void 0;r||Object(g.o)("Source not defined: "+n.source),t=n.target&&n.target.$expr?this.eventExpression(n.target.$expr):this.get(n.target),i&&i.$expr&&(i.$params&&(l=this.parseParameters(i.$params)),i=this.handlerExpression(i.$expr)),this.update(n,r,t,i,l)},getState:function(n){var t=this,e={};if(n.signals){var r=e.signals={};Object.keys(t.signals).forEach(e=>{const i=t.signals[e];n.signals(e,i)&&(r[e]=i.value)})}if(n.data){var i=e.data={};Object.keys(t.data).forEach(e=>{const r=t.data[e];n.data(e,r)&&(i[e]=r.input.value)})}return t.subcontext&&!1!==n.recurse&&(e.subcontext=t.subcontext.map(t=>t.getState(n))),e},setState:function(n){var t=this,e=t.dataflow,r=n.data,i=n.signals;Object.keys(i||{}).forEach(n=>{e.update(t.signals[n],i[n],RA)}),Object.keys(r||{}).forEach(n=>{e.pulse(t.data[n].input,e.changeset().remove(g.ib).insert(r[n]))}),(n.subcontext||[]).forEach((n,e)=>{const r=t.subcontext[e];r&&r.setState(n)})}};function qA(n,t){n&&(null==t?n.removeAttribute("aria-label"):n.setAttribute("aria-label",t))}function HA(n,t){const e=n.globalCursor()?"undefined"!=typeof document&&document.body:n.container();if(e)return null==t?e.style.removeProperty("cursor"):e.style.cursor=t}function WA(n,t){var e=n._runtime.data;return Object(g.w)(e,t)||Object(g.o)("Unrecognized data set: "+t),e[t]}function GA(n,t){_i(t)||Object(g.o)("Second argument to changes must be a changeset.");const e=WA(this,n);return e.modified=!0,this.pulse(e.input,t)}function YA(n){var t=n.padding();return Math.max(0,n._viewWidth+t.left+t.right)}function VA(n){var t=n.padding();return Math.max(0,n._viewHeight+t.top+t.bottom)}function JA(n){var t=n.padding(),e=n._origin;return[t.left+e[0],t.top+e[1]]}function XA(n,t,e){var r,i,l=n._renderer,u=l&&l.canvas();return u&&(i=JA(n),(r=yg(t.changedTouches?t.changedTouches[0]:t,u))[0]-=i[0],r[1]-=i[1]),t.dataflow=n,t.item=e,t.vega=function(n,t,e){const r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(n){var e,i=r;if(n)for(e=t;e;e=e.mark.group)if(e.mark.name===n){i=e;break}return i&&i.mark&&i.mark.interactive?i:{}}function l(n){if(!n)return e;Object(g.J)(n)&&(n=i(n));const t=e.slice();for(;n;)t[0]-=n.x||0,t[1]-=n.y||0,n=n.mark&&n.mark.group;return t}return{view:Object(g.m)(n),item:Object(g.m)(t||{}),group:i,xy:l,x:function(n){return l(n)[0]},y:function(n){return l(n)[1]}}}(n,e,r),t}const KA={trap:!1};function ZA(n,t,e){const r=n._eventConfig&&n._eventConfig[t];return!(!1===r||Object(g.H)(r)&&!r[e])||(n.warn("Blocked ".concat(t," ").concat(e," event listener.")),!1)}function QA(n){return n.item}function nE(n){return n.item.mark.source}function tE(n){return function(t,e){return e.vega.view().changeset().encode(e.item,n)}}function eE(n,t,e){const r=document.createElement(n);for(const n in t)r.setAttribute(n,t[n]);return null!=e&&(r.textContent=e),r}function rE(n,t,e){if(!t)return;const r=e.param;let i=e.state;return i||(i=e.state={elements:null,active:!1,set:null,update:t=>{t!==n.signal(r.signal)&&n.runAsync(null,()=>{i.source=!0,n.signal(r.signal,t)})}},r.debounce&&(i.update=Object(g.n)(r.debounce,i.update))),function(n,t,e,r){const i=eE("div",{class:"vega-bind"}),l="radio"===e.input?i:i.appendChild(eE("label"));l.appendChild(eE("span",{class:"vega-bind-name"},e.name||e.signal)),t.appendChild(i);let u=iE;switch(e.input){case"checkbox":u=lE;break;case"select":u=uE;break;case"radio":u=aE;break;case"range":u=oE}u(n,l,e,r)}(i,t,r,n.signal(r.signal)),i.active||(n.on(n._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(n.signal(r.signal))}),i.active=!0),i}function iE(n,t,e,r){const i=eE("input");for(const n in e)"signal"!==n&&"element"!==n&&i.setAttribute("input"===n?"type":n,e[n]);i.setAttribute("name",e.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>n.update(i.value)),n.elements=[i],n.set=n=>i.value=n}function lE(n,t,e,r){const i={type:"checkbox",name:e.signal};r&&(i.checked=!0);const l=eE("input",i);t.appendChild(l),l.addEventListener("change",()=>n.update(l.checked)),n.elements=[l],n.set=n=>l.checked=!!n||null}function uE(n,t,e,r){const i=eE("select",{name:e.signal}),l=e.labels||[];e.options.forEach((n,t)=>{const e={value:n};sE(n,r)&&(e.selected=!0),i.appendChild(eE("option",e,(l[t]||n)+""))}),t.appendChild(i),i.addEventListener("change",()=>{n.update(e.options[i.selectedIndex])}),n.elements=[i],n.set=n=>{for(let t=0,r=e.options.length;t<r;++t)if(sE(e.options[t],n))return void(i.selectedIndex=t)}}function aE(n,t,e,r){const i=eE("span",{class:"vega-bind-radio"}),l=e.labels||[];t.appendChild(i),n.elements=e.options.map((t,u)=>{const a={type:"radio",name:e.signal,value:t};sE(t,r)&&(a.checked=!0);const o=eE("input",a);o.addEventListener("change",()=>n.update(t));const s=eE("label",{},(l[u]||t)+"");return s.prepend(o),i.appendChild(s),o}),n.set=t=>{const e=n.elements,r=e.length;for(let n=0;n<r;++n)sE(e[n].value,t)&&(e[n].checked=!0)}}function oE(n,t,e,r){r=void 0!==r?r:(+e.max+ +e.min)/2;const i=null!=e.max?e.max:Math.max(100,+r)||100,l=e.min||Math.min(0,i,+r)||0,u=e.step||an(l,i,100),a=eE("input",{type:"range",name:e.signal,min:l,max:i,step:u});a.value=r;const o=eE("span",{},+r);t.appendChild(a),t.appendChild(o);const s=()=>{o.textContent=a.value,n.update(+a.value)};a.addEventListener("input",s),a.addEventListener("change",s),n.elements=[a],n.set=n=>{a.value=n,o.textContent=n}}function sE(n,t){return n===t||n+""==t+""}function cE(n,t,e,r,i,l){return(t=t||new r(n.loader())).initialize(e,YA(n),VA(n),JA(n),i,l).background(n.background())}function fE(n,t){return t?function(){try{t.apply(this,arguments)}catch(t){n.error(t)}}:null}function hE(n,t){if("string"==typeof t){if("undefined"==typeof document)return n.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return n.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(e){t=null,n.error(e)}return t}const dE=n=>+n||0;function pE(n){return Object(g.H)(n)?{top:dE(n.top),bottom:dE(n.bottom),left:dE(n.left),right:dE(n.right)}:(n=>({top:n,bottom:n,left:n,right:n}))(dE(n))}async function gE(n,t,e,r){const i=wm(t),l=i&&i.headless;return l||Object(g.o)("Unrecognized renderer type: "+t),await n.runAsync(),cE(n,null,null,l,e,r).renderAsync(n._scenegraph.root)}var mE={skip:!0};function vE(n,t){var e=n.autosize(),r=n.padding();return t-(e&&"padding"===e.contains?r.left+r.right:0)}function wE(n,t){var e=n.autosize(),r=n.padding();return t-(e&&"padding"===e.contains?r.top+r.bottom:0)}function yE(n,t){return t.modified&&Object(g.B)(t.input.value)&&n.indexOf("_:vega:_")}function bE(n,t){return!("parent"===n||t instanceof Vi.proxy)}function xE(n,t,e,r){const i=n.element();i&&i.setAttribute("title",function(n){return null==n?"":Object(g.B)(n)?_E(n):Object(g.H)(n)&&!Object(g.D)(n)?(t=n,Object.keys(t).map(n=>{const e=t[n];return n+": "+(Object(g.B)(e)?_E(e):kE(e))}).join("\n")):n+"";var t}(r))}function _E(n){return"["+n.map(kE).join(", ")+"]"}function kE(n){return Object(g.B)(n)?"[…]":Object(g.H)(n)&&!Object(g.D)(n)?"{…}":n}function jE(n,t){const e=this;if(t=t||{},Wi.call(e),t.loader&&e.loader(t.loader),t.logger&&e.logger(t.logger),null!=t.logLevel&&e.logLevel(t.logLevel),t.locale||n.locale){const r=Object(g.p)({},n.locale,t.locale);e.locale(li(r.number,r.time))}e._el=null,e._elBind=null,e._renderType=t.renderer||mm.Canvas,e._scenegraph=new hg;const r=e._scenegraph.root;e._renderer=null,e._tooltip=t.tooltip||xE,e._redraw=!0,e._handler=(new Fg).scene(r),e._globalCursor=!1,e._preventDefault=!1,e._timers=[],e._eventListeners=[],e._resizeListeners=[],e._eventConfig=function(n){const t=Object(g.p)({defaults:{}},n),e=(n,t)=>{t.forEach(t=>{Object(g.B)(n[t])&&(n[t]=Object(g.fb)(n[t]))})};return e(t.defaults,["prevent","allow"]),e(t,["view","window","selector"]),t}(n.eventConfig),e.globalCursor(e._eventConfig.globalCursor);const i=function(n,t,e){return IA(n,Vi,OA,e).parse(t)}(e,n,t.expr);e._runtime=i,e._signals=i.signals,e._bind=(n.bindings||[]).map(n=>({state:null,param:Object(g.p)({},n)})),i.root&&i.root.set(r),r.source=i.data.root.input,e.pulse(i.data.root.input,e.changeset().insert(r.items)),e._width=e.width(),e._height=e.height(),e._viewWidth=vE(e,e._width),e._viewHeight=wE(e,e._height),e._origin=[0,0],e._resize=0,e._autosize=1,function(n){var t=n._signals,e=t.width,r=t.height,i=t.padding;function l(){n._autosize=n._resize=1}n._resizeWidth=n.add(null,t=>{n._width=t.size,n._viewWidth=vE(n,t.size),l()},{size:e}),n._resizeHeight=n.add(null,t=>{n._height=t.size,n._viewHeight=wE(n,t.size),l()},{size:r});const u=n.add(null,l,{pad:i});n._resizeWidth.rank=e.rank+1,n._resizeHeight.rank=r.rank+1,u.rank=i.rank+1}(e),function(n){n.add(null,t=>(n._background=t.bg,n._resize=1,t.bg),{bg:n._signals.background})}(e),function(n){const t=n._signals.cursor||(n._signals.cursor=n.add({user:"default",item:null}));n.on(n.events("view","mousemove"),t,(n,e)=>{const r=t.value,i=r?Object(g.J)(r)?r:r.user:"default",l=e.item&&e.item.cursor||null;return r&&i===r.user&&l==r.item?r:{user:i,item:l}}),n.add(null,(function(t){let e=t.cursor,r=this.value;return Object(g.J)(e)||(r=e.item,e=e.user),HA(n,e&&"default"!==e?e:r||e),r}),{cursor:t})}(e),e.description(n.description),t.hover&&e.hover(),t.container&&e.initialize(t.container,t.bind)}function OE(n,t){return Object(g.w)(n._signals,t)?n._signals[t]:Object(g.o)("Unrecognized signal name: "+Object(g.bb)(t))}function AE(n,t){const e=(n._targets||[]).filter(n=>n._update&&n._update.handler===t);return e.length?e[0]:null}function EE(n,t,e,r){let i=AE(e,r);return i||(i=fE(n,()=>r(t,e.value)),i.handler=r,n.on(e,null,i)),n}function SE(n,t,e){const r=AE(t,e);return r&&t._targets.remove(r),n}Object(g.z)(jE,Wi,{async evaluate(n,t,e){if(await Wi.prototype.evaluate.call(this,n,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,i=JA(r=this),l=YA(r),u=VA(r),r._renderer.background(r.background()),r._renderer.resize(l,u,i),r._handler.origin(i),r._resizeListeners.forEach(n=>{try{n(l,u)}catch(n){r.error(n)}})),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(n){this.error(n)}var r,i,l,u;return e&&fi(this,e),this},dirty(n){this._redraw=!0,this._renderer&&this._renderer.dirty(n)},description(n){if(arguments.length){const t=null!=n?n+"":null;return t!==this._desc&&qA(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(n,t,e){const r=OE(this,n);return 1===arguments.length?r.value:this.update(r,t,e)},width(n){return arguments.length?this.signal("width",n):this.signal("width")},height(n){return arguments.length?this.signal("height",n):this.signal("height")},padding(n){return arguments.length?this.signal("padding",pE(n)):pE(this.signal("padding"))},autosize(n){return arguments.length?this.signal("autosize",n):this.signal("autosize")},background(n){return arguments.length?this.signal("background",n):this.signal("background")},renderer(n){return arguments.length?(wm(n)||Object(g.o)("Unrecognized renderer type: "+n),n!==this._renderType&&(this._renderType=n,this._resetRenderer()),this):this._renderType},tooltip(n){return arguments.length?(n!==this._tooltip&&(this._tooltip=n,this._resetRenderer()),this):this._tooltip},loader(n){return arguments.length?(n!==this._loader&&(Wi.prototype.loader.call(this,n),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(OE(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(n,t,e,r,i,l){this.runAfter(u=>{let a=0;u._autosize=0,u.width()!==e&&(a=1,u.signal("width",e,mE),u._resizeWidth.skip(!0)),u.height()!==r&&(a=1,u.signal("height",r,mE),u._resizeHeight.skip(!0)),u._viewWidth!==n&&(u._resize=1,u._viewWidth=n),u._viewHeight!==t&&(u._resize=1,u._viewHeight=t),u._origin[0]===i[0]&&u._origin[1]===i[1]||(u._resize=1,u._origin=i),a&&u.run("enter"),l&&u.runAfter(n=>n.resize())},!1,1)},addEventListener(n,t,e){let r=t;return e&&!1===e.trap||(r=fE(this,t),r.raw=t),this._handler.on(n,r),this},removeEventListener(n,t){for(var e,r,i=this._handler.handlers(n),l=i.length;--l>=0;)if(r=i[l].type,e=i[l].handler,n===r&&(t===e||t===e.raw)){this._handler.off(r,e);break}return this},addResizeListener(n){const t=this._resizeListeners;return t.indexOf(n)<0&&t.push(n),this},removeResizeListener(n){var t=this._resizeListeners,e=t.indexOf(n);return e>=0&&t.splice(e,1),this},addSignalListener(n,t){return EE(this,n,OE(this,n),t)},removeSignalListener(n,t){return SE(this,OE(this,n),t)},addDataListener(n,t){return EE(this,n,WA(this,n).values,t)},removeDataListener(n,t){return SE(this,WA(this,n).values,t)},globalCursor(n){if(arguments.length){if(this._globalCursor!==!!n){const t=HA(this,null);this._globalCursor=!!n,t&&HA(this,t)}return this}return this._globalCursor},preventDefault(n){return arguments.length?(this._preventDefault=n,this):this._preventDefault},timer:function(n,t){this._timers.push(function(n,t,e){var r=new Zx,i=t;return null==t?(r.restart(n,t,e),r):(r._restart=r.restart,r.restart=function(n,t,e){t=+t,e=null==e?Xx():+e,r._restart((function l(u){u+=i,r._restart(l,i+=t,e),n(u)}),t,e)},r.restart(n,t,e),r)}((function(t){n({timestamp:Date.now(),elapsed:t})}),t))},events:function(n,t,e){var r,i=this,l=new Di(e),u=function(e,r){i.runAsync(null,()=>{"view"===n&&function(n,t){var e=n._eventConfig.defaults,r=e.prevent,i=e.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:n.preventDefault()))}(i,t)&&e.preventDefault(),l.receive(XA(i,e,r))})};if("timer"===n)ZA(i,"timer",t)&&i.timer(u,t);else if("view"===n)ZA(i,"view",t)&&i.addEventListener(t,u,KA);else if("window"===n?ZA(i,"window",t)&&"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&ZA(i,"selector",t)&&(r=document.querySelectorAll(n)),r){for(var a=0,o=r.length;a<o;++a)r[a].addEventListener(t,u);i._eventListeners.push({type:t,sources:r,handler:u})}else i.warn("Can not resolve event source: "+n);return l},finalize:function(){var n,t,e,r=this._tooltip,i=this._timers,l=this._eventListeners;for(n=i.length;--n>=0;)i[n].stop();for(n=l.length;--n>=0;)for(t=(e=l[n]).sources.length;--t>=0;)e.sources[t].removeEventListener(e.type,e.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(n,t){return t=[t||"update",(n=[n||"hover"])[0]],this.on(this.events("view","mouseover",QA),nE,tE(n)),this.on(this.events("view","mouseout",QA),nE,tE(t)),this},data:function(n,t){return arguments.length<2?WA(this,n).values.value:GA.call(this,n,ki().remove(g.ib).insert(t))},change:GA,insert:function(n,t){return GA.call(this,n,ki().insert(t))},remove:function(n,t){return GA.call(this,n,ki().remove(t))},scale:function(n){var t=this._runtime.scales;return Object(g.w)(t,n)||Object(g.o)("Unrecognized scale or projection: "+n),t[n].value},initialize:function(n,t){const e=this,r=e._renderType,i=e._eventConfig.bind,l=wm(r);n=e._el=n?hE(e,n):null,function(n){const t=n.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),qA(t,n.description()))}(e),l||e.error("Unrecognized renderer type: "+r);const u=l.handler||Fg,a=n?l.renderer:l.headless;return e._renderer=a?cE(e,e._renderer,n,a):null,e._handler=function(n,t,e,r){const i=new r(n.loader(),fE(n,n.tooltip())).scene(n.scenegraph().root).initialize(e,JA(n),n);return t&&t.handlers().forEach(n=>{i.on(n.type,n.handler)}),i}(e,e._handler,n,u),e._redraw=!0,n&&"none"!==i&&(t=t?e._elBind=hE(e,t):n.appendChild(eE("form",{class:"vega-bindings"})),e._bind.forEach(n=>{n.param.element&&"container"!==i&&(n.element=hE(e,n.param.element))}),e._bind.forEach(n=>{rE(e,n.element||t,n)})),e},toImageURL:async function(n,t){n!==mm.Canvas&&n!==mm.SVG&&n!==mm.PNG&&Object(g.o)("Unrecognized image type: "+n);const e=await gE(this,n,t);return n===mm.SVG?function(n,t){const e=new Blob([n],{type:t});return window.URL.createObjectURL(e)}(e.svg(),"image/svg+xml"):e.canvas().toDataURL("image/png")},toCanvas:async function(n,t){return(await gE(this,mm.Canvas,n,t)).canvas()},toSVG:async function(n){return(await gE(this,mm.SVG,n)).svg()},getState:function(n){return this._runtime.getState(n||{data:yE,signals:bE,recurse:!0})},setState:function(n){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(n)},n=>{n._trigger=!0}),this}});var CE=e(3);function DE(n){return Object(g.H)(n)?n:{type:n||"pad"}}const ME=n=>+n||0;function FE(n){return Object(g.H)(n)?n.signal?n:{top:ME(n.top),bottom:ME(n.bottom),left:ME(n.left),right:ME(n.right)}:{top:t=ME(n),bottom:t,left:t,right:t};var t}const TE=n=>Object(g.H)(n)&&!Object(g.B)(n)?Object(g.p)({},n):{value:n};function NE(n,t,e,r){if(null!=e){return Object(g.H)(e)&&!Object(g.B)(e)||Object(g.B)(e)&&e.length&&Object(g.H)(e[0])?n.update[t]=e:n[r||"enter"][t]={value:e},1}return 0}function BE(n,t,e){for(const e in t)NE(n,e,t[e]);for(const t in e)NE(n,t,e[t],"update")}function zE(n,t,e){for(const r in t)e&&Object(g.w)(e,r)||(n[r]=Object(g.p)(n[r]||{},t[r]));return n}function PE(n,t){return t&&(t.enter&&t.enter[n]||t.update&&t.update[n])}function $E(n,t,e){n[t]=e&&e.signal?{signal:e.signal}:{value:e}}const RE=n=>Object(g.J)(n)?Object(g.bb)(n):n.signal?"(".concat(n.signal,")"):qE(n);function IE(n){if(null!=n.gradient)return function(n){const t=[n.start,n.stop,n.count].map(n=>null==n?null:Object(g.bb)(n));for(;t.length&&null==Object(g.W)(t);)t.pop();return t.unshift(RE(n.gradient)),"gradient(".concat(t.join(","),")")}(n);let t=n.signal?"(".concat(n.signal,")"):n.color?function(n){return n.c?LE("hcl",n.h,n.c,n.l):n.h||n.s?LE("hsl",n.h,n.s,n.l):n.l||n.a?LE("lab",n.l,n.a,n.b):n.r||n.g||n.b?LE("rgb",n.r,n.g,n.b):null}(n.color):null!=n.field?qE(n.field):void 0!==n.value?Object(g.bb)(n.value):void 0;return null!=n.scale&&(t=function(n,t){const e=RE(n.scale);null!=n.range?t="lerp(_range(".concat(e,"), ").concat(+n.range,")"):(void 0!==t&&(t="_scale(".concat(e,", ").concat(t,")")),n.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(e,")")+(1==+n.band?"":"*"+UE(n.band)),n.extra&&(t="(datum.extra ? _scale(".concat(e,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(n,t)),void 0===t&&(t=null),null!=n.exponent&&(t="pow(".concat(t,",").concat(UE(n.exponent),")")),null!=n.mult&&(t+="*".concat(UE(n.mult))),null!=n.offset&&(t+="+".concat(UE(n.offset))),n.round&&(t="round(".concat(t,")")),t}const LE=(n,t,e,r)=>"(".concat(n,"(").concat([t,e,r].map(IE).join(","),")+'')");function UE(n){return Object(g.H)(n)?"("+IE(n)+")":n}function qE(n){return function n(t){let e,r,i;if(t.signal)e="datum",i=t.signal;else if(t.group||t.parent){for(r=Math.max(1,t.level||1),e="item";r-- >0;)e+=".mark.group";t.parent?(i=t.parent,e+=".datum"):i=t.group}else t.datum?(e="datum",i=t.datum):Object(g.o)("Invalid field reference: "+Object(g.bb)(t));t.signal||(i=Object(g.J)(i)?Object(g.ab)(i).map(g.bb).join("]["):n(i));return e+"["+i+"]"}(Object(g.H)(n)?n:{datum:n})}function HE(n,t,e,r,i,l){const u={};(l=l||{}).encoders={$encode:u},n=function(n,t,e,r,i){const l={},u={};let a,o,s,c;for(o in o="lineBreak","text"!==t||null==i[o]||PE(o,n)||$E(l,o,i[o]),("legend"==e||String(e).startsWith("axis"))&&(e=null),c="frame"===e?i.group:"mark"===e?Object(g.p)({},i.mark,i[t]):null,c)s=PE(o,n)||("fill"===o||"stroke"===o)&&(PE("fill",n)||PE("stroke",n)),s||$E(l,o,c[o]);for(o in Object(g.i)(r).forEach(t=>{const e=i.style&&i.style[t];for(const t in e)PE(t,n)||$E(l,t,e[t])}),n=Object(g.p)({},n),l)c=l[o],c.signal?(a=a||{})[o]=c:u[o]=c;return n.enter=Object(g.p)(u,n.enter),a&&(n.update=Object(g.p)(a,n.update)),n}(n,t,e,r,i.config);for(const e in n)u[e]=WE(n[e],t,l,i);return l}function WE(n,t,e,r){const i={},l={};for(const t in n)null!=n[t]&&(i[t]=GE((u=n[t],Object(g.B)(u)?function(n){let t="";return n.forEach(n=>{const e=IE(n);t+=n.test?"(".concat(n.test,")?").concat(e,":"):e}),":"===Object(g.W)(t)&&(t+="null"),t}(u):IE(u)),r,e,l));var u;return{$expr:{marktype:t,channels:i},$fields:Object.keys(l),$output:Object.keys(n)}}function GE(n,t,e,r){const i=MA(n,t);return i.$fields.forEach(n=>r[n]=1),Object(g.p)(e,i.$params),i.$expr}const YE=["value","update","init","react","bind"];function VE(n,t){Object(g.o)(n+' for "outer" push: '+Object(g.bb)(t))}function JE(n,t){const e=n.name;if("outer"===n.push)t.signals[e]||VE("No prior signal definition",e),YE.forEach(t=>{void 0!==n[t]&&VE("Invalid property ",t)});else{const r=t.addSignal(e,n.value);!1===n.react&&(r.react=!1),n.bind&&t.addBinding(e,n.bind)}}function XE(n,t,e,r){this.id=-1,this.type=n,this.value=t,this.params=e,r&&(this.parent=r)}function KE(n,t,e,r){return new XE(n,t,e,r)}function ZE(n,t){return KE("operator",n,t)}function QE(n){const t={$ref:n.id};return n.id<0&&(n.refs=n.refs||[]).push(t),t}function nS(n,t){return t?{$field:n,$name:t}:{$field:n}}const tS=nS("key");function eS(n,t){return{$compare:n,$order:t}}function rS(n,t){return(n&&n.signal?"$"+n.signal:n||"")+(n&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function iS(n){return n&&n.signal}function lS(n){if(iS(n))return!0;if(Object(g.H)(n))for(const t in n)if(lS(n[t]))return!0;return!1}function uS(n,t){return null!=n?n:t}function aS(n){return n&&n.signal||n}function oS(n,t){return(n.merge?sS:n.stream?cS:n.type?fS:Object(g.o)("Invalid stream specification: "+Object(g.bb)(n)))(n,t)}function sS(n,t){const e=hS({merge:n.merge.map(n=>oS(n,t))},n,t);return t.addStream(e).id}function cS(n,t){const e=hS({stream:oS(n.stream,t)},n,t);return t.addStream(e).id}function fS(n,t){let e;var r;"timer"===n.type?(e=t.event("timer",n.throttle),n={between:n.between,filter:n.filter}):e=t.event("scope"===(r=n.source)?"view":r||"view",n.type);const i=hS({stream:e},n,t);return 1===Object.keys(i).length?e:t.addStream(i).id}function hS(n,t,e){let r=t.between;return r&&(2!==r.length&&Object(g.o)('Stream "between" parameter must have 2 entries: '+Object(g.bb)(t)),n.between=[oS(r[0],e),oS(r[1],e)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(n,t,e){const r="event.item";return r+(n&&"*"!==n?"&&"+r+".mark.marktype==='"+n+"'":"")+(e?"&&"+r+".mark.role==='"+e+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),"scope"===t.source&&r.push("inScope(event.item)"),r.length&&(n.filter=MA("("+r.join(")&&(")+")",e).$expr),null!=(r=t.throttle)&&(n.throttle=+r),null!=(r=t.debounce)&&(n.debounce=+r),t.consume&&(n.consume=!0),n}const dS={code:"_.$value",ast:{type:"Identifier",value:"value"}};function pS(n,t,e){const r=n.encode,i={target:e};let l=n.events,u=n.update,a=[];l||Object(g.o)("Signal update missing events specification."),Object(g.J)(l)&&(l=Object(CE.a)(l,t.isSubscope()?"scope":"view")),l=Object(g.i)(l).filter(n=>n.signal||n.scale?(a.push(n),0):1),a.length>1&&(a=[gS(a)]),l.length&&a.push(l.length>1?{merge:l}:l[0]),null!=r&&(u&&Object(g.o)("Signal encode and update are mutually exclusive."),u="encode(item(),"+Object(g.bb)(r)+")"),i.update=Object(g.J)(u)?MA(u,t):null!=u.expr?MA(u.expr,t):null!=u.value?u.value:null!=u.signal?{$expr:dS,$params:{$value:t.signalRef(u.signal)}}:Object(g.o)("Invalid signal update specification."),n.force&&(i.options={force:!0}),a.forEach(n=>t.addUpdate(Object(g.p)(function(n,t){return{source:n.signal?t.signalRef(n.signal):n.scale?t.scaleRef(n.scale):oS(n,t)}}(n,t),i)))}function gS(n){return{signal:"["+n.map(n=>n.scale?'scale("'+n.scale+'")':n.signal)+"]"}}const mS=n=>(t,e,r)=>KE(n,e,t||void 0,r),vS=mS("aggregate"),wS=mS("axisticks"),yS=mS("bound"),bS=mS("collect"),xS=mS("compare"),_S=mS("datajoin"),kS=mS("encode"),jS=mS("expression"),OS=mS("facet"),AS=mS("field"),ES=mS("key"),SS=mS("legendentries"),CS=mS("load"),DS=mS("mark"),MS=mS("multiextent"),FS=mS("multivalues"),TS=mS("overlap"),NS=mS("params"),BS=mS("prefacet"),zS=mS("projection"),PS=mS("proxy"),$S=mS("relay"),RS=mS("render"),IS=mS("scale"),LS=mS("sieve"),US=mS("sortitems"),qS=mS("viewlayout"),HS=mS("values");let WS=0;const GS={min:"min",max:"max",count:"sum"};function YS(n,t){const e=t.getScale(n.name).params;let r;var i;for(r in e.domain=KS(n.domain,n,t),null!=n.range&&(e.range=function n(t,e,r){const i=e.config.range;let l=t.range;if(l.signal)return e.signalRef(l.signal);if(Object(g.J)(l)){if(i&&Object(g.w)(i,l))return t=Object(g.p)({},t,{range:i[l]}),n(t,e,r);"width"===l?l=[0,{signal:"width"}]:"height"===l?l=Bf(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(g.o)("Unrecognized scale range value: "+Object(g.bb)(l))}else{if(l.scheme)return r.scheme=Object(g.B)(l.scheme)?JS(l.scheme,e):VS(l.scheme,e),l.extent&&(r.schemeExtent=JS(l.extent,e)),void(l.count&&(r.schemeCount=VS(l.count,e)));if(l.step)return void(r.rangeStep=VS(l.step,e));if(Bf(t.type)&&!Object(g.B)(l))return KS(l,t,e);Object(g.B)(l)||Object(g.o)("Unsupported range type: "+Object(g.bb)(l))}return l.map(n=>(Object(g.B)(n)?JS:VS)(n,e))}(n,t,e)),null!=n.interpolate&&function(n,t){t.interpolate=VS(n.type||n),null!=n.gamma&&(t.interpolateGamma=VS(n.gamma))}(n.interpolate,e),null!=n.nice&&(e.nice=(i=n.nice,Object(g.H)(i)?{interval:VS(i.interval),step:VS(i.step)}:VS(i))),null!=n.bins&&(e.bins=function(n,t){return n.signal||Object(g.B)(n)?JS(n,t):t.objectProperty(n)}(n.bins,t)),n)Object(g.w)(e,r)||"name"===r||(e[r]=VS(n[r],t))}function VS(n,t){return Object(g.H)(n)?n.signal?t.signalRef(n.signal):Object(g.o)("Unsupported object: "+Object(g.bb)(n)):n}function JS(n,t){return n.signal?t.signalRef(n.signal):n.map(n=>VS(n,t))}function XS(n){Object(g.o)("Can not find data set: "+Object(g.bb)(n))}function KS(n,t,e){if(n)return n.signal?e.signalRef(n.signal):(Object(g.B)(n)?ZS:n.fields?nC:QS)(n,t,e);null==t.domainMin&&null==t.domainMax||Object(g.o)("No scale domain defined for domainMin/domainMax to override.")}function ZS(n,t,e){return n.map(n=>VS(n,e))}function QS(n,t,e){const r=e.getData(n.data);return r||XS(n.data),Bf(t.type)?r.valuesRef(e,n.field,eC(n.sort,!1)):Rf(t.type)?r.domainRef(e,n.field):r.extentRef(e,n.field)}function nC(n,t,e){const r=n.data,i=n.fields.reduce((n,t)=>(t=Object(g.J)(t)?{data:r,field:t}:Object(g.B)(t)||t.signal?function(n,t){const e="_:vega:_"+WS++,r=bS({});if(Object(g.B)(n))r.value={$ingest:n};else if(n.signal){const i="setdata("+Object(g.bb)(e)+","+n.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(e,[r,LS({})]),{data:e,field:"data"}}(t,e):t,n.push(t),n),[]);return(Bf(t.type)?tC:Rf(t.type)?rC:iC)(n,e,i)}function tC(n,t,e){const r=eC(n.sort,!0);let i,l;const u=e.map(n=>{const e=t.getData(n.data);return e||XS(n.data),e.countsRef(t,n.field,r)}),a={groupby:tS,pulse:u};r&&(i=r.op||"count",l=r.field?rS(i,r.field):"count",a.ops=[GS[i]],a.fields=[t.fieldRef(l)],a.as=[l]),i=t.add(vS(a));const o=t.add(bS({pulse:QE(i)}));return l=t.add(HS({field:tS,sort:t.sortRef(r),pulse:QE(o)})),QE(l)}function eC(n,t){return n&&(n.field||n.op?n.field||"count"===n.op?t&&n.field&&n.op&&!GS[n.op]&&Object(g.o)("Multiple domain scales can not be sorted using "+n.op):Object(g.o)("No field provided for sort aggregate op: "+n.op):Object(g.H)(n)?n.field="key":n={field:"key"}),n}function rC(n,t,e){const r=e.map(n=>{const e=t.getData(n.data);return e||XS(n.data),e.domainRef(t,n.field)});return QE(t.add(FS({values:r})))}function iC(n,t,e){const r=e.map(n=>{const e=t.getData(n.data);return e||XS(n.data),e.extentRef(t,n.field)});return QE(t.add(MS({extents:r})))}function lC(n,t,e){return Object(g.B)(n)?n.map(n=>lC(n,t,e)):Object(g.H)(n)?n.signal?e.signalRef(n.signal):"fit"===t?n:Object(g.o)("Unsupported parameter object: "+Object(g.bb)(n)):n}const uC="value",aC=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],oC={name:1,style:1,interactive:1},sC={value:0},cC={value:1};function fC(n){return n.type="group",n.interactive=n.interactive||!1,n}function hC(n,t){const e=(e,r)=>uS(n[e],uS(t[e],r));return e.isVertical=e=>"vertical"===uS(n.direction,t.direction||(e?t.symbolDirection:t.gradientDirection)),e.gradientLength=()=>uS(n.gradientLength,t.gradientLength||t.gradientWidth),e.gradientThickness=()=>uS(n.gradientThickness,t.gradientThickness||t.gradientHeight),e.entryColumns=()=>uS(n.columns,uS(t.columns,+e.isVertical(!0))),e}function dC(n,t){const e=t&&(t.update&&t.update[n]||t.enter&&t.enter[n]);return e&&e.signal?e:e?e.value:null}function pC(n,t,e){return"item.anchor === '".concat("start","' ? ").concat(n," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(e)}const gC=pC(Object(g.bb)("left"),Object(g.bb)("right"),Object(g.bb)("center"));function mC(n,t){return t?n?Object(g.H)(n)?Object.assign({},n,{offset:mC(n.offset,t)}):{value:n,offset:t}:t:n}function vC(n,t){return t?(n.name=t.name,n.style=t.style||n.style,n.interactive=!!t.interactive,n.encode=zE(n.encode,t,oC)):n.interactive=!1,n}function wC(n,t,e,r){const i=hC(n,e),l=i.isVertical(),u=i.gradientThickness(),a=i.gradientLength();let o,s,c,f,h;l?(s=[0,1],c=[0,0],f=u,h=a):(s=[0,0],c=[1,0],f=a,h=u);const d={enter:o={opacity:sC,x:sC,y:sC,width:TE(f),height:TE(h)},update:Object(g.p)({},o,{opacity:cC,fill:{gradient:t,start:s,stop:c}}),exit:{opacity:sC}};return BE(d,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),vC({type:"rect",role:"legend-gradient",encode:d},r)}function yC(n,t,e,r,i){const l=hC(n,e),u=l.isVertical(),a=l.gradientThickness(),o=l.gradientLength();let s,c,f,h,d="";u?(s="y",f="y2",c="x",h="width",d="1-"):(s="x",f="x2",c="y",h="height");const p={opacity:sC,fill:{scale:t,field:uC}};p[s]={signal:d+"datum.perc",mult:o},p[c]=sC,p[f]={signal:d+"datum.perc2",mult:o},p[h]=TE(a);const m={enter:p,update:Object(g.p)({},p,{opacity:cC}),exit:{opacity:sC}};return BE(m,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),vC({type:"rect",role:"legend-band",key:uC,from:i,encode:m},r)}const bC="datum.".concat("perc",'<=0?"').concat("left",'":datum.').concat("perc",'>=1?"').concat("right",'":"').concat("center",'"'),xC="datum.".concat("perc",'<=0?"').concat("bottom",'":datum.').concat("perc",'>=1?"').concat("top",'":"').concat("middle",'"');function _C(n,t,e,r){const i=hC(n,t),l=i.isVertical(),u=TE(i.gradientThickness()),a=i.gradientLength();let o,s,c,f,h=i("labelOverlap"),d="";const p={enter:o={opacity:sC},update:s={opacity:cC,text:{field:"label"}},exit:{opacity:sC}};return BE(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:uS(n.labelLimit,t.gradientLabelLimit)}),l?(o.align={value:"left"},o.baseline=s.baseline={signal:xC},c="y",f="x",d="1-"):(o.align=s.align={signal:bC},o.baseline={value:"top"},c="x",f="y"),o[c]=s[c]={signal:d+"datum.perc",mult:a},o[f]=s[f]=u,u.offset=uS(n.labelOffset,t.gradientLabelOffset)||0,h=h?{separation:i("labelSeparation"),method:h,order:"datum.index"}:void 0,vC({type:"text",role:"legend-label",style:"guide-label",key:uC,from:r,encode:p,overlap:h},e)}function kC(n,t,e,r,i){const l=hC(n,t),u=e.entries,a=!(!u||!u.interactive),o=u?u.name:void 0,s=l("clipHeight"),c=l("symbolOffset"),f={data:"value"},h="(".concat(i,") ? datum.").concat("offset"," : datum.").concat("size"),d=s?TE(s):{field:"size"},p="datum.".concat("index"),g="max(1, ".concat(i,")");let m,v,w,y,b;d.mult=.5,m={enter:v={opacity:sC,x:{signal:h,mult:.5,offset:c},y:d},update:w={opacity:cC,x:v.x,y:v.y},exit:{opacity:sC}};let x=null,_=null;n.fill||(x=t.symbolBaseFillColor,_=t.symbolBaseStrokeColor),BE(m,{fill:l("symbolFillColor",x),shape:l("symbolType"),size:l("symbolSize"),stroke:l("symbolStrokeColor",_),strokeDash:l("symbolDash"),strokeDashOffset:l("symbolDashOffset"),strokeWidth:l("symbolStrokeWidth")},{opacity:l("symbolOpacity")}),aC.forEach(t=>{n[t]&&(w[t]=v[t]={scale:n[t],field:uC})});const k=vC({type:"symbol",role:"legend-symbol",key:uC,from:f,clip:!!s||void 0,encode:m},e.symbols),j=TE(c);j.offset=l("labelOffset"),m={enter:v={opacity:sC,x:{signal:h,offset:j},y:d},update:w={opacity:cC,text:{field:"label"},x:v.x,y:v.y},exit:{opacity:sC}},BE(m,{align:l("labelAlign"),baseline:l("labelBaseline"),fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:l("labelLimit")});const O=vC({type:"text",role:"legend-label",style:"guide-label",key:uC,from:f,encode:m},e.labels);return m={enter:{noBound:{value:!s},width:sC,height:s?TE(s):sC,opacity:sC},exit:{opacity:sC},update:w={opacity:cC,row:{signal:null},column:{signal:null}}},l.isVertical(!0)?(y="ceil(item.mark.items.length / ".concat(g,")"),w.row.signal="".concat(p,"%").concat(y),w.column.signal="floor(".concat(p," / ").concat(y,")"),b={field:["row",p]}):(w.row.signal="floor(".concat(p," / ").concat(g,")"),w.column.signal="".concat(p," % ").concat(g),b={field:p}),w.column.signal="(".concat(i,")?").concat(w.column.signal,":").concat(p),fC({role:"scope",from:r={facet:{data:r,name:"value",groupby:"index"}},encode:zE(m,u,oC),marks:[k,O],name:o,interactive:a,sort:b})}const jC='item.orient === "left"',OC='item.orient === "right"',AC="(".concat(jC," || ").concat(OC,")"),EC="datum.vgrad && ".concat(AC),SC=pC('"top"','"bottom"','"middle"'),CC=pC('"right"','"left"','"center"'),DC="datum.vgrad && ".concat(OC," ? (").concat(CC,") : (").concat(AC," && !(datum.vgrad && ").concat(jC,')) ? "left" : ').concat(gC),MC="item._anchor || (".concat(AC,' ? "middle" : "start")'),FC="".concat(EC," ? (").concat(jC," ? -90 : 90) : 0"),TC="".concat(AC," ? (datum.vgrad ? (").concat(OC,' ? "bottom" : "top") : ').concat(SC,') : "top"');function NC(n,t){let e;return Object(g.H)(n)&&(n.signal?e=n.signal:n.path?e="pathShape("+BC(n.path)+")":n.sphere&&(e="geoShape("+BC(n.sphere)+', {type: "Sphere"})')),e?t.signalRef(e):!!n}function BC(n){return Object(g.H)(n)&&n.signal?n.signal:Object(g.bb)(n)}function zC(n){const t=n.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?"group"===n.type?"scope":t||"mark":t}function PC(n){return{marktype:n.type,name:n.name||void 0,role:n.role||zC(n),zindex:+n.zindex||void 0,aria:n.aria,description:n.description}}function $C(n,t){return n&&n.signal?t.signalRef(n.signal):!1!==n}function RC(n,t){const e=Ji(n.type);e||Object(g.o)("Unrecognized transform type: "+Object(g.bb)(n.type));const r=KE(e.type.toLowerCase(),null,IC(e,n,t));return n.signal&&t.addSignal(n.signal,t.proxy(r)),r.metadata=e.metadata||{},r}function IC(n,t,e){const r={},i=n.params.length;for(let l=0;l<i;++l){const i=n.params[l];r[i.name]=LC(i,t,e)}return r}function LC(n,t,e){const r=n.type,i=t[n.name];return"index"===r?function(n,t,e){Object(g.J)(t.from)||Object(g.o)('Lookup "from" parameter must be a string literal.');return e.getData(t.from).lookupRef(e,t.key)}(0,t,e):void 0!==i?"param"===r?function(n,t,e){const r=t[n.name];return n.array?(Object(g.B)(r)||Object(g.o)("Expected an array of sub-parameters. Instead: "+Object(g.bb)(r)),r.map(t=>qC(n,t,e))):qC(n,r,e)}(n,t,e):"projection"===r?e.projectionRef(t[n.name]):n.array&&!iS(i)?i.map(t=>UC(n,t,e)):UC(n,i,e):void(n.required&&Object(g.o)("Missing required "+Object(g.bb)(t.type)+" parameter: "+Object(g.bb)(n.name)))}function UC(n,t,e){const r=n.type;if(iS(t))return YC(r)?Object(g.o)("Expression references can not be signals."):VC(r)?e.fieldRef(t):JC(r)?e.compareRef(t):e.signalRef(t.signal);{const i=n.expr||VC(r);return i&&HC(t)?e.exprRef(t.expr,t.as):i&&WC(t)?nS(t.field,t.as):YC(r)?MA(t,e):GC(r)?QE(e.getData(t).values):VC(r)?nS(t):JC(r)?e.compareRef(t):t}}function qC(n,t,e){const r=n.params.length;let i;for(let e=0;e<r;++e){i=n.params[e];for(const n in i.key)if(i.key[n]!==t[n]){i=null;break}if(i)break}i||Object(g.o)("Unsupported parameter: "+Object(g.bb)(t));const l=Object(g.p)(IC(i,t,e),i.key);return QE(e.add(NS(l)))}const HC=n=>n&&n.expr,WC=n=>n&&n.field,GC=n=>"data"===n,YC=n=>"expr"===n,VC=n=>"field"===n,JC=n=>"compare"===n;function XC(n,t){return n.$ref?n:n.data&&n.data.$ref?n.data:QE(t.getData(n.data).output)}function KC(n,t,e,r,i){this.scope=n,this.input=t,this.output=e,this.values=r,this.aggregate=i,this.index={}}function ZC(n){return Object(g.J)(n)?n:null}function QC(n,t,e){const r=rS(e.op,e.field);let i;if(t.ops){for(let n=0,e=t.as.length;n<e;++n)if(t.as[n]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];e.op&&(t.ops.push((i=e.op.signal)?n.signalRef(i):e.op),t.fields.push(n.fieldRef(e.field)),t.as.push(r))}function nD(n,t,e,r,i,l,u){const a=t[e]||(t[e]={}),o=function(n){return Object(g.H)(n)?("descending"===n.order?"-":"+")+rS(n.op,n.field):""}(l);let s,c,f=ZC(i);if(null!=f&&(n=t.scope,f+=o?"|"+o:"",s=a[f]),!s){const e=l?{field:tS,pulse:t.countsRef(n,i,l)}:{field:n.fieldRef(i),pulse:QE(t.output)};o&&(e.sort=n.sortRef(l)),c=n.add(KE(r,void 0,e)),u&&(t.index[i]=c),s=QE(c),null!=f&&(a[f]=s)}return s}function tD(n,t,e){const r=n.remove,i=n.insert,l=n.toggle,u=n.modify,a=n.values,o=t.add(ZE()),s=MA("if("+n.trigger+',modify("'+e+'",'+[i,r,l,u,a].map(n=>null==n?"null":n).join(",")+"),0)",t);o.update=s.$expr,o.params=s.$params}function eD(n,t){const e=zC(n),r="group"===n.type,i=n.from&&n.from.facet,l=n.overlap;let u,a,o,s,c,f,h,d=n.layout||"scope"===e||"frame"===e;const p="mark"===e||d||i,m=function(n,t,e){let r,i,l,u,a;return n?(r=n.facet)&&(t||Object(g.o)("Only group marks can be faceted."),null!=r.field?u=a=XC(r,e):(n.data?a=QE(e.getData(n.data).aggregate):(l=RC(Object(g.p)({type:"aggregate",groupby:Object(g.i)(r.groupby)},r.aggregate),e),l.params.key=e.keyRef(r.groupby),l.params.pulse=XC(r,e),u=a=QE(e.add(l))),i=e.keyRef(r.groupby,!0))):u=QE(e.add(bS(null,[{}]))),u||(u=XC(n,e)),{key:i,pulse:u,parent:a}}(n.from,r,t);a=t.add(_S({key:m.key||(n.key?nS(n.key):void 0),pulse:m.pulse,clean:!r}));const v=QE(a);a=o=t.add(bS({pulse:v})),a=t.add(DS({markdef:PC(n),interactive:$C(n.interactive,t),clip:NC(n.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:QE(a)}));const w=QE(a);a=s=t.add(kS(HE(n.encode,n.type,e,n.style,t,{mod:!1,pulse:w}))),a.params.parent=t.encode(),n.transform&&n.transform.forEach(n=>{const e=RC(n,t),r=e.metadata;(r.generates||r.changes)&&Object(g.o)("Mark transforms should not generate new data."),r.nomod||(s.params.mod=!0),e.params.pulse=QE(a),t.add(a=e)}),n.sort&&(a=t.add(US({sort:t.compareRef(n.sort),pulse:QE(a)})));const y=QE(a);(i||d)&&(d=t.add(qS({layout:t.objectProperty(n.layout),legends:t.legends,mark:w,pulse:y})),f=QE(d));const b=t.add(yS({mark:w,pulse:f||y}));h=QE(b),r&&(p&&(u=t.operators,u.pop(),d&&u.pop()),t.pushState(y,f||h,v),i?function(n,t,e){const r=n.from.facet,i=r.name,l=XC(r,t);let u;r.name||Object(g.o)("Facet must have a name: "+Object(g.bb)(r)),r.data||Object(g.o)("Facet must reference a data set: "+Object(g.bb)(r)),r.field?u=t.add(BS({field:t.fieldRef(r.field),pulse:l})):r.groupby?u=t.add(OS({key:t.keyRef(r.groupby),group:QE(t.proxy(e.parent)),pulse:l})):Object(g.o)("Facet must specify groupby or field: "+Object(g.bb)(r));const a=t.fork(),o=a.add(bS()),s=a.add(LS({pulse:QE(o)}));a.addData(i,new KC(a,o,o,s)),a.addSignal("parent",null),u.params.subflow={$subflow:a.parse(n).toRuntime()}}(n,t,m):p?function(n,t,e){const r=t.add(BS({pulse:e.pulse})),i=t.fork();i.add(LS()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(n).toRuntime()}}(n,t,m):t.parse(n),t.popState(),p&&(d&&u.push(d),u.push(b))),l&&(h=function(n,t,e){const r=n.method,i=n.bound,l=n.separation,u={separation:iS(l)?e.signalRef(l.signal):l,method:iS(r)?e.signalRef(r.signal):r,pulse:t};n.order&&(u.sort=e.compareRef({field:n.order}));if(i){const n=i.tolerance;u.boundTolerance=iS(n)?e.signalRef(n.signal):+n,u.boundScale=e.scaleRef(i.scale),u.boundOrient=i.orient}return QE(e.add(TS(u)))}(l,h,t));const x=t.add(RS({pulse:h})),_=t.add(LS({pulse:QE(x)},void 0,t.parent()));null!=n.name&&(c=n.name,t.addData(c,new KC(t,o,x,_)),n.on&&n.on.forEach(n=>{(n.insert||n.remove||n.toggle)&&Object(g.o)("Marks only support modify triggers."),tD(n,t,c)}))}function rD(n,t){const e=t.config.legend,r=n.encode||{},i=hC(n,e),l=r.legend||{},u=l.name||void 0,a=l.interactive,o=l.style,s={};let c,f,h,d=0;aC.forEach(t=>n[t]?(s[t]=n[t],d=d||n[t]):0),d||Object(g.o)("Missing valid scale for legend.");const p=function(n,t){let e=n.type||"symbol";n.type||1!==function(n){return aC.reduce((t,e)=>t+(n[e]?1:0),0)}(n)||!n.fill&&!n.stroke||(e=Nf(t)?"gradient":zf(t)?"discrete":"symbol");return"gradient"!==e?e:zf(t)?"discrete":"gradient"}(n,t.scaleType(d)),m={title:null!=n.title,scales:s,type:p,vgrad:"symbol"!==p&&i.isVertical()},v=QE(t.add(bS(null,[m]))),w=QE(t.add(SS(f={type:p,scale:t.scaleRef(d),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(n.values),minstep:t.property(n.tickMinStep),formatType:t.property(n.formatType),formatSpecifier:t.property(n.format)})));return"gradient"===p?(h=[wC(n,d,e,r.gradient),_C(n,e,r.labels,w)],f.count=f.count||t.signalRef("max(2,2*floor((".concat(aS(i.gradientLength()),")/100))"))):"discrete"===p?h=[yC(n,d,e,r.gradient,w),_C(n,e,r.labels,w)]:(c=function(n,t){const e=hC(n,t);return{align:e("gridAlign"),columns:e.entryColumns(),center:{row:!0,column:!1},padding:{row:e("rowPadding"),column:e("columnPadding")}}}(n,e),h=[kC(n,e,r,w,aS(c.columns))],f.size=function(n,t,e){const r=aS(lD("size",n,e)),i=aS(lD("strokeWidth",n,e)),l=aS(function(n,t,e){return dC("fontSize",n)||function(n,t,e){const r=t.config.style[e];return r&&r[n]}("fontSize",t,e)}(e[1].encode,t,"guide-label"));return MA("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(l,")"),t)}(n,t,h[0].marks)),h=[fC({role:"legend-entry",from:v,encode:{enter:{x:{value:0},y:{value:0}}},marks:h,layout:c,interactive:a})],m.title&&h.push(function(n,t,e,r){const i=hC(n,t),l={enter:{opacity:sC},update:{opacity:cC,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:sC}};return BE(l,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:MC},angle:{signal:FC},align:{signal:DC},baseline:{signal:TC},text:n.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),vC({type:"text",role:"legend-title",style:"guide-title",from:r,encode:l},e)}(n,e,r.title,v)),eD(fC({role:"legend",from:v,encode:zE(iD(i,n,e),l,oC),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:u,interactive:a,style:o}),t)}function iD(n,t,e){const r={enter:{},update:{}};return BE(r,{orient:n("orient"),offset:n("offset"),padding:n("padding"),titlePadding:n("titlePadding"),cornerRadius:n("cornerRadius"),fill:n("fillColor"),stroke:n("strokeColor"),strokeWidth:e.strokeWidth,strokeDash:e.strokeDash,x:n("legendX"),y:n("legendY"),format:t.format,formatType:t.formatType}),r}function lD(n,t,e){return t[n]?'scale("'.concat(t[n],'",datum)'):dC(n,e[0].encode)}KC.fromEntries=function(n,t){const e=t.length,r=t[e-1],i=t[e-2];let l=t[0],u=null,a=1;for(l&&"load"===l.type&&(l=t[1]),n.add(t[0]);a<e;++a)t[a].params.pulse=QE(t[a-1]),n.add(t[a]),"aggregate"===t[a].type&&(u=t[a]);return new KC(n,l,i,r,u)},KC.prototype={countsRef(n,t,e){const r=this,i=r.counts||(r.counts={}),l=ZC(t);let u,a,o;return null!=l&&(n=r.scope,u=i[l]),u?e&&e.field&&QC(n,u.agg.params,e):(o={groupby:n.fieldRef(t,"key"),pulse:QE(r.output)},e&&e.field&&QC(n,o,e),a=n.add(vS(o)),u=n.add(bS({pulse:QE(a)})),u={agg:a,ref:QE(u)},null!=l&&(i[l]=u)),u.ref},tuplesRef(){return QE(this.values)},extentRef(n,t){return nD(n,this,"extent","extent",t,!1)},domainRef(n,t){return nD(n,this,"domain","values",t,!1)},valuesRef(n,t,e){return nD(n,this,"vals","values",t,e||!0)},lookupRef(n,t){return nD(n,this,"lookup","tupleindex",t,!1)},indataRef(n,t){return nD(n,this,"indata","tupleindex",t,!0,!0)}};const uD='item.orient==="'.concat("left",'"?-90:item.orient==="').concat("right",'"?90:0');function aD(n,t){const e=hC(n=Object(g.J)(n)?{text:n}:n,t.config.title),r=n.encode||{},i=r.group||{},l=i.name||void 0,u=i.interactive,a=i.style,o=[],s=QE(t.add(bS(null,[{}])));return o.push(function(n,t,e,r){const i={value:0},l=n.text,u={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return BE(u,{text:l,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),vC({type:"text",role:"title-text",style:"group-title",from:r,encode:u},e)}(n,e,function(n){const t=n.encode;return t&&t.title||Object(g.p)({name:n.name,interactive:n.interactive,style:n.style},t)}(n),s)),n.subtitle&&o.push(function(n,t,e,r){const i={value:0},l=n.subtitle,u={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return BE(u,{text:l,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),vC({type:"text",role:"title-subtitle",style:"group-subtitle",from:r,encode:u},e)}(n,e,r.subtitle,s)),eD(fC({role:"title",from:s,encode:oD(e,i),marks:o,aria:e("aria"),description:e("description"),zindex:e("zindex"),name:l,interactive:u,style:a}),t)}function oD(n,t){const e={enter:{},update:{}};return BE(e,{orient:n("orient"),anchor:n("anchor"),align:{signal:gC},angle:{signal:uD},limit:n("limit"),frame:n("frame"),offset:n("offset")||0,padding:n("subtitlePadding")}),zE(e,t,oC)}function sD(n,t){const e=[];n.transform&&n.transform.forEach(n=>{e.push(RC(n,t))}),n.on&&n.on.forEach(e=>{tD(e,t,n.name)}),t.addDataPipeline(n.name,function(n,t,e){const r=[];let i,l,u,a,o,s=null,c=!1,f=!1;n.values?lS(n.values)||lS(n.format)?(r.push(fD(t,n)),r.push(s=cD())):r.push(s=cD({$ingest:n.values,$format:n.format})):n.url?lS(n.url)||lS(n.format)?(r.push(fD(t,n)),r.push(s=cD())):r.push(s=cD({$request:n.url,$format:n.format})):n.source&&(s=i=Object(g.i)(n.source).map(n=>QE(t.getData(n).output)),r.push(null));for(l=0,u=e.length;l<u;++l)a=e[l],o=a.metadata,s||o.source||r.push(s=cD()),r.push(a),o.generates&&(f=!0),o.modifies&&!f&&(c=!0),o.source?s=a:o.changes&&(s=null);i&&(u=i.length-1,r[0]=$S({derive:c,pulse:u?i:i[0]}),(c||u)&&r.splice(1,0,cD()));s||r.push(cD());return r.push(LS({})),r}(n,t,e))}function cD(n){const t=bS({},n);return t.metadata={source:!0},t}function fD(n,t){return CS({url:t.url?n.property(t.url):void 0,async:t.async?n.property(t.async):void 0,values:t.values?n.property(t.values):void 0,format:n.objectProperty(t.format)})}const hD=n=>"bottom"===n||"top"===n,dD=(n,t,e)=>iS(n)?yD(n.signal,t,e):"left"===n||"top"===n?t:e,pD=(n,t,e)=>iS(n)?vD(n.signal,t,e):hD(n)?t:e,gD=(n,t,e)=>iS(n)?wD(n.signal,t,e):hD(n)?e:t,mD=(n,t,e)=>iS(n)?bD(n.signal,t,e):"top"===n?{value:t}:{value:e},vD=(n,t,e)=>_D("".concat(n," === '").concat("top","' || ").concat(n," === '").concat("bottom","'"),t,e),wD=(n,t,e)=>_D("".concat(n," !== '").concat("top","' && ").concat(n," !== '").concat("bottom","'"),t,e),yD=(n,t,e)=>jD("".concat(n," === '").concat("left","' || ").concat(n," === '").concat("top","'"),t,e),bD=(n,t,e)=>jD("".concat(n," === '").concat("top","'"),t,e),xD=(n,t,e)=>jD("".concat(n," === '").concat("right","'"),t,e),_D=(n,t,e)=>(t=null!=t?TE(t):t,e=null!=e?TE(e):e,kD(t)&&kD(e)?(t=t?t.signal||Object(g.bb)(t.value):null,e=e?e.signal||Object(g.bb)(e.value):null,{signal:"".concat(n," ? (").concat(t,") : (").concat(e,")")}):[Object(g.p)({test:n},t)].concat(e||[])),kD=n=>null==n||1===Object.keys(n).length,jD=(n,t,e)=>({signal:"".concat(n," ? (").concat(OD(t),") : (").concat(OD(e),")")}),OD=n=>iS(n)?n.signal:null==n?null:Object(g.bb)(n),AD=(n,t)=>{const e=n.signal;return e&&e.endsWith("(null)")?{signal:e.slice(0,-6)+t.signal}:n};function ED(n,t,e,r){let i;if(t&&Object(g.w)(t,n))return t[n];if(Object(g.w)(e,n))return e[n];if(n.startsWith("title")){switch(n){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=n[5].toLowerCase()+n.slice(6)}return r["guide-title"][i]}if(n.startsWith("label")){switch(n){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=n[5].toLowerCase()+n.slice(6)}return r["guide-label"][i]}return null}function SD(n){const t={};for(const e of n)if(e)for(const n in e)t[n]=1;return Object.keys(t)}function CD(n,t){return{scale:n.scale,range:t}}function DD(n,t,e,r,i){const l=hC(n,t),u=n.orient,a=n.gridScale,o=dD(u,1,-1),s=function(n,t){if(1===t);else if(Object(g.H)(n)){let e=n=Object(g.p)({},n);for(;null!=e.mult;){if(!Object(g.H)(e.mult))return e.mult=iS(t)?{signal:"(".concat(e.mult,") * (").concat(t.signal,")")}:e.mult*t,n;e=e.mult=Object(g.p)({},e.mult)}e.mult=t}else n=iS(t)?{signal:"(".concat(t.signal,") * (").concat(n||0,")")}:t*(n||0);return n}(n.offset,o);let c,f,h;const d={enter:c={opacity:sC},update:h={opacity:cC},exit:f={opacity:sC}};BE(d,{stroke:l("gridColor"),strokeCap:l("gridCap"),strokeDash:l("gridDash"),strokeDashOffset:l("gridDashOffset"),strokeOpacity:l("gridOpacity"),strokeWidth:l("gridWidth")});const p={scale:n.scale,field:uC,band:i.band,extra:i.extra,offset:i.offset,round:l("tickRound")},m=pD(u,{signal:"height"},{signal:"width"}),v=a?{scale:a,range:0,mult:o,offset:s}:{value:0,offset:s},w=a?{scale:a,range:1,mult:o,offset:s}:Object(g.p)(m,{mult:o,offset:s});return c.x=h.x=pD(u,p,v),c.y=h.y=gD(u,p,v),c.x2=h.x2=gD(u,w),c.y2=h.y2=pD(u,w),f.x=pD(u,p),f.y=gD(u,p),vC({type:"rule",role:"axis-grid",key:uC,from:r,encode:d},e)}function MD(n,t,e,r,i){return{signal:'flush(range("'+n+'"), scale("'+n+'", datum.value), '+t+","+e+","+r+","+i+")"}}function FD(n,t,e,r,i,l){const u=hC(n,t),a=n.orient,o=n.scale,s=dD(a,-1,1),c=aS(u("labelFlush")),f=aS(u("labelFlushOffset")),h=u("labelAlign"),d=u("labelBaseline");let p,g=0===c||!!c;const m=TE(i);m.mult=s,m.offset=TE(u("labelPadding")||0),m.offset.mult=s;const v={scale:o,field:uC,band:.5,offset:mC(l.offset,u("labelOffset"))},w=pD(a,g?MD(o,c,'"left"','"right"','"center"'):{value:"center"},((n,t,e)=>iS(n)?xD(n.signal,t,e):"right"===n?{value:t}:{value:e})(a,"left","right")),y=pD(a,mD(a,"bottom","top"),g?MD(o,c,'"top"','"bottom"','"middle"'):{value:"middle"}),b=MD(o,c,"-(".concat(f,")"),f,0);g=g&&f;const x={opacity:sC,x:pD(a,v,m),y:gD(a,v,m)},_={enter:x,update:p={opacity:cC,text:{field:"label"},x:x.x,y:x.y,align:w,baseline:y},exit:{opacity:sC,x:x.x,y:x.y}};BE(_,{dx:!h&&g?pD(a,b):null,dy:!d&&g?gD(a,b):null}),BE(_,{angle:u("labelAngle"),fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontWeight:u("labelFontWeight"),fontStyle:u("labelFontStyle"),limit:u("labelLimit"),lineHeight:u("labelLineHeight")},{align:h,baseline:d});const k=u("labelBound");let j=u("labelOverlap");return j=j||k?{separation:u("labelSeparation"),method:j,order:"datum.index",bound:k?{scale:o,orient:a,tolerance:k}:null}:void 0,p.align!==w&&(p.align=AD(p.align,w)),p.baseline!==y&&(p.baseline=AD(p.baseline,y)),vC({type:"text",role:"axis-label",style:"guide-label",key:uC,from:r,encode:_,overlap:j},e)}function TD(n,t,e,r){const i=hC(n,t),l=n.orient,u=dD(l,-1,1);let a,o;const s={enter:a={opacity:sC,anchor:TE(i("titleAnchor",null)),align:{signal:gC}},update:o=Object(g.p)({},a,{opacity:cC,text:TE(n.title)}),exit:{opacity:sC}},c={signal:'lerp(range("'.concat(n.scale,'"), ').concat(pC(0,1,.5),")")};return o.x=pD(l,c),o.y=gD(l,c),a.angle=pD(l,sC,((n,t)=>0===t?0:iS(n)?{signal:"(".concat(n.signal,") * ").concat(t)}:{value:n*t})(u,90)),a.baseline=pD(l,mD(l,"bottom","top"),{value:"bottom"}),o.angle=a.angle,o.baseline=a.baseline,BE(s,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),function(n,t,e,r){const i=(n,t)=>null!=n?(e.update[t]=AD(TE(n),e.update[t]),!1):!PE(t,r),l=i(n("titleX"),"x"),u=i(n("titleY"),"y");e.enter.auto=u===l?TE(u):pD(t,TE(u),TE(l))}(i,l,s,e),s.update.align=AD(s.update.align,a.align),s.update.angle=AD(s.update.angle,a.angle),s.update.baseline=AD(s.update.baseline,a.baseline),vC({type:"text",role:"axis-title",style:"guide-title",from:r,encode:s},e)}function ND(n,t){const e=function(n,t){var e,r,i,l,u,a,o,s,c=t.config,f=c.style,h=c.axis,d="band"===t.scaleType(n.scale)&&c.axisBand,p=n.orient;if(iS(p)){const n=SD([c.axisX,c.axisY]),t=SD([c.axisTop,c.axisBottom,c.axisLeft,c.axisRight]);for(i of(e={},n))e[i]=pD(p,ED(i,c.axisX,h,f),ED(i,c.axisY,h,f));for(i of(r={},t))r[i]=(l=p.signal,u=ED(i,c.axisTop,h,f),a=ED(i,c.axisBottom,h,f),o=ED(i,c.axisLeft,h,f),s=ED(i,c.axisRight,h,f),{signal:(null!=o?"".concat(l," === '").concat("left","' ? (").concat(OD(o),") : "):"")+(null!=a?"".concat(l," === '").concat("bottom","' ? (").concat(OD(a),") : "):"")+(null!=s?"".concat(l," === '").concat("right","' ? (").concat(OD(s),") : "):"")+(null!=u?"".concat(l," === '").concat("top","' ? (").concat(OD(u),") : "):"")+"(null)"})}else e="top"===p||"bottom"===p?c.axisX:c.axisY,r=c["axis"+p[0].toUpperCase()+p.slice(1)];return e||r||d?Object(g.p)({},h,e,r,d):h}(n,t),r=n.encode||{},i=r.axis||{},l=i.name||void 0,u=i.interactive,a=i.style,o=hC(n,e),s=function(n){const t=n("tickBand");let e,r,i=n("tickOffset");return t?t.signal?(e={signal:"(".concat(t.signal,") === 'extent' ? 1 : 0.5")},r={signal:"(".concat(t.signal,") === 'extent'")},Object(g.H)(i)||(i={signal:"(".concat(t.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===t?(e=1,r=!0,i=0):(e=.5,r=!1):(e=n("bandPosition"),r=n("tickExtra")),{extra:r,band:e,offset:i}}(o),c={scale:n.scale,ticks:!!o("ticks"),labels:!!o("labels"),grid:!!o("grid"),domain:!!o("domain"),title:null!=n.title},f=QE(t.add(bS({},[c]))),h=QE(t.add(wS({scale:t.scaleRef(n.scale),extra:t.property(s.extra),count:t.objectProperty(n.tickCount),values:t.objectProperty(n.values),minstep:t.property(n.tickMinStep),formatType:t.property(n.formatType),formatSpecifier:t.property(n.format)}))),d=[];let p;return c.grid&&d.push(DD(n,e,r.grid,h,s)),c.ticks&&(p=o("tickSize"),d.push(function(n,t,e,r,i,l){const u=hC(n,t),a=n.orient,o=dD(a,-1,1);let s,c,f;const h={enter:s={opacity:sC},update:f={opacity:cC},exit:c={opacity:sC}};BE(h,{stroke:u("tickColor"),strokeCap:u("tickCap"),strokeDash:u("tickDash"),strokeDashOffset:u("tickDashOffset"),strokeOpacity:u("tickOpacity"),strokeWidth:u("tickWidth")});const d=TE(i);d.mult=o;const p={scale:n.scale,field:uC,band:l.band,extra:l.extra,offset:l.offset,round:u("tickRound")};return f.y=s.y=pD(a,sC,p),f.y2=s.y2=pD(a,d),c.x=pD(a,p),f.x=s.x=gD(a,sC,p),f.x2=s.x2=gD(a,d),c.y=gD(a,p),vC({type:"rule",role:"axis-tick",key:uC,from:r,encode:h},e)}(n,e,r.ticks,h,p,s))),c.labels&&(p=c.ticks?p:0,d.push(FD(n,e,r.labels,h,p,s))),c.domain&&d.push(function(n,t,e,r){const i=hC(n,t),l=n.orient;let u,a;const o={enter:u={opacity:sC},update:a={opacity:cC},exit:{opacity:sC}};BE(o,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const s=CD(n,0),c=CD(n,1);return u.x=a.x=pD(l,s,sC),u.x2=a.x2=pD(l,c),u.y=a.y=gD(l,s,sC),u.y2=a.y2=gD(l,c),vC({type:"rule",role:"axis-domain",from:r,encode:o},e)}(n,e,r.domain,f)),c.title&&d.push(TD(n,e,r.title,f)),eD(fC({role:"axis",from:f,encode:zE(BD(o,n),i,oC),marks:d,aria:o("aria"),description:o("description"),zindex:o("zindex"),name:l,interactive:u,style:a}),t)}function BD(n,t){const e={enter:{},update:{}};return BE(e,{orient:n("orient"),offset:n("offset")||0,position:uS(t.position,0),titlePadding:n("titlePadding"),minExtent:n("minExtent"),maxExtent:n("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:n("translate"),format:t.format,formatType:t.formatType}),e}function zD(n,t,e){const r=Object(g.i)(n.signals),i=Object(g.i)(n.scales);return e||r.forEach(n=>JE(n,t)),Object(g.i)(n.projections).forEach(n=>function(n,t){const e=t.config.projection||{},r={};for(const e in n)"name"!==e&&(r[e]=lC(n[e],e,t));for(const n in e)null==r[n]&&(r[n]=lC(e[n],n,t));t.addProjection(n.name,r)}(n,t)),i.forEach(n=>function(n,t){const e=n.type||"linear";Ff(e)||Object(g.o)("Unrecognized scale type: "+Object(g.bb)(e)),t.addScale(n.name,{type:e,domain:void 0})}(n,t)),Object(g.i)(n.data).forEach(n=>sD(n,t)),i.forEach(n=>YS(n,t)),(e||r).forEach(n=>function(n,t){const e=t.getSignal(n.name);let r=n.update;n.init&&(r?Object(g.o)("Signals can not include both init and update expressions."):(r=n.init,e.initonly=!0)),r&&(r=MA(r,t),e.update=r.$expr,e.params=r.$params),n.on&&n.on.forEach(n=>pS(n,t,e.id))}(n,t)),Object(g.i)(n.axes).forEach(n=>ND(n,t)),Object(g.i)(n.marks).forEach(n=>eD(n,t)),Object(g.i)(n.legends).forEach(n=>rD(n,t)),n.title&&aD(n.title,t),t.parseLambdas(),t}function PD(n,t){const e=t.config,r=QE(t.root=t.add(ZE())),i=function(n,t){const e=e=>uS(n[e],t[e]),r=[$D("background",e("background")),$D("autosize",DE(e("autosize"))),$D("padding",FE(e("padding"))),$D("width",e("width")||0),$D("height",e("height")||0)],i=r.reduce((n,t)=>(n[t.name]=t,n),{}),l={};return Object(g.i)(n.signals).forEach(n=>{Object(g.w)(i,n.name)?n=Object(g.p)(i[n.name],n):r.push(n),l[n.name]=n}),Object(g.i)(t.signals).forEach(n=>{Object(g.w)(l,n.name)||Object(g.w)(i,n.name)||r.push(n)}),r}(n,e);i.forEach(n=>JE(n,t)),t.description=n.description||e.description,t.eventConfig=e.events,t.legends=t.objectProperty(e.legend&&e.legend.layout),t.locale=e.locale;const l=t.add(bS()),u=t.add(kS(HE((n=>zE({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},n))(n.encode),"group","frame",n.style,t,{pulse:QE(l)}))),a=t.add(qS({layout:t.objectProperty(n.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:QE(u)}));t.operators.pop(),t.pushState(QE(u),QE(a),null),zD(n,t,i),t.operators.push(a);let o=t.add(yS({mark:r,pulse:QE(a)}));return o=t.add(RS({pulse:QE(o)})),o=t.add(LS({pulse:QE(o)})),t.addData("root",new KC(t,l,l,o)),t}function $D(n,t){return t&&t.signal?{name:n,update:t.signal}:{name:n,value:t}}function RD(n,t){this.config=n||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function ID(n){this.config=n.config,this.options=n.options,this.legends=n.legends,this.field=Object.create(n.field),this.signals=Object.create(n.signals),this.lambdas=Object.create(n.lambdas),this.scales=Object.create(n.scales),this.events=Object.create(n.events),this.data=Object.create(n.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++n._nextsub[0],this._nextsub=n._nextsub,this._parent=n._parent.slice(),this._encode=n._encode.slice(),this._lookup=n._lookup.slice(),this._markpath=n._markpath}function LD(n){return(Object(g.B)(n)?UD:qD)(n)}function UD(n){const t=n.length;let e="[";for(let r=0;r<t;++r){const t=n[r];e+=(r>0?",":"")+(Object(g.H)(t)?t.signal||LD(t):Object(g.bb)(t))}return e+"]"}function qD(n){let t,e,r="{",i=0;for(t in n)e=n[t],r+=(++i>1?",":"")+Object(g.bb)(t)+":"+(Object(g.H)(e)?e.signal||LD(e):Object(g.bb)(e));return r+"}"}function HD(n,t,e){return Object(g.H)(n)||Object(g.o)("Input Vega specification must be an object."),PD(n,new RD(t=Object(g.P)({description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}},t,n.config),e)).toRuntime()}RD.prototype=ID.prototype={parse(n){return zD(n,this)},fork(){return new ID(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(n){return this.operators.push(n),n.id=this.id(),n.refs&&(n.refs.forEach(t=>{t.$ref=n.id}),n.refs=null),n},proxy(n){const t=n instanceof XE?QE(n):n;return this.add(PS({value:t}))},addStream(n){return this.streams.push(n),n.id=this.id(),n},addUpdate(n){return this.updates.push(n),n},finish(){let n,t;for(n in this.root&&(this.root.root=!0),this.signals)this.signals[n].signal=n;for(n in this.scales)this.scales[n].scale=n;function e(n,t,e){let r,i;n&&(r=n.data||(n.data={}),i=r[t]||(r[t]=[]),i.push(e))}for(n in this.data){t=this.data[n],e(t.input,n,"input"),e(t.output,n,"output"),e(t.values,n,"values");for(const r in t.index)e(t.index[r],n,"index:"+r)}return this},pushState(n,t,e){this._encode.push(QE(this.add(LS({pulse:n})))),this._parent.push(t),this._lookup.push(e?QE(this.proxy(e)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Object(g.W)(this._parent)},encode(){return Object(g.W)(this._encode)},lookup(){return Object(g.W)(this._lookup)},markpath(){const n=this._markpath;return++n[n.length-1]},fieldRef(n,t){if(Object(g.J)(n))return nS(n,t);n.signal||Object(g.o)("Unsupported field reference: "+Object(g.bb)(n));const e=n.signal;let r=this.field[e];if(!r){const n={name:this.signalRef(e)};t&&(n.as=t),this.field[e]=r=QE(this.add(AS(n)))}return r},compareRef(n){let t=!1;const e=n=>iS(n)?(t=!0,this.signalRef(n.signal)):function(n){return n&&n.expr}(n)?(t=!0,this.exprRef(n.expr)):n,r=Object(g.i)(n.field).map(e),i=Object(g.i)(n.order).map(e);return t?QE(this.add(xS({fields:r,orders:i}))):eS(r,i)},keyRef(n,t){let e=!1;const r=this.signals;return n=Object(g.i)(n).map(n=>iS(n)?(e=!0,QE(r[n.signal])):n),e?QE(this.add(ES({fields:n,flat:t}))):function(n,t){const e={$key:n};return t&&(e.$flat=!0),e}(n,t)},sortRef(n){if(!n)return n;const t=rS(n.op,n.field),e=n.order||"ascending";return e.signal?QE(this.add(xS({fields:t,orders:this.signalRef(e.signal)}))):eS(t,e)},event(n,t){const e=n+":"+t;if(!this.events[e]){const r=this.id();this.streams.push({id:r,source:n,type:t}),this.events[e]=r}return this.events[e]},hasOwnSignal(n){return Object(g.w)(this.signals,n)},addSignal(n,t){this.hasOwnSignal(n)&&Object(g.o)("Duplicate signal name: "+Object(g.bb)(n));const e=t instanceof XE?t:this.add(ZE(t));return this.signals[n]=e},getSignal(n){return this.signals[n]||Object(g.o)("Unrecognized signal name: "+Object(g.bb)(n)),this.signals[n]},signalRef(n){return this.signals[n]?QE(this.signals[n]):(Object(g.w)(this.lambdas,n)||(this.lambdas[n]=this.add(ZE(null))),QE(this.lambdas[n]))},parseLambdas(){const n=Object.keys(this.lambdas);for(let t=0,e=n.length;t<e;++t){const e=n[t],r=MA(e,this),i=this.lambdas[e];i.params=r.$params,i.update=r.$expr}},property(n){return n&&n.signal?this.signalRef(n.signal):n},objectProperty(n){return n&&Object(g.H)(n)?this.signalRef(n.signal||LD(n)):n},exprRef(n,t){const e={expr:MA(n,this)};return t&&(e.expr.$name=t),QE(this.add(jS(e)))},addBinding(n,t){this.bindings||Object(g.o)("Nested signals do not support binding: "+Object(g.bb)(n)),this.bindings.push(Object(g.p)({signal:n},t))},addScaleProj(n,t){Object(g.w)(this.scales,n)&&Object(g.o)("Duplicate scale or projection name: "+Object(g.bb)(n)),this.scales[n]=this.add(t)},addScale(n,t){this.addScaleProj(n,IS(t))},addProjection(n,t){this.addScaleProj(n,zS(t))},getScale(n){return this.scales[n]||Object(g.o)("Unrecognized scale name: "+Object(g.bb)(n)),this.scales[n]},scaleRef(n){return QE(this.getScale(n))},scaleType(n){return this.getScale(n).params.type},projectionRef(n){return this.scaleRef(n)},projectionType(n){return this.scaleType(n)},addData(n,t){return Object(g.w)(this.data,n)&&Object(g.o)("Duplicate data set name: "+Object(g.bb)(n)),this.data[n]=t},getData(n){return this.data[n]||Object(g.o)("Undefined data set name: "+Object(g.bb)(n)),this.data[n]},addDataPipeline(n,t){return Object(g.w)(this.data,n)&&Object(g.o)("Duplicate data set name: "+Object(g.bb)(n)),this.addData(n,KC.fromEntries(this,t))}};var WD="5.17.0";Object(g.p)(Vi,r,l,u,a,o,c,s,f,h,d,p)},function(n,t,e){"use strict";e.r(t),e.d(t,"compile",(function(){return Cp})),e.d(t,"deepEqual",(function(){return m})),e.d(t,"duplicate",(function(){return v})),e.d(t,"pick",(function(){return w})),e.d(t,"omit",(function(){return y})),e.d(t,"stringify",(function(){return b})),e.d(t,"hash",(function(){return x})),e.d(t,"isNullOrFalse",(function(){return _})),e.d(t,"contains",(function(){return k})),e.d(t,"some",(function(){return j})),e.d(t,"every",(function(){return O})),e.d(t,"mergeDeep",(function(){return A})),e.d(t,"unique",(function(){return S})),e.d(t,"isEqual",(function(){return C})),e.d(t,"setEqual",(function(){return D})),e.d(t,"hasIntersection",(function(){return M})),e.d(t,"prefixGenerator",(function(){return F})),e.d(t,"fieldIntersection",(function(){return T})),e.d(t,"isEmpty",(function(){return N})),e.d(t,"keys",(function(){return B})),e.d(t,"vals",(function(){return z})),e.d(t,"entries",(function(){return P})),e.d(t,"isBoolean",(function(){return $})),e.d(t,"varName",(function(){return R})),e.d(t,"logicalExpr",(function(){return I})),e.d(t,"deleteNestedProperty",(function(){return L})),e.d(t,"titleCase",(function(){return U})),e.d(t,"accessPathWithDatum",(function(){return q})),e.d(t,"flatAccessWithDatum",(function(){return H})),e.d(t,"replacePathInField",(function(){return G})),e.d(t,"replaceAll",(function(){return Y})),e.d(t,"removePathFromField",(function(){return V})),e.d(t,"accessPathDepth",(function(){return J})),e.d(t,"getFirstDefined",(function(){return X})),e.d(t,"uniqueId",(function(){return Z})),e.d(t,"resetIdCounter",(function(){return Q})),e.d(t,"internalField",(function(){return nn})),e.d(t,"isInternalField",(function(){return tn})),e.d(t,"normalizeAngle",(function(){return en})),e.d(t,"isNumeric",(function(){return rn})),e.d(t,"normalize",(function(){return Jo})),e.d(t,"version",(function(){return i.a}));var r={};e.r(r),e.d(r,"invalidSpec",(function(){return Zt})),e.d(r,"FIT_NON_SINGLE",(function(){return Qt})),e.d(r,"containerSizeNonSingle",(function(){return ne})),e.d(r,"containerSizeNotCompatibleWithAutosize",(function(){return te})),e.d(r,"droppingFit",(function(){return ee})),e.d(r,"unknownField",(function(){return re})),e.d(r,"cannotProjectOnChannelWithoutField",(function(){return ie})),e.d(r,"cannotProjectAggregate",(function(){return le})),e.d(r,"nearestNotSupportForContinuous",(function(){return ue})),e.d(r,"selectionNotSupported",(function(){return ae})),e.d(r,"selectionNotFound",(function(){return oe})),e.d(r,"SCALE_BINDINGS_CONTINUOUS",(function(){return se})),e.d(r,"LEGEND_BINDINGS_MUST_HAVE_PROJECTION",(function(){return ce})),e.d(r,"noSameUnitLookup",(function(){return fe})),e.d(r,"NEEDS_SAME_SELECTION",(function(){return he})),e.d(r,"INTERVAL_INITIALIZED_WITH_X_Y",(function(){return de})),e.d(r,"noSuchRepeatedValue",(function(){return pe})),e.d(r,"columnsNotSupportByRowCol",(function(){return ge})),e.d(r,"CONCAT_CANNOT_SHARE_AXIS",(function(){return me})),e.d(r,"unrecognizedParse",(function(){return ve})),e.d(r,"differentParse",(function(){return we})),e.d(r,"ADD_SAME_CHILD_TWICE",(function(){return ye})),e.d(r,"invalidTransformIgnored",(function(){return be})),e.d(r,"NO_FIELDS_NEEDS_AS",(function(){return xe})),e.d(r,"customFormatTypeNotAllowed",(function(){return _e})),e.d(r,"projectionOverridden",(function(){return ke})),e.d(r,"REPLACE_ANGLE_WITH_THETA",(function(){return je})),e.d(r,"primitiveChannelDef",(function(){return Oe})),e.d(r,"invalidFieldType",(function(){return Ae})),e.d(r,"invalidFieldTypeForCountAggregate",(function(){return Ee})),e.d(r,"invalidAggregate",(function(){return Se})),e.d(r,"missingFieldType",(function(){return Ce})),e.d(r,"droppingColor",(function(){return De})),e.d(r,"emptyFieldDef",(function(){return Me})),e.d(r,"latLongDeprecated",(function(){return Fe})),e.d(r,"LINE_WITH_VARYING_SIZE",(function(){return Te})),e.d(r,"incompatibleChannel",(function(){return Ne})),e.d(r,"invalidEncodingChannel",(function(){return Be})),e.d(r,"facetChannelShouldBeDiscrete",(function(){return ze})),e.d(r,"facetChannelDropped",(function(){return Pe})),e.d(r,"discreteChannelCannotEncode",(function(){return $e})),e.d(r,"rangeMarkAlignmentCannotBeExpression",(function(){return Re})),e.d(r,"lineWithRange",(function(){return Ie})),e.d(r,"orientOverridden",(function(){return Le})),e.d(r,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return Ue})),e.d(r,"RANGE_STEP_DEPRECATED",(function(){return qe})),e.d(r,"cannotUseScalePropertyWithNonColor",(function(){return He})),e.d(r,"unaggregateDomainHasNoEffectForRawField",(function(){return We})),e.d(r,"unaggregateDomainWithNonSharedDomainOp",(function(){return Ge})),e.d(r,"unaggregatedDomainWithLogScale",(function(){return Ye})),e.d(r,"cannotApplySizeToNonOrientedMark",(function(){return Ve})),e.d(r,"scaleTypeNotWorkWithChannel",(function(){return Je})),e.d(r,"scaleTypeNotWorkWithFieldDef",(function(){return Xe})),e.d(r,"scalePropertyNotWorkWithScaleType",(function(){return Ke})),e.d(r,"scaleTypeNotWorkWithMark",(function(){return Ze})),e.d(r,"stepDropped",(function(){return Qe})),e.d(r,"mergeConflictingProperty",(function(){return nr})),e.d(r,"mergeConflictingDomainProperty",(function(){return tr})),e.d(r,"independentScaleMeansIndependentGuide",(function(){return er})),e.d(r,"domainSortDropped",(function(){return rr})),e.d(r,"MORE_THAN_ONE_SORT",(function(){return ir})),e.d(r,"FACETED_INDEPENDENT_DIFFERENT_SOURCES",(function(){return lr})),e.d(r,"FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES",(function(){return ur})),e.d(r,"FACETED_INDEPENDENT_SAME_SOURCE",(function(){return ar})),e.d(r,"INVALID_CHANNEL_FOR_AXIS",(function(){return or})),e.d(r,"cannotStackRangedMark",(function(){return sr})),e.d(r,"cannotStackNonLinearScale",(function(){return cr})),e.d(r,"stackNonSummativeAggregate",(function(){return fr})),e.d(r,"invalidTimeUnit",(function(){return hr})),e.d(r,"droppedDay",(function(){return dr})),e.d(r,"errorBarCenterAndExtentAreNotNeeded",(function(){return pr})),e.d(r,"errorBarCenterIsUsedWithWrongExtent",(function(){return gr})),e.d(r,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return mr})),e.d(r,"errorBand1DNotSupport",(function(){return vr})),e.d(r,"channelRequiredForBinned",(function(){return wr})),e.d(r,"channelShouldNotBeUsedForBinned",(function(){return yr})),e.d(r,"domainRequiredForThresholdScale",(function(){return br}));var i=e(15),l=e(0);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function n(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(e,r){return Array.isArray(r)?e.push.apply(e,n.call(r,t-1)):e.push(r),e}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(n){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var u=e(17),a=e.n(u),o=e(18),s=e.n(o),c=e(5),f=e.n(c);function h(n){return!!n.or}function d(n){return!!n.and}function p(n){return!!n.not}function g(n,t){return p(n)?{not:g(n.not,t)}:d(n)?{and:n.and.map(n=>g(n,t))}:h(n)?{or:n.or.map(n=>g(n,t))}:t(n)}const m=s.a,v=a.a;function w(n,t){const e={};for(const r of t)Object(l.w)(n,r)&&(e[r]=n[r]);return e}function y(n,t){const e=Object.assign({},n);for(const n of t)delete e[n];return e}Set.prototype.toJSON=function(){return`Set(${[...this].map(n=>f()(n)).join(",")})`};const b=f.a;function x(n){if(Object(l.G)(n))return n;const t=Object(l.J)(n)?n:f()(n);if(t.length<250)return t;let e=0;for(let n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return e}function _(n){return!1===n||null===n}function k(n,t){return n.indexOf(t)>-1}function j(n,t){let e=0;for(const[r,i]of n.entries())if(t(i,r,e++))return!0;return!1}function O(n,t){let e=0;for(const[r,i]of n.entries())if(!t(i,r,e++))return!1;return!0}function A(n,...t){for(const e of t)E(n,null!=e?e:{});return n}function E(n,t){for(const e of B(t))Object(l.lb)(n,e,t[e],!0)}function S(n,t){const e=[],r={};let i;for(const l of n)i=t(l),i in r||(r[i]=1,e.push(l));return e}function C(n,t){const e=B(n),r=B(t);if(e.length!==r.length)return!1;for(const r of e)if(n[r]!==t[r])return!1;return!0}function D(n,t){if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0}function M(n,t){for(const e of n)if(t.has(e))return!0;return!1}function F(n){const t=new Set;for(const e of n){const n=Object(l.ab)(e).map((n,t)=>0===t?n:`[${n}]`),r=n.map((t,e)=>n.slice(0,e+1).join(""));for(const n of r)t.add(n)}return t}function T(n,t){return void 0===n||void 0===t||M(F(n),F(t))}function N(n){return 0===B(n).length}const B=Object.keys,z=Object.values,P=Object.entries;function $(n){return!0===n||!1===n}function R(n){const t=n.replace(/\W/g,"_");return(n.match(/^\d+/)?"_":"")+t}function I(n,t){return p(n)?"!("+I(n.not,t)+")":d(n)?"("+n.and.map(n=>I(n,t)).join(") && (")+")":h(n)?"("+n.or.map(n=>I(n,t)).join(") || (")+")":t(n)}function L(n,t){if(0===t.length)return!0;const e=t.shift();return e in n&&L(n[e],t)&&delete n[e],N(n)}function U(n){return n.charAt(0).toUpperCase()+n.substr(1)}function q(n,t="datum"){const e=Object(l.ab)(n),r=[];for(let n=1;n<=e.length;n++){const i=`[${e.slice(0,n).map(l.bb).join("][")}]`;r.push(`${t}${i}`)}return r.join(" && ")}function H(n,t="datum"){return`${t}[${Object(l.bb)(Object(l.ab)(n).join("."))}]`}function W(n){return n.replace(/(\[|\]|\.|'|")/g,"\\$1")}function G(n){return""+Object(l.ab)(n).map(W).join("\\.")}function Y(n,t,e){return n.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),e)}function V(n){return""+Object(l.ab)(n).join(".")}function J(n){return n?Object(l.ab)(n).length:0}function X(...n){for(const t of n)if(void 0!==t)return t}let K=42;function Z(n){const t=++K;return n?String(n)+t:t}function Q(){K=42}function nn(n){return tn(n)?n:"__"+n}function tn(n){return 0===n.indexOf("__")}function en(n){if(void 0!==n)return(n%360+360)%360}function rn(n){return!!Object(l.G)(n)||!isNaN(n)&&!isNaN(parseFloat(n))}const ln={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function un(n){return n&&n.condition}const an=["domain","grid","labels","ticks","title"],on={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},sn={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},cn=Object.assign(Object.assign({},sn),{style:1,labelExpr:1,encoding:1});function fn(n){return!!cn[n]}B(cn);const hn=B({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),dn={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},pn={count:1,min:1,max:1};function gn(n){return!!n&&!!n.argmin}function mn(n){return!!n&&!!n.argmax}B(dn);function vn(n){return Object(l.J)(n)&&!!dn[n]}const wn=["count","valid","missing","distinct"];function yn(n){return Object(l.J)(n)&&k(wn,n)}const bn=["count","sum","distinct","valid","missing"],xn=Object(l.fb)(["mean","average","median","q1","q3","min","max"]);var _n=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};const kn="row",jn="column",On="x",An="y",En="x2",Sn="y2",Cn="radius",Dn="theta",Mn="theta2",Fn="color",Tn="fill",Nn="stroke",Bn="shape",zn="size",Pn={theta:1,theta2:1,radius:1,radius2:1};function $n(n){return n in Pn}const Rn={longitude:1,longitude2:1,latitude:1,latitude2:1};const In=B(Rn),Ln=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),Pn),Rn),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function Un(n){return n===Fn||n===Tn||n===Nn}const qn={row:1,column:1,facet:1},Hn=B(qn),Wn=Object.assign(Object.assign({},Ln),qn),Gn=B(Wn),{order:Yn,detail:Vn,tooltip:Jn}=Wn,Xn=_n(Wn,["order","detail","tooltip"]),{row:Kn,column:Zn,facet:Qn}=Xn,nt=_n(Xn,["row","column","facet"]);B(Xn),B(nt);function tt(n){return!!Wn[n]}const et=[En,Sn,"latitude2","longitude2",Mn,"radius2"];function rt(n){return it(n)!==n}function it(n){switch(n){case En:return On;case Sn:return An;case"latitude2":return"latitude";case"longitude2":return"longitude";case Mn:return Dn;case"radius2":return Cn}return n}function lt(n){if($n(n))switch(n){case Dn:return"startAngle";case Mn:return"endAngle";case Cn:return"outerRadius";case"radius2":return"innerRadius"}return n}function ut(n){switch(n){case On:return En;case An:return Sn;case"latitude":return"latitude2";case"longitude":return"longitude2";case Dn:return Mn;case Cn:return"radius2"}}function at(n){switch(n){case On:case En:return"width";case An:case Sn:return"height"}}B(Ln);const{x:ot,y:st,x2:ct,y2:ft,latitude:ht,longitude:dt,latitude2:pt,longitude2:gt,theta:mt,theta2:vt,radius:wt,radius2:yt}=Ln,bt=_n(Ln,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),xt=B(bt),_t={x:1,y:1},kt=B(_t);function jt(n){return n in _t}const Ot={theta:1,radius:1},At=B(Ot);function Et(n){return"width"===n?On:An}const{text:St,tooltip:Ct,href:Dt,url:Mt,description:Ft,detail:Tt,key:Nt,order:Bt}=bt,zt=_n(bt,["text","tooltip","href","url","description","detail","key","order"]),Pt=B(zt);const $t=Object.assign(Object.assign(Object.assign({},_t),Ot),zt),Rt=B($t);function It(n){return!!$t[n]}function Lt(n,t){return function(n){switch(n){case Fn:case Tn:case Nn:case"description":case"detail":case"key":case"tooltip":case"href":case"order":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"facet":case kn:case jn:return Ut;case On:case An:case"latitude":case"longitude":return Ht;case En:case Sn:case"latitude2":case"longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case zn:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case"strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Bn:return{point:"always",geoshape:"always"};case"text":return{text:"always"};case"angle":return{point:"always",square:"always",text:"always"};case"url":return{image:"always"};case Dn:case Cn:return{text:"always",arc:"always"};case Mn:case"radius2":return{arc:"always"}}}(n)[t]}const Ut={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:qt}=Ut,Ht=_n(Ut,["geoshape"]);function Wt(n){switch(n){case On:case An:case Dn:case Cn:case zn:case"angle":case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case En:case Sn:case Mn:case"radius2":return;case"facet":case kn:case jn:case Bn:case"strokeDash":case"text":case"tooltip":case"href":case"url":case"description":return"discrete";case Fn:case Tn:case Nn:return"flexible";case"latitude":case"longitude":case"latitude2":case"longitude2":case"detail":case"key":case"order":return}}function Gt(n){return Object(l.C)(n)&&(n=Bu(n,void 0)),"bin"+B(n).map(t=>Xt(n[t])?R(`_${t}_${P(n[t])}`):R(`_${t}_${n[t]}`)).join("")}function Yt(n){return!0===n||Jt(n)&&!n.binned}function Vt(n){return"binned"===n||Jt(n)&&!0===n.binned}function Jt(n){return Object(l.H)(n)}function Xt(n){return null==n?void 0:n.selection}function Kt(n){switch(n){case kn:case jn:case zn:case Fn:case Tn:case Nn:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case Bn:return 6;case"strokeDash":return 4;default:return 10}}function Zt(n){return`Invalid specification ${JSON.stringify(n)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const Qt='Autosize "fit" only works for single views and layered views.';function ne(n){return("width"==n?"Width":"Height")+' "container" only works for single views and layered views.'}function te(n){return`${"width"==n?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==n?"x":"y"}".`}function ee(n){return n?`Dropping "fit-${n}" because spec has discrete ${at(n)}.`:'Dropping "fit" because spec has discrete size.'}function re(n){return`Unknown field for ${n}. Cannot calculate view size.`}function ie(n){return`Cannot project a selection on encoding channel "${n}", which has no field.`}function le(n,t){return`Cannot project a selection on encoding channel "${n}" as it uses an aggregate function ("${t}").`}function ue(n){return`The "nearest" transform is not supported for ${n} marks.`}function ae(n){return`Selection not supported for ${n} yet.`}function oe(n){return`Cannot find a selection named "${n}".`}const se="Scale bindings are currently only supported for scales with unbinned, continuous domains.",ce="Legend bindings are only supported for selections over an individual field or encoding channel.";function fe(n){return`Cannot define and lookup the "${n}" selection in the same view. Try moving the lookup into a second, layered view?`}const he="The same selection must be used to override scale domains in a layered view.",de='Interval selections should be initialized using "x" and/or "y" keys.';function pe(n){return`Unknown repeated value "${n}".`}function ge(n){return`The "columns" property cannot be used when "${n}" has nested row/column.`}const me="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function ve(n){return`Unrecognized parse "${n}".`}function we(n,t,e){return`An ancestor parsed field "${n}" as ${e} but a child wants to parse the field as ${t}.`}const ye="Attempt to add the same child twice.";function be(n){return`Ignoring an invalid transform: ${b(n)}.`}const xe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function _e(n){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${n} are dropped.`}function ke(n){const{parentProjection:t,projection:e}=n;return`Layer's shared projection ${b(t)} is overridden by a child projection ${b(e)}.`}const je="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Oe(n,t,e){return`Channel ${n} is a ${t}. Converted to {value: ${b(e)}}.`}function Ae(n){return`Invalid field type "${n}".`}function Ee(n,t){return`Invalid field type "${n}" for aggregate: "${t}", using "quantitative" instead.`}function Se(n){return`Invalid aggregation operator "${n}".`}function Ce(n,t){return`Missing type for channel "${n}", using "${t}" instead.`}function De(n,t){const{fill:e,stroke:r}=t;return`Dropping color ${n} as the plot also has ${e&&r?"fill and stroke":e?"fill":"stroke"}.`}function Me(n,t){return`Dropping ${b(n)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function Fe(n,t,e){return`${n}-encoding with type ${t} is deprecated. Replacing with ${e}-encoding.`}const Te="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Ne(n,t,e){return`${n} dropped as it is incompatible with "${t}"${e?" when "+e:""}.`}function Be(n){return`${n}-encoding is dropped as ${n} is not a valid encoding channel.`}function ze(n){return n+" encoding should be discrete (ordinal / nominal / binned)."}function Pe(n){return`Facet encoding dropped as ${n.join(" and ")} ${n.length>1?"are":"is"} also specified.`}function $e(n,t){return`Using discrete channel "${n}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function Re(n){return`The ${n} for range marks cannot be an expression`}function Ie(n,t){return`Line mark is for continuous lines and thus cannot be used with ${n&&t?"x2 and y2":n?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function Le(n,t){return`Specified orient "${n}" overridden with "${t}".`}const Ue="Custom domain scale cannot be unioned with default field-based domain.",qe='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function He(n){return`Cannot use the scale property "${n}" with non-color channel.`}function We(n){return`Using unaggregated domain with raw field has no effect (${b(n)}).`}function Ge(n){return`Unaggregated domain not applicable for "${n}" since it produces values outside the origin domain of the source data.`}function Ye(n){return`Unaggregated domain is currently unsupported for log scale (${b(n)}).`}function Ve(n){return`Cannot apply size to non-oriented mark "${n}".`}function Je(n,t,e){return`Channel "${n}" does not work with "${t}" scale. We are using "${e}" scale instead.`}function Xe(n,t){return`FieldDef does not work with "${n}" scale. We are using "${t}" scale instead.`}function Ke(n,t,e){return`${e}-scale's "${t}" is dropped as it does not work with ${n} scale.`}function Ze(n,t){return`Scale type "${t}" does not work with mark "${n}".`}function Qe(n){return`The step for "${n}" is dropped because the ${"width"===n?"x":"y"} is continuous.`}function nr(n,t,e,r){return`Conflicting ${t.toString()} property "${n.toString()}" (${b(e)} and ${b(r)}). Using ${b(e)}.`}function tr(n,t,e,r){return`Conflicting ${t.toString()} property "${n.toString()}" (${b(e)} and ${b(r)}). Using the union of the two domains.`}function er(n){return`Setting the scale to be independent for "${n}" means we also have to set the guide (axis or legend) to be independent.`}function rr(n){return`Dropping sort property ${b(n)} as unioned domains only support boolean or op "count", "min", and "max".`}const ir="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",lr="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",ur="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",ar="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.",or="Invalid channel for axis.";function sr(n){return`Cannot stack "${n}" if there is already "${n}2".`}function cr(n){return`Cannot stack non-linear scale (${n}).`}function fr(n){return`Stacking is applied even though the aggregate function is non-summative ("${n}").`}function hr(n,t){return`Invalid ${n}: ${b(t)}.`}function dr(n){return`Dropping day from datetime ${b(n)} as day cannot be combined with other units.`}function pr(n,t){return`${t?"extent ":""}${t&&n?"and ":""}${n?"center ":""}${t&&n?"are ":"is "}not needed when data are aggregated.`}function gr(n,t,e){return`${n} is not usually used with ${t} for ${e}.`}function mr(n,t){return`Continuous axis should not have customized aggregation function ${n}; ${t} already agregates the axis.`}function vr(n){return`1D error band does not support ${n}.`}function wr(n){return`Channel ${n} is required for "binned" bin.`}function yr(n){return`Channel ${n} should not be used with "binned" bin.`}function br(n){return`Domain for ${n} is required for threshold scale.`}const xr=Object(l.M)(l.e);let _r=xr;function kr(){return _r=xr,_r}function jr(...n){_r.warn(...n)}function Or(n){if(n&&Object(l.H)(n))for(const t of Nr)if(t in n)return!0;return!1}new WeakMap;const Ar=["january","february","march","april","may","june","july","august","september","october","november","december"],Er=Ar.map(n=>n.substr(0,3)),Sr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Cr=Sr.map(n=>n.substr(0,3));function Dr(n,t){const e=[];if(t&&void 0!==n.day&&B(n).length>1&&(jr(r.droppedDay(n)),delete(n=v(n)).day),void 0!==n.year?e.push(n.year):e.push(2012),void 0!==n.month){const i=t?function(n){if(rn(n)&&(n=+n),Object(l.G)(n))return n-1;{const t=n.toLowerCase(),e=Ar.indexOf(t);if(-1!==e)return e;const i=t.substr(0,3),l=Er.indexOf(i);if(-1!==l)return l;throw new Error(r.invalidTimeUnit("month",n))}}(n.month):n.month;e.push(i)}else if(void 0!==n.quarter){const i=t?function(n){if(rn(n)&&(n=+n),Object(l.G)(n))return n>4&&jr(r.invalidTimeUnit("quarter",n)),n-1;throw new Error(r.invalidTimeUnit("quarter",n))}(n.quarter):n.quarter;e.push(Object(l.G)(i)?3*i:i+"*3")}else e.push(0);if(void 0!==n.date)e.push(n.date);else if(void 0!==n.day){const i=t?function(n){if(rn(n)&&(n=+n),Object(l.G)(n))return n%7;{const t=n.toLowerCase(),e=Sr.indexOf(t);if(-1!==e)return e;const i=t.substr(0,3),l=Cr.indexOf(i);if(-1!==l)return l;throw new Error(r.invalidTimeUnit("day",n))}}(n.day):n.day;e.push(Object(l.G)(i)?i+1:i+"+1")}else e.push(1);for(const t of["hours","minutes","seconds","milliseconds"]){const r=n[t];e.push(void 0===r?0:r)}return e}function Mr(n){const t=Dr(n,!0).join(", ");return n.utc?`utc(${t})`:`datetime(${t})`}var Fr=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};const Tr={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Nr=B(Tr);function Br(n){return n.startsWith("utc")}const zr={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Pr(n){const t=[];for(const e of Nr)$r(n,e)&&t.push(e);return t}function $r(n,t){const e=n.indexOf(t);return!(e<0)&&(!(e>0&&"seconds"===t&&"i"===n.charAt(e-1))&&(!(n.length>e+3&&"day"===t&&"o"===n.charAt(e+3))&&!(e>0&&"year"===t&&"f"===n.charAt(e-1))))}function Rr(n,t,{end:e}={end:!1}){const r=q(t),i=Br(n)?"utc":"";let l;const u={};for(const t of Nr)$r(n,t)&&(u[t]="quarter"===(a=t)?`(${i}quarter(${r})-1)`:`${i}${a}(${r})`,l=t);var a;return e&&(u[l]+="+1"),function(n){const t=Dr(n,!1).join(", ");return n.utc?`utc(${t})`:`datetime(${t})`}(u)}function Ir(n){if(!n)return;const t=Pr(n);return`timeUnitSpecifier(${f()(t)}, ${f()(zr)})`}function Lr(n){if(!n)return;let t;return Object(l.J)(n)?t={unit:n}:Object(l.H)(n)&&(t=Object.assign(Object.assign({},n),n.unit?{unit:n.unit}:{})),Br(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function Ur(n){return n&&!!n.signal}function qr(n){return!!n.step}function Hr(n){return!Object(l.B)(n)&&("field"in n&&"data"in n)}const Wr=B({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Gr={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Yr=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Vr(n){return n&&!!n.field&&void 0!==n.equal}function Jr(n){return n&&!!n.field&&void 0!==n.lt}function Xr(n){return n&&!!n.field&&void 0!==n.lte}function Kr(n){return n&&!!n.field&&void 0!==n.gt}function Zr(n){return n&&!!n.field&&void 0!==n.gte}function Qr(n){if(n&&n.field){if(Object(l.B)(n.range)&&2===n.range.length)return!0;if(Ur(n.range))return!0}return!1}function ni(n){return n&&!!n.field&&(Object(l.B)(n.oneOf)||Object(l.B)(n.in))}function ti(n){return ni(n)||Vr(n)||Qr(n)||Jr(n)||Kr(n)||Xr(n)||Zr(n)}function ei(n,t){return $u(n,{timeUnit:t,wrapTime:!0})}function ri(n,t=!0){var e;const{field:r}=n,i=null===(e=Lr(n.timeUnit))||void 0===e?void 0:e.unit,l=i?"time("+Rr(i,r)+")":bu(n,{expr:"datum"});if(Vr(n))return l+"==="+ei(n.equal,i);if(Jr(n)){return`${l}<${ei(n.lt,i)}`}if(Kr(n)){return`${l}>${ei(n.gt,i)}`}if(Xr(n)){return`${l}<=${ei(n.lte,i)}`}if(Zr(n)){return`${l}>=${ei(n.gte,i)}`}if(ni(n))return`indexof([${function(n,t){return n.map(n=>ei(n,t))}(n.oneOf,i).join(",")}], ${l}) !== -1`;if(function(n){return n&&!!n.field&&void 0!==n.valid}(n))return ii(l,n.valid);if(Qr(n)){const{range:e}=n,r=Ur(e)?{signal:e.signal+"[0]"}:e[0],u=Ur(e)?{signal:e.signal+"[1]"}:e[1];if(null!==r&&null!==u&&t)return"inrange("+l+", ["+ei(r,i)+", "+ei(u,i)+"])";const a=[];return null!==r&&a.push(`${l} >= ${ei(r,i)}`),null!==u&&a.push(`${l} <= ${ei(u,i)}`),a.length>0?a.join(" && "):"true"}throw new Error("Invalid field predicate: "+JSON.stringify(n))}function ii(n,t=!0){return t?`isValid(${n}) && isFinite(+${n})`:`!isValid(${n}) || !isFinite(+${n})`}function li(n){var t;return ti(n)&&n.timeUnit?Object.assign(Object.assign({},n),{timeUnit:null===(t=Lr(n.timeUnit))||void 0===t?void 0:t.unit}):n}const ui={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};const ai=ui.quantitative,oi=ui.ordinal,si=ui.temporal,ci=ui.nominal,fi=ui.geojson;B(ui);var hi=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};const di="linear",pi="log",gi="pow",mi="sqrt",vi="symlog",wi="time",yi="utc",bi="quantile",xi="quantize",_i="threshold",ki="point",ji="band",Oi={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};B(Oi);function Ai(n,t){const e=Oi[n],r=Oi[t];return e===r||"ordinal-position"===e&&"time"===r||"ordinal-position"===r&&"time"===e}const Ei={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Si(n){return Ei[n]}const Ci=["linear","log","pow","sqrt","symlog","time","utc"],Di=Object(l.fb)(Ci),Mi=Object(l.fb)(["linear","log","pow","sqrt","symlog"]);const Fi=Object(l.fb)(["quantile","quantize","threshold"]),Ti=Ci.concat(["quantile","quantize","threshold","sequential","identity"]),Ni=Object(l.fb)(Ti),Bi=Object(l.fb)(["ordinal","bin-ordinal","point","band"]);function zi(n){return n in Bi}function Pi(n){return n in Ni}function $i(n){return n in Di}function Ri(n){return n in Fi}function Ii(n){return null==n?void 0:n.selection}const Li={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Ui,domain:qi,range:Hi,rangeMax:Wi,rangeMin:Gi,scheme:Yi}=(B(Li),Li),Vi=hi(Li,["type","domain","range","rangeMax","rangeMin","scheme"]),Ji=B(Vi);function Xi(n,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!k(["point","band","identity"],n);case"bins":return!k(["point","band","identity","ordinal"],n);case"round":return $i(n)||"band"===n||"point"===n;case"padding":case"rangeMin":case"rangeMax":return $i(n)||k(["point","band"],n);case"paddingOuter":case"align":return k(["point","band"],n);case"paddingInner":return"band"===n;case"domainMax":case"domainMid":case"domainMin":case"clamp":return $i(n);case"nice":return $i(n)||"quantize"===n||"threshold"===n;case"exponent":return"pow"===n;case"base":return"log"===n;case"constant":return"symlog"===n;case"zero":return Pi(n)&&!k(["log","time","utc","threshold","quantile"],n)}}function Ki(n,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Un(n)?void 0:r.cannotUseScalePropertyWithNonColor(n);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Zi(n){return n&&!!n.expr}function Qi(n){const t=B(n||{}),e={};for(const r of t)e[r]=Gu(n[r]);return e}const nl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},tl=nl.arc,el=nl.area,rl=nl.bar,il=nl.image,ll=nl.line,ul=nl.point,al=nl.rect,ol=nl.rule,sl=nl.text,cl=nl.tick,fl=nl.trail,hl=nl.circle,dl=nl.square,pl=nl.geoshape;function gl(n){return k(["line","area","trail"],n)}function ml(n){return k(["rect","bar","image","arc"],n)}const vl=B(nl);function wl(n){return n.type}Object(l.fb)(vl);const yl=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],bl=B({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),xl=B({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),_l={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},kl={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},jl={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function Ol(n){const{channel:t,channelDef:e,markDef:r,scale:i,config:l}=n,u=Ml(n);return au(e)&&!yn(e.aggregate)&&i&&$i(i.get("type"))&&!1===i.get("zero")?Al({fieldDef:e,channel:t,markDef:r,ref:u,config:l}):u}function Al({fieldDef:n,channel:t,markDef:e,ref:r,config:i}){if(gl(e.type))return r;return null===Zu("invalid",e,i)?r:[El(n,t),r]}function El(n,t){const e=Sl(n,!0),r="y"===it(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:e},r)}function Sl(n,t=!0){return ii(Object(l.J)(n)?n:bu(n,{expr:"datum"}),!t)}function Cl(n,t,e,r){const i={};if(t&&(i.scale=t),su(n)){const{datum:t}=n;Or(t)?i.signal=Mr(t):Ur(t)?i.signal=t.signal:Zi(t)?i.signal=t.expr:i.value=t}else i.field=bu(n,e);if(r){const{offset:n,band:t}=r;n&&(i.offset=n),t&&(i.band=t)}return i}function Dl({scaleName:n,fieldOrDatumDef:t,fieldOrDatumDef2:e,offset:r,startSuffix:i,band:l=.5}){const u=0<l&&l<1?"datum":void 0,a=bu(t,{expr:u,suffix:i}),o=void 0!==e?bu(e,{expr:u}):bu(t,{suffix:"end",expr:u}),s={};if(0===l||1===l){s.scale=n;const t=0===l?a:o;s.field=t}else{const t=`${l} * ${a} + ${1-l} * ${o}`;s.signal=`scale("${n}", ${t})`}return r&&(s.offset=r),s}function Ml({channel:n,channelDef:t,channel2Def:e,markDef:i,config:u,scaleName:a,scale:o,stack:s,offset:c,defaultRef:f,band:h}){var d;if(t){if(hu(t)){if(du(t)){h=null!=h?h:eu({channel:n,fieldDef:t,fieldDef2:e,markDef:i,stack:s,config:u,isMidPoint:!0});const{bin:l,timeUnit:o,type:f}=t;if(Yt(l)||h&&o&&f===si)return s&&s.impute?Cl(t,a,{binSuffix:"mid"},{offset:c}):h?Dl({scaleName:a,fieldOrDatumDef:t,band:h,offset:c}):Cl(t,a,Iu(t,n)?{binSuffix:"range"}:{},{offset:c});if(Vt(l)){if(au(e))return Dl({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:e,band:h,offset:c});{const t=n===On?En:Sn;jr(r.channelRequiredForBinned(t))}}}const l=null==o?void 0:o.get("type");return Cl(t,a,zi(l)?{binSuffix:"range"}:{},{offset:c,band:"band"===l?null!==(d=null!=h?h:t.band)&&void 0!==d?d:.5:void 0})}if(pu(t)){const e=t.value,r=c?{offset:c}:{};return Object.assign(Object.assign({},Fl(n,e)),r)}}return Object(l.E)(f)&&(f=f()),f?Object.assign(Object.assign({},f),c?{offset:c}:{}):f}function Fl(n,t){return k(["x","x2"],n)&&"width"===t?{field:{group:"width"}}:k(["y","y2"],n)&&"height"===t?{field:{group:"height"}}:Vu(t)}function Tl(n){return n&&"number"!==n&&"time"!==n}function Nl(n,t,e){return`${n}(${t}${e?", "+JSON.stringify(e):""})`}function Bl({fieldOrDatumDef:n,format:t,formatType:e,expr:r,normalizeStack:i,config:u}){var a,o;if(Tl(e))return Pl({fieldOrDatumDef:n,format:t,formatType:e,expr:r,config:u});const s=zl(n,r,i);if(Pu(n)){const e=function(n,t,e,r,i){return!t||e?(e=Object(l.J)(e)?e:r,`${i?"utc":"time"}Format(${n}, '${e}')`):function(n,t,e){if(!n)return;const r=Ir(n);return`${e||Br(n)?"utc":"time"}Format(${t}, ${r})`}(t,n,i)}(s,au(n)?null===(a=Lr(n.timeUnit))||void 0===a?void 0:a.unit:void 0,t,u.timeFormat,gu(n)&&(null===(o=n.scale)||void 0===o?void 0:o.type)===yi);return e?{signal:e}:void 0}if(t=Il(ou(n),t,u),au(n)&&Yt(n.bin)){return{signal:ql(s,bu(n,{expr:r,binSuffix:"end"}),t,e,u)}}return t||"quantitative"===ou(n)?{signal:""+Ll(s,t)}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function zl(n,t,e){return au(n)?e?`${bu(n,{expr:t,suffix:"end"})}-${bu(n,{expr:t,suffix:"start"})}`:bu(n,{expr:t}):function(n){const{datum:t}=n;return Or(t)?Mr(t):""+JSON.stringify(t)}(n)}function Pl({fieldOrDatumDef:n,format:t,formatType:e,expr:r,normalizeStack:i,config:l,field:u}){if(u=null!=u?u:zl(n,r,i),au(n)&&Yt(n.bin)){return{signal:ql(u,bu(n,{expr:r,binSuffix:"end"}),t,e,l)}}return{signal:Nl(e,u,t)}}function $l(n,t,e,r,i,l){var u;if(!Tl(r)){if(Pu(n)){return function(n,t,e,r){if(n)return n;if(t)return{signal:Ir(t)};return r?void 0:e.timeFormat}(e,au(n)?null===(u=Lr(n.timeUnit))||void 0===u?void 0:u.unit:void 0,i,l)}return Il(t,e,i)}}function Rl(n,t,e){return n&&(Ur(n)||"number"===n||"time"===n)?n:Pu(t)&&"time"!==e&&"utc"!==e?"time":void 0}function Il(n,t,e){return Object(l.J)(t)?t:n===ai?e.numberFormat:void 0}function Ll(n,t){return`format(${n}, "${t||""}")`}function Ul(n,t,e,r){var i;return Tl(e)?Nl(e,n,t):Ll(n,null!==(i=Object(l.J)(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function ql(n,t,e,r,i){const l=Ul(n,e,r,i),u=Ul(t,e,r,i);return`${ii(n,!1)} ? "null" : ${l} + " – " + ${u}`}const Hl="min",Wl={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Gl(n){return n in Wl}function Yl(n){return!!n&&!!n.encoding}function Vl(n){return!(!n||"count"!==n.op&&!n.field)}function Jl(n){return!!n&&Object(l.B)(n)}function Xl(n){return"row"in n||"column"in n}function Kl(n){return!!n&&"header"in n}function Zl(n){return"facet"in n}var Ql=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function nu(n){const{field:t,timeUnit:e,bin:r,aggregate:i}=n;return Object.assign(Object.assign(Object.assign(Object.assign({},e?{timeUnit:e}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function tu(n){return"sort"in n}function eu({channel:n,fieldDef:t,fieldDef2:e,markDef:r,stack:i,config:l,isMidPoint:u}){if(hu(t)&&void 0!==t.band)return t.band;if(au(t)){const{timeUnit:n,bin:i}=t;if(n&&!e)return u?Qu("timeUnitBandPosition",r,l):ml(r.type)?Qu("timeUnitBand",r,l):0;if(Yt(i))return ml(r.type)&&!u?1:.5}return(null==i?void 0:i.fieldChannel)===n&&u?.5:void 0}function ru(n,t,e,r,i,l){return!!(Yt(t.bin)||t.timeUnit&&du(t)&&"temporal"===t.type)&&!!eu({channel:n,fieldDef:t,fieldDef2:e,stack:r,markDef:i,config:l})}function iu(n){return!!n&&"condition"in n}function lu(n){const t=n&&n.condition;return!!t&&!Object(l.B)(t)&&au(t)}function uu(n){const t=n&&n.condition;return!!t&&!Object(l.B)(t)&&hu(t)}function au(n){return!(!n||!n.field&&"count"!==n.aggregate)}function ou(n){return n&&n.type}function su(n){return!!n&&"datum"in n}function cu(n){return du(n)&&_u(n)||fu(n)}function fu(n){return su(n)&&Object(l.G)(n.datum)}function hu(n){return au(n)||su(n)}function du(n){return!!n&&("field"in n||"count"===n.aggregate)&&"type"in n}function pu(n){return n&&"value"in n&&"value"in n}function gu(n){return!!n&&("scale"in n||"sort"in n)}function mu(n){return n&&("axis"in n||"stack"in n||"impute"in n)}function vu(n){return!!n&&"legend"in n}function wu(n){return!!n&&("format"in n||"formatType"in n)}function yu(n){return y(n,["legend","axis","header","scale"])}function bu(n,t={}){var e,r,i;let l=n.field;const u=t.prefix;let a=t.suffix,o="";if(function(n){return"count"===n.aggregate}(n))l=nn("count");else{let u;if(!t.nofn)if(function(n){return"op"in n}(n))u=n.op;else{const{bin:s,aggregate:c,timeUnit:f}=n;Yt(s)?(u=Gt(s),a=(null!==(e=t.binSuffix)&&void 0!==e?e:"")+(null!==(r=t.suffix)&&void 0!==r?r:"")):c?mn(c)?(o=`["${l}"]`,l="argmax_"+c.argmax):gn(c)?(o=`["${l}"]`,l="argmin_"+c.argmin):u=String(c):f&&(u=function(n){const t=Lr(n),{utc:e}=t,r=Fr(t,["utc"]);return r.unit?(e?"utc":"")+B(r).map(n=>R(`${"unit"===n?"":`_${n}_`}${r[n]}`)).join(""):(e?"utc":"")+"timeunit"+B(r).map(n=>R(`_${n}_${r[n]}`)).join("")}(f),a=(!k(["range","mid"],t.binSuffix)&&t.binSuffix||"")+(null!==(i=t.suffix)&&void 0!==i?i:""))}u&&(l=l?`${u}_${l}`:u)}return a&&(l=`${l}_${a}`),u&&(l=`${u}_${l}`),t.forAs?V(l):t.expr?H(l,t.expr)+o:G(l)+o}function xu(n){switch(n.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return au(n)&&!!n.bin;case"temporal":return!1}throw new Error(r.invalidFieldType(n.type))}function _u(n){return!xu(n)}const ku=(n,t)=>{switch(t.fieldTitle){case"plain":return n.field;case"functional":return function(n){const{aggregate:t,bin:e,timeUnit:r,field:i}=n;if(mn(t))return`${i} for argmax(${t.argmax})`;if(gn(t))return`${i} for argmin(${t.argmin})`;const l=Lr(r),u=t||(null==l?void 0:l.unit)||(null==l?void 0:l.maxbins)&&"timeunit"||Yt(e)&&"bin";return u?u.toUpperCase()+"("+i+")":i}(n);default:return function(n,t){var e;const{field:r,bin:i,timeUnit:l,aggregate:u}=n;if("count"===u)return t.countTitle;if(Yt(i))return r+" (binned)";if(l){const n=null===(e=Lr(l))||void 0===e?void 0:e.unit;if(n)return`${r} (${Pr(n).join("-")})`}else if(u)return mn(u)?`${r} for max ${u.argmax}`:gn(u)?`${r} for min ${u.argmin}`:`${U(u)} of ${r}`;return r}(n,t)}};let ju=ku;function Ou(n){ju=n}function Au(n,t,{allowDisabling:e,includeDefault:r=!0}){var i,l;const u=null===(i=Eu(n))||void 0===i?void 0:i.title;if(!au(n))return u;const a=n,o=r?Su(a,t):void 0;return e?X(u,a.title,o):null!==(l=null!=u?u:a.title)&&void 0!==l?l:o}function Eu(n){return mu(n)&&n.axis?n.axis:vu(n)&&n.legend?n.legend:Kl(n)&&n.header?n.header:void 0}function Su(n,t){return ju(n,t)}function Cu(n){var t;if(wu(n)){const{format:t,formatType:e}=n;return{format:t,formatType:e}}{const e=null!==(t=Eu(n))&&void 0!==t?t:{},{format:r,formatType:i}=e;return{format:r,formatType:i}}}function Du(n){return au(n)?n:lu(n)?n.condition:void 0}function Mu(n){return hu(n)?n:uu(n)?n.condition:void 0}function Fu(n,t,e,i={}){if(Object(l.J)(n)||Object(l.G)(n)||Object(l.C)(n)){const e=Object(l.J)(n)?"string":Object(l.G)(n)?"number":"boolean";return jr(r.primitiveChannelDef(t,e,n)),{value:n}}return hu(n)?Tu(n,t,e,i):uu(n)?Object.assign(Object.assign({},n),{condition:Tu(n.condition,t,e,i)}):n}function Tu(n,t,e,i){if(wu(n)){const{format:l,formatType:u}=n,a=Ql(n,["format","formatType"]);if(Tl(u)&&!e.customFormatTypes)return jr(r.customFormatTypeNotAllowed(t)),Tu(a,t,e,i)}else{const l=mu(n)?"axis":vu(n)?"legend":Kl(n)?"header":null;if(l&&n[l]){const u=n[l],{format:a,formatType:o}=u,s=Ql(u,["format","formatType"]);if(Tl(o)&&!e.customFormatTypes)return jr(r.customFormatTypeNotAllowed(t)),Tu(Object.assign(Object.assign({},n),{[l]:s}),t,e,i)}}return au(n)?Nu(n,t,i):function(n){let t=n.type;if(t)return n;const{datum:e}=n;return t=Object(l.G)(e)?"quantitative":Object(l.J)(e)?"nominal":Or(e)?"temporal":void 0,Object.assign(Object.assign({},n),{type:t})}(n)}function Nu(n,t,{compositeMark:e=!1}={}){const{aggregate:i,timeUnit:u,bin:a,field:o}=n,s=Object.assign({},n);if(e||!i||vn(i)||mn(i)||gn(i)||(jr(r.invalidAggregate(i)),delete s.aggregate),u&&(s.timeUnit=Lr(u)),o&&(s.field=""+o),Yt(a)&&(s.bin=Bu(a,t)),Vt(a)&&!jt(t)&&jr(r.channelShouldNotBeUsedForBinned(t)),du(s)){const{type:n}=s,t=function(n){if(n)switch(n=n.toLowerCase()){case"q":case ai:return"quantitative";case"t":case si:return"temporal";case"o":case oi:return"ordinal";case"n":case ci:return"nominal";case fi:return"geojson"}}(n);n!==t&&(s.type=t),"quantitative"!==n&&yn(i)&&(jr(r.invalidFieldTypeForCountAggregate(n,i)),s.type="quantitative")}else if(!rt(t)){const n=function(n,t){var e;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(tu(n)&&Object(l.B)(n.sort))return"ordinal";const{aggregate:r,bin:i,timeUnit:u}=n;if(u)return"temporal";if(i||r&&!mn(r)&&!gn(r))return"quantitative";if(gu(n)&&(null===(e=n.scale)||void 0===e?void 0:e.type))switch(Oi[n.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(s,t);s.type=n}if(du(s)){const{compatible:n,warning:e}=function(n,t){const e=n.type;if("geojson"===e&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case kn:case jn:case"facet":return _u(n)?{compatible:!1,warning:r.facetChannelShouldBeDiscrete(t)}:zu;case On:case An:case Fn:case Tn:case Nn:case"text":case"detail":case"key":case"tooltip":case"href":case"url":case"angle":case Dn:case Cn:case"description":return zu;case"longitude":case"longitude2":case"latitude":case"latitude2":return e!==ai?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${n.type} field.`}:zu;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case zn:case Mn:case"radius2":case En:case Sn:return"nominal"!==e||n.sort?zu:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case"strokeDash":return k(["ordinal","nominal"],n.type)?zu:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case Bn:return k(["ordinal","nominal","geojson"],n.type)?zu:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==n.type||"sort"in n?zu:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(s,t)||{};!1===n&&jr(e)}if(tu(s)&&Object(l.J)(s.sort)){const{sort:n}=s;if(Gl(n))return Object.assign(Object.assign({},s),{sort:{encoding:n}});const t=n.substr(1);if("-"===n.charAt(0)&&Gl(t))return Object.assign(Object.assign({},s),{sort:{encoding:t,order:"descending"}})}if(Kl(s)){const{header:n}=s,{orient:t}=n,e=Ql(n,["orient"]);if(t)return Object.assign(Object.assign({},s),{header:Object.assign(Object.assign({},e),{labelOrient:n.labelOrient||t,titleOrient:n.titleOrient||t})})}return s}function Bu(n,t){return Object(l.C)(n)?{maxbins:Kt(t)}:"binned"===n?{binned:!0}:n.maxbins||n.step?n:Object.assign(Object.assign({},n),{maxbins:Kt(t)})}const zu={compatible:!0};function Pu(n){const{formatType:t}=Cu(n);return"time"===t||!t&&((e=n)&&("temporal"===e.type||au(e)&&!!e.timeUnit));var e}function $u(n,{timeUnit:t,type:e,wrapTime:r,undefinedIfExprNotRequired:i}){var u;const a=t&&(null===(u=Lr(t))||void 0===u?void 0:u.unit);let o,s=a||"temporal"===e;return Zi(n)?o=n.expr:Ur(n)?o=n.signal:Or(n)?(s=!0,o=Mr(n)):(Object(l.J)(n)||Object(l.G)(n))&&s&&(o=`datetime(${JSON.stringify(n)})`,function(n){return!!Tr[n]}(a)&&(Object(l.G)(n)&&n<1e4||Object(l.J)(n)&&isNaN(Date.parse(n)))&&(o=Mr({[a]:n}))),o?r&&s?`time(${o})`:o:i?void 0:JSON.stringify(n)}function Ru(n,t){const{type:e}=n;return t.map(t=>{const r=$u(t,{timeUnit:au(n)?n.timeUnit:void 0,type:e,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t})}function Iu(n,t){return Yt(n.bin)?It(t)&&k(["ordinal","nominal"],n.type):(console.warn("Only call this method for binned field defs."),!1)}var Lu=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Uu(n){const{anchor:t,frame:e,offset:r,orient:i,color:l,subtitleColor:u,subtitleFont:a,subtitleFontSize:o,subtitleFontStyle:s,subtitleFontWeight:c,subtitleLineHeight:f,subtitlePadding:h}=n,d=Lu(n,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},d),l?{fill:l}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),e?{frame:e}:{}),r?{offset:r}:{}),i?{orient:i}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{subtitleColor:u}:{}),a?{subtitleFont:a}:{}),o?{subtitleFontSize:o}:{}),s?{subtitleFontStyle:s}:{}),c?{subtitleFontWeight:c}:{}),f?{subtitleLineHeight:f}:{}),h?{subtitlePadding:h}:{});return{titleMarkConfig:p,subtitleMarkConfig:w(p,["align","baseline","dx","dy","limit"]),nonMark:g,subtitle:m}}function qu(n){return Object(l.J)(n)||Object(l.B)(n)&&Object(l.J)(n[0])}var Hu=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Wu(n){const t=Object(l.B)(n.condition)?n.condition.map(Yu):Yu(n.condition);return Object.assign(Object.assign({},Gu(n)),{condition:t})}function Gu(n){if(Zi(n)){const{expr:t}=n,e=Hu(n,["expr"]);return Object.assign({signal:t},e)}return n}function Yu(n){if(Zi(n)){const{expr:t}=n,e=Hu(n,["expr"]);return Object.assign({signal:t},e)}return n}function Vu(n){if(Zi(n)){const{expr:t}=n,e=Hu(n,["expr"]);return Object.assign({signal:t},e)}return Ur(n)?n:void 0!==n?{value:n}:void 0}function Ju(n){return Ur(n)?n.signal:Object(l.bb)(n.value)}function Xu(n){return Ur(n)?n.signal:null==n?null:Object(l.bb)(n)}function Ku(n){var t;return[].concat(n.type,null!==(t=n.style)&&void 0!==t?t:[])}function Zu(n,t,e,r={}){const{vgChannel:i,ignoreVgConfig:l}=r;return i&&void 0!==t[i]?t[i]:void 0!==t[n]?t[n]:!l||i&&i!==n?Qu(n,t,e,r):void 0}function Qu(n,t,e,{vgChannel:r}={}){return X(r?na(n,t,e.style):void 0,na(n,t,e.style),r?e[t.type][r]:void 0,e[t.type][n],r?e.mark[r]:e.mark[n])}function na(n,t,e){return ta(n,Ku(t),e)}function ta(n,t,e){let r;t=Object(l.i)(t);for(const i of t){const t=e[i];t&&void 0!==t[n]&&(r=t[n])}return r}function ea(n,t){return Object(l.i)(n).reduce((n,e)=>{var r;return n.field.push(bu(e,t)),n.order.push(null!==(r=e.sort)&&void 0!==r?r:"ascending"),n},{field:[],order:[]})}function ra(n,t){const e=[...n];return t.forEach(n=>{for(const t of e)if(m(t,n))return;e.push(n)}),e}function ia(n,t){return m(n,t)||!t?n:n?[...Object(l.i)(n),...Object(l.i)(t)].join(", "):t}function la(n,t){const e=n.value,r=t.value;if(null==e||null===r)return{explicit:n.explicit,value:null};if((qu(e)||Ur(e))&&(qu(r)||Ur(r)))return{explicit:n.explicit,value:ia(e,r)};if(qu(e)||Ur(e))return{explicit:n.explicit,value:e};if(qu(r)||Ur(r))return{explicit:n.explicit,value:r};if(!(qu(e)||Ur(e)||qu(r)||Ur(r)))return{explicit:n.explicit,value:ra(e,r)};throw new Error("It should never reach here")}function ua(n){return"mark"in n}class aa{constructor(n,t){this.name=n,this.run=t}hasMatchingType(n){return!!ua(n)&&(wl(t=n.mark)?t.type:t)===this.name;var t}}var oa=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function sa(n,t){const e=n&&n[t];return!!e&&(Object(l.B)(e)?j(e,n=>!!n.field):au(e)||lu(e))}function ca(n){return j(Gn,t=>{if(sa(n,t)){const e=n[t];if(Object(l.B)(e))return j(e,n=>!!n.aggregate);{const n=Du(e);return n&&!!n.aggregate}}return!1})}function fa(n,t){const e=[],r=[],i=[],l=[],u={};return pa(n,(a,o)=>{if(au(a)){const{field:s,aggregate:c,bin:f,timeUnit:h}=a,d=oa(a,["field","aggregate","bin","timeUnit"]);if(c||h||f){const n=Eu(a),p=n&&n.title;let g=bu(a,{forAs:!0});const m=Object.assign(Object.assign(Object.assign({},p?[]:{title:Au(a,t,{allowDisabling:!0})}),d),{field:g});if(c){let n;if(mn(c)?(n="argmax",g=bu({op:"argmax",field:c.argmax},{forAs:!0}),m.field=`${g}.${s}`):gn(c)?(n="argmin",g=bu({op:"argmin",field:c.argmin},{forAs:!0}),m.field=`${g}.${s}`):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(n=c),n){const t={op:n,as:g};s&&(t.field=s),l.push(t)}}else if(e.push(g),du(a)&&Yt(f)){if(r.push({bin:f,field:s,as:g}),e.push(bu(a,{binSuffix:"end"})),Iu(a,o)&&e.push(bu(a,{binSuffix:"range"})),jt(o)){const n={field:g+"_end"};u[o+"2"]=n}m.bin="binned",rt(o)||(m.type=ai)}else if(h){i.push({timeUnit:h,field:s,as:g});const n=du(a)&&a.type!==si&&"time";n&&("text"===o||"tooltip"===o?m.formatType=n:!function(n){return!!bt[n]}(o)?jt(o)&&(m.axis=Object.assign({formatType:n},m.axis)):m.legend=Object.assign({formatType:n},m.legend))}u[o]=m}else e.push(s),u[o]=n[o]}else u[o]=n[o]}),{bins:r,timeUnits:i,aggregate:l,groupby:e,encoding:u}}function ha(n,t,e,i){return B(n).reduce((u,a)=>{if(!tt(a))return jr(r.invalidEncodingChannel(a)),u;const o=n[a];if("angle"!==a||"arc"!==t||n.theta||(jr(r.REPLACE_ANGLE_WITH_THETA),a=Dn),!function(n,t,e){const r=Lt(t,e);if(!r)return!1;if("binned"===r){const e=n[t===En?On:An];return!!(au(e)&&au(n[t])&&Vt(e.bin))}return!0}(n,a,t))return jr(r.incompatibleChannel(a,t)),u;if(a===zn&&"line"===t){const t=Du(n[a]);if(null==t?void 0:t.aggregate)return jr(r.LINE_WITH_VARYING_SIZE),u}if(a===Fn&&(e?"fill"in n:"stroke"in n))return jr(r.droppingColor("encoding",{fill:"fill"in n,stroke:"stroke"in n})),u;if("detail"===a||"order"===a&&!Object(l.B)(o)&&!pu(o)||"tooltip"===a&&Object(l.B)(o))o&&(u[a]=Object(l.i)(o).reduce((n,t)=>(au(t)?n.push(Nu(t,a)):jr(r.emptyFieldDef(t,a)),n),[]));else{if("tooltip"===a&&null===o)u[a]=null;else if(!(au(o)||su(o)||pu(o)||iu(o)||Ur(o)))return jr(r.emptyFieldDef(o,a)),u;u[a]=Fu(o,a,i)}return u},{})}function da(n,t){const e={};for(const r of B(n)){const i=Fu(n[r],r,t,{compositeMark:!0});e[r]=i}return e}function pa(n,t,e){if(n)for(const r of B(n)){const i=n[r];if(Object(l.B)(i))for(const n of i)t.call(e,n,r);else t.call(e,i,r)}}function ga(n,t){return B(t).reduce((e,r)=>{switch(r){case On:case An:case"href":case"description":case"url":case En:case Sn:case Dn:case Mn:case Cn:case"radius2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case Bn:case"angle":case"tooltip":return e;case"order":if("line"===n||"trail"===n)return e;case"detail":case"key":{const n=t[r];if(Object(l.B)(n)||au(n))for(const t of Object(l.i)(n))t.aggregate||e.push(bu(t,{}));return e}case zn:if("trail"===n)return e;case Fn:case Tn:case Nn:case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeDash":case"strokeWidth":{const n=Du(t[r]);return n&&!n.aggregate&&e.push(bu(n,{})),e}}},[])}var ma=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function va(n,t,e,r=!0){if("tooltip"in e)return{tooltip:e.tooltip};return{tooltip:[...n.map(({fieldPrefix:n,titlePrefix:e})=>{const i=r?" of "+wa(t):"";return{field:n+t.field,type:t.type,title:Ur(e)?{signal:e+`"${escape(i)}"`}:e+i}}),...S(function(n){const t=[];for(const e of B(n))if(sa(n,e)){const r=n[e],i=Object(l.i)(r);for(const n of i)au(n)?t.push(n):lu(n)&&t.push(n.condition)}return t}(e).map(yu),x)]}}function wa(n){const{title:t,field:e}=n;return X(t,e)}function ya(n,t,e,r,i){const{scale:u,axis:a}=e;return({partName:o,mark:s,positionPrefix:c,endPositionPrefix:f,extraEncoding:h={}})=>{const d=wa(e);return ba(n,o,i,{mark:s,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:c+"_"+e.field,type:e.type},void 0!==d?{title:d}:{}),void 0!==u?{scale:u}:{}),void 0!==a?{axis:a}:{})},Object(l.J)(f)?{[t+"2"]:{field:f+"_"+e.field}}:{}),r),h)})}}function ba(n,t,e,r){const{clip:i,color:u,opacity:a}=n,o=n.type;return n[t]||void 0===n[t]&&e[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e[t]),i?{clip:i}:{}),u?{color:u}:{}),a?{opacity:a}:{}),wl(r.mark)?r.mark:{type:r.mark}),{style:`${o}-${t}`}),Object(l.C)(n[t])?{}:n[t])})]:[]}function xa(n,t,e){const{encoding:r}=n,i="vertical"===t?"y":"x",l=r[i],u=r[i+"2"],a=r[i+"Error"],o=r[i+"Error2"];return{continuousAxisChannelDef:_a(l,e),continuousAxisChannelDef2:_a(u,e),continuousAxisChannelDefError:_a(a,e),continuousAxisChannelDefError2:_a(o,e),continuousAxis:i}}function _a(n,t){if(n&&n.aggregate){const{aggregate:e}=n,i=ma(n,["aggregate"]);return e!==t&&jr(r.errorBarContinuousAxisHasCustomizedAggregate(e,t)),i}return n}function ka(n,t){const{mark:e,encoding:r}=n,{x:i,y:l}=r;if(wl(e)&&e.orient)return e.orient;if(cu(i)){if(cu(l)){const n=au(i)&&i.aggregate,e=au(l)&&l.aggregate;if(n||e!==t){if(e||n!==t){if(n===t&&e===t)throw new Error("Both x and y cannot have aggregate");return Pu(l)&&!Pu(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(cu(l))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}var ja=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};const Oa=new aa("boxplot",Ea);function Aa(n){return Object(l.G)(n)?"tukey":n}function Ea(n,{config:t}){var e,i;n=Object.assign(Object.assign({},n),{encoding:da(n.encoding,t)});const{mark:u,encoding:a,selection:o,projection:s}=n,c=ja(n,["mark","encoding","selection","projection"]),f=wl(u)?u:{type:u};o&&jr(r.selectionNotSupported("boxplot"));const h=null!==(e=f.extent)&&void 0!==e?e:t.boxplot.extent,d=Zu("size",f,t),p=Aa(h),{bins:g,timeUnits:m,transform:v,continuousAxisChannelDef:w,continuousAxis:b,groupby:x,aggregate:_,encodingWithoutContinuousAxis:k,ticksOrient:j,boxOrient:O,customTooltipWithoutAggregatedField:A}=function(n,t,e){const r=ka(n,"boxplot"),{continuousAxisChannelDef:i,continuousAxis:u}=xa(n,r,"boxplot"),a=i.field,o=Aa(t),s=[...Sa(a),{op:"median",field:a,as:"mid_box_"+a},{op:"min",field:a,as:("min-max"===o?"lower_whisker_":"min_")+a},{op:"max",field:a,as:("min-max"===o?"upper_whisker_":"max_")+a}],c="min-max"===o||"tukey"===o?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:"iqr_"+a},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:"upper_whisker_"+a},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:"lower_whisker_"+a}],f=n.encoding,h=u,d=(f[h],ja(f,["symbol"==typeof h?h:h+""])),{customTooltipWithoutAggregatedField:p,filteredEncoding:g}=function(n){const{tooltip:t}=n,e=ma(n,["tooltip"]);if(!t)return{filteredEncoding:e};let r,i;if(Object(l.B)(t)){for(const n of t)n.aggregate?(r||(r=[]),r.push(n)):(i||(i=[]),i.push(n));r&&(e.tooltip=r)}else t.aggregate?e.tooltip=t:i=t;return Object(l.B)(i)&&1===i.length&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:e}}(d),{bins:m,timeUnits:v,aggregate:w,groupby:y,encoding:b}=fa(g,e),x="vertical"===r?"horizontal":"vertical",_=r,k=[...m,...v,{aggregate:[...w,...s],groupby:y},...c];return{bins:m,timeUnits:v,transform:k,groupby:y,aggregate:w,continuousAxisChannelDef:i,continuousAxis:u,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:_,customTooltipWithoutAggregatedField:p}}(n,h,t),{color:E,size:S}=k,C=ja(k,["color","size"]),D=n=>ya(f,b,w,n,t.boxplot),M=D(C),F=D(k),T=D(Object.assign(Object.assign({},C),S?{size:S}:{})),B=va([{fieldPrefix:"min-max"===p?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===p?"lower_whisker_":"min_",titlePrefix:"Min"}],w,k),z={type:"tick",color:"black",opacity:1,orient:j,invalid:null,aria:!1},P="min-max"===p?B:va([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],w,k),$=[...M({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:P}),...M({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:P}),...M({partName:"ticks",mark:z,positionPrefix:"lower_whisker",extraEncoding:P}),...M({partName:"ticks",mark:z,positionPrefix:"upper_whisker",extraEncoding:P})],R=[..."tukey"!==p?$:[],...F({partName:"box",mark:Object.assign(Object.assign({type:"bar"},d?{size:d}:{}),{orient:O,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:B}),...T({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Object(l.H)(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),d?{size:d}:{}),{orient:j,aria:!1}),positionPrefix:"mid_box",extraEncoding:B})];if("min-max"===p)return Object.assign(Object.assign({},c),{transform:(null!==(i=c.transform)&&void 0!==i?i:[]).concat(v),layer:R});const I=`datum["lower_box_${w.field}"]`,L=`datum["upper_box_${w.field}"]`,U=`(${L} - ${I})`,q=`${I} - ${h} * ${U}`,H=`${L} + ${h} * ${U}`,W=`datum["${w.field}"]`,G={joinaggregate:Sa(w.field),groupby:x},Y={transform:[{filter:`(${q} <= ${W}) && (${W} <= ${H})`},{aggregate:[{op:"min",field:w.field,as:"lower_whisker_"+w.field},{op:"max",field:w.field,as:"upper_whisker_"+w.field},{op:"min",field:"lower_box_"+w.field,as:"lower_box_"+w.field},{op:"max",field:"upper_box_"+w.field,as:"upper_box_"+w.field},..._],groupby:x}],layer:$},{tooltip:V}=C,J=ja(C,["tooltip"]),{scale:X,axis:K}=w,Z=wa(w),Q=y(K,["title"]),nn=ba(f,"outliers",t.boxplot,{transform:[{filter:`(${W} < ${q}) || (${W} > ${H})`}],mark:"point",encoding:Object.assign(Object.assign(Object.assign({[b]:Object.assign(Object.assign(Object.assign({field:w.field,type:w.type},void 0!==Z?{title:Z}:{}),void 0!==X?{scale:X}:{}),N(Q)?{}:{axis:Q})},J),E?{color:E}:{}),A?{tooltip:A}:{})})[0];let tn;const en=[...g,...m,G];return nn?tn={transform:en,layer:[nn,Y]}:(tn=Y,tn.transform.unshift(...en)),Object.assign(Object.assign({},c),{layer:[tn,{transform:v,layer:R}]})}function Sa(n){return[{op:"q1",field:n,as:"lower_box_"+n},{op:"q3",field:n,as:"upper_box_"+n}]}var Ca=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};const Da=new aa("errorbar",Ma);function Ma(n,{config:t}){n=Object.assign(Object.assign({},n),{encoding:da(n.encoding,t)});const{transform:e,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:l,ticksOrient:u,markDef:a,outerSpec:o,tooltipEncoding:s}=Ta(n,"errorbar",t);delete l.size;const c=ya(a,i,r,l,t.errorbar),f=a.thickness,h=a.size,d=Object.assign(Object.assign({type:"tick",orient:u,aria:!1},void 0!==f?{thickness:f}:{}),void 0!==h?{size:h}:{}),p=[...c({partName:"ticks",mark:d,positionPrefix:"lower",extraEncoding:s}),...c({partName:"ticks",mark:d,positionPrefix:"upper",extraEncoding:s}),...c({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==f?{size:f}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:s})];return Object.assign(Object.assign(Object.assign({},o),{transform:e}),p.length>1?{layer:p}:Object.assign({},p[0]))}function Fa(n,t){const{encoding:e}=n;if(function(n){return(hu(n.x)||hu(n.y))&&!hu(n.x2)&&!hu(n.y2)&&!hu(n.xError)&&!hu(n.xError2)&&!hu(n.yError)&&!hu(n.yError2)}(e))return{orient:ka(n,t),inputType:"raw"};const r=function(n){return hu(n.x2)||hu(n.y2)}(e),i=function(n){return hu(n.xError)||hu(n.xError2)||hu(n.yError)||hu(n.yError2)}(e),l=e.x,u=e.y;if(r){if(i)throw new Error(t+" cannot be both type aggregated-upper-lower and aggregated-error");const n=e.x2,r=e.y2;if(hu(n)&&hu(r))throw new Error(t+" cannot have both x2 and y2");if(hu(n)){if(cu(l))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+t)}if(hu(r)){if(cu(u))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+t)}throw new Error("No ranged axis")}{const n=e.xError,r=e.xError2,i=e.yError,a=e.yError2;if(hu(r)&&!hu(n))throw new Error(t+" cannot have xError2 without xError");if(hu(a)&&!hu(i))throw new Error(t+" cannot have yError2 without yError");if(hu(n)&&hu(i))throw new Error(t+" cannot have both xError and yError with both are quantiative");if(hu(n)){if(cu(l))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(hu(i)){if(cu(u))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Ta(n,t,e){var i;const{mark:l,encoding:u,selection:a,projection:o}=n,s=Ca(n,["mark","encoding","selection","projection"]),c=wl(l)?l:{type:l};a&&jr(r.selectionNotSupported(t));const{orient:f,inputType:h}=Fa(n,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:p,continuousAxisChannelDefError:g,continuousAxisChannelDefError2:m,continuousAxis:v}=xa(n,f,t),{errorBarSpecificAggregate:w,postAggregateCalculates:y,tooltipSummary:b,tooltipTitleWithFieldName:x}=function(n,t,e,i,l,u,a,o){let s=[],c=[];const f=t.field;let h,d=!1;if("raw"===u){const t=n.center?n.center:n.extent?"iqr"===n.extent?"median":"mean":o.errorbar.center,e=n.extent?n.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===e)&&jr(r.errorBarCenterIsUsedWithWrongExtent(t,e,a)),"stderr"===e||"stdev"===e)s=[{op:e,field:f,as:"extent_"+f},{op:t,field:f,as:"center_"+f}],c=[{calculate:`datum["center_${f}"] + datum["extent_${f}"]`,as:"upper_"+f},{calculate:`datum["center_${f}"] - datum["extent_${f}"]`,as:"lower_"+f}],h=[{fieldPrefix:"center_",titlePrefix:U(t)},{fieldPrefix:"upper_",titlePrefix:Na(t,e,"+")},{fieldPrefix:"lower_",titlePrefix:Na(t,e,"-")}],d=!0;else{let n,t,r;"ci"===e?(n="mean",t="ci0",r="ci1"):(n="median",t="q1",r="q3"),s=[{op:t,field:f,as:"lower_"+f},{op:r,field:f,as:"upper_"+f},{op:n,field:f,as:"center_"+f}],h=[{fieldPrefix:"upper_",titlePrefix:Au({field:f,aggregate:r,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Au({field:f,aggregate:t,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Au({field:f,aggregate:n,type:"quantitative"},o,{allowDisabling:!1})}]}}else{(n.center||n.extent)&&jr(r.errorBarCenterAndExtentAreNotNeeded(n.center,n.extent)),"aggregated-upper-lower"===u?(h=[],c=[{calculate:`datum["${e.field}"]`,as:"upper_"+f},{calculate:`datum["${f}"]`,as:"lower_"+f}]):"aggregated-error"===u&&(h=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:`datum["${f}"] + datum["${i.field}"]`,as:"upper_"+f}],l?c.push({calculate:`datum["${f}"] + datum["${l.field}"]`,as:"lower_"+f}):c.push({calculate:`datum["${f}"] - datum["${i.field}"]`,as:"lower_"+f}));for(const n of c)h.push({fieldPrefix:n.as.substring(0,6),titlePrefix:Y(Y(n.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:s,tooltipSummary:h,tooltipTitleWithFieldName:d}}(c,d,p,g,m,h,t,e),_=u,k=v,j=(_[k],"x"===v?"x2":"y2"),O=(_[j],"x"===v?"xError":"yError"),A=(_[O],"x"===v?"xError2":"yError2"),E=(_[A],Ca(_,["symbol"==typeof k?k:k+"","symbol"==typeof j?j:j+"","symbol"==typeof O?O:O+"","symbol"==typeof A?A:A+""])),{bins:S,timeUnits:C,aggregate:D,groupby:M,encoding:F}=fa(E,e),T=[...D,...w],N="raw"!==h?[]:M,B=va(b,d,F,x);return{transform:[...null!==(i=s.transform)&&void 0!==i?i:[],...S,...C,...0===T.length?[]:[{aggregate:T,groupby:N}],...y],groupby:N,continuousAxisChannelDef:d,continuousAxis:v,encodingWithoutContinuousAxis:F,ticksOrient:"vertical"===f?"horizontal":"vertical",markDef:c,outerSpec:s,tooltipEncoding:B}}function Na(n,t,e){return U(n)+" "+e+" "+t}const Ba=new aa("errorband",za);function za(n,{config:t}){n=Object.assign(Object.assign({},n),{encoding:da(n.encoding,t)});const{transform:e,continuousAxisChannelDef:i,continuousAxis:l,encodingWithoutContinuousAxis:u,markDef:a,outerSpec:o,tooltipEncoding:s}=Ta(n,"errorband",t),c=a,f=ya(c,l,i,u,t.errorband),h=void 0!==n.encoding.x&&void 0!==n.encoding.y;let d={type:h?"area":"rect"},p={type:h?"line":"rule"};const g=Object.assign(Object.assign({},c.interpolate?{interpolate:c.interpolate}:{}),c.tension&&c.interpolate?{tension:c.tension}:{});return h?(d=Object.assign(Object.assign(Object.assign({},d),g),{ariaRoleDescription:"errorband"}),p=Object.assign(Object.assign(Object.assign({},p),g),{aria:!1})):c.interpolate?jr(r.errorBand1DNotSupport("interpolate")):c.tension&&jr(r.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},o),{transform:e,layer:[...f({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:s}),...f({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:s}),...f({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:s})]})}const Pa={};function $a(n,t,e){const r=new aa(n,t);Pa[n]={normalizer:r,parts:e}}$a("boxplot",Ea,["box","median","outliers","rule","ticks"]),$a("errorbar",Ma,["ticks","rule"]),$a("errorband",za,["band","borders"]);const Ra=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Ia={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},La={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Ua=B(Ia),qa=B(La),Ha=B({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Wa=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Ga={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1};B(Ga);var Ya=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Va(n){const t=[];for(const e of n||[]){const{expr:n,bind:r}=e,i=Ya(e,["expr","bind"]);if(r&&n){const e=Object.assign(Object.assign({},i),{bind:r,init:n});t.push(e)}else{const e=Object.assign(Object.assign(Object.assign({},i),n?{update:n}:{}),r?{bind:r}:{});t.push(e)}}return t}const Ja={single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Xa(n){return!(!n||"legend"!==n&&!n.legend)}function Ka(n){return Xa(n)&&Object(l.H)(n)}function Za(n){return"concat"in n}function Qa(n){return"vconcat"in n}function no(n){return"hconcat"in n}function to(n){return Object(l.H)(n)&&void 0!==n.step}function eo(n){return n.view||n.width||n.height}const ro=B({align:1,bounds:1,center:1,columns:1,spacing:1});var io=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function lo(n,t){var e;return null!==(e=n[t])&&void 0!==e?e:n["width"===t?"continuousWidth":"continuousHeight"]}function uo(n,t){const e=ao(n,t);return to(e)?e.step:oo}function ao(n,t){var e;return X(null!==(e=n[t])&&void 0!==e?e:n["width"===t?"discreteWidth":"discreteHeight"],{step:n.step})}const oo=20;const so={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:oo},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:kl,circle:{},geoshape:{},image:{},line:{},point:{},rect:jl,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Ja,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},co=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],fo={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},ho={blue:co[0],orange:co[1],red:co[2],teal:co[3],green:co[4],yellow:co[5],purple:co[6],pink:co[7],brown:co[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function po(n){const t=B(n||{}),e={};for(const r of t){const t=n[r];e[r]=un(t)?Wu(t):Gu(t)}return e}const go=[...xl,...hn,...Ha,"background","padding","legend","lineBreak","scale","style","title","view"];function mo(n={}){const{color:t,font:e,fontSize:r}=n,i=io(n,["color","font","fontSize"]),u=Object(l.P)({},so,e?function(n){return{text:{font:n},style:{"guide-label":{font:n},"guide-title":{font:n},"group-title":{font:n},"group-subtitle":{font:n}}}}(e):{},t?function(n={}){return{signals:[{name:"color",value:Object(l.H)(n)?Object.assign(Object.assign({},ho),n):ho}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},r?function(n){return{signals:[{name:"fontSize",value:Object(l.H)(n)?Object.assign(Object.assign({},fo),n):fo}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},i||{}),a=y(u,go);for(const n of["background","lineBreak","padding"])u[n]&&(a[n]=Gu(u[n]));for(const n of xl)u[n]&&(a[n]=Qi(u[n]));for(const n of hn)u[n]&&(a[n]=po(u[n]));for(const n of Ha)u[n]&&(a[n]=Qi(u[n]));return u.legend&&(a.legend=Qi(u.legend)),u.scale&&(a.scale=Qi(u.scale)),u.style&&(a.style=function(n){const t=B(n),e={};for(const r of t)e[r]=po(n[r]);return e}(u.style)),u.title&&(a.title=Qi(u.title)),u.view&&(a.view=Qi(u.view)),a}const vo=["view",...vl],wo=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],yo=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function bo(n){n=v(n);for(const t of wo)delete n[t];if(n.axis)for(const t in n.axis)un(n.axis[t])&&delete n.axis[t];if(n.legend)for(const t of Ra)delete n.legend[t];if(n.mark){for(const t of bl)delete n.mark[t];n.mark.tooltip&&Object(l.H)(n.mark.tooltip)&&delete n.mark.tooltip}n.params&&(n.signals=(n.signals||[]).concat(Va(n.params)),delete n.params);for(const t of vo){for(const e of bl)delete n[t][e];const e=yo[t];if(e)for(const r of e)delete n[t][r];xo(n,t)}for(const t of B(Pa))delete n[t];!function(n){const{titleMarkConfig:t,subtitleMarkConfig:e,subtitle:r}=Uu(n.title);N(t)||(n.style["group-title"]=Object.assign(Object.assign({},n.style["group-title"]),t));N(e)||(n.style["group-subtitle"]=Object.assign(Object.assign({},n.style["group-subtitle"]),e));N(r)?delete n.title:n.title=r}(n);for(const t in n)Object(l.H)(n[t])&&N(n[t])&&delete n[t];return N(n)?void 0:n}function xo(n,t,e,r){const i=r?n[t][r]:n[t];"view"===t&&(e="cell");const l=Object.assign(Object.assign({},i),n.style[null!=e?e:t]);N(l)||(n.style[null!=e?e:t]=l),r||delete n[t]}function _o(n){return"layer"in n}var ko=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};const jo={zero:1,center:1,normalize:1};const Oo=new Set([tl,rl,el,ol,ul,hl,dl,ll,sl,cl]),Ao=new Set([rl,el,tl]);function Eo(n,t){var e,r;const i="x"===t?"y":"radius",l=n[t],u=n[i];if(au(l)&&au(u))if("quantitative"===ou(l)&&"quantitative"===ou(u)){if(l.stack)return t;if(u.stack)return i;const n=au(l)&&!!l.aggregate;if(n!==(au(u)&&!!u.aggregate))return n?t:i;{const n=null===(e=l.scale)||void 0===e?void 0:e.type,a=null===(r=u.scale)||void 0===r?void 0:r.type;if(n&&"linear"!==n)return i;if(a&&"linear"!==a)return t}}else{if("quantitative"===ou(l))return t;if("quantitative"===ou(u))return i}else{if("quantitative"===ou(l))return t;if("quantitative"===ou(u))return i}}function So(n,t,e={}){const i=wl(n)?n.type:n;if(!Oo.has(i))return null;const u=Eo(t,"x")||Eo(t,"theta");if(!u)return null;const a=t[u],o=au(a)?bu(a,{}):void 0;let s=function(n){switch(n){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(u),c=t[s],f=au(c)?bu(c,{}):void 0;f===o&&(f=void 0,c=void 0,s=void 0);const h=xt.reduce((n,e)=>{if("tooltip"!==e&&sa(t,e)){const r=t[e];for(const t of Object(l.i)(r)){const r=Du(t);if(r.aggregate)continue;const i=bu(r,{});i&&i===f||n.push({channel:e,fieldDef:r})}}return n},[]);let d;if(void 0!==a.stack?d=Object(l.C)(a.stack)?a.stack?"zero":null:a.stack:h.length>0&&Ao.has(i)&&(d="zero"),!d||!(d in jo))return null;if(ca(t)&&0===h.length)return null;if(a.scale&&a.scale.type&&a.scale.type!==di){if(e.disallowNonLinearStack)return null;jr(r.cannotStackNonLinearScale(a.scale.type))}return hu(t[ut(u)])?(void 0!==a.stack&&jr(r.cannotStackRangedMark(u)),null):(au(a)&&a.aggregate&&!k(bn,a.aggregate)&&jr(r.stackNonSummativeAggregate(a.aggregate)),{groupbyChannel:c?s:void 0,groupbyField:f,fieldChannel:u,impute:null!==a.impute&&gl(i),stackBy:h,offset:d})}var Co=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Do(n){const{point:t,line:e}=n,r=Co(n,["point","line"]);return B(r).length>1?r:r.type}function Mo(n){for(const t of["line","area","rule","trail"])n[t]&&(n=Object.assign(Object.assign({},n),{[t]:y(n[t],["point","line"])}));return n}function Fo(n,t={},e){return"transparent"===n.point?{opacity:0}:n.point?Object(l.H)(n.point)?n.point:{}:void 0!==n.point?null:t.point||e.shape?Object(l.H)(t.point)?t.point:{}:void 0}function To(n,t={}){return n.line?!0===n.line?{}:n.line:void 0!==n.line?null:t.line?!0===t.line?{}:t.line:void 0}class No{constructor(){this.name="path-overlay"}hasMatchingType(n,t){if(ua(n)){const{mark:e,encoding:r}=n,i=wl(e)?e:{type:e};switch(i.type){case"line":case"rule":case"trail":return!!Fo(i,t[i.type],r);case"area":return!!Fo(i,t[i.type],r)||!!To(i,t[i.type])}}return!1}run(n,t,e){const{config:r}=t,{selection:i,projection:l,mark:u,encoding:a}=n,o=Co(n,["selection","projection","mark","encoding"]),s=da(a,r),c=wl(u)?u:{type:u},f=Fo(c,r[c.type],s),h="area"===c.type&&To(c,r[c.type]),d=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:Do(Object.assign(Object.assign({},"area"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:y(s,["shape"])})],p=So(c,s);let g=s;if(p){const{fieldChannel:n,offset:t}=p;g=Object.assign(Object.assign({},s),{[n]:Object.assign(Object.assign({},s[n]),t?{stack:t}:{})})}return h&&d.push(Object.assign(Object.assign({},l?{projection:l}:{}),{mark:Object.assign(Object.assign({type:"line"},w(c,["clip","interpolate","tension","tooltip"])),h),encoding:g})),f&&d.push(Object.assign(Object.assign({},l?{projection:l}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},w(c,["clip","tooltip"])),f),encoding:g})),e(Object.assign(Object.assign({},o),{layer:d}),Object.assign(Object.assign({},t),{config:Mo(r)}))}}var Bo=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class zo{constructor(){this.name="RangeStep"}hasMatchingType(n){var t;if(ua(n)&&n.encoding)for(const e of kt){const r=n.encoding[e];if(r&&hu(r)&&(null===(t=null==r?void 0:r.scale)||void 0===t?void 0:t.rangeStep))return!0}return!1}run(n){var t;const e={};let i=Object.assign({},n.encoding);for(const n of kt){const l=at(n),u=i[n];if(u&&hu(u)&&(null===(t=null==u?void 0:u.scale)||void 0===t?void 0:t.rangeStep)){const{scale:t}=u,a=Bo(u,["scale"]),o=t,{rangeStep:s}=o,c=Bo(o,["rangeStep"]);e[l]={step:t.rangeStep},jr(r.RANGE_STEP_DEPRECATED),i=Object.assign(Object.assign({},i),{[n]:Object.assign(Object.assign({},a),N(c)?{}:{scale:c})})}}return Object.assign(Object.assign(Object.assign({},e),n),{encoding:i})}}var Po=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function $o(n,t){return t?Xl(n)?Ho(n,t):Lo(n,t):n}function Ro(n,t){return t?Ho(n,t):n}function Io(n,t,e){const i=t[n];return(u=i)&&!Object(l.J)(u)&&"repeat"in u?i.repeat in e?Object.assign(Object.assign({},t),{[n]:e[i.repeat]}):void jr(r.noSuchRepeatedValue(i.repeat)):t;var u}function Lo(n,t){if(void 0!==(n=Io("field",n,t))){if(null===n)return null;if(tu(n)&&Vl(n.sort)){const e=Io("field",n.sort,t);n=Object.assign(Object.assign({},n),e?{sort:e}:{})}return n}}function Uo(n,t){if(au(n))return Lo(n,t);{const e=Io("datum",n,t);return e===n||e.type||(e.type="nominal"),e}}function qo(n,t){if(!hu(n)){if(uu(n)){const e=Uo(n.condition,t);if(e)return Object.assign(Object.assign({},n),{condition:e});{const{condition:t}=n;return Po(n,["condition"])}}return n}{const e=Uo(n,t);if(e)return e;if(iu(n))return{condition:n.condition}}}function Ho(n,t){const e={};for(const r in n)if(Object(l.w)(n,r)){const i=n[r];if(Object(l.B)(i))e[r]=i.map(n=>qo(n,t)).filter(n=>n);else{const n=qo(i,t);void 0!==n&&(e[r]=n)}}return e}class Wo{constructor(){this.name="RuleForRangedLine"}hasMatchingType(n){if(ua(n)){const{encoding:t,mark:e}=n;if("line"===e)for(const n of et){const e=t[it(n)];if(t[n]&&(au(e)&&!Vt(e.bin)||su(e)))return!0}}return!1}run(n,t,e){const{encoding:i}=n;return jr(r.lineWithRange(!!i.x2,!!i.y2)),e(Object.assign(Object.assign({},n),{mark:"rule"}),t)}}var Go=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Yo({parentEncoding:n,encoding:t={},layer:e}){let r={};if(n){const i=new Set([...B(n),...B(t)]);for(const u of i){const i=t[u],a=n[u];if(hu(i)){const n=Object.assign(Object.assign({},a),i);r[u]=n}else uu(i)?r[u]=Object.assign(Object.assign({},i),{condition:Object.assign(Object.assign({},a),i.condition)}):i||null===i?r[u]=i:(e||pu(a)||Ur(a)||hu(a)||Object(l.B)(a))&&(r[u]=a)}}else r=t;return!r||N(r)?void 0:r}function Vo(n){const{parentProjection:t,projection:e}=n;return t&&e&&jr(r.projectionOverridden({parentProjection:t,projection:e})),null!=e?e:t}function Jo(n,t){void 0===t&&(t=mo(n.config));const e=function(n,t={}){return Xo.map(n,{config:t})}(n,t),{width:i,height:l}=n,u=function(n,t,e){let{width:i,height:l}=t;const u=ua(n)||_o(n),a={};u?"container"==i&&"container"==l?(a.type="fit",a.contains="padding"):"container"==i?(a.type="fit-x",a.contains="padding"):"container"==l&&(a.type="fit-y",a.contains="padding"):("container"==i&&(jr(r.containerSizeNonSingle("width")),i=void 0),"container"==l&&(jr(r.containerSizeNonSingle("height")),l=void 0));const o=Object.assign(Object.assign(Object.assign({type:"pad"},a),e?Ko(e.autosize):{}),Ko(n.autosize));"fit"!==o.type||u||(jr(r.FIT_NON_SINGLE),o.type="pad");"container"==i&&"fit"!=o.type&&"fit-x"!=o.type&&jr(r.containerSizeNotCompatibleWithAutosize("width"));"container"==l&&"fit"!=o.type&&"fit-y"!=o.type&&jr(r.containerSizeNotCompatibleWithAutosize("height"));if(m(o,{type:"pad"}))return;return o}(e,{width:i,height:l,autosize:n.autosize},t);return Object.assign(Object.assign({},e),u?{autosize:u}:{})}const Xo=new class extends class{map(n,t){return Zl(n)?this.mapFacet(n,t):function(n){return"repeat"in n}(n)?this.mapRepeat(n,t):no(n)?this.mapHConcat(n,t):Qa(n)?this.mapVConcat(n,t):Za(n)?this.mapConcat(n,t):this.mapLayerOrUnit(n,t)}mapLayerOrUnit(n,t){if(_o(n))return this.mapLayer(n,t);if(ua(n))return this.mapUnit(n,t);throw new Error(r.invalidSpec(n))}mapLayer(n,t){return Object.assign(Object.assign({},n),{layer:n.layer.map(n=>this.mapLayerOrUnit(n,t))})}mapHConcat(n,t){return Object.assign(Object.assign({},n),{hconcat:n.hconcat.map(n=>this.map(n,t))})}mapVConcat(n,t){return Object.assign(Object.assign({},n),{vconcat:n.vconcat.map(n=>this.map(n,t))})}mapConcat(n,t){const{concat:e}=n,r=ko(n,["concat"]);return Object.assign(Object.assign({},r),{concat:e.map(n=>this.map(n,t))})}mapFacet(n,t){return Object.assign(Object.assign({},n),{spec:this.map(n.spec,t)})}mapRepeat(n,t){return Object.assign(Object.assign({},n),{spec:this.map(n.spec,t)})}}{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[Oa,Da,Ba,new No,new Wo,new zo]}map(n,t){if(ua(n)){const e=sa(n.encoding,kn),r=sa(n.encoding,jn),i=sa(n.encoding,"facet");if(e||r||i)return this.mapFacetedUnit(n,t)}return super.map(n,t)}mapUnit(n,t){const{parentEncoding:e,parentProjection:r}=t,i=Ro(n.encoding,t.repeater),l=Object.assign(Object.assign({},n),i?{encoding:i}:{});if(e||r)return this.mapUnitWithParentEncodingOrProjection(l,t);const u=this.mapLayerOrUnit.bind(this);for(const n of this.nonFacetUnitNormalizers)if(n.hasMatchingType(l,t.config))return n.run(l,t,u);return l}mapRepeat(n,t){return function(n){return!Object(l.B)(n.repeat)&&n.repeat.layer}(n)?this.mapLayerRepeat(n,t):this.mapNonLayerRepeat(n,t)}mapLayerRepeat(n,t){const{repeat:e,spec:r}=n,i=Go(n,["repeat","spec"]),{row:l,column:u,layer:a}=e,{repeater:o={},repeaterPrefix:s=""}=t;return l||u?this.mapRepeat(Object.assign(Object.assign({},n),{repeat:Object.assign(Object.assign({},l?{row:l}:{}),u?{column:u}:{}),spec:{repeat:{layer:a},spec:r}}),t):Object.assign(Object.assign({},i),{layer:a.map(n=>{const e=Object.assign(Object.assign({},o),{layer:n}),i=(r.name||"")+s+"child__layer_"+R(n),l=this.mapLayerOrUnit(r,Object.assign(Object.assign({},t),{repeater:e,repeaterPrefix:i}));return l.name=i,l})})}mapNonLayerRepeat(n,t){var e;const{repeat:i,spec:u,data:a}=n,o=Go(n,["repeat","spec","data"]);!Object(l.B)(i)&&n.columns&&(n=y(n,["columns"]),jr(r.columnsNotSupportByRowCol("repeat")));const s=[],{repeater:c={},repeaterPrefix:f=""}=t,h=!Object(l.B)(i)&&i.row||[c?c.row:null],d=!Object(l.B)(i)&&i.column||[c?c.column:null],p=Object(l.B)(i)&&i||[c?c.repeat:null];for(const n of p)for(const e of h)for(const r of d){const a={repeat:n,row:e,column:r,layer:c.layer},o=(u.name||"")+f+"child__"+(Object(l.B)(i)?""+R(n):(i.row?"row_"+R(e):"")+(i.column?"column_"+R(r):"")),h=this.map(u,Object.assign(Object.assign({},t),{repeater:a,repeaterPrefix:o}));h.name=o,s.push(y(h,["data"]))}const g=Object(l.B)(i)?n.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(e=u.data)&&void 0!==e?e:a,align:"all"},o),{columns:g,concat:s})}mapFacet(n,t){const{facet:e}=n;return Xl(e)&&n.columns&&(n=y(n,["columns"]),jr(r.columnsNotSupportByRowCol("facet"))),super.mapFacet(n,t)}mapUnitWithParentEncodingOrProjection(n,t){const{encoding:e,projection:r}=n,{parentEncoding:i,parentProjection:l,config:u}=t,a=Vo({parentProjection:l,projection:r}),o=Yo({parentEncoding:i,encoding:Ro(e,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},n),a?{projection:a}:{}),o?{encoding:o}:{}),{config:u})}mapFacetedUnit(n,t){const e=n.encoding,{row:r,column:i,facet:l}=e,u=Go(e,["row","column","facet"]),{mark:a,width:o,projection:s,height:c,view:f,selection:h,encoding:d}=n,p=Go(n,["mark","width","projection","height","view","selection","encoding"]),{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:l},t),v=Ro(u,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},p),m),{facet:g,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o?{width:o}:{}),c?{height:c}:{}),f?{view:f}:{}),s?{projection:s}:{}),{mark:a,encoding:v}),h?{selection:h}:{})}),t)}getFacetMappingAndLayout(n,t){var e;const{row:i,column:l,facet:u}=n;if(i||l){u&&jr(r.facetChannelDropped([...i?[kn]:[],...l?[jn]:[]]));const t={},a={};for(const r of[kn,jn]){const i=n[r];if(i){const{align:n,center:l,spacing:u,columns:o}=i,s=Go(i,["align","center","spacing","columns"]);t[r]=s;for(const n of["align","center","spacing"])void 0!==i[n]&&(a[n]=null!==(e=a[n])&&void 0!==e?e:{},a[n][r]=i[n])}}return{facetMapping:t,layout:a}}{const{align:n,center:e,spacing:r,columns:i}=u;return{facetMapping:$o(Go(u,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},n?{align:n}:{}),e?{center:e}:{}),r?{spacing:r}:{}),i?{columns:i}:{})}}}mapLayer(n,t){var{parentEncoding:e,parentProjection:r}=t,i=Go(t,["parentEncoding","parentProjection"]);const{encoding:l,projection:u}=n,a=Go(n,["encoding","projection"]),o=Object.assign(Object.assign({},i),{parentEncoding:Yo({parentEncoding:e,encoding:l,layer:!0}),parentProjection:Vo({parentProjection:r,projection:u})});return super.mapLayer(a,o)}};function Ko(n){return Object(l.J)(n)?{type:n}:null!=n?n:{}}const Zo=["background","padding"];function Qo(n,t){const e={};for(const t of Zo)n&&void 0!==n[t]&&(e[t]=Gu(n[t]));return t&&(e.params=n.params),e}class ns{constructor(n={},t={}){this.explicit=n,this.implicit=t}clone(){return new ns(v(this.explicit),v(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(n){return X(this.explicit[n],this.implicit[n])}getWithExplicit(n){return void 0!==this.explicit[n]?{explicit:!0,value:this.explicit[n]}:void 0!==this.implicit[n]?{explicit:!1,value:this.implicit[n]}:{explicit:!1,value:void 0}}setWithExplicit(n,t){void 0!==t.value&&this.set(n,t.value,t.explicit)}set(n,t,e){return delete this[e?"implicit":"explicit"][n],this[e?"explicit":"implicit"][n]=t,this}copyKeyFromSplit(n,t){void 0!==t.explicit[n]?this.set(n,t.explicit[n],!0):void 0!==t.implicit[n]&&this.set(n,t.implicit[n],!1)}copyKeyFromObject(n,t){void 0!==t[n]&&this.set(n,t[n],!0)}copyAll(n){for(const t of B(n.combine())){const e=n.getWithExplicit(t);this.setWithExplicit(t,e)}}}function ts(n){return{explicit:!0,value:n}}function es(n){return{explicit:!1,value:n}}function rs(n){return(t,e,r,i)=>{const l=n(t.value,e.value);return l>0?t:l<0?e:is(t,e,r,i)}}function is(n,t,e,i){return n.explicit&&t.explicit&&jr(r.mergeConflictingProperty(e,i,n.value,t.value)),n}function ls(n,t,e,r,i=is){return void 0===n||void 0===n.value?t:n.explicit&&!t.explicit?n:t.explicit&&!n.explicit?t:m(n.value,t.value)?n:i(n,t,e,r)}class us extends ns{constructor(n={},t={},e=!1){super(n,t),this.explicit=n,this.implicit=t,this.parseNothing=e}clone(){const n=super.clone();return n.parseNothing=this.parseNothing,n}}function as(n){return"url"in n}function os(n){return"values"in n}function ss(n){return"name"in n&&!as(n)&&!os(n)&&!cs(n)}function cs(n){return n&&(fs(n)||hs(n)||ds(n))}function fs(n){return"sequence"in n}function hs(n){return"sphere"in n}function ds(n){return"graticule"in n}var ps;function gs(n){return"filter"in n}function ms(n){return"lookup"in n}function vs(n){return"pivot"in n}function ws(n){return"density"in n}function ys(n){return"quantile"in n}function bs(n){return"regression"in n}function xs(n){return"loess"in n}function _s(n){return"sample"in n}function ks(n){return"window"in n}function js(n){return"joinaggregate"in n}function Os(n){return"flatten"in n}function As(n){return"calculate"in n}function Es(n){return"bin"in n}function Ss(n){return"impute"in n}function Cs(n){return"timeUnit"in n}function Ds(n){return"aggregate"in n}function Ms(n){return"stack"in n}function Fs(n){return"fold"in n}!function(n){n[n.Raw=0]="Raw",n[n.Main=1]="Main",n[n.Row=2]="Row",n[n.Column=3]="Column",n[n.Lookup=4]="Lookup"}(ps||(ps={}));var Ts=e(3);function Ns(n,t,e,r){const i=iu(t)&&t.condition,u=r(t);if(i){return{[e]:[...Object(l.i)(i).map(t=>{const e=r(t),i=function(n){return n.selection}(t)?Kc(n,t.selection):Qc(n,t.test);return Object.assign({test:i},e)}),...void 0!==u?[u]:[]]}}return void 0!==u?{[e]:u}:{}}function Bs(n,t="text"){const e=n.encoding[t];return Ns(n,e,t,t=>zs(t,n.config))}function zs(n,t,e="datum"){if(n){if(pu(n))return Vu(n.value);if(hu(n)){const{format:r,formatType:i}=Cu(n);return Bl({fieldOrDatumDef:n,format:r,formatType:i,expr:e,config:t})}}}function Ps(n,t={}){const{encoding:e,markDef:r,config:i,stack:u}=n,a=e.tooltip;if(Object(l.B)(a))return{tooltip:Rs({tooltip:a},u,i,t)};{const o=t.reactiveGeom?"datum.datum":"datum";return Ns(n,a,"tooltip",n=>{const a=zs(n,i,o);if(a)return a;if(null===n)return;let s=Zu("tooltip",r,i);return!0===s&&(s={content:"encoding"}),Object(l.J)(s)?{value:s}:Object(l.H)(s)?Ur(s)?s:"encoding"===s.content?Rs(e,u,i,t):{signal:o}:void 0})}}function $s(n,t,e,{reactiveGeom:r}={}){const i={},u=r?"datum.datum":"datum",a=[];function o(r,o){const s=it(o),c=du(r)?r:Object.assign(Object.assign({},r),{type:n[s].type}),f=c.title||Su(c,e),h=Object(l.i)(f).join(", ");let d;if(jt(o)){const r="x"===o?"x2":"y2",l=Du(n[r]);if(Vt(c.bin)&&l){const n=bu(c,{expr:u}),t=bu(l,{expr:u}),{format:a,formatType:o}=Cu(c);d=ql(n,t,a,o,e),i[r]=!0}else if(t&&t.fieldChannel===o&&"normalize"===t.offset){const{format:n,formatType:t}=Cu(c);d=Bl({fieldOrDatumDef:c,format:n,formatType:t,expr:u,config:e,normalizeStack:!0}).signal}}d=null!=d?d:zs(c,e,u).signal,a.push({channel:o,key:h,value:d})}pa(n,(n,t)=>{au(n)?o(n,t):lu(n)&&o(n.condition,t)});const s={};for(const{channel:n,key:t,value:e}of a)i[n]||s[t]||(s[t]=e);return s}function Rs(n,t,e,{reactiveGeom:r}={}){const i=$s(n,t,e,{reactiveGeom:r}),l=P(i).map(([n,t])=>`"${n}": ${t}`);return l.length>0?{signal:`{${l.join(", ")}}`}:void 0}function Is(n){const{markDef:t,config:e}=n,r=Zu("aria",t,e);return!1===r?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),function(n){const{mark:t,markDef:e,config:r}=n;if(!1===r.aria)return{};const i=Zu("ariaRoleDescription",e,r);if(null!=i)return{ariaRoleDescription:{value:i}};return t in Gr?{}:{ariaRoleDescription:{value:t}}}(n)),function(n){const{encoding:t,markDef:e,config:r,stack:i}=n,l=t.description;if(l)return Ns(n,l,"description",t=>zs(t,n.config));const u=Zu("description",e,r);if(null!=u)return{description:Vu(u)};if(!1===r.aria)return{};const a=$s(t,i,r);if(N(a))return;return{description:{signal:P(a).map(([n,t],e)=>`"${e>0?"; ":""}${n}: " + (${t})`).join(" + ")}}}(n))}function Ls(n,t,e={}){const{markDef:r,encoding:i,config:l}=t,{vgChannel:u}=e;let{defaultRef:a,defaultValue:o}=e;void 0===a&&(o=null!=o?o:Zu(n,r,l,{vgChannel:u,ignoreVgConfig:!0}),void 0!==o&&(a=Vu(o)));const s=i[n];return Ns(t,s,null!=u?u:n,e=>Ml({channel:n,channelDef:e,markDef:r,config:l,scaleName:t.scaleName(n),scale:t.getScaleComponent(n),stack:null,defaultRef:a}))}function Us(n,t={filled:void 0}){var e,i,l,u;const{markDef:a,encoding:o,config:s}=n,{type:c}=a,f=null!==(e=t.filled)&&void 0!==e?e:Zu("filled",a,s),h=k(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=null!==(l=null!==(i=Zu(!0===f?"color":void 0,a,s,{vgChannel:"fill"}))&&void 0!==i?i:s.mark[!0===f&&"color"])&&void 0!==l?l:h,p=null!==(u=Zu(!1===f?"color":void 0,a,s,{vgChannel:"stroke"}))&&void 0!==u?u:s.mark[!1===f&&"color"],g=f?"fill":"stroke",m=Object.assign(Object.assign({},d?{fill:Vu(d)}:{}),p?{stroke:Vu(p)}:{});return a.color&&(f?a.fill:a.stroke)&&jr(r.droppingColor("property",{fill:"fill"in a,stroke:"stroke"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},m),Ls("color",n,{vgChannel:g,defaultValue:f?d:p})),Ls("fill",n,{defaultValue:o.fill?d:void 0})),Ls("stroke",n,{defaultValue:o.stroke?p:void 0}))}function qs(n,t){const e=t[function(n){switch(n){case On:return"xOffset";case An:return"yOffset";case En:return"x2Offset";case Sn:return"y2Offset";case Dn:return"thetaOffset";case Cn:return"radiusOffset";case Mn:return"theta2Offset";case"radius2":return"radius2Offset"}}(n)];if(e)return e}function Hs(n,t,{defaultPos:e,vgChannel:r,isMidPoint:i}){const{encoding:l,markDef:u,config:a,stack:o}=t,s=l[n],c=l[ut(n)],f=t.scaleName(n),h=t.getScaleComponent(n),d=qs(n,u),p=Ws({model:t,defaultPos:e,channel:n,scaleName:f,scale:h}),g=!s&&jt(n)&&(l.latitude||l.longitude)?{field:t.getName(n)}:function(n){const{channel:t,channelDef:e,isMidPoint:r,scaleName:i,stack:l,offset:u,markDef:a,config:o}=n;if(hu(e)&&l&&t===l.fieldChannel){if(au(e)){const n=eu({channel:t,fieldDef:e,isMidPoint:r,markDef:a,stack:l,config:o});if(void 0!==n)return Dl({scaleName:i,fieldOrDatumDef:e,startSuffix:"start",band:n,offset:u})}return Cl(e,i,{suffix:"end"},{offset:u})}return Ol(n)}({channel:n,channelDef:s,channel2Def:c,markDef:u,config:a,isMidPoint:i,scaleName:f,scale:h,stack:o,offset:d,defaultRef:p});return g?{[r||n]:g}:void 0}function Ws({model:n,defaultPos:t,channel:e,scaleName:r,scale:i}){const{markDef:l,config:u}=n;return()=>{const a=it(e),o=lt(e),s=Zu(e,l,u,{vgChannel:o});if(void 0!==s)return Fl(e,s);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const n=i.get("type");if(k([pi,wi,yi],n));else if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}if("zeroOrMin"===t)return"y"===a?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${n.width.signal},${n.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const t=n[at(e)];return Object.assign(Object.assign({},t),{mult:.5})}}}}const Gs={left:"x",center:"xc",right:"x2"},Ys={top:"y",middle:"yc",bottom:"y2"};function Vs(n,t,e,i="middle"){if("radius"===n||"theta"===n)return lt(n);const l="x"===n?"align":"baseline",u=Zu(l,t,e);let a;return Ur(u)?(jr(r.rangeMarkAlignmentCannotBeExpression(l)),a=void 0):a=u,"x"===n?Gs[a||("top"===i?"left":"center")]:Ys[a||i]}function Js(n,t,{defaultPos:e,defaultPos2:r,range:i}){return i?Xs(n,t,{defaultPos:e,defaultPos2:r}):Hs(n,t,{defaultPos:e})}function Xs(n,t,{defaultPos:e,defaultPos2:r}){const{markDef:i,config:l}=t,u=ut(n),a=at(n),o=function(n,t,e){const{encoding:r,mark:i,markDef:l,stack:u,config:a}=n,o=it(e),s=at(e),c=lt(e),f=r[o],h=n.scaleName(o),d=n.getScaleComponent(o),p=qs(e in r||e in l?e:o,n.markDef);if(!f&&("x2"===e||"y2"===e)&&(r.latitude||r.longitude))return{[c]:{field:n.getName(e)}};const g=function({channel:n,channelDef:t,channel2Def:e,markDef:r,config:i,scaleName:l,scale:u,stack:a,offset:o,defaultRef:s}){if(hu(t)&&a&&n.charAt(0)===a.fieldChannel.charAt(0))return Cl(t,l,{suffix:"start"},{offset:o});return Ol({channel:n,channelDef:e,scaleName:l,scale:u,stack:a,markDef:r,config:i,offset:o,defaultRef:s})}({channel:e,channelDef:f,channel2Def:r[e],markDef:l,config:a,scaleName:h,scale:d,stack:u,offset:p,defaultRef:void 0});if(void 0!==g)return{[c]:g};return Ks(e,l)||Ks(e,{[e]:na(e,l,a.style),[s]:na(s,l,a.style)})||Ks(e,a[i])||Ks(e,a.mark)||{[c]:Ws({model:n,defaultPos:t,channel:e,scaleName:h,scale:d})()}}(t,r,u),s=o[a]?Vs(n,i,l):lt(n);return Object.assign(Object.assign({},Hs(n,t,{defaultPos:e,vgChannel:s})),o)}function Ks(n,t){const e=at(n),r=lt(n);return void 0!==t[r]?{[r]:Fl(n,t[r])}:void 0!==t[n]?{[r]:Fl(n,t[n])}:t[e]?{[e]:Fl(n,t[e])}:void 0}function Zs(n,t,e){var i,u,a,o;const{config:s,encoding:c,markDef:f,stack:h}=n,d=ut(t),p=at(t),g=c[t],m=c[d],v=n.getScaleComponent(t),w=v?v.get("type"):void 0,y=n.scaleName(t),b=f.orient,x=null!==(u=null!==(i=c[p])&&void 0!==i?i:c.size)&&void 0!==u?u:Zu("size",f,s,{vgChannel:p}),_="bar"===e&&("x"===t?"vertical"===b:"horizontal"===b);if(au(g)&&(Yt(g.bin)||Vt(g.bin)||g.timeUnit&&!m)&&!x&&!zi(w)){const e=eu({channel:t,fieldDef:g,stack:h,markDef:f,config:s}),i=null===(a=n.component.axes[t])||void 0===a?void 0:a[0];return function({fieldDef:n,fieldDef2:t,channel:e,band:i,scaleName:l,markDef:u,spacing:a=0,axisTranslate:o,reverse:s,config:c}){const f=ut(e),h=lt(e),d=lt(f),p=qs(e,u);if(Yt(n.bin)||n.timeUnit)return{[d]:tc({channel:e,fieldDef:n,scaleName:l,markDef:u,band:(1-i)/2,offset:nc(f,a,s,o,p),config:c}),[h]:tc({channel:e,fieldDef:n,scaleName:l,markDef:u,band:1-(1-i)/2,offset:nc(e,a,s,o,p),config:c})};if(Vt(n.bin)){const r=Cl(n,l,{},{offset:nc(f,a,s,o,p)});if(au(t))return{[d]:r,[h]:Cl(t,l,{},{offset:nc(e,a,s,o,p)})};if(Jt(n.bin)&&n.bin.step)return{[d]:r,[h]:{signal:`scale("${l}", ${bu(n,{expr:"datum"})} + ${n.bin.step})`,offset:nc(e,a,s,o,p)}}}return void jr(r.channelRequiredForBinned(f))}({fieldDef:g,fieldDef2:m,channel:t,markDef:f,scaleName:y,band:e,axisTranslate:null!==(o=null==i?void 0:i.get("translate"))&&void 0!==o?o:.5,spacing:jt(t)?Zu("binSpacing",f,s):void 0,reverse:v.get("reverse"),config:s})}return(hu(g)&&zi(w)||_)&&!m?function(n,t,e,i){var u;const{markDef:a,encoding:o,config:s,stack:c}=i,f=a.orient,h=i.scaleName(e),d=i.getScaleComponent(e),p=at(e),g=ut(e),m="horizontal"===f&&"y"===e||"vertical"===f&&"x"===e,v=Zu(m?"size":p,a,s,{vgChannel:p});let w;(o.size||void 0!==v)&&(m?w=Ls("size",i,{vgChannel:p,defaultValue:v}):jr(r.cannotApplySizeToNonOrientedMark(a.type)));const y=null!==(u=hu(t)?eu({channel:e,fieldDef:t,markDef:a,stack:c,config:s}):void 0)&&void 0!==u?u:1;w=w||{[p]:Qs(n,p,h,d,s,y)};const b="band"!==(null==d?void 0:d.get("type"))||!("band"in w[p]),x=Vs(e,a,s,b?"middle":"top"),_=qs(e,a),k=Ol({channel:e,channelDef:t,markDef:a,config:s,scaleName:h,scale:d,stack:c,offset:_,defaultRef:Ws({model:i,defaultPos:"mid",channel:e,scaleName:h,scale:d}),band:b?.5:(1-y)/2});if(p)return Object.assign({[x]:k},w);{const n=lt(g),t=w[p],e=_?Object.assign(Object.assign({},t),{offset:_}):t;return{[x]:k,[n]:Object(l.B)(k)?[k[0],Object.assign(Object.assign({},k[1]),{offset:e})]:Object.assign(Object.assign({},k),{offset:e})}}}(e,g,t,n):Xs(t,n,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Qs(n,t,e,r,i,u){if(r){const t=r.get("type");if("point"===t||"band"===t){if(void 0!==i[n].discreteBandSize)return{value:i[n].discreteBandSize};if(t===ki){const n=r.get("range");return qr(n)&&Object(l.G)(n.step)?{value:n.step-2}:{value:oo-2}}return{scale:e,band:u}}return{value:i[n].continuousBandSize}}const a=uo(i.view,t),o=X(i[n].discreteBandSize,a-2);return void 0!==o?{value:o}:void 0}function nc(n,t,e,r,i){if($n(n))return 0;const l="x"===n||"y2"===n?-t/2:t/2;if(Ur(e)||Ur(i)||Ur(r)){const n=Xu(e),t=Xu(i),u=Xu(r);return{signal:(u?u+" + ":"")+(n?`(${n} ? -1 : 1) * `:"")+(t?`(${t} + ${l})`:l)}}return i=i||0,r+(e?-i-l:+i+l)}function tc({channel:n,fieldDef:t,scaleName:e,markDef:r,band:i,offset:l,config:u}){return Al({fieldDef:t,channel:n,markDef:r,ref:Dl({scaleName:e,fieldOrDatumDef:t,band:i,offset:l}),config:u})}const ec=new Set(["aria"]);function rc(n,t){const{fill:e,stroke:r}="include"===t.color?Us(n):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(n,t){return Wr.reduce((e,r)=>(ec.has(r)||void 0===n[r]||"ignore"===t[r]||(e[r]=Vu(n[r])),e),{})}(n.markDef,t)),ic(n,"fill",e)),ic(n,"stroke",r)),Ls("opacity",n)),Ls("fillOpacity",n)),Ls("strokeOpacity",n)),Ls("strokeWidth",n)),Ls("strokeDash",n)),function(n){const{encoding:t,mark:e}=n,r=t.order;return!gl(e)&&pu(r)?Ns(n,r,"zindex",n=>Vu(n.value)):{}}(n)),Ps(n)),Bs(n,"href")),Is(n))}function ic(n,t,e){const{config:r,mark:i,markDef:u}=n;if("hide"===Zu("invalid",u,r)&&e&&!gl(i)){const r=function(n,{invalid:t=!1,channels:e}){const r=e.reduce((t,e)=>{const r=n.getScaleComponent(e);if(r){const i=r.get("type"),l=n.vgField(e,{expr:"datum"});l&&Pi(i)&&(t[l]=!0)}return t},{}),i=B(r);if(i.length>0){const n=t?"||":"&&";return i.map(n=>Sl(n,t)).join(` ${n} `)}return}(n,{invalid:!0,channels:Rt});if(r)return{[t]:[{test:r,value:null},...Object(l.i)(e)]}}return e?{[t]:e}:{}}function lc(n){const{config:t,markDef:e}=n;if(Zu("invalid",e,t)){const t=function(n,{invalid:t=!1,channels:e}){const r=e.reduce((t,e)=>{const r=n.getScaleComponent(e);if(r){const i=r.get("type"),l=n.vgField(e,{expr:"datum"});l&&Pi(i)&&(t[l]=!0)}return t},{}),i=B(r);if(i.length>0){const n=t?"||":"&&";return i.map(n=>Sl(n,t)).join(` ${n} `)}return}(n,{channels:kt});if(t)return{defined:{signal:t}}}return{}}function uc(n,t){if(void 0!==t)return{[n]:Vu(t)}}var ac={has:n=>"interval"!==n.type&&n.nearest,parse:(n,t)=>{if(t.events)for(const e of t.events)e.markname=n.getName("voronoi")},marks:(n,t,e)=>{const{x:i,y:l}=t.project.hasChannel,u=n.mark;if(gl(u))return jr(r.nearestNotSupportForContinuous(u)),e;const a={name:n.getName("voronoi"),type:"path",interactive:!0,from:{data:n.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Ps(n,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!l?"datum.datum.x || 0":"0"},y:{expr:l||!i?"datum.datum.y || 0":"0"},size:[n.getSizeSignalRef("width"),n.getSizeSignalRef("height")]}]};let o=0,s=!1;return e.forEach((t,e)=>{var r;const i=null!==(r=t.name)&&void 0!==r?r:"";i===n.component.mark[0].name?o=e:i.indexOf("voronoi")>=0&&(s=!0)}),s||e.splice(o+1,0,a),e}};class oc{constructor(n,t){this.debugName=t,this._children=[],this._parent=null,n&&(this.parent=n)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(n){this._parent=n,n&&n.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(n,t){this._children.indexOf(n)>-1?jr(r.ADD_SAME_CHILD_TWICE):void 0!==t?this._children.splice(t,0,n):this._children.push(n)}removeChild(n){const t=this._children.indexOf(n);return this._children.splice(t,1),t}remove(){let n=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,n++)}insertAsParentOf(n){const t=n.parent;t.removeChild(this),this.parent=t,n.parent=this}swapWithParent(){const n=this._parent,t=n.parent;for(const t of this._children)t.parent=n;this._children=[],n.removeChild(this),n.parent.removeChild(n),this.parent=t,n.parent=this}}class sc extends oc{constructor(n,t,e,r){super(n,t),this.type=e,this.refCounts=r,this._source=this._name=t,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const n=new this.constructor;return n.debugName="clone_"+this.debugName,n._source=this._source,n._name="clone_"+this._name,n.type=this.type,n.refCounts=this.refCounts,n.refCounts[n._name]=0,n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash="Output "+Z()),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(n){this._source=n}}var cc=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class fc extends oc{constructor(n,t){super(n),this.formula=t}clone(){return new fc(null,v(this.formula))}static makeFromEncoding(n,t){const e=t.reduceFieldDef((n,e,r)=>{const{field:i,timeUnit:l}=e,u=Ed(t)?t.encoding[ut(r)]:void 0,a=Ed(t)&&ru(r,e,u,t.stack,t.markDef,t.config);if(l){const t=bu(e,{forAs:!0});n[x({as:t,field:i,timeUnit:l})]=Object.assign({as:t,field:i,timeUnit:l},a?{band:!0}:{})}return n},{});return N(e)?null:new fc(n,e)}static makeFromTransform(n,t){const e=Object.assign({},t),{timeUnit:r}=e,i=cc(e,["timeUnit"]),l=Lr(r),u=Object.assign(Object.assign({},i),{timeUnit:l});return new fc(n,{[x(u)]:u})}merge(n){this.formula=Object.assign({},this.formula);for(const t in n.formula)this.formula[t]&&!n.formula[t].band||(this.formula[t]=n.formula[t]);for(const t of n.children)n.removeChild(t),t.parent=this;n.remove()}removeFormulas(n){const t={};for(const[e,r]of P(this.formula))n.has(r.as)||(t[e]=r);this.formula=t}producedFields(){return new Set(z(this.formula).map(n=>n.as))}dependentFields(){return new Set(z(this.formula).map(n=>n.field))}hash(){return"TimeUnit "+x(this.formula)}assemble(){const n=[];for(const t of z(this.formula)){const{field:e,as:r,timeUnit:i}=t,l=Lr(i),{unit:u,utc:a}=l,o=cc(l,["unit","utc"]);n.push(Object.assign(Object.assign(Object.assign(Object.assign({field:G(e),type:"timeunit"},u?{units:Pr(u)}:{}),a?{timezone:"utc"}:{}),o),{as:[r,r+"_end"]}))}return n}}var hc=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class dc{constructor(...n){this.items=n,this.hasChannel={},this.hasField={}}}var pc={has:n=>"single"===n.type&&"global"===n.resolve&&n.bind&&"scales"!==n.bind&&!Xa(n.bind),parse:(n,t,e,r)=>{r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:(n,t,e)=>{const r=t.name,i=t.project,u=t.bind,a=t.init&&t.init[0],o=ac.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((n,i)=>{var s,c;const f=R(`${r}_${n.field}`);e.filter(n=>n.name===f).length||e.unshift(Object.assign(Object.assign({name:f},a?{init:Cc(a[i])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${o}[${Object(l.bb)(n.field)}] : null`}]:[],bind:null!==(c=null!==(s=u[n.field])&&void 0!==s?s:u[n.channel])&&void 0!==c?c:u}))}),e},signals:(n,t,e)=>{const r=t.name,i=t.project,l=e.filter(n=>n.name===r+Ic)[0],u=r+"_tuple_fields",a=i.items.map(n=>R(`${r}_${n.field}`)),o=a.map(n=>n+" !== null").join(" && ");return a.length&&(l.update=`${o} ? {fields: ${u}, values: [${a.join(", ")}]} : null`),delete l.value,delete l.on,e}};var gc={has:n=>"multi"===n.type&&!!n.toggle,signals:(n,t,e)=>e.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(n,t)=>{const e=t.name+Ic,r=t.name+"_toggle";return`${r} ? null : ${e}, `+("global"===t.resolve?r+" ? null : true, ":`${r} ? null : {unit: ${Wc(n)}}, `)+`${r} ? ${e} : null`}};const mc={has:n=>void 0!==n.clear&&!1!==n.clear,parse:(n,t,e)=>{e.clear&&(t.clear=Object(l.J)(e.clear)?Object(Ts.a)(e.clear,"scope"):e.clear)},topLevelSignals:(n,t,e)=>{if(pc.has(t))for(const n of t.project.items){const r=e.findIndex(e=>e.name===R(`${t.name}_${n.field}`));-1!==r&&e[r].on.push({events:t.clear,update:"null"})}return e},signals:(n,t,e)=>{function r(n,r){-1!==n&&e[n].on&&e[n].on.push({events:t.clear,update:r})}if("interval"===t.type)for(const n of t.project.items){const t=e.findIndex(t=>t.name===n.signals.visual);if(r(t,"[0, 0]"),-1===t){r(e.findIndex(t=>t.name===n.signals.data),"null")}}else{let n=e.findIndex(n=>n.name===t.name+Ic);r(n,"null"),gc.has(t)&&(n=e.findIndex(n=>n.name===t.name+"_toggle"),r(n,"false"))}return e}};var vc={has:n=>"interval"===n.type&&"global"===n.resolve&&n.bind&&"scales"===n.bind,parse:(n,t)=>{const e=t.scales=[];for(const i of t.project.items){const l=i.channel;if(!It(l))continue;const u=n.getScaleComponent(l),a=u?u.get("type"):void 0;if(!u||!Pi(a)){jr(r.SCALE_BINDINGS_CONTINUOUS);continue}const o={selection:t.name,field:i.field};u.set("selectionExtent",o,!0),e.push(i)}},topLevelSignals:(n,t,e)=>{const r=t.scales.filter(n=>0===e.filter(t=>t.name===n.signals.data).length);if(!n.parent||yc(n)||0===r.length)return e;const i=e.filter(n=>n.name===t.name)[0];let u=i.update;if(u.indexOf(Uc)>=0)i.update=`{${r.map(n=>`${Object(l.bb)(n.field)}: ${n.signals.data}`).join(", ")}}`;else{for(const n of r){const t=`${Object(l.bb)(n.field)}: ${n.signals.data}`;u.indexOf(t)<0&&(u=`${u.substring(0,u.length-1)}, ${t}}`)}i.update=u}return e.concat(r.map(n=>({name:n.signals.data})))},signals:(n,t,e)=>{if(n.parent&&!yc(n))for(const n of t.scales){const t=e.filter(t=>t.name===n.signals.data)[0];t.push="outer",delete t.value,delete t.update}return e}};function wc(n,t){return`domain(${Object(l.bb)(n.scaleName(t))})`}function yc(n){var t;return n.parent&&Dd(n.parent)&&(null!==(t=!n.parent.parent)&&void 0!==t?t:yc(n.parent.parent))}const bc={has:n=>{const t="global"===n.resolve&&n.bind&&Xa(n.bind),e=1===n.project.items.length&&"_vgsid_"!==n.project.items[0].field;return t&&!e&&jr(r.LEGEND_BINDINGS_MUST_HAVE_PROJECTION),t&&e},parse:(n,t,e,r)=>{var i;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){const n='event.item && indexof(event.item.mark.role, "legend") < 0';for(const e of t.events)e.filter=Object(l.i)(null!==(i=e.filter)&&void 0!==i?i:[]),e.filter.indexOf(n)<0&&e.filter.push(n)}const u=Ka(t.bind)?t.bind.legend:"click",a=Object(l.J)(u)?Object(Ts.a)(u,"view"):Object(l.i)(u);t.bind={legend:{merge:a}}},topLevelSignals:(n,t,e)=>{const r=t.name,i=Ka(t.bind)&&t.bind.legend,l=n=>t=>{const e=v(t);return e.markname=n,e};for(const n of t.project.items){if(!n.hasLegend)continue;const u=R(n.field)+"_legend",a=`${r}_${u}`;if(0===e.filter(n=>n.name===a).length){const n=i.merge.map(l(u+"_symbols")).concat(i.merge.map(l(u+"_labels"))).concat(i.merge.map(l(u+"_entries")));e.unshift(Object.assign(Object.assign({name:a},t.init?{}:{value:null}),{on:[{events:n,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:"!event.item || !datum ? null : "+a,force:!0}]}))}}return e},signals:(n,t,e)=>{const r=t.name,i=t.project,l=e.find(n=>n.name===r+Ic),u=r+"_tuple_fields",a=i.items.filter(n=>n.hasLegend).map(n=>R(`${r}_${R(n.field)}_legend`)),o=`${a.map(n=>n+" !== null").join(" && ")} ? {fields: ${u}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?l.on.push({events:a.map(n=>({signal:n})),update:o}):a.length>0&&(l.update=o,delete l.value,delete l.on);const s=e.find(n=>n.name===r+"_toggle"),c=Ka(t.bind)&&t.bind.legend;return s&&(t.events?s.on.push(Object.assign(Object.assign({},s.on[0]),{events:c})):s.on[0].events=c),e}};const xc="_translate_delta",_c={has:n=>"interval"===n.type&&n.translate,signals:(n,t,e)=>{const r=t.name,i=vc.has(t),l=r+"_translate_anchor",{x:u,y:a}=t.project.hasChannel;let o=Object(Ts.a)(t.translate,"scope");return i||(o=o.map(n=>(n.between[0].markname=r+Tc,n))),e.push({name:l,value:{},on:[{events:o.map(n=>n.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: "+(i?wc(n,On):`slice(${u.signals.visual})`):"")+(void 0!==a?", extent_y: "+(i?wc(n,An):`slice(${a.signals.visual})`):"")+"}"}]},{name:r+xc,value:{},on:[{events:o,update:`{x: ${l}.x - x(unit), y: ${l}.y - y(unit)}`}]}),void 0!==u&&kc(n,t,u,"width",e),void 0!==a&&kc(n,t,a,"height",e),e}};function kc(n,t,e,r,i){var l;const u=t.name,a=u+"_translate_anchor",o=u+xc,s=e.channel,c=vc.has(t),f=i.filter(n=>n.name===e.signals[c?"data":"visual"])[0],h=n.getSizeSignalRef(r).signal,d=n.getScaleComponent(s),p=d.get("type"),g=`${a}.extent_${s}`,m=`${c?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear"}(${g}, ${`${c&&s===On?"-":""}${o}.${s} / `+(c?""+h:`span(${g})`)}`+(c&&"pow"===p?", "+(null!==(l=d.get("exponent"))&&void 0!==l?l:1):"")+")";f.on.push({events:{signal:o},update:c?m:`clampRange(${m}, 0, ${h})`})}const jc={has:n=>"interval"===n.type&&n.zoom,signals:(n,t,e)=>{const r=t.name,i=vc.has(t),u=r+"_zoom_delta",{x:a,y:o}=t.project.hasChannel,s=Object(l.bb)(n.scaleName(On)),c=Object(l.bb)(n.scaleName(An));let f=Object(Ts.a)(t.zoom,"scope");return i||(f=f.map(n=>(n.markname=r+Tc,n))),e.push({name:r+"_zoom_anchor",on:[{events:f,update:i?"{"+[s?`x: invert(${s}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(n=>!!n).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:u,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&Oc(n,t,a,"width",e),void 0!==o&&Oc(n,t,o,"height",e),e}};function Oc(n,t,e,r,i){var l;const u=t.name,a=e.channel,o=vc.has(t),s=i.filter(n=>n.name===e.signals[o?"data":"visual"])[0],c=n.getSizeSignalRef(r).signal,f=n.getScaleComponent(a),h=f.get("type"),d=o?wc(n,a):s.name,p=u+"_zoom_delta",g=`${o?"log"===h?"zoomLog":"pow"===h?"zoomPow":"zoomLinear":"zoomLinear"}(${d}, ${`${u}_zoom_anchor.${a}`}, ${p}`+(o&&"pow"===h?", "+(null!==(l=f.get("exponent"))&&void 0!==l?l:1):"")+")";s.on.push({events:{signal:p},update:o?g:`clampRange(${g}, 0, ${c})`})}const Ac=[{has:()=>!0,parse:(n,t,e)=>{var i,u,a;const o=t.name,s=null!==(i=t.project)&&void 0!==i?i:t.project=new dc,c={},f={},h=new Set,d=(n,t)=>{const e="visual"===t?n.channel:n.field;let r=R(`${o}_${e}`);for(let n=1;h.has(r);n++)r=R(`${o}_${e}_${n}`);return h.add(r),{[t]:r}};if(!e.fields&&!e.encodings){const t=n.config.selection[e.type];if(e.init)for(const n of Object(l.i)(e.init))for(const i of B(n))nt[i]?(e.encodings||(e.encodings=[])).push(i):"interval"===e.type?(jr(r.INTERVAL_INITIALIZED_WITH_X_Y),e.encodings=t.encodings):(e.fields||(e.fields=[])).push(i);else e.encodings=t.encodings,e.fields=t.fields}for(const n of null!==(u=e.fields)&&void 0!==u?u:[]){const t={type:"E",field:n};t.signals=Object.assign({},d(t,"data")),s.items.push(t),s.hasField[n]=t}for(const i of null!==(a=e.encodings)&&void 0!==a?a:[]){const e=n.fieldDef(i);if(e){let l=e.field;if(e.aggregate){jr(r.cannotProjectAggregate(i,e.aggregate));continue}if(!l){jr(r.cannotProjectOnChannelWithoutField(i));continue}if(e.timeUnit){l=n.vgField(i);const t={timeUnit:e.timeUnit,as:l,field:e.field};f[x(t)]=t}if(!c[l]){let r="E";if("interval"===t.type){Pi(n.getScaleComponent(i).get("type"))&&(r="R")}else e.bin&&(r="R-RE");const u={field:l,channel:i,type:r};u.signals=Object.assign(Object.assign({},d(u,"data")),d(u,"visual")),s.items.push(c[l]=u),s.hasField[l]=s.hasChannel[i]=c[l]}}else jr(r.cannotProjectOnChannelWithoutField(i))}if(e.init){const n=n=>s.items.map(t=>void 0!==n[t.channel]?n[t.channel]:n[t.field]);if("interval"===e.type)t.init=n(e.init);else{const r=Object(l.i)(e.init);t.init=r.map(n)}}N(f)||(s.timeUnit=new fc(null,f))},signals:(n,t,e)=>{const r=t.name+"_tuple_fields";return e.filter(n=>n.name===r).length>0?e:e.concat({name:r,value:t.project.items.map(n=>{const{signals:t,hasLegend:e}=n,r=hc(n,["signals","hasLegend"]);return r.field=G(r.field),r})})}},gc,vc,bc,_c,jc,pc,ac,mc];function Ec(n,t){for(const e of Ac)e.has(n)&&t(e)}var Sc=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Cc(n,t=!0,e=l.y){if(Object(l.B)(n)){const r=n.map(n=>Cc(n,t,e));return t?`[${r.join(", ")}]`:r}return Or(n)?e(t?Mr(n):function(n){const t=Dr(n,!0);return n.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(n)):t?e(JSON.stringify(n)):n}function Dc(n,t){return Hc(n,(e,r)=>{t=r.marks?r.marks(n,e,t):t,Ec(e,r=>{r.marks&&(t=r.marks(n,e,t))})}),t}function Mc(n){return n.map(n=>(n.on&&!n.on.length&&delete n.on,n))}var Fc=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};const Tc="_brush",Nc={signals:(n,t)=>{const e=t.name,r=e+"_tuple_fields",i=vc.has(t),u=[],a=[],o=[];if(t.translate&&!i){const n="!event.item || event.item.mark.name !== "+Object(l.bb)(e+Tc);Bc(t,(t,e)=>{var r;const i=Object(l.i)(null!==(r=e.between[0].filter)&&void 0!==r?r:e.between[0].filter=[]);return i.indexOf(n)<0&&i.push(n),t})}t.project.items.forEach((e,r)=>{const i=e.channel;if(i!==On&&i!==An)return void jr("Interval selections only support x and y encoding channels.");const s=t.init?t.init[r]:null,c=function(n,t,e,r){const i=e.channel,u=e.signals.visual,a=e.signals.data,o=vc.has(t),s=Object(l.bb)(n.scaleName(i)),c=n.getScaleComponent(i),f=c?c.get("type"):void 0,h=n=>`scale(${s}, ${n})`,d=n.getSizeSignalRef(i===On?"width":"height").signal,p=i+"(unit)",g=Bc(t,(n,t)=>[...n,{events:t.between[0],update:`[${p}, ${p}]`},{events:t,update:`[${u}[0], clamp(${p}, 0, ${d})]`}]);return g.push({events:{signal:t.name+"_scale_trigger"},update:Pi(f)?`[${h(a+"[0]")}, ${h(a+"[1]")}]`:"[0, 0]"}),o?[{name:a,on:[]}]:[Object.assign(Object.assign({name:u},r?{init:Cc(r,!0,h)}:{value:[]}),{on:g}),Object.assign(Object.assign({name:a},r?{init:Cc(r)}:{}),{on:[{events:{signal:u},update:`${u}[0] === ${u}[1] ? null : invert(${s}, ${u})`}]})]}(n,t,e,s),f=e.signals.data,h=e.signals.visual,d=Object(l.bb)(n.scaleName(i)),p=Pi(n.getScaleComponent(i).get("type"))?"+":"";u.push(...c),a.push(f),o.push({scaleName:n.scaleName(i),expr:`(!isArray(${f}) || (${p}invert(${d}, ${h})[0] === ${p}${f}[0] && ${p}invert(${d}, ${h})[1] === ${p}${f}[1]))`})}),i||u.push({name:e+"_scale_trigger",value:{},on:[{events:o.map(n=>({scale:n.scaleName})),update:o.map(n=>n.expr).join(" && ")+` ? ${e+"_scale_trigger"} : {}`}]});const s=t.init,c=`unit: ${Wc(n)}, fields: ${r}, values`;return u.concat(Object.assign(Object.assign({name:e+Ic},s?{init:`{${c}: ${Cc(s)}}`}:{}),{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+` ? {${c}: [${a}]} : null`}]}))},modifyExpr:(n,t)=>t.name+Ic+", "+("global"===t.resolve?"true":`{unit: ${Wc(n)}}`),marks:(n,t,e)=>{const r=t.name,{x:i,y:u}=t.project.hasChannel,a=i&&i.signals.visual,o=u&&u.signals.visual,s=`data(${Object(l.bb)(t.name+Rc)})`;if(vc.has(t))return e;const c={x:void 0!==i?{signal:a+"[0]"}:{value:0},y:void 0!==u?{signal:o+"[0]"}:{value:0},x2:void 0!==i?{signal:a+"[1]"}:{field:{group:"width"}},y2:void 0!==u?{signal:o+"[1]"}:{field:{group:"height"}}};if("global"===t.resolve)for(const t of B(c))c[t]=[Object.assign({test:`${s}.length && ${s}[0].unit === ${Wc(n)}`},c[t]),{value:0}];const f=t.mark,{fill:h,fillOpacity:d,cursor:p}=f,g=Fc(f,["fill","fillOpacity","cursor"]),m=B(g).reduce((n,t)=>(n[t]=[{test:[void 0!==i&&`${a}[0] !== ${a}[1]`,void 0!==u&&`${o}[0] !== ${o}[1]`].filter(n=>n).join(" && "),value:g[t]},{value:null}],n),{});return[{name:r+Tc+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:h},fillOpacity:{value:d}},update:c}},...e,{name:r+Tc,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},p?{cursor:{value:p}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),m)}}]}};function Bc(n,t){return n.events.reduce((n,e)=>e.between?t(n,e):(jr(e+" is not an ordered event stream for interval selections."),n),[])}function zc(n,t){const e=t.name,r=e+"_tuple_fields",i=t.project,u="(item().isVoronoi ? datum.datum : datum)",a=i.items.map(t=>{const e=n.fieldDef(t.channel);return e&&e.bin?`[${u}[${Object(l.bb)(n.vgField(t.channel,{}))}], ${u}[${Object(l.bb)(n.vgField(t.channel,{binSuffix:"end"}))}]]`:`${u}[${Object(l.bb)(t.field)}]`}).join(", "),o=`unit: ${Wc(n)}, fields: ${r}, values`,s=t.events;return[{name:e+Ic,on:s?[{events:s,update:`datum && item().mark.marktype !== 'group' ? {${o}: [${a}]} : null`,force:!0}]:[]}]}const Pc={signals:zc,modifyExpr:(n,t)=>t.name+Ic+", "+("global"===t.resolve?"null":`{unit: ${Wc(n)}}`)};const $c={signals:zc,modifyExpr:(n,t)=>t.name+Ic+", "+("global"===t.resolve?"true":`{unit: ${Wc(n)}}`)};const Rc="_store",Ic="_tuple",Lc="_modify",Uc="vlSelectionResolve",qc={single:$c,multi:Pc,interval:Nc};function Hc(n,t){const e=n.component.selection;if(e)for(const n of z(e)){if(!0===t(n,qc[n.type]))break}}function Wc(n,{escape:t}={escape:!0}){let e=t?Object(l.bb)(n.name):n.name;const r=function(n){let t=n.parent;for(;t&&!Sd(t);)t=t.parent;return t}(n);if(r){const{facet:n}=r;for(const t of Hn)n[t]&&(e+=` + '__facet_${t}_' + (facet[${Object(l.bb)(r.vgField(t))}])`)}return e}function Gc(n){let t=!1;return Hc(n,n=>{t=t||n.project.items.some(n=>"_vgsid_"===n.field)}),t}var Yc=e(2);function Vc(n){const t=Object(Yc.f)(n),e=new Set;return t.visit(n=>{"MemberExpression"===n.type&&function n(t){return"MemberExpression"===t.object.type?n(t.object):"datum"===t.object.name}(n)&&e.add(function n(t){const e=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(e.push(...n(t.object)),e.push(...n(t.property))),e)}(n).slice(1).join("."))}),e}class Jc extends oc{constructor(n,t,e){super(n),this.model=t,this.filter=e,this.expr=Qc(this.model,this.filter,this),this._dependentFields=Vc(this.expr)}clone(){return new Jc(null,this.model,v(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter "+this.expr}}var Xc=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Kc(n,t,e,r="datum"){const i=[];const u=I(t,(function(t){const u=R(t),a=n.getSelectionComponent(u,t),o=Object(l.bb)(u+Rc);if(a.project.timeUnit){const t=null!=e?e:n.component.data.raw,r=a.project.timeUnit.clone();t.parent?r.insertAsParentOf(t):t.parent=r}return"none"!==a.empty&&i.push(o),`vlSelectionTest(${o}, ${r}`+("global"===a.resolve?")":`, ${Object(l.bb)(a.resolve)})`)}));return(i.length?"!("+i.map(n=>`length(data(${n}))`).join(" || ")+") || ":"")+`(${u})`}function Zc(n,t){const e=t.encoding;let r=t.field;if(e||r){if(e&&!r){const i=n.project.items.filter(n=>n.channel===e);!i.length||i.length>1?(r=n.project.items[0].field,jr((i.length?"Multiple ":"No ")+`matching ${Object(l.bb)(e)} encoding found for selection ${Object(l.bb)(t.selection)}. `+`Using "field": ${Object(l.bb)(r)}.`)):r=i[0].field}}else r=n.project.items[0].field,n.project.items.length>1&&jr(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Object(l.bb)(r)}.`);return`${n.name}[${Object(l.bb)(r)}]`}function Qc(n,t,e){return I(t,t=>Object(l.J)(t)?t:function(n){return null==n?void 0:n.selection}(t)?Kc(n,t.selection,e):ri(t))}var nf=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function tf(n,t,e,r){var i,l,u;n.encode=null!==(i=n.encode)&&void 0!==i?i:{},n.encode[t]=null!==(l=n.encode[t])&&void 0!==l?l:{},n.encode[t].update=null!==(u=n.encode[t].update)&&void 0!==u?u:{},n.encode[t].update[e]=r}function ef(n,t,e,r={header:!1}){var i,u;const a=n.combine(),{disable:o,orient:s,scale:c,labelExpr:f,title:h,zindex:d}=a,p=nf(a,["disable","orient","scale","labelExpr","title","zindex"]);if(!o){for(const n in p){const e=on[n],r=p[n];if(e&&e!==t&&"both"!==e)delete p[n];else if(un(r)){const{condition:t}=r,e=nf(r,["condition"]),i=Object(l.i)(t),u=ln[n];if(u){const{vgProp:t,part:r}=u;tf(p,r,t,[...i.map(n=>{const{test:t}=n,e=nf(n,["test"]);return Object.assign({test:Qc(null,t)},e)}),e]),delete p[n]}else if(null===u){const t={signal:i.map(n=>{const{test:t}=n,e=nf(n,["test"]);return`${Qc(null,t)} ? ${Ju(e)} : `}).join("")+Ju(e)};p[n]=t}}else if(Ur(r)){const t=ln[n];if(t){const{vgProp:e,part:i}=t;tf(p,i,e,r),delete p[n]}}}if("grid"===t){if(!p.grid)return;if(p.encode){const{grid:n}=p.encode;p.encode=Object.assign({},n?{grid:n}:{}),N(p.encode)&&delete p.encode}return Object.assign(Object.assign({scale:c,orient:s},p),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:X(d,0)})}{if(!r.header&&n.mainExtracted)return;if(void 0!==f){let n=f;(null===(u=null===(i=p.encode)||void 0===i?void 0:i.labels)||void 0===u?void 0:u.update)&&Ur(p.encode.labels.update.text)&&(n=Y(f,"datum.label",p.encode.labels.update.text.signal)),tf(p,"labels","text",{signal:n})}if(null===p.labelAlign&&delete p.labelAlign,p.encode){for(const t of an)n.hasAxisPart(t)||delete p.encode[t];N(p.encode)&&delete p.encode}const t=function(n,t){if(n)return Object(l.B)(n)&&!qu(n)?n.map(n=>Su(n,t)).join(", "):n}(h,e);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:s,grid:!1},t?{title:t}:{}),p),!1===e.aria?{aria:!1}:{}),{zindex:X(d,0)})}}}function rf(n){const{axes:t}=n.component,e=[];for(const r of kt)if(t[r])for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const t="x"===r?"height":"width",i=n.getSizeSignalRef(t).signal;t!==i&&e.push({name:t,update:i})}return e}function lf(n,t,e,r){return Object.assign.apply(null,[{},...n.map(n=>{if("axisOrient"===n){const n="x"===e?"bottom":"left",i=t["x"===e?"axisBottom":"axisLeft"]||{},l=t["x"===e?"axisTop":"axisRight"]||{},u=new Set([...B(i),...B(l)]),a={};for(const t of u.values())a[t]={signal:`${r.signal} === "${n}" ? ${Xu(i[t])} : ${Xu(l[t])}`};return a}return t[n]})])}function uf(n,t,e,r){const i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in Mi?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[];const l="x"===n?"axisX":"axisY",u=Ur(e)?"axisOrient":"axis"+U(e),a=[...i,...i.map(n=>l+n.substr(4))],o=["axis",u,l];return{vlOnlyAxisConfig:lf(a,r,n,e),vgAxisConfig:lf(o,r,n,e),axisConfigStyle:af([...o,...a],r)}}function af(n,t){var e;const r=[{}];for(const i of n){let n=null===(e=t[i])||void 0===e?void 0:e.style;if(n){n=Object(l.i)(n);for(const e of n)r.push(t.style[e])}}return Object.assign.apply(null,r)}function of(n,t,e,r={}){var i;const l=ta(n,e,t);if(void 0!==l)return{configFrom:"style",configValue:l};for(const t of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==(null===(i=r[t])||void 0===i?void 0:i[n]))return{configFrom:t,configValue:r[t][n]};return{}}const sf={scale:({model:n,channel:t})=>n.scaleName(t),format:({fieldOrDatumDef:n,config:t,axis:e})=>{const{format:r,formatType:i}=e;return $l(n,n.type,r,i,t,!0)},formatType:({axis:n,fieldOrDatumDef:t,scaleType:e})=>{const{formatType:r}=n;return Rl(r,t,e)},grid:({fieldOrDatumDef:n,axis:t,scaleType:e})=>{var r;return(!au(n)||!Vt(n.bin))&&(null!==(r=t.grid)&&void 0!==r?r:function(n,t){return!zi(n)&&au(t)&&!Yt(null==t?void 0:t.bin)}(e,n))},gridScale:({model:n,channel:t})=>function(n,t){const e="x"===t?"y":"x";if(n.getScaleComponent(e))return n.scaleName(e);return}(n,t),labelAlign:({axis:n,labelAngle:t,orient:e,channel:r})=>n.labelAlign||hf(t,e,r),labelAngle:({labelAngle:n})=>n,labelBaseline:({axis:n,labelAngle:t,orient:e,channel:r})=>n.labelBaseline||ff(t,e,r),labelFlush:({axis:n,fieldOrDatumDef:t,channel:e})=>{var r;return null!==(r=n.labelFlush)&&void 0!==r?r:function(n,t){if("x"===t&&k(["quantitative","temporal"],n))return!0;return}(t.type,e)},labelOverlap:({axis:n,fieldOrDatumDef:t,scaleType:e})=>{var r;return null!==(r=n.labelOverlap)&&void 0!==r?r:function(n,t,e,r){if(e&&!Object(l.H)(r)||"nominal"!==n&&"ordinal"!==n)return"log"!==t&&"symlog"!==t||"greedy";return}(t.type,e,au(t)&&!!t.timeUnit,au(t)?t.sort:void 0)},orient:({orient:n})=>n,tickCount:({channel:n,model:t,axis:e,fieldOrDatumDef:r,scaleType:i})=>{var l;const u="x"===n?"width":"y"===n?"height":void 0,a=u?t.getSizeSignalRef(u):void 0;return null!==(l=e.tickCount)&&void 0!==l?l:function({fieldOrDatumDef:n,scaleType:t,size:e,values:r}){var i;if(!r&&!zi(t)&&"log"!==t){if(au(n)){if(Yt(n.bin))return{signal:`ceil(${e.signal}/10)`};if(n.timeUnit&&k(["month","hours","day","quarter"],null===(i=Lr(n.timeUnit))||void 0===i?void 0:i.unit))return}return{signal:`ceil(${e.signal}/40)`}}return}({fieldOrDatumDef:r,scaleType:i,size:a,values:e.values})},title:({axis:n,model:t,channel:e})=>{if(void 0!==n.title)return n.title;const r=df(t,e);if(void 0!==r)return r;const i=t.typedFieldDef(e),l="x"===e?"x2":"y2",u=t.fieldDef(l);return ra(i?[nu(i)]:[],au(u)?[nu(u)]:[])},values:({axis:n,fieldOrDatumDef:t})=>function(n,t){const e=n.values;if(Object(l.B)(e))return Ru(t,e);if(Ur(e))return e;return}(n,t),zindex:({axis:n,fieldOrDatumDef:t,mark:e})=>{var r;return null!==(r=n.zindex)&&void 0!==r?r:function(n,t){if("rect"===n&&xu(t))return 1;return 0}(e,t)}};function cf(n){return`(((${n.signal} % 360) + 360) % 360)`}function ff(n,t,e,r){if(void 0!==n){if("x"===e){if(Ur(n)){const e=cf(n);return{signal:`(45 < ${e} && ${e} < 135) || (225 < ${e} && ${e} < 315) ? "middle" :(${e} <= 45 || 315 <= ${e}) === ${Ur(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}if(45<n&&n<135||225<n&&n<315)return"middle";if(Ur(t)){const e=n<=45||315<=n?"===":"!==";return{signal:`${t.signal} ${e} "top" ? "bottom" : "top"`}}return(n<=45||315<=n)==("top"===t)?"bottom":"top"}if(Ur(n)){const e=cf(n);return{signal:`${e} <= 45 || 315 <= ${e} || (135 <= ${e} && ${e} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${e} && ${e} <= 135) === ${Ur(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}if(n<=45||315<=n||135<=n&&n<=225)return r?"middle":null;if(Ur(t)){const e=45<=n&&n<=135?"===":"!==";return{signal:`${t.signal} ${e} "left" ? "top" : "bottom"`}}return(45<=n&&n<=135)==("left"===t)?"top":"bottom"}}function hf(n,t,e){if(void 0===n)return;const r="x"===e,i=r?0:90,l=r?"bottom":"left";if(Ur(n)){const e=cf(n);return{signal:`(${i?"("+e+" + 90)":e} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${e} && ${e} < ${180+i}) === ${Ur(t)?`(${t.signal} === "${l}")`:t===l} ? "left" : "right"`}}if((n+i)%180==0)return r?null:"center";if(Ur(t)){const e=i<n&&n<180+i?"===":"!==";return{signal:`${t.signal} ${e} "${l}"`+' ? "left" : "right"'}}return(i<n&&n<180+i)==(t===l)?"left":"right"}function df(n,t){const e="x"===t?"x2":"y2",r=n.fieldDef(t),i=n.fieldDef(e),l=r?r.title:void 0,u=i?i.title:void 0;return l&&u?ia(l,u):l||(u||(void 0!==l?l:void 0!==u?u:void 0))}class pf extends oc{constructor(n,t){super(n),this.transform=t,this._dependentFields=Vc(this.transform.calculate)}clone(){return new pf(null,v(this.transform))}static parseAllForSortIndex(n,t){return t.forEachFieldDef((t,e)=>{if(gu(t)&&Jl(t.sort)){const{field:r,timeUnit:i}=t,l=t.sort,u=l.map((n,t)=>`${ri({field:r,timeUnit:i,equal:n})} ? ${t} : `).join("")+l.length;n=new pf(n,{calculate:u,as:gf(t,e,{forAs:!0})})}}),n}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate "+x(this.transform)}}function gf(n,t,e){return bu(n,Object.assign({prefix:t,suffix:"sort_index"},null!=e?e:{}))}function mf(n,t){return k(["top","bottom"],t)?"column":k(["left","right"],t)||"row"===n?"row":"column"}function vf(n,t,e,r){const i="row"===r?e.headerRow:"column"===r?e.headerColumn:e.headerFacet;return X((t||{})[n],i[n],e.header[n])}function wf(n,t,e,r){const i={};for(const l of n){const n=vf(l,t||{},e,r);void 0!==n&&(i[l]=n)}return i}const yf=["row","column"],bf=["header","footer"];function xf(n,t){const e=n.component.layoutHeaders[t].title,r=n.config?n.config:void 0,i=n.component.layoutHeaders[t].facetFieldDef?n.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:l,titleAngle:u,titleOrient:a}=wf(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),o=mf(t,a),s=en(u);return{name:t+"-title",type:"group",role:o+"-title",title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:e},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),kf(s,o)),_f(o,s,l)),Df(r,i,t,Ua,Ia))}}function _f(n,t,e="middle"){switch(e){case"start":return{align:"left"};case"end":return{align:"right"}}const r=hf(t,"row"===n?"left":"top","row"===n?"y":"x");return r?{align:r}:{}}function kf(n,t){const e=ff(n,"row"===t?"left":"top","row"===t?"y":"x",!0);return e?{baseline:e}:{}}function jf(n,t){const e=n.component.layoutHeaders[t],r=[];for(const i of bf)if(e[i])for(const l of e[i]){const u=Ef(n,t,i,e,l);null!=u&&r.push(u)}return r}function Of(n,t){var e;const{sort:r}=n;return Vl(r)?{field:bu(r,{expr:"datum"}),order:null!==(e=r.order)&&void 0!==e?e:"ascending"}:Object(l.B)(r)?{field:gf(n,t,{expr:"datum"}),order:"ascending"}:{field:bu(n,{expr:"datum"}),order:null!=r?r:"ascending"}}function Af(n,t,e){const{format:r,formatType:i,labelAngle:l,labelAnchor:u,labelOrient:a,labelExpr:o}=wf(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],n.header,e,t),s=Bl({fieldOrDatumDef:n,format:r,formatType:i,expr:"parent",config:e}).signal,c=mf(t,a);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:o?Y(Y(o,"datum.label",s),"datum.value",bu(n,{expr:"parent"})):s}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),kf(l,c)),_f(c,l,u)),Df(e,n,t,qa,La))}function Ef(n,t,e,r,i){if(i){let l=null;const{facetFieldDef:u}=r,a=n.config?n.config:void 0;if(u&&i.labels){const{labelOrient:n}=wf(["labelOrient"],u.header,a,t);("row"===t&&!k(["top","bottom"],n)||"column"===t&&!k(["left","right"],n))&&(l=Af(u,t,a))}const o=Sd(n)&&!Xl(n.facet),s=i.axes,c=(null==s?void 0:s.length)>0;if(l||c){const a="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:n.getName(`${t}_${e}`),type:"group",role:`${t}-${e}`},r.facetFieldDef?{from:{data:n.getName(t+"_domain")},sort:Of(u,t)}:{}),c&&o?{from:{data:n.getName("facet_domain_"+t)}}:{}),l?{title:l}:{}),i.sizeSignal?{encode:{update:{[a]:i.sizeSignal}}}:{}),c?{axes:s}:{})}}return null}const Sf={column:{start:0,end:1},row:{start:1,end:0}};function Cf(n,t){return Sf[t][n]}function Df(n,t,e,r,i){const l={};for(const u of r){if(!i[u])continue;const r=vf(u,null==t?void 0:t.header,n,e);void 0!==r&&(l[i[u]]=r)}return l}function Mf(n){return[...Ff(n,"width"),...Ff(n,"height"),...Ff(n,"childWidth"),...Ff(n,"childHeight")]}function Ff(n,t){const e="width"===t?"x":"y",r=n.component.layoutSize.get(t);if(!r||"merged"===r)return[];const i=n.getSizeSignalRef(t).signal;if("step"===r){const t=n.getScaleComponent(e);if(t){const r=t.get("type"),l=t.get("range");if(zi(r)&&qr(l)){const r=n.scaleName(e);if(Sd(n.parent)){if("independent"===n.parent.component.resolve.scale[e])return[Tf(r,l)]}return[Tf(r,l),{name:i,update:Nf(r,t,`domain('${r}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const t=i.endsWith("width"),e=t?"containerSize()[0]":"containerSize()[1]",r=`isFinite(${e}) ? ${e} : ${lo(n.config.view,t?"width":"height")}`;return[{name:i,init:r,on:[{update:r,events:"window:resize"}]}]}return[{name:i,value:r}]}function Tf(n,t){return{name:n+"_step",value:t.step}}function Nf(n,t,e){const r=t.get("type"),i=t.get("padding"),l=X(t.get("paddingOuter"),i);let u=t.get("paddingInner");return u="band"===r?void 0!==u?u:i:1,`bandspace(${e}, ${Xu(u)}, ${Xu(l)}) * ${n}_step`}function Bf(n){return"childWidth"===n?"width":"childHeight"===n?"height":n}function zf(n,t){return B(n).reduce((e,r)=>{const i=n[r];return Object.assign(Object.assign({},e),Ns(t,i,r,n=>Vu(n.value)))},{})}function Pf(n,t){if(Dd(t)||Sd(t))return"shared";if(Cd(t))return jt(n)?"independent":"shared";throw new Error("invalid model type for resolve")}function $f(n,t){const e=n.scale[t],i=jt(t)?"axis":"legend";return"independent"===e?("shared"===n[i][t]&&jr(r.independentScaleMeansIndependentGuide(t)),"independent"):n[i][t]||"shared"}const Rf=Object.assign(Object.assign({},Ga),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),If=B(Rf);class Lf extends ns{}const Uf={symbols:function(n,{fieldOrDatumDef:t,model:e,channel:r,legendCmpt:i,legendType:u}){var a,o,s,c,f,h,d,p;if("symbol"!==u)return;const{markDef:g,encoding:m,config:v,mark:w}=e,y=g.filled&&"trail"!==w;let b=Object.assign(Object.assign({},function(n,t,e){for(const r of e){const e=Qu(r,t.markDef,t.config);void 0!==e&&(n[r]=Vu(e))}return n}({},e,yl)),Us(e,{filled:y}));const x=null!==(a=i.get("symbolOpacity"))&&void 0!==a?a:v.legend.symbolOpacity,_=null!==(o=i.get("symbolFillColor"))&&void 0!==o?o:v.legend.symbolFillColor,k=null!==(s=i.get("symbolStrokeColor"))&&void 0!==s?s:v.legend.symbolStrokeColor,j=void 0===x?null!==(c=qf(m.opacity))&&void 0!==c?c:g.opacity:void 0;if(b.fill)if("fill"===r||y&&r===Fn)delete b.fill;else if(b.fill.field)_?delete b.fill:(b.fill=Vu(null!==(f=v.legend.symbolBaseFillColor)&&void 0!==f?f:"black"),b.fillOpacity=Vu(null!=j?j:1));else if(Object(l.B)(b.fill)){const n=null!==(p=null!==(d=Hf(null!==(h=m.fill)&&void 0!==h?h:m.color))&&void 0!==d?d:g.fill)&&void 0!==p?p:y&&g.color;n&&(b.fill=Vu(n))}if(b.stroke)if("stroke"===r||!y&&r===Fn)delete b.stroke;else if(b.stroke.field||k)delete b.stroke;else if(Object(l.B)(b.stroke)){const n=X(Hf(m.stroke||m.color),g.stroke,y?g.color:void 0);n&&(b.stroke={value:n})}if("opacity"!==r){const n=au(t)&&Gf(e,i,t);n?b.opacity=[Object.assign({test:n},Vu(null!=j?j:1)),Vu(v.legend.unselectedOpacity)]:j&&(b.opacity=Vu(j))}return b=Object.assign(Object.assign({},b),n),N(b)?void 0:b},gradient:function(n,{model:t,legendType:e,legendCmpt:r}){var i;if("gradient"!==e)return;const{config:l,markDef:u,encoding:a}=t;let o={};const s=void 0===(null!==(i=r.get("gradientOpacity"))&&void 0!==i?i:l.legend.gradientOpacity)?qf(a.opacity)||u.opacity:void 0;s&&(o.opacity=Vu(s));return o=Object.assign(Object.assign({},o),n),N(o)?void 0:o},labels:function(n,{fieldOrDatumDef:t,model:e,channel:r,legendCmpt:i}){const l=e.legend(r)||{},u=e.config,a=au(t)?Gf(e,i,t):void 0,o=a?[{test:a,value:1},{value:u.legend.unselectedOpacity}]:void 0,{format:s,formatType:c}=l,f=Tl(c)?Pl({fieldOrDatumDef:t,field:"datum.value",format:s,formatType:c,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},o?{opacity:o}:{}),f?{text:f}:{}),n);return N(h)?void 0:h},entries:function(n,{legendCmpt:t}){const e=t.get("selections");return(null==e?void 0:e.length)?Object.assign(Object.assign({},n),{fill:{value:"transparent"}}):n}};function qf(n){return Wf(n,(n,t)=>Math.max(n,t.value))}function Hf(n){return Wf(n,(n,t)=>X(n,t.value))}function Wf(n,t){return function(n){const t=n&&n.condition;return!!t&&(Object(l.B)(t)||pu(t))}(n)?Object(l.i)(n.condition).reduce(t,n.value):pu(n)?n.value:void 0}function Gf(n,t,e){const r=t.get("selections");if(!(null==r?void 0:r.length))return;const i=Object(l.bb)(e.field);return r.map(n=>`(!length(data(${Object(l.bb)(R(n)+Rc)})) || (${n}[${i}] && indexof(${n}[${i}], datum.value) >= 0))`).join(" || ")}const Yf={direction:({direction:n})=>n,format:({fieldOrDatumDef:n,legend:t,config:e})=>{const{format:r,formatType:i}=t;return $l(n,n.type,r,i,e,!1)},formatType:({legend:n,fieldOrDatumDef:t,scaleType:e})=>{const{formatType:r}=n;return Rl(r,t,e)},gradientLength:n=>{var t,e;const{legend:r,legendConfig:i}=n;return null!==(e=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==e?e:function({legendConfig:n,model:t,direction:e,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:l,gradientHorizontalMinLength:u,gradientVerticalMaxLength:a,gradientVerticalMinLength:o}=n;if($i(i))return"horizontal"===e?"top"===r||"bottom"===r?Xf(t,"width",u,l):u:Xf(t,"height",o,a);return}(n)},labelOverlap:({legend:n,legendConfig:t,scaleType:e})=>{var r,i;return null!==(i=null!==(r=n.labelOverlap)&&void 0!==r?r:t.labelOverlap)&&void 0!==i?i:function(n){if(k(["quantile","threshold","log","symlog"],n))return"greedy";return}(e)},symbolType:({legend:n,markDef:t,channel:e,encoding:r})=>{var i;return null!==(i=n.symbolType)&&void 0!==i?i:function(n,t,e,r){var i;if("shape"!==t){const n=null!==(i=Hf(e))&&void 0!==i?i:r;if(n)return n}switch(n){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(t.type,e,r.shape,t.shape)},title:({fieldOrDatumDef:n,config:t})=>Au(n,t,{allowDisabling:!0}),type:({legendType:n,scaleType:t,channel:e})=>{if(Un(e)&&$i(t)){if("gradient"===n)return}else if("symbol"===n)return;return n},values:({fieldOrDatumDef:n,legend:t})=>function(n,t){const e=n.values;if(Object(l.B)(e))return Ru(t,e);if(Ur(e))return e;return}(t,n)};function Vf(n){const{legend:t}=n;return X(t.type,function({channel:n,timeUnit:t,scaleType:e}){if(Un(n)){if(k(["quarter","month","day"],t))return"symbol";if($i(e))return"gradient"}return"symbol"}(n))}function Jf({legendConfig:n,legendType:t,orient:e,legend:r}){var i,l;return null!==(l=null!==(i=r.direction)&&void 0!==i?i:n[t?"gradientDirection":"symbolDirection"])&&void 0!==l?l:function(n,t){switch(n){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(e,t)}function Xf(n,t,e,r){return{signal:`clamp(${n.getSizeSignalRef(t).signal}, ${e}, ${r})`}}function Kf(n){const t=Ed(n)?function(n){const{encoding:t}=n,e={};for(const r of[Fn,...Wa]){const i=Mu(t[r]);i&&n.getScaleComponent(r)&&(r===Bn&&au(i)&&i.type===fi||(e[r]=Qf(n,r)))}return e}(n):function(n){const{legends:t,resolve:e}=n.component;for(const r of n.children){Kf(r);for(const i of B(r.component.legends))e.legend[i]=$f(n.component.resolve,i),"shared"===e.legend[i]&&(t[i]=nh(t[i],r.component.legends[i]),t[i]||(e.legend[i]="independent",delete t[i]))}for(const r of B(t))for(const t of n.children)t.component.legends[r]&&"shared"===e.legend[r]&&delete t.component.legends[r];return t}(n);return n.component.legends=t,t}function Zf(n,t,e,r){switch(t){case"disable":return void 0!==e;case"values":return!!(null==e?void 0:e.values);case"title":if("title"===t&&n===(null==r?void 0:r.title))return!0}return n===(e||{})[t]}function Qf(n,t){var e,r,i;let l=n.legend(t);const{markDef:u,encoding:a,config:o}=n,s=o.legend,c=new Lf({},function(n,t){const e=n.scaleName(t);if("trail"===n.mark){if("color"===t)return{stroke:e};if("size"===t)return{strokeWidth:e}}return"color"===t?n.markDef.filled?{fill:e}:{stroke:e}:{[t]:e}}(n,t));!function(n,t,e){var r;const i=null===(r=n.fieldDef(t))||void 0===r?void 0:r.field;Hc(n,n=>{var r,l;const u=null!==(r=n.project.hasField[i])&&void 0!==r?r:n.project.hasChannel[t];if(u&&bc.has(n)){const t=null!==(l=e.get("selections"))&&void 0!==l?l:[];t.push(n.name),e.set("selections",t,!1),u.hasLegend=!0}})}(n,t,c);const f=void 0!==l?!l:s.disable;if(c.set("disable",f,void 0!==l),f)return c;l=l||{};const h=n.getScaleComponent(t).get("type"),d=Mu(a[t]),p=au(d)?null===(e=Lr(d.timeUnit))||void 0===e?void 0:e.unit:void 0,g=l.orient||o.legend.orient||"right",m=Vf({legend:l,channel:t,timeUnit:p,scaleType:h}),v={legend:l,channel:t,model:n,markDef:u,encoding:a,fieldOrDatumDef:d,legendConfig:s,config:o,scaleType:h,orient:g,legendType:m,direction:Jf({legend:l,legendType:m,orient:g,legendConfig:s})};for(const e of If){if("gradient"===m&&e.startsWith("symbol")||"symbol"===m&&e.startsWith("gradient"))continue;const r=e in Yf?Yf[e](v):l[e];if(void 0!==r){const i=Zf(r,e,l,n.fieldDef(t));(i||void 0===o.legend[e])&&c.set(e,r,i)}}const w=null!==(r=null==l?void 0:l.encoding)&&void 0!==r?r:{},y=c.get("selections"),b={},x={fieldOrDatumDef:d,model:n,channel:t,legendCmpt:c,legendType:m};for(const t of["labels","legend","title","symbols","gradient","entries"]){const e=zf(null!==(i=w[t])&&void 0!==i?i:{},n),r=t in Uf?Uf[t](e,x):e;void 0===r||N(r)||(b[t]=Object.assign(Object.assign(Object.assign({},(null==y?void 0:y.length)&&au(d)?{name:`${R(d.field)}_legend_${t}`}:{}),(null==y?void 0:y.length)?{interactive:!!y}:{}),{update:r}))}return N(b)||c.set("encode",b,!!(null==l?void 0:l.encoding)),c}function nh(n,t){var e,r,i,l;if(!n)return t.clone();const u=n.getWithExplicit("orient"),a=t.getWithExplicit("orient");if(u.explicit&&a.explicit&&u.value!==a.value)return;let o=!1;for(const e of If){const r=ls(n.getWithExplicit(e),t.getWithExplicit(e),e,"legend",(n,t)=>{switch(e){case"symbolType":return th(n,t);case"title":return la(n,t);case"type":return o=!0,es("symbol")}return is(n,t,e,"legend")});n.setWithExplicit(e,r)}return o&&((null===(r=null===(e=n.implicit)||void 0===e?void 0:e.encode)||void 0===r?void 0:r.gradient)&&L(n.implicit,["encode","gradient"]),(null===(l=null===(i=n.explicit)||void 0===i?void 0:i.encode)||void 0===l?void 0:l.gradient)&&L(n.explicit,["encode","gradient"])),n}function th(n,t){return"circle"===t.value?t:n}var eh=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function rh(n){const t=n.component.legends,e={};for(const r of B(t)){const i=n.getScaleComponent(r),l=b(i.get("domains"));if(e[l])for(const n of e[l]){nh(n,t[r])||e[l].push(t[r])}else e[l]=[t[r].clone()]}return z(e).flat().map(t=>function(n,t){var e,r,i;const l=n.combine(),{disable:u,labelExpr:a,selections:o}=l,s=eh(l,["disable","labelExpr","selections"]);if(u)return;!1===t.aria&&null==s.aria&&(s.aria=!1);if(null===(e=s.encode)||void 0===e?void 0:e.symbols){const n=s.encode.symbols.update;!n.fill||"transparent"===n.fill.value||n.stroke||s.stroke||(n.stroke={value:"transparent"});for(const t of Wa)s[t]&&delete n[t]}s.title||delete s.title;if(void 0!==a){let n=a;(null===(i=null===(r=s.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&Ur(s.encode.labels.update.text)&&(n=Y(a,"datum.label",s.encode.labels.update.text.signal)),function(n,t,e,r){var i,l,u;n.encode=null!==(i=n.encode)&&void 0!==i?i:{},n.encode[t]=null!==(l=n.encode[t])&&void 0!==l?l:{},n.encode[t].update=null!==(u=n.encode[t].update)&&void 0!==u?u:{},n.encode[t].update[e]=r}(s,"labels","text",{signal:n})}return s}(t,n.config)).filter(n=>void 0!==n)}function ih(n){return Dd(n)||Cd(n)?function(n){return n.children.reduce((n,t)=>n.concat(t.assembleProjections()),lh(n))}(n):lh(n)}function lh(n){const t=n.component.projection;if(!t||t.merged)return[];const e=t.combine(),{name:r}=e;if(t.data){const i={signal:`[${t.size.map(n=>n.signal).join(", ")}]`},l=t.data.reduce((t,e)=>{const r=Ur(e)?e.signal:`data('${n.lookupDataSource(e)}')`;return k(t,r)||t.push(r),t},[]);if(l.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:l.length>1?`[${l.join(", ")}]`:l[0]}},e)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),e)]}const uh=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class ah extends ns{constructor(n,t,e,r){super(Object.assign({},t),{name:n}),this.specifiedProjection=t,this.size=e,this.data=r,this.merged=!1}get isFit(){return!!this.data}}function oh(n){n.component.projection=Ed(n)?function(n){var t;if(n.hasProjection){const e=n.specifiedProjection,r=!(e&&(null!=e.scale||null!=e.translate)),i=r?[n.getSizeSignalRef("width"),n.getSizeSignalRef("height")]:void 0,l=r?function(n){const t=[],{encoding:e}=n;for(const r of[["longitude","latitude"],["longitude2","latitude2"]])(Mu(e[r[0]])||Mu(e[r[1]]))&&t.push({signal:n.getName("geojson_"+t.length)});n.channelHasField(Bn)&&n.typedFieldDef(Bn).type===fi&&t.push({signal:n.getName("geojson_"+t.length)});0===t.length&&t.push(n.requestDataName(ps.Main));return t}(n):void 0;return new ah(n.projectionName(!0),Object.assign(Object.assign({},null!==(t=n.config.projection)&&void 0!==t?t:{}),null!=e?e:{}),i,l)}return}(n):function(n){if(0===n.children.length)return;let t;for(const t of n.children)oh(t);const e=O(n.children,n=>{const e=n.component.projection;if(e){if(t){const n=function(n,t){const e=O(uh,e=>!Object(l.w)(n.explicit,e)&&!Object(l.w)(t.explicit,e)||!(!Object(l.w)(n.explicit,e)||!Object(l.w)(t.explicit,e)||b(n.get(e))!==b(t.get(e))));if(b(n.size)===b(t.size)){if(e)return n;if(b(n.explicit)===b({}))return t;if(b(t.explicit)===b({}))return n}return null}(t,e);return n&&(t=n),!!n}return t=e,!0}return!0});if(t&&e){const e=n.projectionName(!0),r=new ah(e,t.specifiedProjection,t.size,v(t.data));for(const t of n.children){const n=t.component.projection;n&&(n.isFit&&r.data.push(...t.component.projection.data),t.renameProjection(n.get("name"),e),n.merged=!0)}return r}return}(n)}var sh=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function ch(n,t){return`${Gt(n)}_${t}`}function fh(n,t,e){var r;const i=ch(null!==(r=Bu(e,void 0))&&void 0!==r?r:{},t);return n.getName(i+"_bins")}function hh(n,t,e){let r,i;r=function(n){return"as"in n}(n)?Object(l.J)(n.as)?[n.as,n.as+"_end"]:[n.as[0],n.as[1]]:[bu(n,{forAs:!0}),bu(n,{binSuffix:"end",forAs:!0})];const u=Object.assign({},Bu(t,void 0)),a=ch(u,n.field),{signal:o,extentSignal:s}=function(n,t){return{signal:n.getName(t+"_bins"),extentSignal:n.getName(t+"_extent")}}(e,a);if(Xt(u.extent)){const n=u.extent,t=n.selection;i=Zc(e.getSelectionComponent(R(t),t),n),delete u.extent}return{key:a,binComponent:Object.assign(Object.assign(Object.assign({bin:u,field:n.field,as:[r]},o?{signal:o}:{}),s?{extentSignal:s}:{}),i?{span:i}:{})}}class dh extends oc{constructor(n,t){super(n),this.bins=t}clone(){return new dh(null,v(this.bins))}static makeFromEncoding(n,t){const e=t.reduceFieldDef((n,e,r)=>{if(du(e)&&Yt(e.bin)){const{key:i,binComponent:l}=hh(e,e.bin,t);n[i]=Object.assign(Object.assign(Object.assign({},l),n[i]),function(n,t,e,r){var i,l;if(Iu(t,e)){const u=Ed(n)&&null!==(l=null!==(i=n.axis(e))&&void 0!==i?i:n.legend(e))&&void 0!==l?l:{},a=bu(t,{expr:"datum"}),o=bu(t,{expr:"datum",binSuffix:"end"});return{formulaAs:bu(t,{binSuffix:"range",forAs:!0}),formula:ql(a,o,u.format,u.formatType,r)}}return{}}(t,e,r,t.config))}return n},{});return N(e)?null:new dh(n,e)}static makeFromTransform(n,t,e){const{key:r,binComponent:i}=hh(t,t.bin,e);return new dh(n,{[r]:i})}merge(n,t){for(const e of B(n.bins))e in this.bins?(t(n.bins[e].signal,this.bins[e].signal),this.bins[e].as=S([...this.bins[e].as,...n.bins[e].as],x)):this.bins[e]=n.bins[e];for(const t of n.children)n.removeChild(t),t.parent=this;n.remove()}producedFields(){return new Set(z(this.bins).map(n=>n.as).flat(2))}dependentFields(){return new Set(z(this.bins).map(n=>n.field))}hash(){return"Bin "+x(this.bins)}assemble(){return z(this.bins).flatMap(n=>{const t=[],[e,...r]=n.as,i=n.bin,{extent:l}=i,u=sh(i,["extent"]),a=Object.assign(Object.assign(Object.assign({type:"bin",field:G(n.field),as:e,signal:n.signal},Xt(l)?{extent:null}:{extent:l}),n.span?{span:{signal:`span(${n.span})`}}:{}),u);!l&&n.extentSignal&&(t.push({type:"extent",field:G(n.field),signal:n.extentSignal}),a.extent={signal:n.extentSignal}),t.push(a);for(const n of r)for(let r=0;r<2;r++)t.push({type:"formula",expr:bu({field:e[r]},{expr:"datum"}),as:n[r]});return n.formula&&t.push({type:"formula",expr:n.formula,as:n.formulaAs}),t})}}function ph(n,t,e,r){const i=Ed(r)?r.encoding[ut(t)]:void 0;if(du(e)&&Ed(r)&&ru(t,e,i,r.stack,r.markDef,r.config))n.add(bu(e,{})),n.add(bu(e,{suffix:"end"})),e.bin&&Iu(e,t)&&n.add(bu(e,{binSuffix:"range"}));else if(t in Rn){const e=function(n){switch(n){case"latitude":return"y";case"latitude2":return"y2";case"longitude":return"x";case"longitude2":return"x2"}}(t);n.add(r.getName(e))}else n.add(bu(e));return n}class gh extends oc{constructor(n,t,e){super(n),this.dimensions=t,this.measures=e}clone(){return new gh(null,new Set(this.dimensions),v(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(n,t){let e=!1;t.forEachFieldDef(n=>{n.aggregate&&(e=!0)});const r={},i=new Set;return e?(t.forEachFieldDef((n,e)=>{var l,u,a,o;const{aggregate:s,field:c}=n;if(s)if("count"===s)r["*"]=null!==(l=r["*"])&&void 0!==l?l:{},r["*"].count=new Set([bu(n,{forAs:!0})]);else{if(gn(s)||mn(s)){const n=gn(s)?"argmin":"argmax",t=s[n];r[t]=null!==(u=r[t])&&void 0!==u?u:{},r[t][n]=new Set([bu({op:n,field:t},{forAs:!0})])}else r[c]=null!==(a=r[c])&&void 0!==a?a:{},r[c][s]=new Set([bu(n,{forAs:!0})]);It(e)&&"unaggregated"===t.scaleDomain(e)&&(r[c]=null!==(o=r[c])&&void 0!==o?o:{},r[c].min=new Set([bu({field:c,aggregate:"min"},{forAs:!0})]),r[c].max=new Set([bu({field:c,aggregate:"max"},{forAs:!0})]))}else ph(i,e,n,t)}),i.size+B(r).length===0?null:new gh(n,i,r)):null}static makeFromTransform(n,t){var e,r,i;const l=new Set,u={};for(const n of t.aggregate){const{op:t,field:i,as:l}=n;t&&("count"===t?(u["*"]=null!==(e=u["*"])&&void 0!==e?e:{},u["*"].count=new Set([l||bu(n,{forAs:!0})])):(u[i]=null!==(r=u[i])&&void 0!==r?r:{},u[i][t]=new Set([l||bu(n,{forAs:!0})])))}for(const n of null!==(i=t.groupby)&&void 0!==i?i:[])l.add(n);return l.size+B(u).length===0?null:new gh(n,l,u)}merge(n){return D(this.dimensions,n.dimensions)?(function(n,t){var e;for(const r of B(t)){const i=t[r];for(const t of B(i))r in n?n[r][t]=new Set([...null!==(e=n[r][t])&&void 0!==e?e:[],...i[t]]):n[r]={[t]:i[t]}}}(this.measures,n.measures),!0):(function(...n){_r.debug(...n)}("different dimensions, cannot merge"),!1)}addDimensions(n){n.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...B(this.measures)])}producedFields(){const n=new Set;for(const t of B(this.measures))for(const e of B(this.measures[t])){const r=this.measures[t][e];0===r.size?n.add(`${e}_${t}`):r.forEach(n.add,n)}return n}hash(){return"Aggregate "+x({dimensions:this.dimensions,measures:this.measures})}assemble(){const n=[],t=[],e=[];for(const r of B(this.measures))for(const i of B(this.measures[r]))for(const l of this.measures[r][i])e.push(l),n.push(i),t.push("*"===r?null:G(r));return{type:"aggregate",groupby:[...this.dimensions].map(G),ops:n,fields:t,as:e}}}class mh extends oc{constructor(n,t,e,r){super(n),this.model=t,this.name=e,this.data=r;for(const n of Hn){const e=t.facet[n];if(e){const{bin:r,sort:i}=e;this[n]=Object.assign({name:t.getName(n+"_domain"),fields:[bu(e),...Yt(r)?[bu(e,{binSuffix:"end"})]:[]]},Vl(i)?{sortField:i}:Object(l.B)(i)?{sortIndexField:gf(e,n)}:{})}}this.childModel=t.child}hash(){let n="Facet";for(const t of Hn)this[t]&&(n+=` ${t.charAt(0)}:${x(this[t])}`);return n}get fields(){var n;const t=[];for(const e of Hn)(null===(n=this[e])||void 0===n?void 0:n.fields)&&t.push(...this[e].fields);return t}dependentFields(){const n=new Set(this.fields);for(const t of Hn)this[t]&&(this[t].sortField&&n.add(this[t].sortField.field),this[t].sortIndexField&&n.add(this[t].sortIndexField));return n}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const n={};for(const t of kt){const e=this.childModel.component.scales[t];if(e&&!e.merged){const i=e.get("type"),l=e.get("range");if(zi(i)&&qr(l)){const e=ad(od(this.childModel,t));e?n[t]=e:jr(r.unknownField(t))}}}return n}assembleRowColumnHeaderData(n,t,e){const r={row:"y",column:"x"}[n],i=[],l=[],u=[];e&&e[r]&&(t?(i.push("distinct_"+e[r]),l.push("max")):(i.push(e[r]),l.push("distinct")),u.push("distinct_"+e[r]));const{sortField:a,sortIndexField:o}=this[n];if(a){const{op:n=Hl,field:t}=a;i.push(t),l.push(n),u.push(bu(a,{forAs:!0}))}else o&&(i.push(o),l.push("max"),u.push(o));return{name:this[n].name,source:null!=t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[n].fields},i.length?{fields:i,ops:l,as:u}:{})]}}assembleFacetHeaderData(n){var t,e;const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,l=[],u={};for(const n of yf){for(const r of bf){const l=null!==(t=i[n]&&i[n][r])&&void 0!==t?t:[];for(const t of l)if((null===(e=t.axes)||void 0===e?void 0:e.length)>0){u[n]=!0;break}}if(u[n]){const t=`length(data("${this.facet.name}"))`,e="row"===n?r?{signal:`ceil(${t} / ${r})`}:1:r?{signal:`min(${t}, ${r})`}:{signal:t};l.push({name:`${this.facet.name}_${n}`,transform:[{type:"sequence",start:0,stop:e}]})}}const{row:a,column:o}=u;return(a||o)&&l.unshift(this.assembleRowColumnHeaderData("facet",null,n)),l}assemble(){var n,t;const e=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:l,row:u,facet:a}=this;if(l&&u&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const l=[].concat(null!==(n=i.x)&&void 0!==n?n:[],null!==(t=i.y)&&void 0!==t?t:[]),u=l.map(()=>"distinct");e.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(const n of[jn,kn])this[n]&&e.push(this.assembleRowColumnHeaderData(n,r,i));if(a){const n=this.assembleFacetHeaderData(i);n&&e.push(...n)}return e}}function vh(n){return"'"===n[0]&&"'"===n[n.length-1]||'"'===n[0]&&'"'===n[n.length-1]?n.slice(1,-1):n}function wh(n){const t={};return function n(t,e){if(p(t))n(t.not,e);else if(d(t))for(const r of t.and)n(r,e);else if(h(t))for(const r of t.or)n(r,e);else e(t)}(n.filter,n=>{var e;if(ti(n)){let r=null;Vr(n)?r=Gu(n.equal):Xr(n)?r=Gu(n.lte):Jr(n)?r=Gu(n.lt):Kr(n)?r=Gu(n.gt):Zr(n)?r=Gu(n.gte):Qr(n)?r=n.range[0]:ni(n)&&(r=(null!==(e=n.oneOf)&&void 0!==e?e:n.in)[0]),r&&(Or(r)?t[n.field]="date":Object(l.G)(r)?t[n.field]="number":Object(l.J)(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function yh(n){const t={};function e(n){var e;Pu(n)?t[n.field]="date":"quantitative"===n.type&&(e=n.aggregate,Object(l.J)(e)&&k(["min","max"],e))?t[n.field]="number":J(n.field)>1?n.field in t||(t[n.field]="flatten"):gu(n)&&Vl(n.sort)&&J(n.sort.field)>1&&(n.sort.field in t||(t[n.sort.field]="flatten"))}if((Ed(n)||Sd(n))&&n.forEachFieldDef((t,r)=>{if(du(t))e(t);else{const i=it(r),l=n.fieldDef(i);e(Object.assign(Object.assign({},t),{type:l.type}))}}),Ed(n)){const{mark:e,markDef:r,encoding:i}=n;if(gl(e)&&!n.encoding.order){const n=i["horizontal"===r.orient?"y":"x"];au(n)&&"quantitative"===n.type&&!(n.field in t)&&(t[n.field]="number")}}return t}class bh extends oc{constructor(n,t){super(n),this._parse=t}clone(){return new bh(null,v(this._parse))}hash(){return"Parse "+x(this._parse)}static makeExplicit(n,t,e){let r={};const i=t.data;return!cs(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(n,r,{},e)}static makeWithAncestors(n,t,e,i){for(const n of B(e)){const t=i.getWithExplicit(n);void 0!==t.value&&(t.explicit||t.value===e[n]||"derived"===t.value||"flatten"===e[n]?delete e[n]:jr(r.differentParse(n,e[n],t.value)))}for(const n of B(t)){const e=i.get(n);void 0!==e&&(e===t[n]?delete t[n]:jr(r.differentParse(n,t[n],e)))}const l=new ns(t,e);i.copyAll(l);const u={};for(const n of B(l.combine())){const t=l.get(n);null!==t&&(u[n]=t)}return 0===B(u).length||i.parseNothing?null:new bh(n,u)}get parse(){return this._parse}merge(n){this._parse=Object.assign(Object.assign({},this._parse),n.parse),n.remove()}assembleFormatParse(){const n={};for(const t of B(this._parse)){const e=this._parse[t];1===J(t)&&(n[t]=e)}return n}producedFields(){return new Set(B(this._parse))}dependentFields(){return new Set(B(this._parse))}assembleTransforms(n=!1){return B(this._parse).filter(t=>!n||J(t)>1).map(n=>{const t=function(n,t){const e=q(n);if("number"===t)return`toNumber(${e})`;if("boolean"===t)return`toBoolean(${e})`;if("string"===t)return`toString(${e})`;if("date"===t)return`toDate(${e})`;if("flatten"===t)return e;if(0===t.indexOf("date:")){return`timeParse(${e},'${vh(t.slice(5,t.length))}')`}if(0===t.indexOf("utc:")){return`utcParse(${e},'${vh(t.slice(4,t.length))}')`}return jr(r.unrecognizedParse(t)),null}(n,this._parse[n]);if(!t)return null;return{type:"formula",expr:t,as:V(n)}}).filter(n=>null!==n)}}class xh extends oc{clone(){return new xh(null)}constructor(n){super(n)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class _h extends oc{constructor(n,t){super(n),this.params=t}clone(){return new _h(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule "+x(this.params)}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class kh extends oc{constructor(n,t){super(n),this.params=t}clone(){return new kh(null,this.params)}dependentFields(){return new Set}producedFields(){var n;return new Set([null!==(n=this.params.as)&&void 0!==n?n:"data"])}hash(){return"Hash "+x(this.params)}assemble(){return Object.assign({type:"sequence"},this.params)}}class jh extends oc{constructor(n){let t;if(super(null),cs(n=null!=n?n:{name:"source"})||(t=n.format?Object.assign({},y(n.format,["parse"])):{}),os(n))this._data={values:n.values};else if(as(n)){if(this._data={url:n.url},!t.type){let e=/(?:\.([^.]+))?$/.exec(n.url)[1];k(["json","csv","tsv","dsv","topojson"],e)||(e="json"),t.type=e}}else hs(n)?this._data={values:[{type:"Sphere"}]}:(ss(n)||cs(n))&&(this._data={});this._generator=cs(n),n.name&&(this._name=n.name),t&&!N(t)&&(this._data.format=t)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(n){this._name=n}set parent(n){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var Oh,Ah=function(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e},Eh=function(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)};function Sh(n){return n instanceof jh||n instanceof _h||n instanceof kh}class Ch{constructor(){Oh.set(this,void 0),Ah(this,Oh,!1)}setModified(){Ah(this,Oh,!0)}get modifiedFlag(){return Eh(this,Oh)}}Oh=new WeakMap;class Dh extends Ch{getNodeDepths(n,t,e){e.set(n,t);for(const r of n.children)this.getNodeDepths(r,t+1,e);return e}optimize(n){const t=[...this.getNodeDepths(n,0,new Map).entries()].sort((n,t)=>t[1]-n[1]);for(const n of t)this.run(n[0]);return this.modifiedFlag}}class Mh extends Ch{optimize(n){this.run(n);for(const t of n.children)this.optimize(t);return this.modifiedFlag}}class Fh extends Mh{mergeNodes(n,t){const e=t.shift();for(const r of t)n.removeChild(r),r.parent=e,r.remove()}run(n){const t=n.children.map(n=>n.hash()),e={};for(let r=0;r<t.length;r++)void 0===e[t[r]]?e[t[r]]=[n.children[r]]:e[t[r]].push(n.children[r]);for(const t of B(e))e[t].length>1&&(this.setModified(),this.mergeNodes(n,e[t]))}}class Th extends Mh{constructor(n){super(),this.requiresSelectionId=n&&Gc(n)}run(n){n instanceof xh&&(this.requiresSelectionId&&(Sh(n.parent)||n.parent instanceof gh||n.parent instanceof bh)||(this.setModified(),n.remove()))}}class Nh extends Ch{optimize(n){return this.run(n,new Set),this.modifiedFlag}run(n,t){let e=new Set;n instanceof fc&&(e=n.producedFields(),M(e,t)&&(this.setModified(),n.removeFormulas(t),0===n.producedFields.length&&n.remove()));for(const r of n.children)this.run(r,new Set([...t,...e]))}}class Bh extends Mh{constructor(){super()}run(n){n instanceof sc&&!n.isRequired()&&(this.setModified(),n.remove())}}class zh extends Dh{run(n){if(!(Sh(n)||n.numChildren()>1))for(const t of n.children)if(t instanceof bh)if(n instanceof bh)this.setModified(),n.merge(t);else{if(T(n.producedFields(),t.dependentFields()))continue;this.setModified(),t.swapWithParent()}}}class Ph extends Dh{run(n){const t=[...n.children],e=n.children.filter(n=>n instanceof bh);if(n.numChildren()>1&&e.length>=1){const r={},i=new Set;for(const n of e){const t=n.parse;for(const n of B(t))n in r?r[n]!==t[n]&&i.add(n):r[n]=t[n]}for(const n of i)delete r[n];if(!N(r)){this.setModified();const e=new bh(n,r);for(const i of t){if(i instanceof bh)for(const n of B(r))delete i.parse[n];n.removeChild(i),i.parent=e,i instanceof bh&&0===B(i.parse).length&&i.remove()}}}}}class $h extends Dh{run(n){n instanceof sc||n.numChildren()>0||n instanceof mh||n instanceof jh||(this.setModified(),n.remove())}}class Rh extends Dh{run(n){const t=n.children.filter(n=>n instanceof fc),e=t.pop();for(const n of t)this.setModified(),e.merge(n)}}class Ih extends Dh{run(n){const t=n.children.filter(n=>n instanceof gh),e={};for(const n of t){const t=x(n.groupBy);t in e||(e[t]=[]),e[t].push(n)}for(const t of B(e)){const r=e[t];if(r.length>1){const t=r.pop();for(const e of r)t.merge(e)&&(n.removeChild(e),e.parent=t,e.remove(),this.setModified())}}}}class Lh extends Dh{constructor(n){super(),this.model=n}run(n){const t=!(Sh(n)||n instanceof Jc||n instanceof bh||n instanceof xh),e=[],r=[];for(const i of n.children)i instanceof dh&&(t&&!T(n.producedFields(),i.dependentFields())?e.push(i):r.push(i));if(e.length>0){const t=e.pop();for(const n of e)t.merge(n,this.model.renameSignal.bind(this.model));this.setModified(),n instanceof dh?n.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(r.length>1){const n=r.pop();for(const t of r)n.merge(t,this.model.renameSignal.bind(this.model));this.setModified()}}}class Uh extends Dh{run(n){const t=[...n.children];if(!j(t,n=>n instanceof sc)||n.numChildren()<=1)return;const e=[];let r;for(const i of t)if(i instanceof sc){let t=i;for(;1===t.numChildren();){const[n]=t.children;if(!(n instanceof sc))break;t=n}e.push(...t.children),r?(n.removeChild(i),i.parent=r.parent,r.parent.removeChild(r),r.parent=t,this.setModified()):r=t}else e.push(i);if(e.length){this.setModified();for(const n of e)n.parent.removeChild(n),n.parent=r}}}class qh extends oc{constructor(n,t){super(n),this.transform=t}clone(){return new qh(null,v(this.transform))}addDimensions(n){this.transform.groupby=S(this.transform.groupby.concat(n),n=>n)}dependentFields(){const n=new Set;return this.transform.groupby&&this.transform.groupby.forEach(n.add,n),this.transform.joinaggregate.map(n=>n.field).filter(n=>void 0!==n).forEach(n.add,n),n}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(n){var t;return null!==(t=n.as)&&void 0!==t?t:bu(n)}hash(){return"JoinAggregateTransform "+x(this.transform)}assemble(){const n=[],t=[],e=[];for(const r of this.transform.joinaggregate)t.push(r.op),e.push(this.getDefaultName(r)),n.push(void 0===r.field?null:r.field);const r=this.transform.groupby;return Object.assign({type:"joinaggregate",as:e,ops:t,fields:n},void 0!==r?{groupby:r}:{})}}class Hh extends oc{constructor(n,t){super(n),this._stack=t}clone(){return new Hh(null,v(this._stack))}static makeFromTransform(n,t){const{stack:e,groupby:r,as:i,offset:u="zero"}=t,a=[],o=[];if(void 0!==t.sort)for(const n of t.sort)a.push(n.field),o.push(X(n.order,"ascending"));const s={field:a,order:o};let c;return c=function(n){return Object(l.B)(n)&&n.every(n=>Object(l.J)(n))&&n.length>1}(i)?i:Object(l.J)(i)?[i,i+"_end"]:[t.stack+"_start",t.stack+"_end"],new Hh(n,{stackField:e,groupby:r,offset:u,sort:s,facetby:[],as:c})}static makeFromEncoding(n,t){const e=t.stack,{encoding:r}=t;if(!e)return null;const{groupbyChannel:i,fieldChannel:u,offset:a,impute:o}=e;let s;if(i){s=Du(r[i])}const c=function(n){return n.stack.stackBy.reduce((n,t)=>{const e=bu(t.fieldDef);return e&&n.push(e),n},[])}(t),f=t.encoding.order;let h;return h=Object(l.B)(f)||au(f)?ea(f):c.reduce((n,t)=>(n.field.push(t),n.order.push("y"===u?"descending":"ascending"),n),{field:[],order:[]}),new Hh(n,{dimensionFieldDef:s,stackField:t.vgField(u),facetby:[],stackby:c,sort:h,offset:a,impute:o,as:[t.vgField(u,{suffix:"start",forAs:!0}),t.vgField(u,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(n){this._stack.facetby.push(...n)}dependentFields(){const n=new Set;return n.add(this._stack.stackField),this.getGroupbyFields().forEach(n.add,n),this._stack.facetby.forEach(n.add,n),this._stack.sort.field.forEach(n.add,n),n}producedFields(){return new Set(this._stack.as)}hash(){return"Stack "+x(this._stack)}getGroupbyFields(){const{dimensionFieldDef:n,impute:t,groupby:e}=this._stack;return n?n.bin?t?[bu(n,{binSuffix:"mid"})]:[bu(n,{}),bu(n,{binSuffix:"end"})]:[bu(n)]:null!=e?e:[]}assemble(){const n=[],{facetby:t,dimensionFieldDef:e,stackField:r,stackby:i,sort:l,offset:u,impute:a,as:o}=this._stack;if(a&&e){const{band:l=.5,bin:u}=e;u&&n.push({type:"formula",expr:l+"*"+bu(e,{expr:"datum"})+`+${1-l}*`+bu(e,{expr:"datum",binSuffix:"end"}),as:bu(e,{binSuffix:"mid",forAs:!0})}),n.push({type:"impute",field:r,groupby:[...i,...t],key:bu(e,{binSuffix:"mid"}),method:"value",value:0})}return n.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:r,sort:l,as:o,offset:u}),n}}class Wh extends oc{constructor(n,t){super(n),this.transform=t}clone(){return new Wh(null,v(this.transform))}addDimensions(n){this.transform.groupby=S(this.transform.groupby.concat(n),n=>n)}dependentFields(){var n,t;const e=new Set;return(null!==(n=this.transform.groupby)&&void 0!==n?n:[]).forEach(e.add,e),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach(n=>e.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>void 0!==n).forEach(e.add,e),e}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(n){var t;return null!==(t=n.as)&&void 0!==t?t:bu(n)}hash(){return"WindowTransform "+x(this.transform)}assemble(){var n;const t=[],e=[],r=[],i=[];for(const n of this.transform.window)e.push(n.op),r.push(this.getDefaultName(n)),i.push(void 0===n.param?null:n.param),t.push(void 0===n.field?null:n.field);const l=this.transform.frame,u=this.transform.groupby;if(l&&null===l[0]&&null===l[1]&&e.every(n=>vn(n)))return Object.assign({type:"joinaggregate",as:r,ops:e,fields:t},void 0!==u?{groupby:u}:{});const a=[],o=[];if(void 0!==this.transform.sort)for(const t of this.transform.sort)a.push(t.field),o.push(null!==(n=t.order)&&void 0!==n?n:"ascending");const s={field:a,order:o},c=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:r,ops:e,fields:t,sort:s},void 0!==c?{ignorePeers:c}:{}),void 0!==u?{groupby:u}:{}),void 0!==l?{frame:l}:{})}}function Gh(n){if(n instanceof mh)if(1!==n.numChildren()||n.children[0]instanceof sc){const e=n.model.component.data.main;!function n(t){if(t instanceof sc&&t.type===ps.Main&&1===t.numChildren()){const e=t.children[0];e instanceof mh||(e.swapWithParent(),n(t))}}(e);const r=(t=n,function n(e){if(!(e instanceof mh)){const r=e.clone();if(r instanceof sc){const n=Yh+r.getSource();r.setSource(n),t.model.component.data.outputNodes[n]=r}else(r instanceof gh||r instanceof Hh||r instanceof Wh||r instanceof qh)&&r.addDimensions(t.fields);for(const t of e.children.flatMap(n))t.parent=r;return[r]}return e.children.flatMap(n)}),i=n.children.map(r).flat();for(const n of i)n.parent=e}else{const t=n.children[0];(t instanceof gh||t instanceof Hh||t instanceof Wh||t instanceof qh)&&t.addDimensions(n.fields),t.swapWithParent(),Gh(n)}else n.children.map(Gh);var t}const Yh="scale_";function Vh(n){for(const t of n){for(const n of t.children)if(n.parent!==t)return!1;if(!Vh(t.children))return!1}return!0}function Jh(n,t){let e=!1;for(const r of t)e=n.optimize(r)||e;return e}function Xh(n,t,e){let r=n.sources,i=!1;return i=Jh(new Bh,r)||i,i=Jh(new Th(t),r)||i,r=r.filter(n=>n.numChildren()>0),i=Jh(new $h,r)||i,r=r.filter(n=>n.numChildren()>0),e||(i=Jh(new zh,r)||i,i=Jh(new Lh(t),r)||i,i=Jh(new Nh,r)||i,i=Jh(new Ph,r)||i,i=Jh(new Ih,r)||i,i=Jh(new Rh,r)||i,i=Jh(new Fh,r)||i,i=Jh(new Uh,r)||i),n.sources=r,i}class Kh{constructor(n){Object.defineProperty(this,"signal",{enumerable:!0,get:n})}static fromName(n,t){return new Kh(()=>n(t))}}var Zh=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Qh(n){Ed(n)?function(n){const t=n.component.scales;for(const e of B(t)){const r=nd(n,e);if(t[e].setWithExplicit("domains",r),id(n,e),n.component.data.isFaceted){let t=n;for(;!Sd(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[e])for(const n of r.value)Hr(n)&&(n.data=Yh+n.data.replace(Yh,""))}}}(n):function(n){for(const t of n.children)Qh(t);const t=n.component.scales;for(const e of B(t)){let i,l=null;for(const t of n.children){const n=t.component.scales[e];if(n){i=void 0===i?n.getWithExplicit("domains"):ls(i,n.getWithExplicit("domains"),"domains","scale",ud);const t=n.get("selectionExtent");l&&t&&l.selection!==t.selection&&jr(r.NEEDS_SAME_SELECTION),l=t}}t[e].setWithExplicit("domains",i),l&&t[e].set("selectionExtent",l,!0)}}(n)}function nd(n,t){const e=n.getScaleComponent(t).get("type"),{encoding:r}=n,i=function(n,t,e,r){if("unaggregated"===n){const{valid:n,reason:r}=ld(t,e);if(!n)return void jr(r)}else if(void 0===n&&r.useUnaggregatedDomain){const{valid:n}=ld(t,e);if(n)return"unaggregated"}return n}(n.scaleDomain(t),n.typedFieldDef(t),e,n.config.scale);return i!==n.scaleDomain(t)&&(n.specifiedScales[t]=Object.assign(Object.assign({},n.specifiedScales[t]),{domain:i})),"x"===t&&Mu(r.x2)?Mu(r.x)?ls(ed(e,i,n,"x"),ed(e,i,n,"x2"),"domain","scale",ud):ed(e,i,n,"x2"):"y"===t&&Mu(r.y2)?Mu(r.y)?ls(ed(e,i,n,"y"),ed(e,i,n,"y2"),"domain","scale",ud):ed(e,i,n,"y2"):ed(e,i,n,t)}function td(n,t,e){var r;const i=null===(r=Lr(e))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(n,t,e){return n.map(n=>({signal:`{data: ${$u(n,{timeUnit:e,type:t})}}`}))}(n,t,i):[n]}function ed(n,t,e,r){const{encoding:i}=e,u=Mu(i[r]),{type:a}=u,o=u.timeUnit;if(function(n){return n&&n.unionWith}(t)){const i=ed(n,void 0,e,r),l=td(t.unionWith,a,o);return ts([...i.value,...l])}if(Ur(t))return ts([t]);if(t&&"unaggregated"!==t&&!Ii(t))return ts(td(t,a,o));const s=e.stack;if(s&&r===s.fieldChannel){if("normalize"===s.offset)return es([[0,1]]);const n=e.requestDataName(ps.Main);return es([{data:n,field:e.vgField(r,{suffix:"start"})},{data:n,field:e.vgField(r,{suffix:"end"})}])}const c=It(r)&&au(u)?function(n,t,e){if(!zi(e))return;const r=n.fieldDef(t),i=r.sort;if(Jl(i))return{op:"min",field:gf(r,t),order:"ascending"};const{stack:l}=n,u=l?[...l.groupbyField?[l.groupbyField]:[],...l.stackBy.map(n=>n.fieldDef.field)]:void 0;if(Vl(i)){const n=l&&!k(u,i.field);return rd(i,n)}if(Yl(i)){const{encoding:t,order:e}=i,r=n.fieldDef(t),{aggregate:a,field:o}=r,s=l&&!k(u,o);if(gn(a)||mn(a))return rd({field:bu(r),order:e},s);if(vn(a)||!a)return rd({op:a,field:o,order:e},s)}else{if("descending"===i)return{op:"min",field:n.vgField(t),order:"descending"};if(k(["ascending",void 0],i))return!0}return}(e,r,n):void 0;if(su(u)){return es(td([u.datum],a,o))}const f=u;if("unaggregated"===t){const n=e.requestDataName(ps.Main),{field:t}=u;return es([{data:n,field:bu({field:t,aggregate:"min"})},{data:n,field:bu({field:t,aggregate:"max"})}])}if(Yt(f.bin)){if(zi(n))return es("bin-ordinal"===n?[]:[{data:$(c)?e.requestDataName(ps.Main):e.requestDataName(ps.Raw),field:e.vgField(r,Iu(f,r)?{binSuffix:"range"}:{}),sort:!0!==c&&Object(l.H)(c)?c:{field:e.vgField(r,{}),op:"min"}}]);{const{bin:n}=f;if(Yt(n)){const t=fh(e,f.field,n);return es([new Kh(()=>{const n=e.getSignalName(t);return`[${n}.start, ${n}.stop]`})])}return es([{data:e.requestDataName(ps.Main),field:e.vgField(r,{})}])}}if(f.timeUnit&&k(["time","utc"],n)&&ru(r,f,Ed(e)?e.encoding[ut(r)]:void 0,e.stack,e.markDef,e.config)){const n=e.requestDataName(ps.Main);return es([{data:n,field:e.vgField(r)},{data:n,field:e.vgField(r,{suffix:"end"})}])}return es(c?[{data:$(c)?e.requestDataName(ps.Main):e.requestDataName(ps.Raw),field:e.vgField(r),sort:c}]:[{data:e.requestDataName(ps.Main),field:e.vgField(r)}])}function rd(n,t){const{op:e,field:r,order:i}=n;return Object.assign(Object.assign({op:null!=e?e:t?"sum":Hl},r?{field:G(r)}:{}),i?{order:i}:{})}function id(n,t){var e;const r=n.component.scales[t],i=n.specifiedScales[t].domain,l=null===(e=n.fieldDef(t))||void 0===e?void 0:e.bin,u=Ii(i)&&i,a=Jt(l)&&Xt(l.extent)&&l.extent;(u||a)&&r.set("selectionExtent",null!=u?u:a,!0)}function ld(n,t){const{aggregate:e,type:i}=n;return e?Object(l.J)(e)&&!xn[e]?{valid:!1,reason:r.unaggregateDomainWithNonSharedDomainOp(e)}:"quantitative"===i&&"log"===t?{valid:!1,reason:r.unaggregatedDomainWithLogScale(n)}:{valid:!0}:{valid:!1,reason:r.unaggregateDomainHasNoEffectForRawField(n)}}function ud(n,t,e,i){return n.explicit&&t.explicit&&jr(r.mergeConflictingDomainProperty(e,i,n.value,t.value)),{explicit:n.explicit,value:[...n.value,...t.value]}}function ad(n){if(Hr(n)&&Object(l.J)(n.field))return n.field;if(function(n){return!Object(l.B)(n)&&("fields"in n&&!("data"in n))}(n)){let t;for(const e of n.fields)if(Hr(e)&&Object(l.J)(e.field))if(t){if(t!==e.field)return jr(r.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}else t=e.field;return jr(r.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}if(function(n){return!Object(l.B)(n)&&("fields"in n&&"data"in n)}(n)){jr(r.FACETED_INDEPENDENT_SAME_SOURCE);const t=n.fields[0];return Object(l.J)(t)?t:void 0}}function od(n,t){return function(n){const t=S(n.map(n=>{if(Hr(n)){const{sort:t}=n;return Zh(n,["sort"])}return n}),x),e=S(n.map(n=>{if(Hr(n)){const t=n.sort;return void 0===t||$(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(n=>void 0!==n),x);if(0===t.length)return;if(1===t.length){const t=n[0];if(Hr(t)&&e.length>0){let n=e[0];if(e.length>1)jr(r.MORE_THAN_ONE_SORT),n=!0;else if(Object(l.H)(n)&&"field"in n){const e=n.field;t.field===e&&(n=!n.order||{order:n.order})}return Object.assign(Object.assign({},t),{sort:n})}return t}const i=S(e.map(n=>$(n)||!("op"in n)||Object(l.J)(n.op)&&n.op in pn?n:(jr(r.domainSortDropped(n)),!0)),x);let u;1===i.length?u=i[0]:i.length>1&&(jr(r.MORE_THAN_ONE_SORT),u=!0);const a=S(n.map(n=>Hr(n)?n.data:null),n=>n);if(1===a.length&&null!==a[0]){return Object.assign({data:a[0],fields:t.map(n=>n.field)},u?{sort:u}:{})}return Object.assign({fields:t},u?{sort:u}:{})}(n.component.scales[t].get("domains").map(t=>(Hr(t)&&(t.data=n.lookupDataSource(t.data)),t)))}var sd=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function cd(n){return B(n.component.scales).reduce((t,e)=>{const r=n.component.scales[e];if(r.merged)return t;const i=r.combine(),{name:u,type:a,selectionExtent:o,domains:s,range:c,reverse:f}=i,h=sd(i,["name","type","selectionExtent","domains","range","reverse"]),d=function(n,t,e,r){if(jt(e)){if(qr(n))return{step:{signal:t+"_step"}}}else if(Object(l.H)(n)&&Hr(n))return Object.assign(Object.assign({},n),{data:r.lookupDataSource(n.data)});return n}(i.range,u,e,n);let p;o&&(p=function(n,t){const e=t.selection;return{signal:Zc(n.getSelectionComponent(e,R(e)),t)}}(n,o));const g=od(n,e);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:u,type:a},g?{domain:g}:{}),p?{domainRaw:p}:{}),{range:d}),void 0!==f?{reverse:f}:{}),h)),t},[])}class fd extends ns{constructor(n,t){super({},{name:n}),this.merged=!1,this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||j(this.get("domains"),n=>Object(l.B)(n)&&2===n.length&&n[0]<=0&&n[1]>=0)}}const hd=["range","scheme"];function dd(n){return"x"===n?"width":"y"===n?"height":void 0}function pd(n,t){const e=n.fieldDef(t);if(e&&e.bin&&Yt(e.bin)){const r=fh(n,e.field,e.bin),i=dd(t),l=n.getName(i);return new Kh(()=>{const t=n.getSignalName(r),e=`(${t}.stop - ${t}.start) / ${t}.step`;return`${n.getSignalName(l)} / (${e})`})}}function gd(n,t){const e=t.specifiedScales[n],{size:i}=t,u=t.getScaleComponent(n).get("type");for(const i of hd)if(void 0!==e[i]){const a=Xi(u,i),o=Ki(n,i);if(a)if(o)jr(o);else switch(i){case"range":{const r=e.range;if(Object(l.B)(r)){if(jt(n))return ts(r.map(n=>{if("width"===n||"height"===n){const e=t.getName(n),r=t.getSignalName.bind(t);return Kh.fromName(r,e)}return n}))}else if(Object(l.H)(r))return ts({data:t.requestDataName(ps.Main),field:r.field,sort:{op:"min",field:t.vgField(n)}});return ts(r)}case"scheme":return ts(md(e[i]))}else jr(r.scalePropertyNotWorkWithScaleType(u,i,n))}if(n===On||n===An){const t=n===On?"width":"height",e=i[t];if(to(e)){if(zi(u))return ts({step:e.step});jr(r.stepDropped(t))}}const{rangeMin:a,rangeMax:o}=e,s=function(n,t){const{size:e,config:i,mark:u,encoding:a}=t,o=t.getSignalName.bind(t),{type:s}=Mu(a[n]),c=t.getScaleComponent(n).get("type"),{domain:f,domainMid:h}=t.specifiedScales[n];switch(n){case On:case An:{if(k(["point","band"],c))if(n!==On||e.width){if(n===An&&!e.height){const n=ao(i.view,"height");if(to(n))return n}}else{const n=ao(i.view,"width");if(to(n))return n}const r=dd(n),l=t.getName(r);return n===An&&Pi(c)?[Kh.fromName(o,l),0]:[0,Kh.fromName(o,l)]}case zn:{const a=t.component.scales[n].get("zero"),o=function n(t,e,i){if(e)return Ur(e)?{signal:`${e.signal} ? 0 : ${n(t,!1,i)}`}:0;switch(t){case"bar":case"tick":return i.scale.minBandSize;case"line":case"trail":case"rule":return i.scale.minStrokeWidth;case"text":return i.scale.minFontSize;case"point":case"square":case"circle":return i.scale.minSize}throw new Error(r.incompatibleChannel("size",t))}(u,a,i),s=function(n,t,e,i){const u={x:pd(e,"x"),y:pd(e,"y")};switch(n){case"bar":case"tick":{if(void 0!==i.scale.maxBandSize)return i.scale.maxBandSize;const n=vd(t,u,i.view);return Object(l.G)(n)?n-1:new Kh(()=>n.signal+" - 1")}case"line":case"trail":case"rule":return i.scale.maxStrokeWidth;case"text":return i.scale.maxFontSize;case"point":case"square":case"circle":{if(i.scale.maxSize)return i.scale.maxSize;const n=vd(t,u,i.view);return Object(l.G)(n)?Math.pow(.95*n,2):new Kh(()=>`pow(0.95 * ${n.signal}, 2)`)}}throw new Error(r.incompatibleChannel("size",n))}(u,e,t,i);return Ri(c)?function(n,t,e){const r=()=>{const r=Xu(t),i=Xu(n),l=`(${r} - ${i}) / (${e} - 1)`;return`sequence(${i}, ${r} + ${l}, ${l})`};return Ur(t)?new Kh(r):{signal:r()}}(o,s,function(n,t,e,i){switch(n){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==e&&Object(l.B)(e)?e.length+1:(jr(r.domainRequiredForThresholdScale(i)),3)}}(c,i,f,n)):[o,s]}case Dn:return[0,2*Math.PI];case"angle":return[0,360];case Cn:return[0,new Kh(()=>`min(${t.getSignalName("width")},${t.getSignalName("height")})/2`)];case"strokeWidth":return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case"strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Bn:return"symbol";case Fn:case Tn:case Nn:return"ordinal"===c?"nominal"===s?"category":"ordinal":void 0!==h?"diverging":"rect"===u||"geoshape"===u?"heatmap":"ramp";case"opacity":case"fillOpacity":case"strokeOpacity":return[i.scale.minOpacity,i.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+n)}(n,t);return(void 0!==a||void 0!==o)&&Xi(u,"rangeMin")&&Object(l.B)(s)&&2===s.length?ts([null!=a?a:s[0],null!=o?o:s[1]]):es(s)}function md(n){return function(n){return!Object(l.J)(n)&&!!n.name}(n)?Object.assign({scheme:n.name},y(n,["name"])):{scheme:n}}function vd(n,t,e){const r=to(n.width)?n.width.step:uo(e,"width"),i=to(n.height)?n.height.step:uo(e,"height");return t.x||t.y?new Kh(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function wd(n,t){Ed(n)?function(n,t){const e=n.component.scales,{config:i,encoding:l,markDef:u,specifiedScales:a}=n;for(const o of B(e)){const s=a[o],c=e[o],f=n.getScaleComponent(o),h=Mu(l[o]),d=s[t],p=f.get("type"),g=f.get("padding"),m=f.get("paddingInner"),v=Xi(p,t),w=Ki(o,t);if(void 0!==d&&(v?w&&jr(w):jr(r.scalePropertyNotWorkWithScaleType(p,t,o))),v&&void 0===w)if(void 0!==d){const n=h.timeUnit,e=h.type;switch(t){case"domainMax":case"domainMin":Or(s[t])||"temporal"===e||n?c.set(t,{signal:$u(s[t],{type:e,timeUnit:n})},!0):c.set(t,s[t],!0);break;default:c.copyKeyFromObject(t,s)}}else{const e=t in yd?yd[t]({model:n,channel:o,fieldOrDatumDef:h,scaleType:p,scalePadding:g,scalePaddingInner:m,domain:s.domain,markDef:u,config:i}):i.scale[t];void 0!==e&&c.set(t,e,!1)}}}(n,t):xd(n,t)}const yd={bins:({model:n,fieldOrDatumDef:t})=>au(t)?function(n,t){const e=t.bin;if(Yt(e)){const r=fh(n,t.field,e);return new Kh(()=>n.getSignalName(r))}if(Vt(e)&&Jt(e)&&void 0!==e.step)return{step:e.step};return}(n,t):void 0,interpolate:({channel:n,fieldOrDatumDef:t})=>function(n,t){if(k([Fn,Tn,Nn],n)&&"nominal"!==t)return"hcl";return}(n,t.type),nice:({scaleType:n,channel:t,fieldOrDatumDef:e})=>function(n,t,e){var r;if((null===(r=Du(e))||void 0===r?void 0:r.bin)||k([wi,yi],n))return;return t in _t||void 0}(n,t,e),padding:({channel:n,scaleType:t,fieldOrDatumDef:e,markDef:r,config:i})=>function(n,t,e,r,i,l){if(n in _t){if($i(t)){if(void 0!==e.continuousPadding)return e.continuousPadding;const{type:t,orient:u}=i;if("bar"===t&&(!au(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===n||"horizontal"===u&&"y"===n))return l.continuousBandSize}if(t===ki)return e.pointPadding}return}(n,t,i.scale,e,r,i.bar),paddingInner:({scalePadding:n,channel:t,markDef:e,config:r})=>function(n,t,e,r){if(void 0!==n)return;if(t in _t){const{bandPaddingInner:n,barBandPaddingInner:t,rectBandPaddingInner:i}=r;return X(n,"bar"===e?t:i)}return}(n,t,e.type,r.scale),paddingOuter:({scalePadding:n,channel:t,scaleType:e,markDef:r,scalePaddingInner:i,config:l})=>function(n,t,e,r,i,l){if(void 0!==n)return;if(t in _t&&e===ji){const{bandPaddingOuter:n}=l;return X(n,Ur(i)?{signal:i.signal+"/2"}:i/2)}return}(n,t,e,r.type,i,l.scale),reverse:({fieldOrDatumDef:n,scaleType:t,channel:e,config:r})=>function(n,t,e,r){if("x"===e&&void 0!==r.xReverse)return Pi(n)&&"descending"===t?Ur(r.xReverse)?{signal:"!"+r.xReverse.signal}:!r.xReverse:r.xReverse;if(Pi(n)&&"descending"===t)return!0;return}(t,au(n)?n.sort:void 0,e,r.scale),zero:({channel:n,fieldOrDatumDef:t,domain:e,markDef:r,scaleType:i})=>function(n,t,e,r,i){if(e&&"unaggregated"!==e&&Pi(i)){if(Object(l.B)(e)){const n=e[0],t=e[e.length-1];if(n<=0&&t>=0)return!0}return!1}if("size"===n&&"quantitative"===t.type&&!Ri(i))return!0;if((!au(t)||!t.bin)&&k([...kt,...At],n)){const{orient:t,type:e}=r;return!k(["bar","area","line","trail"],e)||!("horizontal"===t&&"y"===n||"vertical"===t&&"x"===n)}return!1}(n,t,e,r,i)};function bd(n){Ed(n)?function(n){const t=n.component.scales;for(const e of Rt){const r=t[e];if(!r)continue;const i=gd(e,n);r.setWithExplicit("range",i)}}(n):xd(n,"range")}function xd(n,t){const e=n.component.scales;for(const e of n.children)"range"===t?bd(e):wd(e,t);for(const r of B(e)){let i;for(const e of n.children){const n=e.component.scales[r];if(n){i=ls(i,n.getWithExplicit(t),t,"scale",rs((n,e)=>{switch(t){case"range":return n.step&&e.step?n.step-e.step:0}return 0}))}}e[r].setWithExplicit(t,i)}}function _d(n,t,e,i){const l=function(n,t,e){var i;switch(t.type){case"nominal":case"ordinal":if(Un(n)||"discrete"===Wt(n))return"shape"===n&&"ordinal"===t.type&&jr(r.discreteChannelCannotEncode(n,"ordinal")),"ordinal";if(n in _t){if(k(["rect","bar","image","rule"],e))return"band"}else if("arc"===e&&n in Ot)return"band";return void 0!==t.band||mu(t)&&(null===(i=t.axis)||void 0===i?void 0:i.tickBand)?"band":"point";case"temporal":return Un(n)?"time":"discrete"===Wt(n)?(jr(r.discreteChannelCannotEncode(n,"temporal")),"ordinal"):au(t)&&t.timeUnit&&Lr(t.timeUnit).utc?"utc":"time";case"quantitative":return Un(n)?au(t)&&Yt(t.bin)?"bin-ordinal":"linear":"discrete"===Wt(n)?(jr(r.discreteChannelCannotEncode(n,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(r.invalidFieldType(t.type))}(t,e,i),{type:u}=n;return It(t)?void 0!==u?function(n,t){if(!It(n))return!1;switch(n){case On:case An:case Dn:case Cn:return $i(t)||k(["band","point"],t);case zn:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"angle":return $i(t)||Ri(t)||k(["band","point","ordinal"],t);case Fn:case Tn:case Nn:return"band"!==t;case"strokeDash":return"ordinal"===t||Ri(t);case Bn:return"ordinal"===t}}(t,u)?au(e)&&(a=u,o=e.type,!(k([oi,ci],o)?void 0===a||zi(a):o===si?k([wi,yi,void 0],a):o!==ai||k([pi,gi,mi,vi,bi,xi,_i,di,void 0],a)))?(jr(r.scaleTypeNotWorkWithFieldDef(u,l)),l):u:(jr(r.scaleTypeNotWorkWithChannel(t,u,l)),l):l:null;var a,o}function kd(n){Ed(n)?n.component.scales=function(n){const{encoding:t,mark:e}=n;return Rt.reduce((r,i)=>{const l=Mu(t[i]);if(l&&e===pl&&i===Bn&&l.type===fi)return r;let u=l&&l.scale;if(l&&null!==u&&!1!==u){u=null!=u?u:{};const t=_d(u,i,l,e);r[i]=new fd(n.scaleName(i+"",!0),{value:t,explicit:u.type===t})}return r},{})}(n):n.component.scales=function(n){var t;const e=n.component.scales={},r={},i=n.component.resolve;for(const e of n.children){kd(e);for(const l of B(e.component.scales))if(i.scale[l]=null!==(t=i.scale[l])&&void 0!==t?t:Pf(l,n),"shared"===i.scale[l]){const n=r[l],t=e.component.scales[l].getWithExplicit("type");n?Ai(n.value,t.value)?r[l]=ls(n,t,"type","scale",jd):(i.scale[l]="independent",delete r[l]):r[l]=t}}for(const t of B(r)){const i=n.scaleName(t,!0),l=r[t];e[t]=new fd(i,l);for(const e of n.children){const n=e.component.scales[t];n&&(e.renameScale(n.get("name"),i),n.merged=!0)}}return e}(n)}const jd=rs((n,t)=>Si(n)-Si(t));var Od=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class Ad{constructor(){this.nameMap={}}rename(n,t){this.nameMap[n]=t}has(n){return void 0!==this.nameMap[n]}get(n){for(;this.nameMap[n]&&n!==this.nameMap[n];)n=this.nameMap[n];return n}}function Ed(n){return"unit"===(null==n?void 0:n.type)}function Sd(n){return"facet"===(null==n?void 0:n.type)}function Cd(n){return"concat"===(null==n?void 0:n.type)}function Dd(n){return"layer"===(null==n?void 0:n.type)}class Md{constructor(n,t,e,r,i,u,a){var o,s;this.type=t,this.parent=e,this.config=i,this.children=[],this.correctDataNames=n=>(n.from&&n.from.data&&(n.from.data=this.lookupDataSource(n.from.data)),n.from&&n.from.facet&&n.from.facet.data&&(n.from.facet.data=this.lookupDataSource(n.from.facet.data)),n),this.parent=e,this.config=i,this.view=Qi(a),this.name=null!==(o=n.name)&&void 0!==o?o:r,this.title=qu(n.title)?{text:n.title}:n.title?this.initTitle(n.title):void 0,this.scaleNameMap=e?e.scaleNameMap:new Ad,this.projectionNameMap=e?e.projectionNameMap:new Ad,this.signalNameMap=e?e.signalNameMap:new Ad,this.data=n.data,this.description=n.description,this.transforms=(null!==(s=n.transform)&&void 0!==s?s:[]).map(n=>gs(n)?{filter:g(n.filter,li)}:n),this.layout="layer"===t||"unit"===t?{}:function(n,t,e){var r,i;const u=e[t],a={},{spacing:o,columns:s}=u;void 0!==o&&(a.spacing=o),void 0!==s&&(Zl(n)&&!Xl(n.facet)||Za(n))&&(a.columns=s),Qa(n)&&(a.columns=1);for(const t of ro)if(void 0!==n[t])if("spacing"===t){const e=n[t];a[t]=Object(l.G)(e)?e:{row:null!==(r=e.row)&&void 0!==r?r:o,column:null!==(i=e.column)&&void 0!==i?i:o}}else a[t]=n[t];return a}(n,t,i),this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:Zl(n)||e&&e.component.data.isFaceted&&void 0===n.data},layoutSize:new ns,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},u?v(u):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(n){const t=B(n),e={text:Gu(n.text)};for(const r of t)e[r]=Gu(n[r]);return e}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(n,{ignoreRange:t}={}){kd(n),Qh(n);for(const t of Ji)wd(n,t);t||bd(n)}(this)}parseProjection(){oh(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Kf(this)}assembleGroupStyle(){var n,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(n=this.view)||void 0===n?void 0:n.style)&&void 0!==t?t:"cell"}assembleEncodeFromView(n){const{style:t}=n,e=Od(n,["style"]),r={};for(const n of B(e)){const t=e[n];void 0!==t&&(r[n]=Vu(t))}return r}assembleGroupEncodeEntry(n){let t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),n||(this.description&&(t.description=Vu(this.description)),"unit"!==this.type&&"layer"!==this.type)?N(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=t?t:{})}assembleLayout(){if(!this.layout)return;const n=this.layout,{spacing:t}=n,e=Od(n,["spacing"]),{component:r,config:i}=this,l=function(n,t){const e={};for(const r of Hn){const i=n[r];if(null==i?void 0:i.facetFieldDef){const{titleAnchor:n,titleOrient:l}=wf(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),u=mf(r,l),a=Cf(n,u);void 0!==a&&(e[u]=a)}}return N(e)?void 0:e}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),e),l?{titleBand:l}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:n}=this.component;let t=[];for(const e of Hn)n[e].title&&t.push(xf(this,e));for(const n of yf)t=t.concat(jf(this,n));return t}assembleAxes(){return function(n,t){const{x:e=[],y:r=[]}=n;return[...e.map(n=>ef(n,"grid",t)),...r.map(n=>ef(n,"grid",t)),...e.map(n=>ef(n,"main",t)),...r.map(n=>ef(n,"main",t))].filter(n=>n)}(this.component.axes,this.config)}assembleLegends(){return rh(this)}assembleProjections(){return ih(this)}assembleTitle(){var n,t,e;const r=null!==(n=this.title)&&void 0!==n?n:{},{encoding:i}=r,l=Od(r,["encoding"]),u=Object.assign(Object.assign(Object.assign({},Uu(this.config.title).nonMark),l),i?{encode:{update:i}}:{});if(u.text)return k(["unit","layer"],this.type)?k(["middle",void 0],u.anchor)&&(u.frame=null!==(t=u.frame)&&void 0!==t?t:"group"):u.anchor=null!==(e=u.anchor)&&void 0!==e?e:"start",N(u)?void 0:u}assembleGroup(n=[]){const t={};(n=n.concat(this.assembleSignals())).length>0&&(t.signals=n);const e=this.assembleLayout();e&&(t.layout=e),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||Sd(this.parent)?function n(t){return Dd(t)||Cd(t)?t.children.reduce((t,e)=>t.concat(n(e)),cd(t)):cd(t)}(this):[];r.length>0&&(t.scales=r);const i=this.assembleAxes();i.length>0&&(t.axes=i);const l=this.assembleLegends();return l.length>0&&(t.legends=l),t}getName(n){return R((this.name?this.name+"_":"")+n)}getDataName(n){return this.getName(ps[n].toLowerCase())}requestDataName(n){const t=this.getDataName(n),e=this.component.data.outputNodeRefCounts;return e[t]=(e[t]||0)+1,t}getSizeSignalRef(n){if(Sd(this.parent)){const t=Et(Bf(n)),e=this.component.scales[t];if(e&&!e.merged){const n=e.get("type"),i=e.get("range");if(zi(n)&&qr(i)){const n=e.get("name"),i=ad(od(this,t));if(i){return{signal:Nf(n,e,bu({aggregate:"distinct",field:i},{expr:"datum"}))}}return jr(r.unknownField(t)),null}}}return{signal:this.signalNameMap.get(this.getName(n))}}lookupDataSource(n){const t=this.component.data.outputNodes[n];return t?t.getSource():n}getSignalName(n){return this.signalNameMap.get(n)}renameSignal(n,t){this.signalNameMap.rename(n,t)}renameScale(n,t){this.scaleNameMap.rename(n,t)}renameProjection(n,t){this.projectionNameMap.rename(n,t)}scaleName(n,t){return t?this.getName(n):tt(n)&&It(n)&&this.component.scales[n]||this.scaleNameMap.has(this.getName(n))?this.scaleNameMap.get(this.getName(n)):void 0}projectionName(n){return n?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(n){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[n];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(n):void 0}getSelectionComponent(n,t){let e=this.component.selection[n];if(!e&&this.parent&&(e=this.parent.getSelectionComponent(n,t)),!e)throw new Error(r.selectionNotFound(t));return e}hasAxisOrientSignalRef(){var n,t;return(null===(n=this.component.axes.x)||void 0===n?void 0:n.some(n=>n.hasOrientSignalRef()))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some(n=>n.hasOrientSignalRef()))}}class Fd extends Md{vgField(n,t={}){const e=this.fieldDef(n);if(e)return bu(e,t)}reduceFieldDef(n,t){return function(n,t,e,r){return n?B(n).reduce((e,i)=>{const u=n[i];return Object(l.B)(u)?u.reduce((n,e)=>t.call(r,n,e,i),e):t.call(r,e,u,i)},e):e}(this.getMapping(),(t,e,r)=>{const i=Du(e);return i?n(t,i,r):t},t)}forEachFieldDef(n,t){pa(this.getMapping(),(t,e)=>{const r=Du(t);r&&n(r,e)},t)}}var Td=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class Nd extends oc{constructor(n,t){var e,r,i;super(n),this.transform=t,this.transform=v(t);const l=null!==(e=this.transform.as)&&void 0!==e?e:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:"value",null!==(i=l[1])&&void 0!==i?i:"density"]}clone(){return new Nd(null,v(this.transform))}dependentFields(){var n;return new Set([this.transform.density,...null!==(n=this.transform.groupby)&&void 0!==n?n:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform "+x(this.transform)}assemble(){const n=this.transform,{density:t}=n,e=Td(n,["density"]);return Object.assign({type:"kde",field:t},e)}}class Bd extends oc{constructor(n,t){super(n),this.filter=t}clone(){return new Bd(null,Object.assign({},this.filter))}static make(n,t){const{config:e,mark:r,markDef:i}=t;if("filter"!==Zu("invalid",i,e))return null;const l=t.reduceFieldDef((n,e,i)=>{const l=It(i)&&t.getScaleComponent(i);if(l){Pi(l.get("type"))&&"count"!==e.aggregate&&!gl(r)&&(n[e.field]=e)}return n},{});return B(l).length?new Bd(n,l):null}dependentFields(){return new Set(B(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid "+x(this.filter)}assemble(){const n=B(this.filter).reduce((n,t)=>{const e=this.filter[t],r=bu(e,{expr:"datum"});return null!==e&&("temporal"===e.type?n.push(`(isDate(${r}) || (isValid(${r}) && isFinite(+${r})))`):"quantitative"===e.type&&(n.push(`isValid(${r})`),n.push(`isFinite(+${r})`))),n},[]);return n.length>0?{type:"filter",expr:n.join(" && ")}:null}}class zd extends oc{constructor(n,t){super(n),this.transform=t,this.transform=v(t);const{flatten:e,as:r=[]}=this.transform;this.transform.as=e.map((n,t)=>{var e;return null!==(e=r[t])&&void 0!==e?e:n})}clone(){return new zd(this.parent,v(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform "+x(this.transform)}assemble(){const{flatten:n,as:t}=this.transform;return{type:"flatten",fields:n,as:t}}}class Pd extends oc{constructor(n,t){var e,r,i;super(n),this.transform=t,this.transform=v(t);const l=null!==(e=this.transform.as)&&void 0!==e?e:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:"key",null!==(i=l[1])&&void 0!==i?i:"value"]}clone(){return new Pd(null,v(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform "+x(this.transform)}assemble(){const{fold:n,as:t}=this.transform;return{type:"fold",fields:n,as:t}}}class $d extends oc{constructor(n,t,e,r){super(n),this.fields=t,this.geojson=e,this.signal=r}clone(){return new $d(null,v(this.fields),this.geojson,this.signal)}static parseAll(n,t){if(t.component.projection&&!t.component.projection.isFit)return n;let e=0;for(const r of[["longitude","latitude"],["longitude2","latitude2"]]){const i=r.map(n=>{const e=Mu(t.encoding[n]);return au(e)?e.field:su(e)?{expr:""+e.datum}:pu(e)?{expr:""+e.value}:void 0});(i[0]||i[1])&&(n=new $d(n,i,null,t.getName("geojson_"+e++)))}if(t.channelHasField(Bn)){const r=t.typedFieldDef(Bn);r.type===fi&&(n=new $d(n,null,r.field,t.getName("geojson_"+e++)))}return n}dependentFields(){var n;const t=(null!==(n=this.fields)&&void 0!==n?n:[]).filter(l.J);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${x(this.fields)}`}assemble(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}class Rd extends oc{constructor(n,t,e,r){super(n),this.projection=t,this.fields=e,this.as=r}clone(){return new Rd(null,this.projection,v(this.fields),v(this.as))}static parseAll(n,t){if(!t.projectionName())return n;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const r=e.map(n=>{const e=Mu(t.encoding[n]);return au(e)?e.field:su(e)?{expr:""+e.datum}:pu(e)?{expr:""+e.value}:void 0}),i="longitude2"===e[0]?"2":"";(r[0]||r[1])&&(n=new Rd(n,t.projectionName(),r,[t.getName("x"+i),t.getName("y"+i)]))}return n}dependentFields(){return new Set(this.fields.filter(l.J))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${x(this.fields)} ${x(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Id extends oc{constructor(n,t){super(n),this.transform=t}clone(){return new Id(null,v(this.transform))}dependentFields(){var n;return new Set([this.transform.impute,this.transform.key,...null!==(n=this.transform.groupby)&&void 0!==n?n:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(n){const{start:t=0,stop:e,step:r}=n;return{signal:`sequence(${[t,e,...r?[r]:[]].join(",")})`}}static makeFromTransform(n,t){return new Id(n,t)}static makeFromEncoding(n,t){const e=t.encoding,r=e.x,i=e.y;if(au(r)&&au(i)){const l=r.impute?r:i.impute?i:void 0;if(void 0===l)return;const u=r.impute?i:i.impute?r:void 0,{method:a,value:o,frame:s,keyvals:c}=l.impute,f=ga(t.mark,e);return new Id(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:l.field,key:u.field},a?{method:a}:{}),void 0!==o?{value:o}:{}),s?{frame:s}:{}),void 0!==c?{keyvals:c}:{}),f.length?{groupby:f}:{}))}return null}hash(){return"Impute "+x(this.transform)}assemble(){const{impute:n,key:t,keyvals:e,method:r,groupby:i,value:l,frame:u=[null,null]}=this.transform,a=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:t},e?{keyvals:(o=e,void 0!==(null==o?void 0:o.stop)?this.processSequence(e):e)}:{}),{method:"value"}),i?{groupby:i}:{}),{value:r&&"value"!==r?null:l});var o;if(r&&"value"!==r){return[a,Object.assign({type:"window",as:[`imputed_${n}_value`],ops:[r],fields:[n],frame:u,ignorePeers:!1},i?{groupby:i}:{}),{type:"formula",expr:`datum.${n} === null ? datum.imputed_${n}_value : datum.${n}`,as:n}]}return[a]}}var Ld=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class Ud extends oc{constructor(n,t){var e,r,i;super(n),this.transform=t,this.transform=v(t);const l=null!==(e=this.transform.as)&&void 0!==e?e:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:t.on,null!==(i=l[1])&&void 0!==i?i:t.loess]}clone(){return new Ud(null,v(this.transform))}dependentFields(){var n;return new Set([this.transform.loess,this.transform.on,...null!==(n=this.transform.groupby)&&void 0!==n?n:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform "+x(this.transform)}assemble(){const n=this.transform,{loess:t,on:e}=n,r=Ld(n,["loess","on"]);return Object.assign({type:"loess",x:e,y:t},r)}}class qd extends oc{constructor(n,t,e){super(n),this.transform=t,this.secondary=e}clone(){return new qd(null,v(this.transform),this.secondary)}static make(n,t,e,i){const l=t.component.data.sources,{from:u}=e;let a=null;if(function(n){return"data"in n}(u)){let n=ap(u.data,l);n||(n=new jh(u.data),l.push(n));const e=t.getName("lookup_"+i);a=new sc(n,e,ps.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[e]=a}else if(function(n){return"selection"in n}(u)){const n=u.selection;if(e=Object.assign({as:n},e),a=t.getSelectionComponent(R(n),n).materialized,!a)throw new Error(r.noSameUnitLookup(n))}return new qd(n,e,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Object(l.i)(this.transform.as):this.transform.from.fields)}hash(){return"Lookup "+x({transform:this.transform,secondary:this.secondary})}assemble(){let n;if(this.transform.from.fields)n=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(l.i)(this.transform.as)}:{});else{let t=this.transform.as;Object(l.J)(t)||(jr(r.NO_FIELDS_NEEDS_AS),t="_lookup"),n={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},n),this.transform.default?{default:this.transform.default}:{})}}var Hd=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class Wd extends oc{constructor(n,t){var e,r,i;super(n),this.transform=t,this.transform=v(t);const l=null!==(e=this.transform.as)&&void 0!==e?e:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:"prob",null!==(i=l[1])&&void 0!==i?i:"value"]}clone(){return new Wd(null,v(this.transform))}dependentFields(){var n;return new Set([this.transform.quantile,...null!==(n=this.transform.groupby)&&void 0!==n?n:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform "+x(this.transform)}assemble(){const n=this.transform,{quantile:t}=n,e=Hd(n,["quantile"]);return Object.assign({type:"quantile",field:t},e)}}var Gd=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class Yd extends oc{constructor(n,t){var e,r,i;super(n),this.transform=t,this.transform=v(t);const l=null!==(e=this.transform.as)&&void 0!==e?e:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:t.on,null!==(i=l[1])&&void 0!==i?i:t.regression]}clone(){return new Yd(null,v(this.transform))}dependentFields(){var n;return new Set([this.transform.regression,this.transform.on,...null!==(n=this.transform.groupby)&&void 0!==n?n:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform "+x(this.transform)}assemble(){const n=this.transform,{regression:t,on:e}=n,r=Gd(n,["regression","on"]);return Object.assign({type:"regression",x:e,y:t},r)}}class Vd extends oc{constructor(n,t){super(n),this.transform=t}clone(){return new Vd(null,v(this.transform))}addDimensions(n){var t;this.transform.groupby=S((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(n),n=>n)}producedFields(){}dependentFields(){var n;return new Set([this.transform.pivot,this.transform.value,...null!==(n=this.transform.groupby)&&void 0!==n?n:[]])}hash(){return"PivotTransform "+x(this.transform)}assemble(){const{pivot:n,value:t,groupby:e,limit:r,op:i}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:n,value:t},void 0!==r?{limit:r}:{}),void 0!==i?{op:i}:{}),void 0!==e?{groupby:e}:{})}}class Jd extends oc{constructor(n,t){super(n),this.transform=t}clone(){return new Jd(null,v(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform "+x(this.transform)}assemble(){return{type:"sample",size:this.transform.sample}}}function Xd(n){let t=0;return function e(r,i){var l;if(r instanceof jh&&!r.isGenerator&&!as(r.data)){n.push(i);i={name:null,source:i.name,transform:[]}}if(r instanceof bh&&(r.parent instanceof jh&&!i.source?(i.format=Object.assign(Object.assign({},null!==(l=i.format)&&void 0!==l?l:{}),{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof mh){i.name||(i.name="data_"+t++),!i.source||i.transform.length>0?(n.push(i),r.data=i.name):r.data=i.source;for(const t of r.assemble())n.push(t)}else{if((r instanceof _h||r instanceof kh||r instanceof Bd||r instanceof Jc||r instanceof pf||r instanceof Rd||r instanceof $d||r instanceof gh||r instanceof qd||r instanceof Wh||r instanceof qh||r instanceof Pd||r instanceof zd||r instanceof Nd||r instanceof Ud||r instanceof Wd||r instanceof Yd||r instanceof xh||r instanceof Jd||r instanceof Vd)&&i.transform.push(r.assemble()),(r instanceof dh||r instanceof fc||r instanceof Id||r instanceof Hh)&&i.transform.push(...r.assemble()),r instanceof sc)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof sc)r.setSource(i.name);else if(i.name||(i.name="data_"+t++),r.setSource(i.name),1===r.numChildren()){n.push(i);i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof sc&&(!i.source||i.transform.length>0)&&n.push(i);break;case 1:e(r.children[0],i);break;default:{i.name||(i.name="data_"+t++);let l=i.name;!i.source||i.transform.length>0?n.push(i):l=i.source;for(const n of r.children){e(n,{name:null,source:l,transform:[]})}break}}}}}function Kd(n,t){var e;const{facet:r,config:i,child:u,component:a}=n;if(n.channelHasField(t)){const o=r[t],s=vf("title",null,i,t);let c=Au(o,i,{allowDisabling:!0,includeDefault:void 0===s||!!s});u.component.layoutHeaders[t].title&&(c=Object(l.B)(c)?c.join(", "):c,c+=" / "+u.component.layoutHeaders[t].title,u.component.layoutHeaders[t].title=null);const f=vf("labelOrient",o,i,t),h=X((null!==(e=o.header)&&void 0!==e?e:{}).labels,i.header.labels,!0),d=k(["bottom","right"],f)?"footer":"header";a.layoutHeaders[t]={title:c,facetFieldDef:o,[d]:"facet"===t?[]:[Zd(n,t,h)]}}}function Zd(n,t,e){const r="row"===t?"height":"width";return{labels:e,sizeSignal:n.child.component.layoutSize.get(r)?n.child.getSizeSignalRef(r):void 0,axes:[]}}function Qd(n,t){var e;const{child:r}=n;if(r.component.axes[t]){const{layoutHeaders:l,resolve:u}=n.component;if(u.axis[t]=$f(u,t),"shared"===u.axis[t]){const u="x"===t?"column":"row",a=l[u];for(const l of r.component.axes[t]){const t="top"===(i=l.get("orient"))||"left"===i||Ur(i)?"header":"footer";a[t]=null!==(e=a[t])&&void 0!==e?e:[Zd(n,u,!1)];const r=ef(l,"main",n.config,{header:!0});r&&a[t][0].axes.push(r),l.mainExtracted=!0}}}var i}function np(n){tp(n);const t=1===n.layout.columns?"width":"childWidth",e=void 0===n.layout.columns?"height":"childHeight";ep(n,t),ep(n,e)}function tp(n){for(const t of n.children)t.parseLayoutSize()}function ep(n,t){const e=Bf(t),r=Et(e),i=n.component.resolve,l=n.component.layoutSize;let u;for(const t of n.children){const n=t.component.layoutSize.getWithExplicit(e),l=i.scale[r];if("independent"===l&&"step"===n.value){u=void 0;break}if(u){if("independent"===l&&u.value!==n.value){u=void 0;break}u=ls(u,n,e,"")}else u=n}if(u){for(const r of n.children)n.renameSignal(r.getName(e),n.getName(t)),r.component.layoutSize.set(e,"merged",!1);l.setWithExplicit(t,u)}else l.setWithExplicit(t,{explicit:!1,value:void 0})}function rp(n,t){const e="width"===t?"x":"y",r=n.config,i=n.getScaleComponent(e);if(i){const n=i.get("type"),e=i.get("range");if(zi(n)){const n=ao(r.view,t);return qr(e)||to(n)?"step":n}return lo(r.view,t)}if(n.hasProjection||"arc"===n.mark)return lo(r.view,t);{const n=ao(r.view,t);return to(n)?n.step:n}}var ip=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function lp(n,t,e){return bu(t,Object.assign({suffix:"by_"+bu(n)},null!=e?e:{}))}class up extends Fd{constructor(n,t,e,r){super(n,"facet",t,e,r,n.resolve),this.child=Ep(n.spec,this,this.getName("child"),void 0,r),this.children=[this.child],this.facet=this.initFacet(n.facet)}initFacet(n){if(!Xl(n))return{facet:this.initFacetFieldDef(n,"facet")};const t=B(n),e={};for(const i of t){if(!k([kn,jn],i)){jr(r.incompatibleChannel(i,"facet"));break}const t=n[i];if(void 0===t.field){jr(r.emptyFieldDef(t,i));break}e[i]=this.initFacetFieldDef(t,i)}return e}initFacetFieldDef(n,t){const{header:e}=n,r=Nu(ip(n,["header"]),t);return e&&(r.header=Qi(e)),r}channelHasField(n){return!!this.facet[n]}fieldDef(n){return this.facet[n]}parseData(){this.component.data=op(this),this.child.parseData()}parseLayoutSize(){tp(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(n){for(const t of Hn)Kd(n,t);Qd(n,"x"),Qd(n,"y")}(this)}assembleSelectionTopLevelSignals(n){return this.child.assembleSelectionTopLevelSignals(n)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(n){return this.child.assembleSelectionData(n)}getHeaderLayoutMixins(){var n,t,e;const r={};for(const i of Hn)for(const l of bf){const u=this.component.layoutHeaders[i],a=u[l],{facetFieldDef:o}=u;if(o){const t=vf("titleOrient",o.header,this.config,i);if(k(["right","bottom"],t)){const e=mf(i,t);r.titleAnchor=null!==(n=r.titleAnchor)&&void 0!==n?n:{},r.titleAnchor[e]="end"}}if(null==a?void 0:a[0]){const n="row"===i?"height":"width",a="header"===l?"headerBand":"footerBand";"facet"===i||this.child.component.layoutSize.get(n)||(r[a]=null!==(t=r[a])&&void 0!==t?t:{},r[a][i]=.5),u.title&&(r.offset=null!==(e=r.offset)&&void 0!==e?e:{},r.offset["row"===i?"rowTitle":"columnTitle"]=10)}}return r}assembleDefaultLayout(){const{column:n,row:t}=this.facet,e=n?this.columnDistinctSignal():t?1:void 0;let r="all";return(t||"independent"!==this.component.resolve.scale.x)&&(n||"independent"!==this.component.resolve.scale.y)||(r="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),e?{columns:e}:{}),{bounds:"full",align:r})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof up)){return{signal:`length(data('${this.getName("column_domain")}'))`}}}assembleGroup(n){return this.parent&&this.parent instanceof up?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:bu(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(n)):super.assembleGroup(n)}getCardinalityAggregateForChild(){const n=[],t=[],e=[];if(this.child instanceof up){if(this.child.channelHasField("column")){const r=bu(this.child.facet.column);n.push(r),t.push("distinct"),e.push("distinct_"+r)}}else for(const i of kt){const l=this.child.component.scales[i];if(l&&!l.merged){const u=l.get("type"),a=l.get("range");if(zi(u)&&qr(a)){const l=ad(od(this.child,i));l?(n.push(l),t.push("distinct"),e.push("distinct_"+l)):jr(r.unknownField(i))}}}return{fields:n,ops:t,as:e}}assembleFacet(){const{name:n,data:t}=this.component.data.facetRoot,{row:e,column:r}=this.facet,{fields:i,ops:u,as:a}=this.getCardinalityAggregateForChild(),o=[];for(const n of Hn){const t=this.facet[n];if(t){o.push(bu(t));const{bin:s,sort:c}=t;if(Yt(s)&&o.push(bu(t,{binSuffix:"end"})),Vl(c)){const{field:n,op:l=Hl}=c,o=lp(t,c);e&&r?(i.push(o),u.push("max"),a.push(o)):(i.push(n),u.push(l),a.push(o))}else if(Object(l.B)(c)){const e=gf(t,n);i.push(e),u.push("max"),a.push(e)}}}const s=!!e&&!!r;return Object.assign({name:n,data:t,groupby:o},s||i.length>0?{aggregate:Object.assign(Object.assign({},s?{cross:s}:{}),i.length?{fields:i,ops:u,as:a}:{})}:{})}facetSortFields(n){const{facet:t}=this,e=t[n];return e?Vl(e.sort)?[lp(e,e.sort,{expr:"datum"})]:Object(l.B)(e.sort)?[gf(e,n,{expr:"datum"})]:[bu(e,{expr:"datum"})]:[]}facetSortOrder(n){const{facet:t}=this,e=t[n];if(e){const{sort:n}=e;return[(Vl(n)?n.order:!Object(l.B)(n)&&n)||"ascending"]}return[]}assembleLabelTitle(){var n;const{facet:t,config:e}=this;if(t.facet)return Af(t.facet,"facet",e);const r={row:["top","bottom"],column:["left","right"]};for(const i of yf)if(t[i]){const l=vf("labelOrient",null===(n=t[i])||void 0===n?void 0:n.header,e,i);if(k(r[i],l))return Af(t[i],i,e)}}assembleMarks(){const{child:n}=this,t=function(n){const t=[],e=Xd(t);for(const t of n.children)e(t,{source:n.name,name:null,transform:[]});return t}(this.component.data.facetRoot),e=n.assembleGroupEncodeEntry(!1),r=this.assembleLabelTitle()||n.assembleTitle(),i=n.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},r?{title:r}:{}),i?{style:i}:{}),{from:{facet:this.assembleFacet()},sort:{field:Hn.map(n=>this.facetSortFields(n)).flat(),order:Hn.map(n=>this.facetSortOrder(n)).flat()}}),t.length>0?{data:t}:{}),e?{encode:{update:e}}:{}),n.assembleGroup(function(n,t){if(n.component.selection&&B(n.component.selection).length){const e=Object(l.bb)(n.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Object(Ts.a)("mousemove","scope"),update:`isTuple(facet) ? facet : group(${e}).datum`}]})}return Mc(t)}(this,[])))]}getMapping(){return this.facet}}function ap(n,t){var e,r,i,l;for(const u of t){const t=u.data;if(n.name&&u.hasName()&&n.name!==u.dataName)continue;const a=null===(e=n.format)||void 0===e?void 0:e.mesh,o=null===(r=t.format)||void 0===r?void 0:r.feature;if(a&&o)continue;const s=null===(i=n.format)||void 0===i?void 0:i.feature;if((s||o)&&s!==o)continue;const c=null===(l=t.format)||void 0===l?void 0:l.mesh;if(!a&&!c||a===c)if(os(n)&&os(t)){if(m(n.values,t.values))return u}else if(as(n)&&as(t)){if(n.url===t.url)return u}else if(ss(n)&&n.name===u.dataName)return u}return null}function op(n){var t,e,i,l,u,a,o,s,c,f;let h=function(n,t){if(n.data||!n.parent){if(null===n.data){const n=new jh({values:[]});return t.push(n),n}const e=ap(n.data,t);if(e)return cs(n.data)||(e.data.format=A({},n.data.format,e.data.format)),!e.hasName()&&n.data.name&&(e.dataName=n.data.name),e;{const e=new jh(n.data);return t.push(e),e}}return n.parent.component.data.facetRoot?n.parent.component.data.facetRoot:n.parent.component.data.main}(n,n.component.data.sources);const{outputNodes:d,outputNodeRefCounts:p}=n.component.data,g=n.parent?n.parent.component.data.ancestorParse.clone():new us,m=n.data;cs(m)?(fs(m)?h=new kh(h,m.sequence):ds(m)&&(h=new _h(h,m.graticule)),g.parseNothing=!0):null===(null===(t=null==m?void 0:m.format)||void 0===t?void 0:t.parse)&&(g.parseNothing=!0),h=null!==(e=bh.makeExplicit(h,n,g))&&void 0!==e?e:h,h=new xh(h);const v=n.parent&&Dd(n.parent);(Ed(n)||Sd(n))&&v&&(h=null!==(i=dh.makeFromEncoding(h,n))&&void 0!==i?i:h),n.transforms.length>0&&(h=function(n,t,e){var i,l;let u=0;for(const a of t.transforms){let o,s=void 0;if(As(a))o=n=new pf(n,a),s="derived";else if(gs(a)){const r=wh(a);o=n=null!==(i=bh.makeWithAncestors(n,{},r,e))&&void 0!==i?i:n,n=new Jc(n,t,a.filter)}else if(Es(a))o=n=dh.makeFromTransform(n,a,t),s="number";else if(Cs(a)){s="date";void 0===e.getWithExplicit(a.field).value&&(n=new bh(n,{[a.field]:s}),e.set(a.field,s,!1)),o=n=fc.makeFromTransform(n,a)}else if(Ds(a))o=n=gh.makeFromTransform(n,a),s="number",Gc(t)&&(n=new xh(n));else if(ms(a))o=n=qd.make(n,t,a,u++),s="derived";else if(ks(a))o=n=new Wh(n,a),s="number";else if(js(a))o=n=new qh(n,a),s="number";else if(Ms(a))o=n=Hh.makeFromTransform(n,a),s="derived";else if(Fs(a))o=n=new Pd(n,a),s="derived";else if(Os(a))o=n=new zd(n,a),s="derived";else if(vs(a))o=n=new Vd(n,a),s="derived";else if(_s(a))n=new Jd(n,a);else if(Ss(a))o=n=Id.makeFromTransform(n,a),s="derived";else if(ws(a))o=n=new Nd(n,a),s="derived";else if(ys(a))o=n=new Wd(n,a),s="derived";else if(bs(a))o=n=new Yd(n,a),s="derived";else{if(!xs(a)){jr(r.invalidTransformIgnored(a));continue}o=n=new Ud(n,a),s="derived"}if(o&&void 0!==s)for(const n of null!==(l=o.producedFields())&&void 0!==l?l:[])e.set(n,s,!1)}return n}(h,n,g));const w=function(n){const t={};if(Ed(n)&&n.component.selection)for(const e of B(n.component.selection)){const r=n.component.selection[e];for(const n of r.project.items)!n.channel&&J(n.field)>1&&(t[n.field]="flatten")}return t}(n),y=yh(n);h=null!==(l=bh.makeWithAncestors(h,{},Object.assign(Object.assign({},w),y),g))&&void 0!==l?l:h,Ed(n)&&(h=$d.parseAll(h,n),h=Rd.parseAll(h,n)),(Ed(n)||Sd(n))&&(v||(h=null!==(u=dh.makeFromEncoding(h,n))&&void 0!==u?u:h),h=null!==(a=fc.makeFromEncoding(h,n))&&void 0!==a?a:h,h=pf.parseAllForSortIndex(h,n));const b=n.getDataName(ps.Raw),x=new sc(h,b,ps.Raw,p);if(d[b]=x,h=x,Ed(n)){const t=gh.makeFromEncoding(h,n);t&&(h=t,Gc(n)&&(h=new xh(h))),h=null!==(o=Id.makeFromEncoding(h,n))&&void 0!==o?o:h,h=null!==(s=Hh.makeFromEncoding(h,n))&&void 0!==s?s:h}Ed(n)&&(h=null!==(c=Bd.make(h,n))&&void 0!==c?c:h);const _=n.getDataName(ps.Main),k=new sc(h,_,ps.Main,p);d[_]=k,h=k,Ed(n)&&function(n,t){Hc(n,e=>{const r=e.name,i=n.getName("lookup_"+r);n.component.data.outputNodes[i]=e.materialized=new sc(new Jc(t,n,{selection:r}),i,ps.Lookup,n.component.data.outputNodeRefCounts)})}(n,k);let j=null;if(Sd(n)){const t=n.getName("facet");h=null!==(f=function(n,t){const{row:e,column:r}=t;if(e&&r){let t=null;for(const i of[e,r])if(Vl(i.sort)){const{field:e,op:r=Hl}=i.sort;n=t=new qh(n,{joinaggregate:[{op:r,field:e,as:lp(i,i.sort,{forAs:!0})}],groupby:[bu(i)]})}return t}return null}(h,n.facet))&&void 0!==f?f:h,j=new mh(h,n,t,k.getSource()),d[t]=j}return Object.assign(Object.assign({},n.component.data),{outputNodes:d,outputNodeRefCounts:p,raw:x,main:k,facetRoot:j,ancestorParse:g})}class sp extends Md{constructor(n,t,e,i){var l,u,a,o;super(n,"concat",t,e,i,n.resolve),"shared"!==(null===(u=null===(l=n.resolve)||void 0===l?void 0:l.axis)||void 0===u?void 0:u.x)&&"shared"!==(null===(o=null===(a=n.resolve)||void 0===a?void 0:a.axis)||void 0===o?void 0:o.y)||jr(r.CONCAT_CANNOT_SHARE_AXIS),this.children=this.getChildren(n).map((n,t)=>Ep(n,this,this.getName("concat_"+t),void 0,i))}parseData(){this.component.data=op(this);for(const n of this.children)n.parseData()}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const t of B(n.component.selection))this.component.selection[t]=n.component.selection[t]}}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){for(const n of this.children)n.parseAxesAndHeaders()}getChildren(n){return Qa(n)?n.vconcat:no(n)?n.hconcat:n.concat}parseLayoutSize(){np(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(n){return this.children.reduce((n,t)=>t.assembleSelectionTopLevelSignals(n),n)}assembleSignals(){return this.children.forEach(n=>n.assembleSignals()),[]}assembleLayoutSignals(){const n=Mf(this);for(const t of this.children)n.push(...t.assembleLayoutSignals());return n}assembleSelectionData(n){return this.children.reduce((n,t)=>t.assembleSelectionData(n),n)}assembleMarks(){return this.children.map(n=>{const t=n.assembleTitle(),e=n.assembleGroupStyle(),r=n.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:n.getName("group")},t?{title:t}:{}),e?{style:e}:{}),r?{encode:{update:r}}:{}),n.assembleGroup())})}assembleDefaultLayout(){const n=this.layout.columns;return Object.assign(Object.assign({},null!=n?{columns:n}:{}),{bounds:"full",align:"each"})}}const cp=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},sn),{labelExpr:1,encode:1}),fp=B(cp);class hp extends ns{constructor(n={},t={},e=!1){super(),this.explicit=n,this.implicit=t,this.mainExtracted=e}clone(){return new hp(v(this.explicit),v(this.implicit),this.mainExtracted)}hasAxisPart(n){return"axis"===n||("grid"===n||"title"===n?!!this.get(n):!(!1===(t=this.get(n))||null===t));var t}hasOrientSignalRef(){return Ur(this.explicit.orient)}}const dp={bottom:"top",top:"bottom",left:"right",right:"left"};function pp(n,t){if(!n)return t.map(n=>n.clone());{if(n.length!==t.length)return;const e=n.length;for(let r=0;r<e;r++){const e=n[r],i=t[r];if(!!e!=!!i)return;if(e&&i){const t=e.getWithExplicit("orient"),l=i.getWithExplicit("orient");if(t.explicit&&l.explicit&&t.value!==l.value)return;n[r]=gp(e,i)}}}return n}function gp(n,t){for(const e of fp){const r=ls(n.getWithExplicit(e),t.getWithExplicit(e),e,"axis",(n,t)=>{switch(e){case"title":return la(n,t);case"gridScale":return{explicit:n.explicit,value:X(n.value,t.value)}}return is(n,t,e,"axis")});n.setWithExplicit(e,r)}return n}function mp(n,t,e,r,i){if("disable"===t)return void 0!==e;switch(e=e||{},t){case"titleAngle":case"labelAngle":return n===(Ur(e.labelAngle)?e.labelAngle:en(e.labelAngle));case"values":return!!e.values;case"encode":return!!e.encoding||!!e.labelAngle;case"title":if(n===df(r,i))return!0}return n===e[t]}const vp=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function wp(n,t){var e,r,i;let l=t.axis(n);const u=new hp,a=Mu(t.encoding[n]),{mark:o,config:s}=t,c=(null==l?void 0:l.orient)||(null===(e=s["x"===n?"axisX":"axisY"])||void 0===e?void 0:e.orient)||(null===(r=s.axis)||void 0===r?void 0:r.orient)||function(n){return"x"===n?"bottom":"left"}(n),f=t.getScaleComponent(n).get("type"),h=uf(n,f,c,t.config),d=void 0!==l?!l:of("disable",s.style,null==l?void 0:l.style,h).configValue;if(u.set("disable",d,void 0!==l),d)return u;l=l||{};const p=function(n,t,e,r,i){const l=null==t?void 0:t.labelAngle;if(void 0!==l)return Ur(l)?l:en(l);{const{configValue:l}=of("labelAngle",r,null==t?void 0:t.style,i);return void 0!==l?en(l):e!==On||!k([ci,oi],n.type)||au(n)&&n.timeUnit?void 0:270}}(a,l,n,s.style,h),g={fieldOrDatumDef:a,axis:l,channel:n,model:t,scaleType:f,orient:c,labelAngle:p,mark:o,config:s};for(const e of fp){const r=e in sf?sf[e](g):fn(e)?l[e]:void 0,i=void 0!==r,a=mp(r,e,l,t,n);if(i&&a)u.set(e,r,a);else{const{configValue:n,configFrom:t}=fn(e)&&"values"!==e?of(e,s.style,l.style,h):{},o=void 0!==n;i&&!o?u.set(e,r,a):("vgAxisConfig"!==t||vp.has(e)&&o||un(n)||Ur(n))&&u.set(e,n,!1)}}const m=null!==(i=l.encoding)&&void 0!==i?i:{},v=an.reduce((e,r)=>{var i;if(!u.hasAxisPart(r))return e;const l=zf(null!==(i=m[r])&&void 0!==i?i:{},t),a="labels"===r?function(n,t,e){var r;const{encoding:i,config:l}=n,u=null!==(r=Mu(i[t]))&&void 0!==r?r:Mu(i[ut(t)]),a=n.axis(t)||{},{format:o,formatType:s}=a;return Tl(s)?Object.assign({text:Pl({fieldOrDatumDef:u,field:"datum.value",format:o,formatType:s,config:l})},e):e}(t,n,l):l;return void 0===a||N(a)||(e[r]={update:a}),e},{});return N(v)||u.set("encode",v,!!l.encoding||void 0!==l.labelAngle),u}function yp(n,t,e){const i=Qi(n),l=Zu("orient",i,e);if(i.orient=function(n,t,e){switch(n){case ul:case hl:case dl:case sl:case al:case il:return}const{x:r,y:i,x2:l,y2:u}=t;switch(n){case rl:if(au(r)&&(Vt(r.bin)||au(i)&&i.aggregate&&!r.aggregate))return"vertical";if(au(i)&&(Vt(i.bin)||au(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(u||l){if(e)return e;if(!l&&(au(r)&&r.type===ai&&!Yt(r.bin)||fu(r)))return"horizontal";if(!u&&(au(i)&&i.type===ai&&!Yt(i.bin)||fu(i)))return"vertical"}case ol:if(l&&(!au(r)||!Vt(r.bin))&&u&&(!au(i)||!Vt(i.bin)))return;case el:if(u)return au(i)&&Vt(i.bin)?"horizontal":"vertical";if(l)return au(r)&&Vt(r.bin)?"vertical":"horizontal";if(n===ol){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case ll:case cl:{const t=cu(r),l=cu(i);if(t&&!l)return"tick"!==n?"horizontal":"vertical";if(!t&&l)return"tick"!==n?"vertical":"horizontal";if(t&&l){const t=r,l=i,u=t.type===si,a=l.type===si;return u&&!a?"tick"!==n?"vertical":"horizontal":!u&&a?"tick"!==n?"horizontal":"vertical":!t.aggregate&&l.aggregate?"tick"!==n?"vertical":"horizontal":t.aggregate&&!l.aggregate?"tick"!==n?"horizontal":"vertical":e||"vertical"}return e||void 0}}return"vertical"}(i.type,t,l),void 0!==l&&l!==i.orient&&jr(r.orientOverridden(i.orient,l)),"bar"===i.type&&i.orient){const n=Zu("cornerRadiusEnd",i,e);if(void 0!==n){const e="horizontal"===i.orient&&t.x2||"vertical"===i.orient&&t.y2?["cornerRadius"]:_l[i.orient];for(const t of e)i[t]=n;void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}void 0===Zu("opacity",i,e)&&(i.opacity=function(n,t){if(k([ul,cl,hl,dl],n)&&!ca(t))return.7;return}(i.type,t));return void 0===Zu("cursor",i,e)&&(i.cursor=function(n,t,e){if(t.href||n.href||Zu("href",n,e))return"pointer";return n.cursor}(i,t,e)),i}function bp(n,t){const{config:e}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Hs("x",n,{defaultPos:"mid"})),Hs("y",n,{defaultPos:"mid"})),Ls("size",n)),Ls("angle",n)),function(n,t,e){if(e)return{shape:{value:e}};return Ls("shape",n)}(n,0,t))}function xp(n){var t;const{config:e,markDef:r}=n,{orient:i}=r,u="horizontal"===i?"width":"height",a=n.getScaleComponent("horizontal"===i?"x":"y"),o=null!==(t=Zu("size",r,e,{vgChannel:u}))&&void 0!==t?t:e.tick.bandSize;if(void 0!==o)return o;{const n=a?a.get("range"):void 0;if(n&&qr(n)&&Object(l.G)(n.step))return 3*n.step/4;return 3*uo(e.view,u)/4}}const _p={arc:{vgMark:"arc",encodeEntry:n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Hs("x",n,{defaultPos:"mid"})),Hs("y",n,{defaultPos:"mid"})),Zs(n,"radius","arc")),Zs(n,"theta","arc"))},area:{vgMark:"area",encodeEntry:n=>Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Js("x",n,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===n.markDef.orient})),Js("y",n,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===n.markDef.orient})),lc(n))},bar:{vgMark:"rect",encodeEntry:n=>Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Zs(n,"x","bar")),Zs(n,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:n=>bp(n,"circle")},geoshape:{vgMark:"shape",encodeEntry:n=>Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:n=>{const{encoding:t}=n,e=t.shape;return[Object.assign({type:"geoshape",projection:n.projectionName()},e&&au(e)&&e.type===fi?{field:bu(e,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:n=>Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),Zs(n,"x","image")),Zs(n,"y","image")),Bs(n,"url"))},line:{vgMark:"line",encodeEntry:n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Hs("x",n,{defaultPos:"mid"})),Hs("y",n,{defaultPos:"mid"})),Ls("size",n,{vgChannel:"strokeWidth"})),lc(n))},point:{vgMark:"symbol",encodeEntry:n=>bp(n)},rect:{vgMark:"rect",encodeEntry:n=>Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Zs(n,"x","rect")),Zs(n,"y","rect"))},rule:{vgMark:"rule",encodeEntry:n=>{const{markDef:t}=n,e=t.orient;return n.encoding.x||n.encoding.y||n.encoding.latitude||n.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Js("x",n,{defaultPos:"horizontal"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==e})),Js("y",n,{defaultPos:"vertical"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==e})),Ls("size",n,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:n=>bp(n,"square")},text:{vgMark:"text",encodeEntry:n=>{const{config:t,encoding:e}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Hs("x",n,{defaultPos:"mid"})),Hs("y",n,{defaultPos:"mid"})),Bs(n)),Ls("size",n,{vgChannel:"fontSize"})),Ls("angle",n)),uc("align",function(n,t,e){if(void 0===Zu("align",n,e))return"center";return}(n.markDef,0,t))),uc("baseline",function(n,t,e){if(void 0===Zu("baseline",n,e))return"middle";return}(n.markDef,0,t))),Hs("radius",n,{defaultPos:null,isMidPoint:!0})),Hs("theta",n,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:n=>{const{config:t,markDef:e}=n,r=e.orient,i="horizontal"===r?"width":"height",l="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Hs("x",n,{defaultPos:"mid",vgChannel:"xc"})),Hs("y",n,{defaultPos:"mid",vgChannel:"yc"})),Ls("size",n,{defaultValue:xp(n),vgChannel:i})),{[l]:Vu(Zu("thickness",e,t))})}},trail:{vgMark:"trail",encodeEntry:n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rc(n,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Hs("x",n,{defaultPos:"mid"})),Hs("y",n,{defaultPos:"mid"})),Ls("size",n)),lc(n))}};function kp(n){if(k([ll,el,fl],n.mark)){const t=ga(n.mark,n.encoding);if(t.length>0)return function(n,t){return[{name:n.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+n.requestDataName(ps.Main),data:n.requestDataName(ps.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:jp(n,{fromPrefix:"faceted_path_"})}]}(n,t)}else if(k([rl],n.mark)){const t=Yr.some(t=>Zu(t,n.markDef,n.config));if(n.stack&&!n.fieldDef("size")&&t)return function(n){const[t]=jp(n,{fromPrefix:"stack_group_"}),e=n.scaleName(n.stack.fieldChannel),r=(t={})=>n.vgField(n.stack.fieldChannel,t),i=(n,t)=>`${n}(${[r({prefix:"min",suffix:"start",expr:t}),r({prefix:"max",suffix:"start",expr:t}),r({prefix:"min",suffix:"end",expr:t}),r({prefix:"max",suffix:"end",expr:t})].map(n=>`scale('${e}',${n})`).join(",")})`;let l,u;"x"===n.stack.fieldChannel?(l=Object.assign(Object.assign({},w(t.encode.update,["y","yc","y2","height",...Yr])),{x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}}),u={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update=Object.assign(Object.assign({},y(t.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(l=Object.assign(Object.assign({},w(t.encode.update,["x","xc","x2","width"])),{y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}}),u={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update=Object.assign(Object.assign({},y(t.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const e of Yr){const r=Qu(e,n.markDef,n.config);t.encode.update[e]?(l[e]=t.encode.update[e],delete t.encode.update[e]):r&&(l[e]=Vu(r)),r&&(t.encode.update[e]={value:0})}const a=n.fieldDef(n.stack.groupbyChannel),o=bu(a)?[bu(a)]:[];((null==a?void 0:a.bin)||(null==a?void 0:a.timeUnit))&&o.push(bu(a,{binSuffix:"end"}));l=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((e,r)=>{if(t.encode.update[r])return Object.assign(Object.assign({},e),{[r]:t.encode.update[r]});{const t=Qu(r,n.markDef,n.config);return void 0!==t?Object.assign(Object.assign({},e),{[r]:Vu(t)}):e}},l),l.stroke&&(l.strokeForeground={value:!0},l.strokeOffset={value:0});return[{type:"group",from:{facet:{data:n.requestDataName(ps.Main),name:"stack_group_"+n.requestDataName(ps.Main),groupby:o,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:l},marks:[{type:"group",encode:{update:u},marks:[t]}]}]}(n)}return jp(n)}function jp(n,t={fromPrefix:""}){const{mark:e,markDef:r,encoding:i,config:u}=n,a=X(r.clip,function(n){const t=n.getScaleComponent("x"),e=n.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||e&&e.get("selectionExtent"))||void 0}(n),function(n){const t=n.component.projection;return!(!t||t.isFit)||void 0}(n)),o=Ku(r),s=i.key,c=function(n){const{encoding:t,stack:e,mark:r,markDef:i,config:u}=n,a=t.order;if(!(!Object(l.B)(a)&&pu(a)&&_(a.value)||!a&&_(Zu("order",i,u)))){if((Object(l.B)(a)||au(a))&&!e)return ea(a,{expr:"datum"});if(gl(r)){const e="horizontal"===i.orient?"y":"x",r=t[e];if(au(r)){const t=r.sort;if(Object(l.B)(t))return{field:bu(r,{prefix:e,suffix:"sort_index",expr:"datum"})};if(Vl(t))return{field:bu({aggregate:ca(n.encoding)?t.op:void 0,field:t.field},{expr:"datum"})};if(Yl(t)){return{field:bu(n.fieldDef(t.encoding),{expr:"datum"}),order:t.order}}return null===t?void 0:{field:bu(r,{binSuffix:n.stack&&n.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}(n),f=function(n){if(!n.component.selection)return null;const t=B(n.component.selection).length;let e=t,r=n.parent;for(;r&&0===e;)e=B(r.component.selection).length,r=r.parent;return e?{interactive:t>0||!!n.encoding.tooltip}:null}(n),h=Zu("aria",r,u),d=_p[e].postEncodingTransform?_p[e].postEncodingTransform(n):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:n.getName("marks"),type:_p[e].vgMark},a?{clip:!0}:{}),o?{style:o}:{}),s?{key:s.field}:{}),c?{sort:c}:{}),f||{}),!1===h?{aria:h}:{}),{from:{data:t.fromPrefix+n.requestDataName(ps.Main)},encode:{update:_p[e].encodeEntry(n)}}),d?{transform:d}:{})]}class Op extends Fd{constructor(n,t,e,i={},l){super(n,"unit",t,e,l,void 0,eo(n)?n.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[];const u=wl(n.mark)?Object.assign({},n.mark):{type:n.mark},a=u.type;void 0===u.filled&&(u.filled=function(n,t,{graticule:e}){if(e)return!1;const r=Qu("filled",n,t),i=n.type;return X(r,i!==ul&&i!==ll&&i!==ol)}(u,l,{graticule:n.data&&ds(n.data)}));const o=this.encoding=ha(n.encoding||{},a,u.filled,l);this.markDef=yp(u,o,l),this.size=function({encoding:n,size:t}){for(const e of kt){const i=at(e);to(t[i])&&cu(n[e])&&(delete t[i],jr(r.stepDropped(i)))}return t}({encoding:o,size:eo(n)?Object.assign(Object.assign(Object.assign({},i),n.width?{width:n.width}:{}),n.height?{height:n.height}:{}):i}),this.stack=So(a,o),this.specifiedScales=this.initScales(a,o),this.specifiedAxes=this.initAxes(o),this.specifiedLegends=this.initLegends(o),this.specifiedProjection=n.projection,this.selection=n.selection}get hasProjection(){const{encoding:n}=this,t=this.mark===pl,e=n&&In.some(t=>hu(n[t]));return t||e}scaleDomain(n){const t=this.specifiedScales[n];return t?t.domain:void 0}axis(n){return this.specifiedAxes[n]}legend(n){return this.specifiedLegends[n]}initScales(n,t){return Rt.reduce((n,e)=>{var r;const i=Mu(t[e]);return i&&(n[e]=this.initScale(null!==(r=i.scale)&&void 0!==r?r:{})),n},{})}initScale(n){const{domain:t,range:e}=n,r=Qi(n);return Object(l.B)(t)&&(r.domain=t.map(Gu)),Object(l.B)(e)&&(r.range=e.map(Gu)),r}initAxes(n){return kt.reduce((t,e)=>{const r=n[e];if(hu(r)||e===On&&hu(n.x2)||e===An&&hu(n.y2)){const n=hu(r)?r.axis:void 0;t[e]=n?this.initAxis(Object.assign({},n)):n}return t},{})}initAxis(n){const t=B(n),e={};for(const r of t){const t=n[r];e[r]=un(t)?Wu(t):Gu(t)}return e}initLegends(n){return Pt.reduce((t,e)=>{const r=Mu(n[e]);if(r&&function(n){switch(n){case Fn:case Tn:case Nn:case zn:case Bn:case"opacity":case"strokeWidth":case"strokeDash":return!0;case"fillOpacity":case"strokeOpacity":case"angle":return!1}}(e)){const n=r.legend;t[e]=n?Qi(n):n}return t},{})}parseData(){this.component.data=op(this)}parseLayoutSize(){!function(n){const{size:t,component:e}=n;for(const r of kt){const i=at(r);if(t[i]){const n=t[i];e.layoutSize.set(i,to(n)?"step":n,!0)}else{const t=rp(n,i);e.layoutSize.set(i,t,!1)}}}(this)}parseSelections(){this.component.selection=function(n,t){var e;const r={},i=n.config.selection;for(const u of B(null!=t?t:{})){const a=v(t[u]),o=i[a.type],{fields:s,encodings:c}=o,f=Xc(o,["fields","encodings"]);for(const n in f)"encodings"===n&&a.fields||"fields"===n&&a.encodings||("mark"===n&&(a[n]=Object.assign(Object.assign({},f[n]),a[n])),void 0!==a[n]&&!0!==a[n]||(a[n]=null!==(e=f[n])&&void 0!==e?e:a[n]));const h=R(u),d=r[h]=Object.assign(Object.assign({},a),{name:h,events:Object(l.J)(a.on)?Object(Ts.a)(a.on,"scope"):v(a.on)});Ec(d,e=>{e.has(d)&&e.parse&&e.parse(n,d,a,t[u])})}return r}(this,this.selection)}parseMarkGroup(){this.component.mark=kp(this)}parseAxesAndHeaders(){var n;this.component.axes=(n=this,kt.reduce((t,e)=>(n.component.scales[e]&&(t[e]=[wp(e,n)]),t),{}))}assembleSelectionTopLevelSignals(n){return function(n,t){let e=!1;if(Hc(n,(r,i)=>{const u=r.name,a=Object(l.bb)(u+Rc);if(0===t.filter(n=>n.name===u).length){const n="global"===r.resolve?"union":r.resolve,e="multi"===r.type?", true)":")";t.push({name:r.name,update:`${Uc}(${a}, ${Object(l.bb)(n)}${e}`})}e=!0,i.topLevelSignals&&(t=i.topLevelSignals(n,r,t)),Ec(r,e=>{e.topLevelSignals&&(t=e.topLevelSignals(n,r,t))})}),e){0===t.filter(n=>"unit"===n.name).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return Mc(t)}(this,n)}assembleSignals(){return[...rf(this),...(n=this,t=[],Hc(n,(e,r)=>{const i=e.name;let u=r.modifyExpr(n,e);t.push(...r.signals(n,e)),Ec(e,r=>{r.signals&&(t=r.signals(n,e,t)),r.modifyExpr&&(u=r.modifyExpr(n,e,u))}),t.push({name:i+Lc,on:[{events:{signal:e.name+Ic},update:`modify(${Object(l.bb)(e.name+Rc)}, ${u})`}]})}),Mc(t))];var n,t}assembleSelectionData(n){return function(n,t){const e=[...t];return Hc(n,t=>{const r={name:t.name+Rc};if(t.init){const e=t.project.items.map(n=>{const{signals:t}=n;return Sc(n,["signals"])}),i=t.init.map(n=>Cc(n,!1));r.values="interval"===t.type?[{unit:Wc(n,{escape:!1}),fields:e,values:i}]:i.map(t=>({unit:Wc(n,{escape:!1}),fields:e,values:t}))}e.filter(n=>n.name===t.name+Rc).length||e.push(r)}),e}(this,n)}assembleLayout(){return null}assembleLayoutSignals(){return Mf(this)}assembleMarks(){var n;let t=null!==(n=this.component.mark)&&void 0!==n?n:[];return this.parent&&Dd(this.parent)||(t=Dc(this,t)),t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(n){return sa(this.encoding,n)}fieldDef(n){return Du(this.encoding[n])}typedFieldDef(n){const t=this.fieldDef(n);return du(t)?t:null}}class Ap extends Md{constructor(n,t,e,i,l){super(n,"layer",t,e,l,n.resolve,n.view);const u=Object.assign(Object.assign(Object.assign({},i),n.width?{width:n.width}:{}),n.height?{height:n.height}:{});this.children=n.layer.map((n,t)=>{if(_o(n))return new Ap(n,this,this.getName("layer_"+t),u,l);if(ua(n))return new Op(n,this,this.getName("layer_"+t),u,l);throw new Error(r.invalidSpec(n))})}parseData(){this.component.data=op(this);for(const n of this.children)n.parseData()}parseLayoutSize(){var n;tp(n=this),ep(n,"width"),ep(n,"height")}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const t of B(n.component.selection))this.component.selection[t]=n.component.selection[t]}}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){!function(n){var t;const{axes:e,resolve:r}=n.component,i={top:0,bottom:0,right:0,left:0};for(const t of n.children){t.parseAxesAndHeaders();for(const i of B(t.component.axes))r.axis[i]=$f(n.component.resolve,i),"shared"===r.axis[i]&&(e[i]=pp(e[i],t.component.axes[i]),e[i]||(r.axis[i]="independent",delete e[i]))}for(const l of kt){for(const u of n.children)if(u.component.axes[l]){if("independent"===r.axis[l]){e[l]=(null!==(t=e[l])&&void 0!==t?t:[]).concat(u.component.axes[l]);for(const n of u.component.axes[l]){const{value:t,explicit:e}=n.getWithExplicit("orient");if(!Ur(t)){if(i[t]>0&&!e){const e=dp[t];i[t]>i[e]&&n.set("orient",e,!1)}i[t]++}}}delete u.component.axes[l]}if("independent"===r.axis[l]&&e[l]&&e[l].length>1)for(const n of e[l])n.get("grid")&&!n.explicit.grid&&(n.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(n){return this.children.reduce((n,t)=>t.assembleSelectionTopLevelSignals(n),n)}assembleSignals(){return this.children.reduce((n,t)=>n.concat(t.assembleSignals()),rf(this))}assembleLayoutSignals(){return this.children.reduce((n,t)=>n.concat(t.assembleLayoutSignals()),Mf(this))}assembleSelectionData(n){return this.children.reduce((n,t)=>t.assembleSelectionData(n),n)}assembleTitle(){let n=super.assembleTitle();if(n)return n;for(const t of this.children)if(n=t.assembleTitle(),n)return n}assembleLayout(){return null}assembleMarks(){return function(n,t){for(const e of n.children)Ed(e)&&(t=Dc(e,t));return t}(this,this.children.flatMap(n=>n.assembleMarks()))}assembleLegends(){return this.children.reduce((n,t)=>n.concat(t.assembleLegends()),rh(this))}}function Ep(n,t,e,i,l){if(Zl(n))return new up(n,t,e,l);if(_o(n))return new Ap(n,t,e,i,l);if(ua(n))return new Op(n,t,e,i,l);if(function(n){return Qa(n)||no(n)||Za(n)}(n))return new sp(n,t,e,l);throw new Error(r.invalidSpec(n))}var Sp=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};function Cp(n,t={}){var e;t.logger&&(e=t.logger,_r=e),t.fieldTitle&&Ou(t.fieldTitle);try{const e=mo(Object(l.P)(t.config,n.config)),i=Jo(n,e),u=Ep(i,null,"",void 0,e);u.parse(),function(n,t){Vh(n.sources);let e=0,r=0;for(let r=0;r<5&&Xh(n,t,!0);r++)e++;n.sources.map(Gh);for(let e=0;e<5&&Xh(n,t,!1);e++)r++;Vh(n.sources),5===Math.max(e,r)&&jr("Maximum optimization runs(5) reached.")}(u.component.data,u);return{spec:function(n,t,e={},r){const i=n.config?bo(n.config):void 0,l=[].concat(n.assembleSelectionData([]),function(n,t){var e,r;const i=[],l=Xd(i);let u=0;for(const t of n.sources){t.hasName()||(t.dataName="source_"+u++);const n=t.assemble();l(t,n)}for(const n of i)0===n.transform.length&&delete n.transform;let a=0;for(const[n,t]of i.entries())0!==(null!==(e=t.transform)&&void 0!==e?e:[]).length||t.source||i.splice(a++,0,i.splice(n,1)[0]);for(const t of i)for(const e of null!==(r=t.transform)&&void 0!==r?r:[])"lookup"===e.type&&(e.from=n.outputNodes[e.from].getSource());for(const n of i)n.name in t&&(n.values=t[n.name]);return i}(n.component.data,e)),u=n.assembleProjections(),a=n.assembleTitle(),o=n.assembleGroupStyle(),s=n.assembleGroupEncodeEntry(!0);let c=n.assembleLayoutSignals();c=c.filter(n=>"width"!==n.name&&"height"!==n.name||void 0===n.value||(t[n.name]=+n.value,!1));const{params:f}=t,h=Sp(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},n.description?{description:n.description}:{}),h),a?{title:a}:{}),o?{style:o}:{}),s?{encode:{update:s}}:{}),{data:l}),u.length>0?{projections:u}:{}),n.assembleGroup([...c,...n.assembleSelectionTopLevelSignals([]),...Va(f)])),i?{config:i}:{}),r?{usermeta:r}:{})}(u,function(n,t,e,i){const u=i.component.layoutSize.get("width"),a=i.component.layoutSize.get("height");void 0===t?(t={type:"pad"},i.hasAxisOrientSignalRef()&&(t.resize=!0)):Object(l.J)(t)&&(t={type:t});if(u&&a&&(o=t.type,"fit"===o||"fit-x"===o||"fit-y"===o))if("step"===u&&"step"===a)jr(r.droppingFit()),t.type="pad";else if("step"===u||"step"===a){const n="step"===u?"width":"height";jr(r.droppingFit(Et(n)));const e="width"===n?"height":"width";t.type=function(n){return n?"fit-"+Et(n):"fit"}(e)}var o;return Object.assign(Object.assign(Object.assign({},1===B(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),Qo(e,!1)),Qo(n,!0))}(n,i.autosize,e,u),n.datasets,n.usermeta),normalized:i}}finally{t.logger&&kr(),t.fieldTitle&&Ou(ku)}}}]);